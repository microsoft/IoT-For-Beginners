<!--
CO_OP_TRANSLATOR_METADATA:
{
  "original_hash": "8df310a42f902139a01417dacb1ffbef",
  "translation_date": "2025-08-28T10:42:53+00:00",
  "source_file": "5-retail/lessons/1-train-stock-detector/README.md",
  "language_code": "sk"
}
-->
# Tr√©novanie detektora z√°sob

![Prehƒæad tejto lekcie v sketchnote](../../../../../translated_images/lesson-19.cf6973cecadf080c4b526310620dc4d6f5994c80fb0139c6f378cc9ca2d435cd.sk.jpg)

> Sketchnote od [Nitya Narasimhan](https://github.com/nitya). Kliknite na obr√°zok pre v√§ƒç≈°iu verziu.

Toto video poskytuje prehƒæad o detekcii objektov pomocou slu≈æby Azure Custom Vision, ktor√° bude pokryt√° v tejto lekcii.

[![Custom Vision 2 - Jednoduch√° detekcia objektov | The Xamarin Show](https://img.youtube.com/vi/wtTYSyBUpFc/0.jpg)](https://www.youtube.com/watch?v=wtTYSyBUpFc)

> üé• Kliknite na obr√°zok vy≈°≈°ie a pozrite si video

## Kv√≠z pred predn√°≈°kou

[Kv√≠z pred predn√°≈°kou](https://black-meadow-040d15503.1.azurestaticapps.net/quiz/37)

## √övod

V predch√°dzaj√∫com projekte ste pou≈æili AI na tr√©novanie klasifik√°tora obr√°zkov ‚Äì modelu, ktor√Ω dok√°≈æe urƒçi≈•, ƒçi obr√°zok obsahuje nieƒço, napr√≠klad zrel√© alebo nezrel√© ovocie. ƒéal≈°√≠m typom AI modelu, ktor√Ω sa d√° pou≈æi≈• s obr√°zkami, je detekcia objektov. Tieto modely neklasifikuj√∫ obr√°zok pomocou znaƒçiek, ale s√∫ tr√©novan√© na rozpozn√°vanie objektov a dok√°≈æu ich n√°js≈• na obr√°zkoch, priƒçom nielen zis≈•uj√∫, ≈æe objekt je pr√≠tomn√Ω, ale aj kde sa na obr√°zku nach√°dza. To umo≈æ≈àuje poƒç√≠ta≈• objekty na obr√°zkoch.

V tejto lekcii sa nauƒç√≠te o detekcii objektov, vr√°tane toho, ako ju mo≈æno pou≈æi≈• v maloobchode. Tie≈æ sa nauƒç√≠te, ako tr√©nova≈• detektor objektov v cloude.

V tejto lekcii pokryjeme:

* [Detekcia objektov](../../../../../5-retail/lessons/1-train-stock-detector)
* [Pou≈æitie detekcie objektov v maloobchode](../../../../../5-retail/lessons/1-train-stock-detector)
* [Tr√©novanie detektora objektov](../../../../../5-retail/lessons/1-train-stock-detector)
* [Testovanie v√°≈°ho detektora objektov](../../../../../5-retail/lessons/1-train-stock-detector)
* [Op√§tovn√© tr√©novanie v√°≈°ho detektora objektov](../../../../../5-retail/lessons/1-train-stock-detector)

## Detekcia objektov

Detekcia objektov zah≈ï≈àa rozpozn√°vanie objektov na obr√°zkoch pomocou AI. Na rozdiel od klasifik√°tora obr√°zkov, ktor√Ω ste tr√©novali v poslednom projekte, detekcia objektov nie je o predpovedan√≠ najlep≈°ej znaƒçky pre cel√Ω obr√°zok, ale o hƒæadan√≠ jedn√©ho alebo viacer√Ωch objektov na obr√°zku.

### Detekcia objektov vs klasifik√°cia obr√°zkov

Klasifik√°cia obr√°zkov sa zameriava na klasifik√°ciu cel√©ho obr√°zka ‚Äì ak√© s√∫ pravdepodobnosti, ≈æe cel√Ω obr√°zok zodpoved√° ka≈ædej znaƒçke. V√Ωsledkom s√∫ pravdepodobnosti pre ka≈æd√∫ znaƒçku pou≈æit√∫ na tr√©novanie modelu.

![Klasifik√°cia obr√°zkov ke≈°u orechov a paradajkov√©ho pretlaku](../../../../../translated_images/image-classifier-cashews-tomato.bc2e16ab8f05cf9ac0f59f73e32efc4227f9a5b601b90b2c60f436694547a965.sk.png)

V pr√≠klade vy≈°≈°ie s√∫ dva obr√°zky klasifikovan√© pomocou modelu tr√©novan√©ho na klasifik√°ciu n√°dobiek s ke≈°u orechmi alebo konzerv paradajkov√©ho pretlaku. Prv√Ω obr√°zok je n√°dobka s ke≈°u orechmi a m√° dva v√Ωsledky z klasifik√°tora obr√°zkov:

| Znaƒçka          | Pravdepodobnos≈• |
| ---------------- | --------------: |
| `ke≈°u orechy`    | 98,4%           |
| `paradajkov√Ω pretlak` | 1,6%       |

Druh√Ω obr√°zok je konzerva paradajkov√©ho pretlaku a v√Ωsledky s√∫:

| Znaƒçka          | Pravdepodobnos≈• |
| ---------------- | --------------: |
| `ke≈°u orechy`    | 0,7%            |
| `paradajkov√Ω pretlak` | 99,3%       |

Tieto hodnoty by ste mohli pou≈æi≈• s prahov√Ωm percentom na predpovedanie, ƒço je na obr√°zku. Ale ƒço ak obr√°zok obsahuje viac konzerv paradajkov√©ho pretlaku alebo aj ke≈°u orechy aj paradajkov√Ω pretlak? V√Ωsledky by pravdepodobne neposkytli to, ƒço chcete. Tu prich√°dza na rad detekcia objektov.

Detekcia objektov zah≈ï≈àa tr√©novanie modelu na rozpozn√°vanie objektov. Namiesto toho, aby ste mu dali obr√°zky obsahuj√∫ce objekt a povedali, ≈æe ka≈æd√Ω obr√°zok je jedna znaƒçka alebo druh√°, oznaƒç√≠te sekciu obr√°zka, ktor√° obsahuje konkr√©tny objekt, a oznaƒç√≠te ju. M√¥≈æete oznaƒçi≈• jeden objekt na obr√°zku alebo viacero. T√Ωmto sp√¥sobom sa model nauƒç√≠, ako objekt samotn√Ω vyzer√°, nielen ako vyzeraj√∫ obr√°zky, ktor√© obsahuj√∫ objekt.

Keƒè ho potom pou≈æijete na predpovedanie obr√°zkov, namiesto zoznamu znaƒçiek a percent dostanete zoznam detegovan√Ωch objektov s ich ohraniƒçuj√∫cimi r√°mƒçekmi a pravdepodobnos≈•ou, ≈æe objekt zodpoved√° priradenej znaƒçke.

> üéì *Ohraniƒçuj√∫ce r√°mƒçeky* s√∫ r√°mƒçeky okolo objektu.

![Detekcia objektov ke≈°u orechov a paradajkov√©ho pretlaku](../../../../../translated_images/object-detector-cashews-tomato.1af7c26686b4db0e709754aeb196f4e73271f54e2085db3bcccb70d4a0d84d97.sk.png)

Obr√°zok vy≈°≈°ie obsahuje n√°dobku s ke≈°u orechmi a tri konzervy paradajkov√©ho pretlaku. Detektor objektov detegoval ke≈°u orechy, priƒçom vr√°til ohraniƒçuj√∫ci r√°mƒçek, ktor√Ω obsahuje ke≈°u orechy, s percentu√°lnou pravdepodobnos≈•ou, ≈æe r√°mƒçek obsahuje objekt, v tomto pr√≠pade 97,6%. Detektor objektov tie≈æ detegoval tri konzervy paradajkov√©ho pretlaku a poskytuje tri samostatn√© ohraniƒçuj√∫ce r√°mƒçeky, jeden pre ka≈æd√∫ detegovan√∫ konzervu, priƒçom ka≈æd√Ω m√° percentu√°lnu pravdepodobnos≈•, ≈æe r√°mƒçek obsahuje konzervu paradajkov√©ho pretlaku.

‚úÖ Zamyslite sa nad r√¥znymi scen√°rmi, na ktor√© by ste mohli pou≈æi≈• modely AI zalo≈æen√© na obr√°zkoch. Ktor√© by potrebovali klasifik√°ciu a ktor√© detekciu objektov?

### Ako funguje detekcia objektov

Detekcia objektov pou≈æ√≠va zlo≈æit√© modely strojov√©ho uƒçenia. Tieto modely funguj√∫ tak, ≈æe rozdelia obr√°zok na viacero buniek a potom skontroluj√∫, ƒçi stred ohraniƒçuj√∫ceho r√°mƒçeka je stredom obr√°zka, ktor√Ω zodpoved√° jedn√©mu z obr√°zkov pou≈æit√Ωch na tr√©novanie modelu. M√¥≈æete si to predstavi≈• ako spustenie klasifik√°tora obr√°zkov na r√¥znych ƒçastiach obr√°zka, aby sa na≈°li zhody.

> üíÅ Toto je drastick√© zjednodu≈°enie. Existuje mnoho techn√≠k na detekciu objektov a viac o nich si m√¥≈æete preƒç√≠ta≈• na [str√°nke Detekcia objektov na Wikip√©dii](https://wikipedia.org/wiki/Object_detection).

Existuje mno≈æstvo r√¥znych modelov, ktor√© dok√°≈æu detekova≈• objekty. Jeden obzvl√°≈°≈• zn√°my model je [YOLO (You only look once)](https://pjreddie.com/darknet/yolo/), ktor√Ω je neuveriteƒæne r√Ωchly a dok√°≈æe detegova≈• 20 r√¥znych tried objektov, ako s√∫ ƒæudia, psy, fƒæa≈°e a aut√°.

‚úÖ Preƒç√≠tajte si o modeli YOLO na [pjreddie.com/darknet/yolo/](https://pjreddie.com/darknet/yolo/)

Modely na detekciu objektov m√¥≈æu by≈• pretr√©novan√© pomocou transferov√©ho uƒçenia na detekciu vlastn√Ωch objektov.

## Pou≈æitie detekcie objektov v maloobchode

Detekcia objektov m√° viacero vyu≈æit√≠ v maloobchode. Niektor√© zah≈ï≈àaj√∫:

* **Kontrola a poƒç√≠tanie z√°sob** ‚Äì rozpozn√°vanie, keƒè je na reg√°loch m√°lo z√°sob. Ak je z√°sob m√°lo, m√¥≈æu by≈• odoslan√© upozornenia zamestnancom alebo robotom na doplnenie reg√°lov.
* **Detekcia r√∫≈°ok** ‚Äì v obchodoch s politikou nosenia r√∫≈°ok poƒças verejn√Ωch zdravotn√Ωch udalost√≠ m√¥≈æe detekcia objektov rozpozna≈• ƒæud√≠ s r√∫≈°kami a bez nich.
* **Automatizovan√© √∫ƒçtovanie** ‚Äì detekcia polo≈æiek odobrat√Ωch z reg√°lov v automatizovan√Ωch obchodoch a spr√°vne √∫ƒçtovanie z√°kazn√≠kom.
* **Detekcia nebezpeƒçenstiev** ‚Äì rozpozn√°vanie rozbit√Ωch predmetov na podlahe alebo rozliatych tekut√≠n, upozor≈àovanie upratovac√≠ch t√≠mov.

‚úÖ Urobte si prieskum: Ak√© s√∫ ƒèal≈°ie pr√≠pady pou≈æitia detekcie objektov v maloobchode?

## Tr√©novanie detektora objektov

Detektor objektov m√¥≈æete tr√©nova≈• pomocou slu≈æby Custom Vision, podobne ako ste tr√©novali klasifik√°tor obr√°zkov.

### √öloha ‚Äì vytvorte detektor objektov

1. Vytvorte skupinu zdrojov pre tento projekt s n√°zvom `stock-detector`.

1. Vytvorte bezplatn√Ω zdroj na tr√©novanie Custom Vision a bezplatn√Ω zdroj na predikciu Custom Vision v skupine zdrojov `stock-detector`. Pomenujte ich `stock-detector-training` a `stock-detector-prediction`.

    > üíÅ M√¥≈æete ma≈• iba jeden bezplatn√Ω zdroj na tr√©novanie a predikciu, tak≈æe sa uistite, ≈æe ste vyƒçistili svoj projekt z predch√°dzaj√∫cich lekci√≠.

    > ‚ö†Ô∏è M√¥≈æete sa odvola≈• na [pokyny na vytvorenie zdrojov na tr√©novanie a predikciu z projektu 4, lekcia 1, ak je to potrebn√©](../../../4-manufacturing/lessons/1-train-fruit-detector/README.md#task---create-a-cognitive-services-resource).

1. Spustite port√°l Custom Vision na [CustomVision.ai](https://customvision.ai) a prihl√°ste sa pomocou √∫ƒçtu Microsoft, ktor√Ω ste pou≈æili pre svoj √∫ƒçet Azure.

1. Postupujte podƒæa [ƒçasti Vytvorenie nov√©ho projektu v r√Ωchlom ≈°tarte na vytvorenie detektora objektov v dokument√°cii Microsoftu](https://docs.microsoft.com/azure/cognitive-services/custom-vision-service/get-started-build-detector?WT.mc_id=academic-17441-jabenn#create-a-new-project), aby ste vytvorili nov√Ω projekt Custom Vision. Pou≈æ√≠vateƒæsk√© rozhranie sa m√¥≈æe meni≈• a tieto dokumenty s√∫ v≈ædy najaktu√°lnej≈°√≠m referenƒçn√Ωm zdrojom.

    Pomenujte svoj projekt `stock-detector`.

    Pri vytv√°ran√≠ projektu sa uistite, ≈æe pou≈æ√≠vate zdroj `stock-detector-training`, ktor√Ω ste vytvorili sk√¥r. Pou≈æite typ projektu *Object Detection* a dom√©nu *Products on Shelves*.

    ![Nastavenia projektu Custom Vision s n√°zvom nastaven√Ωm na fruit-quality-detector, bez popisu, zdroj nastaven√Ω na fruit-quality-detector-training, typ projektu nastaven√Ω na klasifik√°ciu, typy klasifik√°cie nastaven√© na multi class a dom√©ny nastaven√© na food](../../../../../translated_images/custom-vision-create-object-detector-project.32d4fb9aa8e7e7375f8a799bfce517aca970f2cb65e42d4245c5e635c734ab29.sk.png)

    ‚úÖ Dom√©na *Products on Shelves* je ≈°pecificky zameran√° na detekciu z√°sob na reg√°loch v obchodoch. Preƒç√≠tajte si viac o r√¥znych dom√©nach v [dokument√°cii o v√Ωbere dom√©ny na Microsoft Docs](https://docs.microsoft.com/azure/cognitive-services/custom-vision-service/select-domain?WT.mc_id=academic-17441-jabenn#object-detection).

‚úÖ Venujte nejak√Ω ƒças presk√∫maniu pou≈æ√≠vateƒæsk√©ho rozhrania Custom Vision pre v√°≈° detektor objektov.

### √öloha ‚Äì tr√©nujte svoj detektor objektov

Na tr√©novanie v√°≈°ho modelu budete potrebova≈• sadu obr√°zkov obsahuj√∫cich objekty, ktor√© chcete detegova≈•.

1. Zhroma≈ædite obr√°zky, ktor√© obsahuj√∫ objekt na detekciu. Budete potrebova≈• aspo≈à 15 obr√°zkov obsahuj√∫cich ka≈æd√Ω objekt na detekciu z r√¥znych uhlov a v r√¥znych sveteln√Ωch podmienkach, ale ƒç√≠m viac, t√Ωm lep≈°ie. Tento detektor objektov pou≈æ√≠va dom√©nu *Products on Shelves*, tak≈æe sa pok√∫ste nastavi≈• objekty, akoby boli na reg√°li v obchode. Budete tie≈æ potrebova≈• niekoƒæko obr√°zkov na testovanie modelu. Ak detegujete viac ako jeden objekt, budete chcie≈• niektor√© testovacie obr√°zky, ktor√© obsahuj√∫ v≈°etky objekty.

    > üíÅ Obr√°zky s viacer√Ωmi r√¥znymi objektmi sa poƒç√≠taj√∫ do minim√°lneho poƒçtu 15 obr√°zkov pre v≈°etky objekty na obr√°zku.

    Va≈°e obr√°zky by mali by≈• vo form√°te png alebo jpeg, men≈°ie ako 6 MB. Ak ich vytvor√≠te napr√≠klad pomocou iPhonu, m√¥≈æu by≈• vo vysokom rozl√≠≈°en√≠ vo form√°te HEIC, tak≈æe ich bude potrebn√© konvertova≈• a pr√≠padne zmen≈°i≈•. ƒå√≠m viac obr√°zkov, t√Ωm lep≈°ie, a mali by ste ma≈• podobn√Ω poƒçet zrel√Ωch a nezrel√Ωch.

    Model je navrhnut√Ω pre produkty na reg√°loch, tak≈æe sa pok√∫ste foti≈• objekty na reg√°loch.

    M√¥≈æete n√°js≈• niektor√© pr√≠kladov√© obr√°zky, ktor√© m√¥≈æete pou≈æi≈•, v prieƒçinku [images](../../../../../5-retail/lessons/1-train-stock-detector/images) s ke≈°u orechmi a paradajkov√Ωm pretlakom, ktor√© m√¥≈æete pou≈æi≈•.

1. Postupujte podƒæa [ƒçasti Nahra≈• a oznaƒçi≈• obr√°zky v r√Ωchlom ≈°tarte na vytvorenie detektora objektov v dokument√°cii Microsoftu](https://docs.microsoft.com/azure/cognitive-services/custom-vision-service/get-started-build-detector?WT.mc_id=academic-17441-jabenn#upload-and-tag-images), aby ste nahrali svoje tr√©novacie obr√°zky. Vytvorte relevantn√© znaƒçky v z√°vislosti od typov objektov, ktor√© chcete detegova≈•.

    ![Dial√≥gy nahr√°vania zobrazuj√∫ce nahr√°vanie obr√°zkov zrel√Ωch a nezrel√Ωch ban√°nov](../../../../../translated_images/image-upload-object-detector.77c7892c3093cb59b79018edecd678749a75d71a099bc8a2d2f2f76320f88a5b.sk.png)

    Keƒè kresl√≠te ohraniƒçuj√∫ce r√°mƒçeky pre objekty, udr≈æujte ich pekne tesn√© okolo objektu. M√¥≈æe to chv√≠ƒæu trva≈•, k√Ωm oznaƒç√≠te v≈°etky obr√°zky, ale n√°stroj deteguje, ƒço pova≈æuje za ohraniƒçuj√∫ce r√°mƒçeky, ƒço proces ur√Ωchli.

    ![Oznaƒçovanie paradajkov√©ho pretlaku](../../../../../translated_images/object-detector-tag-tomato-paste.f47c362fb0f0eb582f3bc68cf3855fb43a805106395358d41896a269c210b7b4.sk.png)

    > üíÅ Ak m√°te viac ako 15 obr√°zkov pre ka≈æd√Ω objekt, m√¥≈æete tr√©nova≈• po 15 a potom pou≈æi≈• funkciu **Suggested tags**. T√°to funkcia pou≈æije tr√©novan√Ω model na detekciu objektov na neoznaƒçen√Ωch obr√°zkoch. Potom m√¥≈æete potvrdi≈• detegovan√© objekty alebo ich odmietnu≈• a prekresli≈• ohraniƒçuj√∫ce r√°mƒçeky. To m√¥≈æe u≈°etri≈• *veƒæa* ƒçasu.

1. Postupujte podƒæa [ƒçasti Tr√©novanie detektora v r√Ωchlom ≈°tarte na vytvorenie detektora objektov v dokument√°cii Microsoftu](https://docs.microsoft.com/azure/cognitive-services/custom-vision-service/get-started-build-detector?WT.mc_id=academic-17441-jabenn#train-the-detector), aby ste tr√©novali detektor objektov na va≈°ich oznaƒçen√Ωch obr√°zkoch.

    Budete ma≈• na v√Ωber typ tr√©novania. Vyberte **Quick Training**.

Detektor objektov sa potom zaƒçne tr√©nova≈•. Tr√©novanie bude trva≈• niekoƒæko min√∫t.

## Testovanie v√°≈°ho detektora objektov

Keƒè je v√°≈° detektor objektov natr√©novan√Ω, m√¥≈æete ho otestova≈• tak, ≈æe mu poskytnete nov√© obr√°zky na detekciu objektov.

### √öloha ‚Äì otestujte svoj detektor objektov

1. Pou≈æite tlaƒçidlo **Quick Test** na nahranie testovac√≠ch obr√°zkov a overenie, ƒçi s√∫ objekty detegovan√©. Pou≈æite testovacie obr√°zky, ktor√© ste vytvorili sk√¥r, nie ≈æiadne z obr√°zkov, ktor√© ste pou≈æili na tr√©novanie.

    ![Detegovan√© 3 konzervy paradajkov√©ho pretlaku s pravdepodobnos≈•ami 38%, 35,5% a 34,6%](../../../../../translated_images/object-detector-detected-tomato-paste.52656fe87af4c37b4ee540526d63e73ed075da2e54a9a060aa528e0c562fb1b6.sk.png)

1. Vysk√∫≈°ajte v≈°etky testovacie obr√°zky, ku ktor√Ωm m√°te pr√≠stup, a pozorujte pravdepodobnosti.

## Op√§tovn√© tr√©novanie v√°≈°ho detektora objektov

Keƒè testujete svoj detektor objektov, nemus√≠ poskytova≈• oƒçak√°van√© v√Ωsledky, rovnako ako pri klasifik√°toroch obr√°zkov v predch√°dzaj√∫com projekte. Svoj detektor objektov m√¥≈æete zlep≈°i≈• jeho op√§tovn√Ωm tr√©novan√≠m s obr√°zkami, ktor√© nespr√°vne vyhodnotil.

Ka≈æd√Ωkr√°t, keƒè urob√≠te predikciu pomocou mo≈ænosti r√Ωchleho testu, obr√°zok a v√Ωsledky sa ulo≈æia. Tieto obr√°zky m√¥≈æete pou≈æi≈• na op√§tovn√© tr√©novanie modelu.

1. Pou≈æite kartu **Predictions** na
[Post-lecture quiz](https://black-meadow-040d15503.1.azurestaticapps.net/quiz/38)

## Prehƒæad a samostatn√© ≈°t√∫dium

* Keƒè ste tr√©novali svoj detektor objektov, mohli ste vidie≈• hodnoty *Precision*, *Recall* a *mAP*, ktor√© hodnotia vytvoren√Ω model. Preƒç√≠tajte si o tom, ƒço tieto hodnoty znamenaj√∫, pomocou [sekcie Vyhodnotenie detektora v r√Ωchlom n√°vode na vytvorenie detektora objektov na str√°nkach Microsoft Docs](https://docs.microsoft.com/azure/cognitive-services/custom-vision-service/get-started-build-detector?WT.mc_id=academic-17441-jabenn#evaluate-the-detector)
* Preƒç√≠tajte si viac o detekcii objektov na [str√°nke Detekcia objektov na Wikip√©dii](https://wikipedia.org/wiki/Object_detection)

## Zadanie

[Porovnajte dom√©ny](assignment.md)

---

**Upozornenie**:  
Tento dokument bol prelo≈æen√Ω pomocou slu≈æby AI prekladu [Co-op Translator](https://github.com/Azure/co-op-translator). Aj keƒè sa sna≈æ√≠me o presnos≈•, pros√≠m, berte na vedomie, ≈æe automatizovan√© preklady m√¥≈æu obsahova≈• chyby alebo nepresnosti. P√¥vodn√Ω dokument v jeho p√¥vodnom jazyku by mal by≈• pova≈æovan√Ω za autoritat√≠vny zdroj. Pre kritick√© inform√°cie sa odpor√∫ƒça profesion√°lny ƒæudsk√Ω preklad. Nenesieme zodpovednos≈• za ak√©koƒævek nedorozumenia alebo nespr√°vne interpret√°cie vypl√Ωvaj√∫ce z pou≈æitia tohto prekladu.