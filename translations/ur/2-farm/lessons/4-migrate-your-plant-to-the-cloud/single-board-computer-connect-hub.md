<!--
CO_OP_TRANSLATOR_METADATA:
{
  "original_hash": "3ac42e284a7222c0e83d2d43231a364f",
  "translation_date": "2025-08-26T22:59:53+00:00",
  "source_file": "2-farm/lessons/4-migrate-your-plant-to-the-cloud/single-board-computer-connect-hub.md",
  "language_code": "ur"
}
-->
# ุงูพู IoT ฺูุงุฆุณ ฺฉู ฺฉูุงุคฺ ุณ ุฌูฺฺบ - ูุฑฺูุฆู IoT ุงุฑฺูุฆุฑ ุงูุฑ ุฑุงุณูพุจุฑ ูพุงุฆ

ุงุณ ุณุจู ฺฉ ุงุณ ุญุต ูฺบุ ุขูพ ุงูพู ูุฑฺูุฆู IoT ฺูุงุฆุณ ุง ุฑุงุณูพุจุฑ ูพุงุฆ ฺฉู ุงูพู IoT ุจ ุณ ุฌูฺฺบ ฺฏ ุชุงฺฉ ูนูููนุฑ ุจฺพุฌ ุณฺฉฺบ ุงูุฑ ฺฉูุงูฺุฒ ูุตูู ฺฉุฑ ุณฺฉฺบ

## ุงูพู ฺูุงุฆุณ ฺฉู IoT ุจ ุณ ุฌูฺฺบ

ุงฺฏูุง ูุฑุญู   ฺฉ ุงูพู ฺูุงุฆุณ ฺฉู IoT ุจ ุณ ุฌูฺฺบ

### ฺฉุงู - IoT ุจ ุณ ุฌฺฺบ

1. VS ฺฉูฺ ูฺบ `soil-moisture-sensor` ูููฺุฑ ฺฉฺพููฺบ ุงฺฏุฑ ุขูพ ูุฑฺูุฆู IoT ฺูุงุฆุณ ุงุณุชุนูุงู ฺฉุฑ ุฑ ฺบ ุชู ูู ุจูุงุฆฺบ ฺฉ ูนุฑููู ูฺบ ูุฑฺูุฆู ูุงุญูู ฺู ุฑุง ู

1. ฺฉฺฺพ ุงุถุงู Pip ูพฺฉุฌุฒ ุงูุณูนุงู ฺฉุฑฺบ:

    ```sh
    pip3 install azure-iot-device
    ```

    `azure-iot-device` ุงฺฉ ูุงุฆุจุฑุฑ  ุฌู ุขูพ ฺฉ IoT ุจ ุณ ุจุงุช ฺุช ฺฉุฑู ฺฉ ู ุงุณุชุนูุงู ูุช 

1. ุฏุฑุฌ ุฐู ุงููพูุฑูนุณ ฺฉู `app.py` ูุงุฆู ฺฉ ุงููพุฑ ููุฌูุฏ ุงููพูุฑูนุณ ฺฉ ูฺ ุดุงูู ฺฉุฑฺบ:

    ```python
    from azure.iot.device import IoTHubDeviceClient, Message, MethodResponse
    ```

     ฺฉูฺ ุขูพ ฺฉ IoT ุจ ุณ ุจุงุช ฺุช ฺฉุฑู ฺฉ ู SDK ฺฉู ุงููพูุฑูน ฺฉุฑุชุง 

1. `import paho.mqtt.client as mqtt` ูุงุฆู ฺฉู ูนุง ุฏฺบ ฺฉููฺฉ ุงุจ ุงุณ ูุงุฆุจุฑุฑ ฺฉ ุถุฑูุฑุช ูฺบ  ุชูุงู MQTT ฺฉูฺ ฺฉู ูนุง ุฏฺบุ ุจุดููู ูนุงูพฺฉ ฺฉ ูุงูุ ู ุชูุงู ฺฉูฺ ุฌู `mqtt_client` ุงุณุชุนูุงู ฺฉุฑุชุง  ุงูุฑ `handle_command` `while True:` ูููพ ฺฉู ุจุฑูุฑุงุฑ ุฑฺฉฺพฺบุ ุจุณ ุงุณ ูููพ ุณ `mqtt_client.publish` ูุงุฆู ฺฉู ุญุฐู ฺฉุฑ ุฏฺบ

1. ุงููพูุฑูน ุงุณูนูนูููนุณ ฺฉ ูฺ ุฏุฑุฌ ุฐู ฺฉูฺ ุดุงูู ฺฉุฑฺบ:

    ```python
    connection_string = "<connection string>"
    ```

    `<connection string>` ฺฉู ุงุณ ฺฉูฺฉุดู ุงุณูนุฑูฺฏ ุณ ุชุจุฏู ฺฉุฑฺบ ุฌู ุขูพ ู ุงุณ ุณุจู ฺฉ ูพู ุญุต ูฺบ ฺูุงุฆุณ ฺฉ ู ุญุงุตู ฺฉ ุชฺพ

    > ๐  ุจุชุฑู ุนูู ูฺบ  ฺฉูฺฉุดู ุงุณูนุฑูฺฏุฒ ฺฉู ฺฉุจฺพ ุจฺพ ุณูุฑุณ ฺฉูฺ ูฺบ ูุญููุธ ูฺบ ฺฉุฑูุง ฺุงุ ฺฉููฺฉ  ุณูุฑุณ ฺฉูฺ ฺฉููนุฑูู ูฺบ ฺฺฉ ู ุณฺฉุช ฺบ ุงูุฑ ฺฉุณ ฺฉ ุฐุฑุน ุจฺพ ุฏฺฉฺพ ุฌุง ุณฺฉุช ฺบ ู ุงฺบ ุณุงุฏฺฏ ฺฉ ู ุงุณุง ฺฉุฑ ุฑ ฺบ ูุซุงู ุทูุฑ ูพุฑุ ุขูพ ฺฉู ฺฉุณ ูุงุญูู ฺฉ ูุชุบุฑ ุงูุฑ [`python-dotenv`](https://pypi.org/project/python-dotenv/) ุฌุณ ูนูู ฺฉุง ุงุณุชุนูุงู ฺฉุฑูุง ฺุง ุขูพ ุงุณ ฺฉ ุจุงุฑ ูฺบ ุงฺฉ ุขู ูุงู ุณุจู ูฺบ ูุฒุฏ ุณฺฉฺพฺบ ฺฏ

1. ุงุณ ฺฉูฺ ฺฉ ูฺุ ุฏุฑุฌ ุฐู ุดุงูู ฺฉุฑฺบ ุชุงฺฉ ุงฺฉ ฺูุงุฆุณ ฺฉูุงุฆููน ุขุจุฌฺฉูน ุจูุงุง ุฌุง ุณฺฉ ุฌู IoT ุจ ุณ ุจุงุช ฺุช ฺฉุฑ ุณฺฉุ ุงูุฑ ุงุณ ุฌูฺฺบ:

    ```python
    device_client = IoTHubDeviceClient.create_from_connection_string(connection_string)

    print('Connecting')
    device_client.connect()
    print('Connected')
    ```

1. ุงุณ ฺฉูฺ ฺฉู ฺูุงุฆฺบ ุขูพ ุฏฺฉฺพฺบ ฺฏ ฺฉ ุขูพ ฺฉุง ฺูุงุฆุณ ุฌฺ ฺฏุง 

    ```output
    pi@raspberrypi:~/soil-moisture-sensor $ python3 app.py 
    Connecting
    Connected
    Soil moisture: 379
    ```

## ูนูููนุฑ ุจฺพุฌฺบ

ุงุจ ุฌุจ ฺฉ ุขูพ ฺฉุง ฺูุงุฆุณ ุฌฺ ฺฺฉุง ุ ุขูพ MQTT ุจุฑูฺฉุฑ ฺฉ ุจุฌุงุฆ IoT ุจ ฺฉู ูนูููนุฑ ุจฺพุฌ ุณฺฉุช ฺบ

### ฺฉุงู - ูนูููนุฑ ุจฺพุฌฺบ

1. `while True` ูููพ ฺฉ ุงูุฏุฑ ุฏุฑุฌ ุฐู ฺฉูฺ ุดุงูู ฺฉุฑฺบุ ููุฏ ุณ ุจุงูฺฉู ูพู:

    ```python
    message = Message(json.dumps({ 'soil_moisture': soil_moisture }))
    device_client.send_message(message)
    ```

     ฺฉูฺ ุงฺฉ IoT ุจ `Message` ุจูุงุชุง  ุฌุณ ูฺบ ููน ฺฉ ูู ฺฉ ุฑฺูฺฏ ุงฺฉ JSON ุงุณูนุฑูฺฏ ฺฉ ุทูุฑ ูพุฑ ุดุงูู ูุช ุ ูพฺพุฑ ุงุณ IoT ุจ ฺฉู ุงฺฉ ฺูุงุฆุณ ุณ ฺฉูุงุคฺ ูุณุฌ ฺฉ ุทูุฑ ูพุฑ ุจฺพุฌุชุง 

## ฺฉูุงูฺุฒ ฺฉู ูฺู ฺฉุฑฺบ

ุขูพ ฺฉ ฺูุงุฆุณ ฺฉู ุณุฑูุฑ ฺฉูฺ ุณ ุงฺฉ ฺฉูุงูฺ ูฺู ฺฉุฑู ฺฉ ุถุฑูุฑุช  ุชุงฺฉ ุฑู ฺฉู ฺฉููนุฑูู ฺฉุง ุฌุง ุณฺฉ  ุงฺฉ ฺุงุฆุฑฺฉูน ูุชฺพฺ ุฑฺฉูุณูน ฺฉ ุทูุฑ ูพุฑ ุจฺพุฌุง ุฌุงุชุง 

## ฺฉุงู - ุงฺฉ ฺุงุฆุฑฺฉูน ูุชฺพฺ ุฑฺฉูุณูน ฺฉู ูฺู ฺฉุฑฺบ

1. `while True` ูููพ ุณ ูพู ุฏุฑุฌ ุฐู ฺฉูฺ ุดุงูู ฺฉุฑฺบ:

    ```python
    def handle_method_request(request):
        print("Direct method received - ", request.name)
    
        if request.name == "relay_on":
            relay.on()
        elif request.name == "relay_off":
            relay.off()    
    ```

     ุงฺฉ ูุชฺพฺุ `handle_method_request`ุ ฺฉู ฺูุงุฆู ฺฉุฑุชุง  ุฌู ุงุณ ููุช ฺฉุงู ฺฉุง ุฌุงุฆ ฺฏุง ุฌุจ IoT ุจ ฺฉ ุทุฑู ุณ ุงฺฉ ฺุงุฆุฑฺฉูน ูุชฺพฺ ฺฉุงู ฺฉุง ุฌุงุฆ ฺฏุง ุฑ ฺุงุฆุฑฺฉูน ูุชฺพฺ ฺฉุง ุงฺฉ ูุงู ูุชุง ุ ุงูุฑ  ฺฉูฺ ุงฺฉ ูุชฺพฺ ฺฉ ุชููุน ฺฉุฑุชุง  ุฌุณ `relay_on` ฺฉุง ุฌุงุชุง  ุชุงฺฉ ุฑู ฺฉู ุขู ฺฉุฑุ ุงูุฑ `relay_off` ุชุงฺฉ ุฑู ฺฉู ุขู ฺฉุฑ

    > ๐  ุงฺฉ  ฺุงุฆุฑฺฉูน ูุชฺพฺ ุฑฺฉูุณูน ูฺบ ุจฺพ ูุงูุฐ ฺฉุง ุฌุง ุณฺฉุชุง ุ ุฌุณ ูฺบ ุฑู ฺฉ ูุทููุจ ุญุงูุช ฺฉู ุงฺฉ ูพ ููฺ ูฺบ ูพุงุณ ฺฉุง ุฌุง ุณฺฉุชุง  ุฌู ูุชฺพฺ ุฑฺฉูุณูน ฺฉ ุณุงุชฺพ ูพุงุณ ฺฉุง ุฌุง ุณฺฉุชุง  ุงูุฑ `request` ุขุจุฌฺฉูน ุณ ุฏุณุชุงุจ ู ุณฺฉุชุง 

1. ฺุงุฆุฑฺฉูน ูุชฺพฺุฒ ฺฉู ุงฺฉ ุฑุณูพุงูุณ ฺฉ ุถุฑูุฑุช ูุช  ุชุงฺฉ ฺฉุงู ฺฉุฑู ูุงู ฺฉูฺ ฺฉู ุจุชุงุง ุฌุง ุณฺฉ ฺฉ ุงูฺบ ูฺู ฺฉุฑ ูุง ฺฏุง  `handle_method_request` ููฺฉุดู ฺฉ ุขุฎุฑ ูฺบ ุฏุฑุฌ ุฐู ฺฉูฺ ุดุงูู ฺฉุฑฺบ ุชุงฺฉ ุฑฺฉูุณูน ฺฉุง ุฑุณูพุงูุณ ุจูุงุง ุฌุง ุณฺฉ:

    ```python
    method_response = MethodResponse.create_from_method_request(request, 200)
    device_client.send_method_response(method_response)
    ```

     ฺฉูฺ ฺุงุฆุฑฺฉูน ูุชฺพฺ ุฑฺฉูุณูน ฺฉุง ุฑุณูพุงูุณ ุจฺพุฌุชุง  ุฌุณ ูฺบ HTTP ุงุณูนูนุณ ฺฉูฺ 200 ูุชุง ุ ุงูุฑ ุงุณ IoT ุจ ฺฉู ูุงูพุณ ุจฺพุฌุชุง 

1. ุงุณ ููฺฉุดู ฺฉ ุชุนุฑู ฺฉ ูฺ ุฏุฑุฌ ุฐู ฺฉูฺ ุดุงูู ฺฉุฑฺบ:

    ```python
    device_client.on_method_request_received = handle_method_request
    ```

     ฺฉูฺ IoT ุจ ฺฉูุงุฆููน ฺฉู ุจุชุงุชุง  ฺฉ ุฌุจ ุงฺฉ ฺุงุฆุฑฺฉูน ูุชฺพฺ ฺฉุงู ฺฉุง ุฌุงุฆ ุชู `handle_method_request` ููฺฉุดู ฺฉู ฺฉุงู ฺฉุฑฺบ

> ๐ ุขูพ ุงุณ ฺฉูฺ ฺฉู [code/pi](../../../../../2-farm/lessons/4-migrate-your-plant-to-the-cloud/code/pi) ุง [code/virtual-device](../../../../../2-farm/lessons/4-migrate-your-plant-to-the-cloud/code/virtual-device) ูููฺุฑ ูฺบ ุชูุงุด ฺฉุฑ ุณฺฉุช ฺบ

๐ ุขูพ ฺฉุง ููน ฺฉ ูู ฺฉุง ุณูุณุฑ ูพุฑูฺฏุฑุงู ุขูพ ฺฉ IoT ุจ ุณ ุฌฺ ฺฺฉุง !

---

**ฺุณฺฉููุฑ**:  
 ุฏุณุชุงูุฒ AI ุชุฑุฌู ุณุฑูุณ [Co-op Translator](https://github.com/Azure/co-op-translator) ฺฉุง ุงุณุชุนูุงู ฺฉุฑุช ูุฆ ุชุฑุฌู ฺฉ ฺฏุฆ  ู ุฏุฑุณุชฺฏ ฺฉ ู ฺฉูุดุด ฺฉุฑุช ฺบุ ูฺฉู ุจุฑุง ฺฉุฑู ุขฺฏุง ุฑฺบ ฺฉ ุฎูุฏฺฉุงุฑ ุชุฑุฌู ูฺบ ุบูุทุงฺบ ุง ุบุฑ ุฏุฑุณุชุงฺบ ู ุณฺฉุช ฺบ ุงุตู ุฏุณุชุงูุฒ ฺฉู ุงุณ ฺฉ ุงุตู ุฒุจุงู ูฺบ ูุณุชูุฏ ุฐุฑุน ุณูุฌฺพุง ุฌุงูุง ฺุง ุงู ูุนูููุงุช ฺฉ ูุ ูพุด ูุฑ ุงูุณุงู ุชุฑุฌู ฺฉ ุณูุงุฑุด ฺฉ ุฌุงุช  ู ุงุณ ุชุฑุฌู ฺฉ ุงุณุชุนูุงู ุณ ูพุฏุง ูู ูุงู ฺฉุณ ุจฺพ ุบูุท ูู ุง ุบูุท ุชุดุฑุญ ฺฉ ุฐู ุฏุงุฑ ูฺบ ฺบ