<!--
CO_OP_TRANSLATOR_METADATA:
{
  "original_hash": "a202fa5889790a3777bfc33dd9f4b459",
  "translation_date": "2025-08-27T00:15:37+00:00",
  "source_file": "6-consumer/lessons/3-spoken-feedback/wio-terminal-text-to-speech.md",
  "language_code": "ur"
}
-->
# ูุงุฆู ูนุฑููู - ูุชู ฺฉู ุขูุงุฒ ูฺบ ุชุจุฏู ฺฉุฑฺบ

ุงุณ ุณุจู ฺฉ ุงุณ ุญุต ูฺบุ ุขูพ ูุชู ฺฉู ุขูุงุฒ ูฺบ ุชุจุฏู ฺฉุฑฺบ ฺฏ ุชุงฺฉ ุจูู ุฌุงู ูุงู ุฑุงุฆ ูุฑุงู ฺฉ ุฌุง ุณฺฉ

## ูุชู ฺฉู ุขูุงุฒ ูฺบ ุชุจุฏู ฺฉุฑฺบ

ูพฺฺพู ุณุจู ูฺบ ุงุณุชุนูุงู ฺฉุฑุฏ ุงุณูพฺฉ ุณุฑูุณุฒ SDKุ ุฌู ุขูุงุฒ ฺฉู ูุชู ูฺบ ุชุจุฏู ฺฉุฑุชุง ุ ูุชู ฺฉู ุฏูุจุงุฑ ุขูุงุฒ ูฺบ ุชุจุฏู ฺฉุฑู ฺฉ ู ุจฺพ ุงุณุชุนูุงู ฺฉุง ุฌุง ุณฺฉุชุง 

## ุขูุงุฒูฺบ ฺฉ ูุฑุณุช ุญุงุตู ฺฉุฑฺบ

ุฌุจ ุขูุงุฒ ฺฉ ุฏุฑุฎูุงุณุช ฺฉ ุฌุงุช ุ ุชู ุขูพ ฺฉู ุงุณุชุนูุงู ฺฉุฑู ฺฉ ู ุขูุงุฒ ูุฑุงู ฺฉุฑู ูฺฏ ฺฉููฺฉ ูุฎุชูู ุขูุงุฒูฺบ ฺฉ ุฐุฑุน ุขูุงุฒ ูพุฏุง ฺฉ ุฌุง ุณฺฉุช  ุฑ ุฒุจุงู ูุฎุชูู ุขูุงุฒูฺบ ฺฉ ุงฺฉ ุฑูุฌ ฺฉู ุณูพูุฑูน ฺฉุฑุช ุ ุงูุฑ ุขูพ ุงุณูพฺฉ ุณุฑูุณุฒ SDK ุณ ุฑ ุฒุจุงู ฺฉ ู ุณูพูุฑูน ุดุฏ ุขูุงุฒูฺบ ฺฉ ูุฑุณุช ุญุงุตู ฺฉุฑ ุณฺฉุช ฺบ ุงฺบ ูุงุฆฺฉุฑู ฺฉููนุฑููุฑุฒ ฺฉ ุญุฏูุฏ ุณุงูู ุขุช ฺบ - ูุชู ฺฉู ุขูุงุฒ ูฺบ ุชุจุฏู ฺฉุฑู ฺฉ ุฎุฏูุงุช ฺฉ ุฐุฑุน ุณูพูุฑูน ุดุฏ ุขูุงุฒูฺบ ฺฉ ูุฑุณุช ุญุงุตู ฺฉุฑู ฺฉ ู ฺฉุงู ุงฺฉ JSON ุฏุณุชุงูุฒ  ุฌู 77KB ุณ ุฒุงุฏ ุ ุฌู ูุงุฆู ูนุฑููู ฺฉ ุฐุฑุน ูพุฑูุณุณ ฺฉุฑู ฺฉ ู ุจุช ุจฺ  ุงุณ ููุชุ ูฺฉูู ูุฑุณุช ูฺบ 215 ุขูุงุฒฺบ ุดุงูู ฺบุ ุฑ ุงฺฉ ฺฉู ุงฺฉ JSON ุฏุณุชุงูุฒ ฺฉ ุฐุฑุน ุจุงู ฺฉุง ฺฏุง  ุฌุณ ฺฉ ุฏุฑุฌ ุฐู:

```json
{
    "Name": "Microsoft Server Speech Text to Speech Voice (en-US, AriaNeural)",
    "DisplayName": "Aria",
    "LocalName": "Aria",
    "ShortName": "en-US-AriaNeural",
    "Gender": "Female",
    "Locale": "en-US",
    "StyleList": [
        "chat",
        "customerservice",
        "narration-professional",
        "newscast-casual",
        "newscast-formal",
        "cheerful",
        "empathetic"
    ],
    "SampleRateHertz": "24000",
    "VoiceType": "Neural",
    "Status": "GA"
}
```

 JSON **Aria** ุขูุงุฒ ฺฉ ู ุ ุฌุณ ฺฉ ูพุงุณ ูุชุนุฏุฏ ุขูุงุฒ ฺฉ ุงูุฏุงุฒ ฺบ ูุชู ฺฉู ุขูุงุฒ ูฺบ ุชุจุฏู ฺฉุฑุช ููุช ุตุฑู `en-US-AriaNeural` ุฌุณ shortname ฺฉ ุถุฑูุฑุช ูุช 

ูพูุฑ ูุฑุณุช ฺฉู ูุงุฆฺฉุฑู ฺฉููนุฑููุฑ ูพุฑ ฺุงุคู ููฺ ุงูุฑ ฺ ฺฉูฺ ฺฉุฑู ฺฉ ุจุฌุงุฆุ ุขูพ ฺฉู ฺฉฺฺพ ูุฒุฏ ุณุฑูุฑ ูุณ ฺฉูฺ ูฺฉฺพู ฺฉ ุถุฑูุฑุช ูฺฏ ุชุงฺฉ ุขูพ ฺฉ ุฒุจุงู ฺฉ ู ุขูุงุฒูฺบ ฺฉ ูุฑุณุช ุญุงุตู ฺฉ ุฌุง ุณฺฉุ ุงูุฑ ุงุณ ูุงุฆู ูนุฑููู ุณ ฺฉุงู ฺฉุฑฺบ ุขูพ ฺฉุง ฺฉูฺ ูพฺพุฑ ูุฑุณุช ุณ ููุงุณุจ ุขูุงุฒ ููุชุฎุจ ฺฉุฑ ุณฺฉุชุง ุ ุฌุณ ฺฉ ูพู ุขูุงุฒ ุฌู ุงุณ ููุช 

### ฺฉุงู - ุขูุงุฒูฺบ ฺฉ ูุฑุณุช ุญุงุตู ฺฉุฑู ฺฉ ู ุณุฑูุฑ ูุณ ููฺฉุดู ุจูุงุฆฺบ

1. ุงูพู `smart-timer-trigger` ูพุฑูุฌฺฉูน ฺฉู VS ฺฉูฺ ูฺบ ฺฉฺพููฺบุ ุงูุฑ ูนุฑููู ฺฉฺพููฺบุ  ูู ุจูุงุช ูุฆ ฺฉ ูุฑฺูุฆู ูุงุญูู ูุนุงู  ุงฺฏุฑ ูฺบุ ุชู ูนุฑููู ฺฉู ุฎุชู ฺฉุฑฺบ ุงูุฑ ุฏูุจุงุฑ ุจูุงุฆฺบ

1. `local.settings.json` ูุงุฆู ฺฉฺพููฺบ ุงูุฑ ุงุณูพฺฉ API ฺฉูุฏ ุงูุฑ ููุงู ฺฉ ู ุณูนูฺฏุฒ ุดุงูู ฺฉุฑฺบ:

    ```json
    "SPEECH_KEY": "<key>",
    "SPEECH_LOCATION": "<location>"
    ```

    `<key>` ฺฉู ุงูพู ุงุณูพฺฉ ุณุฑูุณ ุฑุณูุฑุณ ฺฉ API ฺฉูุฏ ุณ ุชุจุฏู ฺฉุฑฺบ `<location>` ฺฉู ุงุณ ููุงู ุณ ุชุจุฏู ฺฉุฑฺบ ุฌู ุขูพ ู ุงุณูพฺฉ ุณุฑูุณ ุฑุณูุฑุณ ุจูุงุช ููุช ุงุณุชุนูุงู ฺฉุง ุชฺพุง

1. ุงุณ ุงูพ ูฺบ ุงฺฉ ูุง HTTP ูนุฑฺฏุฑ ุดุงูู ฺฉุฑฺบ ุฌุณ `get-voices` ฺฉุง ุฌุงุชุง ุ ุฏุฑุฌ ุฐู ฺฉูุงูฺ ฺฉู VS ฺฉูฺ ูนุฑููู ูฺบ ููฺฉุดูุฒ ุงูพ ูพุฑูุฌฺฉูน ฺฉ ุฑููน ูููฺุฑ ฺฉ ุงูุฏุฑ ุงุณุชุนูุงู ฺฉุฑฺบ:

    ```sh
    func new --name get-voices --template "HTTP trigger"
    ```

     ุงฺฉ HTTP ูนุฑฺฏุฑ ุจูุงุฆ ฺฏุง ุฌุณ `get-voices` ฺฉุง ุฌุงุชุง 

1. `get-voices` ูููฺุฑ ูฺบ `__init__.py` ูุงุฆู ฺฉ ููุงุฏ ฺฉู ุฏุฑุฌ ุฐู ุณ ุชุจุฏู ฺฉุฑฺบ:

    ```python
    import json
    import os
    import requests
    
    import azure.functions as func
    
    def main(req: func.HttpRequest) -> func.HttpResponse:
        location = os.environ['SPEECH_LOCATION']
        speech_key = os.environ['SPEECH_KEY']
    
        req_body = req.get_json()
        language = req_body['language']
    
        url = f'https://{location}.tts.speech.microsoft.com/cognitiveservices/voices/list'
    
        headers = {
            'Ocp-Apim-Subscription-Key': speech_key
        }
    
        response = requests.get(url, headers=headers)
        voices_json = json.loads(response.text)
    
        voices = filter(lambda x: x['Locale'].lower() == language.lower(), voices_json)
        voices = map(lambda x: x['ShortName'], voices)
    
        return func.HttpResponse(json.dumps(list(voices)), status_code=200)
    ```

     ฺฉูฺ ุงุณูพฺฉ ุณุฑูุณุฒ ฺฉ ุงูฺ ูพูุงุฆููน ูพุฑ ุขูุงุฒูฺบ ฺฉ ูุฑุณุช ุญุงุตู ฺฉุฑู ฺฉ ู HTTP ุฏุฑุฎูุงุณุช ฺฉุฑุชุง   ุขูุงุฒูฺบ ฺฉ ูุฑุณุช ุชูุงู ุฒุจุงููฺบ ฺฉ ู ุงฺฉ ุจฺุง JSON ุจูุงฺฉ ุ ูุฐุง ุฏุฑุฎูุงุณุช ฺฉ ุฌุณู ูฺบ ุฏ ฺฏุฆ ุฒุจุงู ฺฉ ู ุขูุงุฒูฺบ ฺฉู ูููนุฑ ฺฉุง ุฌุงุชุง ุ ูพฺพุฑ shortname ูฺฉุงูุง ุฌุงุชุง  ุงูุฑ JSON ูุฑุณุช ฺฉ ุทูุฑ ูพุฑ ูุงูพุณ ฺฉุง ุฌุงุชุง  shortname ู ูุฏุฑ  ุฌู ูุชู ฺฉู ุขูุงุฒ ูฺบ ุชุจุฏู ฺฉุฑู ฺฉ ู ุถุฑูุฑ ุ ูุฐุง ุตุฑู  ูุฏุฑ ูุงูพุณ ฺฉ ุฌุงุช 

    > ๐ ุขูพ ูููนุฑ ฺฉู ุงูพู ุถุฑูุฑุช ฺฉ ูุทุงุจู ุชุจุฏู ฺฉุฑ ุณฺฉุช ฺบ ุชุงฺฉ ุตุฑู ู ุขูุงุฒฺบ ููุชุฎุจ ฺฉุฑฺบ ุฌู ุขูพ ฺุงุช ฺบ

     ฺูนุง ฺฉ ุณุงุฆุฒ ฺฉู 77KB (ูฺฉฺพู ฺฉ ููุช) ุณ ุงฺฉ ฺฺพููน JSON ุฏุณุชุงูุฒ ูฺบ ฺฉู ฺฉุฑ ุฏุชุง  ูุซุงู ฺฉ ุทูุฑ ูพุฑุ ุงูุฑฺฉ ุขูุงุฒูฺบ ฺฉ ู  408 ุจุงุฆูนุณ 

1. ุงูพู ููฺฉุดู ุงูพ ฺฉู ููุงู ุทูุฑ ูพุฑ ฺูุงุฆฺบ ุขูพ ุงุณ curl ุฌุณ ูนูู ฺฉุง ุงุณุชุนูุงู ฺฉุฑุช ูุฆ ุงุณ ุทุฑุญ ฺฉุงู ฺฉุฑ ุณฺฉุช ฺบ ุฌุณ ุขูพ ู ุงูพู `text-to-timer` HTTP ูนุฑฺฏุฑ ฺฉู ูนุณูน ฺฉุง ุชฺพุง ุงูพู ุฒุจุงู ฺฉู JSON ุฌุณู ฺฉ ุทูุฑ ูพุฑ ูพุงุณ ฺฉุฑูุง ูู ุจูุงุฆฺบ:

    ```json
    {
        "language":"<language>"
    }
    ```

    `<language>` ฺฉู ุงูพู ุฒุจุงู ุณ ุชุจุฏู ฺฉุฑฺบุ ุฌุณ `en-GB` ุง `zh-CN`

> ๐ ุขูพ ุงุณ ฺฉูฺ ฺฉู [code-spoken-response/functions](../../../../../6-consumer/lessons/3-spoken-feedback/code-spoken-response/functions) ูููฺุฑ ูฺบ ุชูุงุด ฺฉุฑ ุณฺฉุช ฺบ

### ฺฉุงู - ูุงุฆู ูนุฑููู ุณ ุขูุงุฒ ุญุงุตู ฺฉุฑฺบ

1. ุงฺฏุฑ `smart-timer` ูพุฑูุฌฺฉูน ูพู ุณ ฺฉฺพูุง ูฺบ  ุชู ุงุณ VS ฺฉูฺ ูฺบ ฺฉฺพููฺบ

1. `config.h` ฺุฑ ูุงุฆู ฺฉฺพููฺบ ุงูุฑ ุงูพู ููฺฉุดู ุงูพ ฺฉ ู URL ุดุงูู ฺฉุฑฺบ:

    ```cpp
    const char *GET_VOICES_FUNCTION_URL = "<URL>";
    ```

    `<URL>` ฺฉู ุงูพู ููฺฉุดู ุงูพ ฺฉ `get-voices` HTTP ูนุฑฺฏุฑ ฺฉ URL ุณ ุชุจุฏู ฺฉุฑฺบ  `TEXT_TO_TIMER_FUNCTION_URL` ฺฉ ูุฏุฑ ุฌุณุง  ูฺฏุงุ ุณูุงุฆ ููฺฉุดู ฺฉ ูุงู `get-voices` ฺฉ ุจุฌุงุฆ `text-to-timer`

1. `src` ูููฺุฑ ูฺบ ุงฺฉ ูุฆ ูุงุฆู ุจูุงุฆฺบ ุฌุณ `text_to_speech.h` ฺฉุง ุฌุงุชุง   ูุชู ฺฉู ุขูุงุฒ ูฺบ ุชุจุฏู ฺฉุฑู ฺฉ ู ุงฺฉ ฺฉูุงุณ ฺฉู ฺูุงุฆู ฺฉุฑู ฺฉ ู ุงุณุชุนูุงู ฺฉ ุฌุงุฆ ฺฏ

1. ูุฆ `text_to_speech.h` ูุงุฆู ฺฉ ุงููพุฑ ุฏุฑุฌ ุฐู ุดุงูู ฺฉุฑฺบ:

    ```cpp
    #pragma once

    #include <Arduino.h>
    #include <ArduinoJson.h>
    #include <HTTPClient.h>
    #include <Seeed_FS.h>
    #include <SD/Seeed_SD.h>
    #include <WiFiClient.h>
    #include <WiFiClientSecure.h>
    
    #include "config.h"
    #include "speech_to_text.h"
    ```

1. ุงุณ ฺฉ ูฺ ุฏุฑุฌ ุฐู ฺฉูฺ ุดุงูู ฺฉุฑฺบ ุชุงฺฉ `TextToSpeech` ฺฉูุงุณ ฺฉู ฺูุงุฆู ฺฉุง ุฌุง ุณฺฉุ ุณุงุชฺพ  ุงฺฉ ุงูุณูนูุณ ุฌู ุงูพูฺฉุดู ฺฉ ุจุงู ุญุต ูฺบ ุงุณุชุนูุงู ฺฉุง ุฌุง ุณฺฉุชุง :

    ```cpp
    class TextToSpeech
    {
    public:
    private:
    };
    
    TextToSpeech textToSpeech;
    ```

1. ุงูพู ููฺฉุดู ุงูพ ฺฉู ฺฉุงู ฺฉุฑู ฺฉ ูุ ุขูพ ฺฉู ุงฺฉ WiFi ฺฉูุงุฆููน ฺูุงุฆู ฺฉุฑูุง ูฺฏุง ฺฉูุงุณ ฺฉ `private` ุณฺฉุดู ูฺบ ุฏุฑุฌ ุฐู ุดุงูู ฺฉุฑฺบ:

    ```cpp
    WiFiClient _client;
    ```

1. `private` ุณฺฉุดู ูฺบุ ููุชุฎุจ ฺฉุฑุฏ ุขูุงุฒ ฺฉ ู ุงฺฉ ููฺ ุดุงูู ฺฉุฑฺบ:

    ```cpp
    String _voice;
    ```

1. `public` ุณฺฉุดู ูฺบ ุงฺฉ `init` ููฺฉุดู ุดุงูู ฺฉุฑฺบ ุฌู ูพู ุขูุงุฒ ุญุงุตู ฺฉุฑ ฺฏุง:

    ```cpp
    void init()
    {
    }
    ```

1. ุขูุงุฒูฺบ ฺฉู ุญุงุตู ฺฉุฑู ฺฉ ูุ ุงฺฉ JSON ุฏุณุชุงูุฒ ฺฉู ุฒุจุงู ฺฉ ุณุงุชฺพ ููฺฉุดู ุงูพ ูพุฑ ุจฺพุฌู ฺฉ ุถุฑูุฑุช  `init` ููฺฉุดู ูฺบ ุฏุฑุฌ ุฐู ฺฉูฺ ุดุงูู ฺฉุฑฺบ ุชุงฺฉ  JSON ุฏุณุชุงูุฒ ุจูุงุฆ ุฌุง ุณฺฉ:

    ```cpp
    DynamicJsonDocument doc(1024);
    doc["language"] = LANGUAGE;

    String body;
    serializeJson(doc, body);
    ```

1. ุงุณ ฺฉ ุจุนุฏ ุงฺฉ `HTTPClient` ุจูุงุฆฺบุ ูพฺพุฑ ุงุณ ุขูุงุฒูฺบ ฺฉู ุญุงุตู ฺฉุฑู ฺฉ ู ููฺฉุดู ุงูพ ฺฉู ฺฉุงู ฺฉุฑู ฺฉ ู ุงุณุชุนูุงู ฺฉุฑฺบุ JSON ุฏุณุชุงูุฒ ฺฉู ูพูุณูน ฺฉุฑุช ูุฆ:

    ```cpp
    HTTPClient httpClient;
    httpClient.begin(_client, GET_VOICES_FUNCTION_URL);

    int httpResponseCode = httpClient.POST(body);
    ```

1. ุงุณ ฺฉ ูฺ ฺฉูฺ ุดุงูู ฺฉุฑฺบ ุชุงฺฉ ุฑุณูพุงูุณ ฺฉู ฺฺฉ ฺฉุง ุฌุง ุณฺฉุ ุงูุฑ ุงฺฏุฑ  200 (ฺฉุงูุงุจ) ุ ุชู ุขูุงุฒูฺบ ฺฉ ูุฑุณุช ูฺฉุงูฺบุ ูุฑุณุช ุณ ูพู ุขูุงุฒ ุญุงุตู ฺฉุฑฺบ:

    ```cpp
    if (httpResponseCode == 200)
    {
        String result = httpClient.getString();
        Serial.println(result);

        DynamicJsonDocument doc(1024);
        deserializeJson(doc, result.c_str());

        JsonArray obj = doc.as<JsonArray>();
        _voice = obj[0].as<String>();

        Serial.print("Using voice ");
        Serial.println(_voice);
    }
    else
    {
        Serial.print("Failed to get voices - error ");
        Serial.println(httpResponseCode);
    }
    ```

1. ุงุณ ฺฉ ุจุนุฏุ HTTP ฺฉูุงุฆููน ฺฉูฺฉุดู ุฎุชู ฺฉุฑฺบ:

    ```cpp
    httpClient.end();
    ```

1. `main.cpp` ูุงุฆู ฺฉฺพููฺบุ ุงูุฑ ุงุณ ูุฆ ฺุฑ ูุงุฆู ฺฉู ุดุงูู ฺฉุฑู ฺฉ ู ุงููพุฑ ุฏุฑุฌ ุฐู ุดุงูู ฺฉุฑฺบ:

    ```cpp
    #include "text_to_speech.h"
    ```

1. `setup` ููฺฉุดู ูฺบุ `speechToText.init();` ฺฉุงู ฺฉ ูฺ ุฏุฑุฌ ุฐู ุดุงูู ฺฉุฑฺบ ุชุงฺฉ `TextToSpeech` ฺฉูุงุณ ฺฉู ุงูุดูุงุฆุฒ ฺฉุง ุฌุง ุณฺฉ:

    ```cpp
    textToSpeech.init();
    ```

1. ุงุณ ฺฉูฺ ฺฉู ุจูุงุฆฺบุ ุงุณ ุงูพู ูุงุฆู ูนุฑููู ูพุฑ ุงูพ ููฺ ฺฉุฑฺบ ุงูุฑ ุณุฑู ูุงููนุฑ ฺฉ ุฐุฑุน ูนุณูน ฺฉุฑฺบ ูู ุจูุงุฆฺบ ฺฉ ุขูพ ฺฉ ููฺฉุดู ุงูพ ฺู ุฑ 

    ุขูพ ฺฉู ููฺฉุดู ุงูพ ุณ ุฏุณุชุงุจ ุขูุงุฒูฺบ ฺฉ ูุฑุณุช ูุงูพุณ ุขุช ูุฆ ูุธุฑ ุขุฆ ฺฏุ ุณุงุชฺพ  ููุชุฎุจ ฺฉุฑุฏ ุขูุงุฒ

    ```output
    --- Available filters and text transformations: colorize, debug, default, direct, hexlify, log2file, nocontrol, printable, send_on_enter, time
    --- More details at http://bit.ly/pio-monitor-filters
    --- Miniterm on /dev/cu.usbmodem1101  9600,8,N,1 ---
    --- Quit: Ctrl+C | Menu: Ctrl+T | Help: Ctrl+T followed by Ctrl+H ---
    Connecting to WiFi..
    Connected!
    Got access token.
    ["en-US-JennyNeural", "en-US-JennyMultilingualNeural", "en-US-GuyNeural", "en-US-AriaNeural", "en-US-AmberNeural", "en-US-AnaNeural", "en-US-AshleyNeural", "en-US-BrandonNeural", "en-US-ChristopherNeural", "en-US-CoraNeural", "en-US-ElizabethNeural", "en-US-EricNeural", "en-US-JacobNeural", "en-US-MichelleNeural", "en-US-MonicaNeural", "en-US-AriaRUS", "en-US-BenjaminRUS", "en-US-GuyRUS", "en-US-ZiraRUS"]
    Using voice en-US-JennyNeural
    Ready.
    ```

## ูุชู ฺฉู ุขูุงุฒ ูฺบ ุชุจุฏู ฺฉุฑฺบ

ุงฺฉ ุจุงุฑ ุฌุจ ุขูพ ฺฉ ูพุงุณ ุงุณุชุนูุงู ฺฉุฑู ฺฉ ู ุขูุงุฒ ูุ ุชู ุงุณ ูุชู ฺฉู ุขูุงุฒ ูฺบ ุชุจุฏู ฺฉุฑู ฺฉ ู ุงุณุชุนูุงู ฺฉุง ุฌุง ุณฺฉุชุง  ุขูุงุฒ ฺฉู ูุชู ูฺบ ุชุจุฏู ฺฉุฑู ฺฉ ุณุงุชฺพ ู ูููุฑ ฺฉ ุญุฏูุฏ ุขูุงุฒ ฺฉู ูุชู ูฺบ ุชุจุฏู ฺฉุฑู ูพุฑ ุจฺพ ูุงฺฏู ูุช ฺบุ ูุฐุง ุขูพ ฺฉู ุขูุงุฒ ฺฉู SD ฺฉุงุฑฺ ูพุฑ ูุญููุธ ฺฉุฑู ฺฉ ุถุฑูุฑุช ูฺฏ ุชุงฺฉ ุงุณ ReSpeaker ูพุฑ ฺูุงุง ุฌุง ุณฺฉ

> ๐ ุงุณ ูพุฑูุฌฺฉูน ฺฉ ูพู ุงุณุจุงู ูฺบ ุขูพ ู ูุงุฆฺฉุฑูููู ุณ ุญุงุตู ฺฉุฑุฏ ุขูุงุฒ ฺฉู ูุญููุธ ฺฉุฑู ฺฉ ู ููุด ูููุฑ ฺฉุง ุงุณุชุนูุงู ฺฉุง  ุณุจู SD ฺฉุงุฑฺ ุงุณุชุนูุงู ฺฉุฑุชุง  ฺฉููฺฉ Seeed ุขฺู ูุงุฆุจุฑุฑูฺบ ฺฉุง ุงุณุชุนูุงู ฺฉุฑุช ูุฆ ุงุณ ุณ ุขฺู ฺูุงูุง ุขุณุงู 

ุงฺบ ุงฺฉ ุงูุฑ ุญุฏ ูพุฑ ุบูุฑ ฺฉุฑูุง ุถุฑูุฑ ุ ุงุณูพฺฉ ุณุฑูุณ ุณ ุฏุณุชุงุจ ุขฺู ฺูนุงุ ุงูุฑ ู ูุงุฑููนุณ ุฌู ูุงุฆู ูนุฑููู ุณูพูุฑูน ฺฉุฑุชุง  ูฺฉูู ฺฉููพููนุฑุฒ ฺฉ ุจุฑุนฺฉุณุ ูุงุฆฺฉุฑู ฺฉููนุฑููุฑุฒ ฺฉ ู ุขฺู ูุงุฆุจุฑุฑุงฺบ ุงู ูุงุฑููนุณ ูฺบ ูุญุฏูุฏ ู ุณฺฉุช ฺบ ุฌูฺบ ู ุณูพูุฑูน ฺฉุฑุช ฺบ ูุซุงู ฺฉ ุทูุฑ ูพุฑุ Seeed Arduino Audio ูุงุฆุจุฑุฑ ุฌู ReSpeaker ูพุฑ ุขูุงุฒ ฺูุง ุณฺฉุช ุ ุตุฑู 44.1KHz ุณููพู ุฑูน ูพุฑ ุขฺู ฺฉู ุณูพูุฑูน ฺฉุฑุช  Azure ุงุณูพฺฉ ุณุฑูุณุฒ ฺฉุฆ ูุงุฑููนุณ ูฺบ ุขฺู ูุฑุงู ฺฉุฑ ุณฺฉุช ฺบุ ูฺฉู ุงู ูฺบ ุณ ฺฉูุฆ ุจฺพ ุงุณ ุณููพู ุฑูน ฺฉุง ุงุณุชุนูุงู ูฺบ ฺฉุฑุชุงุ ู ุตุฑู 8KHzุ 16KHzุ 24KHz ุงูุฑ 48KHz ูุฑุงู ฺฉุฑุช ฺบ ุงุณ ฺฉุง ูุทูุจ  ฺฉ ุขฺู ฺฉู 44.1KHz ูพุฑ ุฏูุจุงุฑ ุณููพู ฺฉุฑู ฺฉ ุถุฑูุฑุช ุ ุฌู ูุงุฆู ูนุฑููู ฺฉ ูพุงุณ ุฒุงุฏ ูุณุงุฆูุ ุฎุงุต ุทูุฑ ูพุฑ ูููุฑ ฺฉ ุถุฑูุฑุช ูฺฏ

ุฌุจ ุงุณ ุทุฑุญ ฺฉ ฺูนุง ฺฉู ุฌูฺู ฺฉ ุถุฑูุฑุช ูุ ุชู ุงฺฉุซุฑ ุจุชุฑ ูุชุง  ฺฉ ุณุฑูุฑ ูุณ ฺฉูฺ ุงุณุชุนูุงู ฺฉุฑฺบุ ุฎุงุต ุทูุฑ ูพุฑ ุงฺฏุฑ ฺูนุง ูุจ ฺฉุงู ฺฉ ุฐุฑุน ุญุงุตู ฺฉุง ฺฏุง ู ูุงุฆู ูนุฑููู ุณุฑูุฑ ูุณ ููฺฉุดู ฺฉู ฺฉุงู ฺฉุฑ ุณฺฉุชุง ุ ูุชู ฺฉู ุชุจุฏู ฺฉุฑู ฺฉ ู ูพุงุณ ฺฉุฑุช ูุฆุ ุงูุฑ ุณุฑูุฑ ูุณ ููฺฉุดู ุงุณูพฺฉ ุณุฑูุณ ฺฉู ูุชู ฺฉู ุขูุงุฒ ูฺบ ุชุจุฏู ฺฉุฑู ฺฉ ู ฺฉุงู ฺฉุฑ ุณฺฉุชุง ุ ุณุงุชฺพ  ุขฺู ฺฉู ูุทููุจ ุณููพู ุฑูน ูพุฑ ุฏูุจุงุฑ ุณููพู ฺฉุฑ ุณฺฉุชุง  ูพฺพุฑ  ุขฺู ฺฉู ุงุณ ุดฺฉู ูฺบ ูุงูพุณ ฺฉุฑ ุณฺฉุชุง  ุฌุณ ูุงุฆู ูนุฑููู SD ฺฉุงุฑฺ ูพุฑ ูุญููุธ ฺฉุฑ ุณฺฉุชุง  ุงูุฑ ReSpeaker ูพุฑ ฺูุง ุณฺฉุชุง 

### ฺฉุงู - ูุชู ฺฉู ุขูุงุฒ ูฺบ ุชุจุฏู ฺฉุฑู ฺฉ ู ุณุฑูุฑ ูุณ ููฺฉุดู ุจูุงุฆฺบ

1. ุงูพู `smart-timer-trigger` ูพุฑูุฌฺฉูน ฺฉู VS ฺฉูฺ ูฺบ ฺฉฺพููฺบุ ุงูุฑ ูนุฑููู ฺฉฺพููฺบุ  ูู ุจูุงุช ูุฆ ฺฉ ูุฑฺูุฆู ูุงุญูู ูุนุงู  ุงฺฏุฑ ูฺบุ ุชู ูนุฑููู ฺฉู ุฎุชู ฺฉุฑฺบ ุงูุฑ ุฏูุจุงุฑ ุจูุงุฆฺบ

1. ุงุณ ุงูพ ูฺบ ุงฺฉ ูุง HTTP ูนุฑฺฏุฑ ุดุงูู ฺฉุฑฺบ ุฌุณ `text-to-speech` ฺฉุง ุฌุงุชุง ุ ุฏุฑุฌ ุฐู ฺฉูุงูฺ ฺฉู VS ฺฉูฺ ูนุฑููู ูฺบ ููฺฉุดูุฒ ุงูพ ูพุฑูุฌฺฉูน ฺฉ ุฑููน ูููฺุฑ ฺฉ ุงูุฏุฑ ุงุณุชุนูุงู ฺฉุฑฺบ:

    ```sh
    func new --name text-to-speech --template "HTTP trigger"
    ```

     ุงฺฉ HTTP ูนุฑฺฏุฑ ุจูุงุฆ ฺฏุง ุฌุณ `text-to-speech` ฺฉุง ุฌุงุชุง 

1. [librosa](https://librosa.org) Pip ูพฺฉุฌ ูฺบ ุขฺู ฺฉู ุฏูุจุงุฑ ุณููพู ฺฉุฑู ฺฉ ููฺฉุดูุฒ ฺบุ ูุฐุง ุงุณ `requirements.txt` ูุงุฆู ูฺบ ุดุงูู ฺฉุฑฺบ:

    ```sh
    librosa
    ```

    ุงฺฉ ุจุงุฑ ุฌุจ  ุดุงูู ู ุฌุงุฆุ ุฏุฑุฌ ุฐู ฺฉูุงูฺ ฺฉู VS ฺฉูฺ ูนุฑููู ุณ ุงุณุชุนูุงู ฺฉุฑุช ูุฆ Pip ูพฺฉุฌุฒ ุงูุณูนุงู ฺฉุฑฺบ:

    ```sh
    pip install -r requirements.txt
    ```

    > โ๏ธ ุงฺฏุฑ ุขูพ ููฺฉุณ ุงุณุชุนูุงู ฺฉุฑ ุฑ ฺบุ ุจุดููู Raspberry Pi OSุ ุชู ุขูพ ฺฉู `libsndfile` ุฏุฑุฌ ุฐู ฺฉูุงูฺ ฺฉ ุณุงุชฺพ ุงูุณูนุงู ฺฉุฑู ฺฉ ุถุฑูุฑุช ู ุณฺฉุช :
    >
    > ```sh
    > sudo apt update
    > sudo apt install libsndfile1-dev
    > ```

1. ูุชู ฺฉู ุขูุงุฒ ูฺบ ุชุจุฏู ฺฉุฑู ฺฉ ูุ ุขูพ ุงุณูพฺฉ API ฺฉูุฏ ฺฉู ุจุฑุง ุฑุงุณุช ุงุณุชุนูุงู ูฺบ ฺฉุฑ ุณฺฉุชุ ุจูฺฉ ุขูพ ฺฉู ุงฺฉ ุงฺฉุณุณ ูนูฺฉู ฺฉ ุฏุฑุฎูุงุณุช ฺฉุฑู ูฺฏุ API ฺฉูุฏ ฺฉู ุงฺฉุณุณ ูนูฺฉู ุฏุฑุฎูุงุณุช ฺฉ ุชุตุฏู ฺฉ ู ุงุณุชุนูุงู ฺฉุฑุช ูุฆ `text-to-speech` ูููฺุฑ ุณ `__init__.py` ูุงุฆู ฺฉฺพููฺบ ุงูุฑ ุงุณ ูฺบ ููุฌูุฏ ุชูุงู ฺฉูฺ ฺฉู ุฏุฑุฌ ุฐู ุณ ุชุจุฏู ฺฉุฑฺบ:

    ```python
    import io
    import os
    import requests
    
    import librosa
    import soundfile as sf
    import azure.functions as func
    
    location = os.environ['SPEECH_LOCATION']
    speech_key = os.environ['SPEECH_KEY']
    
    def get_access_token():
        headers = {
            'Ocp-Apim-Subscription-Key': speech_key
        }
    
        token_endpoint = f'https://{location}.api.cognitive.microsoft.com/sts/v1.0/issuetoken'
        response = requests.post(token_endpoint, headers=headers)
        return str(response.text)
    ```

     ุณูนูฺฏุฒ ุณ ูพฺฺพ ุฌุงู ูุงู ููุงู ุงูุฑ ุงุณูพฺฉ ฺฉูุฏ ฺฉ ู ฺฉุงูุณูนููนุณ ฺูุงุฆู ฺฉุฑุชุง  ูพฺพุฑ  `get_access_token` ููฺฉุดู ฺูุงุฆู ฺฉุฑุชุง  ุฌู ุงุณูพฺฉ ุณุฑูุณ ฺฉ ู ุงฺฉุณุณ ูนูฺฉู ุญุงุตู ฺฉุฑ ฺฏุง

1. ุงุณ ฺฉูฺ ฺฉ ูฺ ุฏุฑุฌ ุฐู ุดุงูู ฺฉุฑฺบ:

    ```python
    playback_format = 'riff-48khz-16bit-mono-pcm'

    def main(req: func.HttpRequest) -> func.HttpResponse:
        req_body = req.get_json()
        language = req_body['language']
        voice = req_body['voice']
        text = req_body['text']
    
        url = f'https://{location}.tts.speech.microsoft.com/cognitiveservices/v1'
    
        headers = {
            'Authorization': 'Bearer ' + get_access_token(),
            'Content-Type': 'application/ssml+xml',
            'X-Microsoft-OutputFormat': playback_format
        }
    
        ssml =  f'<speak version=\'1.0\' xml:lang=\'{language}\'>'
        ssml += f'<voice xml:lang=\'{language}\' name=\'{voice}\'>'
        ssml += text
        ssml += '</voice>'
        ssml += '</speak>'
    
        response = requests.post(url, headers=headers, data=ssml.encode('utf-8'))
    
        raw_audio, sample_rate = librosa.load(io.BytesIO(response.content), sr=48000)
        resampled = librosa.resample(raw_audio, sample_rate, 44100)
        
        output_buffer = io.BytesIO()
        sf.write(output_buffer, resampled, 44100, 'PCM_16', format='wav')
        output_buffer.seek(0)
    
        return func.HttpResponse(output_buffer.read(), status_code=200)
    ```

     HTTP ูนุฑฺฏุฑ ฺูุงุฆู ฺฉุฑุชุง  ุฌู ูุชู ฺฉู ุขูุงุฒ ูฺบ ุชุจุฏู ฺฉุฑุชุง   JSON ุฌุณู ุณ ูุชู ฺฉู ุชุจุฏู ฺฉุฑูุ ุฒุจุงู ุงูุฑ ุขูุงุฒ ฺฉู ูฺฉุงูุชุง ุ ุงุณูพฺฉ ฺฉ ุฏุฑุฎูุงุณุช ฺฉุฑู ฺฉ ู ฺฉฺฺพ SSML ุจูุงุชุง ุ ูพฺพุฑ ูุชุนูู REST API ฺฉู ุงฺฉุณุณ ูนูฺฉู ฺฉ ุฐุฑุน ุชุตุฏู ฺฉุฑุช ูุฆ ฺฉุงู ฺฉุฑุชุง   REST API ฺฉุงู ุขฺู ฺฉู 16-bitุ 48KHz ูููู WAV ูุงุฆู ฺฉ ุทูุฑ ูพุฑ ุงูฺฉูฺ ฺฉุฑ ฺฉ ูุงูพุณ ฺฉุฑุชุง ุ ุฌู `playback_format` ฺฉ ูุฏุฑ ุณ ฺูุงุฆู ฺฉุง ฺฏุง ุ ุฌู REST API ฺฉุงู ฺฉู ุจฺพุฌุง ุฌุงุชุง 

    ูพฺพุฑ  `librosa` ฺฉ ุฐุฑุน 48KHz ฺฉ ุณููพู ุฑูน ุณ 44.1KHz ฺฉ ุณููพู ุฑูน ูพุฑ ุฏูุจุงุฑ ุณููพู ฺฉุง ุฌุงุชุง ุ ูพฺพุฑ  ุขฺู ุงฺฉ ุจุงุฆูุฑ ุจูุฑ ูฺบ ูุญููุธ ฺฉุง ุฌุงุชุง  ุฌู ูพฺพุฑ ูุงูพุณ ฺฉุง ุฌุงุชุง 

1. ุงูพู ููฺฉุดู ุงูพ ฺฉู ููุงู ุทูุฑ ูพุฑ ฺูุงุฆฺบุ ุง ุงุณ ฺฉูุงุคฺ ูพุฑ ฺูพูุงุฆ ฺฉุฑฺบ ุขูพ ุงุณ curl ุฌุณ ูนูู ฺฉุง ุงุณุชุนูุงู ฺฉุฑุช ูุฆ ุงุณ ุทุฑุญ ฺฉุงู ฺฉุฑ ุณฺฉุช ฺบ ุฌุณ ุขูพ ู ุงูพู `text-to-timer` HTTP ูนุฑฺฏุฑ ฺฉู ูนุณูน ฺฉุง ุชฺพุง ุฒุจุงูุ ุขูุงุฒ ุงูุฑ ูุชู ฺฉู JSON ุฌุณู ฺฉ ุทูุฑ ูพุฑ ูพุงุณ ฺฉุฑูุง ูู ุจูุงุฆฺบ:

    ```json
    {
        "language": "<language>",
        "voice": "<voice>",
        "text": "<text>"
    }
    ```

    `<language>` ฺฉู ุงูพู ุฒุจุงู ุณ ุชุจุฏู ฺฉุฑฺบุ ุฌุณ `en-GB` ุง `zh-CN` `<voice>` ฺฉู ุงูพู ูุทููุจ ุขูุงุฒ ุณ ุชุจุฏู ฺฉุฑฺบ `<text>` ฺฉู ุงุณ ูุชู ุณ ุชุจุฏู ฺฉุฑฺบ ุฌุณ ุขูพ ุขูุงุฒ ูฺบ ุชุจุฏู ฺฉุฑูุง ฺุงุช ฺบ ุขูพ ุขุคูน ูพูน ฺฉู ูุงุฆู ูฺบ ูุญููุธ ฺฉุฑ ุณฺฉุช ฺบ ุงูุฑ ุงุณ ฺฉุณ ุจฺพ ุขฺู ูพูุฆุฑ ฺฉ ุณุงุชฺพ ฺูุง ุณฺฉุช ฺบ ุฌู WAV ูุงุฆูุฒ ฺูุง ุณฺฉุชุง 

    ูุซุงู ฺฉ ุทูุฑ ูพุฑุ "Hello" ฺฉู ุงูุฑฺฉ ุงูฺฏุฑุฒ ูฺบ Jenny Neural ุขูุงุฒ ฺฉ ุณุงุชฺพ ุขูุงุฒ ูฺบ ุชุจุฏู ฺฉุฑู ฺฉ ูุ ููฺฉุดู ุงูพ ฺฉู ููุงู ุทูุฑ ูพุฑ ฺูุงู ฺฉ ุณุงุชฺพุ ุขูพ ุฏุฑุฌ ุฐู curl ฺฉูุงูฺ ุงุณุชุนูุงู ฺฉุฑ ุณฺฉุช ฺบ:

    ```sh
    curl -X GET 'http://localhost:7071/api/text-to-speech' \
         -H 'Content-Type: application/json' \
         -o hello.wav \
         -d '{
           "language":"en-US",
           "voice": "en-US-JennyNeural",
           "text": "Hello"
         }'
    ```

     ุขฺู ฺฉู ููุฌูุฏ ฺุงุฆุฑฺฉูนุฑ ูฺบ `hello.wav` ฺฉ ุทูุฑ ูพุฑ ูุญููุธ ฺฉุฑ ฺฏุง

> ๐ ุขูพ ุงุณ ฺฉูฺ ฺฉู [code-spoken-response/functions](../../../../../6-consumer/lessons/3-spoken-feedback/code-spoken-response/functions) ูููฺุฑ ูฺบ ุชูุงุด ฺฉุฑ ุณฺฉุช ฺบ

### ฺฉุงู - ูุงุฆู ูนุฑููู ุณ ุขูุงุฒ ุญุงุตู ฺฉุฑฺบ

1. ุงฺฏุฑ `smart-timer` ูพุฑูุฌฺฉูน ูพู ุณ ฺฉฺพูุง ูฺบ  ุชู ุงุณ VS ฺฉูฺ ูฺบ ฺฉฺพููฺบ

1. `config.h` ฺุฑ ูุงุฆู ฺฉฺพููฺบ ุงูุฑ ุงูพู ููฺฉุดู ุงูพ ฺฉ ู URL ุดุงูู ฺฉุฑฺบ:

    ```cpp
    const char *TEXT_TO_SPEECH_FUNCTION_URL = "<URL>";
    ```

    `<URL>` ฺฉู ุงูพู ููฺฉุดู ุงูพ ฺฉ `text-to-speech` HTTP ูนุฑฺฏุฑ ฺฉ URL ุณ ุชุจุฏู ฺฉุฑฺบ  `TEXT_TO_TIMER_FUNCTION_URL` ฺฉ ูุฏุฑ ุฌุณุง  ูฺฏุงุ ุณูุงุฆ ููฺฉุดู ฺฉ ูุงู `text-to-speech` ฺฉ ุจุฌุงุฆ `text-to-timer`

1. `text_to_speech.h` ฺุฑ ูุงุฆู ฺฉฺพููฺบุ ุงูุฑ `TextToSpeech` ฺฉูุงุณ ฺฉ `public` ุณฺฉุดู ูฺบ ุฏุฑุฌ ุฐู ูุชฺพฺ ุดุงูู ฺฉุฑฺบ:

    ```cpp
    void convertTextToSpeech(String text)
    {
    }
    ```

1. `convertTextToSpeech` ูุชฺพฺ ูฺบุ ููฺฉุดู ุงูพ ฺฉู ุจฺพุฌู ฺฉ ู JSON ุจูุงู ฺฉ ู ุฏุฑุฌ ุฐู ฺฉูฺ ุดุงูู ฺฉุฑฺบ:

    ```cpp
    DynamicJsonDocument doc(1024);
    doc["language"] = LANGUAGE;
    doc["voice"] = _voice;
    doc["text"] = text;

    String body;
    serializeJson(doc, body);
    ```

     ุฒุจุงูุ ุขูุงุฒ ุงูุฑ ูุชู ฺฉู JSON ุฏุณุชุงูุฒ ูฺบ ูฺฉฺพุชุง ุ ูพฺพุฑ ุงุณ ุงฺฉ ุณูนุฑูฺฏ ูฺบ ุณุฑูุงุฆุฒ ฺฉุฑุชุง 

1. ุงุณ ฺฉ ูฺุ ููฺฉุดู ุงูพ ฺฉู ฺฉุงู ฺฉุฑู ฺฉ ู ุฏุฑุฌ ุฐู ฺฉูฺ ุดุงูู ฺฉุฑฺบ:

    ```cpp
    HTTPClient httpClient;
    httpClient.begin(_client, TEXT_TO_SPEECH_FUNCTION_URL);

    int httpResponseCode = httpClient.POST(body);
    ```

     ุงฺฉ HTTPClient ุจูุงุชุง ุ ูพฺพุฑ JSON ุฏุณุชุงูุฒ ฺฉุง ุงุณุชุนูุงู ฺฉุฑุช ูุฆ ูุชู ฺฉู ุขูุงุฒ ูฺบ ุชุจุฏู ฺฉุฑู ฺฉ HTTP ูนุฑฺฏุฑ ูพุฑ POST ุฏุฑุฎูุงุณุช ฺฉุฑุชุง 

1. ุงฺฏุฑ ฺฉุงู ฺฉุงู ฺฉุฑุช ุ ุชู ููฺฉุดู ุงูพ ฺฉุงู ุณ ูุงูพุณ ฺฉ ฺฏุฆ ุฎุงู ุจุงุฆูุฑ ฺูนุง ฺฉู SD ฺฉุงุฑฺ ูพุฑ ูุงุฆู ูฺบ ุงุณูนุฑู ฺฉุง ุฌุง ุณฺฉุชุง  ุงุณุง ฺฉุฑู ฺฉ ู ุฏุฑุฌ ุฐู ฺฉูฺ ุดุงูู ฺฉุฑฺบ:

    ```cpp
    if (httpResponseCode == 200)
    {            
        File wav_file = SD.open("SPEECH.WAV", FILE_WRITE);
        httpClient.writeToStream(&wav_file);
        wav_file.close();
    }
    else
    {
        Serial.print("Failed to get speech - error ");
        Serial.println(httpResponseCode);
    }
    ```

     ฺฉูฺ ุฑุณูพุงูุณ ฺฉู ฺฺฉ ฺฉุฑุชุง ุ ุงูุฑ ุงฺฏุฑ  200 (ฺฉุงูุงุจ) ุ ุชู ุจุงุฆูุฑ ฺูนุง SD ฺฉุงุฑฺ ฺฉ ุฑููน ูฺบ `SPEECH.WAV` ูุงู ูุงุฆู ูฺบ ุงุณูนุฑู ฺฉุง ุฌุงุชุง 

1. ุงุณ ูุชฺพฺ ฺฉ ุขุฎุฑ ูฺบุ HTTP ฺฉูฺฉุดู ุจูุฏ ฺฉุฑฺบ:

    ```cpp
    httpClient.end();
    ```

1. ุงุจ ุจูู ุฌุงู ูุงู ูุชู ฺฉู ุขฺู ูฺบ ุชุจุฏู ฺฉุง ุฌุง ุณฺฉุชุง  `main.cpp` ูุงุฆู ูฺบุ `say` ููฺฉุดู ฺฉ ุขุฎุฑ ูฺบ ุฏุฑุฌ ุฐู ูุงุฆู ุดุงูู ฺฉุฑฺบ ุชุงฺฉ ุจูู ุฌุงู ูุงู ูุชู ฺฉู ุขฺู ูฺบ ุชุจุฏู ฺฉุง ุฌุง ุณฺฉ:
```cpp
    textToSpeech.convertTextToSpeech(text);
    ```

### ฺฉุงู - ุงูพู Wio Terminal ุณ ุขฺู ฺูุงุฆฺบ

**ุฌูุฏ ุขุฑุง **

## ุงูพู ููฺฉุดูุฒ ุงูพ ฺฉู ฺฉูุงุคฺ ูพุฑ ฺูพูุงุฆ ฺฉุฑฺบ

ููฺฉุดูุฒ ุงูพ ฺฉู ููุงู ุทูุฑ ูพุฑ ฺูุงู ฺฉ ูุฌ   ฺฉ ููฺฉุณ ูพุฑ `librosa` ูพุงุฆูพ ูพฺฉุฌ ุงฺฉ ุงุณ ูุงุฆุจุฑุฑ ูพุฑ ููุญุตุฑ  ุฌู ฺูุงููน ุทูุฑ ูพุฑ ุงูุณูนุงู ูฺบ ูุชุ ุงูุฑ ููฺฉุดู ุงูพ ฺฉู ฺูุงู ุณ ูพู ุงุณ ุงูุณูนุงู ฺฉุฑูุง ุถุฑูุฑ ูฺฏุง ููฺฉุดูุฒ ุงูพุณ ุณุฑูุฑ ูุณ ูุช ฺบ - ุขูพ ฺฉ ูพุงุณ ฺฉูุฆ ุณุฑูุฑ ูฺบ ูุชุง ุฌุณ ุขูพ ุฎูุฏ ููุฌ ฺฉุฑ ุณฺฉฺบุ ุงุณ ู ุงุณ ูุงุฆุจุฑุฑ ฺฉู ูพู ุณ ุงูุณูนุงู ฺฉุฑู ฺฉุง ฺฉูุฆ ุทุฑู ูฺบ ูุชุง

ุงุณ ฺฉุง ุญู   ฺฉ ุงูพู ููฺฉุดูุฒ ุงูพ ฺฉู ุงฺฉ Docker ฺฉููนูุฑ ฺฉ ุฐุฑุน ฺูพูุงุฆ ฺฉุฑฺบ  ฺฉููนูุฑ ฺฉูุงุคฺ ฺฉ ุฐุฑุน ุงุณ ููุช ฺูพูุงุฆ ฺฉุง ุฌุงุชุง  ุฌุจ ุงุณ ุขูพ ฺฉ ููฺฉุดู ุงูพ ฺฉุง ูุง ุงูุณูนูุณ ุดุฑูุน ฺฉุฑู ฺฉ ุถุฑูุฑุช ู (ุฌุณ ุฌุจ ฺูุงูฺ ุฏุณุชุงุจ ูุณุงุฆู ุณ ุฒุงุฏ ู ุฌุงุฆุ ุง ุงฺฏุฑ ููฺฉุดู ุงูพ ฺฉฺฺพ ููุช ุณ ุงุณุชุนูุงู ูฺบ ูุฆ ู ุงูุฑ ุจูุฏ ู ฺฏุฆ ู)

ุขูพ ููฺฉุดู ุงูพ ฺฉู ุณูน ุงูพ ฺฉุฑู ุงูุฑ Docker ฺฉ ุฐุฑุน ฺูพูุงุฆ ฺฉุฑู ฺฉ ุฏุงุงุช [Microsoft Docs ูพุฑ ููฺฉุณ ูพุฑ ฺฉุณูนู ฺฉููนูุฑ ุงุณุชุนูุงู ฺฉุฑุช ูุฆ ููฺฉุดู ุจูุงู ฺฉ ุฏุณุชุงูุฒุงุช](https://docs.microsoft.com/azure/azure-functions/functions-create-function-linux-custom-image?WT.mc_id=academic-17441-jabenn&tabs=bash%2Cazurecli&pivots=programming-language-python) ูฺบ ุฏฺฉฺพ ุณฺฉุช ฺบ

ุฌุจ  ฺูพูุงุฆ ู ุฌุงุฆุ ุชู ุขูพ ุงูพู Wio Terminal ฺฉูฺ ฺฉู ุงุณ ููฺฉุดู ุชฺฉ ุฑุณุงุฆ ฺฉ ู ูพูุฑูน ฺฉุฑ ุณฺฉุช ฺบ:

1. Azure Functions ฺฉุง ุณุฑูนูฺฉูน `config.h` ูฺบ ุดุงูู ฺฉุฑฺบ:

    ```cpp
    const char *FUNCTIONS_CERTIFICATE =
        "-----BEGIN CERTIFICATE-----\r\n"
        "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\r\n"
        "-----END CERTIFICATE-----\r\n";
    ```

1. ุชูุงู `<WiFiClient.h>` ุดุงููุงุช ฺฉู `<WiFiClientSecure.h>` ูฺบ ุชุจุฏู ฺฉุฑฺบ

1. ุชูุงู `WiFiClient` ููฺุฒ ฺฉู `WiFiClientSecure` ูฺบ ุชุจุฏู ฺฉุฑฺบ

1. ุฑ ฺฉูุงุณ ูฺบ ุฌุณ ูฺบ `WiFiClientSecure` ููฺ ูุ ุงฺฉ ฺฉูุณูนุฑฺฉูนุฑ ุดุงูู ฺฉุฑฺบ ุงูุฑ ุงุณ ฺฉูุณูนุฑฺฉูนุฑ ูฺบ ุณุฑูนูฺฉูน ุณูน ฺฉุฑฺบ:

    ```cpp
    _client.setCACert(FUNCTIONS_CERTIFICATE);
    ```

---

**ฺุณฺฉููุฑ**:  
 ุฏุณุชุงูุฒ AI ุชุฑุฌู ุณุฑูุณ [Co-op Translator](https://github.com/Azure/co-op-translator) ฺฉุง ุงุณุชุนูุงู ฺฉุฑุช ูุฆ ุชุฑุฌู ฺฉ ฺฏุฆ  ู ุฏุฑุณุชฺฏ ฺฉ ู ฺฉูุดุด ฺฉุฑุช ฺบุ ูฺฉู ุจุฑุง ฺฉุฑู ุขฺฏุง ุฑฺบ ฺฉ ุฎูุฏฺฉุงุฑ ุชุฑุฌู ูฺบ ุบูุทุงฺบ ุง ุบุฑ ุฏุฑุณุชุงฺบ ู ุณฺฉุช ฺบ ุงุตู ุฏุณุชุงูุฒ ฺฉู ุงุณ ฺฉ ุงุตู ุฒุจุงู ูฺบ ูุณุชูุฏ ุฐุฑุน ุณูุฌฺพุง ุฌุงูุง ฺุง ุงู ูุนูููุงุช ฺฉ ูุ ูพุด ูุฑ ุงูุณุงู ุชุฑุฌู ฺฉ ุณูุงุฑุด ฺฉ ุฌุงุช  ู ุงุณ ุชุฑุฌู ฺฉ ุงุณุชุนูุงู ุณ ูพุฏุง ูู ูุงู ฺฉุณ ุจฺพ ุบูุท ูู ุง ุบูุท ุชุดุฑุญ ฺฉ ุฐู ุฏุงุฑ ูฺบ ฺบ