<!--
CO_OP_TRANSLATOR_METADATA:
{
  "original_hash": "24dc783a600e20251211987b36370e93",
  "translation_date": "2025-10-11T11:39:00+00:00",
  "source_file": "4-manufacturing/lessons/3-run-fruit-detector-edge/vm-iotedge.md",
  "language_code": "ta"
}
-->
# IoT Edge роЗропроЩрпНроХрпБроорпН роТро░рпБ роорпЖропрпНроиро┐роХро░рпН роЗропроирпНродро┐ро░родрпНродрпИ роЙро░рпБро╡ро╛роХрпНроХрпБродро▓рпН

Azure-ро▓рпН, роирпАроЩрпНроХро│рпН роТро░рпБ роорпЖропрпНроиро┐роХро░рпН роЗропроирпНродро┐ро░родрпНродрпИ роЙро░рпБро╡ро╛роХрпНроХро▓ро╛роорпН - роЗродрпБ роорпЗроХродрпНродро┐ро▓рпН роЙро│рпНро│ роТро░рпБ роХрогро┐ройро┐, роЕродрпИ роирпАроЩрпНроХро│рпН ро╡ро┐ро░рпБроорпНрокро┐ропрокроЯро┐ роЕроорпИроХрпНроХро▓ро╛роорпН рооро▒рпНро▒рпБроорпН роЙроЩрпНроХро│рпН роЪрпКроирпНрод роорпЖройрпНрокрпКро░рпБро│рпИ роЕродро┐ро▓рпН роЗропроХрпНроХро▓ро╛роорпН.

> ЁЯТБ роорпЖропрпНроиро┐роХро░рпН роЗропроирпНродро┐ро░роЩрпНроХро│рпН рокро▒рпНро▒ро┐роп роорпЗро▓рпБроорпН родроХро╡ро▓рпНроХро│рпИ [Wikipedia-роЗро▓рпН роЙро│рпНро│ роорпЖропрпНроиро┐роХро░рпН роЗропроирпНродро┐ро░ рокроХрпНроХроорпН](https://wikipedia.org/wiki/Virtual_machine) рокро╛ро░рпНроХрпНроХро▓ро╛роорпН.

## рокрогро┐роХро│рпН - IoT Edge роорпЖропрпНроиро┐роХро░рпН роЗропроирпНродро┐ро░родрпНродрпИ роЕроорпИродрпНродро▓рпН

1. Azure IoT Edge роорпБройрпНрокрпЗ роиро┐ро▒рпБро╡рокрпНрокроЯрпНроЯ VM роТройрпНро▒рпИ роЙро░рпБро╡ро╛роХрпНроХ роХрпАро┤рпЗ роЙро│рпНро│ роХроЯрпНроЯро│рпИропрпИ роЗропроХрпНроХро╡рпБроорпН:

    ```sh
    az deployment group create \
                --resource-group fruit-quality-detector \
                --template-uri https://raw.githubusercontent.com/Azure/iotedge-vm-deploy/1.2.0/edgeDeploy.json \
                --parameters dnsLabelPrefix=<vm_name> \
                --parameters adminUsername=<username> \
                --parameters deviceConnectionString="<connection_string>" \
                --parameters authenticationType=password \
                --parameters adminPasswordOrKey="<password>"
    ```

    `<vm_name>`-роР роЙроЩрпНроХро│рпН роорпЖропрпНроиро┐роХро░рпН роЗропроирпНродро┐ро░родрпНродро┐ро▒рпНроХро╛рой рокрпЖропро░ро╛роХ рооро╛ро▒рпНро▒ро╡рпБроорпН. роЗродрпБ роЙро▓роХро│ро╡ро┐ро▓рпН родройро┐родрпНродрпБро╡рооро╛ройродро╛роХ роЗро░рпБроХрпНроХ ро╡рпЗрогрпНроЯрпБроорпН, роОройро╡рпЗ роЙроЩрпНроХро│рпН рокрпЖропро░рпН роЕро▓рпНро▓родрпБ ро╡рпЗро▒рпБ роородро┐рокрпНрокрпБроЯройрпН `fruit-quality-detector-vm-` рокрпЛройрпНро▒ роТройрпНро▒рпИ рокропройрпНрокроЯрпБродрпНродро╡рпБроорпН.

    `<username>` рооро▒рпНро▒рпБроорпН `<password>`-роР VM-роХрпНроХрпБ роЙро│рпНроирпБро┤рпИроп рокропройрпНрокроЯрпБродрпНродрокрпНрокроЯрпБроорпН рокропройро░рпН рокрпЖропро░рпН рооро▒рпНро▒рпБроорпН роХроЯро╡рпБроЪрпНроЪрпКро▒рпНроХро│ро╛роХ рооро╛ро▒рпНро▒ро╡рпБроорпН. роЗро╡рпИ рокро╛родрпБроХро╛рокрпНрокро╛ройродро╛роХ роЗро░рпБроХрпНроХ ро╡рпЗрогрпНроЯрпБроорпН, роОройро╡рпЗ admin/password рокрпЛройрпНро▒ро╡ро▒рпНро▒рпИ рокропройрпНрокроЯрпБродрпНрод роорпБроЯро┐ропро╛родрпБ.

    `<connection_string>`-роР роЙроЩрпНроХро│рпН `fruit-quality-detector-edge` IoT Edge роЪро╛родройродрпНродро┐ройрпН роЗрогрпИрокрпНрокрпБ роЪро░рооро╛роХ рооро╛ро▒рпНро▒ро╡рпБроорпН.

    роЗродрпБ `DS1 v2` ро╡роХрпИ роорпЖропрпНроиро┐роХро░рпН роЗропроирпНродро┐ро░рооро╛роХ роЕроорпИроХрпНроХрокрпНрокроЯрпБроорпН. роЗроирпНрод ро╡роХрпИроХро│рпН роЗропроирпНродро┐ро░родрпНродро┐ройрпН роЪроХрпНродро┐ропрпИ рооро▒рпНро▒рпБроорпН роЕродройрпН роЪрпЖро▓ро╡ро┐ройродрпНродрпИ роХрпБро▒ро┐роХрпНроХро┐ройрпНро▒рой. роЗроирпНрод VM-роХрпНроХрпБ 1 CPU рооро▒рпНро▒рпБроорпН 3.5GB RAM роЙро│рпНро│родрпБ.

    > ЁЯТ░ роЗроирпНрод VM-роХро│ро┐ройрпН родро▒рпНрокрпЛродрпИроп ро╡ро┐ро▓рпИропрпИ [Azure роорпЖропрпНроиро┐роХро░рпН роЗропроирпНродро┐ро░ ро╡ро┐ро▓рпИ ро╡ро┤ро┐роХро╛роЯрпНроЯро┐](https://azure.microsoft.com/pricing/details/virtual-machines/linux/?WT.mc_id=academic-17441-jabenn) рокроХрпНроХродрпНродро┐ро▓рпН рокро╛ро░рпНроХрпНроХро▓ро╛роорпН.

    VM роЙро░рпБро╡ро╛роХрпНроХрокрпНрокроЯрпНроЯро╡рпБроЯройрпН, IoT Edge runtime родро╛ройро╛роХро╡рпЗ роиро┐ро▒рпБро╡рокрпНрокроЯрпНроЯрпБ, роЙроЩрпНроХро│рпН IoT Hub-роХрпНроХрпБ `fruit-quality-detector-edge` роЪро╛родройрооро╛роХ роЗрогрпИроХрпНроХрокрпНрокроЯрпБроорпН.

1. роЙроЩрпНроХро│рпН VM-роЗро▓рпН роЗро░рпБроирпНродрпБ рокроЯродрпНродрпИ ро╡роХрпИрокрпНрокроЯрпБродрпНродро┐ роЕро┤рпИроХрпНроХ, VM-роЗройрпН IP роорпБроХро╡ро░ро┐ роЕро▓рпНро▓родрпБ DNS рокрпЖропро░рпН родрпЗро╡рпИрокрпНрокроЯрпБроорпН. роЗродрпИрокрпН рокрпЖро▒ роХрпАро┤рпЗ роЙро│рпНро│ роХроЯрпНроЯро│рпИропрпИ роЗропроХрпНроХро╡рпБроорпН:

    ```sh
    az vm list --resource-group fruit-quality-detector \
               --output table \
               --show-details
    ```

    `PublicIps` роЕро▓рпНро▓родрпБ `Fqdns` рокрпБро▓родрпНродро┐ройрпН роородро┐рокрпНрокрпИ роироХро▓рпЖроЯрпБроХрпНроХро╡рпБроорпН.

1. VM-роХро│рпН рокрогроорпН роЪрпЖро▓ро╡ро╛роХро┐ройрпНро▒рой. роОро┤рпБродрпБроорпН роирпЗро░родрпНродро┐ро▓рпН, DS1 VM роТро░рпБ роорогро┐ роирпЗро░родрпНродро┐ро▒рпНроХрпБ роЪрпБрооро╛ро░рпН $0.06 роЪрпЖро▓ро╡ро╛роХро┐ро▒родрпБ. роЪрпЖро▓ро╡рпБроХро│рпИ роХрпБро▒рпИроХрпНроХ, роирпАроЩрпНроХро│рпН рокропройрпНрокроЯрпБродрпНродро╛род рокрпЛродрпБ VM-роР роиро┐ро▒рпБродрпНрод ро╡рпЗрогрпНроЯрпБроорпН, роорпЗро▓рпБроорпН роЗроирпНрод родро┐роЯрпНроЯродрпНродрпИ роорпБроЯро┐родрпНрод рокро┐ро▒роХрпБ роЕродрпИ роирпАроХрпНроХ ро╡рпЗрогрпНроЯрпБроорпН.

    роЙроЩрпНроХро│рпН VM-роР роТро╡рпНро╡рпКро░рпБ роиро╛ро│рпБроорпН роТро░рпБ роХрпБро▒ро┐рокрпНрокро┐роЯрпНроЯ роирпЗро░родрпНродро┐ро▓рпН родро╛ройро╛роХ роиро┐ро▒рпБродрпНрод роЕроорпИроХрпНроХро▓ро╛роорпН. роЗродройро╛ро▓рпН роирпАроЩрпНроХро│рпН роЕродрпИ роиро┐ро▒рпБродрпНрод рооро▒роирпНродро╛ро▓рпБроорпН, родро╛ройро╛роХ роиро┐ро▒рпБродрпНродрокрпНрокроЯрпБроорпН роирпЗро░родрпНродро┐ро▒рпНроХрпБ роорпЗро▓рпН роХроЯрпНроЯрогроорпН ро╡роЪрпВро▓ро┐роХрпНроХрокрпНрокроЯро╛родрпБ. роЗродрпИ роЕроорпИроХрпНроХ роХрпАро┤рпЗ роЙро│рпНро│ роХроЯрпНроЯро│рпИропрпИ рокропройрпНрокроЯрпБродрпНродро╡рпБроорпН:

    ```sh
    az vm auto-shutdown --resource-group fruit-quality-detector \
                        --name <vm_name> \
                        --time <shutdown_time_utc>
    ```

    `<vm_name>`-роР роЙроЩрпНроХро│рпН роорпЖропрпНроиро┐роХро░рпН роЗропроирпНродро┐ро░родрпНродро┐ройрпН рокрпЖропро░ро╛роХ рооро╛ро▒рпНро▒ро╡рпБроорпН.

    `<shutdown_time_utc>`-роР UTC роирпЗро░родрпНродро┐ро▓рпН VM-роР роиро┐ро▒рпБродрпНрод ро╡ро┐ро░рпБроорпНрокрпБроорпН роирпЗро░рооро╛роХ HHMM ро╡роЯро┐ро╡родрпНродро┐ро▓рпН 4 роЗро▓роХрпНроХроЩрпНроХро│ро╛роХ рооро╛ро▒рпНро▒ро╡рпБроорпН. роЙродро╛ро░рогрооро╛роХ, UTC-роЗро▓рпН роиро│рпНро│ро┐ро░ро╡ро┐ро▓рпН роиро┐ро▒рпБродрпНрод ро╡ро┐ро░рпБроорпНрокро┐ройро╛ро▓рпН, роЗродрпИ `0000` роОрой роЕроорпИроХрпНроХ ро╡рпЗрогрпНроЯрпБроорпН. USA роорпЗро▒рпНроХрпБ роХроЯро▒рпНроХро░рпИропро┐ро▓рпН рооро╛ро▓рпИ 7:30роХрпНроХрпБ, роирпАроЩрпНроХро│рпН `0230` (USA роорпЗро▒рпНроХрпБ роХроЯро▒рпНроХро░рпИропро┐ро▓рпН рооро╛ро▓рпИ 7:30 UTC-роЗро▓рпН 2:30AM) рокропройрпНрокроЯрпБродрпНрод ро╡рпЗрогрпНроЯрпБроорпН.

1. роЙроЩрпНроХро│рпН рокроЯ ро╡роХрпИрокрпНрокроЯрпБродрпНродро┐ роЗроирпНрод edge роЪро╛родройродрпНродро┐ро▓рпН роЗропроЩрпНроХрпБроорпН, роЗродрпБ HTTP-роЗройрпН роиро┐ро▓рпИропро╛рой port 80-ро▓рпН роХрпЗроЯрпНроХрпБроорпН. роЗропро▓рпНрокро╛роХ, роорпЖропрпНроиро┐роХро░рпН роЗропроирпНродро┐ро░роЩрпНроХро│рпН роЙро│рпНро│рпАроЯрпНроЯрпБ ports-роР родроЯрпИроЪрпЖропрпНропрпБроорпН, роОройро╡рпЗ port 80-роР роЗропроХрпНроХ ро╡рпЗрогрпНроЯрпБроорпН. Ports network security groups-ро▓рпН роЗропроХрпНроХрокрпНрокроЯрпБроХро┐ройрпНро▒рой, роОройро╡рпЗ роорпБродро▓ро┐ро▓рпН роЙроЩрпНроХро│рпН VM-роХрпНроХрпБ network security group рокрпЖропро░рпИ роЕро▒ро┐роп ро╡рпЗрогрпНроЯрпБроорпН, роЗродрпИ роХрпАро┤рпЗ роЙро│рпНро│ роХроЯрпНроЯро│рпИропрпИ роЗропроХрпНроХро┐ роХрогрпНроЯро▒ро┐ропро▓ро╛роорпН:

    ```sh
    az network nsg list --resource-group fruit-quality-detector \
                        --output table
    ```

    `Name` рокрпБро▓родрпНродро┐ройрпН роородро┐рокрпНрокрпИ роироХро▓рпЖроЯрпБроХрпНроХро╡рпБроорпН.

1. Port 80-роР network security group-роХрпНроХрпБ родро┐ро▒роХрпНроХ роТро░рпБ ро╡ро┐родро┐ропрпИ роЪрпЗро░рпНроХрпНроХ роХрпАро┤рпЗ роЙро│рпНро│ роХроЯрпНроЯро│рпИропрпИ роЗропроХрпНроХро╡рпБроорпН:

    ```sh
    az network nsg rule create \
                        --resource-group fruit-quality-detector \
                        --name Port_80 \
                        --protocol tcp \
                        --priority 1010 \
                        --destination-port-range 80 \
                        --nsg-name <nsg name>
    ```

    `<nsg name>`-роР роорпБроирпНродрпИроп рокроЯро┐ропро┐ро▓рпН роХрогрпНроЯро▒ро┐роирпНрод network security group рокрпЖропро░ро╛роХ рооро╛ро▒рпНро▒ро╡рпБроорпН.

### рокрогро┐роХро│рпН - роЙроЩрпНроХро│рпН VM-роР роиро┐ро░рпНро╡роХро┐родрпНродрпБ роЪрпЖро▓ро╡рпБроХро│рпИ роХрпБро▒рпИродрпНродро▓рпН

1. роЙроЩрпНроХро│рпН VM-роР рокропройрпНрокроЯрпБродрпНродро╛род рокрпЛродрпБ, роЕродрпИ роиро┐ро▒рпБродрпНрод ро╡рпЗрогрпНроЯрпБроорпН. VM-роР роиро┐ро▒рпБродрпНрод роХрпАро┤рпЗ роЙро│рпНро│ роХроЯрпНроЯро│рпИропрпИ рокропройрпНрокроЯрпБродрпНродро╡рпБроорпН:

    ```sh
    az vm deallocate --resource-group fruit-quality-detector \
                     --name <vm_name>
    ```

    `<vm_name>`-роР роЙроЩрпНроХро│рпН роорпЖропрпНроиро┐роХро░рпН роЗропроирпНродро┐ро░родрпНродро┐ройрпН рокрпЖропро░ро╛роХ рооро╛ро▒рпНро▒ро╡рпБроорпН.

    > ЁЯТБ `az vm stop` роОройрпНро▒ роХроЯрпНроЯро│рпИ роЙро│рпНро│родрпБ, роЗродрпБ VM-роР роиро┐ро▒рпБродрпНродрпБроорпН, роЖройро╛ро▓рпН роХрогро┐ройро┐ропрпИ роЙроЩрпНроХро│рпБроХрпНроХрпБ роТродрпБроХрпНроХро┐ ро╡рпИродрпНродро┐ро░рпБроХрпНроХрпБроорпН, роОройро╡рпЗ роЗродрпБ роЗройрпНройрпБроорпН роЗропроЩрпНроХрпБро╡родрпБ рокрпЛро▓ро╡рпЗ роирпАроЩрпНроХро│рпН рокрогроорпН роЪрпЖро▓рпБродрпНрод ро╡рпЗрогрпНроЯрпБроорпН.

1. VM-роР роорпАрогрпНроЯрпБроорпН родрпКроЯроЩрпНроХ роХрпАро┤рпЗ роЙро│рпНро│ роХроЯрпНроЯро│рпИропрпИ рокропройрпНрокроЯрпБродрпНродро╡рпБроорпН:

    ```sh
    az vm start --resource-group fruit-quality-detector \
                --name <vm_name>
    ```

    `<vm_name>`-роР роЙроЩрпНроХро│рпН роорпЖропрпНроиро┐роХро░рпН роЗропроирпНродро┐ро░родрпНродро┐ройрпН рокрпЖропро░ро╛роХ рооро╛ро▒рпНро▒ро╡рпБроорпН.

---

**роХрпБро▒ро┐рокрпНрокрпБ**:  
роЗроирпНрод роЖро╡рогроорпН [Co-op Translator](https://github.com/Azure/co-op-translator) роОройрпНро▒ AI роорпКро┤ро┐рокрпЖропро░рпНрокрпНрокрпБ роЪрпЗро╡рпИропрпИрокрпН рокропройрпНрокроЯрпБродрпНродро┐ роорпКро┤ро┐рокрпЖропро░рпНроХрпНроХрокрпНрокроЯрпНроЯрпБро│рпНро│родрпБ. роиро╛роЩрпНроХро│рпН родрпБро▓рпНро▓ро┐ропродрпНродро┐ро▒рпНроХро╛роХ роорпБропро▒рпНроЪро┐роХрпНроХро┐ройрпНро▒рпЛроорпН, роЖройро╛ро▓рпН родро╛ройро┐ропроХрпНроХ роорпКро┤ро┐рокрпЖропро░рпНрокрпНрокрпБроХро│ро┐ро▓рпН рокро┐ро┤рпИроХро│рпН роЕро▓рпНро▓родрпБ родро╡ро▒ро╛рой родроХро╡ро▓рпНроХро│рпН роЗро░рпБроХрпНроХроХрпНроХрпВроЯрпБроорпН роОройрпНрокродрпИ родропро╡рпБроЪрпЖропрпНродрпБ роХро╡ройродрпНродро┐ро▓рпН роХрпКро│рпНро│ро╡рпБроорпН. роЕродройрпН родро╛ропрпНроорпКро┤ро┐ропро┐ро▓рпН роЙро│рпНро│ роорпВро▓ роЖро╡рогроорпН роЕродро┐роХро╛ро░рокрпНрокрпВро░рпНро╡ роЖродро╛ро░рооро╛роХ роХро░рпБродрокрпНрокроЯ ро╡рпЗрогрпНроЯрпБроорпН. роорпБроХрпНроХро┐ропрооро╛рой родроХро╡ро▓рпНроХро│рпБроХрпНроХрпБ, родрпКро┤ро┐ро▓рпНроорпБро▒рпИ рооройро┐род роорпКро┤ро┐рокрпЖропро░рпНрокрпНрокрпБ рокро░ро┐роирпНродрпБро░рпИроХрпНроХрокрпНрокроЯрпБроХро┐ро▒родрпБ. роЗроирпНрод роорпКро┤ро┐рокрпЖропро░рпНрокрпНрокрпИрокрпН рокропройрпНрокроЯрпБродрпНродрпБро╡родро╛ро▓рпН роПро▒рпНрокроЯрпБроорпН роОроирпНродро╡рпКро░рпБ родро╡ро▒ро╛рой рокрпБро░ро┐родро▓рпНроХро│рпН роЕро▓рпНро▓родрпБ родро╡ро▒ро╛рой ро╡ро┐ро│роХрпНроХроЩрпНроХро│рпБроХрпНроХрпБ роиро╛роЩрпНроХро│рпН рокрпКро▒рпБрокрпНрокро▓рпНро▓.