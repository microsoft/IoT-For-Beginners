<!--
CO_OP_TRANSLATOR_METADATA:
{
  "original_hash": "e5896207b304ce1abaf065b8acc0cc79",
  "translation_date": "2025-10-11T11:48:07+00:00",
  "source_file": "4-manufacturing/lessons/2-check-fruit-from-device/single-board-computer-classify-image.md",
  "language_code": "ta"
}
-->
# рокроЯродрпНродрпИ ро╡роХрпИрокрпНрокроЯрпБродрпНродрпБродро▓рпН - роорпЖропрпНроиро┐роХро░рпН IoT роЪро╛родройроорпН рооро▒рпНро▒рпБроорпН ро░ро╛ро╕рпНрокрпЖро░рпНро░ро┐ рокрпИ

роЗроирпНрод рокро╛роЯродрпНродро┐ройрпН роЗроирпНрод рокроХрпБродро┐ропро┐ро▓рпН, роХрпЗрооро░ро╛ роорпВро▓роорпН рокро┐роЯро┐роХрпНроХрокрпНрокроЯрпНроЯ рокроЯродрпНродрпИ Custom Vision роЪрпЗро╡рпИроХрпНроХрпБ роЕройрпБрокрпНрокро┐ роЕродрпИ ро╡роХрпИрокрпНрокроЯрпБродрпНродрпБро╡рпАро░рпНроХро│рпН.

## рокроЯроЩрпНроХро│рпИ Custom Vision-роХрпНроХрпБ роЕройрпБрокрпНрокрпБродро▓рпН

Custom Vision роЪрпЗро╡рпИроХрпНроХрпБ Python SDK роЙро│рпНро│родрпБ, роЗродройрпН роорпВро▓роорпН рокроЯроЩрпНроХро│рпИ ро╡роХрпИрокрпНрокроЯрпБродрпНродро▓ро╛роорпН.

### рокрогро┐роХро│рпН - рокроЯроЩрпНроХро│рпИ Custom Vision-роХрпНроХрпБ роЕройрпБрокрпНрокрпБродро▓рпН

1. VS Code-ро▓рпН `fruit-quality-detector` роХрпЛрокрпНрокрпБро▒рпИропрпИ родро┐ро▒роХрпНроХро╡рпБроорпН. роирпАроЩрпНроХро│рпН роорпЖропрпНроиро┐роХро░рпН IoT роЪро╛родройродрпНродрпИрокрпН рокропройрпНрокроЯрпБродрпНродро┐ройро╛ро▓рпН, роорпЖропрпНроиро┐роХро░рпН роЪрпВро┤ро▓рпН роЯрпЖро░рпНрооро┐ройро▓ро┐ро▓рпН роЗропроЩрпНроХрпБроХро┐ро▒родро╛ роОройрпНрокродрпИ роЙро▒рпБродро┐рокрпНрокроЯрпБродрпНродро╡рпБроорпН.

1. Custom Vision-роХрпНроХрпБ рокроЯроЩрпНроХро│рпИ роЕройрпБрокрпНрок Python SDK роТро░рпБ Pip родрпКроХрпБрокрпНрокро╛роХ роХро┐роЯрпИроХрпНроХро┐ро▒родрпБ. роЕродрпИ роХрпАро┤рпНроХрпНроХро╛рогрпБроорпН роХроЯрпНроЯро│рпИропрпИрокрпН рокропройрпНрокроЯрпБродрпНродро┐ роиро┐ро▒рпБро╡ро╡рпБроорпН:

    ```sh
    pip3 install azure-cognitiveservices-vision-customvision
    ```

1. `app.py` роХрпЛрокрпНрокро┐ройрпН роорпЗро▓рпН рокроХрпБродро┐ропро┐ро▓рпН рокро┐ройрпНро╡ро░рпБроорпН роЗро▒роХрпНроХрпБроородро┐ роЕро▒ро┐роХрпНроХрпИроХро│рпИроЪрпН роЪрпЗро░рпНроХрпНроХро╡рпБроорпН:

    ```python
    from msrest.authentication import ApiKeyCredentials
    from azure.cognitiveservices.vision.customvision.prediction import CustomVisionPredictionClient
    ```

   роЗродрпБ Custom Vision роирпВро▓роХроЩрпНроХро│ро┐ро▓рпН роЗро░рпБроирпНродрпБ роЪро┐ро▓ рооро╛роЯрпНропрпВро▓рпНроХро│рпИ роХрпКрогрпНроЯрпБ ро╡ро░рпБроХро┐ро▒родрпБ, роТройрпНро▒рпБ prediction key роорпВро▓роорпН роЕроЩрпНроХрпАроХро░ро┐роХрпНроХро╡рпБроорпН, рооро▒рпНро▒рпКройрпНро▒рпБ Custom Vision-роР роЕро┤рпИроХрпНроХ роТро░рпБ prediction client ро╡роХрпБрокрпНрокрпИ ро╡ро┤роЩрпНроХро╡рпБроорпН.

1. роХрпЛрокрпНрокро┐ройрпН роЗро▒рпБродро┐ропро┐ро▓рпН рокро┐ройрпНро╡ро░рпБроорпН роХрпБро▒ро┐ропрпАроЯрпНроЯрпИроЪрпН роЪрпЗро░рпНроХрпНроХро╡рпБроорпН:

    ```python
    prediction_url = '<prediction_url>'
    prediction_key = '<prediction key>'
    ```

   `<prediction_url>` роОройрпНрокродрпИ роЗроирпНрод рокро╛роЯродрпНродро┐ройрпН роорпБроирпНродрпИроп рокроХрпБродро┐ропро┐ро▓рпН *Prediction URL* роЙро░рпИропро╛роЯро▓ро┐ро▓рпН роЗро░рпБроирпНродрпБ роироХро▓рпЖроЯрпБродрпНрод URL-роЖро▓рпН рооро╛ро▒рпНро▒ро╡рпБроорпН. `<prediction key>` роОройрпНрокродрпИ роЕродрпЗ роЙро░рпИропро╛роЯро▓ро┐ро▓рпН роЗро░рпБроирпНродрпБ роироХро▓рпЖроЯрпБродрпНрод prediction key-роЖро▓рпН рооро╛ро▒рпНро▒ро╡рпБроорпН.

1. *Prediction URL* роЙро░рпИропро╛роЯро▓ро┐ро▓рпН ро╡ро┤роЩрпНроХрокрпНрокроЯрпНроЯ prediction URL REST endpoint-роР роирпЗро░роЯро┐ропро╛роХ роЕро┤рпИроХрпНроХрпБроорпН рокрпЛродрпБ рокропройрпНрокроЯрпБродрпНрод ро╡роЯро┐ро╡роорпИроХрпНроХрокрпНрокроЯрпНроЯрпБро│рпНро│родрпБ. Python SDK URL-роЗройрпН рокроХрпБродро┐роХро│рпИ ро╡рпЗро▒рпБ роЗроЯроЩрпНроХро│ро┐ро▓рпН рокропройрпНрокроЯрпБродрпНродрпБроХро┐ро▒родрпБ. роЗроирпНрод URL-роР родрпЗро╡рпИропро╛рой рокроХрпБродро┐роХро│ро╛роХ рокро┐ро░ро┐роХрпНроХ рокро┐ройрпНро╡ро░рпБроорпН роХрпБро▒ро┐ропрпАроЯрпНроЯрпИроЪрпН роЪрпЗро░рпНроХрпНроХро╡рпБроорпН:

    ```python
    parts = prediction_url.split('/')
    endpoint = 'https://' + parts[2]
    project_id = parts[6]
    iteration_name = parts[9]
    ```

   роЗродрпБ URL-роР рокро┐ро░ро┐роХрпНроХро┐ро▒родрпБ, `https://<location>.api.cognitive.microsoft.com` роОройрпНро▒ endpoint, project ID, рооро▒рпНро▒рпБроорпН ро╡рпЖро│ро┐ропро┐роЯрокрпНрокроЯрпНроЯ iteration рокрпЖропро░рпИ роОроЯрпБроХрпНроХро┐ро▒родрпБ.

1. рокро┐ройрпНро╡ро░рпБроорпН роХрпБро▒ро┐ропрпАроЯрпНроЯрпИ рокропройрпНрокроЯрпБродрпНродро┐ prediction роЪрпЖропрпНроп predictor рокрпКро░рпБро│рпИ роЙро░рпБро╡ро╛роХрпНроХро╡рпБроорпН:

    ```python
    prediction_credentials = ApiKeyCredentials(in_headers={"Prediction-key": prediction_key})
    predictor = CustomVisionPredictionClient(endpoint, prediction_credentials)
    ```

   `prediction_credentials` prediction key-роР роЪрпБро▒рпНро▒ро┐ рокро╛родрпБроХро╛роХрпНроХро┐ро▒родрпБ. роЗродройрпН роорпВро▓роорпН endpoint-роР роЪрпБроЯрпНроЯрпБроорпН prediction client рокрпКро░рпБро│рпН роЙро░рпБро╡ро╛роХрпНроХрокрпНрокроЯрпБроХро┐ро▒родрпБ.

1. рокро┐ройрпНро╡ро░рпБроорпН роХрпБро▒ро┐ропрпАроЯрпНроЯрпИ рокропройрпНрокроЯрпБродрпНродро┐ рокроЯродрпНродрпИ Custom Vision-роХрпНроХрпБ роЕройрпБрокрпНрокро╡рпБроорпН:

    ```python
    image.seek(0)
    results = predictor.classify_image(project_id, iteration_name, image)
    ```

   роЗродрпБ рокроЯродрпНродрпИ родрпКроЯроХрпНроХродрпНродрпБроХрпНроХрпБ родро┐ро░рпБрокрпНрокро┐, prediction client-роХрпНроХрпБ роЕройрпБрокрпНрокрпБроХро┐ро▒родрпБ.

1. роЗро▒рпБродро┐ропро╛роХ, рокро┐ройрпНро╡ро░рпБроорпН роХрпБро▒ро┐ропрпАроЯрпНроЯрпИ рокропройрпНрокроЯрпБродрпНродро┐ роорпБроЯро┐ро╡рпБроХро│рпИ роХро╛рогрпНрокро┐роХрпНроХро╡рпБроорпН:

    ```python
    for prediction in results.predictions:
        print(f'{prediction.tag_name}:\t{prediction.probability * 100:.2f}%')
    ```

   роЗродрпБ родро┐ро░рпБроорпНрокро┐роп роЕройрпИродрпНродрпБ prediction-роХро│рпИропрпБроорпН роороЯроХрпНроХро┐, роЕро╡ро▒рпНро▒рпИ роЯрпЖро░рпНрооро┐ройро▓ро┐ро▓рпН роХро╛рогрпНрокро┐роХрпНроХрпБроорпН. родро┐ро░рпБроорпНрокро┐роп probability-роХро│рпН 0-1 ро╡ро░рпИ роЙро│рпНро│ рооро┐родро╡рпИ роОрогрпНроХро│ро╛роХ роЗро░рпБроХрпНроХрпБроорпН, 0 роОройрпНрокродрпБ роЕроирпНрод tag-роХрпНроХрпБ 0% ро╡ро╛ропрпНрокрпНрокрпБ, 1 роОройрпНрокродрпБ 100% ро╡ро╛ропрпНрокрпНрокрпБ.

   > ЁЯТБ рокроЯ ро╡роХрпИрокрпНрокроЯрпБродрпНродро┐роХро│рпН рокропройрпНрокроЯрпБродрпНродро┐роп роЕройрпИродрпНродрпБ tag-роХро│рпБроХрпНроХрпБроорпН роЪродро╡рпАродроЩрпНроХро│рпИ родро┐ро░рпБроорпНрок роЕро│ро┐роХрпНроХрпБроорпН. роТро╡рпНро╡рпКро░рпБ tag-роХрпНроХрпБроорпН роЕроирпНрод рокроЯродрпНродрпБроЯройрпН рокрпКро░рпБроирпНродрпБроорпН ро╡ро╛ропрпНрокрпНрокрпБ роЗро░рпБроХрпНроХрпБроорпН.

1. роЙроЩрпНроХро│рпН роХрпЗрооро░ро╛ роЪро┐ро▓ рокро┤роЩрпНроХро│рпН роЕро▓рпНро▓родрпБ рокрпКро░рпБродрпНродрооро╛рой рокроЯродрпН родрпКроХрпБрокрпНрокрпИ роирпЛроХрпНроХро┐ роЗро░рпБроХрпНроХрпБроорпНрокроЯро┐ роЙроЩрпНроХро│рпН роХрпБро▒ро┐ропрпАроЯрпНроЯрпИ роЗропроХрпНроХро╡рпБроорпН, роЕро▓рпНро▓родрпБ роорпЖропрпНроиро┐роХро░рпН IoT роЪро╛родройродрпНродрпИрокрпН рокропройрпНрокроЯрпБродрпНродро┐ройро╛ро▓рпН роЙроЩрпНроХро│рпН ро╡ро▓рпИроХрпНроХрпЗрооро┐ро▓рпН рокро┤роЩрпНроХро│рпН родрпЖро░ро┐ропрпБроорпН. роирпАроЩрпНроХро│рпН console-ро▓рпН ро╡рпЖро│ро┐ропрпАроЯрпНроЯрпИ роХро╛рогрпНрокрпАро░рпНроХро│рпН:

    ```output
    (.venv) тЮЬ  fruit-quality-detector python app.py
    ripe:   56.84%
    unripe: 43.16%
    ```

   роирпАроЩрпНроХро│рпН роОроЯрпБродрпНрод рокроЯродрпНродрпИропрпБроорпН, роЗроирпНрод роородро┐рокрпНрокрпБроХро│рпИропрпБроорпН Custom Vision роЗро▓рпН **Predictions** родро╛ро╡ро▓ро┐ро▓рпН роХро╛рогро▓ро╛роорпН.

   ![Custom Vision роЗро▓рпН роТро░рпБ ро╡ро╛ро┤рпИрокрпНрокро┤роорпН 56.8% рокро┤рпБродрпНродродро╛роХро╡рпБроорпН, 43.1% рокро┤рпБроХрпНроХро╛родродро╛роХро╡рпБроорпН роХрогро┐роХрпНроХрокрпНрокроЯрпНроЯродрпБ](../../../../../translated_images/custom-vision-banana-prediction.30cdff4e1d72db5d9a0be0193790a47c2b387da034e12dc1314dd57ca2131b59.ta.png)

> ЁЯТБ роЗроирпНрод роХрпБро▒ро┐ропрпАроЯрпНроЯрпИ [code-classify/pi](../../../../../4-manufacturing/lessons/2-check-fruit-from-device/code-classify/pi) роЕро▓рпНро▓родрпБ [code-classify/virtual-iot-device](../../../../../4-manufacturing/lessons/2-check-fruit-from-device/code-classify/virtual-iot-device) роХрпЛрокрпНрокрпБро▒рпИропро┐ро▓рпН роХро╛рогро▓ро╛роорпН.

ЁЯША роЙроЩрпНроХро│рпН рокро┤ родро░роорпН ро╡роХрпИрокрпНрокроЯрпБродрпНродрпБроорпН роиро┐ро░ро▓рпН ро╡рпЖро▒рпНро▒ро┐роХро░рооро╛роХ роорпБроЯро┐роирпНродродрпБ!

---

**роХрпБро▒ро┐рокрпНрокрпБ**:  
роЗроирпНрод роЖро╡рогроорпН [Co-op Translator](https://github.com/Azure/co-op-translator) роОройрпНро▒ AI роорпКро┤ро┐рокрпЖропро░рпНрокрпНрокрпБ роЪрпЗро╡рпИропрпИрокрпН рокропройрпНрокроЯрпБродрпНродро┐ роорпКро┤ро┐рокрпЖропро░рпНроХрпНроХрокрпНрокроЯрпНроЯрпБро│рпНро│родрпБ. роОроЩрпНроХро│рпН родро░роЪрпНроЪрпЖропро▓рпНроорпБро▒рпИроХро│рпБроХрпНроХрпБ роорпБро┤рпБ роорпБропро▒рпНроЪро┐ роОроЯрпБродрпНродро╛ро▓рпБроорпН, родро╛ройро┐ропроЩрпНроХро┐ роорпКро┤ро┐рокрпЖропро░рпНрокрпНрокрпБроХро│ро┐ро▓рпН рокро┐ро┤рпИроХро│рпН роЕро▓рпНро▓родрпБ родро╡ро▒рпБроХро│рпН роЗро░рпБроХрпНроХроХрпНроХрпВроЯрпБроорпН роОройрпНрокродрпИ родропро╡рпБроЪрпЖропрпНродрпБ роХро╡ройродрпНродро┐ро▓рпН роХрпКро│рпНро│ро╡рпБроорпН. роЕродройрпН родро╛ропрпНроорпКро┤ро┐ропро┐ро▓рпН роЙро│рпНро│ роорпВро▓ роЖро╡рогроорпН роЕродро┐роХро╛ро░рокрпНрокрпВро░рпНро╡ роЖродро╛ро░рооро╛роХ роХро░рпБродрокрпНрокроЯ ро╡рпЗрогрпНроЯрпБроорпН. роорпБроХрпНроХро┐ропрооро╛рой родроХро╡ро▓рпНроХро│рпБроХрпНроХрпБ, родрпКро┤ро┐ро▓рпНроорпБро▒рпИ рооройро┐род роорпКро┤ро┐рокрпЖропро░рпНрокрпНрокрпБ рокро░ро┐роирпНродрпБро░рпИроХрпНроХрокрпНрокроЯрпБроХро┐ро▒родрпБ. роЗроирпНрод роорпКро┤ро┐рокрпЖропро░рпНрокрпНрокрпИрокрпН рокропройрпНрокроЯрпБродрпНродрпБро╡родро╛ро▓рпН роПро▒рпНрокроЯрпБроорпН роОроирпНрод родро╡ро▒ро╛рой рокрпБро░ро┐родро▓рпНроХро│рпН роЕро▓рпНро▓родрпБ родро╡ро▒ро╛рой ро╡ро┐ро│роХрпНроХроЩрпНроХро│рпБроХрпНроХрпБ роиро╛роЩрпНроХро│рпН рокрпКро▒рпБрокрпНрокро▓рпНро▓.