<!--
CO_OP_TRANSLATOR_METADATA:
{
  "original_hash": "160be8c0f558687f6686dca64f10f739",
  "translation_date": "2025-10-11T11:45:13+00:00",
  "source_file": "4-manufacturing/lessons/2-check-fruit-from-device/wio-terminal-camera.md",
  "language_code": "ta"
}
-->
# рокроЯроорпН рокро┐роЯро┐роХрпНроХро╡рпБроорпН - Wio Terminal

роЗроирпНрод рокро╛роЯродрпНродро┐ройрпН роЗроирпНрод рокроХрпБродро┐ропро┐ро▓рпН, роЙроЩрпНроХро│рпН Wio Terminal-роХрпНроХрпБ роХрпЗрооро░ро╛ро╡рпИ роЪрпЗро░рпНродрпНродрпБ, роЕродро┐ро▓ро┐ро░рпБроирпНродрпБ рокроЯроЩрпНроХро│рпИрокрпН рокро┐роЯро┐роХрпНроХрокрпН рокрпЛроХро┐ро▒рпАро░рпНроХро│рпН.

## ро╣ро╛ро░рпНроЯрпНро╡рпЗро░рпНроХро│рпН

Wio Terminal-роХрпНроХрпБ роТро░рпБ роХрпЗрооро░ро╛ родрпЗро╡рпИ.

роирпАроЩрпНроХро│рпН рокропройрпНрокроЯрпБродрпНродрокрпН рокрпЛроХрпБроорпН роХрпЗрооро░ро╛ [ArduCam Mini 2MP Plus](https://www.arducam.com/product/arducam-2mp-spi-camera-b0067-arduino/) роЖроХрпБроорпН. роЗродрпБ OV2640 рокроЯ роЪрпЖройрпНроЪро╛ро░рпИ роЕроЯро┐рокрпНрокроЯрпИропро╛роХроХрпН роХрпКрогрпНроЯ 2 роорпЖроХро╛рокро┐роХрпНроЪро▓рпН роХрпЗрооро░ро╛. роЗродрпБ рокроЯроЩрпНроХро│рпИрокрпН рокро┐роЯро┐роХрпНроХ SPI роЗроЯрпИроорпБроХродрпНродро┐ройрпН роорпВро▓роорпН родрпКроЯро░рпНрокрпБ роХрпКро│рпНро│рпБроХро┐ро▒родрпБ, роорпЗро▓рпБроорпН роЪрпЖройрпНроЪро╛ро░рпИ роЕроорпИроХрпНроХ I<sup>2</sup>C рокропройрпНрокроЯрпБродрпНродрпБроХро┐ро▒родрпБ.

## роХрпЗрооро░ро╛ро╡рпИ роЗрогрпИроХрпНроХро╡рпБроорпН

ArduCam-роХрпНроХрпБ Grove socket роЗро▓рпНро▓рпИ, роЕродройро╛ро▓рпН роЗродрпБ GPIO рокро┐ройрпНроХро│рпН роорпВро▓роорпН Wio Terminal-роХрпНроХрпБ SPI рооро▒рпНро▒рпБроорпН I<sup>2</sup>C рокро╕рпНроХро│рпИ роЗрогрпИроХрпНроХро┐ро▒родрпБ.

### рокрогро┐роХро│рпН - роХрпЗрооро░ро╛ро╡рпИ роЗрогрпИроХрпНроХро╡рпБроорпН

роХрпЗрооро░ро╛ро╡рпИ роЗрогрпИроХрпНроХро╡рпБроорпН.

![ArduCam роЪрпЖройрпНроЪро╛ро░рпН](../../../../../translated_images/arducam.20e4e4cbb268296570b5914e20d6c349fc42ddac9ed4e1b9deba2188204eebae.ta.png)

1. ArduCam роЕроЯро┐рокрпНрокроХрпБродро┐ропро┐ро▓рпН роЙро│рпНро│ рокро┐ройрпНроХро│рпН Wio Terminal-ро▓рпН роЙро│рпНро│ GPIO рокро┐ройрпНроХро│рпБроЯройрпН роЗрогрпИроХрпНроХрокрпНрокроЯ ро╡рпЗрогрпНроЯрпБроорпН. роЪро░ро┐ропро╛рой рокро┐ройрпНроХро│рпИ роОро│ро┐родро╛роХ роХрогрпНроЯро▒ро┐роп, Wio Terminal-роХрпНроХрпБ ро╡ро░рпБроорпН GPIO рокро┐ройрпН ро╕рпНроЯро┐роХрпНроХро░рпИ рокро┐ройрпНроХро│рпБроХрпНроХрпБроЪрпН роЪрпБро▒рпНро▒ро┐ роТроЯрпНроЯро╡рпБроорпН:

    ![GPIO рокро┐ройрпН ро╕рпНроЯро┐роХрпНроХро░рпН роХрпКрогрпНроЯ Wio Terminal](../../../../../translated_images/wio-terminal-pin-sticker.b90b1535937b84bd00d853f0004aea74fac2aec04b43f14b887796b2633f855e.ta.png)

1. роЬроорпНрокро░рпН ро╡ропро░рпНроХро│рпИрокрпН рокропройрпНрокроЯрпБродрпНродро┐, роХрпАро┤рпЗ роЙро│рпНро│ роЗрогрпИрокрпНрокрпБроХро│рпИроЪрпН роЪрпЖропрпНропро╡рпБроорпН:

    | ArduCAM рокро┐ройрпН | Wio Terminal рокро┐ройрпН | ро╡ро┐ро│роХрпНроХроорпН                                 |
    | ------------ | ----------------- | --------------------------------------- |
    | CS           | 24 (SPI_CS)       | SPI Chip Select                         |
    | MOSI         | 19 (SPI_MOSI)     | SPI Controller Output, Peripheral Input |
    | MISO         | 21 (SPI_MISO)     | SPI Controller Input, Peripheral Output |
    | SCK          | 23 (SPI_SCLK)     | SPI Serial Clock                        |
    | GND          | 6 (GND)           | рооро┐ройрпНроЪро╛ро░роорпН - 0V                          |
    | VCC          | 4 (5V)            | 5V рооро┐ройрпНроЪро╛ро░роорпН                            |
    | SDA          | 3 (I2C1_SDA)      | I<sup>2</sup>C Serial Data              |
    | SCL          | 5 (I2C1_SCL)      | I<sup>2</sup>C Serial Clock             |

    ![роЬроорпНрокро░рпН ро╡ропро░рпНроХро│рпБроЯройрпН ArduCam роЗрогрпИроХрпНроХрокрпНрокроЯрпНроЯ Wio Terminal](../../../../../translated_images/arducam-wio-terminal-connections.a4d5a4049bdb5ab800a2877389fc6ecf5e4ff307e6451ff56c517e6786467d0a.ta.png)

    GND рооро▒рпНро▒рпБроорпН VCC роЗрогрпИрокрпНрокрпБроХро│рпН ArduCam-роХрпНроХрпБ 5V рооро┐ройрпНроЪро╛ро░роорпН ро╡ро┤роЩрпНроХрпБроХро┐ройрпНро▒рой. роЗродрпБ 5V-ро▓рпН роЗропроЩрпНроХрпБроХро┐ро▒родрпБ, роЖройро╛ро▓рпН Grove роЪрпЖройрпНроЪро╛ро░рпНроХро│рпН 3V-ро▓рпН роЗропроЩрпНроХрпБроХро┐ройрпНро▒рой. роЗроирпНрод рооро┐ройрпНроЪро╛ро░роорпН роЪро╛родройродрпНродрпИ роЗропроХрпНроХрпБроорпН USB-C роЗрогрпИрокрпНрокро┐ро▓ро┐ро░рпБроирпНродрпБ роирпЗро░роЯро┐ропро╛роХ ро╡ро░рпБроХро┐ро▒родрпБ.

    > ЁЯТБ SPI роЗрогрпИрокрпНрокрпБроХрпНроХро╛рой ArduCam рооро▒рпНро▒рпБроорпН Wio Terminal рокро┐ройрпН рокрпЖропро░рпНроХро│рпН рокро┤рпИроп рокрпЖропро░ро┐роЯрпБроорпН роорпБро▒рпИропрпИрокрпН рокропройрпНрокроЯрпБродрпНродрпБроХро┐ройрпНро▒рой. роЗроирпНрод рокро╛роЯродрпНродро┐ро▓рпН рокрпБродро┐роп рокрпЖропро░ро┐роЯрпБроорпН роорпБро▒рпИропрпИрокрпН рокропройрпНрокроЯрпБродрпНродрокрпНрокроЯрпБроорпН, роЖройро╛ро▓рпН роХрпЛроЯро┐ро▓рпН рокро┐ройрпН рокрпЖропро░рпНроХро│рпН рокропройрпНрокроЯрпБродрпНродрокрпНрокроЯрпБроорпН рокрпЛродрпБ рокро┤рпИроп рокрпЖропро░рпНроХро│рпН рокропройрпНрокроЯрпБродрпНродрокрпНрокроЯрпБроорпН.

1. роЗрокрпНрокрпЛродрпБ Wio Terminal-роР роЙроЩрпНроХро│рпН роХрогро┐ройро┐ропрпБроЯройрпН роЗрогрпИроХрпНроХро▓ро╛роорпН.

## роХрпЗрооро░ро╛ро╡рпБроЯройрпН роЗрогрпИроХрпНроХ роЪро╛родройродрпНродрпИ роиро┐ро░ро▓ро╛роХрпНроХро╡рпБроорпН

роЗрокрпНрокрпЛродрпБ Wio Terminal-роР роЗрогрпИроХрпНроХрокрпНрокроЯрпНроЯ ArduCAM роХрпЗрооро░ро╛ро╡рпИ рокропройрпНрокроЯрпБродрпНрод роиро┐ро░ро▓ро╛роХрпНроХро▓ро╛роорпН.

### рокрогро┐роХро│рпН - роХрпЗрооро░ро╛ро╡рпБроЯройрпН роЗрогрпИроХрпНроХ роЪро╛родройродрпНродрпИ роиро┐ро░ро▓ро╛роХрпНроХро╡рпБроорпН

1. PlatformIO-роРрокрпН рокропройрпНрокроЯрпБродрпНродро┐ рокрпБродро┐роп Wio Terminal родро┐роЯрпНроЯродрпНродрпИ роЙро░рпБро╡ро╛роХрпНроХро╡рпБроорпН. роЗроирпНрод родро┐роЯрпНроЯродрпНродро┐ро▒рпНроХрпБ `fruit-quality-detector` роОройрпНро▒рпБ рокрпЖропро░ро┐роЯро╡рпБроорпН. `setup` роЪрпЖропро▓рпНрокро╛роЯрпНроЯро┐ро▓рпН роЪрпАро░ро┐ропро▓рпН рокрпЛро░рпНроЯрпНроЯрпИ роЕроорпИроХрпНроХ роХрпЛроЯрпБроХро│рпИроЪрпН роЪрпЗро░рпНроХрпНроХро╡рпБроорпН.

1. WiFi-роХрпНроХрпБ роЗрогрпИроХрпНроХ роХрпЛроЯрпБроХро│рпИроЪрпН роЪрпЗро░рпНроХрпНроХро╡рпБроорпН, роЙроЩрпНроХро│рпН WiFi роЪро╛ройрпНро▒рпБроХро│рпИ `config.h` роОройрпНро▒ роХрпЛрокрпНрокро┐ро▓рпН роЪрпЗро░рпНроХрпНроХро╡рпБроорпН. `platformio.ini` роХрпЛрокрпНрокро┐ро▓рпН родрпЗро╡рпИропро╛рой роирпВро▓роХроЩрпНроХро│рпИроЪрпН роЪрпЗро░рпНроХрпНроХ рооро▒роХрпНроХ ро╡рпЗрогрпНроЯро╛роорпН.

1. ArduCam роирпВро▓роХроорпН `platformio.ini` роХрпЛрокрпНрокро┐ро▓рпН роЗро░рпБроирпНродрпБ роиро┐ро▒рпБро╡роХрпНроХрпВроЯро┐роп Arduino роирпВро▓роХрооро╛роХ роХро┐роЯрпИроХрпНроХро╡ро┐ро▓рпНро▓рпИ. роЗродрпИ GitHub рокроХрпНроХродрпНродро┐ро▓ро┐ро░рпБроирпНродрпБ роорпВро▓рооро╛роХ роиро┐ро▒рпБро╡ ро╡рпЗрогрпНроЯрпБроорпН. роЗродрпИрокрпН рокрпЖро▒ роирпАроЩрпНроХро│рпН:

    * [https://github.com/ArduCAM/Arduino.git](https://github.com/ArduCAM/Arduino.git) роЗро░рпБроирпНродрпБ ро░рпЖрокрпНрокрпЛро╡рпИ роХро┐ро│рпЛройрпН роЪрпЖропрпНропро▓ро╛роорпН
    * GitHub-ро▓рпН [github.com/ArduCAM/Arduino](https://github.com/ArduCAM/Arduino) рокроХрпНроХродрпНродро┐ро▒рпНроХрпБроЪрпН роЪрпЖройрпНро▒рпБ **Code** рокрпКродрпНродро╛ройро┐ро▓рпН роЗро░рпБроирпНродрпБ роХрпЛроЯрпБроХро│рпИ zip роЖроХ рокродро┐ро╡ро┐ро▒роХрпНроХро▓ро╛роорпН

1. роЗроирпНрод роХрпЛроЯро┐ро▓ро┐ро░рпБроирпНродрпБ `ArduCAM` роХрпЛрокрпНрокрпБро▒рпИропрпИ роороЯрпНроЯрпБроорпЗ родрпЗро╡рпИ. роорпБро┤рпБ роХрпЛрокрпНрокрпБро▒рпИропрпИ роЙроЩрпНроХро│рпН родро┐роЯрпНроЯродрпНродро┐ройрпН `lib` роХрпЛрокрпНрокрпБро▒рпИропро┐ро▓рпН роироХро▓рпЖроЯрпБроХрпНроХро╡рпБроорпН.

    > тЪая╕П роорпБро┤рпБ роХрпЛрокрпНрокрпБро▒рпИропрпИ роироХро▓рпЖроЯрпБроХрпНроХ ро╡рпЗрогрпНроЯрпБроорпН, роОройро╡рпЗ роХрпЛроЯрпБ `lib/ArduCam`-ро▓рпН роЗро░рпБроХрпНроХрпБроорпН. `ArduCam` роХрпЛрокрпНрокрпБро▒рпИропро┐ройрпН роЙро│рпНро│роЯроХрпНроХродрпНродрпИ роороЯрпНроЯрпБроорпН `lib` роХрпЛрокрпНрокрпБро▒рпИропро┐ро▓рпН роироХро▓рпЖроЯрпБроХрпНроХ ро╡рпЗрогрпНроЯро╛роорпН, роорпБро┤рпБ роХрпЛрокрпНрокрпБро▒рпИропрпИ роироХро▓рпЖроЯрпБроХрпНроХро╡рпБроорпН.

1. ArduCam роирпВро▓роХроХрпН роХрпЛроЯрпБ рокро▓ ро╡роХрпИропро╛рой роХрпЗрооро░ро╛роХрпНроХро│рпБроХрпНроХрпБ ро╡рпЗро▓рпИ роЪрпЖропрпНроХро┐ро▒родрпБ. роирпАроЩрпНроХро│рпН рокропройрпНрокроЯрпБродрпНрод ро╡ро┐ро░рпБроорпНрокрпБроорпН роХрпЗрооро░ро╛ ро╡роХрпИ compiler flags роорпВро▓роорпН роЕроорпИроХрпНроХрокрпНрокроЯрпБроХро┐ро▒родрпБ - роЗродрпБ роирпАроЩрпНроХро│рпН рокропройрпНрокроЯрпБродрпНродро╛род роХрпЗрооро░ро╛роХрпНроХро│рпБроХрпНроХрпБ роХрпЛроЯрпБроХро│рпИ роирпАроХрпНроХрпБро╡родройрпН роорпВро▓роорпН роХроЯрпНроЯрокрпНрокроЯрпНроЯ роирпВро▓роХродрпНродрпИ рооро┐роХроЪрпН роЪро┐ро▒ро┐ропродро╛роХ ро╡рпИродрпНродро┐ро░рпБроХрпНроХро┐ро▒родрпБ. OV2640 роХрпЗрооро░ро╛ро╡рпБроХрпНроХрпБ роирпВро▓роХродрпНродрпИ роЕроорпИроХрпНроХ, `platformio.ini` роХрпЛрокрпНрокро┐ройрпН роЗро▒рпБродро┐ропро┐ро▓рпН роХрпАро┤рпЗ роЙро│рпНро│родрпИроЪрпН роЪрпЗро░рпНроХрпНроХро╡рпБроорпН:

    ```ini
    build_flags =
        -DARDUCAM_SHIELD_V2
        -DOV2640_CAM
    ```

    роЗродрпБ 2 compiler flags-роХро│рпИ роЕроорпИроХрпНроХро┐ро▒родрпБ:

      * `ARDUCAM_SHIELD_V2` - роХрпЗрооро░ро╛ Arduino рокрпЛро░рпНроЯро┐ро▓рпН роЙро│рпНро│родрпБ роОройрпНрокродрпИ роирпВро▓роХродрпНродрпБроХрпНроХрпБ родрпЖро░ро┐ро╡ро┐роХрпНроХро┐ро▒родрпБ.
      * `OV2640_CAM` - OV2640 роХрпЗрооро░ро╛ро╡рпБроХрпНроХро╛рой роХрпЛроЯрпБроХро│рпИ роороЯрпНроЯрпБроорпН роЪрпЗро░рпНроХрпНроХ роирпВро▓роХродрпНродрпБроХрпНроХрпБ родрпЖро░ро┐ро╡ро┐роХрпНроХро┐ро▒родрпБ.

1. `src` роХрпЛрокрпНрокрпБро▒рпИропро┐ро▓рпН `camera.h` роОройрпНро▒ родро▓рпИрокрпНрокрпБ роХрпЛрокрпНрокрпИроЪрпН роЪрпЗро░рпНроХрпНроХро╡рпБроорпН. роЗродрпБ роХрпЗрооро░ро╛ро╡рпБроЯройрпН родрпКроЯро░рпНрокрпБ роХрпКро│рпНро│ роХрпЛроЯрпБроХро│рпИ роХрпКрогрпНроЯро┐ро░рпБроХрпНроХрпБроорпН. роЗроирпНрод роХрпЛрокрпНрокро┐ро▓рпН роХрпАро┤рпЗ роЙро│рпНро│ роХрпЛроЯрпБроХро│рпИроЪрпН роЪрпЗро░рпНроХрпНроХро╡рпБроорпН:

    ```cpp
    #pragma once
    
    #include <ArduCAM.h>
    #include <Wire.h>
    
    class Camera
    {
    public:
        Camera(int format, int image_size) : _arducam(OV2640, PIN_SPI_SS)
        {
            _format = format;
            _image_size = image_size;
        }
    
        bool init()
        {
            // Reset the CPLD
            _arducam.write_reg(0x07, 0x80);
            delay(100);
    
            _arducam.write_reg(0x07, 0x00);
            delay(100);
    
            // Check if the ArduCAM SPI bus is OK
            _arducam.write_reg(ARDUCHIP_TEST1, 0x55);
            if (_arducam.read_reg(ARDUCHIP_TEST1) != 0x55)
            {
                return false;
            }
                
            // Change MCU mode
            _arducam.set_mode(MCU2LCD_MODE);
    
            uint8_t vid, pid;
    
            // Check if the camera module type is OV2640
            _arducam.wrSensorReg8_8(0xff, 0x01);
            _arducam.rdSensorReg8_8(OV2640_CHIPID_HIGH, &vid);
            _arducam.rdSensorReg8_8(OV2640_CHIPID_LOW, &pid);
            if ((vid != 0x26) && ((pid != 0x41) || (pid != 0x42)))
            {
                return false;
            }
            
            _arducam.set_format(_format);
            _arducam.InitCAM();
            _arducam.OV2640_set_JPEG_size(_image_size);
            _arducam.OV2640_set_Light_Mode(Auto);
            _arducam.OV2640_set_Special_effects(Normal);
            delay(1000);
    
            return true;
        }
    
        void startCapture()
        {
            _arducam.flush_fifo();
            _arducam.clear_fifo_flag();
            _arducam.start_capture();
        }
    
        bool captureReady()
        {
            return _arducam.get_bit(ARDUCHIP_TRIG, CAP_DONE_MASK);
        }
    
        bool readImageToBuffer(byte **buffer, uint32_t &buffer_length)
        {
            if (!captureReady()) return false;
    
            // Get the image file length
            uint32_t length = _arducam.read_fifo_length();
            buffer_length = length;
    
            if (length >= MAX_FIFO_SIZE)
            {
                return false;
            }
            if (length == 0)
            {
                return false;
            }
    
            // create the buffer
            byte *buf = new byte[length];
    
            uint8_t temp = 0, temp_last = 0;
            int i = 0;
            uint32_t buffer_pos = 0;
            bool is_header = false;
    
            _arducam.CS_LOW();
            _arducam.set_fifo_burst();
            
            while (length--)
            {
                temp_last = temp;
                temp = SPI.transfer(0x00);
                //Read JPEG data from FIFO
                if ((temp == 0xD9) && (temp_last == 0xFF)) //If find the end ,break while,
                {
                    buf[buffer_pos] = temp;
    
                    buffer_pos++;
                    i++;
                    
                    _arducam.CS_HIGH();
                }
                if (is_header == true)
                {
                    //Write image data to buffer if not full
                    if (i < 256)
                    {
                        buf[buffer_pos] = temp;
                        buffer_pos++;
                        i++;
                    }
                    else
                    {
                        _arducam.CS_HIGH();
    
                        i = 0;
                        buf[buffer_pos] = temp;
    
                        buffer_pos++;
                        i++;
    
                        _arducam.CS_LOW();
                        _arducam.set_fifo_burst();
                    }
                }
                else if ((temp == 0xD8) & (temp_last == 0xFF))
                {
                    is_header = true;
    
                    buf[buffer_pos] = temp_last;
                    buffer_pos++;
                    i++;
    
                    buf[buffer_pos] = temp;
                    buffer_pos++;
                    i++;
                }
            }
            
            _arducam.clear_fifo_flag();
    
            _arducam.set_format(_format);
            _arducam.InitCAM();
            _arducam.OV2640_set_JPEG_size(_image_size);
    
            // return the buffer
            *buffer = buf;
        }
    
    private:
        ArduCAM _arducam;
        int _format;
        int _image_size;
    };
    ```

    роЗродрпБ ArduCam роирпВро▓роХроЩрпНроХро│рпИрокрпН рокропройрпНрокроЯрпБродрпНродро┐ роХрпЗрооро░ро╛ро╡рпИ роЕроорпИроХрпНроХро╡рпБроорпН, родрпЗро╡рпИропро╛рой рокрпЛродрпБ SPI рокро╕рпИ рокропройрпНрокроЯрпБродрпНродро┐ рокроЯроЩрпНроХро│рпИ роОроЯрпБроХрпНроХро╡рпБроорпН роХрпБро▒рпИроирпНрод роиро┐ро▓рпИ роХрпЛроЯро╛роХрпБроорпН. роЗродрпБ ArduCam-роХрпНроХрпБ рооро┐роХро╡рпБроорпН роХрпБро▒ро┐рокрпНрокро┐роЯрпНроЯродро╛роХ роЙро│рпНро│родрпБ, роОройро╡рпЗ роЗродрпБ роОрокрпНрокроЯро┐ ро╡рпЗро▓рпИ роЪрпЖропрпНроХро┐ро▒родрпБ роОройрпНрокродрпИ роирпАроЩрпНроХро│рпН роХро╡ро▓рпИрокрпНрокроЯ ро╡рпЗрогрпНроЯро┐ропродро┐ро▓рпНро▓рпИ.

1. `main.cpp`-ро▓рпН, рооро▒рпНро▒ `include` роЕро▒ро┐роХрпНроХрпИроХро│ро┐ройрпН роХрпАро┤рпЗ роЗроирпНрод рокрпБродро┐роп роХрпЛрокрпНрокрпИроЪрпН роЪрпЗро░рпНроХрпНроХро╡рпБроорпН рооро▒рпНро▒рпБроорпН роХрпЗрооро░ро╛ ро╡роХрпБрокрпНрокро┐ройрпН роТро░рпБ роЙродро╛ро░рогродрпНродрпИ роЙро░рпБро╡ро╛роХрпНроХро╡рпБроорпН:

    ```cpp
    #include "camera.h"

    Camera camera = Camera(JPEG, OV2640_640x480);
    ```

    роЗродрпБ JPEG ро╡роЯро┐ро╡ро┐ро▓рпН 640x480 родрпАро░рпНрооро╛ройродрпНродро┐ро▓рпН рокроЯроЩрпНроХро│рпИ роЪрпЗрооро┐роХрпНроХрпБроорпН `Camera`-роР роЙро░рпБро╡ро╛роХрпНроХрпБроХро┐ро▒родрпБ. роЕродро┐роХ родрпАро░рпНрооро╛ройроЩрпНроХро│рпН (3280x2464 ро╡ро░рпИ) роЖродро░ро┐роХрпНроХрокрпНрокроЯрпБроХро┐ройрпНро▒рой, роЖройро╛ро▓рпН рокроЯ ро╡роХрпИрокрпНрокро╛ро│ро░рпН рооро┐роХро╡рпБроорпН роЪро┐ро▒ро┐роп рокроЯроЩрпНроХро│ро┐ро▓рпН (227x227) ро╡рпЗро▓рпИ роЪрпЖропрпНроХро┐ро▒родрпБ, роОройро╡рпЗ рокрпЖро░ро┐роп рокроЯроЩрпНроХро│рпИрокрпН рокро┐роЯро┐родрпНродрпБ роЕройрпБрокрпНрок родрпЗро╡рпИропро┐ро▓рпНро▓рпИ.

1. роХрпЗрооро░ро╛ро╡рпИ роЕроорпИроХрпНроХ роТро░рпБ роЪрпЖропро▓рпНрокро╛роЯрпНроЯрпИ ро╡ро░рпИропро▒рпБроХрпНроХ роХрпАро┤рпЗ роЙро│рпНро│ роХрпЛроЯрпБроХро│рпИроЪрпН роЪрпЗро░рпНроХрпНроХро╡рпБроорпН:

    ```cpp
    void setupCamera()
    {
        pinMode(PIN_SPI_SS, OUTPUT);
        digitalWrite(PIN_SPI_SS, HIGH);
    
        Wire.begin();
        SPI.begin();
    
        if (!camera.init())
        {
            Serial.println("Error setting up the camera!");
        }
    }
    ```

    роЗроирпНрод `setupCamera` роЪрпЖропро▓рпНрокро╛роЯрпБ SPI chip select pin (`PIN_SPI_SS`) роР роЙропро░рооро╛роХ роЕроорпИрокрпНрокродройрпН роорпВро▓роорпН Wio Terminal-роР SPI роХроЯрпНроЯрпБрокрпНрокро╛роЯрпНроЯро╛ро│ро░ро╛роХ роЕроорпИроХрпНроХро┐ро▒родрпБ. рокро┐ройрпНройро░рпН роЗродрпБ I<sup>2</sup>C рооро▒рпНро▒рпБроорпН SPI рокро╕рпНроХро│рпИ родрпКроЯроЩрпНроХрпБроХро┐ро▒родрпБ. роЗро▒рпБродро┐ропро╛роХ, роХрпЗрооро░ро╛ ро╡роХрпБрокрпНрокрпИ роЖро░роорпНрокро┐роХрпНроХро┐ро▒родрпБ, роЗродрпБ роХрпЗрооро░ро╛ роЪрпЖройрпНроЪро╛ро░рпН роЕроорпИрокрпНрокрпБроХро│рпИ роЕроорпИроХрпНроХро┐ро▒родрпБ рооро▒рпНро▒рпБроорпН роЕройрпИродрпНродрпБроорпН роЪро░ро┐ропро╛роХ роЗрогрпИроХрпНроХрокрпНрокроЯрпНроЯрпБро│рпНро│родро╛ роОройрпНрокродрпИ роЙро▒рпБродро┐рокрпНрокроЯрпБродрпНродрпБроХро┐ро▒родрпБ.

1. `setup` роЪрпЖропро▓рпНрокро╛роЯрпНроЯро┐ройрпН роЗро▒рпБродро┐ропро┐ро▓рпН роЗроирпНрод роЪрпЖропро▓рпНрокро╛роЯрпНроЯрпИ роЕро┤рпИроХрпНроХро╡рпБроорпН:

    ```cpp
    setupCamera();
    ```

1. роЗроирпНрод роХрпЛроЯрпБроХро│рпИ роХроЯрпНроЯроорпИродрпНродрпБ рокродро┐ро╡рпЗро▒рпНро▒ро╡рпБроорпН, роорпЗро▓рпБроорпН роЪрпАро░ро┐ропро▓рпН рооро╛ройро┐роЯрпНроЯро░ро┐ро▓ро┐ро░рпБроирпНродрпБ ро╡рпЖро│ро┐ропрпАроЯрпНроЯрпИроЪрпН роЪро░ро┐рокро╛ро░рпНроХрпНроХро╡рпБроорпН. роирпАроЩрпНроХро│рпН `Error setting up the camera!` роОройрпНрокродрпИрокрпН рокро╛ро░рпНроХрпНроХро┐ро▒рпАро░рпНроХро│рпН роОройрпНро▒ро╛ро▓рпН, ArduCam-роХрпНроХрпБ роЪро░ро┐ропро╛рой GPIO рокро┐ройрпНроХро│рпБроЯройрпН роЕройрпИродрпНродрпБ роХрпЗрокро┐ро│рпНроХро│рпБроорпН роЗрогрпИроХрпНроХрокрпНрокроЯрпНроЯрпБро│рпНро│родро╛ роОройрпНрокродрпИ роЙро▒рпБродро┐рокрпНрокроЯрпБродрпНрод ро╡ропро░рпНроХро│рпИроЪрпН роЪро░ро┐рокро╛ро░рпНроХрпНроХро╡рпБроорпН, роорпЗро▓рпБроорпН роЕройрпИродрпНродрпБ роЬроорпНрокро░рпН роХрпЗрокро┐ро│рпНроХро│рпБроорпН роЪро░ро┐ропро╛роХ роЕрооро░рпНроирпНродрпБро│рпНро│родро╛ роОройрпНрокродрпИ роЙро▒рпБродро┐рокрпНрокроЯрпБродрпНродро╡рпБроорпН.

## рокроЯроорпН рокро┐роЯро┐роХрпНроХро╡рпБроорпН

роЗрокрпНрокрпЛродрпБ Wio Terminal-роР роТро░рпБ рокрпКродрпНродро╛ройрпИ роЕро┤рпБродрпНродрпБроорпНрокрпЛродрпБ рокроЯроорпН рокро┐роЯро┐роХрпНроХ роиро┐ро░ро▓ро╛роХрпНроХро▓ро╛роорпН.

### рокрогро┐роХро│рпН - рокроЯроорпН рокро┐роЯро┐роХрпНроХро╡рпБроорпН

1. роорпИроХрпНро░рпЛроХрогрпНроЯрпНро░рпЛро▓ро░рпНроХро│рпН роЙроЩрпНроХро│рпН роХрпЛроЯрпБроХро│рпИ родрпКроЯро░рпНроирпНродрпБ роЗропроХрпНроХрпБроХро┐ройрпНро▒рой, роОройро╡рпЗ роТро░рпБ роЪрпЖройрпНроЪро╛ро░рпБроХрпНроХрпБ рокродро┐ро▓ро╛роХ рокроЯроорпН роОроЯрпБрокрпНрокродрпИрокрпН рокрпЛройрпНро▒ро╡ро▒рпНро▒рпИродрпН родрпКроЯроЩрпНроХрпБро╡родрпБ роОро│ро┐родро▓рпНро▓. Wio Terminal-роХрпНроХрпБ рокрпКродрпНродро╛ройрпНроХро│рпН роЙро│рпНро│рой, роОройро╡рпЗ роХрпЗрооро░ро╛ро╡рпИ рокрпКродрпНродро╛ройрпНроХро│ро┐ро▓рпН роТройрпНро▒ро╛ро▓рпН родрпКроЯроЩрпНроХрокрпНрокроЯрпБроорпНрокроЯро┐ роЕроорпИроХрпНроХро▓ро╛роорпН. `setup` роЪрпЖропро▓рпНрокро╛роЯрпНроЯро┐ройрпН роЗро▒рпБродро┐ропро┐ро▓рпН роХрпАро┤рпЗ роЙро│рпНро│ роХрпЛроЯрпБроХро│рпИроЪрпН роЪрпЗро░рпНроХрпНроХро╡рпБроорпН, роЗродрпБ C рокрпКродрпНродро╛ройрпИ (роорпВройрпНро▒рпБ рокрпКродрпНродро╛ройрпНроХро│ро┐ро▓рпН роТройрпНро▒рпБ, рокро╡ро░рпН роЪрпБро╡ро┐роЯрпНроЪрпБроХрпНроХрпБ роЕро░рпБроХро┐ро▓рпБро│рпНро│родрпБ) роЕроорпИроХрпНроХро┐ро▒родрпБ.

    ![рокро╡ро░рпН роЪрпБро╡ро┐роЯрпНроЪрпБроХрпНроХрпБ роЕро░рпБроХро┐ро▓рпБро│рпНро│ C рокрпКродрпНродро╛ройрпН](../../../../../translated_images/wio-terminal-c-button.73df3cb1c1445ea07ee98316af0e7925fcb43135df0abed58d3d4822b2589c3b.ta.png)

    ```cpp
    pinMode(WIO_KEY_C, INPUT_PULLUP);
    ```

    `INPUT_PULLUP` роорпБро▒рпИ роТро░рпБ роЙро│рпНро│рпАроЯрпНроЯрпИ рооро╛ро▒ро╛роХ рооро╛ро▒рпНро▒рпБроХро┐ро▒родрпБ. роЙродро╛ро░рогрооро╛роХ, роЪро╛родро╛ро░рогрооро╛роХ роТро░рпБ рокрпКродрпНродро╛ройрпН роЕро┤рпБродрпНродрокрпНрокроЯро╛род рокрпЛродрпБ роХрпБро▒рпИроирпНрод роЪро┐роХрпНройро▓рпИ роЕройрпБрокрпНрокрпБроорпН, роорпЗро▓рпБроорпН роЕро┤рпБродрпНродрокрпНрокроЯрпНроЯро╛ро▓рпН роЕродро┐роХ роЪро┐роХрпНройро▓рпИ роЕройрпБрокрпНрокрпБроорпН. `INPUT_PULLUP` роЖроХ роЕроорпИроХрпНроХрокрпНрокроЯрпНроЯро╛ро▓рпН, роЕро╡рпИ роЕро┤рпБродрпНродрокрпНрокроЯро╛род рокрпЛродрпБ роЕродро┐роХ роЪро┐роХрпНройро▓рпИ роЕройрпБрокрпНрокрпБроорпН, роорпЗро▓рпБроорпН роЕро┤рпБродрпНродрокрпНрокроЯрпНроЯро╛ро▓рпН роХрпБро▒рпИроирпНрод роЪро┐роХрпНройро▓рпИ роЕройрпБрокрпНрокрпБроорпН.

1. `loop` роЪрпЖропро▓рпНрокро╛роЯрпНроЯрпБроХрпНроХрпБ роорпБройрпН рокрпКродрпНродро╛ройрпН роЕро┤рпБродрпНродродрпНродрпБроХрпНроХрпБ рокродро┐ро▓ро│ро┐роХрпНроХ роТро░рпБ роХро╛ро▓ро┐ропро╛рой роЪрпЖропро▓рпНрокро╛роЯрпНроЯрпИроЪрпН роЪрпЗро░рпНроХрпНроХро╡рпБроорпН:

    ```cpp
    void buttonPressed()
    {
        
    }
    ```

1. `loop` роорпБро▒рпИропро┐ро▓рпН рокрпКродрпНродро╛ройрпН роЕро┤рпБродрпНродрокрпНрокроЯрпНроЯро╛ро▓рпН роЗроирпНрод роЪрпЖропро▓рпНрокро╛роЯрпНроЯрпИ роЕро┤рпИроХрпНроХро╡рпБроорпН:

    ```cpp
    void loop()
    {
        if (digitalRead(WIO_KEY_C) == LOW)
        {
            buttonPressed();
            delay(2000);
        }
    
        delay(200);
    }
    ```

    роЗроирпНрод ро╡ро┐роЪрпИ рокрпКродрпНродро╛ройрпН роЕро┤рпБродрпНродрокрпНрокроЯрпНроЯродро╛ роОройрпНрокродрпИроЪрпН роЪро░ро┐рокро╛ро░рпНроХрпНроХро┐ро▒родрпБ. роЕродрпБ роЕро┤рпБродрпНродрокрпНрокроЯрпНроЯро╛ро▓рпН, `buttonPressed` роЪрпЖропро▓рпНрокро╛роЯрпБ роЕро┤рпИроХрпНроХрокрпНрокроЯрпБроХро┐ро▒родрпБ, роорпЗро▓рпБроорпН ро▓рпВрокрпН 2 ро╡ро┐роиро╛роЯро┐роХро│рпН родро╛роородрооро╛роХро┐ро▒родрпБ. роЗродрпБ роТро░рпБ роирпАрогрпНроЯ роЕро┤рпБродрпНродроорпН роЗро░рпБроорпБро▒рпИ рокродро┐ро╡рпБ роЪрпЖропрпНропрокрпНрокроЯро╛рооро▓рпН роЗро░рпБроХрпНроХ рокрпКродрпНродро╛ройрпН ро╡ро┐роЯрокрпНрокроЯрпБро╡родро▒рпНроХро╛рой роирпЗро░родрпНродрпИ ро╡ро┤роЩрпНроХрпБроХро┐ро▒родрпБ.

    > ЁЯТБ Wio Terminal-ро▓рпН роЙро│рпНро│ рокрпКродрпНродро╛ройрпН `INPUT_PULLUP` роЖроХ роЕроорпИроХрпНроХрокрпНрокроЯрпНроЯрпБро│рпНро│родрпБ, роОройро╡рпЗ роЕро┤рпБродрпНродрокрпНрокроЯро╛род рокрпЛродрпБ роЕродро┐роХ роЪро┐роХрпНройро▓рпИ роЕройрпБрокрпНрокрпБроорпН, роорпЗро▓рпБроорпН роЕро┤рпБродрпНродрокрпНрокроЯрпНроЯро╛ро▓рпН роХрпБро▒рпИроирпНрод роЪро┐роХрпНройро▓рпИ роЕройрпБрокрпНрокрпБроорпН.

1. `buttonPressed` роЪрпЖропро▓рпНрокро╛роЯрпНроЯро┐ро▓рпН роХрпАро┤рпЗ роЙро│рпНро│ роХрпЛроЯрпБроХро│рпИроЪрпН роЪрпЗро░рпНроХрпНроХро╡рпБроорпН:

    ```cpp
    camera.startCapture();
 
    while (!camera.captureReady())
        delay(100);

    Serial.println("Image captured");

    byte *buffer;
    uint32_t length;

    if (camera.readImageToBuffer(&buffer, length))
    {
        Serial.print("Image read to buffer with length ");
        Serial.println(length);

        delete(buffer);
    }
    ```

    роЗроирпНрод роХрпЛроЯрпБ `startCapture` роЕро┤рпИрокрпНрокродройрпН роорпВро▓роорпН роХрпЗрооро░ро╛ рокро┐роЯро┐рокрпНрокрпИродрпН родрпКроЯроЩрпНроХрпБроХро┐ро▒родрпБ. роХрпЗрооро░ро╛ ро╣ро╛ро░рпНроЯрпНро╡рпЗро░рпНроХро│рпН роирпАроЩрпНроХро│рпН роХрпЛро░рпБроорпНрокрпЛродрпБ родро░ро╡рпБроХро│рпИродрпН родро┐ро░рпБрокрпНрокрпБро╡родро╛ро▓рпН ро╡рпЗро▓рпИ роЪрпЖропрпНропро╡ро┐ро▓рпНро▓рпИ, роЕродро▒рпНроХрпБ рокродро┐ро▓ро╛роХ роирпАроЩрпНроХро│рпН рокро┐роЯро┐рокрпНрокрпИродрпН родрпКроЯроЩрпНроХ роТро░рпБ роЙродрпНродро░ро╡рпИ роЕройрпБрокрпНрокрпБроХро┐ро▒рпАро░рпНроХро│рпН, роорпЗро▓рпБроорпН роХрпЗрооро░ро╛ рокро┐ройрпНройрогро┐ропро┐ро▓рпН рокроЯроорпН рокро┐роЯро┐роХрпНроХ, JPEG-роЖроХ рооро╛ро▒рпНро▒, рооро▒рпНро▒рпБроорпН роХрпЗрооро░ро╛ родро╛ройро╛роХ роЙро│рпНро│рпВро░рпН рокроГрокро░ро┐ро▓рпН роЪрпЗрооро┐роХрпНроХ ро╡рпЗро▓рпИ роЪрпЖропрпНроХро┐ро▒родрпБ. `captureReady` роЕро┤рпИрокрпНрокрпБ рокро┐ройрпНройро░рпН рокроЯ рокро┐роЯро┐рокрпНрокрпБ роорпБроЯро┐роирпНродродро╛ роОройрпНрокродрпИроЪрпН роЪро░ро┐рокро╛ро░рпНроХрпНроХро┐ро▒родрпБ.

    рокро┐роЯро┐рокрпНрокрпБ роорпБроЯро┐роирпНродро╡рпБроЯройрпН, роХрпЗрооро░ро╛ро╡ро┐ро▓рпН роЙро│рпНро│ рокроГрокро░ро┐ро▓рпН роЙро│рпНро│ рокроЯ родро░ро╡рпБроХро│рпН `readImageToBuffer` роЕро┤рпИрокрпНрокрпБроЯройрпН роЙро│рпНро│рпВро░рпН рокроГрокро░ро┐ро▓рпН (рокрпИроЯрпНроХро│ро┐ройрпН ро╡ро░ро┐роЪрпИ) роироХро▓рпЖроЯрпБроХрпНроХрокрпНрокроЯрпБроХро┐ро▒родрпБ. рокроГрокро░ро┐ройрпН роирпАро│роорпН рокро┐ройрпНройро░рпН роЪрпАро░ро┐ропро▓рпН рооро╛ройро┐роЯрпНроЯро░рпБроХрпНроХрпБ роЕройрпБрокрпНрокрокрпНрокроЯрпБроХро┐ро▒родрпБ.

1. роЗроирпНрод роХрпЛроЯрпБроХро│рпИ роХроЯрпНроЯроорпИродрпНродрпБ рокродро┐ро╡рпЗро▒рпНро▒ро╡рпБроорпН, роорпЗро▓рпБроорпН роЪрпАро░ро┐ропро▓рпН рооро╛ройро┐роЯрпНроЯро░ро┐ро▓рпН ро╡рпЖро│ро┐ропрпАроЯрпНроЯрпИроЪрпН роЪро░ро┐рокро╛ро░рпНроХрпНроХро╡рпБроорпН. роТро╡рпНро╡рпКро░рпБ роорпБро▒рпИропрпБроорпН роирпАроЩрпНроХро│рпН C рокрпКродрпНродро╛ройрпИ роЕро┤рпБродрпНродрпБроорпНрокрпЛродрпБ, роТро░рпБ рокроЯроорпН рокро┐роЯро┐роХрпНроХрокрпНрокроЯрпБроорпН, роорпЗро▓рпБроорпН рокроЯ роЕро│ро╡рпБ роЪрпАро░ро┐ропро▓рпН рооро╛ройро┐роЯрпНроЯро░рпБроХрпНроХрпБ роЕройрпБрокрпНрокрокрпНрокроЯрпБроорпН.

    ```output
    Connecting to WiFi..
    Connected!
    Image captured
    Image read to buffer with length 9224
    Image captured
    Image read to buffer with length 11272
    ```

    ро╡рпЖро╡рпНро╡рпЗро▒рпБ рокроЯроЩрпНроХро│рпБроХрпНроХрпБ ро╡рпЖро╡рпНро╡рпЗро▒рпБ роЕро│ро╡рпБроХро│рпН роЗро░рпБроХрпНроХрпБроорпН. роЕро╡рпИ JPEG-роХрпНроХро│ро╛роХ роЪрпБро░рпБроХрпНроХрокрпНрокроЯрпНроЯрпБро│рпНро│рой, роорпЗро▓рпБроорпН JPEG роХрпЛрокрпНрокро┐ройрпН роЕро│ро╡рпБ родрпАро░рпНрооро╛ройродрпНродро┐ро▒рпНроХрпБ роПро▒рпНрок рокроЯродрпНродро┐ро▓рпН роЙро│рпНро│ро╡ро▒рпНро▒ро┐ройрпН роЕроЯро┐рокрпНрокроЯрпИропро┐ро▓рпН рооро╛ро▒рпБроорпН.

> ЁЯТБ роЗроирпНрод роХрпЛроЯрпБроХро│рпИ [code-camera/wio-terminal](../../../../../4-manufacturing/lessons/2-check-fruit-from-device/code-camera/wio-terminal) роХрпЛрокрпНрокрпБро▒рпИропро┐ро▓рпН роХро╛рогро▓ро╛роорпН.

ЁЯША роирпАроЩрпНроХро│рпН роЙроЩрпНроХро│рпН Wio Terminal-роРрокрпН рокропройрпНрокроЯрпБродрпНродро┐ ро╡рпЖро▒рпНро▒ро┐роХро░рооро╛роХ рокроЯроЩрпНроХро│рпИрокрпН рокро┐роЯро┐родрпНродрпБро│рпНро│рпАро░рпНроХро│рпН.

## ро╡ро┐ро░рпБрокрпНрокроорпН - SD роХро╛ро░рпНроЯрпИрокрпН рокропройрпНрокроЯрпБродрпНродро┐ роХрпЗрооро░ро╛ рокроЯроЩрпНроХро│рпИроЪрпН роЪро░ро┐рокро╛ро░рпНроХрпНроХро╡рпБроорпН

роХрпЗрооро░ро╛ рокро┐роЯро┐родрпНрод рокроЯроЩрпНроХро│рпИрокрпН рокро╛ро░рпНроХрпНроХ рооро┐роХ роОро│ро┐родро╛рой ро╡ро┤ро┐, роЕро╡ро▒рпНро▒рпИ Wio Terminal-ро▓рпН роЙро│рпНро│ SD роХро╛ро░рпНроЯро┐ро▓рпН роОро┤рпБродрпБро╡родрпБ, рокро┐ройрпНройро░рпН роЙроЩрпНроХро│рпН роХрогро┐ройро┐ропро┐ро▓рпН роЕро╡ро▒рпНро▒рпИрокрпН рокро╛ро░рпНро╡рпИропро┐роЯрпБро╡родрпБ. роЙроЩрпНроХро│рпН роХрогро┐ройро┐ропро┐ро▓рпН microSD роХро╛ро░рпНроЯрпБ рооро▒рпНро▒рпБроорпН microSD роХро╛ро░рпНроЯрпБ роЪро╛роХрпНроХрпЖроЯрпН роЕро▓рпНро▓родрпБ роЕроЯро╛рокрпНроЯро░рпН роЗро░рпБроирпНродро╛ро▓рпН роЗроирпНрод рокроЯро┐ропрпИроЪрпН роЪрпЖропрпНропро╡рпБроорпН.

Wio Terminal 16GB ро╡ро░рпИ роЙро│рпНро│ microSD роХро╛ро░рпНроЯрпБроХро│рпИ роороЯрпНроЯрпБроорпЗ роЖродро░ро┐роХрпНроХро┐ро▒родрпБ. роЙроЩрпНроХро│рпН SD роХро╛ро░рпНроЯрпБ рокрпЖро░ро┐ропродро╛роХ роЗро░рпБроирпНродро╛ро▓рпН роЕродрпБ ро╡рпЗро▓рпИ роЪрпЖропрпНропро╛родрпБ.

### рокрогро┐роХро│рпН - SD роХро╛ро░рпНроЯрпИрокрпН рокропройрпНрокроЯрпБродрпНродро┐ роХрпЗрооро░ро╛ рокроЯроЩрпНроХро│рпИроЪрпН роЪро░ро┐рокро╛ро░рпНроХрпНроХро╡рпБроорпН

1. FAT32 роЕро▓рпНро▓родрпБ exFAT роЖроХ microSD роХро╛ро░рпНроЯрпИ роЙроЩрпНроХро│рпН роХрогро┐ройро┐ропро┐ро▓рпН роЙро│рпНро│ родрпКроЯро░рпНрокрпБроЯрпИроп рокропройрпНрокро╛роЯрпБроХро│рпИрокрпН рокропройрпНрокроЯрпБродрпНродро┐ (macOS-ро▓рпН Disk Utility, Windows-ро▓рпН File Explorer, роЕро▓рпНро▓родрпБ Linux-ро▓рпН роХроЯрпНроЯро│рпИроХро│рпН) ро╡роЯро┐ро╡роорпИроХрпНроХро╡рпБроорпН.

1. рокро╡ро░рпН роЪрпБро╡ро┐роЯрпНроЪро┐ройрпН роХрпАро┤рпЗ роЙро│рпНро│ роЪро╛роХрпНроХрпЖроЯрпНроЯро┐ро▓рпН microSD роХро╛ро░рпНроЯрпИ роЪрпЖро░рпБроХро╡рпБроорпН. роЕродрпБ роХро┐ро│ро┐роХрпН роЪрпЖропрпНродрпБ роЗроЯродрпНродро┐ро▓рпН роЗро░рпБроХрпНроХрпБроорпН ро╡ро░рпИ роорпБро┤рпБроорпИропро╛роХ роЙро│рпНро│рпЗ роЪрпЖро░рпБроХро╡рпБроорпН, роирпАроЩрпНроХро│рпН fingernail роЕро▓рпНро▓родрпБ роорпЖро▓рпНро▓ро┐роп роХро░рпБро╡ро┐ропрпИрокрпН рокропройрпНрокроЯрпБродрпНрод ро╡рпЗрогрпНроЯро┐ропро┐ро░рпБроХрпНроХрпБроорпН.

1. `main.cpp` роХрпЛрокрпНрокро┐ройрпН роорпЗро▓рпН рокроХрпНроХродрпНродро┐ро▓рпН роХрпАро┤рпЗ роЙро│рпНро│ `include` роЕро▒ро┐роХрпНроХрпИроХро│рпИроЪрпН роЪрпЗро░рпНроХрпНроХро╡рпБроорпН:

    ```cpp
    #include "SD/Seeed_SD.h"
    #include <Seeed_FS.h>
    ```

1. `setup` роЪрпЖропро▓рпНрокро╛роЯрпНроЯрпБроХрпНроХрпБ роорпБройрпН роХрпАро┤рпЗ роЙро│рпНро│ роЪрпЖропро▓рпНрокро╛роЯрпНроЯрпИроЪрпН роЪрпЗро░рпНроХрпНроХро╡рпБроорпН:

    ```cpp
    void setupSDCard()
    {
        while (!SD.begin(SDCARD_SS_PIN, SDCARD_SPI))
        {
            Serial.println("SD Card Error");
        }
    }
    ```

    роЗродрпБ SPI рокро╕рпИрокрпН рокропройрпНрокроЯрпБродрпНродро┐ SD роХро╛ро░рпНроЯрпИ роЕроорпИроХрпНроХро┐ро▒родрпБ.

1. роЗродрпИ `setup` роЪрпЖропро▓рпНрокро╛роЯрпНроЯро┐ро▓рпН роЕро┤рпИроХрпНроХро╡рпБроорпН:

    ```cpp
    setupSDCard();
    ```

1. `buttonPressed` роЪрпЖропро▓рпНрокро╛роЯрпНроЯрпБроХрпНроХрпБ роорпЗро▓рпН роХрпАро┤рпЗ роЙро│рпНро│ роХрпЛроЯрпБроХро│рпИроЪрпН роЪрпЗро░рпНроХрпНроХро╡рпБроорпН:

    ```cpp
    int fileNum = 1;

    void saveToSDCard(byte *buffer, uint32_t length)
    {
        char buff[16];
        sprintf(buff, "%d.jpg", fileNum);
        fileNum++;
    
        File outFile = SD.open(buff, FILE_WRITE );
        outFile.write(buffer, length);
        outFile.close();

        Serial.print("Image written to file ");
        Serial.println(buff);
    }
    ```

    роЗродрпБ роХрпЛрокрпНрокрпБ роОрогрпНрогро┐роХрпНроХрпИроХрпНроХро╛рой роТро░рпБ роЙро▓роХро│ро╛ро╡ро┐роп рооро╛ро▒ро┐ропрпИ ро╡ро░рпИропро▒рпБроХрпНроХро┐ро▒родрпБ. роЗродрпБ рокроЯ роХрпЛрокрпНрокрпБ рокрпЖропро░рпНроХро│рпБроХрпНроХрпБ рокропройрпНрокроЯрпБродрпНродрокрпНрокроЯрпБроХро┐ро▒родрпБ, роОройро╡рпЗ рокро▓ рокроЯроЩрпНроХро│рпН роЕродро┐роХро░ро┐роХрпНроХрпБроорпН роХрпЛрокрпНрокрпБ рокрпЖропро░рпНроХро│рпБроЯройрпН рокро┐роЯро┐роХрпНроХрокрпНрокроЯро▓ро╛роорпН - `1.jpg`, `2.jpg` рокрпЛройрпНро▒ро╡рпИ.

    рокро┐ройрпНройро░рпН `saveToSDCard` ро╡ро░рпИропро▒рпБроХрпНроХрокрпНрокроЯрпБроХро┐ро▒родрпБ, роЗродрпБ рокрпИроЯрпН родро░ро╡рпБроХро│ро┐ройрпН рокроГрокро░рпН рооро▒рпНро▒рпБроорпН рокроГрокро░ро┐ройрпН роирпАро│родрпНродрпИ роОроЯрпБродрпНродрпБроХрпНроХрпКро│рпНроХро┐ро▒родрпБ. роХрпЛрокрпНрокрпБ роОрогрпНрогро┐роХрпНроХрпИропрпИрокрпН рокропройрпНрокроЯрпБродрпНродро┐ роТро░рпБ роХрпЛрокрпНрокрпБ рокрпЖропро░рпН роЙро░рпБро╡ро╛роХрпНроХрокрпНрокроЯрпБроХро┐ро▒родрпБ, роорпЗро▓рпБроорпН роЕроЯрпБродрпНрод роХрпЛрокрпНрокрпБроХрпНроХрпБ родропро╛ро░ро╛роХ роХрпЛрокрпНрокрпБ роОрогрпНрогро┐роХрпНроХрпИ роЕродро┐роХро░ро┐роХрпНроХрокрпНрокроЯрпБроХро┐ро▒родрпБ. рокроГрокро░ро┐ро▓рпН роЙро│рпНро│ рокрпИройро░ро┐ родро░ро╡рпБроХро│рпН роХрпЛрокрпНрокро┐ро▓рпН роОро┤рпБродрокрпНрокроЯрпБроХро┐ро▒родрпБ.

1. `buttonPressed` роЪрпЖропро▓рпНрокро╛роЯрпНроЯро┐ро▓рпН `saveToSDCard` роЪрпЖропро▓рпНрокро╛роЯрпНроЯрпИ роЕро┤рпИроХрпНроХро╡рпБроорпН. роЕро┤рпИрокрпНрокрпБ **рокроГрокро░рпН роирпАроХрпНроХрокрпНрокроЯрпБроорпН роорпБройрпН** роЗро░рпБроХрпНроХ ро╡рпЗрогрпНроЯрпБроорпН:

    ```cpp
    Serial.print("Image read to buffer with length ");
    Serial.println(length);

    saveToSDCard(buffer, length);
    
    delete(buffer);
    ```

1. роЗроирпНрод роХрпЛроЯрпБроХро│рпИ роХроЯрпНроЯроорпИродрпНродрпБ рокродро┐ро╡рпЗро▒рпНро▒ро╡рпБроорпН, роорпЗро▓рпБроорпН роЪрпАро░ро┐ропро▓рпН рооро╛ройро┐роЯрпНроЯро░ро┐ро▓рпН ро╡рпЖро│ро┐ропрпАроЯрпНроЯрпИроЪрпН роЪро░ро┐рокро╛ро░рпНроХрпНроХро╡рпБроорпН. роТро╡рпНро╡рпКро░рпБ роорпБро▒рпИропрпБроорпН роирпАроЩрпНроХро│рпН C рокрпКродрпНродро╛ройрпИ роЕро┤рпБродрпНродрпБроорпНрокрпЛродрпБ, роТро░рпБ рокроЯроорпН рокро┐роЯро┐роХрпНроХрокрпНрокроЯрпБроорпН рооро▒рпНро▒рпБроорпН SD роХро╛ро░рпНроЯро┐ро▓рпН роЪрпЗрооро┐роХрпНроХрокрпНрокроЯрпБроорпН.

    ```output
    Connecting to WiFi..
    Connected!
    Image captured
    Image read to buffer with length 16392
    Image written to file 1.jpg
    Image captured
    Image read to buffer with length 14344
    Image written to file 2.jpg
    ```

1. microSD роХро╛ро░рпНроЯрпИ роЕрогрпИродрпНродрпБ, роЕродрпИ роЪро▒рпНро▒рпБ роЕро┤рпБродрпНродро┐ ро╡рпЖро│ро┐ропрпЗро▒рпНро▒ро╡рпБроорпН, роЕродрпБ ро╡рпЖро│ро┐ропрпЗ ро╡ро░рпБроорпН. роЗродрпИроЪрпН роЪрпЖропрпНроп роорпЖро▓рпНро▓ро┐роп роХро░рпБро╡ро┐ропрпИрокрпН рокропройрпНрокроЯрпБродрпНрод ро╡рпЗрогрпНроЯро┐ропро┐ро░рпБроХрпНроХрпБроорпН. microSD роХро╛ро░рпНроЯрпИ роЙроЩрпНроХро│рпН роХрогро┐ройро┐ропро┐ро▓рпН роЪрпЖро░рпБроХро┐ рокроЯроЩрпНроХро│рпИрокрпН рокро╛ро░рпНро╡рпИропро┐роЯро╡рпБроорпН.

    ![ArduCam роорпВро▓роорпН рокро┐роЯро┐роХрпНроХрокрпНрокроЯрпНроЯ ро╡ро╛ро┤рпИрокрпНрокро┤родрпНродро┐ройрпН рокроЯроорпН](../../../../../translated_images/banana-arducam.be1b32d4267a8194b0fd042362e56faa431da9cd4af172051b37243ea9be0256.ta.jpg)

    > ЁЯТБ роХрпЗрооро░ро╛ро╡ро┐ройрпН ро╡рпЖро│рпНро│рпИ роЪроороиро┐ро▓рпИ роЪро░ро┐роЪрпЖропрпНроп роЪро┐ро▓ рокроЯроЩрпНроХро│рпН рокро┐роЯро┐роХрпНроХ роирпЗро░ро┐роЯро▓ро╛роорпН. роирпАроЩрпНроХро│рпН рокро┐роЯро┐родрпНрод рокроЯроЩрпНроХро│ро┐ройрпН роиро┐ро▒родрпНродрпИ роЕроЯро┐рокрпНрокроЯрпИропро╛роХроХрпН роХрпКрогрпНроЯрпБ роЗродрпИ роХро╡ройро┐роХрпНроХро▓ро╛роорпН, роорпБродро▓рпН роЪро┐ро▓ рокроЯроЩрпНроХро│рпН роиро┐ро▒роорпН родро╡ро▒ро╛роХ роЗро░рпБроХрпНроХро▓ро╛роорпН. `setup` роЪрпЖропро▓рпНрокро╛роЯрпНроЯро┐ро▓рпН рокрпБро▒роХрпНроХрогро┐роХрпНроХрокрпНрокроЯрпБроорпН роЪро┐ро▓ рокроЯроЩрпНроХро│рпИрокрпН рокро┐роЯро┐роХрпНроХ роХрпЛроЯрпБроХро│рпИ рооро╛ро▒рпНро▒рпБро╡родройрпН роорпВро▓роорпН роЗродрпИ роОрокрпНрокрпЛродрпБроорпН роЪро░ро┐роЪрпЖропрпНропро▓ро╛роорпН.

---

**роХрпБро▒ро┐рокрпНрокрпБ**:  
роЗроирпНрод роЖро╡рогроорпН [Co-op Translator](https://github.com/Azure/co-op-translator) роОройрпНро▒ AI роорпКро┤ро┐рокрпЖропро░рпНрокрпНрокрпБ роЪрпЗро╡рпИропрпИ рокропройрпНрокроЯрпБродрпНродро┐ роорпКро┤ро┐рокрпЖропро░рпНроХрпНроХрокрпНрокроЯрпНроЯрпБро│рпНро│родрпБ. роОроЩрпНроХро│рпН роирпЛроХрпНроХроорпН родрпБро▓рпНро▓ро┐ропрооро╛роХ роЗро░рпБроХрпНроХ ро╡рпЗрогрпНроЯрпБроорпН роОройрпНро▒ро╛ро▓рпБроорпН, родро╛ройро┐ропроЩрпНроХро┐ роорпКро┤ро┐рокрпЖропро░рпНрокрпНрокрпБроХро│ро┐ро▓рпН рокро┐ро┤рпИроХро│рпН роЕро▓рпНро▓родрпБ родрпБро▓рпНро▓ро┐ропрооро┐ройрпНроорпИроХро│рпН роЗро░рпБроХрпНроХроХрпНроХрпВроЯрпБроорпН роОройрпНрокродрпИ роХро╡ройродрпНродро┐ро▓рпН роХрпКро│рпНро│ро╡рпБроорпН. роЕродройрпН родро╛ропрпНроорпКро┤ро┐ропро┐ро▓рпН роЙро│рпНро│ роорпВро▓ роЖро╡рогроорпН роЕродро┐роХро╛ро░рокрпНрокрпВро░рпНро╡ роЖродро╛ро░рооро╛роХ роХро░рпБродрокрпНрокроЯ ро╡рпЗрогрпНроЯрпБроорпН. роорпБроХрпНроХро┐ропрооро╛рой родроХро╡ро▓рпНроХро│рпБроХрпНроХрпБ, родрпКро┤ро┐ро▓рпНроорпБро▒рпИ рооройро┐род роорпКро┤ро┐рокрпЖропро░рпНрокрпНрокрпБ рокро░ро┐роирпНродрпБро░рпИроХрпНроХрокрпНрокроЯрпБроХро┐ро▒родрпБ. роЗроирпНрод роорпКро┤ро┐рокрпЖропро░рпНрокрпНрокрпИрокрпН рокропройрпНрокроЯрпБродрпНродрпБро╡родро╛ро▓рпН роПро▒рпНрокроЯрпБроорпН родро╡ро▒ро╛рой рокрпБро░ро┐родро▓рпНроХро│рпН роЕро▓рпНро▓родрпБ родро╡ро▒ро╛рой ро╡ро┐ро│роХрпНроХроЩрпНроХро│рпБроХрпНроХрпБ роиро╛роЩрпНроХро│рпН рокрпКро▒рпБрокрпНрокро▓рпНро▓.