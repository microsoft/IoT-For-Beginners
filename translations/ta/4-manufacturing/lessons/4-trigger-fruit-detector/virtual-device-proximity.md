<!--
CO_OP_TRANSLATOR_METADATA:
{
  "original_hash": "7e9f05bdc50a40fd924b1d66934471bf",
  "translation_date": "2025-10-11T11:50:38+00:00",
  "source_file": "4-manufacturing/lessons/4-trigger-fruit-detector/virtual-device-proximity.md",
  "language_code": "ta"
}
-->
# роЕро░рпБроХро╛роорпИ роХрогрпНроЯро▒ро┐родро▓рпН - роорпЖропрпНроиро┐роХро░рпН IoT роЪро╛родройроорпН

роЗроирпНрод рокро╛роЯродрпНродро┐ройрпН роЗроирпНрод рокроХрпБродро┐ропро┐ро▓рпН, роЙроЩрпНроХро│рпН роорпЖропрпНроиро┐роХро░рпН IoT роЪро╛родройродрпНродро┐ро▓рпН роТро░рпБ роЕро░рпБроХро╛роорпИ роЪрпЖройрпНроЪро░рпИ роЪрпЗро░рпНродрпНродрпБ, роЕродро┐ро▓ро┐ро░рпБроирпНродрпБ родрпВро░родрпНродрпИ рокроЯро┐роХрпНроХрокрпН рокрпЛроХро┐ро▒рпАро░рпНроХро│рпН.

## ро╣ро╛ро░рпНроЯрпНро╡рпЗро░рпНроХро│рпН

роорпЖропрпНроиро┐роХро░рпН IoT роЪро╛родройроорпН роТро░рпБ роЪро┐роорпБро▓рпЗроЯрпНроЯроЯрпН родрпВро░ роЪрпЖройрпНроЪро░рпИрокрпН рокропройрпНрокроЯрпБродрпНродрпБроорпН.

роТро░рпБ роЗропро▓рпНрокро╛рой IoT роЪро╛родройродрпНродро┐ро▓рпН, родрпВро░родрпНродрпИ роХрогрпНроЯро▒ро┐роп роТро░рпБ ро▓рпЗроЪро░рпН ро░рпЗроЮрпНроЪро┐роЩрпН рооро╛роЯрпНропрпВро▓рпН роХрпКрогрпНроЯ роЪрпЖройрпНроЪро░рпИрокрпН рокропройрпНрокроЯрпБродрпНродрпБро╡рпАро░рпНроХро│рпН.

### CounterFit-роЗро▓рпН родрпВро░ роЪрпЖройрпНроЪро░рпИроЪрпН роЪрпЗро░рпНроХрпНроХро╡рпБроорпН

роорпЖропрпНроиро┐роХро░рпН родрпВро░ роЪрпЖройрпНроЪро░рпИрокрпН рокропройрпНрокроЯрпБродрпНрод, роирпАроЩрпНроХро│рпН CounterFit рокропройрпНрокро╛роЯрпНроЯро┐ро▓рпН роТройрпНро▒рпИроЪрпН роЪрпЗро░рпНроХрпНроХ ро╡рпЗрогрпНроЯрпБроорпН.

#### рокрогро┐роХро│рпН - CounterFit-роЗро▓рпН родрпВро░ роЪрпЖройрпНроЪро░рпИроЪрпН роЪрпЗро░рпНроХрпНроХро╡рпБроорпН

CounterFit рокропройрпНрокро╛роЯрпНроЯро┐ро▓рпН родрпВро░ роЪрпЖройрпНроЪро░рпИроЪрпН роЪрпЗро░рпНроХрпНроХро╡рпБроорпН.

1. VS Code-роЗро▓рпН `fruit-quality-detector` роХрпБро▒ро┐ропрпАроЯрпНроЯрпИродрпН родро┐ро▒роХрпНроХро╡рпБроорпН, рооро▒рпНро▒рпБроорпН роорпЖропрпНроиро┐роХро░рпН роЪрпВро┤ро▓рпН роЪрпЖропро▓рпНрокроЯрпБродрпНродрокрпНрокроЯрпНроЯрпБро│рпНро│родрпИ роЙро▒рпБродро┐рокрпНрокроЯрпБродрпНродро╡рпБроорпН.

1. CounterFit shim-роР роиро┐ро▒рпБро╡ роТро░рпБ роХрпВроЯрпБродро▓рпН Pip родрпКроХрпБрокрпНрокрпИ роиро┐ро▒рпБро╡ро╡рпБроорпН, роЗродрпБ [rpi-vl53l0x Pip package](https://pypi.org/project/rpi-vl53l0x/) роР роЪро┐роорпБро▓рпЗроЯрпН роЪрпЖропрпНродрпБ родрпВро░ роЪрпЖройрпНроЪро░рпНроХро│рпБроЯройрпН родрпКроЯро░рпНрокрпБ роХрпКро│рпНро│ роЙродро╡рпБроХро┐ро▒родрпБ. роЗродрпБ [VL53L0X time-of-flight distance sensor](https://wiki.seeedstudio.com/Grove-Time_of_Flight_Distance_Sensor-VL53L0X/) роЙроЯройрпН родрпКроЯро░рпНрокрпБ роХрпКро│рпНро│рпБроорпН Python родрпКроХрпБрокрпНрокрпБ роЖроХрпБроорпН. роорпЖропрпНроиро┐роХро░рпН роЪрпВро┤ро▓рпН роЪрпЖропро▓рпНрокроЯрпБродрпНродрокрпНрокроЯрпНроЯрпБро│рпНро│ роТро░рпБ роЯрпЖро░рпНрооро┐ройро▓ро┐ро▓рпН роЗро░рпБроирпНродрпБ роЗродрпИ роиро┐ро▒рпБро╡рпБроХро┐ро▒рпАро░рпНроХро│рпН роОройрпНрокродрпИ роЙро▒рпБродро┐рокрпНрокроЯрпБродрпНродро╡рпБроорпН.

    ```sh
    pip install counterfit-shims-rpi-vl53l0x
    ```

1. CounterFit ро╡ро▓рпИ рокропройрпНрокро╛роЯрпБ роЗропроЩрпНроХро┐роХрпН роХрпКрогрпНроЯро┐ро░рпБроХрпНроХро┐ро▒родро╛ роОройрпНрокродрпИ роЙро▒рпБродро┐рокрпНрокроЯрпБродрпНродро╡рпБроорпН.

1. роТро░рпБ родрпВро░ роЪрпЖройрпНроЪро░рпИ роЙро░рпБро╡ро╛роХрпНроХро╡рпБроорпН:

    1. *Sensors* рокроХрпБродро┐ропро┐ройрпН *Create sensor* рокрпЖроЯрпНроЯро┐ропро┐ро▓рпН, *Sensor type* рокрпЖроЯрпНроЯро┐ропрпИродрпН родро┐ро▒роирпНродрпБ *Distance* роРродрпН родрпЗро░рпНроирпНродрпЖроЯрпБроХрпНроХро╡рпБроорпН.

    1. *Units* роР `Millimeter` роЖроХро╡рпЗ ро╡ро┐роЯро╡рпБроорпН.

    1. роЗроирпНрод роЪрпЖройрпНроЪро░рпН роТро░рпБ I<sup>2</sup>C роЪрпЖройрпНроЪро░рпН роЖроХрпБроорпН, роОройро╡рпЗ роорпБроХро╡ро░ро┐ропрпИ `0x29` роЖроХ роЕроорпИроХрпНроХро╡рпБроорпН. роирпАроЩрпНроХро│рпН роТро░рпБ роЗропро▓рпНрокро╛рой VL53L0X роЪрпЖройрпНроЪро░рпИрокрпН рокропройрпНрокроЯрпБродрпНродро┐ройро╛ро▓рпН, роЗродрпБ роЗроирпНрод роорпБроХро╡ро░ро┐ропро┐ро▓рпН ро╣ро╛ро░рпНроЯрпНроХрпЛроЯрпБ роЪрпЖропрпНропрокрпНрокроЯрпБроорпН.

    1. родрпВро░ роЪрпЖройрпНроЪро░рпИ роЙро░рпБро╡ро╛роХрпНроХ **Add** рокрпКродрпНродро╛ройрпИродрпН родрпЗро░рпНроирпНродрпЖроЯрпБроХрпНроХро╡рпБроорпН.

    ![родрпВро░ роЪрпЖройрпНроЪро░рпН роЕроорпИрокрпНрокрпБроХро│рпН](../../../../../translated_images/counterfit-create-distance-sensor.967c9fb98f27888d95920c9784d004c972490eb71f70397fe13bd70a79a879a3.ta.png)

    родрпВро░ роЪрпЖройрпНроЪро░рпН роЙро░рпБро╡ро╛роХрпНроХрокрпНрокроЯрпНроЯрпБ роЪрпЖройрпНроЪро░рпНроХро│рпН рокроЯрпНроЯро┐ропро▓ро┐ро▓рпН родрпЛройрпНро▒рпБроорпН.

    ![роЙро░рпБро╡ро╛роХрпНроХрокрпНрокроЯрпНроЯ родрпВро░ роЪрпЖройрпНроЪро░рпН](../../../../../translated_images/counterfit-distance-sensor.079eefeeea0b68afc36431ce8fcbe2f09a7e4916ed1cd5cb30e696db53bc18fa.ta.png)

## родрпВро░ роЪрпЖройрпНроЪро░рпИ роиро┐ро░ро▓ро╛роХрпНроХро╡рпБроорпН

роорпЖропрпНроиро┐роХро░рпН IoT роЪро╛родройроорпН роЗрокрпНрокрпЛродрпБ роЪро┐роорпБро▓рпЗроЯрпНроЯроЯрпН родрпВро░ роЪрпЖройрпНроЪро░рпИрокрпН рокропройрпНрокроЯрпБродрпНрод роиро┐ро░ро▓ро╛роХрпНроХрокрпНрокроЯро▓ро╛роорпН.

### рокрогро┐роХро│рпН - time of flight роЪрпЖройрпНроЪро░рпИ роиро┐ро░ро▓ро╛роХрпНроХро╡рпБроорпН

1. `fruit-quality-detector` родро┐роЯрпНроЯродрпНродро┐ро▓рпН `distance-sensor.py` роОройрпНро▒ рокрпБродро┐роп роХрпЛрокрпНрокрпИ роЙро░рпБро╡ро╛роХрпНроХро╡рпБроорпН.

    > ЁЯТБ рокро▓ IoT роЪро╛родройроЩрпНроХро│рпИ роЪро┐роорпБро▓рпЗроЯрпН роЪрпЖропрпНроп роОро│ро┐роп ро╡ро┤ро┐, роТро╡рпНро╡рпКройрпНро▒рпИропрпБроорпН родройро┐родрпНрод Python роХрпЛрокрпНрокро┐ро▓рпН роЪрпЖропрпНропро╡рпБроорпН, рокро┐ройрпНройро░рпН роЕро╡ро▒рпНро▒рпИ роТро░рпЗ роирпЗро░родрпНродро┐ро▓рпН роЗропроХрпНроХро╡рпБроорпН.

1. CounterFit-роЗро▓рпН роТро░рпБ роЗрогрпИрокрпНрокрпИ родрпКроЯроЩрпНроХ роХрпАро┤рпЗ роЙро│рпНро│ роХрпБро▒ро┐ропрпАроЯрпНроЯрпИ роЪрпЗро░рпНроХрпНроХро╡рпБроорпН:

    ```python
    from counterfit_connection import CounterFitConnection
    CounterFitConnection.init('127.0.0.1', 5000)
    ```

1. роЗродро▒рпНроХрпБ роХрпАро┤рпЗ роЙро│рпНро│ роХрпБро▒ро┐ропрпАроЯрпНроЯрпИроЪрпН роЪрпЗро░рпНроХрпНроХро╡рпБроорпН:

    ```python
    import time
    
    from counterfit_shims_rpi_vl53l0x.vl53l0x import VL53L0X
    ```

    роЗродрпБ VL53L0X time of flight роЪрпЖройрпНроЪро░рпБроХрпНроХро╛рой роЪрпЖройрпНроЪро░рпН роирпВро▓роХ ро╖ро┐роорпИ роЗро▒роХрпНроХрпБроородро┐ роЪрпЖропрпНроХро┐ро▒родрпБ.

1. роЗродро▒рпНроХрпБ роХрпАро┤рпЗ роЪрпЖройрпНроЪро░рпИ роЕрогрпБроХ роХрпАро┤рпЗ роЙро│рпНро│ роХрпБро▒ро┐ропрпАроЯрпНроЯрпИроЪрпН роЪрпЗро░рпНроХрпНроХро╡рпБроорпН:

    ```python
    distance_sensor = VL53L0X()
    distance_sensor.begin()
    ```

    роЗроирпНрод роХрпБро▒ро┐ропрпАроЯрпБ роТро░рпБ родрпВро░ роЪрпЖройрпНроЪро░рпИ роЕро▒ро┐ро╡ро┐роХрпНроХро┐ро▒родрпБ, рокро┐ройрпНройро░рпН роЪрпЖройрпНроЪро░рпИ родрпКроЯроЩрпНроХрпБроХро┐ро▒родрпБ.

1. роЗро▒рпБродро┐ропро╛роХ, родрпВро░роЩрпНроХро│рпИрокрпН рокроЯро┐роХрпНроХ роТро░рпБ роорпБроЯро┐ро╡ро┐ро▓рпНро▓ро╛ роороЯроХрпНроХродрпНродрпИроЪрпН роЪрпЗро░рпНроХрпНроХро╡рпБроорпН:

    ```python
    while True:
        distance_sensor.wait_ready()
        print(f'Distance = {distance_sensor.get_distance()} mm')
        time.sleep(1)
    ```

    роЗроирпНрод роХрпБро▒ро┐ропрпАроЯрпБ роЪрпЖройрпНроЪро░ро┐ро▓ро┐ро░рпБроирпНродрпБ рокроЯро┐роХрпНроХ роТро░рпБ роородро┐рокрпНрокрпБ родропро╛ро░ро╛роХ роЗро░рпБроХрпНроХрпБроорпН ро╡ро░рпИ роХро╛родрпНродро┐ро░рпБроХрпНроХро┐ро▒родрпБ, рокро┐ройрпНройро░рпН роЕродрпИ роХройрпНроЪрпЛро▓ро┐ро▓рпН роЕроЪрпНроЪро┐роЯрпБроХро┐ро▒родрпБ.

1. роЗроирпНрод роХрпБро▒ро┐ропрпАроЯрпНроЯрпИ роЗропроХрпНроХро╡рпБроорпН.

    > ЁЯТБ роЗроирпНрод роХрпЛрокрпНрокрпБ `distance-sensor.py` роОройрпНро▒рпБ роЕро┤рпИроХрпНроХрокрпНрокроЯрпБроХро┐ро▒родрпБ роОройрпНрокродрпИ рооро▒роХрпНроХ ро╡рпЗрогрпНроЯро╛роорпН! роЗродрпИ Python роорпВро▓роорпН роЗропроХрпНроХро╡рпБроорпН, `app.py` роорпВро▓роорпН роЕро▓рпНро▓.

1. роирпАроЩрпНроХро│рпН роХройрпНроЪрпЛро▓ро┐ро▓рпН родрпВро░ роЕро│ро╡рпАроЯрпБроХро│рпИрокрпН рокро╛ро░рпНроХрпНроХ роорпБроЯро┐ропрпБроорпН. CounterFit-роЗро▓рпН роородро┐рокрпНрокрпИ рооро╛ро▒рпНро▒ро╡рпБроорпН роЕро▓рпНро▓родрпБ роЪрпАро░ро▒рпНро▒ роородро┐рокрпНрокрпБроХро│рпИрокрпН рокропройрпНрокроЯрпБродрпНродро╡рпБроорпН.

    ```output
    (.venv) тЮЬ  fruit-quality-detector python distance-sensor.py 
    Distance = 37 mm
    Distance = 42 mm
    Distance = 29 mm
    ```

> ЁЯТБ роЗроирпНрод роХрпБро▒ро┐ропрпАроЯрпНроЯрпИ [code-proximity/virtual-iot-device](../../../../../4-manufacturing/lessons/4-trigger-fruit-detector/code-proximity/virtual-iot-device) роХрпЛрокрпНрокроХродрпНродро┐ро▓рпН роХро╛рогро▓ро╛роорпН.

ЁЯША роЙроЩрпНроХро│рпН роЕро░рпБроХро╛роорпИ роЪрпЖройрпНроЪро░рпН роиро┐ро░ро▓рпН ро╡рпЖро▒рпНро▒ро┐роХро░рооро╛роХ роорпБроЯро┐роирпНродродрпБ!

---

**роХрпБро▒ро┐рокрпНрокрпБ**:  
роЗроирпНрод роЖро╡рогроорпН [Co-op Translator](https://github.com/Azure/co-op-translator) роОройрпНро▒ AI роорпКро┤ро┐рокрпЖропро░рпНрокрпНрокрпБ роЪрпЗро╡рпИропрпИ рокропройрпНрокроЯрпБродрпНродро┐ роорпКро┤ро┐рокрпЖропро░рпНроХрпНроХрокрпНрокроЯрпНроЯрпБро│рпНро│родрпБ. роиро╛роЩрпНроХро│рпН родрпБро▓рпНро▓ро┐ропродрпНродро┐ро▒рпНроХро╛роХ роорпБропро▒рпНроЪро┐роХрпНроХро┐ройрпНро▒рпЛроорпН, роЖройро╛ро▓рпН родро╛ройро┐ропроЩрпНроХро┐ роорпКро┤ро┐рокрпЖропро░рпНрокрпНрокрпБроХро│ро┐ро▓рпН рокро┐ро┤рпИроХро│рпН роЕро▓рпНро▓родрпБ родро╡ро▒ро╛рой родроХро╡ро▓рпНроХро│рпН роЗро░рпБроХрпНроХроХрпНроХрпВроЯрпБроорпН роОройрпНрокродрпИ роХро╡ройродрпНродро┐ро▓рпН роХрпКро│рпНро│ро╡рпБроорпН. роЕродройрпН родро╛ропрпНроорпКро┤ро┐ропро┐ро▓рпН роЙро│рпНро│ роорпВро▓ роЖро╡рогроорпН роЕродро┐роХро╛ро░рокрпНрокрпВро░рпНро╡ роЖродро╛ро░рооро╛роХ роХро░рпБродрокрпНрокроЯ ро╡рпЗрогрпНроЯрпБроорпН. роорпБроХрпНроХро┐ропрооро╛рой родроХро╡ро▓рпНроХро│рпБроХрпНроХрпБ, родрпКро┤ро┐ро▓рпНроорпБро▒рпИ рооройро┐род роорпКро┤ро┐рокрпЖропро░рпНрокрпНрокрпБ рокро░ро┐роирпНродрпБро░рпИроХрпНроХрокрпНрокроЯрпБроХро┐ро▒родрпБ. роЗроирпНрод роорпКро┤ро┐рокрпЖропро░рпНрокрпНрокрпИрокрпН рокропройрпНрокроЯрпБродрпНродрпБро╡родро╛ро▓рпН роПро▒рпНрокроЯрпБроорпН роОроирпНрод родро╡ро▒ро╛рой рокрпБро░ро┐родро▓рпНроХро│рпН роЕро▓рпНро▓родрпБ родро╡ро▒ро╛рой ро╡ро┐ро│роХрпНроХроЩрпНроХро│рпБроХрпНроХрпБ роиро╛роЩрпНроХро│рпН рокрпКро▒рпБрокрпНрокро▓рпНро▓.