<!--
CO_OP_TRANSLATOR_METADATA:
{
  "original_hash": "6754c915dae64ba70fcd5e52c37f3adf",
  "translation_date": "2025-10-11T11:18:59+00:00",
  "source_file": "1-getting-started/lessons/4-connect-internet/wio-terminal-commands.md",
  "language_code": "ta"
}
-->
# роЙроЩрпНроХро│рпН роЗро░ро╡рпБродрпНродрпАрокродрпНродрпИ роЗрогрпИропродрпНродро┐ро▓рпН роХроЯрпНроЯрпБрокрпНрокроЯрпБродрпНродрпБроЩрпНроХро│рпН - Wio Terminal

роЗроирпНрод рокро╛роЯродрпНродро┐ройрпН роЗроирпНрод рокроХрпБродро┐ропро┐ро▓рпН, роирпАроЩрпНроХро│рпН Wio Terminal-роХрпНроХрпБ MQTT broker-ро▓рпН роЗро░рпБроирпНродрпБ роЕройрпБрокрпНрокрокрпНрокроЯрпБроорпН роХроЯрпНроЯро│рпИроХро│рпИ роЪроирпНродро┐роХрпНроХрокрпН рокрпЛроХро┐ро▒рпАро░рпНроХро│рпН.

## роХроЯрпНроЯро│рпИроХро│рпИ роЪроирпНродро┐роХрпНроХро╡рпБроорпН

роЕроЯрпБродрпНрод рокроЯро┐ропро╛роХ, MQTT broker-ро▓рпН роЗро░рпБроирпНродрпБ роЕройрпБрокрпНрокрокрпНрокроЯрпБроорпН роХроЯрпНроЯро│рпИроХро│рпИ роЪроирпНродро┐роХрпНроХро╡рпБроорпН, роЕро╡ро▒рпНро▒рпБроХрпНроХрпБ рокродро┐ро▓ро│ро┐роХрпНроХро╡рпБроорпН.

### рокрогро┐роХро│рпН

роХроЯрпНроЯро│рпИроХро│рпИ роЪроирпНродро┐роХрпНроХро╡рпБроорпН.

1. VS Code-ро▓рпН nightlight родро┐роЯрпНроЯродрпНродрпИ родро┐ро▒роХрпНроХро╡рпБроорпН.

1. `config.h` роХрпЛрокрпНрокро┐ройрпН роХрпАро┤рпН рокро┐ройрпНро╡ро░рпБроорпН роХрпБро▒ро┐ропрпАроЯрпНроЯрпИ роЪрпЗро░рпНродрпНродрпБ, роХроЯрпНроЯро│рпИроХро│рпБроХрпНроХро╛рой родро▓рпИрокрпНрокро┐ройрпН рокрпЖропро░рпИ ро╡ро░рпИропро▒рпБроХрпНроХро╡рпБроорпН:

    ```cpp
    const string SERVER_COMMAND_TOPIC = ID + "/commands";
    ```

   `SERVER_COMMAND_TOPIC` роОройрпНрокродрпБ роЪро╛родройроорпН LED роХроЯрпНроЯро│рпИроХро│рпИ рокрпЖро▒рпБро╡родро▒рпНроХро╛роХ роЪроирпНродро┐роХрпНроХрокрпНрокроЯрпБроорпН родро▓рпИрокрпНрокрпБ.

1. MQTT client роорпАрогрпНроЯрпБроорпН роЗрогрпИроХрпНроХрокрпНрокроЯрпБроорпН рокрпЛродрпБ, command topic-роР роЪроирпНродро┐роХрпНроХ `reconnectMQTTClient` роЪрпЖропро▓рпНрокро╛роЯрпНроЯро┐ройрпН роЗро▒рпБродро┐ропро┐ро▓рпН рокро┐ройрпНро╡ро░рпБроорпН ро╡ро░ро┐ропрпИ роЪрпЗро░рпНроХрпНроХро╡рпБроорпН:

    ```cpp
    client.subscribe(SERVER_COMMAND_TOPIC.c_str());
    ```

1. `reconnectMQTTClient` роЪрпЖропро▓рпНрокро╛роЯрпНроЯро┐ройрпН роХрпАро┤рпН рокро┐ройрпНро╡ро░рпБроорпН роХрпБро▒ро┐ропрпАроЯрпНроЯрпИ роЪрпЗро░рпНроХрпНроХро╡рпБроорпН:

    ```cpp
    void clientCallback(char *topic, uint8_t *payload, unsigned int length)
    {
        char buff[length + 1];
        for (int i = 0; i < length; i++)
        {
            buff[i] = (char)payload[i];
        }
        buff[length] = '\0';
    
        Serial.print("Message received:");
        Serial.println(buff);
    
        DynamicJsonDocument doc(1024);
        deserializeJson(doc, buff);
        JsonObject obj = doc.as<JsonObject>();
    
        bool led_on = obj["led_on"];
    
        if (led_on)
            digitalWrite(D0, HIGH);
        else
            digitalWrite(D0, LOW);
    }
    ```

   роЗроирпНрод роЪрпЖропро▓рпНрокро╛роЯрпБ MQTT client server-ро▓рпН роЗро░рпБроирпНродрпБ роТро░рпБ роЪрпЖропрпНродро┐ропрпИрокрпН рокрпЖро▒рпБроорпН рокрпЛродрпБ роЕро┤рпИроХрпНроХрокрпНрокроЯрпБроорпН callback роЖроХ роЗро░рпБроХрпНроХрпБроорпН.

   роЪрпЖропрпНродро┐ unsigned 8-bit integer роХро│ро┐ройрпН ро╡ро░ро┐роЪрпИропро╛роХ рокрпЖро▒рокрпНрокроЯрпБроХро┐ро▒родрпБ, роОройро╡рпЗ роЕродрпИ роЙро░рпИ ро╡роЯро┐ро╡рооро╛роХ роироЯродрпНрод character array роЖроХ рооро╛ро▒рпНро▒ ро╡рпЗрогрпНроЯрпБроорпН.

   роЪрпЖропрпНродро┐ JSON роЖро╡рогродрпНродрпИ роХрпКрогрпНроЯрпБро│рпНро│родрпБ, роорпЗро▓рпБроорпН ArduinoJson library-ропрпИ рокропройрпНрокроЯрпБродрпНродро┐ роЯро┐роХрпЛроЯрпБ роЪрпЖропрпНропрокрпНрокроЯрпБроХро┐ро▒родрпБ. JSON роЖро╡рогродрпНродро┐ройрпН `led_on` рокрогрпНрокрпИ рокроЯро┐роХрпНроХро┐ро▒родрпБ, роорпЗро▓рпБроорпН роЕродройрпН роородро┐рокрпНрокро┐ройрпН роЕроЯро┐рокрпНрокроЯрпИропро┐ро▓рпН LED роР роЖройрпН роЕро▓рпНро▓родрпБ роЖроГрокрпН роЪрпЖропрпНроХро┐ро▒родрпБ.

1. `createMQTTClient` роЪрпЖропро▓рпНрокро╛роЯрпНроЯро┐ро▓рпН рокро┐ройрпНро╡ро░рпБроорпН роХрпБро▒ро┐ропрпАроЯрпНроЯрпИ роЪрпЗро░рпНроХрпНроХро╡рпБроорпН:

    ```cpp
    client.setCallback(clientCallback);
    ```

   роЗроирпНрод роХрпБро▒ро┐ропрпАроЯрпБ MQTT broker-ро▓рпН роЗро░рпБроирпНродрпБ роТро░рпБ роЪрпЖропрпНродро┐ рокрпЖро▒рокрпНрокроЯрпБроорпН рокрпЛродрпБ роЕро┤рпИроХрпНроХрокрпНрокроЯрпБроорпН callback роЖроХ `clientCallback` роР роЕроорпИроХрпНроХро┐ро▒родрпБ.

   > ЁЯТБ `clientCallback` ро╣рпЗрогрпНроЯрпНро▓ро░рпН роЪроирпНродро┐роХрпНроХрокрпНрокроЯрпБроорпН роЕройрпИродрпНродрпБ родро▓рпИрокрпНрокрпБроХро│рпБроХрпНроХрпБроорпН роЕро┤рпИроХрпНроХрокрпНрокроЯрпБроХро┐ро▒родрпБ. роирпАроЩрпНроХро│рпН рокро┐ройрпНройро░рпН рокро▓ родро▓рпИрокрпНрокрпБроХро│рпИ роХрпЗроЯрпНроХрпБроорпН роХрпБро▒ро┐ропрпАроЯрпНроЯрпИ роОро┤рпБродро┐ройро╛ро▓рпН, callback роЪрпЖропро▓рпНрокро╛роЯрпНроЯро┐ро▒рпНроХрпБ роЕройрпБрокрпНрокрокрпНрокроЯрпБроорпН `topic` роЕро│ро╡рпБро░рпБро╡ро┐ро▓рпН роЗро░рпБроирпНродрпБ роЪрпЖропрпНродро┐ роЕройрпБрокрпНрокрокрпНрокроЯрпНроЯ родро▓рпИрокрпНрокрпИ рокрпЖро▒ро▓ро╛роорпН.

1. роЙроЩрпНроХро│рпН Wio Terminal-роХрпНроХрпБ роХрпБро▒ро┐ропрпАроЯрпНроЯрпИ рокродро┐ро╡рпЗро▒рпНро▒ро╡рпБроорпН, рооро▒рпНро▒рпБроорпН Serial Monitor-роР рокропройрпНрокроЯрпБродрпНродро┐ MQTT broker-роХрпНроХрпБ роЕройрпБрокрпНрокрокрпНрокроЯрпБроорпН роТро│ро┐ роиро┐ро▓рпИроХро│рпИрокрпН рокро╛ро░рпБроЩрпНроХро│рпН.

1. роЙроЩрпНроХро│рпН роЙроЯро▓рпН роЕро▓рпНро▓родрпБ роорпЖропрпНроиро┐роХро░рпН роЪро╛родройродрпНродро╛ро▓рпН роХрогрпНроЯро▒ро┐ропрокрпНрокроЯрпБроорпН роТро│ро┐ роиро┐ро▓рпИроХро│рпИ роЪро░ро┐роЪрпЖропрпНропро╡рпБроорпН. роирпАроЩрпНроХро│рпН роЯрпЖро░рпНрооро┐ройро▓ро┐ро▓рпН роЪрпЖропрпНродро┐роХро│рпИрокрпН рокрпЖро▒рпБро╡родрпИропрпБроорпН, роХроЯрпНроЯро│рпИроХро│рпИ роЕройрпБрокрпНрокрпБро╡родрпИропрпБроорпН роХро╛рогрпНрокрпАро░рпНроХро│рпН. роТро│ро┐ роиро┐ро▓рпИропро┐ройрпН роЕроЯро┐рокрпНрокроЯрпИропро┐ро▓рпН LED роЖройрпН рооро▒рпНро▒рпБроорпН роЖроГрокрпН роЖроХрпБроорпН.

> ЁЯТБ роЗроирпНрод роХрпБро▒ро┐ропрпАроЯрпНроЯрпИ [code-commands/wio-terminal](../../../../../1-getting-started/lessons/4-connect-internet/code-commands/wio-terminal) роХрпЛрокрпНрокрпБро▒рпИропро┐ро▓рпН роХро╛рогро▓ро╛роорпН.

ЁЯША роирпАроЩрпНроХро│рпН MQTT broker-ро▓рпН роЗро░рпБроирпНродрпБ роЕройрпБрокрпНрокрокрпНрокроЯрпБроорпН роХроЯрпНроЯро│рпИроХро│рпБроХрпНроХрпБ рокродро┐ро▓ро│ро┐роХрпНроХ роЙроЩрпНроХро│рпН роЪро╛родройродрпНродрпИ ро╡рпЖро▒рпНро▒ро┐роХро░рооро╛роХ роХрпБро▒ро┐ропрпАроЯрпБ роЪрпЖропрпНродрпБро│рпНро│рпАро░рпНроХро│рпН.

---

**роХрпБро▒ро┐рокрпНрокрпБ**:  
роЗроирпНрод роЖро╡рогроорпН [Co-op Translator](https://github.com/Azure/co-op-translator) роОройрпНро▒ AI роорпКро┤ро┐рокрпЖропро░рпНрокрпНрокрпБ роЪрпЗро╡рпИропрпИрокрпН рокропройрпНрокроЯрпБродрпНродро┐ роорпКро┤ро┐рокрпЖропро░рпНроХрпНроХрокрпНрокроЯрпНроЯрпБро│рпНро│родрпБ. роиро╛роЩрпНроХро│рпН родрпБро▓рпНро▓ро┐ропродрпНродро┐ро▒рпНроХро╛роХ роорпБропро▒рпНроЪро┐роХрпНроХро┐ройрпНро▒рпЛроорпН, роЖройро╛ро▓рпН родро╛ройро┐ропроЩрпНроХро┐ роорпКро┤ро┐рокрпЖропро░рпНрокрпНрокрпБроХро│ро┐ро▓рпН рокро┐ро┤рпИроХро│рпН роЕро▓рпНро▓родрпБ родро╡ро▒ро╛рой родроХро╡ро▓рпНроХро│рпН роЗро░рпБроХрпНроХроХрпНроХрпВроЯрпБроорпН роОройрпНрокродрпИ роХро╡ройродрпНродро┐ро▓рпН роХрпКро│рпНро│ро╡рпБроорпН. роЕродройрпН родро╛ропрпНроорпКро┤ро┐ропро┐ро▓рпН роЙро│рпНро│ роорпВро▓ роЖро╡рогроорпН роЕродро┐роХро╛ро░рокрпНрокрпВро░рпНро╡ роЖродро╛ро░рооро╛роХроХрпН роХро░рпБродрокрпНрокроЯ ро╡рпЗрогрпНроЯрпБроорпН. роорпБроХрпНроХро┐ропрооро╛рой родроХро╡ро▓рпНроХро│рпБроХрпНроХрпБ, родрпКро┤ро┐ро▓рпНроорпБро▒рпИ рооройро┐род роорпКро┤ро┐рокрпЖропро░рпНрокрпНрокрпБ рокро░ро┐роирпНродрпБро░рпИроХрпНроХрокрпНрокроЯрпБроХро┐ро▒родрпБ. роЗроирпНрод роорпКро┤ро┐рокрпЖропро░рпНрокрпНрокрпИрокрпН рокропройрпНрокроЯрпБродрпНродрпБро╡родро╛ро▓рпН роПро▒рпНрокроЯрпБроорпН роОроирпНрод родро╡ро▒ро╛рой рокрпБро░ро┐родро▓рпНроХро│рпН роЕро▓рпНро▓родрпБ родро╡ро▒ро╛рой ро╡ро┐ро│роХрпНроХроЩрпНроХро│рпБроХрпНроХрпБ роиро╛роЩрпНроХро│рпН рокрпКро▒рпБрокрпНрокро▓рпНро▓.