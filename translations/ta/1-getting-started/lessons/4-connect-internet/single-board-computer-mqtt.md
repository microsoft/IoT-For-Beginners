<!--
CO_OP_TRANSLATOR_METADATA:
{
  "original_hash": "90fb93446e03c38f3c0e4009c2471906",
  "translation_date": "2025-10-11T11:23:05+00:00",
  "source_file": "1-getting-started/lessons/4-connect-internet/single-board-computer-mqtt.md",
  "language_code": "ta"
}
-->
# роЙроЩрпНроХро│рпН роЗро░ро╡рпБроХрпНроХро╛ро▓ ро╡ро┐ро│роХрпНроХрпИ роЗрогрпИропродрпНродро┐ройрпН роорпВро▓роорпН роХроЯрпНроЯрпБрокрпНрокроЯрпБродрпНродрпБроЩрпНроХро│рпН - роорпЖропрпНроиро┐роХро░рпН IoT роЪро╛родройроорпН рооро▒рпНро▒рпБроорпН ро░ро╛ро╕рпНрокрпЖро░рпНро░ро┐ рокрпИ

IoT роЪро╛родройроорпН *test.mosquitto.org* роЙроЯройрпН MQTT роорпВро▓роорпН родрпКроЯро░рпНрокрпБ роХрпКрогрпНроЯрпБ роТро│ро┐ роЪрпЖройрпНроЪро╛ро░рпН ро╡ро╛роЪро┐рокрпНрокрпБроЯройрпН роЯрпЖро▓ро┐роорпЖроЯрпНро░ро┐ роородро┐рокрпНрокрпБроХро│рпИ роЕройрпБрокрпНрокро╡рпБроорпН, LED роР роХроЯрпНроЯрпБрокрпНрокроЯрпБродрпНрод роХроЯрпНроЯро│рпИроХро│рпИ рокрпЖро▒ро╡рпБроорпН роХрпБро▒ро┐ропро┐роЯрокрпНрокроЯ ро╡рпЗрогрпНроЯрпБроорпН.

роЗроирпНрод рокро╛роЯродрпНродро┐ройрпН роЗроирпНрод рокроХрпБродро┐ропро┐ро▓рпН, роЙроЩрпНроХро│рпН ро░ро╛ро╕рпНрокрпЖро░рпНро░ро┐ рокрпИ роЕро▓рпНро▓родрпБ роорпЖропрпНроиро┐роХро░рпН IoT роЪро╛родройродрпНродрпИ MQTT рокрпНро░рпЛроХрпНроХро░рпБроЯройрпН роЗрогрпИрокрпНрокрпАро░рпНроХро│рпН.

## MQTT роХро┐ро│рпИропрогрпНроЯрпН рокро╛роХрпНроХрпЗроЬрпИ роиро┐ро▒рпБро╡ро╡рпБроорпН

MQTT рокрпНро░рпЛроХрпНроХро░рпБроЯройрпН родрпКроЯро░рпНрокрпБ роХрпКро│рпНро│, роЙроЩрпНроХро│рпН рокрпИ роЕро▓рпНро▓родрпБ роорпЖропрпНроиро┐роХро░рпН роЪро╛родройродрпНродрпИрокрпН рокропройрпНрокроЯрпБродрпНродро┐ройро╛ро▓рпН роорпЖропрпНроиро┐роХро░рпН роЪрпВро┤ро▓ро┐ро▓рпН, MQTT роирпВро▓роХ рокрпИрокрпН рокро╛роХрпНроХрпЗроЬрпИ роиро┐ро▒рпБро╡ ро╡рпЗрогрпНроЯрпБроорпН.

### рокрогро┐роХро│рпН

рокрпИрокрпН рокро╛роХрпНроХрпЗроЬрпИ роиро┐ро▒рпБро╡ро╡рпБроорпН

1. VS Code роЗро▓рпН nightlight родро┐роЯрпНроЯродрпНродрпИродрпН родро┐ро▒роХрпНроХро╡рпБроорпН.

1. роирпАроЩрпНроХро│рпН роорпЖропрпНроиро┐роХро░рпН IoT роЪро╛родройродрпНродрпИрокрпН рокропройрпНрокроЯрпБродрпНродро┐ройро╛ро▓рпН, роЯрпЖро░рпНрооро┐ройро▓рпН роорпЖропрпНроиро┐роХро░рпН роЪрпВро┤ро▓рпИ роЗропроХрпНроХрпБро╡родрпИ роЙро▒рпБродро┐роЪрпЖропрпНропро╡рпБроорпН. роирпАроЩрпНроХро│рпН ро░ро╛ро╕рпНрокрпЖро░рпНро░ро┐ рокрпИ рокропройрпНрокроЯрпБродрпНродро┐ройро╛ро▓рпН, роирпАроЩрпНроХро│рпН роорпЖропрпНроиро┐роХро░рпН роЪрпВро┤ро▓рпИрокрпН рокропройрпНрокроЯрпБродрпНрод рооро╛роЯрпНроЯрпАро░рпНроХро│рпН.

1. MQTT рокрпИрокрпН рокро╛роХрпНроХрпЗроЬрпИ роиро┐ро▒рпБро╡ роХрпАро┤рпЗ роЙро│рпНро│ роХроЯрпНроЯро│рпИропрпИ роЗропроХрпНроХро╡рпБроорпН:

    ```sh
    pip3 install paho-mqtt
    ```

## роЪро╛родройродрпНродрпИ роХрпБро▒ро┐ропро┐роЯро╡рпБроорпН

роЪро╛родройроорпН роХрпБро▒ро┐ропро┐роЯ родропро╛ро░ро╛роХ роЙро│рпНро│родрпБ.

### рокрогро┐роХро│рпН

роЪро╛родрой роХрпБро▒ро┐ропрпАроЯрпНроЯрпИ роОро┤рпБродро╡рпБроорпН.

1. `app.py` роХрпЛрокрпНрокро┐ройрпН роорпЗро▓рпН рокроХрпНроХродрпНродро┐ро▓рпН рокро┐ройрпНро╡ро░рпБроорпН роЗро▒роХрпНроХрпБроородро┐ропрпИроЪрпН роЪрпЗро░рпНроХрпНроХро╡рпБроорпН:

    ```python
    import paho.mqtt.client as mqtt
    ```

   `paho.mqtt.client` роирпВро▓роХроорпН роЙроЩрпНроХро│рпН роЪрпЖропро▓ро┐ропрпИ MQTT роорпВро▓роорпН родрпКроЯро░рпНрокрпБ роХрпКро│рпНро│ роЕройрпБроородро┐роХрпНроХро┐ро▒родрпБ.

1. роТро│ро┐ роЪрпЖройрпНроЪро╛ро░рпН рооро▒рпНро▒рпБроорпН LED роЗройрпН ро╡ро░рпИропро▒рпИроХро│рпБроХрпНроХрпБрокрпН рокро┐ро▒роХрпБ рокро┐ройрпНро╡ро░рпБроорпН роХрпБро▒ро┐ропрпАроЯрпНроЯрпИроЪрпН роЪрпЗро░рпНроХрпНроХро╡рпБроорпН:

    ```python
    id = '<ID>'

    client_name = id + 'nightlight_client'
    ```

   `<ID>` роР роТро░рпБ родройро┐родрпНрод ID роЖроХ рооро╛ро▒рпНро▒ро╡рпБроорпН, роЗродрпБ роЗроирпНрод роЪро╛родрой роХро┐ро│рпИропрогрпНроЯро┐ройрпН рокрпЖропро░ро╛роХро╡рпБроорпН, рокро┐ройрпНройро░рпН роЗроирпНрод роЪро╛родройроорпН ро╡рпЖро│ро┐ропро┐роЯрпБроорпН рооро▒рпНро▒рпБроорпН роЪроирпНродро╛ роЪрпЖро▓рпБродрпНродрпБроорпН родро▓рпИрокрпНрокрпБроХро│рпБроХрпНроХро╛роХро╡рпБроорпН рокропройрпНрокроЯрпБродрпНродрокрпНрокроЯрпБроорпН. *test.mosquitto.org* рокрпНро░рпЛроХрпНроХро░рпН рокрпКродрпБро╡ро╛ройродрпБ рооро▒рпНро▒рпБроорпН рокро▓ро░ро╛ро▓рпН рокропройрпНрокроЯрпБродрпНродрокрпНрокроЯрпБроХро┐ро▒родрпБ, роЗродро┐ро▓рпН роЗроирпНрод рокрогро┐ропрпИроЪрпН роЪрпЖропрпНропрпБроорпН рокро┐ро▒ рооро╛рогро╡ро░рпНроХро│рпБроорпН роЕроЯроЩрпНроХрпБро╡ро░рпН. родройро┐родрпНрод MQTT роХро┐ро│рпИропрогрпНроЯрпН рокрпЖропро░рпН рооро▒рпНро▒рпБроорпН родро▓рпИрокрпНрокрпБ рокрпЖропро░рпНроХро│рпН роЙроЩрпНроХро│рпН роХрпБро▒ро┐ропрпАроЯрпБ рооро▒рпНро▒ро╡ро░рпНроХро│рпБроЯройрпН роорпЛродро╛рооро▓рпН роЗро░рпБрокрпНрокродрпИ роЙро▒рпБродро┐роЪрпЖропрпНроХро┐ройрпНро▒рой. роЗроирпНрод ID роР роирпАроЩрпНроХро│рпН роЗроирпНрод рокрогро┐ропро┐ройрпН рокро┐ройрпНройро░рпН роЪро░рпНро╡ро░рпН роХрпБро▒ро┐ропрпАроЯрпНроЯрпИ роЙро░рпБро╡ро╛роХрпНроХрпБроорпН рокрпЛродрпБ родрпЗро╡рпИрокрпНрокроЯрпБроорпН.

   > ЁЯТБ роирпАроЩрпНроХро│рпН [GUIDGen](https://www.guidgen.com) рокрпЛройрпНро▒ роТро░рпБ роЗрогрпИропродро│родрпНродрпИрокрпН рокропройрпНрокроЯрпБродрпНродро┐ роТро░рпБ родройро┐родрпНрод ID роР роЙро░рпБро╡ро╛роХрпНроХро▓ро╛роорпН.

   `client_name` роОройрпНрокродрпБ рокрпНро░рпЛроХрпНроХро░ро┐ро▓рпН роЗроирпНрод MQTT роХро┐ро│рпИропрогрпНроЯро┐ро▒рпНроХро╛рой родройро┐родрпНрод рокрпЖропро░ро╛роХрпБроорпН.

1. роЗроирпНрод рокрпБродро┐роп роХрпБро▒ро┐ропрпАроЯрпНроЯро┐ройрпН роХрпАро┤рпЗ рокро┐ройрпНро╡ро░рпБроорпН роХрпБро▒ро┐ропрпАроЯрпНроЯрпИроЪрпН роЪрпЗро░рпНродрпНродрпБ роТро░рпБ MQTT роХро┐ро│рпИропрогрпНроЯрпН рокрпКро░рпБро│рпИ роЙро░рпБро╡ро╛роХрпНроХро┐, MQTT рокрпНро░рпЛроХрпНроХро░рпБроЯройрпН роЗрогрпИроХрпНроХро╡рпБроорпН:

    ```python
    mqtt_client = mqtt.Client(client_name)
    mqtt_client.connect('test.mosquitto.org')
    
    mqtt_client.loop_start()

    print("MQTT connected!")
    ```

   роЗроирпНрод роХрпБро▒ро┐ропрпАроЯрпБ роХро┐ро│рпИропрогрпНроЯрпН рокрпКро░рпБро│рпИ роЙро░рпБро╡ро╛роХрпНроХрпБроХро┐ро▒родрпБ, рокрпКродрпБро╡ро╛рой MQTT рокрпНро░рпЛроХрпНроХро░рпБроЯройрпН роЗрогрпИроХрпНроХро┐ро▒родрпБ, роорпЗро▓рпБроорпН рокро┐ройрпНройрогро┐ родро┐ро░рпИропро┐ро▓рпН роУроЯрпБроорпН роТро░рпБ роЪрпЖропро▓ро╛роХрпНроХ ро▓рпВрокрпНрокрпИродрпН родрпКроЯроЩрпНроХрпБроХро┐ро▒родрпБ, роЗродрпБ роОроирпНрод роЪроирпНродро╛ родро▓рпИрокрпНрокрпБроХро│ро┐ро▓рпБроорпН роЪрпЖропрпНродро┐роХро│рпИ роХрпЗроЯрпНроХро┐ро▒родрпБ.

1. роЗроирпНрод рокрогро┐ропро┐ройрпН роорпБроирпНродрпИроп рокроХрпБродро┐ропро┐ро▓рпН роирпАроЩрпНроХро│рпН роХрпБро▒ро┐ропрпАроЯрпНроЯрпИ роЗропроХрпНроХро┐роп роЕродрпЗ роорпБро▒рпИропро┐ро▓рпН роХрпБро▒ро┐ропрпАроЯрпНроЯрпИ роЗропроХрпНроХро╡рпБроорпН. роирпАроЩрпНроХро│рпН роорпЖропрпНроиро┐роХро░рпН IoT роЪро╛родройродрпНродрпИрокрпН рокропройрпНрокроЯрпБродрпНродро┐ройро╛ро▓рпН, CounterFit роЪрпЖропро▓ро┐ роЗропроЩрпНроХрпБро╡родрпИ роЙро▒рпБродро┐роЪрпЖропрпНродрпБ, роТро│ро┐ роЪрпЖройрпНроЪро╛ро░рпН рооро▒рпНро▒рпБроорпН LED роЪро░ро┐ропро╛рой рокро┐ройрпНроХро│ро┐ро▓рпН роЙро░рпБро╡ро╛роХрпНроХрокрпНрокроЯрпНроЯрпБро│рпНро│рой роОройрпНрокродрпИ роЙро▒рпБродро┐роЪрпЖропрпНропро╡рпБроорпН.

    ```output
    (.venv) тЮЬ  nightlight python app.py 
    MQTT connected!
    Light level: 0
    Light level: 0
    ```

> ЁЯТБ роЗроирпНрод роХрпБро▒ро┐ропрпАроЯрпНроЯрпИ [code-mqtt/virtual-device](../../../../../1-getting-started/lessons/4-connect-internet/code-mqtt/virtual-device) роХрпЛрокрпНрокрпБро▒рпИропро┐ро▓рпЛ роЕро▓рпНро▓родрпБ [code-mqtt/pi](../../../../../1-getting-started/lessons/4-connect-internet/code-mqtt/pi) роХрпЛрокрпНрокрпБро▒рпИропро┐ро▓рпЛ роХро╛рогро▓ро╛роорпН.

ЁЯША роирпАроЩрпНроХро│рпН роЙроЩрпНроХро│рпН роЪро╛родройродрпНродрпИ роТро░рпБ MQTT рокрпНро░рпЛроХрпНроХро░рпБроЯройрпН ро╡рпЖро▒рпНро▒ро┐роХро░рооро╛роХ роЗрогрпИродрпНродрпБро╡ро┐роЯрпНроЯрпАро░рпНроХро│рпН.

---

**роХрпБро▒ро┐рокрпНрокрпБ**:  
роЗроирпНрод роЖро╡рогроорпН [Co-op Translator](https://github.com/Azure/co-op-translator) роОройрпНро▒ AI роорпКро┤ро┐рокрпЖропро░рпНрокрпНрокрпБ роЪрпЗро╡рпИропрпИрокрпН рокропройрпНрокроЯрпБродрпНродро┐ роорпКро┤ро┐рокрпЖропро░рпНроХрпНроХрокрпНрокроЯрпНроЯрпБро│рпНро│родрпБ. роиро╛роЩрпНроХро│рпН родрпБро▓рпНро▓ро┐ропродрпНродро┐ро▒рпНроХро╛роХ роорпБропро▒рпНроЪро┐роХрпНроХро┐ройрпНро▒рпЛроорпН, роЖройро╛ро▓рпН родро╛ройро┐ропроЩрпНроХро┐ роорпКро┤ро┐рокрпЖропро░рпНрокрпНрокрпБроХро│ро┐ро▓рпН рокро┐ро┤рпИроХро│рпН роЕро▓рпНро▓родрпБ родро╡ро▒ро╛рой родроХро╡ро▓рпНроХро│рпН роЗро░рпБроХрпНроХроХрпНроХрпВроЯрпБроорпН роОройрпНрокродрпИ роХро╡ройродрпНродро┐ро▓рпН роХрпКро│рпНро│ро╡рпБроорпН. роЕродройрпН родро╛ропрпНроорпКро┤ро┐ропро┐ро▓рпН роЙро│рпНро│ роорпВро▓ роЖро╡рогроорпН роЕродро┐роХро╛ро░рокрпНрокрпВро░рпНро╡ роЖродро╛ро░рооро╛роХ роХро░рпБродрокрпНрокроЯ ро╡рпЗрогрпНроЯрпБроорпН. роорпБроХрпНроХро┐ропрооро╛рой родроХро╡ро▓рпНроХро│рпБроХрпНроХрпБ, родрпКро┤ро┐ро▓рпНроорпБро▒рпИ рооройро┐род роорпКро┤ро┐рокрпЖропро░рпНрокрпНрокрпБ рокро░ро┐роирпНродрпБро░рпИроХрпНроХрокрпНрокроЯрпБроХро┐ро▒родрпБ. роЗроирпНрод роорпКро┤ро┐рокрпЖропро░рпНрокрпНрокрпИрокрпН рокропройрпНрокроЯрпБродрпНродрпБро╡родро╛ро▓рпН роПро▒рпНрокроЯрпБроорпН роОроирпНрод родро╡ро▒ро╛рой рокрпБро░ро┐родро▓рпНроХро│рпН роЕро▓рпНро▓родрпБ родро╡ро▒ро╛рой ро╡ро┐ро│роХрпНроХроЩрпНроХро│рпБроХрпНроХрпБ роиро╛роЩрпНроХро│рпН рокрпКро▒рпБрокрпНрокро▓рпНро▓.