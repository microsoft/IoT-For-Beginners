<!--
CO_OP_TRANSLATOR_METADATA:
{
  "original_hash": "4cf1421420a6fab9ab4f2c391bd523b7",
  "translation_date": "2025-10-11T12:50:31+00:00",
  "source_file": "5-retail/lessons/2-check-stock-device/wio-terminal-object-detector.md",
  "language_code": "ta"
}
-->
# роЙроЩрпНроХро│рпН IoT роЪро╛родройродрпНродро┐ро▓ро┐ро░рпБроирпНродрпБ роЙроЩрпНроХро│рпН рокрпКро░рпБро│рпН роХрогрпНроЯро▒ро┐ро╡ро┐ропрпИ роЕро┤рпИроХрпНроХро╡рпБроорпН - Wio Terminal

роЙроЩрпНроХро│рпН рокрпКро░рпБро│рпН роХрогрпНроЯро▒ро┐ро╡ро┐ ро╡рпЖро│ро┐ропро┐роЯрокрпНрокроЯрпНроЯро╡рпБроЯройрпН, роЕродрпИ роЙроЩрпНроХро│рпН IoT роЪро╛родройродрпНродро┐ро▓ро┐ро░рпБроирпНродрпБ рокропройрпНрокроЯрпБродрпНродро▓ро╛роорпН.

## рокроЯродрпНродрпИ ро╡роХрпИрокрпНрокроЯрпБродрпНродрпБроорпН родро┐роЯрпНроЯродрпНродрпИ роироХро▓рпЖроЯрпБроХрпНроХро╡рпБроорпН

роЙроЩрпНроХро│рпН рокрпКро░рпБро│рпН роХрогрпНроЯро▒ро┐ро╡ро┐ропро┐ройрпН рокрпЖро░рпБроорпНрокро╛ро▓ро╛рой рокроХрпБродро┐ роирпАроЩрпНроХро│рпН роорпБроирпНродрпИроп рокро╛роЯродрпНродро┐ро▓рпН роЙро░рпБро╡ро╛роХрпНроХро┐роп рокроЯ ро╡роХрпИрокрпНрокроЯрпБродрпНродро┐роп родро┐роЯрпНроЯродрпНродрпБроЯройрпН роТро░рпЗ рооро╛родро┐ро░ро┐ропро╛ройродрпБ.

### рокрогро┐роХро│рпН - рокроЯродрпНродрпИ ро╡роХрпИрокрпНрокроЯрпБродрпНродрпБроорпН родро┐роЯрпНроЯродрпНродрпИ роироХро▓рпЖроЯрпБроХрпНроХро╡рпБроорпН

1. роЙроЩрпНроХро│рпН ArduCam-роР Wio Terminal-роХрпНроХрпБ роЗрогрпИроХрпНроХро╡рпБроорпН, [родропро╛ро░ро┐рокрпНрокрпБ родро┐роЯрпНроЯродрпНродро┐ройрпН рокро╛роЯроорпН 2](../../../4-manufacturing/lessons/2-check-fruit-from-device/wio-terminal-camera.md#task---connect-the-camera) роЗро▓рпН роЙро│рпНро│ рокроЯро┐роХро│рпИрокрпН рокро┐ройрпНрокро▒рпНро▒ро╡рпБроорпН.

    роирпАроЩрпНроХро│рпН роХрпЗрооро░ро╛ро╡рпИ роТро░рпБ роиро┐ро▓рпИропро╛рой роЗроЯродрпНродро┐ро▓рпН роЪро░ро┐роЪрпЖропрпНроп ро╡ро┐ро░рпБроорпНрокро▓ро╛роорпН, роЙродро╛ро░рогрооро╛роХ, роХрпЗрокро┐ро│рпИ роТро░рпБ рокрпЖроЯрпНроЯро┐ропро┐ройрпН роорпЗро▓рпН роЕро▓рпНро▓родрпБ роЯро┐ройро┐ройрпН роорпЗро▓рпН родрпКроЩрпНроХро╡ро┐роЯрпБро╡родройрпН роорпВро▓роорпН, роЕро▓рпНро▓родрпБ роЗро░рпБ рокроХрпНроХ роЯрпЗрокрпНрокрпИрокрпН рокропройрпНрокроЯрпБродрпНродро┐ роХрпЗрооро░ро╛ро╡рпИ роТро░рпБ рокрпЖроЯрпНроЯро┐ропро┐ро▓рпН роЪро░ро┐роЪрпЖропрпНродрпБ.

1. PlatformIO-роРрокрпН рокропройрпНрокроЯрпБродрпНродро┐ роТро░рпБ рокрпБродро┐роп Wio Terminal родро┐роЯрпНроЯродрпНродрпИ роЙро░рпБро╡ро╛роХрпНроХро╡рпБроорпН. роЗроирпНрод родро┐роЯрпНроЯродрпНродро┐ро▒рпНроХрпБ `stock-counter` роОройрпНро▒рпБ рокрпЖропро░ро┐роЯро╡рпБроорпН.

1. роХрпЗрооро░ро╛ро╡ро┐ро▓рпН роЗро░рпБроирпНродрпБ рокроЯроЩрпНроХро│рпИрокрпН рокро┐роЯро┐роХрпНроХ [родропро╛ро░ро┐рокрпНрокрпБ родро┐роЯрпНроЯродрпНродро┐ройрпН рокро╛роЯроорпН 2](../../../4-manufacturing/lessons/2-check-fruit-from-device/README.md#task---capture-an-image-using-an-iot-device) роЗро▓рпН роЙро│рпНро│ рокроЯро┐роХро│рпИрокрпН рокро┐ройрпНрокро▒рпНро▒ро╡рпБроорпН.

1. роЙроЩрпНроХро│рпН IoT роЪро╛родройродрпНродро┐ро▓ро┐ро░рпБроирпНродрпБ рокроЯроЩрпНроХро│рпИ ро╡роХрпИрокрпНрокроЯрпБродрпНрод [родропро╛ро░ро┐рокрпНрокрпБ родро┐роЯрпНроЯродрпНродро┐ройрпН рокро╛роЯроорпН 2](../../../4-manufacturing/lessons/2-check-fruit-from-device/README.md#task---classify-images-from-your-iot-device) роЗро▓рпН роЙро│рпНро│ рокроЯро┐роХро│рпИрокрпН рокро┐ройрпНрокро▒рпНро▒ро╡рпБроорпН. роЗроирпНрод роХрпБро▒ро┐ропрпАроЯрпНроЯро┐ройрпН рокрпЖро░рпБроорпНрокроХрпБродро┐ рокрпКро░рпБро│рпНроХро│рпИ роХрогрпНроЯро▒ро┐роп роорпАрогрпНроЯрпБроорпН рокропройрпНрокроЯрпБродрпНродрокрпНрокроЯрпБроорпН.

## ро╡роХрпИрокрпНрокроЯрпБродрпНродрпБроорпН роХрпБро▒ро┐ропрпАроЯрпНроЯро┐ро▓ро┐ро░рпБроирпНродрпБ рокроЯродрпНродрпИ роХрогрпНроЯро▒ро┐ропрпБроорпН роХрпБро▒ро┐ропрпАроЯрпНроЯро┐ро▒рпНроХрпБ рооро╛ро▒рпНро▒ро╡рпБроорпН

рокроЯроЩрпНроХро│рпИ ро╡роХрпИрокрпНрокроЯрпБродрпНрод роирпАроЩрпНроХро│рпН рокропройрпНрокроЯрпБродрпНродро┐роп роХрпБро▒ро┐ропрпАроЯрпБ рокрпКро░рпБро│рпНроХро│рпИ роХрогрпНроЯро▒ро┐роп рокропройрпНрокроЯрпБродрпНродрокрпНрокроЯрпБроорпН роХрпБро▒ро┐ропрпАроЯрпНроЯрпБроЯройрпН рооро┐роХро╡рпБроорпН роТродрпНродродро╛роХ роЙро│рпНро│родрпБ. роорпБроХрпНроХро┐роп ро╡рпЗро▒рпБрокро╛роЯрпБ Custom Vision-роЗро▓рпН роЗро░рпБроирпНродрпБ рокрпЖро▒рокрпНрокроЯрпНроЯ URL рооро▒рпНро▒рпБроорпН роЕро┤рпИрокрпНрокро┐ройрпН роорпБроЯро┐ро╡рпБроХро│рпН.

### рокрогро┐роХро│рпН - ро╡роХрпИрокрпНрокроЯрпБродрпНродрпБроорпН роХрпБро▒ро┐ропрпАроЯрпНроЯро┐ро▓ро┐ро░рпБроирпНродрпБ рокроЯродрпНродрпИ роХрогрпНроЯро▒ро┐ропрпБроорпН роХрпБро▒ро┐ропрпАроЯрпНроЯро┐ро▒рпНроХрпБ рооро╛ро▒рпНро▒ро╡рпБроорпН

1. `main.cpp` роХрпЛрокрпНрокро┐ройрпН роорпЗро▓рпН рокро┐ройрпНро╡ро░рпБроорпН include directive-роР роЪрпЗро░рпНроХрпНроХро╡рпБроорпН:

    ```cpp
    #include <vector>
    ```

1. `classifyImage` роЪрпЖропро▓рпНрокро╛роЯрпНроЯрпИ `detectStock` роОройрпНро▒рпБ рокрпЖропро░ро┐роЯро╡рпБроорпН, роЪрпЖропро▓рпНрокро╛роЯрпНроЯро┐ройрпН рокрпЖропро░рпН рооро▒рпНро▒рпБроорпН `buttonPressed` роЪрпЖропро▓рпНрокро╛роЯрпНроЯро┐ро▓рпН роЙро│рпНро│ роЕро┤рпИрокрпНрокрпИ рооро╛ро▒рпНро▒ро╡рпБроорпН.

1. `detectStock` роЪрпЖропро▓рпНрокро╛роЯрпНроЯро┐ройрпН роорпЗро▓рпН, роХрпБро▒рпИроирпНрод роЪро╛родрпНродро┐ропроХрпНроХрпВро▒рпБроХро│рпИроХрпН роХрпКрогрпНроЯ роОроирпНродро╡рпКро░рпБ роХрогрпНроЯро▒ро┐ро╡рпБроХро│рпИропрпБроорпН ро╡роЯро┐роХроЯрпНроЯ роТро░рпБ threshold-роР роЕро▒ро┐ро╡ро┐роХрпНроХро╡рпБроорпН:

    ```cpp
    const float threshold = 0.3f;
    ```

    роТро░рпБ рокроЯ ро╡роХрпИрокрпНрокроЯрпБродрпНродро┐ роТро╡рпНро╡рпКро░рпБ роЯрпЗроХрпНроХро┐ро▒рпНроХрпБроорпН роТро░рпБ роорпБроЯро┐ро╡рпИ роороЯрпНроЯрпБроорпЗ родро┐ро░рпБрокрпНрокрпБроорпН, роЖройро╛ро▓рпН рокрпКро░рпБро│рпН роХрогрпНроЯро▒ро┐ро╡ро┐ рокро▓ роорпБроЯро┐ро╡рпБроХро│рпИ родро┐ро░рпБрокрпНрокрпБроорпН, роОройро╡рпЗ роХрпБро▒рпИроирпНрод роЪро╛родрпНродро┐ропроХрпНроХрпВро▒рпБроХро│рпИроХрпН роХрпКрогрпНроЯро╡рпИ ро╡роЯро┐роХроЯрпНроЯрокрпНрокроЯ ро╡рпЗрогрпНроЯрпБроорпН.

1. `detectStock` роЪрпЖропро▓рпНрокро╛роЯрпНроЯро┐ройрпН роорпЗро▓рпН, роорпБройрпНройро▒ро┐ро╡ро┐рокрпНрокрпБроХро│рпИ роЪрпЖропро▓рпНрокроЯрпБродрпНрод роТро░рпБ роЪрпЖропро▓рпНрокро╛роЯрпНроЯрпИ роЕро▒ро┐ро╡ро┐роХрпНроХро╡рпБроорпН:

    ```cpp
    void processPredictions(std::vector<JsonVariant> &predictions)
    {
        for(JsonVariant prediction : predictions)
        {
            String tag = prediction["tagName"].as<String>();
            float probability = prediction["probability"].as<float>();
    
            char buff[32];
            sprintf(buff, "%s:\t%.2f%%", tag.c_str(), probability * 100.0);
            Serial.println(buff);
        }
    }
    ```

    роЗродрпБ роорпБройрпНройро▒ро┐ро╡ро┐рокрпНрокрпБроХро│ро┐ройрпН рокроЯрпНроЯро┐ропро▓рпИ роОроЯрпБродрпНродрпБ, роЕро╡ро▒рпНро▒рпИ роЪрпАро░ро┐ропро▓рпН рооро╛ройро┐роЯрпНроЯро░ро┐ро▓рпН роЕроЪрпНроЪро┐роЯрпБроХро┐ро▒родрпБ.

1. `detectStock` роЪрпЖропро▓рпНрокро╛роЯрпНроЯро┐ро▓рпН, роорпБройрпНройро▒ро┐ро╡ро┐рокрпНрокрпБроХро│рпИ роороЯроХрпНроХро┐ роороЯроХрпНроХро┐ роЪрпЖро▓рпНро▓рпБроорпН `for` loop-роЗройрпН роЙро│рпНро│роЯроХрпНроХродрпНродрпИ рокро┐ройрпНро╡ро░рпБрооро╛ро▒рпБ рооро╛ро▒рпНро▒ро╡рпБроорпН:

    ```cpp
    std::vector<JsonVariant> passed_predictions;

    for(JsonVariant prediction : predictions) 
    {
        float probability = prediction["probability"].as<float>();
        if (probability > threshold)
        {
            passed_predictions.push_back(prediction);
        }
    }

    processPredictions(passed_predictions);
    ```

    роЗродрпБ роорпБройрпНройро▒ро┐ро╡ро┐рокрпНрокрпБроХро│рпИ роороЯроХрпНроХро┐ роороЯроХрпНроХро┐ роЪрпЖро▓рпНро▓рпБроорпН рокрпЛродрпБ роЪро╛родрпНродро┐ропроХрпНроХрпВро▒рпБроХро│рпИ threshold-роЗройрпН роорпАродрпБ роТрокрпНрокро┐роЯрпБроХро┐ро▒родрпБ. threshold-роР ро╡ро┐роЯ роЕродро┐роХ роЪро╛родрпНродро┐ропроХрпНроХрпВро▒рпБроХро│рпИроХрпН роХрпКрогрпНроЯ роЕройрпИродрпНродрпБ роорпБройрпНройро▒ро┐ро╡ро┐рокрпНрокрпБроХро│рпБроорпН роТро░рпБ `list`-роХрпНроХрпБ роЪрпЗро░рпНроХрпНроХрокрпНрокроЯрпНроЯрпБ `processPredictions` роЪрпЖропро▓рпНрокро╛роЯрпНроЯро┐ро▒рпНроХрпБ роЕройрпБрокрпНрокрокрпНрокроЯрпБроорпН.

1. роЙроЩрпНроХро│рпН роХрпБро▒ро┐ропрпАроЯрпНроЯрпИ рокродро┐ро╡рпЗро▒рпНро▒ро╡рпБроорпН рооро▒рпНро▒рпБроорпН роЗропроХрпНроХро╡рпБроорпН. роХрпЗрооро░ро╛ро╡рпИ роТро░рпБ родроЯрпНроЯро┐ро▓рпН роЙро│рпНро│ рокрпКро░рпБроЯрпНроХро│рпБроХрпНроХрпБрокрпН рокро╛ропрпНроирпНродрпБ C рокрпКродрпНродро╛ройрпИ роЕро┤рпБродрпНродро╡рпБроорпН. роирпАроЩрпНроХро│рпН роЪрпАро░ро┐ропро▓рпН рооро╛ройро┐роЯрпНроЯро░ро┐ро▓рпН ро╡рпЖро│ро┐ропрпАроЯрпНроЯрпИ роХро╛рогро▓ро╛роорпН:

    ```output
    Connecting to WiFi..
    Connected!
    Image captured
    Image read to buffer with length 17416
    tomato paste:   35.84%
    tomato paste:   35.87%
    tomato paste:   34.11%
    tomato paste:   35.16%
    ```

    > ЁЯТБ роЙроЩрпНроХро│рпН рокроЯроЩрпНроХро│рпБроХрпНроХрпБ роПро▒рпНро▒ роТро░рпБ роородро┐рокрпНрокро┐ро▒рпНроХрпБ `threshold`-роР роЪро░ро┐роЪрпЖропрпНроп ро╡рпЗрогрпНроЯро┐ропро┐ро░рпБроХрпНроХро▓ро╛роорпН.

    роОроЯрпБродрпНрод рокроЯродрпНродрпИ роирпАроЩрпНроХро│рпН роХро╛рог роорпБроЯро┐ропрпБроорпН, роорпЗро▓рпБроорпН роЗроирпНрод роородро┐рокрпНрокрпБроХро│рпИ Custom Vision роЗро▓рпН **Predictions** родро╛ро╡ро▓ро┐ро▓рпН роХро╛рогро▓ро╛роорпН.

    ![родроЯрпНроЯро┐ро▓рпН 4 роЯрооро╛роЯрпНроЯрпЛ рокрпЗро╕рпНроЯрпН роЯро┐ройрпНроХро│рпН рооро▒рпНро▒рпБроорпН 35.8%, 33.5%, 25.7% рооро▒рпНро▒рпБроорпН 16.6% роЪро╛родрпНродро┐ропроХрпНроХрпВро▒рпБроХро│рпБроХрпНроХро╛рой 4 роХрогрпНроЯро▒ро┐ро╡рпБроХро│ро┐ройрпН роорпБройрпНройро▒ро┐ро╡ро┐рокрпНрокрпБроХро│рпН](../../../../../translated_images/custom-vision-stock-prediction.942266ab1bcca3410ecdf23643b9f5f570cfab2345235074e24c51f285777613.ta.png)

> ЁЯТБ роЗроирпНрод роХрпБро▒ро┐ропрпАроЯрпНроЯрпИ [code-detect/wio-terminal](../../../../../5-retail/lessons/2-check-stock-device/code-detect/wio-terminal) роХрпЛрокрпНрокрпБро▒рпИропро┐ро▓рпН роХро╛рогро▓ро╛роорпН.

ЁЯША роЙроЩрпНроХро│рпН stock counter родро┐роЯрпНроЯроорпН ро╡рпЖро▒рпНро▒ро┐роХро░рооро╛роХ роорпБроЯро┐роирпНродродрпБ!

---

**роХрпБро▒ро┐рокрпНрокрпБ**:  
роЗроирпНрод роЖро╡рогроорпН [Co-op Translator](https://github.com/Azure/co-op-translator) роОройрпНро▒ AI роорпКро┤ро┐рокрпЖропро░рпНрокрпНрокрпБ роЪрпЗро╡рпИропрпИрокрпН рокропройрпНрокроЯрпБродрпНродро┐ роорпКро┤ро┐рокрпЖропро░рпНроХрпНроХрокрпНрокроЯрпНроЯрпБро│рпНро│родрпБ. роиро╛роЩрпНроХро│рпН родрпБро▓рпНро▓ро┐ропродрпНродро┐ро▒рпНроХро╛роХ роорпБропро▒рпНроЪро┐роХрпНроХро┐ройрпНро▒рпЛроорпН, роЖройро╛ро▓рпН родро╛ройро┐ропроЩрпНроХро┐ роорпКро┤ро┐рокрпЖропро░рпНрокрпНрокрпБроХро│ро┐ро▓рпН рокро┐ро┤рпИроХро│рпН роЕро▓рпНро▓родрпБ родро╡ро▒ро╛рой родроХро╡ро▓рпНроХро│рпН роЗро░рпБроХрпНроХроХрпНроХрпВроЯрпБроорпН роОройрпНрокродрпИ роХро╡ройродрпНродро┐ро▓рпН роХрпКро│рпНро│ро╡рпБроорпН. роЕродройрпН родро╛ропрпНроорпКро┤ро┐ропро┐ро▓рпН роЙро│рпНро│ роорпВро▓ роЖро╡рогроорпН роЕродро┐роХро╛ро░рокрпНрокрпВро░рпНро╡ роЖродро╛ро░рооро╛роХ роХро░рпБродрокрпНрокроЯ ро╡рпЗрогрпНроЯрпБроорпН. роорпБроХрпНроХро┐ропрооро╛рой родроХро╡ро▓рпНроХро│рпБроХрпНроХрпБ, родрпКро┤ро┐ро▓рпНроорпБро▒рпИ рооройро┐род роорпКро┤ро┐рокрпЖропро░рпНрокрпНрокрпБ рокро░ро┐роирпНродрпБро░рпИроХрпНроХрокрпНрокроЯрпБроХро┐ро▒родрпБ. роЗроирпНрод роорпКро┤ро┐рокрпЖропро░рпНрокрпНрокрпИрокрпН рокропройрпНрокроЯрпБродрпНродрпБро╡родро╛ро▓рпН роПро▒рпНрокроЯрпБроорпН роОроирпНрод родро╡ро▒ро╛рой рокрпБро░ро┐родро▓рпНроХро│рпН роЕро▓рпНро▓родрпБ родро╡ро▒ро╛рой ро╡ро┐ро│роХрпНроХроЩрпНроХро│рпБроХрпНроХрпБ роиро╛роЩрпНроХро│рпН рокрпКро▒рпБрокрпНрокро▓рпНро▓.