<!--
CO_OP_TRANSLATOR_METADATA:
{
  "original_hash": "9c4320311c0f2c1884a6a21265d98a51",
  "translation_date": "2025-10-11T12:48:43+00:00",
  "source_file": "5-retail/lessons/2-check-stock-device/single-board-computer-count-stock.md",
  "language_code": "ta"
}
-->
# роЙроЩрпНроХро│рпН IoT роЪро╛родройродрпНродро┐ро▓ро┐ро░рпБроирпНродрпБ рокроЩрпНроХрпБ роОрогрпНрогрпБроХ - роорпЖропрпНроиро┐роХро░рпН IoT ро╣ро╛ро░рпНроЯрпНро╡рпЗро░рпБроорпН Raspberry Pi-ропрпБроорпН

роорпБройрпНройро▒ро┐ро╡ро┐рокрпНрокрпБроХро│рпН рооро▒рпНро▒рпБроорпН роЕро╡ро▒рпНро▒ро┐ройрпН роОро▓рпНро▓рпИ рокрпЖроЯрпНроЯро┐роХро│рпИ роЗрогрпИродрпНродрпБ роТро░рпБ рокроЯродрпНродро┐ро▓рпН рокроЩрпНроХрпБроХро│рпИ роОрогрпНрог роорпБроЯро┐ропрпБроорпН.

## роОро▓рпНро▓рпИ рокрпЖроЯрпНроЯро┐роХро│рпИ роХро╛роЯрпНроЯро╡рпБроорпН

рокропройрпБро│рпНро│ рокро┐ро┤рпИродро┐ро░рпБродрпНрод роироЯро╡роЯро┐роХрпНроХрпИропро╛роХ, роОро▓рпНро▓рпИ рокрпЖроЯрпНроЯро┐роХро│рпИ роЕроЪрпНроЪро┐роЯрпБро╡родрпБроЯройрпН, рокроЯроорпН рокро┐роЯро┐роХрпНроХрокрпНрокроЯрпНроЯрокрпЛродрпБ роЯро┐ро╕рпНроХрпНроХро┐ро▓рпН роОро┤рпБродрокрпНрокроЯрпНроЯ рокроЯродрпНродро┐ро▓рпН роЕро╡ро▒рпНро▒рпИ ро╡ро░рпИроирпНродрпБ роХро╛роЯрпНроЯро╡рпБроорпН роорпБроЯро┐ропрпБроорпН.

### рокрогро┐роХро│рпН - роОро▓рпНро▓рпИ рокрпЖроЯрпНроЯро┐роХро│рпИ роЕроЪрпНроЪро┐роЯро╡рпБроорпН

1. `stock-counter` родро┐роЯрпНроЯроорпН VS Code-роЗро▓рпН родро┐ро▒роХрпНроХрокрпНрокроЯрпНроЯро┐ро░рпБрокрпНрокродрпИ роЙро▒рпБродро┐рокрпНрокроЯрпБродрпНродро╡рпБроорпН, роорпЗро▓рпБроорпН роирпАроЩрпНроХро│рпН роорпЖропрпНроиро┐роХро░рпН IoT роЪро╛родройродрпНродрпИрокрпН рокропройрпНрокроЯрпБродрпНродро┐ройро╛ро▓рпН роорпЖропрпНроиро┐роХро░рпН роЪрпВро┤ро▓рпН роЪрпЖропро▓рпНрокроЯрпБродрпНродрокрпНрокроЯрпНроЯро┐ро░рпБроХрпНроХ ро╡рпЗрогрпНроЯрпБроорпН.

1. `for` роороЯроХрпНроХрпБроХрпНроХрпБро│рпН роЙро│рпНро│ `print` роЕро▒ро┐роХрпНроХрпИропрпИ роХрпАро┤рпЗ роЙро│рпНро│ро╡ро╛ро▒рпБ рооро╛ро▒рпНро▒ро┐ роОро▓рпНро▓рпИ рокрпЖроЯрпНроЯро┐роХро│рпИ роХройрпНроЪрпЛро▓ро┐ро▓рпН роЕроЪрпНроЪро┐роЯро╡рпБроорпН:

    ```python
    print(f'{prediction.tag_name}:\t{prediction.probability * 100:.2f}%\t{prediction.bounding_box}')
    ```

1. роХрпЗрооро░ро╛ро╡рпИ роТро░рпБ родроЯрпНроЯро┐ро▓рпН роЙро│рпНро│ рокроЩрпНроХрпБроХро│ро┐ройрпН роорпАродрпБ роЪрпБроЯрпНроЯро┐ ро╡рпИродрпНродрпБ роЪрпЖропро▓ро┐ропрпИ роЗропроХрпНроХро╡рпБроорпН. роОро▓рпНро▓рпИ рокрпЖроЯрпНроЯро┐роХро│рпН роХройрпНроЪрпЛро▓ро┐ро▓рпН роЕроЪрпНроЪро┐роЯрокрпНрокроЯрпБроорпН, роЗроЯродрпБ, роорпЗро▓рпН, роЕроХро▓роорпН рооро▒рпНро▒рпБроорпН роЙропро░роорпН роородро┐рокрпНрокрпБроХро│рпН 0-1 ро╡ро░рпИ роЗро░рпБроХрпНроХрпБроорпН.

    ```output
    pi@raspberrypi:~/stock-counter $ python3 app.py 
    tomato paste:   33.42%  {'additional_properties': {}, 'left': 0.3455171, 'top': 0.09916268, 'width': 0.14175442, 'height': 0.29405564}
    tomato paste:   34.41%  {'additional_properties': {}, 'left': 0.48283678, 'top': 0.10242918, 'width': 0.11782813, 'height': 0.27467814}
    tomato paste:   31.25%  {'additional_properties': {}, 'left': 0.4923783, 'top': 0.35007596, 'width': 0.13668466, 'height': 0.28304994}
    tomato paste:   31.05%  {'additional_properties': {}, 'left': 0.36416405, 'top': 0.37494493, 'width': 0.14024884, 'height': 0.26880276}
    ```

### рокрогро┐роХро│рпН - рокроЯродрпНродро┐ро▓рпН роОро▓рпНро▓рпИ рокрпЖроЯрпНроЯро┐роХро│рпИ ро╡ро░рпИ

1. [Pillow](https://pypi.org/project/Pillow/) роОройрпНро▒ Pip родрпКроХрпБрокрпНрокрпБ рокроЯроЩрпНроХро│ро┐ро▓рпН ро╡ро░рпИродро▓рпН роЪрпЖропрпНроп рокропройрпНрокроЯрпБродрпНродро▓ро╛роорпН. роЗродрпИ роХрпАро┤рпЗ роЙро│рпНро│ роХроЯрпНроЯро│рпИропрпИрокрпН рокропройрпНрокроЯрпБродрпНродро┐ роиро┐ро▒рпБро╡ро╡рпБроорпН:

    ```sh
    pip3 install pillow
    ```

    роирпАроЩрпНроХро│рпН роорпЖропрпНроиро┐роХро░рпН IoT роЪро╛родройродрпНродрпИрокрпН рокропройрпНрокроЯрпБродрпНродро┐ройро╛ро▓рпН, роЪрпЖропро▓рпНрокроЯрпБродрпНродрокрпНрокроЯрпНроЯ роорпЖропрпНроиро┐роХро░рпН роЪрпВро┤ро▓рпБроХрпНроХрпБро│рпН роЗродрпИ роЗропроХрпНроХро╡рпБроорпН.

1. `app.py` роХрпЛрокрпНрокро┐ройрпН роорпЗро▓рпН рокроХрпБродро┐ропро┐ро▓рпН роХрпАро┤рпЗ роЙро│рпНро│ роЗро▒роХрпНроХрпБроородро┐ роЕро▒ро┐роХрпНроХрпИропрпИроЪрпН роЪрпЗро░рпНроХрпНроХро╡рпБроорпН:

    ```python
    from PIL import Image, ImageDraw, ImageColor
    ```

    роЗродрпБ рокроЯродрпНродрпИродрпН родро┐ро░рпБродрпНрод родрпЗро╡рпИропро╛рой роХрпБро▒ро┐ропрпАроЯрпНроЯрпИ роЗро▒роХрпНроХрпБроородро┐ роЪрпЖропрпНроХро┐ро▒родрпБ.

1. `app.py` роХрпЛрокрпНрокро┐ройрпН роЗро▒рпБродро┐ропро┐ро▓рпН роХрпАро┤рпЗ роЙро│рпНро│ роХрпБро▒ро┐ропрпАроЯрпНроЯрпИроЪрпН роЪрпЗро░рпНроХрпНроХро╡рпБроорпН:

    ```python
    with Image.open('image.jpg') as im:
        draw = ImageDraw.Draw(im)
    
        for prediction in predictions:
            scale_left = prediction.bounding_box.left
            scale_top = prediction.bounding_box.top
            scale_right = prediction.bounding_box.left + prediction.bounding_box.width
            scale_bottom = prediction.bounding_box.top + prediction.bounding_box.height
            
            left = scale_left * im.width
            top = scale_top * im.height
            right = scale_right * im.width
            bottom = scale_bottom * im.height
    
            draw.rectangle([left, top, right, bottom], outline=ImageColor.getrgb('red'), width=2)
    
        im.save('image.jpg')
    ```

    роЗроирпНрод роХрпБро▒ро┐ропрпАроЯрпБ роорпБройрпНрокрпЗ роЪрпЗрооро┐роХрпНроХрокрпНрокроЯрпНроЯ рокроЯродрпНродрпИродрпН родро┐ро░рпБродрпНродрпБро╡родро▒рпНроХро╛роХ родро┐ро▒роХрпНроХро┐ро▒родрпБ. рокро┐ройрпНройро░рпН, роорпБройрпНройро▒ро┐ро╡ро┐рокрпНрокрпБроХро│рпИ роороЯроХрпНроХро┐ роОро▓рпНро▓рпИ рокрпЖроЯрпНроЯро┐роХро│рпИрокрпН рокрпЖро▒рпБроХро┐ро▒родрпБ, роорпЗро▓рпБроорпН 0-1 роородро┐рокрпНрокрпБроХро│ро┐ро▓ро┐ро░рпБроирпНродрпБ роХрпАро┤рпН ро╡ро▓родрпБ роХрпЛро░рпНроЯро┐ройрпЗроЯрпНроЯрпИ роХрогроХрпНроХро┐роЯрпБроХро┐ро▒родрпБ. роЗро╡рпИ рокро┐ройрпНройро░рпН рокроЯродрпНродро┐ройрпН родрпКроЯро░рпНрокрпБроЯрпИроп рокро░ро┐рооро╛рогродрпНродро╛ро▓рпН рокрпЖро░рпБроХрпНроХрокрпНрокроЯрпНроЯрпБ рокроЯ роХрпЛро░рпНроЯро┐ройрпЗроЯрпНроЯрпБроХро│ро╛роХ рооро╛ро▒рпНро▒рокрпНрокроЯрпБроХро┐ройрпНро▒рой. роЙродро╛ро░рогрооро╛роХ, роЗроЯродрпБ роородро┐рокрпНрокрпБ 0.5 роЖроХ роЗро░рпБроирпНродро╛ро▓рпН, 600 рокро┐роХрпНроЪро▓рпНроХро│рпН роЕроХро▓рооро╛рой рокроЯродрпНродро┐ро▓рпН роЗродрпБ 300 роЖроХ рооро╛ро▒рпБроорпН (0.5 x 600 = 300).

    роТро╡рпНро╡рпКро░рпБ роОро▓рпНро▓рпИ рокрпЖроЯрпНроЯро┐ропрпБроорпН роТро░рпБ роЪро┐ро╡рокрпНрокрпБ роХрпЛроЯрпБроЯройрпН рокроЯродрпНродро┐ро▓рпН ро╡ро░рпИропрокрпНрокроЯрпБроХро┐ро▒родрпБ. роЗро▒рпБродро┐ропро╛роХ родро┐ро░рпБродрпНродрокрпНрокроЯрпНроЯ рокроЯроорпН роЪрпЗрооро┐роХрпНроХрокрпНрокроЯрпБроХро┐ро▒родрпБ, роорпВро▓рокрпНрокроЯродрпНродрпИ роорпАрогрпНроЯрпБроорпН роОро┤рпБродрпБроХро┐ро▒родрпБ.

1. роХрпЗрооро░ро╛ро╡рпИ роТро░рпБ родроЯрпНроЯро┐ро▓рпН роЙро│рпНро│ рокроЩрпНроХрпБроХро│ро┐ройрпН роорпАродрпБ роЪрпБроЯрпНроЯро┐ ро╡рпИродрпНродрпБ роЪрпЖропро▓ро┐ропрпИ роЗропроХрпНроХро╡рпБроорпН. роирпАроЩрпНроХро│рпН VS Code роОроХрпНро╕рпНрокрпНро│рпЛро░ро░ро┐ро▓рпН `image.jpg` роХрпЛрокрпНрокрпИрокрпН рокро╛ро░рпНроХрпНроХ роорпБроЯро┐ропрпБроорпН, роорпЗро▓рпБроорпН роОро▓рпНро▓рпИ рокрпЖроЯрпНроЯро┐роХро│рпИрокрпН рокро╛ро░рпНроХрпНроХ роЕродрпИродрпН родрпЗро░рпНроирпНродрпЖроЯрпБроХрпНроХро╡рпБроорпН.

    ![родроХрпНроХро╛ро│ро┐ рокрпЗро╕рпНроЯрпН роХрпЗройрпНроХро│рпН 4, роТро╡рпНро╡рпКройрпНро▒ро┐ройрпН роЪрпБро▒рпНро▒ро┐ро▓рпБроорпН роОро▓рпНро▓рпИ рокрпЖроЯрпНроЯро┐роХро│рпН](../../../../../translated_images/rpi-stock-with-bounding-boxes.b5540e2ecb7cd49f1271828d3be412671d950e87625c5597ea97c90f11e01097.ta.jpg)

## рокроЩрпНроХрпБ роОрогрпНрогрпБроХ

роорпЗро▓рпЗ роХро╛роЯрпНроЯрокрпНрокроЯрпНроЯ рокроЯродрпНродро┐ро▓рпН, роОро▓рпНро▓рпИ рокрпЖроЯрпНроЯро┐роХро│рпН роЪро┐ро▒ро┐роп роУро╡ро░рпНро▓ро╛рокрпНрокрпИ роХрпКрогрпНроЯрпБро│рпНро│рой. роЗроирпНрод роУро╡ро░рпНро▓ро╛рокрпНрокрпБ рооро┐роХро╡рпБроорпН рокрпЖро░ро┐ропродро╛роХ роЗро░рпБроирпНродро╛ро▓рпН, роОро▓рпНро▓рпИ рокрпЖроЯрпНроЯро┐роХро│рпН роТро░рпЗ рокрпКро░рпБро│рпИроХрпН роХрпБро▒ро┐роХрпНроХро▓ро╛роорпН. рокрпКро░рпБроЯрпНроХро│рпИ роЪро░ро┐ропро╛роХ роОрогрпНрог, роорпБроХрпНроХро┐ропрооро╛рой роУро╡ро░рпНро▓ро╛рокрпНрокрпИроХрпН роХрпКрогрпНроЯ рокрпЖроЯрпНроЯро┐роХро│рпИ рокрпБро▒роХрпНроХрогро┐роХрпНроХ ро╡рпЗрогрпНроЯрпБроорпН.

### рокрогро┐роХро│рпН - роУро╡ро░рпНро▓ро╛рокрпНрокрпИ рокрпБро▒роХрпНроХрогро┐родрпНродрпБ рокроЩрпНроХрпБ роОрогрпНрогрпБроХ

1. [Shapely](https://pypi.org/project/Shapely/) роОройрпНро▒ Pip родрпКроХрпБрокрпНрокрпБ роЗроЯрпИроЪрпНроЪрпЗро░рпНроХрпНроХрпИропрпИ роХрогроХрпНроХро┐роЯ рокропройрпНрокроЯрпБродрпНродро▓ро╛роорпН. роирпАроЩрпНроХро│рпН Raspberry Pi-ропрпИрокрпН рокропройрпНрокроЯрпБродрпНродро┐ройро╛ро▓рпН, роорпБродро▓ро┐ро▓рпН роТро░рпБ роирпВро▓роХ роЪро╛ро░рпНрокрпИ роиро┐ро▒рпБро╡ ро╡рпЗрогрпНроЯрпБроорпН:

    ```sh
    sudo apt install libgeos-dev
    ```

1. Shapely Pip родрпКроХрпБрокрпНрокрпИ роиро┐ро▒рпБро╡ро╡рпБроорпН:

    ```sh
    pip3 install shapely
    ```

    роирпАроЩрпНроХро│рпН роорпЖропрпНроиро┐роХро░рпН IoT роЪро╛родройродрпНродрпИрокрпН рокропройрпНрокроЯрпБродрпНродро┐ройро╛ро▓рпН, роЪрпЖропро▓рпНрокроЯрпБродрпНродрокрпНрокроЯрпНроЯ роорпЖропрпНроиро┐роХро░рпН роЪрпВро┤ро▓рпБроХрпНроХрпБро│рпН роЗродрпИ роЗропроХрпНроХро╡рпБроорпН.

1. `app.py` роХрпЛрокрпНрокро┐ройрпН роорпЗро▓рпН рокроХрпБродро┐ропро┐ро▓рпН роХрпАро┤рпЗ роЙро│рпНро│ роЗро▒роХрпНроХрпБроородро┐ роЕро▒ро┐роХрпНроХрпИропрпИроЪрпН роЪрпЗро░рпНроХрпНроХро╡рпБроорпН:

    ```python
    from shapely.geometry import Polygon
    ```

    роЗродрпБ роУро╡ро░рпНро▓ро╛рокрпНрокрпИ роХрогроХрпНроХро┐роЯ рокро╛ро│рпАроХройрпНроХро│рпИ роЙро░рпБро╡ро╛роХрпНроХ родрпЗро╡рпИропро╛рой роХрпБро▒ро┐ропрпАроЯрпНроЯрпИ роЗро▒роХрпНроХрпБроородро┐ роЪрпЖропрпНроХро┐ро▒родрпБ.

1. роОро▓рпНро▓рпИ рокрпЖроЯрпНроЯро┐роХро│рпИ ро╡ро░рпИропрпБроорпН роХрпБро▒ро┐ропрпАроЯрпНроЯро┐ройрпН роорпЗро▓рпН рокроХрпБродро┐ропро┐ро▓рпН роХрпАро┤рпЗ роЙро│рпНро│ роХрпБро▒ро┐ропрпАроЯрпНроЯрпИроЪрпН роЪрпЗро░рпНроХрпНроХро╡рпБроорпН:

    ```python
    overlap_threshold = 0.20
    ```

    роЗродрпБ роОро▓рпНро▓рпИ рокрпЖроЯрпНроЯро┐роХро│рпН роТро░рпЗ рокрпКро░рпБро│ро╛роХроХрпН роХро░рпБродрокрпНрокроЯрпБроорпН роорпБройрпН роЕройрпБроородро┐роХрпНроХрокрпНрокроЯрпНроЯ роЪродро╡рпАрод роУро╡ро░рпНро▓ро╛рокрпНрокрпИ ро╡ро░рпИропро▒рпБроХрпНроХро┐ро▒родрпБ. 0.20 роОройрпНрокродрпБ 20% роУро╡ро░рпНро▓ро╛рокрпНрокрпИ ро╡ро░рпИропро▒рпБроХрпНроХро┐ро▒родрпБ.

1. Shapely-ропрпИрокрпН рокропройрпНрокроЯрпБродрпНродро┐ роУро╡ро░рпНро▓ро╛рокрпНрокрпИ роХрогроХрпНроХро┐роЯ, роОро▓рпНро▓рпИ рокрпЖроЯрпНроЯро┐роХро│рпН Shapely рокро╛ро│рпАроХройрпНроХро│ро╛роХ рооро╛ро▒рпНро▒рокрпНрокроЯ ро╡рпЗрогрпНроЯрпБроорпН. роЗродрпИроЪрпН роЪрпЖропрпНроп роХрпАро┤рпЗ роЙро│рпНро│ роЪрпЖропро▓рпНрокро╛роЯрпНроЯрпИроЪрпН роЪрпЗро░рпНроХрпНроХро╡рпБроорпН:

    ```python
    def create_polygon(prediction):
        scale_left = prediction.bounding_box.left
        scale_top = prediction.bounding_box.top
        scale_right = prediction.bounding_box.left + prediction.bounding_box.width
        scale_bottom = prediction.bounding_box.top + prediction.bounding_box.height
    
        return Polygon([(scale_left, scale_top), (scale_right, scale_top), (scale_right, scale_bottom), (scale_left, scale_bottom)])
    ```

    роЗродрпБ роорпБройрпНройро▒ро┐ро╡ро┐рокрпНрокрпБ роОро▓рпНро▓рпИ рокрпЖроЯрпНроЯро┐ропрпИрокрпН рокропройрпНрокроЯрпБродрпНродро┐ роТро░рпБ рокро╛ро│рпАроХройрпИ роЙро░рпБро╡ро╛роХрпНроХрпБроХро┐ро▒родрпБ.

1. роУро╡ро░рпНро▓ро╛рокрпНрокрпИ роирпАроХрпНроХрпБро╡родро▒рпНроХро╛рой родро░рпНроХрпНроХроорпН роОро▓рпНро▓ро╛ роОро▓рпНро▓рпИ рокрпЖроЯрпНроЯро┐роХро│рпИропрпБроорпН роТрокрпНрокро┐роЯрпБро╡родро┐ро▓рпН роЙро│рпНро│родрпБ. роОроирпНрод роЬрпЛроЯро┐ роорпБройрпНройро▒ро┐ро╡ро┐рокрпНрокрпБроХро│ро┐ройрпН роОро▓рпНро▓рпИ рокрпЖроЯрпНроЯро┐роХро│рпН родроХрпБродро┐роХрпНроХрпБ роорпАро▒ро┐роп роУро╡ро░рпНро▓ро╛рокрпНрокрпИ роХрпКрогрпНроЯро┐ро░рпБроирпНродро╛ро▓рпБроорпН, роТро░рпБ роорпБройрпНройро▒ро┐ро╡ро┐рокрпНрокрпИ роирпАроХрпНроХ ро╡рпЗрогрпНроЯрпБроорпН. роЕройрпИродрпНродрпБ роорпБройрпНройро▒ро┐ро╡ро┐рокрпНрокрпБроХро│рпИропрпБроорпН роТрокрпНрокро┐роЯ, роорпБройрпНройро▒ро┐ро╡ро┐рокрпНрокрпБ 1 роР 2, 3, 4, рокрпЛройрпНро▒ро╡ро▒рпНро▒рпБроЯройрпН роТрокрпНрокро┐роЯ ро╡рпЗрогрпНроЯрпБроорпН, рокро┐ройрпНройро░рпН 2 роР 3, 4 рокрпЛройрпНро▒ро╡ро▒рпНро▒рпБроЯройрпН роТрокрпНрокро┐роЯ ро╡рпЗрогрпНроЯрпБроорпН. роЗродрпИроЪрпН роЪрпЖропрпНроп роХрпАро┤рпЗ роЙро│рпНро│ роХрпБро▒ро┐ропрпАроЯрпНроЯрпИроЪрпН роЪрпЗро░рпНроХрпНроХро╡рпБроорпН:

    ```python
    to_delete = []

    for i in range(0, len(predictions)):
        polygon_1 = create_polygon(predictions[i])
    
        for j in range(i+1, len(predictions)):
            polygon_2 = create_polygon(predictions[j])
            overlap = polygon_1.intersection(polygon_2).area

            smallest_area = min(polygon_1.area, polygon_2.area)
    
            if overlap > (overlap_threshold * smallest_area):
                to_delete.append(predictions[i])
                break
    
    for d in to_delete:
        predictions.remove(d)

    print(f'Counted {len(predictions)} stock items')
    ```

    Shapely `Polygon.intersection` роорпБро▒рпИ роорпВро▓роорпН роУро╡ро░рпНро▓ро╛рокрпНрокрпИ роХрогроХрпНроХро┐роЯрокрпНрокроЯрпБроХро┐ро▒родрпБ, роЗродрпБ роУро╡ро░рпНро▓ро╛рокрпНрокрпИроХрпН роХрпКрогрпНроЯ рокро╛ро│рпАроХройрпИродрпН родро┐ро░рпБрокрпНрокрпБроХро┐ро▒родрпБ. роЗроирпНрод рокро╛ро│рпАроХройро┐ро▓ро┐ро░рпБроирпНродрпБ рокроХрпБродро┐ роХрогроХрпНроХро┐роЯрокрпНрокроЯрпБроХро┐ро▒родрпБ. роЗроирпНрод роУро╡ро░рпНро▓ро╛рокрпНрокрпБ роТро░рпБ роорпБро┤рпБроорпИропро╛рой роородро┐рокрпНрокро╛роХ роЗро▓рпНро▓рпИ, роЖройро╛ро▓рпН роЗродрпБ роОро▓рпНро▓рпИ рокрпЖроЯрпНроЯро┐ропро┐ройрпН роЪродро╡рпАродрооро╛роХ роЗро░рпБроХрпНроХ ро╡рпЗрогрпНроЯрпБроорпН. роОройро╡рпЗ, роЪро┐ро▒ро┐роп роОро▓рпНро▓рпИ рокрпЖроЯрпНроЯро┐ роХрогрпНроЯро▒ро┐ропрокрпНрокроЯрпБроХро┐ро▒родрпБ, роорпЗро▓рпБроорпН роУро╡ро░рпНро▓ро╛рокрпНрокрпБ родроХрпБродро┐роХрпНроХрпБ роорпАро▒ро╛род роЕро│ро╡рпБроХрпНроХрпБ роЪро┐ро▒ро┐роп роОро▓рпНро▓рпИ рокрпЖроЯрпНроЯро┐ропро┐ройрпН роЪродро╡рпАрод роУро╡ро░рпНро▓ро╛рокрпНрокрпБ родроХрпБродро┐ропрпИ роХрогроХрпНроХро┐роЯ рокропройрпНрокроЯрпБродрпНродрокрпНрокроЯрпБроХро┐ро▒родрпБ. роУро╡ро░рпНро▓ро╛рокрпНрокрпБ роЗродрпИ роорпАро▒ро┐ройро╛ро▓рпН, роорпБройрпНройро▒ро┐ро╡ро┐рокрпНрокрпБ роирпАроХрпНроХродрпНродро┐ро▒рпНроХро╛роХ роХрпБро▒ро┐роХрпНроХрокрпНрокроЯрпБроХро┐ро▒родрпБ.

    роТро░рпБ роорпБройрпНройро▒ро┐ро╡ро┐рокрпНрокрпБ роирпАроХрпНроХродрпНродро┐ро▒рпНроХро╛роХ роХрпБро▒ро┐роХрпНроХрокрпНрокроЯрпНроЯро╡рпБроЯройрпН, роЕродрпИ роорпАрогрпНроЯрпБроорпН роЪро░ро┐рокро╛ро░рпНроХрпНроХ родрпЗро╡рпИропро┐ро▓рпНро▓рпИ, роОройро╡рпЗ роЙро│рпНро│роЯроХрпНроХ роороЯроХрпНроХрпБ роЕроЯрпБродрпНрод роорпБройрпНройро▒ро┐ро╡ро┐рокрпНрокрпИроЪрпН роЪро░ро┐рокро╛ро░рпНроХрпНроХ роЙроЯрпИроирпНродрпБ ро╡ро┐роЯрпБроХро┐ро▒родрпБ. роТро░рпБ рокроЯрпНроЯро┐ропро▓ро┐ро▓рпН роЙро│рпНро│ роЙро░рпБрокрпНрокроЯро┐роХро│рпИ роороЯроХрпНроХрпБро╡родро┐ро▓рпН роирпАроХрпНроХ роорпБроЯро┐ропро╛родрпБ, роОройро╡рпЗ родроХрпБродро┐роХрпНроХрпБ роорпАро▒ро┐роп роУро╡ро░рпНро▓ро╛рокрпНрокрпИроХрпН роХрпКрогрпНроЯ роОро▓рпНро▓рпИ рокрпЖроЯрпНроЯро┐роХро│рпН `to_delete` рокроЯрпНроЯро┐ропро▓ро┐ро▓рпН роЪрпЗро░рпНроХрпНроХрокрпНрокроЯрпНроЯрпБ, рокро┐ройрпНройро░рпН роЗро▒рпБродро┐ропро┐ро▓рпН роирпАроХрпНроХрокрпНрокроЯрпБроХро┐ройрпНро▒рой.

    роЗро▒рпБродро┐ропро╛роХ рокроЩрпНроХрпБ роОрогрпНрогро┐роХрпНроХрпИ роХройрпНроЪрпЛро▓ро┐ро▓рпН роЕроЪрпНроЪро┐роЯрокрпНрокроЯрпБроХро┐ро▒родрпБ. роЗродрпБ рокроЩрпНроХрпБ роиро┐ро▓рпИроХро│рпН роХрпБро▒рпИро╡ро╛роХ роЗро░рпБроирпНродро╛ро▓рпН роОроЪрпНроЪро░ро┐роХрпНроХ IoT роЪрпЗро╡рпИроХрпНроХрпБ роЕройрпБрокрпНрокрокрпНрокроЯро▓ро╛роорпН. роЗроирпНрод роХрпБро▒ро┐ропрпАроЯрпБ роОро▓рпНро▓рпИ рокрпЖроЯрпНроЯро┐роХро│рпН ро╡ро░рпИропрокрпНрокроЯрпБроорпН роорпБройрпН роЙро│рпНро│родрпБ, роОройро╡рпЗ роирпАроЩрпНроХро│рпН роЙро░рпБро╡ро╛роХрпНроХрокрпНрокроЯрпНроЯ рокроЯроЩрпНроХро│ро┐ро▓рпН роУро╡ро░рпНро▓ро╛рокрпНрокро┐ро▓рпНро▓ро╛род рокроЩрпНроХрпБ роорпБройрпНройро▒ро┐ро╡ро┐рокрпНрокрпБроХро│рпИрокрпН рокро╛ро░рпНроХрпНроХ роорпБроЯро┐ропрпБроорпН.

    > ЁЯТБ роЗродрпБ роУро╡ро░рпНро▓ро╛рокрпНрокрпБроХро│рпИ роирпАроХрпНроХ рооро┐роХро╡рпБроорпН роОро│ро┐роорпИропро╛рой ро╡ро┤ро┐, роУро╡ро░рпНро▓ро╛рокрпНрокро┐ро▓рпН роЙро│рпНро│ роЬрпЛроЯро┐ропро┐ро▓рпН роорпБродро▓рпН роТройрпНро▒рпИ роороЯрпНроЯрпБроорпН роирпАроХрпНроХрпБроХро┐ро▒родрпБ. роЙро▒рпНрокродрпНродро┐ роХрпБро▒ро┐ропрпАроЯрпНроЯро┐ро▒рпНроХро╛роХ, роирпАроЩрпНроХро│рпН роЗроЩрпНроХрпБ роорпЗро▓рпБроорпН родро░рпНроХрпНроХродрпНродрпИроЪрпН роЪрпЗро░рпНроХрпНроХ ро╡ро┐ро░рпБроорпНрокрпБро╡рпАро░рпНроХро│рпН, рокро▓ рокрпКро░рпБроЯрпНроХро│рпБроХрпНроХро┐роЯрпИропро┐ро▓ро╛рой роУро╡ро░рпНро▓ро╛рокрпНрокрпБроХро│рпИрокрпН рокро░ро┐роЪрпАро▓ро┐рокрпНрокродрпБ рокрпЛройрпНро▒ро╡рпИ, роЕро▓рпНро▓родрпБ роТро░рпБ роОро▓рпНро▓рпИ рокрпЖроЯрпНроЯро┐ рооро▒рпНро▒рпКройрпНро▒ро╛ро▓рпН роЙро│рпНро│роЯроХрпНроХрокрпНрокроЯрпНроЯро┐ро░рпБроирпНродро╛ро▓рпН.

1. роХрпЗрооро░ро╛ро╡рпИ роТро░рпБ родроЯрпНроЯро┐ро▓рпН роЙро│рпНро│ рокроЩрпНроХрпБроХро│ро┐ройрпН роорпАродрпБ роЪрпБроЯрпНроЯро┐ ро╡рпИродрпНродрпБ роЪрпЖропро▓ро┐ропрпИ роЗропроХрпНроХро╡рпБроорпН. ро╡рпЖро│ро┐ропрпАроЯрпБ родроХрпБродро┐роХрпНроХрпБ роорпАро▒ро┐роп роУро╡ро░рпНро▓ро╛рокрпНрокро┐ро▓рпНро▓ро╛род роОро▓рпНро▓рпИ рокрпЖроЯрпНроЯро┐роХро│ро┐ройрпН роОрогрпНрогро┐роХрпНроХрпИропрпИроХрпН роХрпБро▒ро┐роХрпНроХро┐ро▒родрпБ. `overlap_threshold` роородро┐рокрпНрокрпИ рооро╛ро▒рпНро▒ро┐ роорпБройрпНройро▒ро┐ро╡ро┐рокрпНрокрпБроХро│рпН рокрпБро▒роХрпНроХрогро┐роХрпНроХрокрпНрокроЯрпБро╡родрпИрокрпН рокро╛ро░рпБроЩрпНроХро│рпН.

> ЁЯТБ роЗроирпНрод роХрпБро▒ро┐ропрпАроЯрпНроЯрпИ [code-count/pi](../../../../../5-retail/lessons/2-check-stock-device/code-count/pi) роЕро▓рпНро▓родрпБ [code-count/virtual-iot-device](../../../../../5-retail/lessons/2-check-stock-device/code-count/virtual-iot-device) роХрпЛрокрпНрокрпБро▒рпИропро┐ро▓рпН роХро╛рогро▓ро╛роорпН.

ЁЯША роЙроЩрпНроХро│рпН рокроЩрпНроХрпБ роОрогрпНрогрпБроорпН роЪрпЖропро▓ро┐ ро╡рпЖро▒рпНро▒ро┐роХро░рооро╛роХ роорпБроЯро┐роирпНродродрпБ!

---

**роЕро▒ро┐ро╡ро┐рокрпНрокрпБ**:  
роЗроирпНрод роЖро╡рогроорпН [Co-op Translator](https://github.com/Azure/co-op-translator) роОройрпНро▒ AI роорпКро┤ро┐рокрпЖропро░рпНрокрпНрокрпБ роЪрпЗро╡рпИропрпИ рокропройрпНрокроЯрпБродрпНродро┐ роорпКро┤ро┐рокрпЖропро░рпНроХрпНроХрокрпНрокроЯрпНроЯрпБро│рпНро│родрпБ. роиро╛роЩрпНроХро│рпН родрпБро▓рпНро▓ро┐ропродрпНродро┐ро▒рпНроХро╛роХ роорпБропро▒рпНроЪро┐роХрпНроХро┐ро▒рпЛроорпН, роЖройро╛ро▓рпН родро╛ройро┐ропроЩрпНроХро┐ роорпКро┤ро┐рокрпЖропро░рпНрокрпНрокрпБроХро│ро┐ро▓рпН рокро┐ро┤рпИроХро│рпН роЕро▓рпНро▓родрпБ родро╡ро▒рпБроХро│рпН роЗро░рпБроХрпНроХроХрпНроХрпВроЯрпБроорпН роОройрпНрокродрпИ родропро╡рпБроЪрпЖропрпНродрпБ роХро╡ройродрпНродро┐ро▓рпН роХрпКро│рпНро│ро╡рпБроорпН. роЕродройрпН роЪрпКроирпНрод роорпКро┤ро┐ропро┐ро▓рпН роЙро│рпНро│ роорпВро▓ роЖро╡рогроорпН роЕродро┐роХро╛ро░рокрпНрокрпВро░рпНро╡ роЖродро╛ро░рооро╛роХ роХро░рпБродрокрпНрокроЯ ро╡рпЗрогрпНроЯрпБроорпН. роорпБроХрпНроХро┐ропрооро╛рой родроХро╡ро▓рпНроХро│рпБроХрпНроХрпБ, родрпКро┤ро┐ро▓рпНроорпБро▒рпИ рооройро┐род роорпКро┤ро┐рокрпЖропро░рпНрокрпНрокрпБ рокро░ро┐роирпНродрпБро░рпИроХрпНроХрокрпНрокроЯрпБроХро┐ро▒родрпБ. роЗроирпНрод роорпКро┤ро┐рокрпЖропро░рпНрокрпНрокрпИрокрпН рокропройрпНрокроЯрпБродрпНродрпБро╡родро╛ро▓рпН роПро▒рпНрокроЯрпБроорпН роОроирпНрод родро╡ро▒ро╛рой рокрпБро░ро┐родро▓рпНроХро│рпБроХрпНроХрпБроорпН роЕро▓рпНро▓родрпБ родро╡ро▒ро╛рой ро╡ро┐ро│роХрпНроХроЩрпНроХро│рпБроХрпНроХрпБроорпН роиро╛роЩрпНроХро│рпН рокрпКро▒рпБрокрпНрокро▓рпНро▓.