<!--
CO_OP_TRANSLATOR_METADATA:
{
  "original_hash": "af249a24d4fe4f4de4806adbc3bc9d86",
  "translation_date": "2025-10-11T12:22:04+00:00",
  "source_file": "6-consumer/lessons/1-speech-recognition/pi-speech-to-text.md",
  "language_code": "ta"
}
-->
# рокрпЗроЪрпНроЪрпИ роОро┤рпБродрпНродро╛роХ рооро╛ро▒рпНро▒рпБродро▓рпН - ро░ро╛ро╕рпНрокрпЖро░рпНро░ро┐ рокрпИ

роЗроирпНрод рокро╛роЯродрпНродро┐ройрпН роЗроирпНрод рокроХрпБродро┐ропро┐ро▓рпН, рокрпЗроЪрпНроЪрпИ роЪрпЗроХро░ро┐роХрпНроХрокрпНрокроЯрпНроЯ роТро▓ро┐ропро┐ро▓рпН роЗро░рпБроирпНродрпБ роОро┤рпБродрпНродро╛роХ рооро╛ро▒рпНро▒рпБроорпН роХрпБро▒ро┐ропрпАроЯрпНроЯрпИ роирпАроЩрпНроХро│рпН роОро┤рпБродрпБро╡рпАро░рпНроХро│рпН, рокрпЗроЪрпНроЪрпБ роЪрпЗро╡рпИропрпИрокрпН рокропройрпНрокроЯрпБродрпНродро┐.

## роТро▓ро┐ропрпИ рокрпЗроЪрпНроЪрпБ роЪрпЗро╡рпИроХрпНроХрпБ роЕройрпБрокрпНрокрпБродро▓рпН

роТро▓ро┐ропрпИ REST API-роРрокрпН рокропройрпНрокроЯрпБродрпНродро┐ рокрпЗроЪрпНроЪрпБ роЪрпЗро╡рпИроХрпНроХрпБ роЕройрпБрокрпНрокро▓ро╛роорпН. рокрпЗроЪрпНроЪрпБ роЪрпЗро╡рпИропрпИрокрпН рокропройрпНрокроЯрпБродрпНрод, роорпБродро▓ро┐ро▓рпН роирпАроЩрпНроХро│рпН роЕрогрпБроХро▓рпН роЯрпЛроХрпНроХройрпИ роХрпЛро░ ро╡рпЗрогрпНроЯрпБроорпН, рокро┐ройрпНройро░рпН роЕроирпНрод роЯрпЛроХрпНроХройрпИ REST API-ропрпИ роЕрогрпБроХ рокропройрпНрокроЯрпБродрпНрод ро╡рпЗрогрпНроЯрпБроорпН. роЗроирпНрод роЕрогрпБроХро▓рпН роЯрпЛроХрпНроХройрпНроХро│рпН 10 роиро┐рооро┐роЯроЩрпНроХро│рпБроХрпНроХрпБ рокро┐ро▒роХрпБ роХро╛ро▓ро╛ро╡родро┐ропро╛роХро┐ро╡ро┐роЯрпБроорпН, роОройро╡рпЗ роЕро╡рпИ роОрокрпНрокрпЛродрпБроорпН рокрпБродрпБрокрпНрокро┐роХрпНроХрокрпНрокроЯрпНроЯро┐ро░рпБроХрпНроХрпБроорпН ро╡роХрпИропро┐ро▓рпН роЙроЩрпНроХро│рпН роХрпБро▒ро┐ропрпАроЯрпБ роЕро╡ро▒рпНро▒рпИ роорпБро▒рпИрокрпНрокроЯро┐ роХрпЛро░ ро╡рпЗрогрпНроЯрпБроорпН.

### рокрогро┐роХро│рпН - роЕрогрпБроХро▓рпН роЯрпЛроХрпНроХройрпИрокрпН рокрпЖро▒рпБродро▓рпН

1. роЙроЩрпНроХро│рпН рокрпИ-ропро┐ро▓рпН роЙро│рпНро│ `smart-timer` родро┐роЯрпНроЯродрпНродрпИ родро┐ро▒роХрпНроХро╡рпБроорпН.

1. `play_audio` роЪрпЖропро▓рпНрокро╛роЯрпНроЯрпИ роирпАроХрпНроХро╡рпБроорпН. роирпАроЩрпНроХро│рпН рокрпЗроЪро┐ропродрпИ роорпАрогрпНроЯрпБроорпН роЙроЩрпНроХро│рпБроХрпНроХрпБ роХрпВро▒ роТро░рпБ ро╕рпНрооро╛ро░рпНроЯрпН роЯрпИрооро░рпН родрпЗро╡рпИропро┐ро▓рпНро▓рпИ роОройрпНрокродро╛ро▓рпН роЗродрпБ роЗройро┐ родрпЗро╡рпИропро┐ро▓рпНро▓рпИ.

1. `app.py` роХрпЛрокрпНрокро┐ройрпН роорпЗро▓рпН рокро┐ройрпНро╡ро░рпБроорпН роЗро▒роХрпНроХрпБроородро┐ропрпИроЪрпН роЪрпЗро░рпНроХрпНроХро╡рпБроорпН:

    ```python
    import requests
    ```

1. рокрпЗроЪрпНроЪрпБ роЪрпЗро╡рпИроХрпНроХро╛рой роЪро┐ро▓ роЕроорпИрокрпНрокрпБроХро│рпИ роЕро▒ро┐ро╡ро┐роХрпНроХ `while True` роороЯроХрпНроХрпБро╡роЯро┐ро╡родрпНродро┐ройрпН роорпЗро▓рпН рокро┐ройрпНро╡ро░рпБроорпН роХрпБро▒ро┐ропрпАроЯрпНроЯрпИроЪрпН роЪрпЗро░рпНроХрпНроХро╡рпБроорпН:

    ```python
    speech_api_key = '<key>'
    location = '<location>'
    language = '<language>'
    ```

   `<key>` роР роЙроЩрпНроХро│рпН рокрпЗроЪрпНроЪрпБ роЪрпЗро╡рпИ ро╡ро│родрпНродро┐ройрпН API ро╡ро┐роЪрпИропрпБроЯройрпН рооро╛ро▒рпНро▒ро╡рпБроорпН. `<location>` роР роирпАроЩрпНроХро│рпН рокрпЗроЪрпНроЪрпБ роЪрпЗро╡рпИ ро╡ро│родрпНродрпИ роЙро░рпБро╡ро╛роХрпНроХро┐роп роЗроЯродрпНродрпБроЯройрпН рооро╛ро▒рпНро▒ро╡рпБроорпН.

   `<language>` роР роирпАроЩрпНроХро│рпН рокрпЗроЪрпБроорпН роорпКро┤ро┐роХрпНроХро╛рой роЙро│рпНро│рпВро░рпН рокрпЖропро░рпБроЯройрпН рооро╛ро▒рпНро▒ро╡рпБроорпН, роЙродро╛ро░рогрооро╛роХ роЖроЩрпНроХро┐ро▓родрпНродрпБроХрпНроХрпБ `en-GB`, роЕро▓рпНро▓родрпБ роХро╛ройрпНроЯрпЛройрпАро╕рпБроХрпНроХрпБ `zn-HK`. роЖродро░ро┐роХрпНроХрокрпНрокроЯрпБроорпН роорпКро┤ро┐роХро│рпН рооро▒рпНро▒рпБроорпН роЕро╡ро▒рпНро▒ро┐ройрпН роЙро│рпНро│рпВро░рпН рокрпЖропро░рпНроХро│ро┐ройрпН рокроЯрпНроЯро┐ропро▓рпИ [Microsoft docs роЗро▓рпН роЙро│рпНро│ роорпКро┤ро┐ рооро▒рпНро▒рпБроорпН роХрпБро░ро▓рпН роЖродро░ро╡рпБ роЖро╡рогродрпНродро┐ро▓рпН](https://docs.microsoft.com/azure/cognitive-services/speech-service/language-support?WT.mc_id=academic-17441-jabenn#speech-to-text) роХро╛рогро▓ро╛роорпН.

1. роЗродро▒рпНроХрпБроХрпН роХрпАро┤рпЗ, роЕрогрпБроХро▓рпН роЯрпЛроХрпНроХройрпИрокрпН рокрпЖро▒ рокро┐ройрпНро╡ро░рпБроорпН роЪрпЖропро▓рпНрокро╛роЯрпНроЯрпИроЪрпН роЪрпЗро░рпНроХрпНроХро╡рпБроорпН:

    ```python
    def get_access_token():
        headers = {
            'Ocp-Apim-Subscription-Key': speech_api_key
        }
    
        token_endpoint = f'https://{location}.api.cognitive.microsoft.com/sts/v1.0/issuetoken'
        response = requests.post(token_endpoint, headers=headers)
        return str(response.text)
    ```

   роЗродрпБ API ро╡ро┐роЪрпИропрпИ родро▓рпИрокрпНрокро╛роХроХрпН роХрпКрогрпНроЯрпБ роТро░рпБ роЯрпЛроХрпНроХройрпН ро╡ро┤роЩрпНроХрпБроорпН роорпБроЯро┐ро╡рпБроиро┐ро▓рпИропрпИроХрпН роХрпЛро░рпБроХро┐ро▒родрпБ. роЗроирпНрод роЕро┤рпИрокрпНрокрпБ рокрпЗроЪрпНроЪрпБ роЪрпЗро╡рпИроХро│рпИ роЕро┤рпИроХрпНроХ рокропройрпНрокроЯрпБродрпНродроХрпНроХрпВроЯро┐роп роТро░рпБ роЕрогрпБроХро▓рпН роЯрпЛроХрпНроХройрпИродрпН родро┐ро░рпБрокрпНрокрпБроХро┐ро▒родрпБ.

1. роЗродро▒рпНроХрпБроХрпН роХрпАро┤рпЗ, REST API-роРрокрпН рокропройрпНрокроЯрпБродрпНродро┐ роЪрпЗроХро░ро┐роХрпНроХрокрпНрокроЯрпНроЯ роТро▓ро┐ропро┐ро▓рпН роЙро│рпНро│ рокрпЗроЪрпНроЪрпИ роОро┤рпБродрпНродро╛роХ рооро╛ро▒рпНро▒ роТро░рпБ роЪрпЖропро▓рпНрокро╛роЯрпНроЯрпИ роЕро▒ро┐ро╡ро┐роХрпНроХро╡рпБроорпН:

    ```python
    def convert_speech_to_text(buffer):
    ```

1. роЗроирпНрод роЪрпЖропро▓рпНрокро╛роЯрпНроЯро┐ройрпН роЙро│рпНро│рпЗ, REST API URL рооро▒рпНро▒рпБроорпН родро▓рпИрокрпНрокрпБроХро│рпИ роЕроорпИроХрпНроХро╡рпБроорпН:

    ```python
    url = f'https://{location}.stt.speech.microsoft.com/speech/recognition/conversation/cognitiveservices/v1'

    headers = {
        'Authorization': 'Bearer ' + get_access_token(),
        'Content-Type': f'audio/wav; codecs=audio/pcm; samplerate={rate}',
        'Accept': 'application/json;text/xml'
    }

    params = {
        'language': language
    }
    ```

   роЗродрпБ рокрпЗроЪрпНроЪрпБ роЪрпЗро╡рпИроХро│рпН ро╡ро│родрпНродро┐ройрпН роЗроЯродрпНродрпИрокрпН рокропройрпНрокроЯрпБродрпНродро┐ роТро░рпБ URL-роР роЙро░рпБро╡ро╛роХрпНроХрпБроХро┐ро▒родрпБ. рокро┐ройрпНройро░рпН, `get_access_token` роЪрпЖропро▓рпНрокро╛роЯрпНроЯро┐ро▓ро┐ро░рпБроирпНродрпБ роЕрогрпБроХро▓рпН роЯрпЛроХрпНроХройрпИрокрпН рокропройрпНрокроЯрпБродрпНродро┐ родро▓рпИрокрпНрокрпБроХро│рпИ роиро┐ро░рокрпНрокрпБроХро┐ро▒родрпБ, роорпЗро▓рпБроорпН роТро▓ро┐ропрпИрокрпН рокродро┐ро╡рпБ роЪрпЖропрпНроп рокропройрпНрокроЯрпБродрпНродрокрпНрокроЯрпБроорпН рооро╛родро┐ро░ро┐родрпН ро╡рпАродродрпНродрпИропрпБроорпН роЪрпЗро░рпНроХрпНроХро┐ро▒родрпБ. роЗро▒рпБродро┐ропро╛роХ, URL роЙроЯройрпН роорпКро┤ро┐ропрпИ роЙро│рпНро│роЯроХрпНроХро┐роп роЪро┐ро▓ роЕро│ро╡рпБро░рпБроХрпНроХро│рпИ ро╡ро░рпИропро▒рпБроХрпНроХро┐ро▒родрпБ.

1. роЗродро▒рпНроХрпБроХрпН роХрпАро┤рпЗ, REST API-ропрпИ роЕро┤рпИродрпНродрпБ роОро┤рпБродрпНродрпИродрпН родро┐ро░рпБроорпНрокрокрпН рокрпЖро▒ рокро┐ройрпНро╡ро░рпБроорпН роХрпБро▒ро┐ропрпАроЯрпНроЯрпИроЪрпН роЪрпЗро░рпНроХрпНроХро╡рпБроорпН:

    ```python
    response = requests.post(url, headers=headers, params=params, data=buffer)
    response_json = response.json()

    if response_json['RecognitionStatus'] == 'Success':
        return response_json['DisplayText']
    else:
        return ''
    ```

   роЗродрпБ URL-роР роЕро┤рпИроХрпНроХро┐ро▒родрпБ рооро▒рпНро▒рпБроорпН рокродро┐ро▓ро┐ро▓рпН ро╡ро░рпБроорпН JSON роородро┐рокрпНрокрпИ роЯро┐роХрпЛроЯрпБ роЪрпЖропрпНроХро┐ро▒родрпБ. рокродро┐ро▓ро┐ро▓рпН роЙро│рпНро│ `RecognitionStatus` роородро┐рокрпНрокрпБ рокрпЗроЪрпНроЪрпИ роОро┤рпБродрпНродро╛роХ ро╡рпЖро▒рпНро▒ро┐роХро░рооро╛роХ рооро╛ро▒рпНро▒ роорпБроЯро┐ропрпБрооро╛ роОройрпНрокродрпИ роХрпБро▒ро┐роХрпНроХро┐ро▒родрпБ, роорпЗро▓рпБроорпН роЗродрпБ `Success` роОройрпНро▒ро╛ро▓рпН, роОро┤рпБродрпНродрпБ роЪрпЖропро▓рпНрокро╛роЯрпНроЯро┐ро▓ро┐ро░рпБроирпНродрпБ родро┐ро░рпБрокрпНрокрокрпНрокроЯрпБроХро┐ро▒родрпБ, роЗро▓рпНро▓рпИропрпЖройро┐ро▓рпН роТро░рпБ роХро╛ро▓ро┐ропро╛рой роЪро░роорпН родро┐ро░рпБрокрпНрокрокрпНрокроЯрпБроХро┐ро▒родрпБ.

1. `while True:` роороЯроХрпНроХрпБро╡роЯро┐ро╡родрпНродро┐ройрпН роорпЗро▓рпН, рокрпЗроЪрпНроЪрпБ роЪрпЗро╡рпИропро┐ро▓ро┐ро░рпБроирпНродрпБ родро┐ро░рпБроорпНрокро┐роп роОро┤рпБродрпНродрпИ роЪрпЖропро▓ро╛роХрпНроХ роТро░рпБ роЪрпЖропро▓рпНрокро╛роЯрпНроЯрпИ ро╡ро░рпИропро▒рпБроХрпНроХро╡рпБроорпН. роЗроирпНрод роЪрпЖропро▓рпНрокро╛роЯрпБ родро▒рпНрокрпЛродрпБ роОро┤рпБродрпНродрпИ роХройрпНроЪрпЛро▓ро┐ро▓рпН роЕроЪрпНроЪро┐роЯрпБроорпН.

    ```python
    def process_text(text):
        print(text)
    ```

1. роЗро▒рпБродро┐ропро╛роХ, `while True` роороЯроХрпНроХрпБро╡роЯро┐ро╡родрпНродро┐ро▓рпН роЙро│рпНро│ `play_audio` роЕро┤рпИрокрпНрокрпИ `convert_speech_to_text` роЪрпЖропро▓рпНрокро╛роЯрпНроЯро┐ройрпН роЕро┤рпИрокрпНрокрпБроЯройрпН рооро╛ро▒рпНро▒ро╡рпБроорпН, роОро┤рпБродрпНродрпИ `process_text` роЪрпЖропро▓рпНрокро╛роЯрпНроЯрпБроХрпНроХрпБ роЕройрпБрокрпНрокро╡рпБроорпН:

    ```python
    text = convert_speech_to_text(buffer)
    process_text(text)
    ```

1. роХрпБро▒ро┐ропрпАроЯрпНроЯрпИ роЗропроХрпНроХро╡рпБроорпН. рокрпКродрпНродро╛ройрпИ роЕро┤рпБродрпНродро┐ роорпИроХрпНро░рпЛроГрокрпЛройро┐ро▓рпН рокрпЗроЪро╡рпБроорпН. роирпАроЩрпНроХро│рпН роорпБроЯро┐родрпНродро╡рпБроЯройрпН рокрпКродрпНродро╛ройрпИ ро╡ро┐роЯрпБроЩрпНроХро│рпН, рокро┐ройрпНройро░рпН роТро▓ро┐ роОро┤рпБродрпНродро╛роХ рооро╛ро▒рпНро▒рокрпНрокроЯрпНроЯрпБ роХройрпНроЪрпЛро▓ро┐ро▓рпН роЕроЪрпНроЪро┐роЯрокрпНрокроЯрпБроорпН.

    ```output
    pi@raspberrypi:~/smart-timer $ python3 app.py 
    Hello world.
    Welcome to IoT for beginners.
    ```

   ро╡рпЖро╡рпНро╡рпЗро▒рпБ ро╡роХрпИропро╛рой ро╡ро╛роХрпНроХро┐ропроЩрпНроХро│рпИ роорпБропро▒рпНроЪро┐роХрпНроХро╡рпБроорпН, роорпЗро▓рпБроорпН роТро░рпЗ рооро╛родро┐ро░ро┐ропро╛рой роТро▓ро┐ропрпИроХрпН роХрпКрогрпНроЯро┐ро░рпБроХрпНроХрпБроорпН роЖройро╛ро▓рпН ро╡рпЗро▒рпБрокроЯрпНроЯ роЕро░рпНродрпНродроЩрпНроХро│рпИ роХрпКрогрпНроЯ ро╡ро╛роХрпНроХро┐ропроЩрпНроХро│рпИропрпБроорпН роорпБропро▒рпНроЪро┐роХрпНроХро╡рпБроорпН. роЙродро╛ро░рогрооро╛роХ, роирпАроЩрпНроХро│рпН роЖроЩрпНроХро┐ро▓родрпНродро┐ро▓рпН рокрпЗроЪро┐ройро╛ро▓рпН, 'I want to buy two bananas and an apple too' роОройрпНро▒рпБ роЪрпКро▓рпНро▓ро╡рпБроорпН, роорпЗро▓рпБроорпН ро╡ро╛ро░рпНродрпНродрпИропро┐ройрпН роТро▓ро┐ропрпИроХрпН роХрпКрогрпНроЯрпБ роороЯрпНроЯрпБрооро▓рпНро▓ро╛рооро▓рпН роЕродройрпН роЪрпВро┤рпНроиро┐ро▓рпИропрпИ роЕроЯро┐рокрпНрокроЯрпИропро╛роХроХрпН роХрпКрогрпНроЯрпБ роЪро░ро┐ропро╛рой to, two рооро▒рпНро▒рпБроорпН too-роР роОрокрпНрокроЯро┐ рокропройрпНрокроЯрпБродрпНродрпБроХро┐ро▒родрпБ роОройрпНрокродрпИ роХро╡ройро┐роХрпНроХро╡рпБроорпН.

> ЁЯТБ роЗроирпНрод роХрпБро▒ро┐ропрпАроЯрпНроЯрпИ [code-speech-to-text/pi](../../../../../6-consumer/lessons/1-speech-recognition/code-speech-to-text/pi) роХрпЛрокрпНрокрпБро▒рпИропро┐ро▓рпН роХро╛рогро▓ро╛роорпН.

ЁЯША роЙроЩрпНроХро│рпН рокрпЗроЪрпНроЪрпИ роОро┤рпБродрпНродро╛роХ рооро╛ро▒рпНро▒рпБроорпН родро┐роЯрпНроЯроорпН ро╡рпЖро▒рпНро▒ро┐роХро░рооро╛роХ роорпБроЯро┐роирпНродродрпБ!

---

**роЕро▒ро┐ро╡ро┐рокрпНрокрпБ**:  
роЗроирпНрод роЖро╡рогроорпН [Co-op Translator](https://github.com/Azure/co-op-translator) роОройрпНро▒ AI роорпКро┤ро┐рокрпЖропро░рпНрокрпНрокрпБ роЪрпЗро╡рпИропрпИрокрпН рокропройрпНрокроЯрпБродрпНродро┐ роорпКро┤ро┐рокрпЖропро░рпНроХрпНроХрокрпНрокроЯрпНроЯрпБро│рпНро│родрпБ. роиро╛роЩрпНроХро│рпН родрпБро▓рпНро▓ро┐ропродрпНродро┐ро▒рпНроХро╛роХ роорпБропро▒рпНроЪро┐роХрпНроХро┐ро▒рпЛроорпН, роЖройро╛ро▓рпН родро╛ройро┐ропроЩрпНроХро┐ роорпКро┤ро┐рокрпЖропро░рпНрокрпНрокрпБроХро│ро┐ро▓рпН рокро┐ро┤рпИроХро│рпН роЕро▓рпНро▓родрпБ родро╡ро▒рпБроХро│рпН роЗро░рпБроХрпНроХроХрпНроХрпВроЯрпБроорпН роОройрпНрокродрпИ роХро╡ройродрпНродро┐ро▓рпН роХрпКро│рпНро│ро╡рпБроорпН. роЕродройрпН роЪрпКроирпНрод роорпКро┤ро┐ропро┐ро▓рпН роЙро│рпНро│ роорпВро▓ роЖро╡рогроорпН роЕродро┐роХро╛ро░рокрпНрокрпВро░рпНро╡ роЖродро╛ро░рооро╛роХ роХро░рпБродрокрпНрокроЯ ро╡рпЗрогрпНроЯрпБроорпН. роорпБроХрпНроХро┐ропрооро╛рой родроХро╡ро▓рпНроХро│рпБроХрпНроХрпБ, родрпКро┤ро┐ро▓рпНроорпБро▒рпИ рооройро┐род роорпКро┤ро┐рокрпЖропро░рпНрокрпНрокрпБ рокро░ро┐роирпНродрпБро░рпИроХрпНроХрокрпНрокроЯрпБроХро┐ро▒родрпБ. роЗроирпНрод роорпКро┤ро┐рокрпЖропро░рпНрокрпНрокрпИрокрпН рокропройрпНрокроЯрпБродрпНродрпБро╡родро╛ро▓рпН роПро▒рпНрокроЯрпБроорпН роОроирпНрод родро╡ро▒ро╛рой рокрпБро░ро┐родро▓рпНроХро│рпБроХрпНроХрпБроорпН роЕро▓рпНро▓родрпБ родро╡ро▒ро╛рой ро╡ро┐ро│роХрпНроХроЩрпНроХро│рпБроХрпНроХрпБроорпН роиро╛роЩрпНроХро│рпН рокрпКро▒рпБрокрпНрокро▓рпНро▓.