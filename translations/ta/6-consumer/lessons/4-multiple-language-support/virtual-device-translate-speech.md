<!--
CO_OP_TRANSLATOR_METADATA:
{
  "original_hash": "d620a470d9dd8614d99824832978360a",
  "translation_date": "2025-10-11T12:15:54+00:00",
  "source_file": "6-consumer/lessons/4-multiple-language-support/virtual-device-translate-speech.md",
  "language_code": "ta"
}
-->
# рокрпЗроЪрпНроЪрпИ роорпКро┤ро┐рокрпЖропро░рпНрокрпНрокрпБ - роорпЖропрпНроиро┐роХро░рпН IoT роЪро╛родройроорпН

роЗроирпНрод рокро╛роЯродрпНродро┐ройрпН роЗроирпНрод рокроХрпБродро┐ропро┐ро▓рпН, рокрпЗроЪрпНроЪрпИ роЙро░рпИропро╛роХ рооро╛ро▒рпНро▒рпБроорпН рокрпЗроЪрпНроЪрпБ роЪрпЗро╡рпИропрпИрокрпН рокропройрпНрокроЯрпБродрпНродро┐ рокрпЗроЪрпНроЪрпИ роорпКро┤ро┐рокрпЖропро░рпНроХрпНроХрпБроорпН роХрпБро▒ро┐ропрпАроЯрпНроЯрпИ роирпАроЩрпНроХро│рпН роОро┤рпБродрпБро╡рпАро░рпНроХро│рпН, рокро┐ройрпНройро░рпН роЙро░рпИропрпИ роорпКро┤ро┐рокрпЖропро░рпНрокрпНрокро╛ро│ро░рпН роЪрпЗро╡рпИропрпИрокрпН рокропройрпНрокроЯрпБродрпНродро┐ роорпКро┤ро┐рокрпЖропро░рпНродрпНродрпБ, рокрпЗроЪрпБроорпН рокродро┐ро▓рпИ роЙро░рпБро╡ро╛роХрпНроХрпБро╡рпАро░рпНроХро│рпН.

## рокрпЗроЪрпНроЪрпБ роЪрпЗро╡рпИропрпИрокрпН рокропройрпНрокроЯрпБродрпНродро┐ рокрпЗроЪрпНроЪрпИ роорпКро┤ро┐рокрпЖропро░рпНроХрпНроХро╡рпБроорпН

рокрпЗроЪрпНроЪрпБ роЪрпЗро╡рпИ рокрпЗроЪрпНроЪрпИ роОроЯрпБродрпНродрпБроХрпНроХрпКрогрпНроЯрпБ роЕродрпЗ роорпКро┤ро┐ропро┐ро▓рпН роЙро░рпИропро╛роХ рооро╛ро▒рпНро▒рпБро╡родрпЛроЯрпБ роороЯрпНроЯрпБрооро▓рпНро▓ро╛рооро▓рпН, ро╡рпЖро│ро┐ропрпАроЯрпНроЯрпИ рокро┐ро▒ роорпКро┤ро┐роХро│рпБроХрпНроХрпБроорпН роорпКро┤ро┐рокрпЖропро░рпНроХрпНроХро╡рпБроорпН роорпБроЯро┐ропрпБроорпН.

### рокрогро┐роХро│рпН - рокрпЗроЪрпНроЪрпБ роЪрпЗро╡рпИропрпИрокрпН рокропройрпНрокроЯрпБродрпНродро┐ рокрпЗроЪрпНроЪрпИ роорпКро┤ро┐рокрпЖропро░рпНроХрпНроХро╡рпБроорпН

1. `smart-timer` родро┐роЯрпНроЯродрпНродрпИ VS Code-ро▓рпН родро┐ро▒роХрпНроХро╡рпБроорпН, рооро▒рпНро▒рпБроорпН роорпЖропрпНроиро┐роХро░рпН роЪрпВро┤ро▓рпН роЯрпЖро░рпНрооро┐ройро▓ро┐ро▓рпН роПро▒рпНро▒рокрпНрокроЯрпНроЯро┐ро░рпБрокрпНрокродрпИ роЙро▒рпБродро┐рокрпНрокроЯрпБродрпНродро╡рпБроорпН.

1. роХрпАро┤рпЗ роЙро│рпНро│ роЗро▒роХрпНроХрпБроородро┐ роЕро▒ро┐роХрпНроХрпИроХро│рпИ роПро▒рпНроХройро╡рпЗ роЙро│рпНро│ роЗро▒роХрпНроХрпБроородро┐роХро│ро┐ройрпН роХрпАро┤рпН роЪрпЗро░рпНроХрпНроХро╡рпБроорпН:

    ```python
    from azure.cognitiveservices import speech
    from azure.cognitiveservices.speech.translation import SpeechTranslationConfig, TranslationRecognizer
    import requests
    ```
  
   роЗродрпБ рокрпЗроЪрпНроЪрпИ роорпКро┤ро┐рокрпЖропро░рпНроХрпНроХ рокропройрпНрокроЯрпБродрпНродрокрпНрокроЯрпБроорпН ро╡роХрпБрокрпНрокрпБроХро│рпИропрпБроорпН, роЗроирпНрод рокро╛роЯродрпНродро┐ройрпН рокро┐ройрпНройро░рпН Translator роЪрпЗро╡рпИроХрпНроХрпБ роЕро┤рпИрокрпНрокрпБ роЪрпЖропрпНроп рокропройрпНрокроЯрпБродрпНродрокрпНрокроЯрпБроорпН `requests` роирпВро▓роХродрпНродрпИропрпБроорпН роЗро▒роХрпНроХрпБроородро┐ роЪрпЖропрпНроХро┐ро▒родрпБ.

1. роЙроЩрпНроХро│рпН smart timer-роХрпНроХрпБ 2 роорпКро┤ро┐роХро│рпН роЕроорпИроХрпНроХрокрпНрокроЯрпНроЯро┐ро░рпБроХрпНроХрпБроорпН - LUIS-роР рокропро┐ро▒рпНроЪро┐ роЪрпЖропрпНроп рокропройрпНрокроЯрпБродрпНродрокрпНрокроЯрпНроЯ роЪро░рпНро╡ро░ро┐ройрпН роорпКро┤ро┐ (роЕродрпЗ роорпКро┤ро┐ рокропройро░рпБроЯройрпН рокрпЗроЪрпБро╡родро▒рпНроХро╛рой роЪрпЖропрпНродро┐роХро│рпИ роЙро░рпБро╡ро╛роХрпНроХро╡рпБроорпН рокропройрпНрокроЯрпБродрпНродрокрпНрокроЯрпБроХро┐ро▒родрпБ), рооро▒рпНро▒рпБроорпН рокропройро░рпН рокрпЗроЪрпБроорпН роорпКро┤ро┐. `language` рооро╛ро▒ро┐ропрпИ рокропройро░рпН рокрпЗроЪрпБроорпН роорпКро┤ро┐ропро╛роХ рооро╛ро▒рпНро▒ро╡рпБроорпН, роорпЗро▓рпБроорпН LUIS-роР рокропро┐ро▒рпНроЪро┐ роЪрпЖропрпНроп рокропройрпНрокроЯрпБродрпНродрокрпНрокроЯрпНроЯ роорпКро┤ро┐роХрпНроХро╛рой рокрпБродро┐роп рооро╛ро▒ро┐ `server_language` роР роЪрпЗро░рпНроХрпНроХро╡рпБроорпН:

    ```python
    language = '<user language>'
    server_language = '<server language>'
    ```
  
   `<user language>` роР роирпАроЩрпНроХро│рпН рокрпЗроЪрпБроорпН роорпКро┤ро┐роХрпНроХро╛рой ро▓рпКроХрпЗро▓рпН рокрпЖропро░ро╛ро▓рпН рооро╛ро▒рпНро▒ро╡рпБроорпН, роЙродро╛ро░рогрооро╛роХ рокро┐ро░рпЖроЮрпНроЪрпБроХрпНроХро╛рой `fr-FR`, роЕро▓рпНро▓родрпБ роХро╛ройрпНроЯрпЛройрпАро╕рпБроХрпНроХро╛рой `zn-HK`.

   `<server language>` роР LUIS-роР рокропро┐ро▒рпНроЪро┐ роЪрпЖропрпНроп рокропройрпНрокроЯрпБродрпНродрокрпНрокроЯрпНроЯ роорпКро┤ро┐роХрпНроХро╛рой ро▓рпКроХрпЗро▓рпН рокрпЖропро░ро╛ро▓рпН рооро╛ро▒рпНро▒ро╡рпБроорпН.

   роЖродро░ро┐роХрпНроХрокрпНрокроЯрпБроорпН роорпКро┤ро┐роХро│рпН рооро▒рпНро▒рпБроорпН роЕро╡ро▒рпНро▒ро┐ройрпН ро▓рпКроХрпЗро▓рпН рокрпЖропро░рпНроХро│ро┐ройрпН рокроЯрпНроЯро┐ропро▓рпИ [Microsoft docs роЗро▓рпН роЙро│рпНро│ роорпКро┤ро┐ рооро▒рпНро▒рпБроорпН роХрпБро░ро▓рпН роЖродро░ро╡рпБ роЖро╡рогродрпНродро┐ро▓рпН](https://docs.microsoft.com/azure/cognitive-services/speech-service/language-support?WT.mc_id=academic-17441-jabenn#speech-to-text) роХро╛рогро▓ро╛роорпН.

   > ЁЯТБ роирпАроЩрпНроХро│рпН рокро▓ роорпКро┤ро┐роХро│рпИ рокрпЗроЪ роорпБроЯро┐ропро╛ро╡ро┐роЯрпНроЯро╛ро▓рпН, [Bing Translate](https://www.bing.com/translator) роЕро▓рпНро▓родрпБ [Google Translate](https://translate.google.com) рокрпЛройрпНро▒ роЪрпЗро╡рпИропрпИрокрпН рокропройрпНрокроЯрпБродрпНродро┐ роЙроЩрпНроХро│рпН ро╡ро┐ро░рпБрокрпНрок роорпКро┤ро┐ропро┐ро▓ро┐ро░рпБроирпНродрпБ ро╡рпЗро▒рпБ роорпКро┤ро┐роХрпНроХрпБ роорпКро┤ро┐рокрпЖропро░рпНроХрпНроХро▓ро╛роорпН. роЗроирпНрод роЪрпЗро╡рпИроХро│рпН рокро┐ройрпНройро░рпН роорпКро┤ро┐рокрпЖропро░рпНроХрпНроХрокрпНрокроЯрпНроЯ роЙро░рпИропро┐ройрпН роЖроЯро┐ропрпЛро╡рпИ роЗропроХрпНроХ роорпБроЯро┐ропрпБроорпН. рокрпЗроЪрпНроЪрпБ роЕроЯрпИропро╛ро│роорпН роХро╛рогрпНрокро╡ро░рпН роЙроЩрпНроХро│рпН роЪро╛родройродрпНродро┐ройрпН роЪро┐ро▓ роЖроЯро┐ропрпЛ ро╡рпЖро│ро┐ропрпАроЯрпНроЯрпИ рокрпБро▒роХрпНроХрогро┐роХрпНроХро▓ро╛роорпН роОройрпНрокродро╛ро▓рпН, роорпКро┤ро┐рокрпЖропро░рпНроХрпНроХрокрпНрокроЯрпНроЯ роЙро░рпИропрпИ роЗропроХрпНроХ роХрпВроЯрпБродро▓рпН роЪро╛родройродрпНродрпИрокрпН рокропройрпНрокроЯрпБродрпНрод ро╡рпЗрогрпНроЯро┐ропро┐ро░рпБроХрпНроХрпБроорпН.
   >
   > роЙродро╛ро░рогрооро╛роХ, роирпАроЩрпНроХро│рпН LUIS-роР роЖроЩрпНроХро┐ро▓родрпНродро┐ро▓рпН рокропро┐ро▒рпНроЪро┐ роЪрпЖропрпНродро╛ро▓рпН, роЖройро╛ро▓рпН рокро┐ро░рпЖроЮрпНроЪрпИ рокропройро░рпН роорпКро┤ро┐ропро╛роХрокрпН рокропройрпНрокроЯрпБродрпНрод ро╡ро┐ро░рпБроорпНрокро┐ройро╛ро▓рпН, "set a 2 minute and 27 second timer" рокрпЛройрпНро▒ ро╡ро╛роХрпНроХро┐ропроЩрпНроХро│рпИ Bing Translate роорпВро▓роорпН роЖроЩрпНроХро┐ро▓родрпНродро┐ро▓ро┐ро░рпБроирпНродрпБ рокро┐ро░рпЖроЮрпНроЪрпБроХрпНроХрпБ роорпКро┤ро┐рокрпЖропро░рпНроХрпНроХро▓ро╛роорпН, рокро┐ройрпНройро░рпН **Listen translation** рокрпКродрпНродро╛ройрпИ рокропройрпНрокроЯрпБродрпНродро┐ роорпКро┤ро┐рокрпЖропро░рпНрокрпНрокрпИ роЙроЩрпНроХро│рпН роорпИроХрпНро░рпЛроГрокрпЛройро┐ро▓рпН рокрпЗроЪро▓ро╛роорпН.
   >
   > ![Bing Translate роЗро▓рпН Listen translation рокрпКродрпНродро╛ройрпН](../../../../../translated_images/bing-translate.348aa796d6efe2a92f41ea74a5cf42bb4c63d6faaa08e7f46924e072a35daa48.ta.png)

1. `recognizer_config` рооро▒рпНро▒рпБроорпН `recognizer` роЕро▒ро┐ро╡ро┐рокрпНрокрпБроХро│рпИ рокро┐ройрпНро╡ро░рпБроорпН роХрпБро▒ро┐ропрпАроЯрпНроЯро╛ро▓рпН рооро╛ро▒рпНро▒ро╡рпБроорпН:

    ```python
    translation_config = SpeechTranslationConfig(subscription=speech_api_key,
                                                 region=location,
                                                 speech_recognition_language=language,
                                                 target_languages=(language, server_language))
    
    recognizer = TranslationRecognizer(translation_config=translation_config)
    ```
  
   роЗродрпБ рокропройро░рпН роорпКро┤ро┐ропро┐ро▓рпН рокрпЗроЪрпНроЪрпИ роЕроЯрпИропро╛ро│роорпН роХро╛рог роТро░рпБ роорпКро┤ро┐рокрпЖропро░рпНрокрпНрокрпБ роХроЯрпНроЯроорпИрокрпНрокрпИ роЙро░рпБро╡ро╛роХрпНроХрпБроХро┐ро▒родрпБ, роорпЗро▓рпБроорпН рокропройро░рпН рооро▒рпНро▒рпБроорпН роЪро░рпНро╡ро░рпН роорпКро┤ро┐ропро┐ро▓рпН роорпКро┤ро┐рокрпЖропро░рпНрокрпНрокрпБроХро│рпИ роЙро░рпБро╡ро╛роХрпНроХрпБроХро┐ро▒родрпБ. рокро┐ройрпНройро░рпН роЗроирпНрод роХроЯрпНроЯроорпИрокрпНрокрпИрокрпН рокропройрпНрокроЯрпБродрпНродро┐ роТро░рпБ роорпКро┤ро┐рокрпЖропро░рпНрокрпНрокрпБ роЕроЯрпИропро╛ро│роХро░рпБро╡ро┐ропрпИ роЙро░рпБро╡ро╛роХрпНроХрпБроХро┐ро▒родрпБ - роЗродрпБ рокрпЗроЪрпНроЪрпБ роЕроЯрпИропро╛ро│родрпНродро┐ройрпН ро╡рпЖро│ро┐ропрпАроЯрпНроЯрпИ рокро▓ роорпКро┤ро┐роХро│ро┐ро▓рпН роорпКро┤ро┐рокрпЖропро░рпНроХрпНроХрпБроорпН рокрпЗроЪрпНроЪрпБ роЕроЯрпИропро╛ро│роХро░рпБро╡ро┐ропро╛роХ роЪрпЖропро▓рпНрокроЯрпБроХро┐ро▒родрпБ.

   > ЁЯТБ роЕроЪро▓рпН роорпКро┤ро┐ `target_languages` роЗро▓рпН роХрпБро▒ро┐рокрпНрокро┐роЯрокрпНрокроЯ ро╡рпЗрогрпНроЯрпБроорпН, роЗро▓рпНро▓рпИропрпЖройро┐ро▓рпН роОроирпНрод роорпКро┤ро┐рокрпЖропро░рпНрокрпНрокрпБроХро│рпБроорпН роХро┐роЯрпИроХрпНроХро╛родрпБ.

1. `recognized` роЪрпЖропро▓рпНрокро╛роЯрпНроЯрпИ рокрпБродрпБрокрпНрокро┐роХрпНроХро╡рпБроорпН, роЪрпЖропро▓рпНрокро╛роЯрпНроЯро┐ройрпН роорпБро┤рпБ роЙро│рпНро│роЯроХрпНроХродрпНродрпИропрпБроорпН рокро┐ройрпНро╡ро░рпБроорпН роХрпБро▒ро┐ропрпАроЯрпНроЯро╛ро▓рпН рооро╛ро▒рпНро▒ро╡рпБроорпН:

    ```python
    if args.result.reason == speech.ResultReason.TranslatedSpeech:
        language_match = next(l for l in args.result.translations if server_language.lower().startswith(l.lower()))
        text = args.result.translations[language_match]
        if (len(text) > 0):
            print(f'Translated text: {text}')
    
            message = Message(json.dumps({ 'speech': text }))
            device_client.send_message(message)
    ```
  
   роЗроирпНрод роХрпБро▒ро┐ропрпАроЯрпБ рокрпЗроЪрпНроЪрпБ роорпКро┤ро┐рокрпЖропро░рпНроХрпНроХрокрпНрокроЯрпНроЯродро▒рпНроХро╛роХ роЕроЯрпИропро╛ро│роорпН роХро╛рогрокрпНрокроЯрпНроЯ роиро┐роХро┤рпНро╡рпБ роЪрпЖропро▓рпНрокроЯрпБродрпНродрокрпНрокроЯрпНроЯродро╛ роОройрпНрокродрпИ роЪро░ро┐рокро╛ро░рпНроХрпНроХро┐ро▒родрпБ (роЗроирпНрод роиро┐роХро┤рпНро╡рпБ рокрпЗроЪрпНроЪрпБ роЕроЯрпИропро╛ро│роорпН роХро╛рогрокрпНрокроЯрпНроЯро╛ро▓рпБроорпН, роорпКро┤ро┐рокрпЖропро░рпНроХрпНроХрокрпНрокроЯро╛родро╛ро▓рпБроорпН рокро┐ро▒ роирпЗро░роЩрпНроХро│ро┐ро▓рпН роЪрпЖропро▓рпНрокроЯрпБродрпНродрокрпНрокроЯро▓ро╛роорпН). рокрпЗроЪрпНроЪрпБ роорпКро┤ро┐рокрпЖропро░рпНроХрпНроХрокрпНрокроЯрпНроЯро┐ро░рпБроирпНродро╛ро▓рпН, роЕродрпБ `args.result.translations` роЕроХро░ро╛родро┐ропро┐ро▓рпН роЪро░рпНро╡ро░рпН роорпКро┤ро┐роХрпНроХрпБ рокрпКро░рпБроирпНродрпБроорпН роорпКро┤ро┐рокрпЖропро░рпНрокрпНрокрпИ роХрогрпНроЯро▒ро┐роХро┐ро▒родрпБ.

   `args.result.translations` роЕроХро░ро╛родро┐ ро▓рпКроХрпЗро▓рпН роЕроорпИрокрпНрокро┐ройрпН роорпБро┤рпБ роЕроорпИрокрпНрокрпИ роЕро▓рпНро▓, роЕродройрпН роорпКро┤ро┐ рокроХрпБродро┐ропрпИ роЕроЯро┐рокрпНрокроЯрпИропро╛роХроХрпН роХрпКрогрпНроЯродрпБ. роЙродро╛ро░рогрооро╛роХ, рокро┐ро░рпЖроЮрпНроЪрпБроХрпНроХро╛рой `fr-FR` роХрпНроХрпБ роорпКро┤ро┐рокрпЖропро░рпНрокрпНрокрпБ роХрпЛро░ро┐ройро╛ро▓рпН, роЕроХро░ро╛родро┐ропро┐ро▓рпН `fr` роХрпНроХро╛рой роТро░рпБ роирпБро┤рпИро╡рпБ роЗро░рпБроХрпНроХрпБроорпН, `fr-FR` роЕро▓рпНро▓.

   роорпКро┤ро┐рокрпЖропро░рпНроХрпНроХрокрпНрокроЯрпНроЯ роЙро░рпИ рокро┐ройрпНройро░рпН IoT Hub-роХрпНроХрпБ роЕройрпБрокрпНрокрокрпНрокроЯрпБроХро┐ро▒родрпБ.

1. роЗроирпНрод роХрпБро▒ро┐ропрпАроЯрпНроЯрпИ роЗропроХрпНроХро┐ роорпКро┤ро┐рокрпЖропро░рпНрокрпНрокрпБроХро│рпИ роЪрпЛродро┐роХрпНроХро╡рпБроорпН. роЙроЩрпНроХро│рпН роЪрпЖропро▓рпНрокро╛роЯрпНроЯрпБ рокропройрпНрокро╛роЯрпБ роЗропроЩрпНроХрпБро╡родрпИ роЙро▒рпБродро┐рокрпНрокроЯрпБродрпНродро╡рпБроорпН, рооро▒рпНро▒рпБроорпН рокропройро░рпН роорпКро┤ро┐ропро┐ро▓рпН роТро░рпБ роЯрпИрооро░рпИ роХрпЛро░ро╡рпБроорпН, роЕроирпНрод роорпКро┤ро┐ропрпИ роирпАроЩрпНроХро│рпН рокрпЗроЪрпБро╡родройрпН роорпВро▓роорпН роЕро▓рпНро▓родрпБ роТро░рпБ роорпКро┤ро┐рокрпЖропро░рпНрокрпНрокрпБ рокропройрпНрокро╛роЯрпНроЯрпИрокрпН рокропройрпНрокроЯрпБродрпНродро┐.

    ```output
    (.venv) тЮЬ  smart-timer python app.py
    Connecting
    Connected
    Translated text: Set a timer of 2 minutes and 27 seconds.
    ```
  
## Translator роЪрпЗро╡рпИропрпИрокрпН рокропройрпНрокроЯрпБродрпНродро┐ роЙро░рпИропрпИ роорпКро┤ро┐рокрпЖропро░рпНроХрпНроХро╡рпБроорпН

рокрпЗроЪрпНроЪрпБ роЪрпЗро╡рпИ роЙро░рпИропрпИ роорпАрогрпНроЯрпБроорпН рокрпЗроЪрпНроЪро╛роХ роорпКро┤ро┐рокрпЖропро░рпНроХрпНроХ роЖродро░ро┐роХрпНроХро╛родрпБ, роЕродро▒рпНроХрпБ рокродро┐ро▓ро╛роХ роирпАроЩрпНроХро│рпН Translator роЪрпЗро╡рпИропрпИрокрпН рокропройрпНрокроЯрпБродрпНродро┐ роЙро░рпИропрпИ роорпКро┤ро┐рокрпЖропро░рпНроХрпНроХро▓ро╛роорпН. роЗроирпНрод роЪрпЗро╡рпИроХрпНроХрпБ роирпАроЩрпНроХро│рпН REST API-роР рокропройрпНрокроЯрпБродрпНродро┐ роЙро░рпИропрпИ роорпКро┤ро┐рокрпЖропро░рпНроХрпНроХро▓ро╛роорпН.

### рокрогро┐роХро│рпН - Translator ро╡ро│родрпНродрпИрокрпН рокропройрпНрокроЯрпБродрпНродро┐ роЙро░рпИропрпИ роорпКро┤ро┐рокрпЖропро░рпНроХрпНроХро╡рпБроорпН

1. `speech_api_key` роХрпНроХрпБроХрпН роХрпАро┤рпЗ Translator API ро╡ро┐роЪрпИропрпИроЪрпН роЪрпЗро░рпНроХрпНроХро╡рпБроорпН:

    ```python
    translator_api_key = '<key>'
    ```
  
   `<key>` роР роЙроЩрпНроХро│рпН Translator роЪрпЗро╡рпИ ро╡ро│родрпНродро┐ро▒рпНроХро╛рой API ро╡ро┐роЪрпИропро╛ро▓рпН рооро╛ро▒рпНро▒ро╡рпБроорпН.

1. `say` роЪрпЖропро▓рпНрокро╛роЯрпНроЯро┐ро▒рпНроХрпБ роорпЗро▓рпЗ, роЪро░рпНро╡ро░рпН роорпКро┤ро┐ропро┐ро▓ро┐ро░рпБроирпНродрпБ рокропройро░рпН роорпКро┤ро┐роХрпНроХрпБ роЙро░рпИропрпИ роорпКро┤ро┐рокрпЖропро░рпНроХрпНроХрпБроорпН роТро░рпБ `translate_text` роЪрпЖропро▓рпНрокро╛роЯрпНроЯрпИ ро╡ро░рпИропро▒рпБроХрпНроХро╡рпБроорпН:

    ```python
    def translate_text(text):
    ```
  
1. роЗроирпНрод роЪрпЖропро▓рпНрокро╛роЯрпНроЯро┐ройрпН роЙро│рпНро│рпЗ, REST API роЕро┤рпИрокрпНрокрпБроХрпНроХро╛рой URL рооро▒рпНро▒рпБроорпН родро▓рпИрокрпНрокрпБроХро│рпИ ро╡ро░рпИропро▒рпБроХрпНроХро╡рпБроорпН:

    ```python
    url = f'https://api.cognitive.microsofttranslator.com/translate?api-version=3.0'

    headers = {
        'Ocp-Apim-Subscription-Key': translator_api_key,
        'Ocp-Apim-Subscription-Region': location,
        'Content-type': 'application/json'
    }
    ```
  
   роЗроирпНрод API-роХрпНроХро╛рой URL роЗроЯроорпН роЪро╛ро░рпНроирпНродродро╛роХ роЗро▓рпНро▓рпИ, роЕродро▒рпНроХрпБ рокродро┐ро▓ро╛роХ роЗроЯроорпН родро▓рпИрокрпНрокро╛роХ роЕройрпБрокрпНрокрокрпНрокроЯрпБроХро┐ро▒родрпБ. API ро╡ро┐роЪрпИ роирпЗро░роЯро┐ропро╛роХ рокропройрпНрокроЯрпБродрпНродрокрпНрокроЯрпБроХро┐ро▒родрпБ, роОройро╡рпЗ рокрпЗроЪрпНроЪрпБ роЪрпЗро╡рпИропрпИрокрпН рокрпЛро▓ро╡рпЗ token issuer API-ропро┐ро▓ро┐ро░рпБроирпНродрпБ роЕрогрпБроХро▓рпН роЯрпЛроХрпНроХройрпИрокрпН рокрпЖро▒ родрпЗро╡рпИропро┐ро▓рпНро▓рпИ.

1. роЗродро▒рпНроХрпБроХрпН роХрпАро┤рпЗ роЕро┤рпИрокрпНрокрпБроХрпНроХро╛рой роЕро│ро╡рпБро░рпБроХрпНроХро│рпН рооро▒рпНро▒рпБроорпН роЙроЯро▓рпИ ро╡ро░рпИропро▒рпБроХрпНроХро╡рпБроорпН:

    ```python
    params = {
        'from': server_language,
        'to': language
    }

    body = [{
        'text' : text
    }]
    ```
  
   `params` API роЕро┤рпИрокрпНрокрпБроХрпНроХрпБ роЕро│ро╡рпБро░рпБроХрпНроХро│рпИ ро╡ро░рпИропро▒рпБроХрпНроХро┐ро▒родрпБ, `from` рооро▒рпНро▒рпБроорпН `to` роорпКро┤ро┐роХро│рпИ роЕройрпБрокрпНрокрпБроХро┐ро▒родрпБ. роЗроирпНрод роЕро┤рпИрокрпНрокрпБ `from` роорпКро┤ро┐ропро┐ро▓рпН роЙро│рпНро│ роЙро░рпИропрпИ `to` роорпКро┤ро┐роХрпНроХрпБ роорпКро┤ро┐рокрпЖропро░рпНроХрпНроХрпБроорпН.

   `body` роорпКро┤ро┐рокрпЖропро░рпНроХрпНроХ ро╡рпЗрогрпНроЯро┐роп роЙро░рпИропрпИ роЙро│рпНро│роЯроХрпНроХро┐ропродрпБ. роЗродрпБ роТро░рпБ ро╡ро░ро┐роЪрпИропро╛роХрпБроорпН, роПройрпЖройро┐ро▓рпН роТро░рпЗ роЕро┤рпИрокрпНрокро┐ро▓рпН рокро▓ роЙро░рпИродрпН родрпБрогрпНроЯрпБроХро│рпИ роорпКро┤ро┐рокрпЖропро░рпНроХрпНроХ роорпБроЯро┐ропрпБроорпН.

1. REST API-роХрпНроХрпБ роЕро┤рпИрокрпНрокрпБ роЪрпЖропрпНропро╡рпБроорпН, рооро▒рпНро▒рпБроорпН рокродро┐ро▓рпИрокрпН рокрпЖро▒ро╡рпБроорпН:

    ```python
    response = requests.post(url, headers=headers, params=params, json=body)
    ```
  
   родро┐ро░рпБроорпНрок ро╡ро░рпБроорпН рокродро┐ро▓рпН роТро░рпБ JSON ро╡ро░ро┐роЪрпИропро╛роХ роЗро░рпБроХрпНроХрпБроорпН, роЕродро┐ро▓рпН роорпКро┤ро┐рокрпЖропро░рпНрокрпНрокрпБроХро│рпН роЙро│рпНро│рой. роЗроирпНрод роЙро░рпБрокрпНрокроЯро┐ роЙроЯро▓ро┐ройрпН роЕройрпИродрпНродрпБ роЙро░рпБрокрпНрокроЯро┐роХро│ро┐ройрпН роорпКро┤ро┐рокрпЖропро░рпНрокрпНрокрпБроХро│рпБроХрпНроХро╛рой роТро░рпБ ро╡ро░ро┐роЪрпИропрпИроХрпН роХрпКрогрпНроЯрпБро│рпНро│родрпБ.

    ```json
    [
        {
            "translations": [
                {
                    "text": "Chronom├йtrant votre minuterie de 2 minutes 27 secondes.",
                    "to": "fr"
                }
            ]
        }
    ]
    ```
  
1. ро╡ро░ро┐роЪрпИропро┐ро▓рпН роорпБродро▓рпН роЙро░рпБрокрпНрокроЯро┐ропро┐ро▓ро┐ро░рпБроирпНродрпБ роорпБродро▓рпН роорпКро┤ро┐рокрпЖропро░рпНрокрпНрокро┐ройрпН `text` рокрогрпНрокрпИродрпН родро┐ро░рпБрокрпНрокро┐ роЕройрпБрокрпНрокро╡рпБроорпН:

    ```python
    return response.json()[0]['translations'][0]['text']
    ```
  
1. SSML роЙро░рпБро╡ро╛роХрпНроХрокрпНрокроЯрпБроорпН роорпБройрпН `say` роЪрпЖропро▓рпНрокро╛роЯрпНроЯрпИ роорпКро┤ро┐рокрпЖропро░рпНроХрпНроХ роЙро░рпИропрпИ рокрпБродрпБрокрпНрокро┐роХрпНроХро╡рпБроорпН:

    ```python
    print('Original:', text)
    text = translate_text(text)
    print('Translated:', text)
    ```
  
   роЗроирпНрод роХрпБро▒ро┐ропрпАроЯрпБ роЙро░рпИропро┐ройрпН роЕроЪро▓рпН рооро▒рпНро▒рпБроорпН роорпКро┤ро┐рокрпЖропро░рпНроХрпНроХрокрпНрокроЯрпНроЯ рокродро┐рокрпНрокрпБроХро│рпИ роХро╛ройрпНроЪрпЛро▓ро┐ро▓рпН роЕроЪрпНроЪро┐роЯрпБроХро┐ро▒родрпБ.

1. роЙроЩрпНроХро│рпН роХрпБро▒ро┐ропрпАроЯрпНроЯрпИ роЗропроХрпНроХро╡рпБроорпН. роЙроЩрпНроХро│рпН роЪрпЖропро▓рпНрокро╛роЯрпНроЯрпБ рокропройрпНрокро╛роЯрпБ роЗропроЩрпНроХрпБро╡родрпИ роЙро▒рпБродро┐рокрпНрокроЯрпБродрпНродро╡рпБроорпН, рооро▒рпНро▒рпБроорпН рокропройро░рпН роорпКро┤ро┐ропро┐ро▓рпН роТро░рпБ роЯрпИрооро░рпИ роХрпЛро░ро╡рпБроорпН, роЕроирпНрод роорпКро┤ро┐ропрпИ роирпАроЩрпНроХро│рпН рокрпЗроЪрпБро╡родройрпН роорпВро▓роорпН роЕро▓рпНро▓родрпБ роТро░рпБ роорпКро┤ро┐рокрпЖропро░рпНрокрпНрокрпБ рокропройрпНрокро╛роЯрпНроЯрпИрокрпН рокропройрпНрокроЯрпБродрпНродро┐.

    ```output
    (.venv) тЮЬ  smart-timer python app.py
    Connecting
    Connected
    Translated text: Set a timer of 2 minutes and 27 seconds.
    Original: 2 minute 27 second timer started.
    Translated: 2 minute 27 seconde minute a commenc├й.
    Original: Times up on your 2 minute 27 second timer.
    Translated: Chronom├йtrant votre minuterie de 2 minutes 27 secondes.
    ```
  
   > ЁЯТБ ро╡рпЖро╡рпНро╡рпЗро▒рпБ роорпКро┤ро┐роХро│ро┐ро▓рпН роПродро╛ро╡родрпБ роЪрпКро▓рпНро▓рпБроорпН ро╡ро┐родроорпН рооро╛ро▒рпБрокроЯрпБро╡родро╛ро▓рпН, роирпАроЩрпНроХро│рпН LUIS-роХрпНроХрпБ роХрпКроЯрпБродрпНрод роЙродро╛ро░рогроЩрпНроХро│рпБроЯройрпН роТродрпНродрпБрокрпНрокрпЛроХро╛род роорпКро┤ро┐рокрпЖропро░рпНрокрпНрокрпБроХро│рпИрокрпН рокрпЖро▒ро▓ро╛роорпН. роЗродрпБ роироЯроирпНродро╛ро▓рпН, LUIS-роХрпНроХрпБ роорпЗро▓рпБроорпН роЙродро╛ро░рогроЩрпНроХро│рпИроЪрпН роЪрпЗро░рпНродрпНродрпБ, роорпАрогрпНроЯрпБроорпН рокропро┐ро▒рпНроЪро┐ роЪрпЖропрпНродрпБ, рокро┐ройрпНройро░рпН рооро╛родро┐ро░ро┐ропрпИ роорпАрогрпНроЯрпБроорпН ро╡рпЖро│ро┐ропро┐роЯро╡рпБроорпН.

> ЁЯТБ роЗроирпНрод роХрпБро▒ро┐ропрпАроЯрпНроЯрпИ [code/virtual-iot-device](../../../../../6-consumer/lessons/4-multiple-language-support/code/virtual-iot-device) роХрпЛрокрпНрокрпБро▒рпИропро┐ро▓рпН роХро╛рогро▓ро╛роорпН.

ЁЯША роЙроЩрпНроХро│рпН рокройрпНроорпКро┤ро┐ роЯрпИрооро░рпН родро┐роЯрпНроЯроорпН ро╡рпЖро▒рпНро▒ро┐роХро░рооро╛роХ роорпБроЯро┐роирпНродродрпБ!

---

**роХрпБро▒ро┐рокрпНрокрпБ**:  
роЗроирпНрод роЖро╡рогроорпН [Co-op Translator](https://github.com/Azure/co-op-translator) роОройрпНро▒ AI роорпКро┤ро┐рокрпЖропро░рпНрокрпНрокрпБ роЪрпЗро╡рпИропрпИрокрпН рокропройрпНрокроЯрпБродрпНродро┐ роорпКро┤ро┐рокрпЖропро░рпНроХрпНроХрокрпНрокроЯрпНроЯрпБро│рпНро│родрпБ. роиро╛роЩрпНроХро│рпН родрпБро▓рпНро▓ро┐ропродрпНродро┐ро▒рпНроХро╛роХ роорпБропро▒рпНроЪро┐роХрпНроХро┐ройрпНро▒рпЛроорпН, роЖройро╛ро▓рпН родро╛ройро┐ропроЩрпНроХро┐ роорпКро┤ро┐рокрпЖропро░рпНрокрпНрокрпБроХро│ро┐ро▓рпН рокро┐ро┤рпИроХро│рпН роЕро▓рпНро▓родрпБ родро╡ро▒ро╛рой родроХро╡ро▓рпНроХро│рпН роЗро░рпБроХрпНроХроХрпНроХрпВроЯрпБроорпН роОройрпНрокродрпИ родропро╡рпБроЪрпЖропрпНродрпБ роХро╡ройродрпНродро┐ро▓рпН роХрпКро│рпНро│рпБроЩрпНроХро│рпН. роЕродройрпН родро╛ропрпНроорпКро┤ро┐ропро┐ро▓рпН роЙро│рпНро│ роорпВро▓ роЖро╡рогроорпН роЕродро┐роХро╛ро░рокрпНрокрпВро░рпНро╡ роЖродро╛ро░рооро╛роХ роХро░рпБродрокрпНрокроЯ ро╡рпЗрогрпНроЯрпБроорпН. роорпБроХрпНроХро┐ропрооро╛рой родроХро╡ро▓рпНроХро│рпБроХрпНроХрпБ, родрпКро┤ро┐ро▓рпНроорпБро▒рпИ рооройро┐род роорпКро┤ро┐рокрпЖропро░рпНрокрпНрокрпБ рокро░ро┐роирпНродрпБро░рпИроХрпНроХрокрпНрокроЯрпБроХро┐ро▒родрпБ. роЗроирпНрод роорпКро┤ро┐рокрпЖропро░рпНрокрпНрокрпИрокрпН рокропройрпНрокроЯрпБродрпНродрпБро╡родро╛ро▓рпН роПро▒рпНрокроЯрпБроорпН роОроирпНрод родро╡ро▒ро╛рой рокрпБро░ро┐родро▓рпНроХро│рпН роЕро▓рпНро▓родрпБ родро╡ро▒ро╛рой ро╡ро┐ро│роХрпНроХроЩрпНроХро│рпБроХрпНроХрпБ роиро╛роЩрпНроХро│рпН рокрпКро▒рпБрокрпНрокро▓рпНро▓.