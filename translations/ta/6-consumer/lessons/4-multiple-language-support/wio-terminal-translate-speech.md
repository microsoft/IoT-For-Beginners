<!--
CO_OP_TRANSLATOR_METADATA:
{
  "original_hash": "5f6c164e349f8989959e02a90f37908d",
  "translation_date": "2025-10-11T12:13:34+00:00",
  "source_file": "6-consumer/lessons/4-multiple-language-support/wio-terminal-translate-speech.md",
  "language_code": "ta"
}
-->
# рокрпЗроЪрпНроЪрпИ роорпКро┤ро┐рокрпЖропро░рпНроХрпНроХро╡рпБроорпН - Wio Terminal

роЗроирпНрод рокро╛роЯродрпНродро┐ройрпН роЗроирпНрод рокроХрпБродро┐ропро┐ро▓рпН, роорпКро┤ро┐рокрпЖропро░рпНрокрпНрокро╛ро│ро░рпН роЪрпЗро╡рпИропрпИрокрпН рокропройрпНрокроЯрпБродрпНродро┐ роЙро░рпИропрпИ роорпКро┤ро┐рокрпЖропро░рпНроХрпНроХ роХрпБро▒ро┐ропрпАроЯрпНроЯрпИ роОро┤рпБродрпБро╡рпАро░рпНроХро│рпН.

## роорпКро┤ро┐рокрпЖропро░рпНрокрпНрокро╛ро│ро░рпН роЪрпЗро╡рпИропрпИрокрпН рокропройрпНрокроЯрпБродрпНродро┐ роЙро░рпИропрпИ рокрпЗроЪрпНроЪро╛роХ рооро╛ро▒рпНро▒ро╡рпБроорпН

Speech service REST API роирпЗро░роЯро┐ роорпКро┤ро┐рокрпЖропро░рпНрокрпНрокрпБроХро│рпИ роЖродро░ро┐роХрпНроХро╛родрпБ, роЕродро▒рпНроХрпБ рокродро┐ро▓ро╛роХ Speech to Text роЪрпЗро╡рпИропро╛ро▓рпН роЙро░рпБро╡ро╛роХрпНроХрокрпНрокроЯрпНроЯ роЙро░рпИ рооро▒рпНро▒рпБроорпН рокрпЗроЪрокрпНрокроЯрпНроЯ рокродро┐ро▓ро┐ройрпН роЙро░рпИропрпИ роорпКро┤ро┐рокрпЖропро░рпНроХрпНроХ Translator роЪрпЗро╡рпИропрпИрокрпН рокропройрпНрокроЯрпБродрпНродро▓ро╛роорпН. роЗроирпНрод роЪрпЗро╡рпИроХрпНроХрпБ REST API роЙро│рпНро│родрпБ, роЖройро╛ро▓рпН роЗродрпИрокрпН рокропройрпНрокроЯрпБродрпНрод роОро│ро┐родро╛роХрпНроХ, functions app-роЗро▓рпН HTTP trigger роорпВро▓роорпН роЗродрпИроЪрпН роЪрпБро▒рпНро▒ро┐ роТро░рпБ роЕроЯрпБроХрпНроХрпБ роЙро░рпБро╡ро╛роХрпНроХрокрпНрокроЯрпБроорпН.

### рокрогро┐роХро│рпН - роЙро░рпИропрпИ роорпКро┤ро┐рокрпЖропро░рпНроХрпНроХ роТро░рпБ serverless function роЙро░рпБро╡ро╛роХрпНроХро╡рпБроорпН

1. роЙроЩрпНроХро│рпН `smart-timer-trigger` родро┐роЯрпНроЯродрпНродрпИ VS Code-роЗро▓рпН родро┐ро▒роХрпНроХро╡рпБроорпН, рооро▒рпНро▒рпБроорпН terminal-роР родро┐ро▒роХрпНроХро╡рпБроорпН, virtual environment роЪрпЖропро▓рпНрокроЯрпБродрпНродрокрпНрокроЯрпНроЯрпБро│рпНро│родро╛ роОройрпНрокродрпИ роЙро▒рпБродро┐рокрпНрокроЯрпБродрпНродро╡рпБроорпН. роЗро▓рпНро▓рпИропрпЖройро┐ро▓рпН, terminal-роР роорпБроЯро┐родрпНродрпБ роорпАрогрпНроЯрпБроорпН роЙро░рпБро╡ро╛роХрпНроХро╡рпБроорпН.

1. `local.settings.json` роХрпЛрокрпНрокрпИродрпН родро┐ро▒роирпНродрпБ, translator API key рооро▒рпНро▒рпБроорпН location-роХрпНроХрпБ роЕроорпИрокрпНрокрпБроХро│рпИроЪрпН роЪрпЗро░рпНроХрпНроХро╡рпБроорпН:

    ```json
    "TRANSLATOR_KEY": "<key>",
    "TRANSLATOR_LOCATION": "<location>"
    ```

    `<key>` роР роЙроЩрпНроХро│рпН translator service resource-роХрпНроХрпБ API key-роЖроХ рооро╛ро▒рпНро▒ро╡рпБроорпН. `<location>` роР translator service resource роЙро░рпБро╡ро╛роХрпНроХро┐роп рокрпЛродрпБ роирпАроЩрпНроХро│рпН рокропройрпНрокроЯрпБродрпНродро┐роп роЗроЯродрпНродрпБроЯройрпН рооро╛ро▒рпНро▒ро╡рпБроорпН.

1. роЗроирпНрод app-роХрпНроХрпБ `translate-text` роОройрпНро▒ рокрпБродро┐роп HTTP trigger-роР роХрпАро┤рпЗ роЙро│рпНро│ роХроЯрпНроЯро│рпИропрпИ functions app родро┐роЯрпНроЯродрпНродро┐ройрпН root folder-роЗро▓рпН роЙро│рпНро│ VS Code terminal-роЗро▓рпН роЗро░рпБроирпНродрпБ рокропройрпНрокроЯрпБродрпНродро┐ роЪрпЗро░рпНроХрпНроХро╡рпБроорпН:

    ```sh
    func new --name translate-text --template "HTTP trigger"
    ```

    роЗродрпБ `translate-text` роОройрпНро▒ HTTP trigger-роР роЙро░рпБро╡ро╛роХрпНроХрпБроорпН.

1. `translate-text` роХрпЛрокрпНрокроХродрпНродро┐ро▓рпН роЙро│рпНро│ `__init__.py` роХрпЛрокрпНрокро┐ройрпН роЙро│рпНро│роЯроХрпНроХродрпНродрпИ роХрпАро┤рпЗ роЙро│рпНро│ро╡ро▒рпНро▒ро╛ро▓рпН рооро╛ро▒рпНро▒ро╡рпБроорпН:

    ```python
    import logging
    import os
    import requests
    
    import azure.functions as func
    
    location = os.environ['TRANSLATOR_LOCATION']
    translator_key = os.environ['TRANSLATOR_KEY']
    
    def main(req: func.HttpRequest) -> func.HttpResponse:
        req_body = req.get_json()
        from_language = req_body['from_language']
        to_language = req_body['to_language']
        text = req_body['text']
        
        logging.info(f'Translating {text} from {from_language} to {to_language}')
    
        url = f'https://api.cognitive.microsofttranslator.com/translate?api-version=3.0'
    
        headers = {
            'Ocp-Apim-Subscription-Key': translator_key,
            'Ocp-Apim-Subscription-Region': location,
            'Content-type': 'application/json'
        }
    
        params = {
            'from': from_language,
            'to': to_language
        }
    
        body = [{
            'text' : text
        }]
        
        response = requests.post(url, headers=headers, params=params, json=body)
        return func.HttpResponse(response.json()[0]['translations'][0]['text'])
    ```

    роЗроирпНрод роХрпБро▒ро┐ропрпАроЯрпБ HTTP роХрпЛро░ро┐роХрпНроХрпИропро┐ро▓ро┐ро░рпБроирпНродрпБ роЙро░рпИ рооро▒рпНро▒рпБроорпН роорпКро┤ро┐роХро│рпИ роОроЯрпБроХрпНроХро┐ро▒родрпБ. рокро┐ройрпНройро░рпН, translator REST API-роХрпНроХрпБ роХрпЛро░ро┐роХрпНроХрпИропрпИроЪрпН роЪрпЖропрпНроХро┐ро▒родрпБ, URL-роХрпНроХрпБ роорпКро┤ро┐роХро│рпИ роЕро│ро╡рпБро░рпБроХрпНроХро│ро╛роХро╡рпБроорпН, роорпКро┤ро┐рокрпЖропро░рпНроХрпНроХ роЙро░рпИропрпИ body-роЖроХро╡рпБроорпН роЕройрпБрокрпНрокрпБроХро┐ро▒родрпБ. роЗро▒рпБродро┐ропро╛роХ, роорпКро┤ро┐рокрпЖропро░рпНрокрпНрокрпБ родро┐ро░рпБрокрпНрокро┐ роЕройрпБрокрпНрокрокрпНрокроЯрпБроХро┐ро▒родрпБ.

1. роЙроЩрпНроХро│рпН function app-роР роЙро│рпНро│рпВро░ро┐ро▓рпН роЗропроХрпНроХро╡рпБроорпН. рокро┐ройрпНройро░рпН, curl рокрпЛройрпНро▒ роТро░рпБ роХро░рпБро╡ро┐ропрпИрокрпН рокропройрпНрокроЯрпБродрпНродро┐ роЙроЩрпНроХро│рпН `text-to-timer` HTTP trigger-роР роЪрпЛродро┐родрпНродродрпБ рокрпЛро▓ роЗродрпИ роЕро┤рпИроХрпНроХро▓ро╛роорпН. JSON body-ропро╛роХ роорпКро┤ро┐рокрпЖропро░рпНроХрпНроХ роЙро░рпИ рооро▒рпНро▒рпБроорпН роорпКро┤ро┐роХро│рпИ роЕройрпБрокрпНрокрпБро╡родрпИ роЙро▒рпБродро┐рокрпНрокроЯрпБродрпНродро╡рпБроорпН:

    ```json
    {
        "text": "D├йfinir une minuterie de 30 secondes",
        "from_language": "fr-FR",
        "to_language": "en-US"
    }
    ```

    роЗроирпНрод роОроЯрпБродрпНродрпБроХрпНроХро╛роЯрпНроЯрпБ *D├йfinir une minuterie de 30 secondes* роОройрпНрокродрпИроХрпН рокро┐ро░рпЖроЮрпНроЪро┐ро▓рпН роЗро░рпБроирпНродрпБ US роЖроЩрпНроХро┐ро▓родрпНродро┐ро▒рпНроХрпБ роорпКро┤ро┐рокрпЖропро░рпНроХрпНроХро┐ро▒родрпБ. роЗродрпБ *Set a 30-second timer* роОройрпНрокродрпИ родро┐ро░рпБрокрпНрокро┐ роЕройрпБрокрпНрокрпБроорпН.

> ЁЯТБ роЗроирпНрод роХрпБро▒ро┐ропрпАроЯрпНроЯрпИ [code/functions](../../../../../6-consumer/lessons/4-multiple-language-support/code/functions) роХрпЛрокрпНрокроХродрпНродро┐ро▓рпН роХро╛рогро▓ро╛роорпН.

### рокрогро┐роХро│рпН - роЙро░рпИропрпИ роорпКро┤ро┐рокрпЖропро░рпНроХрпНроХ translator function-роР рокропройрпНрокроЯрпБродрпНродро╡рпБроорпН

1. `smart-timer` родро┐роЯрпНроЯродрпНродрпИ VS Code-роЗро▓рпН родро┐ро▒роХрпНроХро╡рпБроорпН, роЗродрпБ роПро▒рпНроХройро╡рпЗ родро┐ро▒роХрпНроХрокрпНрокроЯро╡ро┐ро▓рпНро▓рпИ роОройрпНро▒ро╛ро▓рпН.

1. роЙроЩрпНроХро│рпН smart timer-роХрпНроХрпБ 2 роорпКро┤ро┐роХро│рпН роЕроорпИроХрпНроХрокрпНрокроЯрпБроорпН - LUIS-роР рокропро┐ро▒рпНро▒рпБро╡ро┐роХрпНроХ рокропройрпНрокроЯрпБродрпНродрокрпНрокроЯрпНроЯ server роорпКро┤ро┐ (рокропройро╛ро│ро░рпБроЯройрпН рокрпЗроЪрпБро╡родро▒рпНроХро╛рой роЪрпЖропрпНродро┐роХро│рпИ роЙро░рпБро╡ро╛роХрпНроХро╡рпБроорпН роЗродрпЗ роорпКро┤ро┐ рокропройрпНрокроЯрпБродрпНродрокрпНрокроЯрпБроорпН), рооро▒рпНро▒рпБроорпН рокропройро░рпН рокрпЗроЪрпБроорпН роорпКро┤ро┐. `config.h` header роХрпЛрокрпНрокро┐ро▓рпН роЙро│рпНро│ `LANGUAGE` роиро┐ро▓рпИропро╛ройродрпНродрпИрокрпН рокропройро░рпН рокрпЗроЪрпБроорпН роорпКро┤ро┐ропро╛роХ рооро╛ро▒рпНро▒ро╡рпБроорпН, роорпЗро▓рпБроорпН LUIS-роР рокропро┐ро▒рпНро▒рпБро╡ро┐роХрпНроХ рокропройрпНрокроЯрпБродрпНродрокрпНрокроЯрпНроЯ роорпКро┤ро┐роХрпНроХро╛рой `SERVER_LANGUAGE` роОройрпНро▒ рокрпБродро┐роп роиро┐ро▓рпИропро╛ройродрпНродрпИроЪрпН роЪрпЗро░рпНроХрпНроХро╡рпБроорпН:

    ```cpp
    const char *LANGUAGE = "<user language>";
    const char *SERVER_LANGUAGE = "<server language>";
    ```

    `<user language>` роР роирпАроЩрпНроХро│рпН рокрпЗроЪрпБроорпН роорпКро┤ро┐роХрпНроХро╛рой locale рокрпЖропро░рпБроЯройрпН рооро╛ро▒рпНро▒ро╡рпБроорпН, роЙродро╛ро░рогрооро╛роХ рокро┐ро░рпЖроЮрпНроЪрпБроХрпНроХро╛рой `fr-FR`, роЕро▓рпНро▓родрпБ роХро╛ройрпНроЯрпЛройрпАро╕рпБроХрпНроХро╛рой `zn-HK`.

    `<server language>` роР LUIS-роР рокропро┐ро▒рпНро▒рпБро╡ро┐роХрпНроХ рокропройрпНрокроЯрпБродрпНродрокрпНрокроЯрпНроЯ роорпКро┤ро┐роХрпНроХро╛рой locale рокрпЖропро░рпБроЯройрпН рооро╛ро▒рпНро▒ро╡рпБроорпН.

    Microsoft docs-роЗро▓рпН роЙро│рпНро│ [Language and voice support documentation](https://docs.microsoft.com/azure/cognitive-services/speech-service/language-support?WT.mc_id=academic-17441-jabenn#speech-to-text) роЗро▓рпН роЖродро░ро┐роХрпНроХрокрпНрокроЯрпБроорпН роорпКро┤ро┐роХро│рпН рооро▒рпНро▒рпБроорпН роЕро╡ро▒рпНро▒ро┐ройрпН locale рокрпЖропро░рпНроХро│ро┐ройрпН рокроЯрпНроЯро┐ропро▓рпИроХрпН роХро╛рогро▓ро╛роорпН.

    > ЁЯТБ роирпАроЩрпНроХро│рпН рокро▓ роорпКро┤ро┐роХро│рпИрокрпН рокрпЗроЪро╡ро┐ро▓рпНро▓рпИ роОройрпНро▒ро╛ро▓рпН, [Bing Translate](https://www.bing.com/translator) роЕро▓рпНро▓родрпБ [Google Translate](https://translate.google.com) рокрпЛройрпНро▒ роЪрпЗро╡рпИропрпИрокрпН рокропройрпНрокроЯрпБродрпНродро┐ роЙроЩрпНроХро│рпН ро╡ро┐ро░рпБрокрпНрокрооро╛рой роорпКро┤ро┐ропро┐ро▓ро┐ро░рпБроирпНродрпБ рооро▒рпНро▒рпКро░рпБ роорпКро┤ро┐роХрпНроХрпБ роорпКро┤ро┐рокрпЖропро░рпНроХрпНроХро▓ро╛роорпН. роЗроирпНрод роЪрпЗро╡рпИроХро│рпН рокро┐ройрпНройро░рпН роорпКро┤ро┐рокрпЖропро░рпНроХрпНроХрокрпНрокроЯрпНроЯ роЙро░рпИропро┐ройрпН роЖроЯро┐ропрпЛро╡рпИ роЗропроХрпНроХро▓ро╛роорпН.
    >
    > роЙродро╛ро░рогрооро╛роХ, роирпАроЩрпНроХро│рпН LUIS-роР роЖроЩрпНроХро┐ро▓родрпНродро┐ро▓рпН рокропро┐ро▒рпНро▒рпБро╡ро┐роХрпНроХро┐ро▒рпАро░рпНроХро│рпН, роЖройро╛ро▓рпН рокропройро░рпН роорпКро┤ро┐ропро╛роХ рокро┐ро░рпЖроЮрпНроЪрпИ рокропройрпНрокроЯрпБродрпНрод ро╡ро┐ро░рпБроорпНрокрпБроХро┐ро▒рпАро░рпНроХро│рпН роОройрпНро▒ро╛ро▓рпН, "set a 2 minute and 27 second timer" рокрпЛройрпНро▒ ро╡ро╛роХрпНроХро┐ропроЩрпНроХро│рпИ Bing Translate-роРрокрпН рокропройрпНрокроЯрпБродрпНродро┐ роЖроЩрпНроХро┐ро▓родрпНродро┐ро▓ро┐ро░рпБроирпНродрпБ рокро┐ро░рпЖроЮрпНроЪрпБроХрпНроХрпБ роорпКро┤ро┐рокрпЖропро░рпНроХрпНроХро▓ро╛роорпН, рокро┐ройрпНройро░рпН **Listen translation** рокрпКродрпНродро╛ройрпИ рокропройрпНрокроЯрпБродрпНродро┐ роорпКро┤ро┐рокрпЖропро░рпНрокрпНрокрпИ роЙроЩрпНроХро│рпН роорпИроХрпНро░рпЛроГрокрпЛройро┐ро▓рпН рокрпЗроЪро▓ро╛роорпН.
    >
    > ![Bing Translate-роЗро▓рпН Listen translation рокрпКродрпНродро╛ройрпН](../../../../../translated_images/bing-translate.348aa796d6efe2a92f41ea74a5cf42bb4c63d6faaa08e7f46924e072a35daa48.ta.png)

1. `SPEECH_LOCATION` роХрпАро┤рпЗ translator API key рооро▒рпНро▒рпБроорпН location-роРроЪрпН роЪрпЗро░рпНроХрпНроХро╡рпБроорпН:

    ```cpp
    const char *TRANSLATOR_API_KEY = "<KEY>";
    const char *TRANSLATOR_LOCATION = "<LOCATION>";
    ```

    `<KEY>` роР роЙроЩрпНроХро│рпН translator service resource-роХрпНроХрпБ API key-роЖроХ рооро╛ро▒рпНро▒ро╡рпБроорпН. `<LOCATION>` роР translator service resource роЙро░рпБро╡ро╛роХрпНроХро┐роп рокрпЛродрпБ роирпАроЩрпНроХро│рпН рокропройрпНрокроЯрпБродрпНродро┐роп роЗроЯродрпНродрпБроЯройрпН рооро╛ро▒рпНро▒ро╡рпБроорпН.

1. `VOICE_URL` роХрпАро┤рпЗ translator trigger URL-роРроЪрпН роЪрпЗро░рпНроХрпНроХро╡рпБроорпН:

    ```cpp
    const char *TRANSLATE_FUNCTION_URL = "<URL>";
    ```

    `<URL>` роР роЙроЩрпНроХро│рпН function app-роЗро▓рпН `translate-text` HTTP trigger-роХрпНроХрпБ URL-роЖроХ рооро╛ро▒рпНро▒ро╡рпБроорпН. роЗродрпБ `TEXT_TO_TIMER_FUNCTION_URL`-роХрпНроХрпБ роородро┐рокрпНрокро╛роХ роЗро░рпБроХрпНроХрпБроорпН, роЖройро╛ро▓рпН `text-to-timer` роОройрпНрокродро▒рпНроХрпБрокрпН рокродро┐ро▓ро╛роХ `translate-text` роОройрпНро▒ function рокрпЖропро░рпБроЯройрпН роЗро░рпБроХрпНроХрпБроорпН.

1. `src` роХрпЛрокрпНрокроХродрпНродро┐ро▓рпН рокрпБродро┐роп роХрпЛрокрпНрокрпИроЪрпН роЪрпЗро░рпНроХрпНроХро╡рпБроорпН, роЗродро▒рпНроХрпБ `text_translator.h` роОройрпНро▒рпБ рокрпЖропро░ро┐роЯро╡рпБроорпН.

1. роЗроирпНрод рокрпБродро┐роп `text_translator.h` header роХрпЛрокрпНрокро┐ро▓рпН роЙро░рпИропрпИ роорпКро┤ро┐рокрпЖропро░рпНроХрпНроХ роТро░рпБ class-роР роЙро░рпБро╡ро╛роХрпНроХро╡рпБроорпН. роЗроирпНрод class-роР роЕро▒ро┐ро╡ро┐роХрпНроХ роХрпАро┤рпЗ роЙро│рпНро│ро╡ро▒рпНро▒рпИроЪрпН роЪрпЗро░рпНроХрпНроХро╡рпБроорпН:

    ```cpp
    #pragma once
    
    #include <Arduino.h>
    #include <ArduinoJson.h>
    #include <HTTPClient.h>
    #include <WiFiClient.h>
    
    #include "config.h"
    
    class TextTranslator
    {
    public:   
    private:
        WiFiClient _client;
    };
    
    TextTranslator textTranslator;
    ```

    роЗродрпБ `TextTranslator` class-роР роЕро▒ро┐ро╡ро┐роХрпНроХро┐ро▒родрпБ, рооро▒рпНро▒рпБроорпН роЗроирпНрод class-роЗройрпН роТро░рпБ instance-роР роЙро░рпБро╡ро╛роХрпНроХрпБроХро┐ро▒родрпБ. class-роХрпНроХрпБ WiFi client-роХрпНроХрпБ роТро░рпБ single field роЙро│рпНро│родрпБ.

1. роЗроирпНрод class-роЗройрпН `public` рокро┐ро░ро┐ро╡ро┐ро▓рпН, роЙро░рпИропрпИ роорпКро┤ро┐рокрпЖропро░рпНроХрпНроХ роТро░рпБ роорпБро▒рпИроЪрпЖропро▓ро┐ропрпИроЪрпН роЪрпЗро░рпНроХрпНроХро╡рпБроорпН:

    ```cpp
    String translateText(String text, String from_language, String to_language)
    {
    }
    ```

    роЗроирпНрод роорпБро▒рпИроЪрпЖропро▓ро┐ роОроирпНрод роорпКро┤ро┐ропро┐ро▓рпН роЗро░рпБроирпНродрпБ роорпКро┤ро┐рокрпЖропро░рпНроХрпНроХ ро╡рпЗрогрпНроЯрпБроорпН, рооро▒рпНро▒рпБроорпН роОроирпНрод роорпКро┤ро┐роХрпНроХрпБ роорпКро┤ро┐рокрпЖропро░рпНроХрпНроХ ро╡рпЗрогрпНроЯрпБроорпН роОройрпНрокродрпИ роОроЯрпБродрпНродрпБроХрпНроХрпКро│рпНроХро┐ро▒родрпБ. рокрпЗроЪрпНроЪрпИроЪрпН роЪрпЖропро▓рпНрокроЯрпБродрпНродрпБроорпНрокрпЛродрпБ, рокрпЗроЪрпНроЪрпБ рокропройро░рпН роорпКро┤ро┐ропро┐ро▓рпН роЗро░рпБроирпНродрпБ LUIS server роорпКро┤ро┐роХрпНроХрпБ роорпКро┤ро┐рокрпЖропро░рпНроХрпНроХрокрпНрокроЯрпБроорпН, рооро▒рпНро▒рпБроорпН рокродро┐ро▓рпНроХро│рпИ ро╡ро┤роЩрпНроХрпБроорпНрокрпЛродрпБ, LUIS server роорпКро┤ро┐ропро┐ро▓рпН роЗро░рпБроирпНродрпБ рокропройро░рпН роорпКро┤ро┐роХрпНроХрпБ роорпКро┤ро┐рокрпЖропро░рпНроХрпНроХрокрпНрокроЯрпБроорпН.

1. роЗроирпНрод роорпБро▒рпИроЪрпЖропро▓ро┐ропро┐ро▓рпН, роорпКро┤ро┐рокрпЖропро░рпНроХрпНроХ роЙро░рпИ рооро▒рпНро▒рпБроорпН роорпКро┤ро┐роХро│рпИ роЙро│рпНро│роЯроХрпНроХро┐роп JSON body-роР роЙро░рпБро╡ро╛роХрпНроХ роХрпБро▒ро┐ропрпАроЯрпНроЯрпИроЪрпН роЪрпЗро░рпНроХрпНроХро╡рпБроорпН:

    ```cpp
    DynamicJsonDocument doc(1024);
    doc["text"] = text;
    doc["from_language"] = from_language;
    doc["to_language"] = to_language;

    String body;
    serializeJson(doc, body);

    Serial.print("Translating ");
    Serial.print(text);
    Serial.print(" from ");
    Serial.print(from_language);
    Serial.print(" to ");
    Serial.print(to_language);
    ```

1. роЗродро▒рпНроХрпБ роХрпАро┤рпЗ, serverless function app-роХрпНроХрпБ body-роР роЕройрпБрокрпНрок роХрпБро▒ро┐ропрпАроЯрпНроЯрпИроЪрпН роЪрпЗро░рпНроХрпНроХро╡рпБроорпН:

    ```cpp
    HTTPClient httpClient;
    httpClient.begin(_client, TRANSLATE_FUNCTION_URL);

    int httpResponseCode = httpClient.POST(body);
    ```

1. роЕроЯрпБродрпНродродро╛роХ, рокродро┐ро▓рпИрокрпН рокрпЖро▒ роХрпБро▒ро┐ропрпАроЯрпНроЯрпИроЪрпН роЪрпЗро░рпНроХрпНроХро╡рпБроорпН:

    ```cpp
    String translated_text = "";

    if (httpResponseCode == 200)
    {
        translated_text = httpClient.getString();
        Serial.print("Translated: ");
        Serial.println(translated_text);
    }
    else
    {
        Serial.print("Failed to translate text - error ");
        Serial.println(httpResponseCode);
    }
    ```

1. роЗро▒рпБродро┐ропро╛роХ, роЗрогрпИрокрпНрокрпИ роорпВроЯро╡рпБроорпН рооро▒рпНро▒рпБроорпН роорпКро┤ро┐рокрпЖропро░рпНроХрпНроХрокрпНрокроЯрпНроЯ роЙро░рпИропрпИ родро┐ро░рпБрокрпНрокро┐ роЕройрпБрокрпНрокро╡рпБроорпН:

    ```cpp
    httpClient.end();

    return translated_text;
    ```

### рокрогро┐роХро│рпН - роЕроЯрпИропро╛ро│роорпН роХро╛рогрокрпНрокроЯрпНроЯ рокрпЗроЪрпНроЪрпБ рооро▒рпНро▒рпБроорпН рокродро┐ро▓рпНроХро│рпИ роорпКро┤ро┐рокрпЖропро░рпНроХрпНроХро╡рпБроорпН

1. `main.cpp` роХрпЛрокрпНрокрпИродрпН родро┐ро▒роХрпНроХро╡рпБроорпН.

1. `TextTranslator` class header роХрпЛрокрпНрокрпБроХрпНроХро╛рой include directive-роР роХрпЛрокрпНрокро┐ройрпН роорпЗро▓рпН роЪрпЗро░рпНроХрпНроХро╡рпБроорпН:

    ```cpp
    #include "text_translator.h"
    ```

1. роТро░рпБ timer роЕроорпИроХрпНроХрокрпНрокроЯрпНроЯро╛ро▓рпН роЕро▓рпНро▓родрпБ роХро╛ро▓ро╛ро╡родро┐ропро╛роХ роЗро░рпБроирпНродро╛ро▓рпН роХрпВро▒рокрпНрокроЯрпБроорпН роЙро░рпИ роорпКро┤ро┐рокрпЖропро░рпНроХрпНроХрокрпНрокроЯ ро╡рпЗрогрпНроЯрпБроорпН. роЗродрпИроЪрпН роЪрпЖропрпНроп, `say` function-роЗройрпН роорпБродро▓рпН ро╡ро░ро┐ропро╛роХ роХрпАро┤рпЗ роЙро│рпНро│ро╡ро▒рпНро▒рпИроЪрпН роЪрпЗро░рпНроХрпНроХро╡рпБроорпН:

    ```cpp
    text = textTranslator.translateText(text, LANGUAGE, SERVER_LANGUAGE);
    ```

    роЗродрпБ роЙро░рпИропрпИ рокропройро░рпН роорпКро┤ро┐роХрпНроХрпБ роорпКро┤ро┐рокрпЖропро░рпНроХрпНроХрпБроорпН.

1. `processAudio` function-роЗро▓рпН, `String text = speechToText.convertSpeechToText();` роЕро┤рпИрокрпНрокрпБроЯройрпН captured audio-роЗро▓ро┐ро░рпБроирпНродрпБ роЙро░рпИ рокрпЖро▒рокрпНрокроЯрпБроХро┐ро▒родрпБ. роЗроирпНрод роЕро┤рпИрокрпНрокрпБроХрпНроХрпБрокрпН рокро┐ро▒роХрпБ, роЙро░рпИропрпИ роорпКро┤ро┐рокрпЖропро░рпНроХрпНроХро╡рпБроорпН:

    ```cpp
    String text = speechToText.convertSpeechToText();
    text = textTranslator.translateText(text, LANGUAGE, SERVER_LANGUAGE);
    ```

    роЗродрпБ роЙро░рпИропрпИ рокропройро░рпН роорпКро┤ро┐ропро┐ро▓рпН роЗро░рпБроирпНродрпБ server-ро▓рпН рокропройрпНрокроЯрпБродрпНродрокрпНрокроЯрпБроорпН роорпКро┤ро┐роХрпНроХрпБ роорпКро┤ро┐рокрпЖропро░рпНроХрпНроХрпБроорпН.

1. роЗроирпНрод роХрпБро▒ро┐ропрпАроЯрпНроЯрпИ роЙро░рпБро╡ро╛роХрпНроХро╡рпБроорпН, роЕродрпИ роЙроЩрпНроХро│рпН Wio Terminal-роХрпНроХрпБ рокродро┐ро╡рпЗро▒рпНро▒ро╡рпБроорпН, рооро▒рпНро▒рпБроорпН serial monitor роорпВро▓роорпН роЪрпЛродро┐роХрпНроХро╡рпБроорпН. serial monitor-роЗро▓рпН `Ready` роОройрпНрокродрпИрокрпН рокро╛ро░рпНроХрпНроХрпБроорпН рокрпЛродрпБ, C рокрпКродрпНродро╛ройрпИ роЕро┤рпБродрпНродро╡рпБроорпН (power switch-роХрпНроХрпБ роЕро░рпБроХро┐ро▓рпБро│рпНро│ роЗроЯродрпБ рокроХрпНроХроорпН), рооро▒рпНро▒рпБроорпН рокрпЗроЪро╡рпБроорпН. роЙроЩрпНроХро│рпН function app роЗропроЩрпНроХрпБроХро┐ро▒родро╛ роОройрпНрокродрпИ роЙро▒рпБродро┐рокрпНрокроЯрпБродрпНродро╡рпБроорпН, рооро▒рпНро▒рпБроорпН рокропройро░рпН роорпКро┤ро┐ропро┐ро▓рпН timer-роР роХрпЛро░ро╡рпБроорпН, роирпАроЩрпНроХро│рпН роЕроирпНрод роорпКро┤ро┐ропрпИрокрпН рокрпЗроЪрпБро╡родройрпН роорпВро▓роорпН роЕро▓рпНро▓родрпБ роорпКро┤ро┐рокрпЖропро░рпНрокрпНрокрпБ app-роРрокрпН рокропройрпНрокроЯрпБродрпНродрпБро╡родройрпН роорпВро▓роорпН.

    ```output
    Connecting to WiFi..
    Connected!
    Got access token.
    Ready.
    Starting recording...
    Finished recording
    Sending speech...
    Speech sent!
    {"RecognitionStatus":"Success","DisplayText":"D├йfinir une minuterie de 2 minutes 27 secondes.","Offset":9600000,"Duration":40400000}
    Translating D├йfinir une minuterie de 2 minutes 27 secondes. from fr-FR to en-US
    Translated: Set a timer of 2 minutes 27 seconds.
    Set a timer of 2 minutes 27 seconds.
    {"seconds": 147}
    Translating 2 minute 27 second timer started. from en-US to fr-FR
    Translated: 2 minute 27 seconde minute a commenc├й.
    2 minute 27 seconde minute a commenc├й.
    Translating Times up on your 2 minute 27 second timer. from en-US to fr-FR
    Translated: Chronom├йtrant votre minuterie de 2 minutes 27 secondes.
    Chronom├йtrant votre minuterie de 2 minutes 27 secondes.
    ```

> ЁЯТБ роЗроирпНрод роХрпБро▒ро┐ропрпАроЯрпНроЯрпИ [code/wio-terminal](../../../../../6-consumer/lessons/4-multiple-language-support/code/wio-terminal) роХрпЛрокрпНрокроХродрпНродро┐ро▓рпН роХро╛рогро▓ро╛роорпН.

ЁЯША роЙроЩрпНроХро│рпН рокро▓ роорпКро┤ро┐ timer родро┐роЯрпНроЯроорпН ро╡рпЖро▒рпНро▒ро┐роХро░рооро╛роХ роорпБроЯро┐роирпНродродрпБ!

---

**роХрпБро▒ро┐рокрпНрокрпБ**:  
роЗроирпНрод роЖро╡рогроорпН [Co-op Translator](https://github.com/Azure/co-op-translator) роОройрпНро▒ AI роорпКро┤ро┐рокрпЖропро░рпНрокрпНрокрпБ роЪрпЗро╡рпИропрпИ рокропройрпНрокроЯрпБродрпНродро┐ роорпКро┤ро┐рокрпЖропро░рпНроХрпНроХрокрпНрокроЯрпНроЯрпБро│рпНро│родрпБ. роиро╛роЩрпНроХро│рпН родрпБро▓рпНро▓ро┐ропродрпНродро┐ро▒рпНроХро╛роХ роорпБропро▒рпНроЪро┐роХрпНроХро┐ройрпНро▒рпЛроорпН, роЖройро╛ро▓рпН родро╛ройро┐ропроЩрпНроХро┐ роорпКро┤ро┐рокрпЖропро░рпНрокрпНрокрпБроХро│ро┐ро▓рпН рокро┐ро┤рпИроХро│рпН роЕро▓рпНро▓родрпБ родро╡ро▒ро╛рой родроХро╡ро▓рпНроХро│рпН роЗро░рпБроХрпНроХроХрпНроХрпВроЯрпБроорпН роОройрпНрокродрпИ роХро╡ройродрпНродро┐ро▓рпН роХрпКро│рпНро│ро╡рпБроорпН. роЕродройрпН родро╛ропрпНроорпКро┤ро┐ропро┐ро▓рпН роЙро│рпНро│ роорпВро▓ роЖро╡рогроорпН роЕродро┐роХро╛ро░рокрпНрокрпВро░рпНро╡ роЖродро╛ро░рооро╛роХ роХро░рпБродрокрпНрокроЯ ро╡рпЗрогрпНроЯрпБроорпН. роорпБроХрпНроХро┐ропрооро╛рой родроХро╡ро▓рпНроХро│рпБроХрпНроХрпБ, родрпКро┤ро┐ро▓рпНроорпБро▒рпИ рооройро┐род роорпКро┤ро┐рокрпЖропро░рпНрокрпНрокрпБ рокро░ро┐роирпНродрпБро░рпИроХрпНроХрокрпНрокроЯрпБроХро┐ро▒родрпБ. роЗроирпНрод роорпКро┤ро┐рокрпЖропро░рпНрокрпНрокрпИрокрпН рокропройрпНрокроЯрпБродрпНродрпБро╡родро╛ро▓рпН роПро▒рпНрокроЯрпБроорпН роОроирпНрод родро╡ро▒ро╛рой рокрпБро░ро┐родро▓рпНроХро│рпН роЕро▓рпНро▓родрпБ родро╡ро▒ро╛рой ро╡ро┐ро│роХрпНроХроЩрпНроХро│рпБроХрпНроХрпБ роиро╛роЩрпНроХро│рпН рокрпКро▒рпБрокрпНрокро▓рпНро▓.