<!--
CO_OP_TRANSLATOR_METADATA:
{
  "original_hash": "2bf65f162bcebd35fbcba5fd245afac4",
  "translation_date": "2025-10-11T12:24:50+00:00",
  "source_file": "2-farm/lessons/2-detect-soil-moisture/virtual-device-soil-moisture.md",
  "language_code": "ta"
}
-->
# роорогрпН роИро░рокрпНрокродродрпНродрпИ роЕро│ро╡ро┐роЯрпБродро▓рпН - роорпЖропрпНроиро┐роХро░рпН IoT роЪро╛родройроорпН

роЗроирпНрод рокро╛роЯродрпНродро┐ройрпН роЗроирпНрод рокроХрпБродро┐ропро┐ро▓рпН, роЙроЩрпНроХро│рпН роорпЖропрпНроиро┐роХро░рпН IoT роЪро╛родройродрпНродро┐ро▓рпН роТро░рпБ роХрокрпНрокро╛роЪро┐роЯрпНроЯро┐ро╡рпН роорогрпН роИро░рокрпНрокродроорпН роЪрпЖройрпНроЪро░рпИ роЪрпЗро░рпНродрпНродрпБ, роЕродро┐ро▓ро┐ро░рпБроирпНродрпБ роородро┐рокрпНрокрпБроХро│рпИрокрпН рокроЯро┐роХрпНроХрокрпН рокрпЛроХро┐ро▒рпАро░рпНроХро│рпН.

## роорпЖропрпНроиро┐роХро░рпН ро╣ро╛ро░рпНроЯрпНро╡рпЗро░рпНроХро│рпН

роорпЖропрпНроиро┐роХро░рпН IoT роЪро╛родройроорпН роЪро┐роорпБро▓рпЗроЯрпНроЯроЯрпН Grove роХрокрпНрокро╛роЪро┐роЯрпНроЯро┐ро╡рпН роорогрпН роИро░рокрпНрокродроорпН роЪрпЖройрпНроЪро░рпИрокрпН рокропройрпНрокроЯрпБродрпНродрпБроорпН. роЗродрпБ Raspberry Pi рооро▒рпНро▒рпБроорпН роТро░рпБ рокро┐роЪро┐роХро▓рпН Grove роХрокрпНрокро╛роЪро┐роЯрпНроЯро┐ро╡рпН роорогрпН роИро░рокрпНрокродроорпН роЪрпЖройрпНроЪро░рпИрокрпН рокропройрпНрокроЯрпБродрпНродрпБро╡родро▒рпНроХро╛рой роЕройрпБрокро╡родрпНродрпИ роТро░рпЗ рооро╛родро┐ро░ро┐ропро╛роХ ро╡рпИродрпНродро┐ро░рпБроХрпНроХро┐ро▒родрпБ.

роТро░рпБ рокро┐роЪро┐роХро▓рпН IoT роЪро╛родройродрпНродро┐ро▓рпН, роорогрпН роИро░рокрпНрокродроорпН роЪрпЖройрпНроЪро░рпН роорогрпНрогро┐ройрпН роИро░рокрпНрокродродрпНродрпИ роЕродройрпН роХрокрпНрокро╛роЪро┐роЯрпНроЯройрпНро╕рпН роорпВро▓роорпН роЕро│ро╡ро┐роЯрпБроорпН роХрокрпНрокро╛роЪро┐роЯрпНроЯро┐ро╡рпН роЪрпЖройрпНроЪро░ро╛роХ роЗро░рпБроХрпНроХрпБроорпН. роорогрпНрогро┐ройрпН роИро░рокрпНрокродроорпН роЕродро┐роХро░ро┐роХрпНроХрпБроорпНрокрпЛродрпБ, рооро┐ройрпНройро┤рпБродрпНродроорпН роХрпБро▒рпИропрпБроорпН.

роЗродрпБ роТро░рпБ роЕройро▓ро╛роХрпН роЪрпЖройрпНроЪро░рпН, роОройро╡рпЗ 10-рокро┐роЯрпН ADC роорпВро▓роорпН 1-1,023 ро╡ро░рпИропро┐ро▓ро╛рой роородро┐рокрпНрокрпИ роЕро│ро┐роХрпНроХро┐ро▒родрпБ.

### CounterFit-роХрпНроХрпБ роорогрпН роИро░рокрпНрокродроорпН роЪрпЖройрпНроЪро░рпИроЪрпН роЪрпЗро░рпНроХрпНроХро╡рпБроорпН

роорпЖропрпНроиро┐роХро░рпН роорогрпН роИро░рокрпНрокродроорпН роЪрпЖройрпНроЪро░рпИрокрпН рокропройрпНрокроЯрпБродрпНрод, роЕродрпИ CounterFit роЪрпЖропро▓ро┐ропро┐ро▓рпН роЪрпЗро░рпНроХрпНроХ ро╡рпЗрогрпНроЯрпБроорпН.

#### рокрогро┐роХро│рпН - CounterFit-роХрпНроХрпБ роорогрпН роИро░рокрпНрокродроорпН роЪрпЖройрпНроЪро░рпИроЪрпН роЪрпЗро░рпНроХрпНроХро╡рпБроорпН

CounterFit роЪрпЖропро▓ро┐ропро┐ро▓рпН роорогрпН роИро░рокрпНрокродроорпН роЪрпЖройрпНроЪро░рпИроЪрпН роЪрпЗро░рпНроХрпНроХро╡рпБроорпН.

1. роЙроЩрпНроХро│рпН роХрогро┐ройро┐ропро┐ро▓рпН `soil-moisture-sensor` роОройрпНро▒ роХрпЛрокрпНрокрпБро▒рпИропро┐ро▓рпН роТро░рпБ рокрпБродро┐роп Python роЪрпЖропро▓ро┐ропрпИ роЙро░рпБро╡ро╛роХрпНроХро┐, `app.py` роОройрпНро▒ роТро░рпБ роХрпЛрокрпНрокрпБроЯройрпН Python роорпЖропрпНроиро┐роХро░рпН роЪрпВро┤ро▓рпИ роЙро░рпБро╡ро╛роХрпНроХро┐, CounterFit pip родрпКроХрпБрокрпНрокрпБроХро│рпИроЪрпН роЪрпЗро░рпНроХрпНроХро╡рпБроорпН.

    > тЪая╕П [CounterFit Python родро┐роЯрпНроЯродрпНродрпИ роЙро░рпБро╡ро╛роХрпНроХрпБро╡родро▒рпНроХрпБроорпН роЕроорпИрокрпНрокродро▒рпНроХрпБроорпН рокро╛роЯроорпН 1-роЗро▓рпН роЙро│рпНро│ ро╡ро┤ро┐роорпБро▒рпИроХро│рпИрокрпН рокро╛ро░рпНроХрпНроХро▓ро╛роорпН](../../../1-getting-started/lessons/1-introduction-to-iot/virtual-device.md).

1. CounterFit ро╡ро▓рпИ роЪрпЖропро▓ро┐ роЗропроЩрпНроХрпБроХро┐ро▒родро╛ роОройрпНрокродрпИ роЙро▒рпБродро┐рокрпНрокроЯрпБродрпНродро╡рпБроорпН.

1. роорогрпН роИро░рокрпНрокродроорпН роЪрпЖройрпНроЪро░рпИ роЙро░рпБро╡ро╛роХрпНроХро╡рпБроорпН:

    1. *Sensors* рокроХрпБродро┐ропро┐ройрпН *Create sensor* рокрпЖроЯрпНроЯро┐ропро┐ро▓рпН, *Sensor type* рокрпЖроЯрпНроЯро┐ропрпИродрпН родро┐ро▒роирпНродрпБ *Soil Moisture* роОройрпНрокродрпИродрпН родрпЗро░рпНроирпНродрпЖроЯрпБроХрпНроХро╡рпБроорпН.

    1. *Units* роР *NoUnits* роЖроХро╡рпЗ ро╡ро┐роЯрпНроЯрпБ ро╡ро┐роЯро╡рпБроорпН.

    1. *Pin* роР *0* роЖроХ роЕроорпИродрпНродро┐ро░рпБроХрпНроХро┐ро▒родро╛ роОройрпНрокродрпИ роЙро▒рпБродро┐рокрпНрокроЯрпБродрпНродро╡рпБроорпН.

    1. **Add** рокрпКродрпНродро╛ройрпИродрпН родрпЗро░рпНроирпНродрпЖроЯрпБродрпНродрпБ Pin 0-ро▓рпН *Soil Moisture* роЪрпЖройрпНроЪро░рпИ роЙро░рпБро╡ро╛роХрпНроХро╡рпБроорпН.

    ![роорогрпН роИро░рокрпНрокродроорпН роЪрпЖройрпНроЪро░рпН роЕроорпИрокрпНрокрпБроХро│рпН](../../../../../translated_images/counterfit-create-soil-moisture-sensor.35266135a5e0ae68b29a684d7db0d2933a8098b2307d197f7c71577b724603aa.ta.png)

    роорогрпН роИро░рокрпНрокродроорпН роЪрпЖройрпНроЪро░рпН роЙро░рпБро╡ро╛роХрпНроХрокрпНрокроЯрпНроЯрпБ роЪрпЖройрпНроЪро░рпНроХро│рпН рокроЯрпНроЯро┐ропро▓ро┐ро▓рпН родрпЛройрпНро▒рпБроорпН.

    ![роорогрпН роИро░рокрпНрокродроорпН роЪрпЖройрпНроЪро░рпН роЙро░рпБро╡ро╛роХрпНроХрокрпНрокроЯрпНроЯродрпБ](../../../../../translated_images/counterfit-soil-moisture-sensor.81742b2de0e9de60a3b3b9a2ff8ecc686d428eb6d71820f27a693be26e5aceee.ta.png)

## роорогрпН роИро░рокрпНрокродроорпН роЪрпЖройрпНроЪро░рпН роЪрпЖропро▓ро┐ропрпИ роиро┐ро░ро▓ро╛роХрпНроХро╡рпБроорпН

роорогрпН роИро░рокрпНрокродроорпН роЪрпЖройрпНроЪро░рпН роЪрпЖропро▓ро┐ропрпИ роЗрокрпНрокрпЛродрпБ CounterFit роЪрпЖройрпНроЪро░рпНроХро│рпИрокрпН рокропройрпНрокроЯрпБродрпНродро┐ роиро┐ро░ро▓ро╛роХрпНроХро▓ро╛роорпН.

### рокрогро┐роХро│рпН - роорогрпН роИро░рокрпНрокродроорпН роЪрпЖройрпНроЪро░рпН роЪрпЖропро▓ро┐ропрпИ роиро┐ро░ро▓ро╛роХрпНроХро╡рпБроорпН

роорогрпН роИро░рокрпНрокродроорпН роЪрпЖройрпНроЪро░рпН роЪрпЖропро▓ро┐ропрпИ роиро┐ро░ро▓ро╛роХрпНроХро╡рпБроорпН.

1. `soil-moisture-sensor` роЪрпЖропро▓ро┐ VS Code-роЗро▓рпН родро┐ро▒роирпНродро┐ро░рпБрокрпНрокродрпИ роЙро▒рпБродро┐рокрпНрокроЯрпБродрпНродро╡рпБроорпН.

1. `app.py` роХрпЛрокрпНрокрпИродрпН родро┐ро▒роХрпНроХро╡рпБроорпН.

1. CounterFit-роХрпНроХрпБ роЪрпЖропро▓ро┐ропрпИ роЗрогрпИроХрпНроХ `app.py` роХрпЛрокрпНрокро┐ройрпН роорпЗро▓рпН рокро┐ройрпНро╡ро░рпБроорпН роХрпБро▒ро┐ропрпАроЯрпНроЯрпИроЪрпН роЪрпЗро░рпНроХрпНроХро╡рпБроорпН:

    ```python
    from counterfit_connection import CounterFitConnection
    CounterFitConnection.init('127.0.0.1', 5000)
    ```

1. `app.py` роХрпЛрокрпНрокро┐ро▓рпН родрпЗро╡рпИропро╛рой роирпВро▓роХроЩрпНроХро│рпИ роЗро▒роХрпНроХрпБроородро┐ роЪрпЖропрпНроп рокро┐ройрпНро╡ро░рпБроорпН роХрпБро▒ро┐ропрпАроЯрпНроЯрпИроЪрпН роЪрпЗро░рпНроХрпНроХро╡рпБроорпН:

    ```python
    import time
    from counterfit_shims_grove.adc import ADC
    ```

    `import time` роЕро▒ро┐роХрпНроХрпИропро╛ро▓рпН `time` рооро╛роЯрпНропрпВро▓рпН роЗро▒роХрпНроХрпБроородро┐ роЪрпЖропрпНропрокрпНрокроЯрпБроХро┐ро▒родрпБ, роЗродрпБ рокро┐ройрпНройро░рпН роЗроирпНрод рокрогро┐ропро┐ро▓рпН рокропройрпНрокроЯрпБродрпНродрокрпНрокроЯрпБроорпН.

    `from counterfit_shims_grove.adc import ADC` роЕро▒ро┐роХрпНроХрпИропро╛ро▓рпН CounterFit роЪрпЖройрпНроЪро░рпБроЯройрпН роЗрогрпИроХрпНроХроХрпНроХрпВроЯро┐роп роорпЖропрпНроиро┐роХро░рпН роЕройро▓ро╛роХрпН роЯрпБ роЯро┐роЬро┐роЯрпНроЯро▓рпН роХройрпНро╡рпЖро░рпНроЯро░рпИрокрпН рокропройрпНрокроЯрпБродрпНрод `ADC` ро╡роХрпБрокрпНрокрпБ роЗро▒роХрпНроХрпБроородро┐ роЪрпЖропрпНропрокрпНрокроЯрпБроХро┐ро▒родрпБ.

1. `ADC` ро╡роХрпБрокрпНрокро┐ройрпН роТро░рпБ роЙродро╛ро░рогродрпНродрпИ роЙро░рпБро╡ро╛роХрпНроХ рокро┐ройрпНро╡ро░рпБроорпН роХрпБро▒ро┐ропрпАроЯрпНроЯрпИ роЗродро▒рпНроХрпБ роХрпАро┤рпЗ роЪрпЗро░рпНроХрпНроХро╡рпБроорпН:

    ```python
    adc = ADC()
    ```

1. Pin 0-ро▓рпН роЗроирпНрод ADC-ропро┐ро▓ро┐ро░рпБроирпНродрпБ рокроЯро┐роХрпНроХрпБроорпН рооро▒рпНро▒рпБроорпН роорпБроЯро┐ро╡рпБроХро│рпИ роХройрпНроЪрпЛро▓ро┐ро▓рпН роОро┤рпБродрпБроорпН роТро░рпБ роорпБроЯро┐ро╡ро┐ро▓рпНро▓ро╛ ро▓рпВрокрпНрокрпИроЪрпН роЪрпЗро░рпНроХрпНроХро╡рпБроорпН. роЗроирпНрод ро▓рпВрокрпН рокро┐ройрпНройро░рпН рокроЯро┐рокрпНрокрпБроХро│рпБроХрпНроХрпБ роЗроЯрпИропро┐ро▓рпН 10 ро╡ро┐роиро╛роЯро┐роХро│рпН родрпВроЩрпНроХро▓ро╛роорпН.

    ```python
    while True:
        soil_moisture = adc.read(0)
        print("Soil moisture:", soil_moisture)
    
        time.sleep(10)
    ```

1. CounterFit роЪрпЖропро▓ро┐ропро┐ро▓рпН, роЪрпЖропро▓ро┐ рокроЯро┐роХрпНроХрпБроорпН роорогрпН роИро░рокрпНрокродроорпН роЪрпЖройрпНроЪро░ро┐ройрпН роородро┐рокрпНрокрпИ рооро╛ро▒рпНро▒ро╡рпБроорпН. роЗродрпИ роЗро░рогрпНроЯрпБ ро╡ро┤ро┐роХро│ро┐ро▓рпН роЪрпЖропрпНропро▓ро╛роорпН:

    * роорогрпН роИро░рокрпНрокродроорпН роЪрпЖройрпНроЪро░рпБроХрпНроХро╛рой *Value* рокрпЖроЯрпНроЯро┐ропро┐ро▓рпН роТро░рпБ роОрогрпНрогрпИ роЙро│рпНро│ро┐роЯро╡рпБроорпН, рокро┐ройрпНройро░рпН **Set** рокрпКродрпНродро╛ройрпИродрпН родрпЗро░рпНроирпНродрпЖроЯрпБроХрпНроХро╡рпБроорпН. роирпАроЩрпНроХро│рпН роЙро│рпНро│ро┐роЯрпБроорпН роОрогрпН роЪрпЖройрпНроЪро░ро╛ро▓рпН родро┐ро░рпБрокрпНрокро┐ роЕройрпБрокрпНрокрокрпНрокроЯрпБроорпН роородро┐рокрпНрокро╛роХ роЗро░рпБроХрпНроХрпБроорпН.

    * *Random* роЪрпЖроХрпНрокро╛роХрпНро╕рпИроЪрпН роЪро░ро┐рокро╛ро░рпНродрпНродрпБ, *Min* рооро▒рпНро▒рпБроорпН *Max* роородро┐рокрпНрокрпБроХро│рпИ роЙро│рпНро│ро┐роЯро╡рпБроорпН, рокро┐ройрпНройро░рпН **Set** рокрпКродрпНродро╛ройрпИродрпН родрпЗро░рпНроирпНродрпЖроЯрпБроХрпНроХро╡рпБроорпН. роТро╡рпНро╡рпКро░рпБ роорпБро▒рпИропрпБроорпН роЪрпЖройрпНроЪро░рпН роТро░рпБ роородро┐рокрпНрокрпИрокрпН рокроЯро┐роХрпНроХрпБроорпНрокрпЛродрпБ, роЕродрпБ *Min* рооро▒рпНро▒рпБроорпН *Max* роЗроЯрпИропро┐ро▓ро╛рой роТро░рпБ роЪрпАро░ро▒рпНро▒ роОрогрпНрогрпИ рокроЯро┐роХрпНроХрпБроорпН.

1. Python роЪрпЖропро▓ро┐ропрпИ роЗропроХрпНроХро╡рпБроорпН. роорогрпН роИро░рокрпНрокродроорпН роЕро│ро╡рпАроЯрпБроХро│рпН роХройрпНроЪрпЛро▓ро┐ро▓рпН роОро┤рпБродрокрпНрокроЯрпНроЯро┐ро░рпБроХрпНроХрпБроорпН. *Value* роЕро▓рпНро▓родрпБ *Random* роЕроорпИрокрпНрокрпБроХро│рпИ рооро╛ро▒рпНро▒ро┐ роородро┐рокрпНрокрпБ рооро╛ро▒рпБро╡родрпИрокрпН рокро╛ро░рпБроЩрпНроХро│рпН.

    ```output
    (.venv) тЮЬ soil-moisture-sensor $ python app.py 
    Soil moisture: 615
    Soil moisture: 612
    Soil moisture: 498
    Soil moisture: 493
    Soil moisture: 490
    Soil Moisture: 388
    ```

> ЁЯТБ роЗроирпНрод роХрпБро▒ро┐ропрпАроЯрпНроЯрпИ [code/virtual-device](../../../../../2-farm/lessons/2-detect-soil-moisture/code/virtual-device) роХрпЛрокрпНрокрпБро▒рпИропро┐ро▓рпН роХро╛рогро▓ро╛роорпН.

ЁЯША роЙроЩрпНроХро│рпН роорогрпН роИро░рокрпНрокродроорпН роЪрпЖройрпНроЪро░рпН роЪрпЖропро▓ро┐ ро╡рпЖро▒рпНро▒ро┐роХро░рооро╛роХ роорпБроЯро┐роирпНродродрпБ!

---

**роХрпБро▒ро┐рокрпНрокрпБ**:  
роЗроирпНрод роЖро╡рогроорпН [Co-op Translator](https://github.com/Azure/co-op-translator) роОройрпНро▒ AI роорпКро┤ро┐рокрпЖропро░рпНрокрпНрокрпБ роЪрпЗро╡рпИропрпИрокрпН рокропройрпНрокроЯрпБродрпНродро┐ роорпКро┤ро┐рокрпЖропро░рпНроХрпНроХрокрпНрокроЯрпНроЯрпБро│рпНро│родрпБ. роиро╛роЩрпНроХро│рпН родрпБро▓рпНро▓ро┐ропродрпНродро┐ро▒рпНроХро╛роХ роорпБропро▒рпНроЪро┐роХрпНроХро┐ро▒рпЛроорпН, роЖройро╛ро▓рпН родро╛ройро┐ропроХрпНроХ роорпКро┤ро┐рокрпЖропро░рпНрокрпНрокрпБроХро│ро┐ро▓рпН рокро┐ро┤рпИроХро│рпН роЕро▓рпНро▓родрпБ родро╡ро▒ро╛рой родроХро╡ро▓рпНроХро│рпН роЗро░рпБроХрпНроХроХрпНроХрпВроЯрпБроорпН роОройрпНрокродрпИ роХро╡ройродрпНродро┐ро▓рпН роХрпКро│рпНро│ро╡рпБроорпН. роЕродройрпН родро╛ропрпНроорпКро┤ро┐ропро┐ро▓рпН роЙро│рпНро│ роорпВро▓ роЖро╡рогроорпН роЕродро┐роХро╛ро░рокрпНрокрпВро░рпНро╡ роЖродро╛ро░рооро╛роХ роХро░рпБродрокрпНрокроЯ ро╡рпЗрогрпНроЯрпБроорпН. роорпБроХрпНроХро┐ропрооро╛рой родроХро╡ро▓рпНроХро│рпБроХрпНроХрпБ, родрпКро┤ро┐ро▓рпНроорпБро▒рпИ рооройро┐род роорпКро┤ро┐рокрпЖропро░рпНрокрпНрокрпБ рокро░ро┐роирпНродрпБро░рпИроХрпНроХрокрпНрокроЯрпБроХро┐ро▒родрпБ. роЗроирпНрод роорпКро┤ро┐рокрпЖропро░рпНрокрпНрокрпИрокрпН рокропройрпНрокроЯрпБродрпНродрпБро╡родро╛ро▓рпН роПро▒рпНрокроЯрпБроорпН роОроирпНрод родро╡ро▒ро╛рой рокрпБро░ро┐родро▓рпНроХро│рпН роЕро▓рпНро▓родрпБ родро╡ро▒ро╛рой ро╡ро┐ро│роХрпНроХроЩрпНроХро│рпБроХрпНроХрпБ роиро╛роЩрпНроХро│рпН рокрпКро▒рпБрокрпНрокро▓рпНро▓.