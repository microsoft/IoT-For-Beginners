<!--
CO_OP_TRANSLATOR_METADATA:
{
  "original_hash": "5f2d2f4a5a023c93ab34a0cc5b47c0c4",
  "translation_date": "2025-08-28T11:09:59+00:00",
  "source_file": "2-farm/lessons/5-migrate-application-to-the-cloud/README.md",
  "language_code": "bg"
}
-->
# –ú–∏–≥—Ä–∏—Ä–∞–π—Ç–µ –ª–æ–≥–∏–∫–∞—Ç–∞ –Ω–∞ –≤–∞—à–µ—Ç–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∫—ä–º –æ–±–ª–∞–∫–∞

![–°–∫–∏—Ü–∞ –Ω–∞ —É—Ä–æ–∫–∞](../../../../../translated_images/lesson-9.dfe99c8e891f48e179724520da9f5794392cf9a625079281ccdcbf09bd85e1b6.bg.jpg)

> –°–∫–∏—Ü–∞ –æ—Ç [Nitya Narasimhan](https://github.com/nitya). –ö–ª–∏–∫–Ω–µ—Ç–µ –≤—ä—Ä—Ö—É –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ—Ç–æ –∑–∞ –ø–æ-–≥–æ–ª—è–º–∞ –≤–µ—Ä—Å–∏—è.

–¢–æ–∑–∏ —É—Ä–æ–∫ –±–µ—à–µ —á–∞—Å—Ç –æ—Ç [IoT –∑–∞ –Ω–∞—á–∏–Ω–∞–µ—â–∏ –ü—Ä–æ–µ–∫—Ç 2 - –°–µ—Ä–∏—è –∑–∞ –¥–∏–≥–∏—Ç–∞–ª–Ω–æ –∑–µ–º–µ–¥–µ–ª–∏–µ](https://youtube.com/playlist?list=PLmsFUfdnGr3yCutmcVg6eAUEfsGiFXgcx) –æ—Ç [Microsoft Reactor](https://developer.microsoft.com/reactor/?WT.mc_id=academic-17441-jabenn).

[![–ö–æ–Ω—Ç—Ä–æ–ª–∏—Ä–∞–π—Ç–µ –≤–∞—à–µ—Ç–æ IoT —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ —Å—ä—Å serverless –∫–æ–¥](https://img.youtube.com/vi/VVZDcs5u1_I/0.jpg)](https://youtu.be/VVZDcs5u1_I)

## –¢–µ—Å—Ç –ø—Ä–µ–¥–∏ —É—Ä–æ–∫–∞

[–¢–µ—Å—Ç –ø—Ä–µ–¥–∏ —É—Ä–æ–∫–∞](https://black-meadow-040d15503.1.azurestaticapps.net/quiz/17)

## –í—ä–≤–µ–¥–µ–Ω–∏–µ

–í –ø—Ä–µ–¥–∏—à–Ω–∏—è —É—Ä–æ–∫ –Ω–∞—É—á–∏—Ö—Ç–µ –∫–∞–∫ –¥–∞ —Å–≤—ä—Ä–∂–µ—Ç–µ –≤–∞—à–∏—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –Ω–∞ –≤–ª–∞–∂–Ω–æ—Å—Ç—Ç–∞ –Ω–∞ –ø–æ—á–≤–∞—Ç–∞ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ —Ä–µ–ª–µ –∫—ä–º –æ–±–ª–∞—á–Ω–∞ IoT —É—Å–ª—É–≥–∞. –°–ª–µ–¥–≤–∞—â–∞—Ç–∞ —Å—Ç—ä–ø–∫–∞ –µ –¥–∞ –ø—Ä–µ–º–µ—Å—Ç–∏—Ç–µ —Å—ä—Ä–≤—ä—Ä–Ω–∏—è –∫–æ–¥, –∫–æ–π—Ç–æ –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä–∞ –≤—Ä–µ–º–µ—Ç–æ –Ω–∞ —Ä–µ–ª–µ—Ç–æ, –≤ –æ–±–ª–∞–∫–∞. –í —Ç–æ–∑–∏ —É—Ä–æ–∫ —â–µ –Ω–∞—É—á–∏—Ç–µ –∫–∞–∫ –¥–∞ –Ω–∞–ø—Ä–∞–≤–∏—Ç–µ —Ç–æ–≤–∞, –∏–∑–ø–æ–ª–∑–≤–∞–π–∫–∏ serverless —Ñ—É–Ω–∫—Ü–∏–∏.

–í —Ç–æ–∑–∏ —É—Ä–æ–∫ —â–µ —Ä–∞–∑–≥–ª–µ–¥–∞–º–µ:

* [–ö–∞–∫–≤–æ –µ serverless?](../../../../../2-farm/lessons/5-migrate-application-to-the-cloud)
* [–°—ä–∑–¥–∞–≤–∞–Ω–µ –Ω–∞ serverless –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ](../../../../../2-farm/lessons/5-migrate-application-to-the-cloud)
* [–°—ä–∑–¥–∞–≤–∞–Ω–µ –Ω–∞ IoT Hub —Ç—Ä–∏–≥–µ—Ä](../../../../../2-farm/lessons/5-migrate-application-to-the-cloud)
* [–ò–∑–ø—Ä–∞—â–∞–Ω–µ –Ω–∞ –¥–∏—Ä–µ–∫—Ç–Ω–∏ –∑–∞—è–≤–∫–∏ –æ—Ç serverless –∫–æ–¥](../../../../../2-farm/lessons/5-migrate-application-to-the-cloud)
* [–î–µ–ø–ª–æ–π –Ω–∞ –≤–∞—à–∏—è serverless –∫–æ–¥ –≤ –æ–±–ª–∞–∫–∞](../../../../../2-farm/lessons/5-migrate-application-to-the-cloud)

## –ö–∞–∫–≤–æ –µ serverless?

Serverless, –∏–ª–∏ serverless –∏–∑—á–∏—Å–ª–µ–Ω–∏—è, –≤–∫–ª—é—á–≤–∞ —Å—ä–∑–¥–∞–≤–∞–Ω–µ—Ç–æ –Ω–∞ –º–∞–ª–∫–∏ –±–ª–æ–∫–æ–≤–µ –∫–æ–¥, –∫–æ–∏—Ç–æ —Å–µ –∏–∑–ø—ä–ª–Ω—è–≤–∞—Ç –≤ –æ–±–ª–∞–∫–∞ –≤ –æ—Ç–≥–æ–≤–æ—Ä –Ω–∞ —Ä–∞–∑–ª–∏—á–Ω–∏ –≤–∏–¥–æ–≤–µ —Å—ä–±–∏—Ç–∏—è. –ö–æ–≥–∞—Ç–æ —Å—ä–±–∏—Ç–∏–µ—Ç–æ —Å–µ —Å–ª—É—á–∏, –≤–∞—à–∏—è—Ç –∫–æ–¥ —Å–µ –∏–∑–ø—ä–ª–Ω—è–≤–∞ –∏ –ø–æ–ª—É—á–∞–≤–∞ –¥–∞–Ω–Ω–∏ –∑–∞ —Å—ä–±–∏—Ç–∏–µ—Ç–æ. –¢–µ–∑–∏ —Å—ä–±–∏—Ç–∏—è –º–æ–≥–∞—Ç –¥–∞ –±—ä–¥–∞—Ç –æ—Ç —Ä–∞–∑–ª–∏—á–Ω–∏ –∏–∑—Ç–æ—á–Ω–∏—Ü–∏, –≤–∫–ª—é—á–∏—Ç–µ–ª–Ω–æ —É–µ–± –∑–∞—è–≤–∫–∏, —Å—ä–æ–±—â–µ–Ω–∏—è –≤ –æ–ø–∞—à–∫–∞, –ø—Ä–æ–º–µ–Ω–∏ –≤ –±–∞–∑–∞ –¥–∞–Ω–Ω–∏ –∏–ª–∏ —Å—ä–æ–±—â–µ–Ω–∏—è, –∏–∑–ø—Ä–∞—Ç–µ–Ω–∏ –∫—ä–º IoT —É—Å–ª—É–≥–∞ –æ—Ç IoT —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞.

![–°—ä–±–∏—Ç–∏—è, –∏–∑–ø—Ä–∞—Ç–µ–Ω–∏ –æ—Ç IoT —É—Å–ª—É–≥–∞ –∫—ä–º serverless —É—Å–ª—É–≥–∞, –æ–±—Ä–∞–±–æ—Ç–≤–∞–Ω–∏ –µ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ –æ—Ç –º–Ω–æ–∂–µ—Å—Ç–≤–æ —Ñ—É–Ω–∫—Ü–∏–∏](../../../../../translated_images/iot-messages-to-serverless.0194da1cc0732bb7d0f823aed3fce54735c6b1ad3bf36089804d8aaefc0a774f.bg.png)

> üíÅ –ê–∫–æ —Å—Ç–µ –∏–∑–ø–æ–ª–∑–≤–∞–ª–∏ —Ç—Ä–∏–≥–µ—Ä–∏ –≤ –±–∞–∑–∞ –¥–∞–Ω–Ω–∏, –º–æ–∂–µ—Ç–µ –¥–∞ –º–∏—Å–ª–∏—Ç–µ –∑–∞ —Ç–æ–≤–∞ –∫–∞—Ç–æ –∑–∞ –Ω–µ—â–æ –ø–æ–¥–æ–±–Ω–æ ‚Äì –∫–æ–¥, –∫–æ–π—Ç–æ —Å–µ –∑–∞–¥–µ–π—Å—Ç–≤–∞ –æ—Ç —Å—ä–±–∏—Ç–∏–µ, –∫–∞—Ç–æ –Ω–∞–ø—Ä–∏–º–µ—Ä –¥–æ–±–∞–≤—è–Ω–µ –Ω–∞ —Ä–µ–¥.

![–ö–æ–≥–∞—Ç–æ –º–Ω–æ–≥–æ —Å—ä–±–∏—Ç–∏—è —Å–µ –∏–∑–ø—Ä–∞—Ç—è—Ç –µ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ, serverless —É—Å–ª—É–≥–∞—Ç–∞ —Å–µ –º–∞—â–∞–±–∏—Ä–∞, –∑–∞ –¥–∞ –≥–∏ –æ–±—Ä–∞–±–æ—Ç–∏ –≤—Å–∏—á–∫–∏ –µ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ](../../../../../translated_images/serverless-scaling.f8c769adf0413fd17be1af4f07ff63016b347e2ff869be6c4abb211f9e93909d.bg.png)

–í–∞—à–∏—è—Ç –∫–æ–¥ —Å–µ –∏–∑–ø—ä–ª–Ω—è–≤–∞ —Å–∞–º–æ –∫–æ–≥–∞—Ç–æ —Å—ä–±–∏—Ç–∏–µ—Ç–æ —Å–µ —Å–ª—É—á–∏, –∞ –ø—Ä–µ–∑ –æ—Å—Ç–∞–Ω–∞–ª–æ—Ç–æ –≤—Ä–µ–º–µ –Ω–µ –µ –∞–∫—Ç–∏–≤–µ–Ω. –¢–æ–≤–∞ –ø—Ä–∞–≤–∏ serverless –º–Ω–æ–≥–æ –º–∞—â–∞–±–∏—Ä—É–µ–º–æ ‚Äì –∞–∫–æ –º–Ω–æ–≥–æ —Å—ä–±–∏—Ç–∏—è —Å–µ —Å–ª—É—á–∞—Ç –µ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ, –æ–±–ª–∞—á–Ω–∏—è—Ç –¥–æ—Å—Ç–∞–≤—á–∏–∫ –º–æ–∂–µ –¥–∞ –∏–∑–ø—ä–ª–Ω–∏ –≤–∞—à–∞—Ç–∞ —Ñ—É–Ω–∫—Ü–∏—è —Ç–æ–ª–∫–æ–≤–∞ –ø—ä—Ç–∏, –∫–æ–ª–∫–æ—Ç–æ –µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ, –Ω–∞ —Ä–∞–∑–ª–∏—á–Ω–∏ –Ω–∞–ª–∏—á–Ω–∏ —Å—ä—Ä–≤—ä—Ä–∏. –ù–µ–¥–æ—Å—Ç–∞—Ç—ä–∫—ä—Ç –µ, —á–µ –∞–∫–æ —Ç—Ä—è–±–≤–∞ –¥–∞ —Å–ø–æ–¥–µ–ª—è—Ç–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –º–µ–∂–¥—É —Å—ä–±–∏—Ç–∏—è—Ç–∞, —Ç—Ä—è–±–≤–∞ –¥–∞ —è —Å—ä—Ö—Ä–∞–Ω—è–≤–∞—Ç–µ –Ω—è–∫—ä–¥–µ, –Ω–∞–ø—Ä–∏–º–µ—Ä –≤ –±–∞–∑–∞ –¥–∞–Ω–Ω–∏, –≤–º–µ—Å—Ç–æ –≤ –ø–∞–º–µ—Ç—Ç–∞.

–í–∞—à–∏—è—Ç –∫–æ–¥ —Å–µ –ø–∏—à–µ –∫–∞—Ç–æ —Ñ—É–Ω–∫—Ü–∏—è, –∫–æ—è—Ç–æ –ø—Ä–∏–µ–º–∞ –¥–µ—Ç–∞–π–ª–∏ –∑–∞ —Å—ä–±–∏—Ç–∏–µ—Ç–æ –∫–∞—Ç–æ –ø–∞—Ä–∞–º–µ—Ç—ä—Ä. –ú–æ–∂–µ—Ç–µ –¥–∞ –∏–∑–ø–æ–ª–∑–≤–∞—Ç–µ —à–∏—Ä–æ–∫ –Ω–∞–±–æ—Ä –æ—Ç –ø—Ä–æ–≥—Ä–∞–º–Ω–∏ –µ–∑–∏—Ü–∏ –∑–∞ –ø–∏—Å–∞–Ω–µ –Ω–∞ —Ç–µ–∑–∏ serverless —Ñ—É–Ω–∫—Ü–∏–∏.

> üéì Serverless —á–µ—Å—Ç–æ —Å–µ –Ω–∞—Ä–∏—á–∞ Functions as a Service (FaaS), —Ç—ä–π –∫–∞—Ç–æ –≤—Å—è–∫–æ —Å—ä–±–∏—Ç–∏–µ —Å–µ –∏–º–ø–ª–µ–º–µ–Ω—Ç–∏—Ä–∞ –∫–∞—Ç–æ —Ñ—É–Ω–∫—Ü–∏—è –≤ –∫–æ–¥–∞.

–í—ä–ø—Ä–µ–∫–∏ –∏–º–µ—Ç–æ, serverless –≤—Å—ä—â–Ω–æ—Å—Ç –∏–∑–ø–æ–ª–∑–≤–∞ —Å—ä—Ä–≤—ä—Ä–∏. –ò–º–µ—Ç–æ –∏–¥–≤–∞ –æ—Ç —Ç–æ–≤–∞, —á–µ –∫–∞—Ç–æ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫ –Ω–µ —Å–µ –∏–Ω—Ç–µ—Ä–µ—Å—É–≤–∞—Ç–µ –æ—Ç —Å—ä—Ä–≤—ä—Ä–∏—Ç–µ, –Ω–µ–æ–±—Ö–æ–¥–∏–º–∏ –∑–∞ –∏–∑–ø—ä–ª–Ω–µ–Ω–∏–µ—Ç–æ –Ω–∞ –≤–∞—à–∏—è –∫–æ–¥ ‚Äì –≤–∞–∂–Ω–æ—Ç–æ –µ, —á–µ –∫–æ–¥—ä—Ç –≤–∏ —Å–µ –∏–∑–ø—ä–ª–Ω—è–≤–∞ –≤ –æ—Ç–≥–æ–≤–æ—Ä –Ω–∞ —Å—ä–±–∏—Ç–∏–µ. –û–±–ª–∞—á–Ω–∏—è—Ç –¥–æ—Å—Ç–∞–≤—á–∏–∫ –∏–º–∞ serverless *runtime*, –∫–æ–π—Ç–æ —É–ø—Ä–∞–≤–ª—è–≤–∞ —Ä–∞–∑–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ—Ç–æ –Ω–∞ —Å—ä—Ä–≤—ä—Ä–∏, –º—Ä–µ–∂–∏, —Å—ä—Ö—Ä–∞–Ω–µ–Ω–∏–µ, CPU, –ø–∞–º–µ—Ç –∏ –≤—Å–∏—á–∫–æ –æ—Å—Ç–∞–Ω–∞–ª–æ, –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –∑–∞ –∏–∑–ø—ä–ª–Ω–µ–Ω–∏–µ—Ç–æ –Ω–∞ –≤–∞—à–∏—è –∫–æ–¥. –¢–æ–≤–∞ –æ–∑–Ω–∞—á–∞–≤–∞, —á–µ –Ω–µ –ø–ª–∞—â–∞—Ç–µ –∑–∞ —Å—ä—Ä–≤—ä—Ä, –∞ –∑–∞ –≤—Ä–µ–º–µ—Ç–æ, –ø—Ä–µ–∑ –∫–æ–µ—Ç–æ –∫–æ–¥—ä—Ç –≤–∏ —Å–µ –∏–∑–ø—ä–ª–Ω—è–≤–∞, –∏ –∑–∞ –∏–∑–ø–æ–ª–∑–≤–∞–Ω–∞—Ç–∞ –ø–∞–º–µ—Ç.

> üí∞ Serverless –µ –µ–¥–∏–Ω –æ—Ç –Ω–∞–π-–µ–≤—Ç–∏–Ω–∏—Ç–µ –Ω–∞—á–∏–Ω–∏ –∑–∞ –∏–∑–ø—ä–ª–Ω–µ–Ω–∏–µ –Ω–∞ –∫–æ–¥ –≤ –æ–±–ª–∞–∫–∞. –ù–∞–ø—Ä–∏–º–µ—Ä, –∫—ä–º –º–æ–º–µ–Ω—Ç–∞ –Ω–∞ –ø–∏—Å–∞–Ω–µ, –µ–¥–∏–Ω –æ–±–ª–∞—á–µ–Ω –¥–æ—Å—Ç–∞–≤—á–∏–∫ –ø–æ–∑–≤–æ–ª—è–≤–∞ –≤—Å–∏—á–∫–∏ –≤–∞—à–∏ serverless —Ñ—É–Ω–∫—Ü–∏–∏ –¥–∞ —Å–µ –∏–∑–ø—ä–ª–Ω—è–≤–∞—Ç –æ–±—â–æ 1,000,000 –ø—ä—Ç–∏ –º–µ—Å–µ—á–Ω–æ –±–µ–∑–ø–ª–∞—Ç–Ω–æ, –∞ —Å–ª–µ–¥ —Ç–æ–≤–∞ —Ç–∞–∫—Å—É–≤–∞ $0.20 –∑–∞ –≤—Å–µ–∫–∏ 1,000,000 –∏–∑–ø—ä–ª–Ω–µ–Ω–∏—è. –ö–æ–≥–∞—Ç–æ –∫–æ–¥—ä—Ç –≤–∏ –Ω–µ —Å–µ –∏–∑–ø—ä–ª–Ω—è–≤–∞, –Ω–µ –ø–ª–∞—â–∞—Ç–µ.

–ö–∞—Ç–æ IoT —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫, serverless –º–æ–¥–µ–ª—ä—Ç –µ –∏–¥–µ–∞–ª–µ–Ω. –ú–æ–∂–µ—Ç–µ –¥–∞ –Ω–∞–ø–∏—à–µ—Ç–µ —Ñ—É–Ω–∫—Ü–∏—è, –∫–æ—è—Ç–æ —Å–µ –∏–∑–≤–∏–∫–≤–∞ –≤ –æ—Ç–≥–æ–≤–æ—Ä –Ω–∞ —Å—ä–æ–±—â–µ–Ω–∏—è, –∏–∑–ø—Ä–∞—Ç–µ–Ω–∏ –æ—Ç –≤—Å—è–∫–æ IoT —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ, —Å–≤—ä—Ä–∑–∞–Ω–æ –∫—ä–º –≤–∞—à–∞—Ç–∞ –æ–±–ª–∞—á–Ω–∞ IoT —É—Å–ª—É–≥–∞. –í–∞—à–∏—è—Ç –∫–æ–¥ —â–µ –æ–±—Ä–∞–±–æ—Ç–≤–∞ –≤—Å–∏—á–∫–∏ –∏–∑–ø—Ä–∞—Ç–µ–Ω–∏ —Å—ä–æ–±—â–µ–Ω–∏—è, –Ω–æ —â–µ —Å–µ –∏–∑–ø—ä–ª–Ω—è–≤–∞ —Å–∞–º–æ –∫–æ–≥–∞—Ç–æ –µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ.

‚úÖ –í—ä—Ä–Ω–µ—Ç–µ —Å–µ –∫—ä–º –∫–æ–¥–∞, –∫–æ–π—Ç–æ –Ω–∞–ø–∏—Å–∞—Ö—Ç–µ –∫–∞—Ç–æ —Å—ä—Ä–≤—ä—Ä–µ–Ω –∫–æ–¥ –∑–∞ —Å–ª—É—à–∞–Ω–µ –Ω–∞ —Å—ä–æ–±—â–µ–Ω–∏—è –ø—Ä–µ–∑ MQTT. –ö–∞–∫ –º–∏—Å–ª–∏—Ç–µ, —á–µ —Ç–æ–∑–∏ –∫–æ–¥ –º–æ–∂–µ –¥–∞ —Å–µ –∏–∑–ø—ä–ª–Ω—è–≤–∞ –≤ –æ–±–ª–∞–∫–∞, –∏–∑–ø–æ–ª–∑–≤–∞–π–∫–∏ serverless? –ö–∞–∫–≤–∏ –ø—Ä–æ–º–µ–Ω–∏ –º–æ–∂–µ –¥–∞ —Å–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º–∏, –∑–∞ –¥–∞ –ø–æ–¥–¥—ä—Ä–∂–∞ serverless –∏–∑—á–∏—Å–ª–µ–Ω–∏—è?

> üíÅ Serverless –º–æ–¥–µ–ª—ä—Ç —Å–µ —Ä–∞–∑—à–∏—Ä—è–≤–∞ –∏ –∫—ä–º –¥—Ä—É–≥–∏ –æ–±–ª–∞—á–Ω–∏ —É—Å–ª—É–≥–∏ –æ—Å–≤–µ–Ω –∏–∑–ø—ä–ª–Ω–µ–Ω–∏–µ—Ç–æ –Ω–∞ –∫–æ–¥. –ù–∞–ø—Ä–∏–º–µ—Ä, –≤ –æ–±–ª–∞–∫–∞ —Å–∞ –Ω–∞–ª–∏—á–Ω–∏ serverless –±–∞–∑–∏ –¥–∞–Ω–Ω–∏ —Å –º–æ–¥–µ–ª –Ω–∞ —Ü–µ–Ω–æ–æ–±—Ä–∞–∑—É–≤–∞–Ω–µ, –±–∞–∑–∏—Ä–∞–Ω –Ω–∞ –∑–∞—è–≤–∫–∏—Ç–µ –∫—ä–º –±–∞–∑–∞—Ç–∞ –¥–∞–Ω–Ω–∏, –∫–∞—Ç–æ –∑–∞—è–≤–∫–∏ –∑–∞ —Å–µ–ª–µ–∫—Ü–∏—è –∏–ª–∏ –≤–º—ä–∫–≤–∞–Ω–µ. –¶–µ–Ω–∞—Ç–∞ –æ–±–∏–∫–Ω–æ–≤–µ–Ω–æ –∑–∞–≤–∏—Å–∏ –æ—Ç —Å–ª–æ–∂–Ω–æ—Å—Ç—Ç–∞ –Ω–∞ –∑–∞—è–≤–∫–∞—Ç–∞ ‚Äì –Ω–∞–ø—Ä–∏–º–µ—Ä, —Å–µ–ª–µ–∫—Ü–∏—è –Ω–∞ –µ–¥–∏–Ω —Ä–µ–¥ –ø–æ –ø—ä—Ä–≤–∏—á–µ–Ω –∫–ª—é—á —â–µ —Å—Ç—Ä—É–≤–∞ –ø–æ-–º–∞–ª–∫–æ –æ—Ç —Å–ª–æ–∂–Ω–∞ –æ–ø–µ—Ä–∞—Ü–∏—è —Å –º–Ω–æ–∂–µ—Å—Ç–≤–æ —Ç–∞–±–ª–∏—Ü–∏ –∏ —Ö–∏–ª—è–¥–∏ —Ä–µ–¥–æ–≤–µ.

## –°—ä–∑–¥–∞–≤–∞–Ω–µ –Ω–∞ serverless –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

–£—Å–ª—É–≥–∞—Ç–∞ –∑–∞ serverless –∏–∑—á–∏—Å–ª–µ–Ω–∏—è –æ—Ç Microsoft —Å–µ –Ω–∞—Ä–∏—á–∞ Azure Functions.

![–õ–æ–≥–æ –Ω–∞ Azure Functions](../../../../../translated_images/azure-functions-logo.1cfc8e3204c9c44aaf80fcf406fc8544d80d7f00f8d3e8ed6fed764563e17564.bg.png)

–ö—Ä–∞—Ç–∫–æ—Ç–æ –≤–∏–¥–µ–æ –ø–æ-–¥–æ–ª—É –ø—Ä–µ–¥–æ—Å—Ç–∞–≤—è –ø—Ä–µ–≥–ª–µ–¥ –Ω–∞ Azure Functions.

[![–ü—Ä–µ–≥–ª–µ–¥ –Ω–∞ Azure Functions](https://img.youtube.com/vi/8-jz5f_JyEQ/0.jpg)](https://www.youtube.com/watch?v=8-jz5f_JyEQ)

> üé• –ö–ª–∏–∫–Ω–µ—Ç–µ –≤—ä—Ä—Ö—É –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ—Ç–æ, –∑–∞ –¥–∞ –≥–ª–µ–¥–∞—Ç–µ –≤–∏–¥–µ–æ—Ç–æ.

‚úÖ –û—Ç–¥–µ–ª–µ—Ç–µ –≤—Ä–µ–º–µ –¥–∞ –Ω–∞–ø—Ä–∞–≤–∏—Ç–µ –ø—Ä–æ—É—á–≤–∞–Ω–µ –∏ –ø—Ä–æ—á–µ—Ç–µ—Ç–µ –ø—Ä–µ–≥–ª–µ–¥–∞ –Ω–∞ Azure Functions –≤ [–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è—Ç–∞ –Ω–∞ Microsoft Azure Functions](https://docs.microsoft.com/azure/azure-functions/functions-overview?WT.mc_id=academic-17441-jabenn).

–ó–∞ –¥–∞ –ø–∏—à–µ—Ç–µ Azure Functions, –∑–∞–ø–æ—á–≤–∞—Ç–µ —Å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞ Azure Functions –Ω–∞ –∏–∑–±—Ä–∞–Ω–∏—è –æ—Ç –≤–∞—Å –µ–∑–∏–∫. Azure Functions –ø–æ–¥–¥—ä—Ä–∂–∞ Python, JavaScript, TypeScript, C#, F#, Java –∏ Powershell. –í —Ç–æ–∑–∏ —É—Ä–æ–∫ —â–µ –Ω–∞—É—á–∏—Ç–µ –∫–∞–∫ –¥–∞ –Ω–∞–ø–∏—à–µ—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞ Azure Functions –Ω–∞ Python.

> üíÅ Azure Functions —Å—ä—â–æ –ø–æ–¥–¥—ä—Ä–∂–∞ –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–∞–Ω–∏ –æ–±—Ä–∞–±–æ—Ç—á–∏—Ü–∏, —Ç–∞–∫–∞ —á–µ –º–æ–∂–µ—Ç–µ –¥–∞ –ø–∏—à–µ—Ç–µ —Ñ—É–Ω–∫—Ü–∏–∏ –Ω–∞ –≤—Å–µ–∫–∏ –µ–∑–∏–∫, –∫–æ–π—Ç–æ –ø–æ–¥–¥—ä—Ä–∂–∞ HTTP –∑–∞—è–≤–∫–∏, –≤–∫–ª—é—á–∏—Ç–µ–ª–Ω–æ –ø–æ-—Å—Ç–∞—Ä–∏ –µ–∑–∏—Ü–∏ –∫–∞—Ç–æ COBOL.

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏—è—Ç–∞ –∑–∞ —Ñ—É–Ω–∫—Ü–∏–∏ —Å–µ —Å—ä—Å—Ç–æ—è—Ç –æ—Ç –µ–¥–Ω–∞ –∏–ª–∏ –ø–æ–≤–µ—á–µ *—Ç—Ä–∏–≥–µ—Ä–∏* ‚Äì —Ñ—É–Ω–∫—Ü–∏–∏, –∫–æ–∏—Ç–æ —Ä–µ–∞–≥–∏—Ä–∞—Ç –Ω–∞ —Å—ä–±–∏—Ç–∏—è. –ú–æ–∂–µ—Ç–µ –¥–∞ –∏–º–∞—Ç–µ –º–Ω–æ–∂–µ—Å—Ç–≤–æ —Ç—Ä–∏–≥–µ—Ä–∏ –≤ –µ–¥–Ω–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ, –∫–∞—Ç–æ –≤—Å–∏—á–∫–∏ —Å–ø–æ–¥–µ–ª—è—Ç –æ–±—â–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è. –ù–∞–ø—Ä–∏–º–µ—Ä, –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω–∏—è —Ñ–∞–π–ª –Ω–∞ –≤–∞—à–µ—Ç–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –º–æ–∂–µ—Ç–µ –¥–∞ –∑–∞–¥–∞–¥–µ—Ç–µ –¥–µ—Ç–∞–π–ª–∏ –∑–∞ –≤—Ä—ä–∑–∫–∞ —Å –≤–∞—à–∏—è IoT Hub, –∫–æ–∏—Ç–æ –≤—Å–∏—á–∫–∏ —Ñ—É–Ω–∫—Ü–∏–∏ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ—Ç–æ –º–æ–≥–∞—Ç –¥–∞ –∏–∑–ø–æ–ª–∑–≤–∞—Ç.

### –ó–∞–¥–∞—á–∞ - –∏–Ω—Å—Ç–∞–ª–∏—Ä–∞–Ω–µ –Ω–∞ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏—Ç–µ –∑–∞ Azure Functions

> –ö—ä–º –º–æ–º–µ–Ω—Ç–∞ –Ω–∞ –ø–∏—Å–∞–Ω–µ, –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏—Ç–µ –∑–∞ Azure Functions –Ω–µ —Ä–∞–±–æ—Ç—è—Ç –Ω–∞–ø—ä–ª–Ω–æ –Ω–∞ Apple Silicon —Å Python –ø—Ä–æ–µ–∫—Ç–∏. –©–µ —Ç—Ä—è–±–≤–∞ –¥–∞ –∏–∑–ø–æ–ª–∑–≤–∞—Ç–µ Mac —Å Intel, Windows PC –∏–ª–∏ Linux PC.

–ï–¥–Ω–∞ –æ—Ç —Å—Ç—Ä–∞—Ö–æ—Ç–Ω–∏—Ç–µ —Ñ—É–Ω–∫—Ü–∏–∏ –Ω–∞ Azure Functions –µ, —á–µ –º–æ–∂–µ—Ç–µ –¥–∞ –≥–∏ –∏–∑–ø—ä–ª–Ω—è–≤–∞—Ç–µ –ª–æ–∫–∞–ª–Ω–æ. –°—ä—â–∞—Ç–∞ —Å—Ä–µ–¥–∞ –∑–∞ –∏–∑–ø—ä–ª–Ω–µ–Ω–∏–µ, –∫–æ—è—Ç–æ —Å–µ –∏–∑–ø–æ–ª–∑–≤–∞ –≤ –æ–±–ª–∞–∫–∞, –º–æ–∂–µ –¥–∞ —Å–µ —Å—Ç–∞—Ä—Ç–∏—Ä–∞ –Ω–∞ –≤–∞—à–∏—è –∫–æ–º–ø—é—Ç—ä—Ä, –∫–æ–µ—Ç–æ –≤–∏ –ø–æ–∑–≤–æ–ª—è–≤–∞ –¥–∞ –ø–∏—à–µ—Ç–µ –∫–æ–¥, –∫–æ–π—Ç–æ —Ä–µ–∞–≥–∏—Ä–∞ –Ω–∞ IoT —Å—ä–æ–±—â–µ–Ω–∏—è, –∏ –¥–∞ –≥–æ —Ç–µ—Å—Ç–≤–∞—Ç–µ –ª–æ–∫–∞–ª–Ω–æ. –ú–æ–∂–µ—Ç–µ –¥–æ—Ä–∏ –¥–∞ –¥–µ–±—ä–≥–≤–∞—Ç–µ –∫–æ–¥–∞ —Å–∏, –¥–æ–∫–∞—Ç–æ —Å–µ –æ–±—Ä–∞–±–æ—Ç–≤–∞—Ç —Å—ä–±–∏—Ç–∏—è. –°–ª–µ–¥ –∫–∞—Ç–æ —Å—Ç–µ –¥–æ–≤–æ–ª–Ω–∏ –æ—Ç –∫–æ–¥–∞ —Å–∏, –º–æ–∂–µ—Ç–µ –¥–∞ –≥–æ –¥–µ–ø–ª–æ–π–Ω–µ—Ç–µ –≤ –æ–±–ª–∞–∫–∞.

–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏—Ç–µ –∑–∞ Azure Functions —Å–∞ –Ω–∞–ª–∏—á–Ω–∏ –∫–∞—Ç–æ CLI, –∏–∑–≤–µ—Å—Ç–µ–Ω –∫–∞—Ç–æ Azure Functions Core Tools.

1. –ò–Ω—Å—Ç–∞–ª–∏—Ä–∞–π—Ç–µ Azure Functions Core Tools, —Å–ª–µ–¥–≤–∞–π–∫–∏ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏—Ç–µ –≤ [–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è—Ç–∞ –∑–∞ Azure Functions Core Tools](https://docs.microsoft.com/azure/azure-functions/functions-run-local?WT.mc_id=academic-17441-jabenn).

1. –ò–Ω—Å—Ç–∞–ª–∏—Ä–∞–π—Ç–µ —Ä–∞–∑—à–∏—Ä–µ–Ω–∏–µ—Ç–æ –∑–∞ Azure Functions –∑–∞ VS Code. –¢–æ–≤–∞ —Ä–∞–∑—à–∏—Ä–µ–Ω–∏–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤—è –ø–æ–¥–¥—Ä—ä–∂–∫–∞ –∑–∞ —Å—ä–∑–¥–∞–≤–∞–Ω–µ, –¥–µ–±—ä–≥–≤–∞–Ω–µ –∏ –¥–µ–ø–ª–æ–π –Ω–∞ Azure Functions. –í–∏–∂—Ç–µ [–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è—Ç–∞ –∑–∞ —Ä–∞–∑—à–∏—Ä–µ–Ω–∏–µ—Ç–æ –∑–∞ Azure Functions](https://marketplace.visualstudio.com/items?WT.mc_id=academic-17441-jabenn&itemName=ms-azuretools.vscode-azurefunctions) –∑–∞ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –∫–∞–∫ –¥–∞ –≥–æ –∏–Ω—Å—Ç–∞–ª–∏—Ä–∞—Ç–µ.

–ö–æ–≥–∞—Ç–æ –¥–µ–ø–ª–æ–π–Ω–µ—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ—Ç–æ —Å–∏ –≤ –æ–±–ª–∞–∫–∞, —Ç–æ —â–µ –∏–∑–ø–æ–ª–∑–≤–∞ –º–∞–ª–∫–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ–±–ª–∞—á–Ω–æ —Å—ä—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∑–∞ —Å—ä—Ö—Ä–∞–Ω–µ–Ω–∏–µ –Ω–∞ —Ñ–∞–π–ª–æ–≤–µ –∏ –ª–æ–≥–æ–≤–µ. –ö–æ–≥–∞—Ç–æ –∏–∑–ø—ä–ª–Ω—è–≤–∞—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ—Ç–æ –ª–æ–∫–∞–ª–Ω–æ, –º–æ–∂–µ—Ç–µ –¥–∞ –∏–∑–ø–æ–ª–∑–≤–∞—Ç–µ –µ–º—É–ª–∞—Ç–æ—Ä –∑–∞ —Å—ä—Ö—Ä–∞–Ω–µ–Ω–∏–µ, –Ω–∞—Ä–µ—á–µ–Ω [Azurite](https://github.com/Azure/Azurite), –∫–æ–π—Ç–æ –¥–µ–π—Å—Ç–≤–∞ –∫–∞—Ç–æ –æ–±–ª–∞—á–Ω–æ —Å—ä—Ö—Ä–∞–Ω–µ–Ω–∏–µ.

> üéì –í Azure, —Å—ä—Ö—Ä–∞–Ω–µ–Ω–∏–µ—Ç–æ, –∫–æ–µ—Ç–æ Azure Functions –∏–∑–ø–æ–ª–∑–≤–∞, –µ –∞–∫–∞—É–Ω—Ç –∑–∞ —Å—ä—Ö—Ä–∞–Ω–µ–Ω–∏–µ. –¢–µ–∑–∏ –∞–∫–∞—É–Ω—Ç–∏ –º–æ–≥–∞—Ç –¥–∞ —Å—ä—Ö—Ä–∞–Ω—è–≤–∞—Ç —Ñ–∞–π–ª–æ–≤–µ, –¥–∞–Ω–Ω–∏ –≤ —Ç–∞–±–ª–∏—Ü–∏ –∏–ª–∏ –æ–ø–∞—à–∫–∏. –ú–æ–∂–µ—Ç–µ –¥–∞ —Å–ø–æ–¥–µ–ª—è—Ç–µ –µ–¥–∏–Ω –∞–∫–∞—É–Ω—Ç –º–µ–∂–¥—É —Ä–∞–∑–ª–∏—á–Ω–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

1. Azurite –µ Node.js –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ, —Ç–∞–∫–∞ —á–µ —â–µ —Ç—Ä—è–±–≤–∞ –¥–∞ –∏–Ω—Å—Ç–∞–ª–∏—Ä–∞—Ç–µ Node.js. –ú–æ–∂–µ—Ç–µ –¥–∞ –Ω–∞–º–µ—Ä–∏—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –∑–∞ –∏–Ω—Å—Ç–∞–ª–∞—Ü–∏—è –Ω–∞ [—É–µ–±—Å–∞–π—Ç–∞ –Ω–∞ Node.js](https://nodejs.org/).

1. –ò–Ω—Å—Ç–∞–ª–∏—Ä–∞–π—Ç–µ Azurite —Å –∫–æ–º–∞–Ω–¥–∞—Ç–∞:

    ```sh
    npm install -g azurite
    ```

1. –°—ä–∑–¥–∞–π—Ç–µ –ø–∞–ø–∫–∞ `azurite` –∑–∞ —Å—ä—Ö—Ä–∞–Ω–µ–Ω–∏–µ –Ω–∞ –¥–∞–Ω–Ω–∏:

    ```sh
    mkdir azurite
    ```

1. –°—Ç–∞—Ä—Ç–∏—Ä–∞–π—Ç–µ Azurite, –∫–∞—Ç–æ –ø–æ—Å–æ—á–∏—Ç–µ –Ω–æ–≤–∞—Ç–∞ –ø–∞–ø–∫–∞:

    ```sh
    azurite --location azurite
    ```

    Azurite —â–µ —Å–µ —Å—Ç–∞—Ä—Ç–∏—Ä–∞ –∏ —â–µ –±—ä–¥–µ –≥–æ—Ç–æ–≤ –∑–∞ –≤—Ä—ä–∑–∫–∞ —Å –ª–æ–∫–∞–ª–Ω–∞—Ç–∞ —Å—Ä–µ–¥–∞ –∑–∞ –∏–∑–ø—ä–ª–Ω–µ–Ω–∏–µ.

    ```output
    ‚ûú  ~ azurite --location azurite  
    Azurite Blob service is starting at http://127.0.0.1:10000
    Azurite Blob service is successfully listening at http://127.0.0.1:10000
    Azurite Queue service is starting at http://127.0.0.1:10001
    Azurite Queue service is successfully listening at http://127.0.0.1:10001
    Azurite Table service is starting at http://127.0.0.1:10002
    Azurite Table service is successfully listening at http://127.0.0.1:10002
    ```

### –ó–∞–¥–∞—á–∞ - —Å—ä–∑–¥–∞–≤–∞–Ω–µ –Ω–∞ –ø—Ä–æ–µ–∫—Ç –∑–∞ Azure Functions

CLI –∑–∞ Azure Functions –º–æ–∂–µ –¥–∞ —Å–µ –∏–∑–ø–æ–ª–∑–≤–∞ –∑–∞ —Å—ä–∑–¥–∞–≤–∞–Ω–µ –Ω–∞ –Ω–æ–≤–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ.

1. –°—ä–∑–¥–∞–π—Ç–µ –ø–∞–ø–∫–∞ –∑–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ—Ç–æ –∏ –Ω–∞–≤–∏–≥–∏—Ä–∞–π—Ç–µ –¥–æ –Ω–µ—è. –ù–∞—Ä–µ—á–µ—Ç–µ —è `soil-moisture-trigger`:

    ```sh
    mkdir soil-moisture-trigger
    cd soil-moisture-trigger
    ```

1. –°—ä–∑–¥–∞–π—Ç–µ Python –≤–∏—Ä—Ç—É–∞–ª–Ω–∞ —Å—Ä–µ–¥–∞ –≤ —Ç–∞–∑–∏ –ø–∞–ø–∫–∞:

    ```sh
    python3 -m venv .venv
    ```

1. –ê–∫—Ç–∏–≤–∏—Ä–∞–π—Ç–µ –≤–∏—Ä—Ç—É–∞–ª–Ω–∞—Ç–∞ —Å—Ä–µ–¥–∞:

    * –í Windows:
        * –ê–∫–æ –∏–∑–ø–æ–ª–∑–≤–∞—Ç–µ Command Prompt, –∏–∑–ø—ä–ª–Ω–µ—Ç–µ:

            ```cmd
            .venv\Scripts\activate.bat
            ```

        * –ê–∫–æ –∏–∑–ø–æ–ª–∑–≤–∞—Ç–µ PowerShell, –∏–∑–ø—ä–ª–Ω–µ—Ç–µ:

            ```powershell
            .\.venv\Scripts\Activate.ps1
            ```

    * –í macOS –∏–ª–∏ Linux, –∏–∑–ø—ä–ª–Ω–µ—Ç–µ:

        ```cmd
        source ./.venv/bin/activate
        ```

1. –°—ä–∑–¥–∞–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞ —Ñ—É–Ω–∫—Ü–∏–∏ –≤ —Ç–∞–∑–∏ –ø–∞–ø–∫–∞:

    ```sh
    func init --worker-runtime python soil-moisture-trigger
    ```

    –¢–æ–≤–∞ —â–µ —Å—ä–∑–¥–∞–¥–µ —Ç—Ä–∏ —Ñ–∞–π–ª–∞:

    * `host.json` - —Å—ä–¥—ä—Ä–∂–∞ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∑–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ—Ç–æ.
    * `local.settings.json` - —Å—ä–¥—ä—Ä–∂–∞ –ª–æ–∫–∞–ª–Ω–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏, –∫–∞—Ç–æ –≤—Ä—ä–∑–∫–∏ –∫—ä–º IoT Hub.
    * `requirements.txt` - —Ñ–∞–π–ª —Å –Ω–µ–æ–±—Ö–æ–¥–∏–º–∏—Ç–µ Pip –ø–∞–∫–µ—Ç–∏.

1. –ê–∫—Ç—É–∞–ª–∏–∑–∏—Ä–∞–π—Ç–µ `local.settings.json`, –∑–∞ –¥–∞ —Å–µ —Å–≤—ä—Ä–∂–µ —Å Azurite:

    ```json
    "AzureWebJobsStorage": "UseDevelopmentStorage=true",
    ```

1. –ò–Ω—Å—Ç–∞–ª–∏—Ä–∞–π—Ç–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–∏—Ç–µ Pip –ø–∞–∫–µ—Ç–∏:

    ```sh
    pip install -r requirements.txt
    ```

1. –°—Ç–∞—Ä—Ç–∏—Ä–∞–π—Ç–µ —Å—Ä–µ–¥–∞—Ç–∞ –∑–∞ –∏–∑–ø—ä–ª–Ω–µ–Ω–∏–µ, –∑–∞ –¥–∞ —Ç–µ—Å—Ç–≤–∞—Ç–µ:

    ```sh
    func start
    ```

    –©–µ –≤–∏–¥–∏—Ç–µ, —á–µ —Å—Ä–µ–¥–∞—Ç–∞ —Å–µ —Å—Ç–∞—Ä—Ç–∏—Ä–∞ –∏ —Å—ä–æ–±—â–∞–≤–∞, —á–µ –Ω–µ —Å–∞ –Ω–∞–º–µ—Ä–µ–Ω–∏ —Ñ—É–Ω–∫—Ü–∏–∏.

    ```output
    (.venv) ‚ûú  soil-moisture-trigger func start
    Found Python version 3.9.1 (python3).
    
    Azure Functions Core Tools
    Core Tools Version:       3.0.3442 Commit hash: 6bfab24b2743f8421475d996402c398d2fe4a9e0  (64-bit)
    Function Runtime Version: 3.0.15417.0
    
    [2021-05-05T01:24:46.795Z] No job functions found.
    ```
> ‚ö†Ô∏è –ê–∫–æ –ø–æ–ª—É—á–∏—Ç–µ –∏–∑–≤–µ—Å—Ç–∏–µ –æ—Ç –∑–∞—â–∏—Ç–Ω–∞—Ç–∞ —Å—Ç–µ–Ω–∞, –¥–∞–π—Ç–µ –¥–æ—Å—Ç—ä–ø, —Ç—ä–π –∫–∞—Ç–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ—Ç–æ `func` —Ç—Ä—è–±–≤–∞ –¥–∞ –º–æ–∂–µ –¥–∞ —á–µ—Ç–µ –∏ –∑–∞–ø–∏—Å–≤–∞ –≤ –º—Ä–µ–∂–∞—Ç–∞ –≤–∏.
> ‚ö†Ô∏è –ê–∫–æ –∏–∑–ø–æ–ª–∑–≤–∞—Ç–µ macOS, –º–æ–∂–µ –¥–∞ —Å–µ –ø–æ—è–≤—è—Ç –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è –≤ –∏–∑—Ö–æ–¥–∞:
>
> ```output
    > (.venv) ‚ûú  soil-moisture-trigger func start
    > Found Python version 3.9.1 (python3).
    >
    > Azure Functions Core Tools
    > Core Tools Version:       3.0.3442 Commit hash: 6bfab24b2743f8421475d996402c398d2fe4a9e0  (64-bit)
    > Function Runtime Version: 3.0.15417.0
    >
    > [2021-06-16T08:18:28.315Z] Cannot create directory for shared memory usage: /dev/shm/AzureFunctions
    > [2021-06-16T08:18:28.316Z] System.IO.FileSystem: Access to the path '/dev/shm/AzureFunctions' is denied. Operation not permitted.
    > [2021-06-16T08:18:30.361Z] No job functions found.
    > ```
>
> –ú–æ–∂–µ—Ç–µ –¥–∞ –≥–∏ –∏–≥–Ω–æ—Ä–∏—Ä–∞—Ç–µ, —Å—Ç–∏–≥–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ—Ç–æ Functions –¥–∞ —Å—Ç–∞—Ä—Ç–∏—Ä–∞ –ø—Ä–∞–≤–∏–ª–Ω–æ –∏ –¥–∞ –ø–æ–∫–∞–∑–≤–∞ —Ä–∞–±–æ—Ç–µ—â–∏—Ç–µ —Ñ—É–Ω–∫—Ü–∏–∏. –ö–∞–∫—Ç–æ –µ —Å–ø–æ–º–µ–Ω–∞—Ç–æ –≤ [—Ç–æ–∑–∏ –≤—ä–ø—Ä–æ—Å –≤ Microsoft Docs Q&A](https://docs.microsoft.com/answers/questions/396617/azure-functions-core-tools-error-osx-devshmazurefu.html?WT.mc_id=academic-17441-jabenn), —Ç–æ–≤–∞ –º–æ–∂–µ –¥–∞ –±—ä–¥–µ –ø—Ä–µ–Ω–µ–±—Ä–µ–≥–Ω–∞—Ç–æ.

1. –°–ø—Ä–µ—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ—Ç–æ Functions, –∫–∞—Ç–æ –Ω–∞—Ç–∏—Å–Ω–µ—Ç–µ `ctrl+c`.

1. –û—Ç–≤–æ—Ä–µ—Ç–µ —Ç–µ–∫—É—â–∞—Ç–∞ –ø–∞–ø–∫–∞ –≤—ä–≤ VS Code, –∫–∞—Ç–æ –∏–ª–∏ —Å—Ç–∞—Ä—Ç–∏—Ä–∞—Ç–µ VS Code –∏ —Å–ª–µ–¥ —Ç–æ–≤–∞ –æ—Ç–≤–æ—Ä–∏—Ç–µ —Ç–∞–∑–∏ –ø–∞–ø–∫–∞, –∏–ª–∏ –∏–∑–ø—ä–ª–Ω–∏—Ç–µ —Å–ª–µ–¥–Ω–∞—Ç–∞ –∫–æ–º–∞–Ω–¥–∞:

    ```sh
    code .
    ```

    VS Code —â–µ —Ä–∞–∑–ø–æ–∑–Ω–∞–µ –≤–∞—à–∏—è –ø—Ä–æ–µ–∫—Ç –∑–∞ Functions –∏ —â–µ –ø–æ–∫–∞–∂–µ –∏–∑–≤–µ—Å—Ç–∏–µ —Å—ä—Å —Å–ª–µ–¥–Ω–æ—Ç–æ —Å—ä–æ–±—â–µ–Ω–∏–µ:

    ```output
    Detected an Azure Functions Project in folder "soil-moisture-trigger" that may have been created outside of
    VS Code. Initialize for optimal use with VS Code?
    ```

    ![–ò–∑–≤–µ—Å—Ç–∏–µ—Ç–æ](../../../../../translated_images/vscode-azure-functions-init-notification.bd19b49229963edb5311fb3a79445ea469424759d2917ee2f2eb6f92d65d5086.bg.png)

    –ò–∑–±–µ—Ä–µ—Ç–µ **Yes** –æ—Ç —Ç–æ–≤–∞ –∏–∑–≤–µ—Å—Ç–∏–µ.

1. –£–≤–µ—Ä–µ—Ç–µ —Å–µ, —á–µ –≤–∏—Ä—Ç—É–∞–ª–Ω–∞—Ç–∞ —Å—Ä–µ–¥–∞ –Ω–∞ Python —Ä–∞–±–æ—Ç–∏ –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–∞ –Ω–∞ VS Code. –ê–∫–æ –µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ, —è —Å–ø—Ä–µ—Ç–µ –∏ —Ä–µ—Å—Ç–∞—Ä—Ç–∏—Ä–∞–π—Ç–µ.

## –°—ä–∑–¥–∞–≤–∞–Ω–µ –Ω–∞ —Ç—Ä–∏–≥–µ—Ä –∑–∞ —Å—ä–±–∏—Ç–∏—è –æ—Ç IoT Hub

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ—Ç–æ Functions –µ –æ–±–≤–∏–≤–∫–∞—Ç–∞ –Ω–∞ –≤–∞—à–∏—è —Å—ä—Ä–≤—ä—Ä–ª–µ—Å—Å –∫–æ–¥. –ó–∞ –¥–∞ —Ä–µ–∞–≥–∏—Ä–∞—Ç–µ –Ω–∞ —Å—ä–±–∏—Ç–∏—è –æ—Ç IoT Hub, –º–æ–∂–µ—Ç–µ –¥–∞ –¥–æ–±–∞–≤–∏—Ç–µ —Ç—Ä–∏–≥–µ—Ä –∑–∞ IoT Hub –∫—ä–º —Ç–æ–≤–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ. –¢–æ–∑–∏ —Ç—Ä–∏–≥–µ—Ä —Ç—Ä—è–±–≤–∞ –¥–∞ —Å–µ —Å–≤—ä—Ä–∂–µ –∫—ä–º –ø–æ—Ç–æ–∫–∞ –æ—Ç —Å—ä–æ–±—â–µ–Ω–∏—è, –∫–æ–∏—Ç–æ —Å–µ –∏–∑–ø—Ä–∞—â–∞—Ç –∫—ä–º IoT Hub, –∏ –¥–∞ —Ä–µ–∞–≥–∏—Ä–∞ –Ω–∞ —Ç—è—Ö. –ó–∞ –¥–∞ –ø–æ–ª—É—á–∏—Ç–µ —Ç–æ–∑–∏ –ø–æ—Ç–æ–∫ –æ—Ç —Å—ä–æ–±—â–µ–Ω–∏—è, –≤–∞—à–∏—è—Ç —Ç—Ä–∏–≥–µ—Ä —Ç—Ä—è–±–≤–∞ –¥–∞ —Å–µ —Å–≤—ä—Ä–∂–µ –∫—ä–º *event hub compatible endpoint* –Ω–∞ IoT Hub.

IoT Hub –µ –±–∞–∑–∏—Ä–∞–Ω –Ω–∞ –¥—Ä—É–≥–∞ —É—Å–ª—É–≥–∞ –Ω–∞ Azure, –Ω–∞—Ä–µ—á–µ–Ω–∞ Azure Event Hubs. Event Hubs –µ —É—Å–ª—É–≥–∞, –∫–æ—è—Ç–æ –ø–æ–∑–≤–æ–ª—è–≤–∞ –∏–∑–ø—Ä–∞—â–∞–Ω–µ –∏ –ø–æ–ª—É—á–∞–≤–∞–Ω–µ –Ω–∞ —Å—ä–æ–±—â–µ–Ω–∏—è, –∞ IoT Hub —Ä–∞–∑—à–∏—Ä—è–≤–∞ —Ç–∞–∑–∏ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–Ω–æ—Å—Ç —Å –¥–æ–ø—ä–ª–Ω–∏—Ç–µ–ª–Ω–∏ –≤—ä–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –∑–∞ IoT —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞. –ù–∞—á–∏–Ω—ä—Ç, –ø–æ –∫–æ–π—Ç–æ —Å–µ —Å–≤—ä—Ä–∑–≤–∞—Ç–µ, –∑–∞ –¥–∞ —á–µ—Ç–µ—Ç–µ —Å—ä–æ–±—â–µ–Ω–∏—è –æ—Ç IoT Hub, –µ —Å—ä—â–∏—è—Ç –∫–∞—Ç–æ –ø—Ä–∏ –∏–∑–ø–æ–ª–∑–≤–∞–Ω–µ –Ω–∞ Event Hubs.

‚úÖ –ù–∞–ø—Ä–∞–≤–µ—Ç–µ –ø—Ä–æ—É—á–≤–∞–Ω–µ: –ü—Ä–æ—á–µ—Ç–µ—Ç–µ –æ–±—â–∏—è –ø—Ä–µ–≥–ª–µ–¥ –Ω–∞ Event Hubs –≤ [–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è—Ç–∞ –∑–∞ Azure Event Hubs](https://docs.microsoft.com/azure/event-hubs/event-hubs-about?WT.mc_id=academic-17441-jabenn). –ö–∞–∫ –æ—Å–Ω–æ–≤–Ω–∏—Ç–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Å–µ —Å—Ä–∞–≤–Ω—è–≤–∞—Ç —Å —Ç–µ–∑–∏ –Ω–∞ IoT Hub?

–ó–∞ –¥–∞ —Å–µ —Å–≤—ä—Ä–∂–µ IoT —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ —Å IoT Hub, —Ç–æ —Ç—Ä—è–±–≤–∞ –¥–∞ –∏–∑–ø–æ–ª–∑–≤–∞ —Ç–∞–µ–Ω –∫–ª—é—á, –∫–æ–π—Ç–æ –≥–∞—Ä–∞–Ω—Ç–∏—Ä–∞, —á–µ —Å–∞–º–æ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ –º–æ–≥–∞—Ç –¥–∞ —Å–µ —Å–≤—ä—Ä–∂–∞—Ç. –°—ä—â–æ—Ç–æ –≤–∞–∂–∏ –∏ –ø—Ä–∏ —Å–≤—ä—Ä–∑–≤–∞–Ω–µ –∑–∞ —á–µ—Ç–µ–Ω–µ –Ω–∞ —Å—ä–æ–±—â–µ–Ω–∏—è ‚Äì –≤–∞—à–∏—è—Ç –∫–æ–¥ —â–µ —Å–µ –Ω—É–∂–¥–∞–µ –æ—Ç connection string, –∫–æ–π—Ç–æ —Å—ä–¥—ä—Ä–∂–∞ —Ç–∞–µ–Ω –∫–ª—é—á, –∫–∞–∫—Ç–æ –∏ –¥–µ—Ç–∞–π–ª–∏ –∑–∞ IoT Hub.

> üíÅ –ü–æ –ø–æ–¥—Ä–∞–∑–±–∏—Ä–∞–Ω–µ connection string, –∫–æ–π—Ç–æ –ø–æ–ª—É—á–∞–≤–∞—Ç–µ, –∏–º–∞ –ø—Ä–∞–≤–∞ **iothubowner**, –∫–æ–µ—Ç–æ –¥–∞–≤–∞ –Ω–∞ –≤—Å–µ–∫–∏ –∫–æ–¥, –∫–æ–π—Ç–æ –≥–æ –∏–∑–ø–æ–ª–∑–≤–∞, –ø—ä–ª–Ω–∏ –ø—Ä–∞–≤–∞ –≤—ä—Ä—Ö—É IoT Hub. –ò–¥–µ–∞–ª–Ω–æ –µ –¥–∞ —Å–µ —Å–≤—ä—Ä–∑–≤–∞—Ç–µ —Å –Ω–∞–π-–Ω–∏—Å–∫–æ—Ç–æ –Ω–∏–≤–æ –Ω–∞ –ø—Ä–∞–≤–∞, –∫–æ–µ—Ç–æ –µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ. –¢–æ–≤–∞ —â–µ –±—ä–¥–µ —Ä–∞–∑–≥–ª–µ–¥–∞–Ω–æ –≤ —Å–ª–µ–¥–≤–∞—â–∏—è —É—Ä–æ–∫.

–°–ª–µ–¥ –∫–∞—Ç–æ –≤–∞—à–∏—è—Ç —Ç—Ä–∏–≥–µ—Ä —Å–µ —Å–≤—ä—Ä–∂–µ, –∫–æ–¥—ä—Ç –≤—ä—Ç—Ä–µ –≤—ä–≤ —Ñ—É–Ω–∫—Ü–∏—è—Ç–∞ —â–µ –±—ä–¥–µ –∏–∑–≤–∏–∫–∞–Ω –∑–∞ –≤—Å—è–∫–æ —Å—ä–æ–±—â–µ–Ω–∏–µ, –∏–∑–ø—Ä–∞—Ç–µ–Ω–æ –∫—ä–º IoT Hub, –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ—Ç–æ, –∫–æ–µ—Ç–æ –≥–æ –µ –∏–∑–ø—Ä–∞—Ç–∏–ª–æ. –¢—Ä–∏–≥–µ—Ä—ä—Ç —â–µ –ø—Ä–µ–¥–∞–¥–µ —Å—ä–æ–±—â–µ–Ω–∏–µ—Ç–æ –∫–∞—Ç–æ –ø–∞—Ä–∞–º–µ—Ç—ä—Ä.

### –ó–∞–¥–∞—á–∞ - –ø–æ–ª—É—á–∞–≤–∞–Ω–µ –Ω–∞ connection string –∑–∞ Event Hub compatible endpoint

1. –û—Ç —Ç–µ—Ä–º–∏–Ω–∞–ª–∞ –Ω–∞ VS Code –∏–∑–ø—ä–ª–Ω–µ—Ç–µ —Å–ª–µ–¥–Ω–∞—Ç–∞ –∫–æ–º–∞–Ω–¥–∞, –∑–∞ –¥–∞ –ø–æ–ª—É—á–∏—Ç–µ connection string –∑–∞ Event Hub compatible endpoint –Ω–∞ IoT Hub:

    ```sh
    az iot hub connection-string show --default-eventhub \
                                      --output table \
                                      --hub-name <hub_name>
    ```

    –ó–∞–º–µ–Ω–µ—Ç–µ `<hub_name>` —Å –∏–º–µ—Ç–æ, –∫–æ–µ—Ç–æ —Å—Ç–µ –∏–∑–ø–æ–ª–∑–≤–∞–ª–∏ –∑–∞ –≤–∞—à–∏—è IoT Hub.

1. –í—ä–≤ VS Code –æ—Ç–≤–æ—Ä–µ—Ç–µ —Ñ–∞–π–ª–∞ `local.settings.json`. –î–æ–±–∞–≤–µ—Ç–µ —Å–ª–µ–¥–Ω–∞—Ç–∞ –¥–æ–ø—ä–ª–Ω–∏—Ç–µ–ª–Ω–∞ —Å—Ç–æ–π–Ω–æ—Å—Ç –≤ —Å–µ–∫—Ü–∏—è—Ç–∞ `Values`:

    ```json
    "IOT_HUB_CONNECTION_STRING": "<connection string>"
    ```

    –ó–∞–º–µ–Ω–µ—Ç–µ `<connection string>` —Å—ä—Å —Å—Ç–æ–π–Ω–æ—Å—Ç—Ç–∞ –æ—Ç –ø—Ä–µ–¥–∏—à–Ω–∞—Ç–∞ —Å—Ç—ä–ø–∫–∞. –©–µ —Ç—Ä—è–±–≤–∞ –¥–∞ –¥–æ–±–∞–≤–∏—Ç–µ –∑–∞–ø–µ—Ç–∞—è —Å–ª–µ–¥ –ø—Ä–µ–¥–∏—à–Ω–∏—è —Ä–µ–¥, –∑–∞ –¥–∞ –Ω–∞–ø—Ä–∞–≤–∏—Ç–µ JSON-–∞ –≤–∞–ª–∏–¥–µ–Ω.

### –ó–∞–¥–∞—á–∞ - —Å—ä–∑–¥–∞–≤–∞–Ω–µ –Ω–∞ —Ç—Ä–∏–≥–µ—Ä –∑–∞ —Å—ä–±–∏—Ç–∏—è

–°–µ–≥–∞ —Å—Ç–µ –≥–æ—Ç–æ–≤–∏ –¥–∞ —Å—ä–∑–¥–∞–¥–µ—Ç–µ —Ç—Ä–∏–≥–µ—Ä–∞ –∑–∞ —Å—ä–±–∏—Ç–∏—è.

1. –û—Ç —Ç–µ—Ä–º–∏–Ω–∞–ª–∞ –Ω–∞ VS Code –∏–∑–ø—ä–ª–Ω–µ—Ç–µ —Å–ª–µ–¥–Ω–∞—Ç–∞ –∫–æ–º–∞–Ω–¥–∞ –æ—Ç –ø–∞–ø–∫–∞—Ç–∞ `soil-moisture-trigger`:

    ```sh
    func new --name iot-hub-trigger --template "Azure Event Hub trigger"
    ```

    –¢–æ–≤–∞ —â–µ —Å—ä–∑–¥–∞–¥–µ –Ω–æ–≤–∞ —Ñ—É–Ω–∫—Ü–∏—è, –Ω–∞—Ä–µ—á–µ–Ω–∞ `iot-hub-trigger`. –¢—Ä–∏–≥–µ—Ä—ä—Ç —â–µ —Å–µ —Å–≤—ä—Ä–∂–µ –∫—ä–º Event Hub compatible endpoint –Ω–∞ IoT Hub, —Ç–∞–∫–∞ —á–µ –º–æ–∂–µ—Ç–µ –¥–∞ –∏–∑–ø–æ–ª–∑–≤–∞—Ç–µ —Ç—Ä–∏–≥–µ—Ä –∑–∞ Event Hub. –ù—è–º–∞ —Å–ø–µ—Ü–∏—Ñ–∏—á–µ–Ω —Ç—Ä–∏–≥–µ—Ä –∑–∞ IoT Hub.

–¢–æ–≤–∞ —â–µ —Å—ä–∑–¥–∞–¥–µ –ø–∞–ø–∫–∞ –≤ `soil-moisture-trigger`, –Ω–∞—Ä–µ—á–µ–Ω–∞ `iot-hub-trigger`, –∫–æ—è—Ç–æ —Å—ä–¥—ä—Ä–∂–∞ —Ç–∞–∑–∏ —Ñ—É–Ω–∫—Ü–∏—è. –¢–∞–∑–∏ –ø–∞–ø–∫–∞ —â–µ —Å—ä–¥—ä—Ä–∂–∞ —Å–ª–µ–¥–Ω–∏—Ç–µ —Ñ–∞–π–ª–æ–≤–µ:

* `__init__.py` - —Ç–æ–≤–∞ –µ Python —Ñ–∞–π–ª—ä—Ç, –∫–æ–π—Ç–æ —Å—ä–¥—ä—Ä–∂–∞ —Ç—Ä–∏–≥–µ—Ä–∞, –∏–∑–ø–æ–ª–∑–≤–∞–π–∫–∏ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—Ç–∞ Python –∫–æ–Ω–≤–µ–Ω—Ü–∏—è –∑–∞ –∏–º–µ–Ω—É–≤–∞–Ω–µ –Ω–∞ —Ñ–∞–π–ª–æ–≤–µ, –∑–∞ –¥–∞ –ø—Ä–µ–≤—ä—Ä–Ω–µ —Ç–∞–∑–∏ –ø–∞–ø–∫–∞ –≤ Python –º–æ–¥—É–ª.

    –¢–æ–∑–∏ —Ñ–∞–π–ª —â–µ —Å—ä–¥—ä—Ä–∂–∞ —Å–ª–µ–¥–Ω–∏—è –∫–æ–¥:

    ```python
    import logging

    import azure.functions as func


    def main(event: func.EventHubEvent):
        logging.info('Python EventHub trigger processed an event: %s',
                    event.get_body().decode('utf-8'))
    ```

    –û—Å–Ω–æ–≤–∞—Ç–∞ –Ω–∞ —Ç—Ä–∏–≥–µ—Ä–∞ –µ —Ñ—É–Ω–∫—Ü–∏—è—Ç–∞ `main`. –ò–º–µ–Ω–Ω–æ —Ç–∞–∑–∏ —Ñ—É–Ω–∫—Ü–∏—è —Å–µ –∏–∑–≤–∏–∫–≤–∞ —Å—ä—Å —Å—ä–±–∏—Ç–∏—è—Ç–∞ –æ—Ç IoT Hub. –¢–∞–∑–∏ —Ñ—É–Ω–∫—Ü–∏—è –∏–º–∞ –ø–∞—Ä–∞–º–µ—Ç—ä—Ä, –Ω–∞—Ä–µ—á–µ–Ω `event`, –∫–æ–π—Ç–æ —Å—ä–¥—ä—Ä–∂–∞ `EventHubEvent`. –í—Å–µ–∫–∏ –ø—ä—Ç, –∫–æ–≥–∞—Ç–æ —Å—ä–æ–±—â–µ–Ω–∏–µ —Å–µ –∏–∑–ø—Ä–∞—Ç–∏ –∫—ä–º IoT Hub, —Ç–∞–∑–∏ —Ñ—É–Ω–∫—Ü–∏—è —Å–µ –∏–∑–≤–∏–∫–≤–∞, –∫–∞—Ç–æ –ø—Ä–µ–¥–∞–≤–∞ —Ç–æ–≤–∞ —Å—ä–æ–±—â–µ–Ω–∏–µ –∫–∞—Ç–æ `event`, –∑–∞–µ–¥–Ω–æ —Å—ä—Å —Å–≤–æ–π—Å—Ç–≤–∞, –∫–æ–∏—Ç–æ —Å–∞ —Å—ä—â–∏—Ç–µ –∫–∞—Ç–æ –∞–Ω–æ—Ç–∞—Ü–∏–∏—Ç–µ, –∫–æ–∏—Ç–æ –≤–∏–¥—è—Ö—Ç–µ –≤ –ø—Ä–µ–¥–∏—à–Ω–∏—è —É—Ä–æ–∫.

    –û—Å–Ω–æ–≤–∞—Ç–∞ –Ω–∞ —Ç–∞–∑–∏ —Ñ—É–Ω–∫—Ü–∏—è –µ –¥–∞ –∑–∞–ø–∏—Å–≤–∞ —Å—ä–±–∏—Ç–∏–µ—Ç–æ –≤ –ª–æ–≥–æ–≤–µ—Ç–µ.

* `function.json` - —Ç–æ–∑–∏ —Ñ–∞–π–ª —Å—ä–¥—ä—Ä–∂–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è—Ç–∞ –∑–∞ —Ç—Ä–∏–≥–µ—Ä–∞. –û—Å–Ω–æ–≤–Ω–∞—Ç–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –µ –≤ —Å–µ–∫—Ü–∏—è, –Ω–∞—Ä–µ—á–µ–Ω–∞ `bindings`. Binding –µ —Ç–µ—Ä–º–∏–Ω –∑–∞ –≤—Ä—ä–∑–∫–∞ –º–µ–∂–¥—É Azure Functions –∏ –¥—Ä—É–≥–∏ —É—Å–ª—É–≥–∏ –Ω–∞ Azure. –¢–∞–∑–∏ —Ñ—É–Ω–∫—Ü–∏—è –∏–º–∞ –≤—Ö–æ–¥—è—â binding –∫—ä–º Event Hub - —Ç—è —Å–µ —Å–≤—ä—Ä–∑–≤–∞ —Å Event Hub –∏ –ø–æ–ª—É—á–∞–≤–∞ –¥–∞–Ω–Ω–∏.

    > üíÅ –ú–æ–∂–µ—Ç–µ —Å—ä—â–æ —Ç–∞–∫–∞ –¥–∞ –∏–º–∞—Ç–µ –∏–∑—Ö–æ–¥—è—â–∏ bindings, —Ç–∞–∫–∞ —á–µ –∏–∑—Ö–æ–¥—ä—Ç –Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è—Ç–∞ –¥–∞ —Å–µ –∏–∑–ø—Ä–∞—â–∞ –∫—ä–º –¥—Ä—É–≥–∞ —É—Å–ª—É–≥–∞. –ù–∞–ø—Ä–∏–º–µ—Ä, –º–æ–∂–µ—Ç–µ –¥–∞ –¥–æ–±–∞–≤–∏—Ç–µ –∏–∑—Ö–æ–¥—è—â binding –∫—ä–º –±–∞–∑–∞ –¥–∞–Ω–Ω–∏ –∏ –¥–∞ –≤—ä—Ä–Ω–µ—Ç–µ —Å—ä–±–∏—Ç–∏–µ—Ç–æ –æ—Ç IoT Hub –æ—Ç —Ñ—É–Ω–∫—Ü–∏—è—Ç–∞, –∏ —Ç–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ —â–µ –±—ä–¥–µ –≤–º—ä–∫–Ω–∞—Ç–æ –≤ –±–∞–∑–∞—Ç–∞ –¥–∞–Ω–Ω–∏.

    ‚úÖ –ù–∞–ø—Ä–∞–≤–µ—Ç–µ –ø—Ä–æ—É—á–≤–∞–Ω–µ: –ü—Ä–æ—á–µ—Ç–µ—Ç–µ –∑–∞ bindings –≤ [–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è—Ç–∞ –∑–∞ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏ –Ω–∞ Azure Functions triggers –∏ bindings](https://docs.microsoft.com/azure/azure-functions/functions-triggers-bindings?WT.mc_id=academic-17441-jabenn&tabs=python).

    –°–µ–∫—Ü–∏—è—Ç–∞ `bindings` –≤–∫–ª—é—á–≤–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∑–∞ binding-–∞. –ò–Ω—Ç–µ—Ä–µ—Å–Ω–∏—Ç–µ —Å—Ç–æ–π–Ω–æ—Å—Ç–∏ —Å–∞:

  * `"type": "eventHubTrigger"` - —Ç–æ–≤–∞ —É–∫–∞–∑–≤–∞ –Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è—Ç–∞, —á–µ —Ç—Ä—è–±–≤–∞ –¥–∞ —Å–ª—É—à–∞ —Å—ä–±–∏—Ç–∏—è –æ—Ç Event Hub
  * `"name": "events"` - —Ç–æ–≤–∞ –µ –∏–º–µ—Ç–æ –Ω–∞ –ø–∞—Ä–∞–º–µ—Ç—ä—Ä–∞ –∑–∞ —Å—ä–±–∏—Ç–∏—è—Ç–∞ –æ—Ç Event Hub. –¢–æ–≤–∞ —Å—ä–≤–ø–∞–¥–∞ —Å –∏–º–µ—Ç–æ –Ω–∞ –ø–∞—Ä–∞–º–µ—Ç—ä—Ä–∞ –≤—ä–≤ —Ñ—É–Ω–∫—Ü–∏—è—Ç–∞ `main` –≤ Python –∫–æ–¥–∞.
  * `"direction": "in"` - —Ç–æ–≤–∞ –µ –≤—Ö–æ–¥—è—â binding, –¥–∞–Ω–Ω–∏—Ç–µ –æ—Ç Event Hub –≤–ª–∏–∑–∞—Ç –≤—ä–≤ —Ñ—É–Ω–∫—Ü–∏—è—Ç–∞
  * `"connection": ""` - —Ç–æ–≤–∞ –æ–ø—Ä–µ–¥–µ–ª—è –∏–º–µ—Ç–æ –Ω–∞ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ç–∞, –æ—Ç –∫–æ—è—Ç–æ –¥–∞ —Å–µ –ø—Ä–æ—á–µ—Ç–µ connection string. –ö–æ–≥–∞—Ç–æ —Ä–∞–±–æ—Ç–∏—Ç–µ –ª–æ–∫–∞–ª–Ω–æ, —Ç–æ–≤–∞ —â–µ –ø—Ä–æ—á–µ—Ç–µ —Ç–∞–∑–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –æ—Ç —Ñ–∞–π–ª–∞ `local.settings.json`.

    > üíÅ Connection string –Ω–µ –º–æ–∂–µ –¥–∞ —Å–µ —Å—ä—Ö—Ä–∞–Ω—è–≤–∞ –≤—ä–≤ —Ñ–∞–π–ª–∞ `function.json`, —Ç–æ–π —Ç—Ä—è–±–≤–∞ –¥–∞ —Å–µ —á–µ—Ç–µ –æ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏—Ç–µ. –¢–æ–≤–∞ –µ, –∑–∞ –¥–∞ —Å–µ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—Ç–∏ —Å–ª—É—á–∞–π–Ω–æ –∏–∑–ª–∞–≥–∞–Ω–µ –Ω–∞ connection string.

1. –ü–æ—Ä–∞–¥–∏ [–≥—Ä–µ—à–∫–∞ –≤ —à–∞–±–ª–æ–Ω–∞ –Ω–∞ Azure Functions](https://github.com/Azure/azure-functions-templates/issues/1250), `function.json` –∏–º–∞ –Ω–µ–ø—Ä–∞–≤–∏–ª–Ω–∞ —Å—Ç–æ–π–Ω–æ—Å—Ç –∑–∞ –ø–æ–ª–µ—Ç–æ `cardinality`. –ê–∫—Ç—É–∞–ª–∏–∑–∏—Ä–∞–π—Ç–µ —Ç–æ–≤–∞ –ø–æ–ª–µ –æ—Ç `many` –Ω–∞ `one`:

    ```json
    "cardinality": "one",
    ```

1. –ê–∫—Ç—É–∞–ª–∏–∑–∏—Ä–∞–π—Ç–µ —Å—Ç–æ–π–Ω–æ—Å—Ç—Ç–∞ –Ω–∞ `"connection"` –≤—ä–≤ —Ñ–∞–π–ª–∞ `function.json`, –∑–∞ –¥–∞ —Å–æ—á–∏ –∫—ä–º –Ω–æ–≤–∞—Ç–∞ —Å—Ç–æ–π–Ω–æ—Å—Ç, –∫–æ—è—Ç–æ –¥–æ–±–∞–≤–∏—Ö—Ç–µ –≤ `local.settings.json`:

    ```json
    "connection": "IOT_HUB_CONNECTION_STRING",
    ```

    > üíÅ –ü–æ–º–Ω–µ—Ç–µ - —Ç–æ–≤–∞ —Ç—Ä—è–±–≤–∞ –¥–∞ —Å–æ—á–∏ –∫—ä–º –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ç–∞, –∞ –Ω–µ –¥–∞ —Å—ä–¥—ä—Ä–∂–∞ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª–Ω–∏—è connection string.

1. Connection string —Å—ä–¥—ä—Ä–∂–∞ —Å—Ç–æ–π–Ω–æ—Å—Ç—Ç–∞ `eventHubName`, —Ç–∞–∫–∞ —á–µ —Å—Ç–æ–π–Ω–æ—Å—Ç—Ç–∞ –∑–∞ —Ç–æ–≤–∞ –≤—ä–≤ —Ñ–∞–π–ª–∞ `function.json` —Ç—Ä—è–±–≤–∞ –¥–∞ –±—ä–¥–µ –∏–∑—á–∏—Å—Ç–µ–Ω–∞. –ê–∫—Ç—É–∞–ª–∏–∑–∏—Ä–∞–π—Ç–µ —Ç–∞–∑–∏ —Å—Ç–æ–π–Ω–æ—Å—Ç –Ω–∞ –ø—Ä–∞–∑–µ–Ω –Ω–∏–∑:

    ```json
    "eventHubName": "",
    ```

### –ó–∞–¥–∞—á–∞ - —Å—Ç–∞—Ä—Ç–∏—Ä–∞–Ω–µ –Ω–∞ —Ç—Ä–∏–≥–µ—Ä–∞ –∑–∞ —Å—ä–±–∏—Ç–∏—è

1. –£–≤–µ—Ä–µ—Ç–µ —Å–µ, —á–µ –Ω–µ —Å—Ç–∞—Ä—Ç–∏—Ä–∞—Ç–µ –º–æ–Ω–∏—Ç–æ—Ä–∞ –∑–∞ —Å—ä–±–∏—Ç–∏—è –Ω–∞ IoT Hub. –ê–∫–æ —Ç–æ–π —Ä–∞–±–æ—Ç–∏ –µ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ —Å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ—Ç–æ Functions, –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ—Ç–æ –Ω—è–º–∞ –¥–∞ –º–æ–∂–µ –¥–∞ —Å–µ —Å–≤—ä—Ä–∂–µ –∏ –¥–∞ –æ–±—Ä–∞–±–æ—Ç–≤–∞ —Å—ä–±–∏—Ç–∏—è.

    > üíÅ –ú–Ω–æ–∂–µ—Å—Ç–≤–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –º–æ–≥–∞—Ç –¥–∞ —Å–µ —Å–≤—ä—Ä–∂–∞—Ç –∫—ä–º IoT Hub endpoint-–∏—Ç–µ, –∏–∑–ø–æ–ª–∑–≤–∞–π–∫–∏ —Ä–∞–∑–ª–∏—á–Ω–∏ *consumer groups*. –¢–æ–≤–∞ —â–µ –±—ä–¥–µ —Ä–∞–∑–≥–ª–µ–¥–∞–Ω–æ –≤ –ø–æ-–∫—ä—Å–µ–Ω —É—Ä–æ–∫.

1. –ó–∞ –¥–∞ —Å—Ç–∞—Ä—Ç–∏—Ä–∞—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ—Ç–æ Functions, –∏–∑–ø—ä–ª–Ω–µ—Ç–µ —Å–ª–µ–¥–Ω–∞—Ç–∞ –∫–æ–º–∞–Ω–¥–∞ –æ—Ç —Ç–µ—Ä–º–∏–Ω–∞–ª–∞ –Ω–∞ VS Code:

    ```sh
    func start
    ```

    –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ—Ç–æ Functions —â–µ —Å—Ç–∞—Ä—Ç–∏—Ä–∞ –∏ —â–µ –æ—Ç–∫—Ä–∏–µ —Ñ—É–Ω–∫—Ü–∏—è—Ç–∞ `iot-hub-trigger`. –°–ª–µ–¥ —Ç–æ–≤–∞ —â–µ –æ–±—Ä–∞–±–æ—Ç–∏ –≤—Å–∏—á–∫–∏ —Å—ä–±–∏—Ç–∏—è, –∫–æ–∏—Ç–æ –≤–µ—á–µ —Å–∞ –∏–∑–ø—Ä–∞—Ç–µ–Ω–∏ –∫—ä–º IoT Hub –ø—Ä–µ–∑ –ø–æ—Å–ª–µ–¥–Ω–∏—è –¥–µ–Ω.

    ```output
    (.venv) ‚ûú  soil-moisture-trigger func start
    Found Python version 3.9.1 (python3).
    
    Azure Functions Core Tools
    Core Tools Version:       3.0.3442 Commit hash: 6bfab24b2743f8421475d996402c398d2fe4a9e0  (64-bit)
    Function Runtime Version: 3.0.15417.0
    
    Functions:
    
            iot-hub-trigger: eventHubTrigger
    
    For detailed output, run func with --verbose flag.
    [2021-05-05T02:44:07.517Z] Worker process started and initialized.
    [2021-05-05T02:44:09.202Z] Executing 'Functions.iot-hub-trigger' (Reason='(null)', Id=802803a5-eae9-4401-a1f4-176631456ce4)
    [2021-05-05T02:44:09.205Z] Trigger Details: PartitionId: 0, Offset: 1011240-1011632, EnqueueTimeUtc: 2021-05-04T19:04:04.2030000Z-2021-05-04T19:04:04.3900000Z, SequenceNumber: 2546-2547, Count: 2
    [2021-05-05T02:44:09.352Z] Python EventHub trigger processed an event: {"soil_moisture":628}
    [2021-05-05T02:44:09.354Z] Python EventHub trigger processed an event: {"soil_moisture":624}
    [2021-05-05T02:44:09.395Z] Executed 'Functions.iot-hub-trigger' (Succeeded, Id=802803a5-eae9-4401-a1f4-176631456ce4, Duration=245ms)
    ```

    –í—Å—è–∫–æ –∏–∑–≤–∏–∫–≤–∞–Ω–µ –Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è—Ç–∞ —â–µ –±—ä–¥–µ –æ–±–≥—Ä–∞–¥–µ–Ω–æ –æ—Ç –±–ª–æ–∫–æ–≤–µ `Executing 'Functions.iot-hub-trigger'`/`Executed 'Functions.iot-hub-trigger'` –≤ –∏–∑—Ö–æ–¥–∞, —Ç–∞–∫–∞ —á–µ –º–æ–∂–µ—Ç–µ –¥–∞ –≤–∏–¥–∏—Ç–µ –∫–æ–ª–∫–æ —Å—ä–æ–±—â–µ–Ω–∏—è —Å–∞ –æ–±—Ä–∞–±–æ—Ç–µ–Ω–∏ –≤—ä–≤ –≤—Å—è–∫–æ –∏–∑–≤–∏–∫–≤–∞–Ω–µ –Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è—Ç–∞.

1. –£–≤–µ—Ä–µ—Ç–µ —Å–µ, —á–µ –≤–∞—à–µ—Ç–æ IoT —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ —Ä–∞–±–æ—Ç–∏. –©–µ –≤–∏–¥–∏—Ç–µ –Ω–æ–≤–∏ —Å—ä–æ–±—â–µ–Ω–∏—è –∑–∞ –≤–ª–∞–∂–Ω–æ—Å—Ç –Ω–∞ –ø–æ—á–≤–∞—Ç–∞, –∫–æ–∏—Ç–æ —Å–µ –ø–æ—è–≤—è–≤–∞—Ç –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ—Ç–æ Functions.

1. –°–ø—Ä–µ—Ç–µ –∏ —Ä–µ—Å—Ç–∞—Ä—Ç–∏—Ä–∞–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ—Ç–æ Functions. –©–µ –≤–∏–¥–∏—Ç–µ, —á–µ —Ç–æ –Ω—è–º–∞ –¥–∞ –æ–±—Ä–∞–±–æ—Ç–≤–∞ –ø—Ä–µ–¥–∏—à–Ω–∏ —Å—ä–æ–±—â–µ–Ω–∏—è –æ—Ç–Ω–æ–≤–æ, –∞ —Å–∞–º–æ –Ω–æ–≤–∏ —Å—ä–æ–±—â–µ–Ω–∏—è.

> üíÅ VS Code —Å—ä—â–æ –ø–æ–¥–¥—ä—Ä–∂–∞ –¥–µ–±—ä–≥–≤–∞–Ω–µ –Ω–∞ –≤–∞—à–∏—Ç–µ —Ñ—É–Ω–∫—Ü–∏–∏. –ú–æ–∂–µ—Ç–µ –¥–∞ –∑–∞–¥–∞–¥–µ—Ç–µ —Ç–æ—á–∫–∏ –∑–∞ —Å–ø–∏—Ä–∞–Ω–µ, –∫–∞—Ç–æ –∫–ª–∏–∫–Ω–µ—Ç–µ –≤—ä—Ä—Ö—É –≥—Ä–∞–Ω–∏—Ü–∞—Ç–∞ –¥–æ –Ω–∞—á–∞–ª–æ—Ç–æ –Ω–∞ –≤—Å–µ–∫–∏ —Ä–µ–¥ –æ—Ç –∫–æ–¥–∞, –∏–ª–∏ –∫–∞—Ç–æ –ø–æ—Å—Ç–∞–≤–∏—Ç–µ –∫—É—Ä—Å–æ—Ä–∞ –≤—ä—Ä—Ö—É —Ä–µ–¥ –æ—Ç –∫–æ–¥–∞ –∏ –∏–∑–±–µ—Ä–µ—Ç–µ *Run -> Toggle breakpoint*, –∏–ª–∏ –Ω–∞—Ç–∏—Å–Ω–µ—Ç–µ `F9`. –ú–æ–∂–µ—Ç–µ –¥–∞ —Å—Ç–∞—Ä—Ç–∏—Ä–∞—Ç–µ –¥–µ–±—ä–≥–µ—Ä–∞, –∫–∞—Ç–æ –∏–∑–±–µ—Ä–µ—Ç–µ *Run -> Start debugging*, –Ω–∞—Ç–∏—Å–Ω–µ—Ç–µ `F5`, –∏–ª–∏ –∏–∑–±–µ—Ä–µ—Ç–µ –ø–∞–Ω–µ–ª–∞ *Run and debug* –∏ –Ω–∞—Ç–∏—Å–Ω–µ—Ç–µ –±—É—Ç–æ–Ω–∞ **Start debugging**. –¢–∞–∫–∞ –º–æ–∂–µ—Ç–µ –¥–∞ –≤–∏–¥–∏—Ç–µ –¥–µ—Ç–∞–π–ª–∏—Ç–µ –Ω–∞ –æ–±—Ä–∞–±–æ—Ç–≤–∞–Ω–∏—Ç–µ —Å—ä–±–∏—Ç–∏—è.

#### –û—Ç—Å—Ç—Ä–∞–Ω—è–≤–∞–Ω–µ –Ω–∞ –ø—Ä–æ–±–ª–µ–º–∏

* –ê–∫–æ –ø–æ–ª—É—á–∏—Ç–µ —Å–ª–µ–¥–Ω–∞—Ç–∞ –≥—Ä–µ—à–∫–∞:

    ```output
    The listener for function 'Functions.iot-hub-trigger' was unable to start. Microsoft.WindowsAzure.Storage: Connection refused. System.Net.Http: Connection refused. System.Private.CoreLib: Connection refused.
    ```

    –ü—Ä–æ–≤–µ—Ä–µ—Ç–µ –¥–∞–ª–∏ Azurite —Ä–∞–±–æ—Ç–∏ –∏ –¥–∞–ª–∏ —Å—Ç–µ –∑–∞–¥–∞–ª–∏ `AzureWebJobsStorage` –≤—ä–≤ —Ñ–∞–π–ª–∞ `local.settings.json` –Ω–∞ `UseDevelopmentStorage=true`.

* –ê–∫–æ –ø–æ–ª—É—á–∏—Ç–µ —Å–ª–µ–¥–Ω–∞—Ç–∞ –≥—Ä–µ—à–∫–∞:

    ```output
    System.Private.CoreLib: Exception while executing function: Functions.iot-hub-trigger. System.Private.CoreLib: Result: Failure Exception: AttributeError: 'list' object has no attribute 'get_body'
    ```

    –ü—Ä–æ–≤–µ—Ä–µ—Ç–µ –¥–∞–ª–∏ —Å—Ç–µ –∑–∞–¥–∞–ª–∏ `cardinality` –≤—ä–≤ —Ñ–∞–π–ª–∞ `function.json` –Ω–∞ `one`.

* –ê–∫–æ –ø–æ–ª—É—á–∏—Ç–µ —Å–ª–µ–¥–Ω–∞—Ç–∞ –≥—Ä–µ—à–∫–∞:

    ```output
    Azure.Messaging.EventHubs: The path to an Event Hub may be specified as part of the connection string or as a separate value, but not both.  Please verify that your connection string does not have the `EntityPath` token if you are passing an explicit Event Hub name. (Parameter 'connectionString').
    ```

    –ü—Ä–æ–≤–µ—Ä–µ—Ç–µ –¥–∞–ª–∏ —Å—Ç–µ –∑–∞–¥–∞–ª–∏ `eventHubName` –≤—ä–≤ —Ñ–∞–π–ª–∞ `function.json` –Ω–∞ –ø—Ä–∞–∑–µ–Ω –Ω–∏–∑.

## –ò–∑–ø—Ä–∞—â–∞–Ω–µ –Ω–∞ –∑–∞—è–≤–∫–∏ –∑–∞ –¥–∏—Ä–µ–∫—Ç–Ω–∏ –º–µ—Ç–æ–¥–∏ –æ—Ç —Å—ä—Ä–≤—ä—Ä–ª–µ—Å—Å –∫–æ–¥

–î–æ—Å–µ–≥–∞ –≤–∞—à–µ—Ç–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ Functions —Å–ª—É—à–∞—à–µ —Å—ä–æ–±—â–µ–Ω–∏—è –æ—Ç IoT Hub, –∏–∑–ø–æ–ª–∑–≤–∞–π–∫–∏ Event Hub compatible endpoint. –°–µ–≥–∞ —Ç—Ä—è–±–≤–∞ –¥–∞ –∏–∑–ø—Ä–∞—â–∞—Ç–µ –∫–æ–º–∞–Ω–¥–∏ –∫—ä–º IoT —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ—Ç–æ. –¢–æ–≤–∞ —Å–µ –ø—Ä–∞–≤–∏ —á—Ä–µ–∑ —Ä–∞–∑–ª–∏—á–Ω–∞ –≤—Ä—ä–∑–∫–∞ –∫—ä–º IoT Hub —á—Ä–µ–∑ *Registry Manager*. Registry Manager –µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç, –∫–æ–π—Ç–æ –≤–∏ –ø–æ–∑–≤–æ–ª—è–≤–∞ –¥–∞ –≤–∏–¥–∏—Ç–µ –∫–æ–∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ —Å–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–∞–Ω–∏ –≤ IoT Hub –∏ –¥–∞ –∫–æ–º—É–Ω–∏–∫–∏—Ä–∞—Ç–µ —Å —Ç–µ–∑–∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞, –∫–∞—Ç–æ –∏–∑–ø—Ä–∞—â–∞—Ç–µ —Å—ä–æ–±—â–µ–Ω–∏—è –æ—Ç –æ–±–ª–∞–∫–∞ –∫—ä–º —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ—Ç–æ, –∑–∞—è–≤–∫–∏ –∑–∞ –¥–∏—Ä–µ–∫—Ç–Ω–∏ –º–µ—Ç–æ–¥–∏ –∏–ª–∏ –∞–∫—Ç—É–∞–ª–∏–∑–∏—Ä–∞—Ç–µ device twin. –ú–æ–∂–µ—Ç–µ —Å—ä—â–æ —Ç–∞–∫–∞ –¥–∞ –≥–æ –∏–∑–ø–æ–ª–∑–≤–∞—Ç–µ, –∑–∞ –¥–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–∞—Ç–µ, –∞–∫—Ç—É–∞–ª–∏–∑–∏—Ä–∞—Ç–µ –∏–ª–∏ –∏–∑—Ç—Ä–∏–≤–∞—Ç–µ IoT —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ –æ—Ç IoT Hub.

–ó–∞ –¥–∞ —Å–µ —Å–≤—ä—Ä–∂–µ—Ç–µ —Å Registry Manager, –≤–∏ –µ –Ω–µ–æ–±—Ö–æ–¥–∏–º connection string.

### –ó–∞–¥–∞—á–∞ - –ø–æ–ª—É—á–∞–≤–∞–Ω–µ –Ω–∞ connection string –∑–∞ Registry Manager

1. –ó–∞ –¥–∞ –ø–æ–ª—É—á–∏—Ç–µ connection string, –∏–∑–ø—ä–ª–Ω–µ—Ç–µ —Å–ª–µ–¥–Ω–∞—Ç–∞ –∫–æ–º–∞–Ω–¥–∞:

    ```sh
    az iot hub connection-string show --policy-name service \
                                      --output table \
                                      --hub-name <hub_name>
    ```

    –ó–∞–º–µ–Ω–µ—Ç–µ `<hub_name>` —Å –∏–º–µ—Ç–æ, –∫–æ–µ—Ç–æ —Å—Ç–µ –∏–∑–ø–æ–ª–∑–≤–∞–ª–∏ –∑–∞ –≤–∞—à–∏—è IoT Hub.

    Connection string —Å–µ –∑–∞—è–≤—è–≤–∞ –∑–∞ –ø–æ–ª–∏—Ç–∏–∫–∞—Ç–∞ *ServiceConnect*, –∏–∑–ø–æ–ª–∑–≤–∞–π–∫–∏ –ø–∞—Ä–∞–º–µ—Ç—ä—Ä–∞ `--policy-name service`. –ö–æ–≥–∞—Ç–æ –∑–∞—è–≤—è–≤–∞—Ç–µ connection string, –º–æ–∂–µ—Ç–µ –¥–∞ –ø–æ—Å–æ—á–∏—Ç–µ –∫–∞–∫–≤–∏ –ø—Ä–∞–≤–∞ —â–µ –ø–æ–∑–≤–æ–ª–∏ —Ç–æ–∑–∏ connection string. –ü–æ–ª–∏—Ç–∏–∫–∞—Ç–∞ ServiceConnect –ø–æ–∑–≤–æ–ª—è–≤–∞ –Ω–∞ –≤–∞—à–∏—è –∫–æ–¥ –¥–∞ —Å–µ —Å–≤—ä—Ä–∂–µ –∏ –¥–∞ –∏–∑–ø—Ä–∞—â–∞ —Å—ä–æ–±—â–µ–Ω–∏—è –∫—ä–º IoT —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞.

    ‚úÖ –ù–∞–ø—Ä–∞–≤–µ—Ç–µ –ø—Ä–æ—É—á–≤–∞–Ω–µ: –ü—Ä–æ—á–µ—Ç–µ—Ç–µ –∑–∞ —Ä–∞–∑–ª–∏—á–Ω–∏—Ç–µ –ø–æ–ª–∏—Ç–∏–∫–∏ –≤ [–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è—Ç–∞ –∑–∞ –ø—Ä–∞–≤–∞ –Ω–∞ IoT Hub](https://docs.microsoft.com/azure/iot-hub/iot-hub-devguide-security#iot-hub-permissions?WT.mc_id=academic-17441-jabenn)

1. –í—ä–≤ VS Code –æ—Ç–≤–æ—Ä–µ—Ç–µ —Ñ–∞–π–ª–∞ `local.settings.json`. –î–æ–±–∞–≤–µ—Ç–µ —Å–ª–µ–¥–Ω–∞—Ç–∞ –¥–æ–ø—ä–ª–Ω–∏—Ç–µ–ª–Ω–∞ —Å—Ç–æ–π–Ω–æ—Å—Ç –≤ —Å–µ–∫—Ü–∏—è—Ç–∞ `Values`:

    ```json
    "REGISTRY_MANAGER_CONNECTION_STRING": "<connection string>"
    ```

    –ó–∞–º–µ–Ω–µ—Ç–µ `<connection string>` —Å—ä—Å —Å—Ç–æ–π–Ω–æ—Å—Ç—Ç–∞ –æ—Ç –ø—Ä–µ–¥–∏—à–Ω–∞—Ç–∞ —Å—Ç—ä–ø–∫–∞. –©–µ —Ç—Ä—è–±–≤–∞ –¥–∞ –¥–æ–±–∞–≤–∏—Ç–µ –∑–∞–ø–µ—Ç–∞—è —Å–ª–µ–¥ –ø—Ä–µ–¥–∏—à–Ω–∏—è —Ä–µ–¥, –∑–∞ –¥–∞ –Ω–∞–ø—Ä–∞–≤–∏—Ç–µ JSON-–∞ –≤–∞–ª–∏–¥–µ–Ω.

### –ó–∞–¥–∞—á–∞ - –∏–∑–ø—Ä–∞—â–∞–Ω–µ –Ω–∞ –∑–∞—è–≤–∫–∞ –∑–∞ –¥–∏—Ä–µ–∫—Ç–µ–Ω –º–µ—Ç–æ–¥ –∫—ä–º —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ

1. SDK –∑–∞ Registry Manager –µ –Ω–∞–ª–∏—á–µ–Ω —á—Ä–µ–∑ Pip –ø–∞–∫–µ—Ç. –î–æ–±–∞–≤–µ—Ç–µ —Å–ª–µ–¥–Ω–∏—è —Ä–µ–¥ –∫—ä–º —Ñ–∞–π–ª–∞ `requirements.txt`, –∑–∞ –¥–∞ –¥–æ–±–∞–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—Ç–∞ –∫—ä–º —Ç–æ–∑–∏ –ø–∞–∫–µ—Ç:

    ```sh
    azure-iot-hub
    ```

1. –£–≤–µ—Ä–µ—Ç–µ —Å–µ, —á–µ —Ç–µ—Ä–º–∏–Ω–∞–ª—ä—Ç –Ω–∞ VS Code –∏–º–∞ –∞–∫—Ç–∏–≤–∏—Ä–∞–Ω–∞ –≤–∏—Ä—Ç—É–∞–ª–Ω–∞ —Å—Ä–µ–¥–∞, –∏ –∏–∑–ø—ä–ª–Ω–µ—Ç–µ —Å–ª–µ–¥–Ω–∞—Ç–∞ –∫–æ–º–∞–Ω–¥–∞, –∑–∞ –¥–∞ –∏–Ω—Å—Ç–∞–ª–∏—Ä–∞—Ç–µ Pip –ø–∞–∫–µ—Ç–∏—Ç–µ:

    ```sh
    pip install -r requirements.txt
    ```

1. –î–æ–±–∞–≤–µ—Ç–µ —Å–ª–µ–¥–Ω–∏—Ç–µ –∏–º–ø–æ—Ä—Ç–∏ –∫—ä–º —Ñ–∞–π–ª–∞ `__init__.py`:

    ```python
    import json
    import os
    from azure.iot.hub import IoTHubRegistryManager
    from azure.iot.hub.models import CloudToDeviceMethod
    ```

    –¢–æ–≤–∞ –∏–º–ø–æ—Ä—Ç–∏—Ä–∞ –Ω—è–∫–æ–∏ —Å–∏—Å—Ç–µ–º–Ω–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏, –∫–∞–∫—Ç–æ –∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏—Ç–µ –∑–∞ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å Registry Manager –∏ –∏–∑–ø—Ä–∞—â–∞–Ω–µ –Ω–∞ –∑–∞—è–≤–∫–∏ –∑–∞ –¥–∏—Ä–µ–∫—Ç–Ω–∏ –º–µ—Ç–æ–¥–∏.

1. –ü—Ä–µ–º–∞—Ö–Ω–µ—Ç–µ –∫–æ–¥–∞ –æ—Ç –≤—ä—Ç—Ä–µ—à–Ω–æ—Å—Ç—Ç–∞ –Ω–∞ –º–µ—Ç–æ–¥–∞ `main`, –Ω–æ –∑–∞–ø–∞–∑–µ—Ç–µ —Å–∞–º–∏—è –º–µ—Ç–æ–¥.

1. –í –º–µ—Ç–æ–¥–∞ `main` –¥–æ–±–∞–≤–µ—Ç–µ —Å–ª–µ–¥–Ω–∏—è –∫–æ–¥:

    ```python
    body = json.loads(event.get_body().decode('utf-8'))
    device_id = event.iothub_metadata['connection-device-id']

    logging.info(f'Received message: {body} from {device_id}')
    ```

    –¢–æ–∑–∏ –∫–æ–¥ –∏–∑–≤–ª–∏—á–∞ —Ç—è–ª–æ—Ç–æ –Ω–∞ —Å—ä–±–∏—Ç–∏–µ—Ç–æ, –∫–æ–µ—Ç–æ —Å—ä–¥—ä—Ä–∂–∞ JSON —Å—ä–æ–±—â–µ–Ω–∏–µ—Ç–æ, –∏–∑–ø—Ä–∞—Ç–µ–Ω–æ –æ—Ç IoT —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ—Ç–æ.

    –°–ª–µ–¥ —Ç–æ–≤–∞ –ø–æ–ª—É—á–∞–≤–∞ ID –Ω–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ—Ç–æ –æ—Ç –∞–Ω–æ—Ç–∞—Ü–∏–∏—Ç–µ, –ø—Ä–µ–¥–∞–¥–µ–Ω–∏ —Å—ä—Å —Å—ä–æ–±—â–µ–Ω–∏–µ—Ç–æ. –¢—è–ª–æ—Ç–æ –Ω–∞ —Å—ä–±–∏—Ç–∏–µ—Ç–æ —Å—ä–¥—ä—Ä–∂–∞ —Å—ä–æ–±—â–µ–Ω–∏–µ—Ç–æ, –∏–∑–ø—Ä–∞—Ç–µ–Ω–æ –∫–∞—Ç–æ —Ç–µ–ª–µ–º–µ—Ç—Ä–∏—è, –∞ —Ä–µ—á–Ω–∏–∫—ä—Ç `iothub_metadata` —Å—ä–¥—ä—Ä–∂–∞ —Å–≤–æ–π—Å—Ç–≤–∞, –∑–∞–¥–∞–¥–µ–Ω–∏ –æ—Ç IoT Hub, –∫–∞—Ç–æ –Ω–∞–ø—Ä–∏–º–µ—Ä ID –Ω–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ—Ç–æ-–∏–∑–ø—Ä–∞—â–∞—á –∏ –≤—Ä–µ–º–µ—Ç–æ, –∫–æ–≥–∞—Ç–æ —Å—ä–æ–±—â–µ–Ω–∏–µ—Ç–æ –µ –∏–∑–ø—Ä–∞—Ç–µ–Ω–æ.

    –¢–∞–∑–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è —Å–ª–µ–¥ —Ç–æ–≤–∞ —Å–µ –∑–∞–ø–∏—Å–≤–∞ –≤ –ª–æ–≥–æ–≤–µ—Ç–µ. –©–µ –≤–∏–¥–∏—Ç–µ —Ç–æ–∑–∏ –ª–æ–≥ –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–∞, –∫–æ–≥–∞—Ç–æ —Å—Ç–∞—Ä—Ç–∏—Ä–∞—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ—Ç–æ Function –ª–æ–∫–∞–ª–Ω–æ.

1. –ü–æ–¥ —Ç–æ–≤–∞ –¥–æ–±–∞–≤–µ—Ç–µ —Å–ª–µ–¥–Ω–∏—è –∫–æ–¥:

    ```python
    soil_moisture = body['soil_moisture']

    if soil_moisture > 450:
        direct_method = CloudToDeviceMethod(method_name='relay_on', payload='{}')
    else:
        direct_method = CloudToDeviceMethod(method_name='relay_off', payload='{}')
    ```

    –¢–æ–∑–∏ –∫–æ–¥ –ø–æ–ª—É—á–∞–≤–∞ —Å—Ç–æ–π–Ω–æ—Å—Ç—Ç–∞ –∑–∞ –≤–ª–∞–∂–Ω–æ—Å—Ç—Ç–∞ –Ω–∞ –ø–æ—á–≤–∞—Ç–∞ –æ—Ç —Å—ä–æ–±—â–µ–Ω–∏–µ—Ç–æ. –°–ª–µ–¥ —Ç–æ–≤–∞ –ø—Ä–æ–≤–µ—Ä—è–≤–∞ –≤–ª–∞–∂–Ω–æ—Å—Ç—Ç–∞ –∏ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç –æ—Ç —Å—Ç–æ–π–Ω–æ—Å—Ç—Ç–∞ —Å—ä–∑–¥–∞–≤–∞ –ø–æ–º–æ—â–µ–Ω –∫–ª–∞—Å –∑–∞ –∑–∞—è–≤–∫–∞ –∑–∞ –¥–∏—Ä–µ–∫—Ç–µ–Ω –º–µ—Ç–æ–¥ –∑–∞ `relay_on` –∏–ª–∏ `relay_off`. –ó–∞—è–≤–∫–∞—Ç–∞ –∑–∞ –º–µ—Ç–æ–¥ –Ω–µ –∏–∑–∏—Å–∫–≤–∞ –ø–æ–ª–µ–∑–µ–Ω —Ç–æ–≤–∞—Ä, —Ç–∞–∫–∞ —á–µ —Å–µ –∏–∑–ø—Ä–∞—â–∞ –ø—Ä–∞–∑–µ–Ω JSON –¥–æ–∫—É–º–µ–Ω—Ç.

1. –ü–æ–¥ —Ç–æ–≤–∞ –¥–æ–±–∞–≤–µ—Ç–µ —Å–ª–µ–¥–Ω–∏—è –∫–æ–¥:

    ```python
    logging.info(f'Sending direct method request for {direct_method.method_name} for device {device_id}')

    registry_manager_connection_string = os.environ['REGISTRY_MANAGER_CONNECTION_STRING']
    registry_manager = IoTHubRegistryManager(registry_manager_connection_string)
    ```
–¢–æ–∑–∏ –∫–æ–¥ –∑–∞—Ä–µ–∂–¥–∞ `REGISTRY_MANAGER_CONNECTION_STRING` –æ—Ç —Ñ–∞–π–ª–∞ `local.settings.json`. –°—Ç–æ–π–Ω–æ—Å—Ç–∏—Ç–µ –≤ —Ç–æ–∑–∏ —Ñ–∞–π–ª —Å–∞ –¥–æ—Å—Ç—ä–ø–Ω–∏ –∫–∞—Ç–æ –ø—Ä–æ–º–µ–Ω–ª–∏–≤–∏ –Ω–∞ —Å—Ä–µ–¥–∞—Ç–∞ –∏ –º–æ–≥–∞—Ç –¥–∞ –±—ä–¥–∞—Ç –ø—Ä–æ—á–µ—Ç–µ–Ω–∏ —Å –ø–æ–º–æ—â—Ç–∞ –Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è—Ç–∞ `os.environ`, –∫–æ—è—Ç–æ –≤—Ä—ä—â–∞ —Ä–µ—á–Ω–∏–∫ —Å –≤—Å–∏—á–∫–∏ –ø—Ä–æ–º–µ–Ω–ª–∏–≤–∏ –Ω–∞ —Å—Ä–µ–¥–∞—Ç–∞.

> üíÅ –ö–æ–≥–∞—Ç–æ —Ç–æ–∑–∏ –∫–æ–¥ –±—ä–¥–µ —Ä–∞–∑–ø–æ–ª–æ–∂–µ–Ω –≤ –æ–±–ª–∞–∫–∞, —Å—Ç–æ–π–Ω–æ—Å—Ç–∏—Ç–µ –æ—Ç —Ñ–∞–π–ª–∞ `local.settings.json` —â–µ –±—ä–¥–∞—Ç –∑–∞–¥–∞–¥–µ–Ω–∏ –∫–∞—Ç–æ *Application Settings* –∏ –º–æ–≥–∞—Ç –¥–∞ –±—ä–¥–∞—Ç –ø—Ä–æ—á–µ—Ç–µ–Ω–∏ –æ—Ç –ø—Ä–æ–º–µ–Ω–ª–∏–≤–∏—Ç–µ –Ω–∞ —Å—Ä–µ–¥–∞—Ç–∞.

–ö–æ–¥—ä—Ç —Å–ª–µ–¥ —Ç–æ–≤–∞ —Å—ä–∑–¥–∞–≤–∞ –∏–Ω—Å—Ç–∞–Ω—Ü–∏—è –Ω–∞ –ø–æ–º–æ—â–Ω–∏—è –∫–ª–∞—Å Registry Manager, –∏–∑–ø–æ–ª–∑–≤–∞–π–∫–∏ –≤—Ä—ä–∑–∫–æ–≤–∏—è –Ω–∏–∑.

1. –ü–æ–¥ —Ç–æ–≤–∞ –¥–æ–±–∞–≤–µ—Ç–µ —Å–ª–µ–¥–Ω–∏—è –∫–æ–¥:

    ```python
    registry_manager.invoke_device_method(device_id, direct_method)

    logging.info('Direct method request sent!')
    ```

    –¢–æ–∑–∏ –∫–æ–¥ —É–∫–∞–∑–≤–∞ –Ω–∞ Registry Manager –¥–∞ –∏–∑–ø—Ä–∞—Ç–∏ –∑–∞—è–≤–∫–∞ –∑–∞ –¥–∏—Ä–µ–∫—Ç–µ–Ω –º–µ—Ç–æ–¥ –∫—ä–º —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ—Ç–æ, –∫–æ–µ—Ç–æ –µ –∏–∑–ø—Ä–∞—Ç–∏–ª–æ —Ç–µ–ª–µ–º–µ—Ç—Ä–∏—è—Ç–∞.

    > üíÅ –í –ø—Ä–µ–¥–∏—à–Ω–∏—Ç–µ –≤–µ—Ä—Å–∏–∏ –Ω–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ—Ç–æ, –∫–æ–∏—Ç–æ —Å—ä–∑–¥–∞–¥–æ—Ö—Ç–µ –≤ –ø–æ-—Ä–∞–Ω–Ω–∏ —É—Ä–æ—Ü–∏ —Å –ø–æ–º–æ—â—Ç–∞ –Ω–∞ MQTT, –∫–æ–º–∞–Ω–¥–∏—Ç–µ –∑–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ —Ä–µ–ª–µ—Ç–æ —Å–µ –∏–∑–ø—Ä–∞—â–∞—Ö–∞ –∫—ä–º –≤—Å–∏—á–∫–∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞. –ö–æ–¥—ä—Ç –ø—Ä–µ–¥–ø–æ–ª–∞–≥–∞—à–µ, —á–µ —â–µ –∏–º–∞—Ç–µ —Å–∞–º–æ –µ–¥–Ω–æ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ. –¢–∞–∑–∏ –≤–µ—Ä—Å–∏—è –Ω–∞ –∫–æ–¥–∞ –∏–∑–ø—Ä–∞—â–∞ –∑–∞—è–≤–∫–∞—Ç–∞ –∑–∞ –º–µ—Ç–æ–¥ –∫—ä–º –µ–¥–Ω–æ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ, —Ç–∞–∫–∞ —á–µ —â–µ —Ä–∞–±–æ—Ç–∏, –∞–∫–æ –∏–º–∞—Ç–µ –º–Ω–æ–∂–µ—Å—Ç–≤–æ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –Ω–∞ —Å–µ–Ω–∑–æ—Ä–∏ –∑–∞ –≤–ª–∞–∂–Ω–æ—Å—Ç –∏ —Ä–µ–ª–µ—Ç–∞, –∏–∑–ø—Ä–∞—â–∞–π–∫–∏ –ø—Ä–∞–≤–∏–ª–Ω–∞—Ç–∞ –∑–∞—è–≤–∫–∞ –∑–∞ –¥–∏—Ä–µ–∫—Ç–µ–Ω –º–µ—Ç–æ–¥ –∫—ä–º –ø—Ä–∞–≤–∏–ª–Ω–æ—Ç–æ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ.

1. –°—Ç–∞—Ä—Ç–∏—Ä–∞–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ—Ç–æ Functions –∏ —Å–µ —É–≤–µ—Ä–µ—Ç–µ, —á–µ –≤–∞—à–µ—Ç–æ IoT —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –∏–∑–ø—Ä–∞—â–∞ –¥–∞–Ω–Ω–∏. –©–µ –≤–∏–¥–∏—Ç–µ –∫–∞–∫ —Å—ä–æ–±—â–µ–Ω–∏—è—Ç–∞ —Å–µ –æ–±—Ä–∞–±–æ—Ç–≤–∞—Ç –∏ –∑–∞—è–≤–∫–∏—Ç–µ –∑–∞ –¥–∏—Ä–µ–∫—Ç–Ω–∏ –º–µ—Ç–æ–¥–∏ —Å–µ –∏–∑–ø—Ä–∞—â–∞—Ç. –ü—Ä–µ–º–µ—Å—Ç–µ—Ç–µ —Å–µ–Ω–∑–æ—Ä–∞ –∑–∞ –≤–ª–∞–∂–Ω–æ—Å—Ç –Ω–∞ –ø–æ—á–≤–∞—Ç–∞ –≤—ä—Ç—Ä–µ –∏ –∏–∑–≤—ä–Ω –ø–æ—á–≤–∞—Ç–∞, –∑–∞ –¥–∞ –≤–∏–¥–∏—Ç–µ –∫–∞–∫ —Å—Ç–æ–π–Ω–æ—Å—Ç–∏—Ç–µ —Å–µ –ø—Ä–æ–º–µ–Ω—è—Ç –∏ —Ä–µ–ª–µ—Ç–æ —Å–µ –≤–∫–ª—é—á–≤–∞ –∏ –∏–∑–∫–ª—é—á–≤–∞.

> üíÅ –ú–æ–∂–µ—Ç–µ –¥–∞ –Ω–∞–º–µ—Ä–∏—Ç–µ —Ç–æ–∑–∏ –∫–æ–¥ –≤ –ø–∞–ø–∫–∞—Ç–∞ [code/functions](../../../../../2-farm/lessons/5-migrate-application-to-the-cloud/code/functions).

## –†–∞–∑–ø–æ–ª–æ–∂–µ—Ç–µ –≤–∞—à–∏—è —Å—ä—Ä–≤—ä—Ä–Ω–æ-–±–∞–∑–∏—Ä–∞–Ω –∫–æ–¥ –≤ –æ–±–ª–∞–∫–∞

–í–∞—à–∏—è—Ç –∫–æ–¥ –≤–µ—á–µ —Ä–∞–±–æ—Ç–∏ –ª–æ–∫–∞–ª–Ω–æ, —Ç–∞–∫–∞ —á–µ —Å–ª–µ–¥–≤–∞—â–∞—Ç–∞ —Å—Ç—ä–ø–∫–∞ –µ –¥–∞ —Ä–∞–∑–ø–æ–ª–æ–∂–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ—Ç–æ Functions –≤ –æ–±–ª–∞–∫–∞.

### –ó–∞–¥–∞—á–∞ - —Å—ä–∑–¥–∞–π—Ç–µ –æ–±–ª–∞—á–Ω–∏—Ç–µ —Ä–µ—Å—É—Ä—Å–∏

–í–∞—à–µ—Ç–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ Functions —Ç—Ä—è–±–≤–∞ –¥–∞ –±—ä–¥–µ —Ä–∞–∑–ø–æ–ª–æ–∂–µ–Ω–æ –≤ —Ä–µ—Å—É—Ä—Å Functions App –≤ Azure, –∫–æ–π—Ç–æ —Å–µ –Ω–∞–º–∏—Ä–∞ –≤ Resource Group, —Å—ä–∑–¥–∞–¥–µ–Ω–∞ –∑–∞ –≤–∞—à–∏—è IoT Hub. –©–µ –≤–∏ –µ –Ω–µ–æ–±—Ö–æ–¥–∏–º –∏ Storage Account, —Å—ä–∑–¥–∞–¥–µ–Ω –≤ Azure, –∑–∞ –¥–∞ –∑–∞–º–µ–Ω–∏ –µ–º—É–ª–∞—Ç–æ—Ä–∞, –∫–æ–π—Ç–æ –∏–∑–ø–æ–ª–∑–≤–∞—Ç–µ –ª–æ–∫–∞–ª–Ω–æ.

1. –°—Ç–∞—Ä—Ç–∏—Ä–∞–π—Ç–µ —Å–ª–µ–¥–Ω–∞—Ç–∞ –∫–æ–º–∞–Ω–¥–∞, –∑–∞ –¥–∞ —Å—ä–∑–¥–∞–¥–µ—Ç–µ Storage Account:

    ```sh
    az storage account create --resource-group soil-moisture-sensor \
                              --sku Standard_LRS \
                              --name <storage_name> 
    ```

    –ó–∞–º–µ–Ω–µ—Ç–µ `<storage_name>` —Å –∏–º–µ –∑–∞ –≤–∞—à–∏—è Storage Account. –¢–æ–≤–∞ –∏–º–µ —Ç—Ä—è–±–≤–∞ –¥–∞ –±—ä–¥–µ —É–Ω–∏–∫–∞–ª–Ω–æ –≤ –≥–ª–æ–±–∞–ª–µ–Ω –º–∞—â–∞–±, —Ç—ä–π –∫–∞—Ç–æ –µ —á–∞—Å—Ç –æ—Ç URL –∞–¥—Ä–µ—Å–∞, –∏–∑–ø–æ–ª–∑–≤–∞–Ω –∑–∞ –¥–æ—Å—Ç—ä–ø –¥–æ –∞–∫–∞—É–Ω—Ç–∞. –ú–æ–∂–µ—Ç–µ –¥–∞ –∏–∑–ø–æ–ª–∑–≤–∞—Ç–µ —Å–∞–º–æ –º–∞–ª–∫–∏ –±—É–∫–≤–∏ –∏ —Ü–∏—Ñ—Ä–∏ –∑–∞ —Ç–æ–≤–∞ –∏–º–µ, –±–µ–∑ –¥—Ä—É–≥–∏ —Å–∏–º–≤–æ–ª–∏, –∏ —Ç–æ –µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–æ –¥–æ 24 —Å–∏–º–≤–æ–ª–∞. –ò–∑–ø–æ–ª–∑–≤–∞–π—Ç–µ –Ω–µ—â–æ –∫–∞—Ç–æ `sms` –∏ –¥–æ–±–∞–≤–µ—Ç–µ —É–Ω–∏–∫–∞–ª–µ–Ω –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –Ω–∞–∫—Ä–∞—è, –∫–∞—Ç–æ —Å–ª—É—á–∞–π–Ω–∏ –¥—É–º–∏ –∏–ª–∏ –≤–∞—à–µ—Ç–æ –∏–º–µ.

    –û–ø—Ü–∏—è—Ç–∞ `--sku Standard_LRS` –∏–∑–±–∏—Ä–∞ —Ü–µ–Ω–æ–≤–∏—è –ø–ª–∞–Ω, –∫–∞—Ç–æ —Å–µ –∏–∑–±–∏—Ä–∞ –Ω–∞–π-–Ω–∏—Å–∫–∞—Ç–∞ —Ü–µ–Ω–∞ –∑–∞ –æ–±—â–∞ —É–ø–æ—Ç—Ä–µ–±–∞. –ù—è–º–∞ –±–µ–∑–ø–ª–∞—Ç–µ–Ω –ø–ª–∞–Ω –∑–∞ —Å—ä—Ö—Ä–∞–Ω–µ–Ω–∏–µ, –∏ –ø–ª–∞—â–∞—Ç–µ –∑–∞ —Ç–æ–≤–∞, –∫–æ–µ—Ç–æ –∏–∑–ø–æ–ª–∑–≤–∞—Ç–µ. –†–∞–∑—Ö–æ–¥–∏—Ç–µ —Å–∞ —Å—Ä–∞–≤–Ω–∏—Ç–µ–ª–Ω–æ –Ω–∏—Å–∫–∏, –∫–∞—Ç–æ –Ω–∞–π-—Å–∫—ä–ø–æ—Ç–æ —Å—ä—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å—Ç—Ä—É–≤–∞ –ø–æ-–º–∞–ª–∫–æ –æ—Ç 0,05 USD –Ω–∞ –º–µ—Å–µ—Ü –∑–∞ –≥–∏–≥–∞–±–∞–π—Ç.

    ‚úÖ –ü—Ä–æ—á–µ—Ç–µ—Ç–µ –ø–æ–≤–µ—á–µ –∑–∞ —Ü–µ–Ω–∏—Ç–µ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–∞—Ç–∞ [Azure Storage Account pricing](https://azure.microsoft.com/pricing/details/storage/?WT.mc_id=academic-17441-jabenn).

1. –°—Ç–∞—Ä—Ç–∏—Ä–∞–π—Ç–µ —Å–ª–µ–¥–Ω–∞—Ç–∞ –∫–æ–º–∞–Ω–¥–∞, –∑–∞ –¥–∞ —Å—ä–∑–¥–∞–¥–µ—Ç–µ Function App:

    ```sh
    az functionapp create --resource-group soil-moisture-sensor \
                          --runtime python \
                          --functions-version 3 \
                          --os-type Linux \
                          --consumption-plan-location <location> \
                          --storage-account <storage_name> \
                          --name <functions_app_name>
    ```

    –ó–∞–º–µ–Ω–µ—Ç–µ `<location>` —Å –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ—Ç–æ, –∫–æ–µ—Ç–æ –∏–∑–ø–æ–ª–∑–≤–∞—Ö—Ç–µ –ø—Ä–∏ —Å—ä–∑–¥–∞–≤–∞–Ω–µ—Ç–æ –Ω–∞ Resource Group –≤ –ø—Ä–µ–¥–∏—à–Ω–∏—è —É—Ä–æ–∫.

    –ó–∞–º–µ–Ω–µ—Ç–µ `<storage_name>` —Å –∏–º–µ—Ç–æ –Ω–∞ Storage Account, –∫–æ–π—Ç–æ —Å—ä–∑–¥–∞–¥–æ—Ö—Ç–µ –≤ –ø—Ä–µ–¥–∏—à–Ω–∞—Ç–∞ —Å—Ç—ä–ø–∫–∞.

    –ó–∞–º–µ–Ω–µ—Ç–µ `<functions_app_name>` —Å —É–Ω–∏–∫–∞–ª–Ω–æ –∏–º–µ –∑–∞ –≤–∞—à–µ—Ç–æ Functions App. –¢–æ–≤–∞ –∏–º–µ —Ç—Ä—è–±–≤–∞ –¥–∞ –±—ä–¥–µ —É–Ω–∏–∫–∞–ª–Ω–æ –≤ –≥–ª–æ–±–∞–ª–µ–Ω –º–∞—â–∞–±, —Ç—ä–π –∫–∞—Ç–æ –µ —á–∞—Å—Ç –æ—Ç URL –∞–¥—Ä–µ—Å–∞, –∫–æ–π—Ç–æ –º–æ–∂–µ –¥–∞ —Å–µ –∏–∑–ø–æ–ª–∑–≤–∞ –∑–∞ –¥–æ—Å—Ç—ä–ø –¥–æ Functions App. –ò–∑–ø–æ–ª–∑–≤–∞–π—Ç–µ –Ω–µ—â–æ –∫–∞—Ç–æ `soil-moisture-sensor-` –∏ –¥–æ–±–∞–≤–µ—Ç–µ —É–Ω–∏–∫–∞–ª–µ–Ω –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –Ω–∞–∫—Ä–∞—è, –∫–∞—Ç–æ —Å–ª—É—á–∞–π–Ω–∏ –¥—É–º–∏ –∏–ª–∏ –≤–∞—à–µ—Ç–æ –∏–º–µ.

    –û–ø—Ü–∏—è—Ç–∞ `--functions-version 3` –∑–∞–¥–∞–≤–∞ –≤–µ—Ä—Å–∏—è—Ç–∞ –Ω–∞ Azure Functions, –∫–æ—è—Ç–æ –¥–∞ —Å–µ –∏–∑–ø–æ–ª–∑–≤–∞. –í–µ—Ä—Å–∏—è 3 –µ –Ω–∞–π-–Ω–æ–≤–∞—Ç–∞ –≤–µ—Ä—Å–∏—è.

    –û–ø—Ü–∏—è—Ç–∞ `--os-type Linux` —É–∫–∞–∑–≤–∞ –Ω–∞ Functions runtime –¥–∞ –∏–∑–ø–æ–ª–∑–≤–∞ Linux –∫–∞—Ç–æ –æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ –∑–∞ —Ö–æ—Å—Ç–≤–∞–Ω–µ –Ω–∞ —Ç–µ–∑–∏ —Ñ—É–Ω–∫—Ü–∏–∏. –§—É–Ω–∫—Ü–∏–∏—Ç–µ –º–æ–≥–∞—Ç –¥–∞ –±—ä–¥–∞—Ç —Ö–æ—Å—Ç–≤–∞–Ω–∏ –Ω–∞ Linux –∏–ª–∏ Windows, –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç –æ—Ç –∏–∑–ø–æ–ª–∑–≤–∞–Ω–∏—è –ø—Ä–æ–≥—Ä–∞–º–µ–Ω –µ–∑–∏–∫. Python –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è—Ç–∞ —Å–µ –ø–æ–¥–¥—ä—Ä–∂–∞—Ç —Å–∞–º–æ –Ω–∞ Linux.

### –ó–∞–¥–∞—á–∞ - –∫–∞—á–µ—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏—Ç–µ –Ω–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ—Ç–æ —Å–∏

–ö–æ–≥–∞—Ç–æ —Ä–∞–∑—Ä–∞–±–æ—Ç–≤–∞—Ö—Ç–µ –≤–∞—à–µ—Ç–æ Functions App, —Å—ä—Ö—Ä–∞–Ω—è–≤–∞—Ö—Ç–µ –Ω—è–∫–æ–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤—ä–≤ —Ñ–∞–π–ª–∞ `local.settings.json` –∑–∞ –≤—Ä—ä–∑–∫–æ–≤–∏—Ç–µ –Ω–∏–∑–æ–≤–µ –∑–∞ –≤–∞—à–∏—è IoT Hub. –¢–µ–∑–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Ç—Ä—è–±–≤–∞ –¥–∞ –±—ä–¥–∞—Ç –∑–∞–ø–∏—Å–∞–Ω–∏ –≤ Application Settings –≤—ä–≤ –≤–∞—à–µ—Ç–æ Function App –≤ Azure, –∑–∞ –¥–∞ –º–æ–≥–∞—Ç –¥–∞ –±—ä–¥–∞—Ç –∏–∑–ø–æ–ª–∑–≤–∞–Ω–∏ –æ—Ç –≤–∞—à–∏—è –∫–æ–¥.

> üéì –§–∞–π–ª—ä—Ç `local.settings.json` –µ —Å–∞–º–æ –∑–∞ –ª–æ–∫–∞–ª–Ω–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∑–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –∏ –Ω–µ —Ç—Ä—è–±–≤–∞ –¥–∞ –±—ä–¥–µ –∫–∞—á–≤–∞–Ω –≤ —Å–∏—Å—Ç–µ–º–∏ –∑–∞ –∫–æ–Ω—Ç—Ä–æ–ª –Ω–∞ –≤–µ—Ä—Å–∏–∏—Ç–µ, –∫–∞—Ç–æ GitHub. –ö–æ–≥–∞—Ç–æ —Å–µ —Ä–∞–∑–ø–æ–ª–æ–∂–∏ –≤ –æ–±–ª–∞–∫–∞, —Å–µ –∏–∑–ø–æ–ª–∑–≤–∞—Ç Application Settings. Application Settings —Å–∞ –¥–≤–æ–π–∫–∏ –∫–ª—é—á/—Å—Ç–æ–π–Ω–æ—Å—Ç, —Ö–æ—Å—Ç–≤–∞–Ω–∏ –≤ –æ–±–ª–∞–∫–∞, –∏ —Å–µ —á–µ—Ç–∞—Ç –æ—Ç –ø—Ä–æ–º–µ–Ω–ª–∏–≤–∏—Ç–µ –Ω–∞ —Å—Ä–µ–¥–∞—Ç–∞ –∏–ª–∏ –≤—ä–≤ –≤–∞—à–∏—è –∫–æ–¥, –∏–ª–∏ –æ—Ç runtime, –∫–æ–≥–∞—Ç–æ —Å–≤—ä—Ä–∑–≤–∞ –≤–∞—à–∏—è –∫–æ–¥ —Å IoT Hub.

1. –°—Ç–∞—Ä—Ç–∏—Ä–∞–π—Ç–µ —Å–ª–µ–¥–Ω–∞—Ç–∞ –∫–æ–º–∞–Ω–¥–∞, –∑–∞ –¥–∞ –∑–∞–¥–∞–¥–µ—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ç–∞ `IOT_HUB_CONNECTION_STRING` –≤ Application Settings –Ω–∞ Functions App:

    ```sh
    az functionapp config appsettings set --resource-group soil-moisture-sensor \
                                          --name <functions_app_name> \
                                          --settings "IOT_HUB_CONNECTION_STRING=<connection string>"
    ```

    –ó–∞–º–µ–Ω–µ—Ç–µ `<functions_app_name>` —Å –∏–º–µ—Ç–æ, –∫–æ–µ—Ç–æ –∏–∑–ø–æ–ª–∑–≤–∞—Ö—Ç–µ –∑–∞ –≤–∞—à–µ—Ç–æ Functions App.

    –ó–∞–º–µ–Ω–µ—Ç–µ `<connection string>` —Å—ä—Å —Å—Ç–æ–π–Ω–æ—Å—Ç—Ç–∞ –Ω–∞ `IOT_HUB_CONNECTION_STRING` –æ—Ç –≤–∞—à–∏—è —Ñ–∞–π–ª `local.settings.json`.

1. –ü–æ–≤—Ç–æ—Ä–µ—Ç–µ –≥–æ—Ä–Ω–∞—Ç–∞ —Å—Ç—ä–ø–∫–∞, –Ω–æ –∑–∞–¥–∞–π—Ç–µ —Å—Ç–æ–π–Ω–æ—Å—Ç—Ç–∞ –Ω–∞ `REGISTRY_MANAGER_CONNECTION_STRING` –Ω–∞ —Å—ä–æ—Ç–≤–µ—Ç–Ω–∞—Ç–∞ —Å—Ç–æ–π–Ω–æ—Å—Ç –æ—Ç –≤–∞—à–∏—è —Ñ–∞–π–ª `local.settings.json`.

–ö–æ–≥–∞—Ç–æ —Å—Ç–∞—Ä—Ç–∏—Ä–∞—Ç–µ —Ç–µ–∑–∏ –∫–æ–º–∞–Ω–¥–∏, —Ç–µ —Å—ä—â–æ —â–µ –∏–∑–≤–µ–¥–∞—Ç —Å–ø–∏—Å—ä–∫ —Å –≤—Å–∏—á–∫–∏ Application Settings –∑–∞ Function App. –ú–æ–∂–µ—Ç–µ –¥–∞ –∏–∑–ø–æ–ª–∑–≤–∞—Ç–µ —Ç–æ–≤–∞, –∑–∞ –¥–∞ –ø—Ä–æ–≤–µ—Ä–∏—Ç–µ –¥–∞–ª–∏ —Å—Ç–æ–π–Ω–æ—Å—Ç–∏—Ç–µ —Å–∞ –∑–∞–¥–∞–¥–µ–Ω–∏ –ø—Ä–∞–≤–∏–ª–Ω–æ.

> üíÅ –©–µ –≤–∏–¥–∏—Ç–µ —Å—Ç–æ–π–Ω–æ—Å—Ç, –∫–æ—è—Ç–æ –≤–µ—á–µ –µ –∑–∞–¥–∞–¥–µ–Ω–∞ –∑–∞ `AzureWebJobsStorage`. –í—ä–≤ –≤–∞—à–∏—è —Ñ–∞–π–ª `local.settings.json` —Ç–æ–≤–∞ –±–µ—à–µ –∑–∞–¥–∞–¥–µ–Ω–æ –Ω–∞ —Å—Ç–æ–π–Ω–æ—Å—Ç –∑–∞ –∏–∑–ø–æ–ª–∑–≤–∞–Ω–µ –Ω–∞ –ª–æ–∫–∞–ª–Ω–∏—è –µ–º—É–ª–∞—Ç–æ—Ä –∑–∞ —Å—ä—Ö—Ä–∞–Ω–µ–Ω–∏–µ. –ö–æ–≥–∞—Ç–æ —Å—ä–∑–¥–∞–¥–æ—Ö—Ç–µ Functions App, –ø–æ–¥–∞–¥–æ—Ö—Ç–µ Storage Account –∫–∞—Ç–æ –ø–∞—Ä–∞–º–µ—Ç—ä—Ä, –∏ —Ç–æ–≤–∞ —Å–µ –∑–∞–¥–∞–≤–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –≤ —Ç–∞–∑–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞.

### –ó–∞–¥–∞—á–∞ - —Ä–∞–∑–ø–æ–ª–æ–∂–µ—Ç–µ –≤–∞—à–µ—Ç–æ Functions App –≤ –æ–±–ª–∞–∫–∞

–°–µ–≥–∞, –∫–æ–≥–∞—Ç–æ Functions App –µ –≥–æ—Ç–æ–≤–æ, –≤–∞—à–∏—è—Ç –∫–æ–¥ –º–æ–∂–µ –¥–∞ –±—ä–¥–µ —Ä–∞–∑–ø–æ–ª–æ–∂–µ–Ω.

1. –°—Ç–∞—Ä—Ç–∏—Ä–∞–π—Ç–µ —Å–ª–µ–¥–Ω–∞—Ç–∞ –∫–æ–º–∞–Ω–¥–∞ –æ—Ç —Ç–µ—Ä–º–∏–Ω–∞–ª–∞ –Ω–∞ VS Code, –∑–∞ –¥–∞ –ø—É–±–ª–∏–∫—É–≤–∞—Ç–µ –≤–∞—à–µ—Ç–æ Functions App:

    ```sh
    func azure functionapp publish <functions_app_name>
    ```

    –ó–∞–º–µ–Ω–µ—Ç–µ `<functions_app_name>` —Å –∏–º–µ—Ç–æ, –∫–æ–µ—Ç–æ –∏–∑–ø–æ–ª–∑–≤–∞—Ö—Ç–µ –∑–∞ –≤–∞—à–µ—Ç–æ Functions App.

–ö–æ–¥—ä—Ç —â–µ –±—ä–¥–µ –ø–∞–∫–µ—Ç–∏—Ä–∞–Ω –∏ –∏–∑–ø—Ä–∞—Ç–µ–Ω –∫—ä–º Functions App, –∫—ä–¥–µ—Ç–æ —â–µ –±—ä–¥–µ —Ä–∞–∑–ø–æ–ª–æ–∂–µ–Ω –∏ —Å—Ç–∞—Ä—Ç–∏—Ä–∞–Ω. –©–µ –∏–º–∞ –º–Ω–æ–≥–æ –∏–∑—Ö–æ–¥ –≤ –∫–æ–Ω–∑–æ–ª–∞—Ç–∞, –∑–∞–≤—ä—Ä—à–≤–∞—â —Å –ø–æ—Ç–≤—ä—Ä–∂–¥–µ–Ω–∏–µ –∑–∞ —Ä–∞–∑–ø–æ–ª–∞–≥–∞–Ω–µ—Ç–æ –∏ —Å–ø–∏—Å—ä–∫ —Å —Ä–∞–∑–ø–æ–ª–æ–∂–µ–Ω–∏—Ç–µ —Ñ—É–Ω–∫—Ü–∏–∏. –í —Ç–æ–∑–∏ —Å–ª—É—á–∞–π —Å–ø–∏—Å—ä–∫—ä—Ç —â–µ —Å—ä–¥—ä—Ä–∂–∞ —Å–∞–º–æ —Ç—Ä–∏–≥–µ—Ä–∞.

```output
Deployment successful.
Remote build succeeded!
Syncing triggers...
Functions in soil-moisture-sensor:
    iot-hub-trigger - [eventHubTrigger]
```

–£–≤–µ—Ä–µ—Ç–µ —Å–µ, —á–µ –≤–∞—à–µ—Ç–æ IoT —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ —Ä–∞–±–æ—Ç–∏. –ü—Ä–æ–º–µ–Ω–µ—Ç–µ –Ω–∏–≤–∞—Ç–∞ –Ω–∞ –≤–ª–∞–∂–Ω–æ—Å—Ç, –∫–∞—Ç–æ —Ä–µ–≥—É–ª–∏—Ä–∞—Ç–µ –≤–ª–∞–∂–Ω–æ—Å—Ç—Ç–∞ –Ω–∞ –ø–æ—á–≤–∞—Ç–∞ –∏–ª–∏ –ø—Ä–µ–º–µ—Å—Ç–∏—Ç–µ —Å–µ–Ω–∑–æ—Ä–∞ –≤—ä—Ç—Ä–µ –∏ –∏–∑–≤—ä–Ω –ø–æ—á–≤–∞—Ç–∞. –©–µ –≤–∏–¥–∏—Ç–µ –∫–∞–∫ —Ä–µ–ª–µ—Ç–æ —Å–µ –≤–∫–ª—é—á–≤–∞ –∏ –∏–∑–∫–ª—é—á–≤–∞, –∫–æ–≥–∞—Ç–æ –≤–ª–∞–∂–Ω–æ—Å—Ç—Ç–∞ –Ω–∞ –ø–æ—á–≤–∞—Ç–∞ —Å–µ –ø—Ä–æ–º–µ–Ω—è.

---

## üöÄ –ü—Ä–µ–¥–∏–∑–≤–∏–∫–∞—Ç–µ–ª—Å—Ç–≤–æ

–í –ø—Ä–µ–¥–∏—à–Ω–∏—è —É—Ä–æ–∫ —É–ø—Ä–∞–≤–ª—è–≤–∞—Ö—Ç–µ –≤—Ä–µ–º–µ—Ç–æ –∑–∞ —Ä–µ–ª–µ—Ç–æ, –∫–∞—Ç–æ —Å–µ –æ—Ç–ø–∏—Å–≤–∞—Ö—Ç–µ –æ—Ç MQTT —Å—ä–æ–±—â–µ–Ω–∏—è—Ç–∞, –¥–æ–∫–∞—Ç–æ —Ä–µ–ª–µ—Ç–æ –±–µ—à–µ –≤–∫–ª—é—á–µ–Ω–æ, –∏ –∑–∞ –∫—Ä–∞—Ç–∫–æ —Å–ª–µ–¥ –∫–∞—Ç–æ –±–µ—à–µ –∏–∑–∫–ª—é—á–µ–Ω–æ. –¢—É–∫ –Ω–µ –º–æ–∂–µ—Ç–µ –¥–∞ –∏–∑–ø–æ–ª–∑–≤–∞—Ç–µ —Ç–æ–∑–∏ –º–µ—Ç–æ–¥ - –Ω–µ –º–æ–∂–µ—Ç–µ –¥–∞ —Å–µ –æ—Ç–ø–∏—à–µ—Ç–µ –æ—Ç IoT Hub —Ç—Ä–∏–≥–µ—Ä–∞.

–ü–æ–º–∏—Å–ª–µ—Ç–µ –∑–∞ —Ä–∞–∑–ª–∏—á–Ω–∏ –Ω–∞—á–∏–Ω–∏, –ø–æ –∫–æ–∏—Ç–æ –±–∏—Ö—Ç–µ –º–æ–≥–ª–∏ –¥–∞ —Å–µ —Å–ø—Ä–∞–≤–∏—Ç–µ —Å —Ç–æ–≤–∞ –≤—ä–≤ –≤–∞—à–µ—Ç–æ Functions App.

## –¢–µ—Å—Ç —Å–ª–µ–¥ –ª–µ–∫—Ü–∏—è—Ç–∞

[–¢–µ—Å—Ç —Å–ª–µ–¥ –ª–µ–∫—Ü–∏—è—Ç–∞](https://black-meadow-040d15503.1.azurestaticapps.net/quiz/18)

## –ü—Ä–µ–≥–ª–µ–¥ –∏ —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª–Ω–æ –æ–±—É—á–µ–Ω–∏–µ

* –ü—Ä–æ—á–µ—Ç–µ—Ç–µ –∑–∞ —Å—ä—Ä–≤—ä—Ä–Ω–æ-–±–∞–∑–∏—Ä–∞–Ω–æ—Ç–æ –∏–∑—á–∏—Å–ª–µ–Ω–∏–µ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–∞—Ç–∞ [Serverless Computing –≤ Wikipedia](https://wikipedia.org/wiki/Serverless_computing)
* –ü—Ä–æ—á–µ—Ç–µ—Ç–µ –∑–∞ –∏–∑–ø–æ–ª–∑–≤–∞–Ω–µ—Ç–æ –Ω–∞ —Å—ä—Ä–≤—ä—Ä–Ω–æ-–±–∞–∑–∏—Ä–∞–Ω–∏ —Ä–µ—à–µ–Ω–∏—è –≤ Azure, –≤–∫–ª—é—á–∏—Ç–µ–ª–Ω–æ –æ—â–µ –ø—Ä–∏–º–µ—Ä–∏, –≤ –ø—É–±–ª–∏–∫–∞—Ü–∏—è—Ç–∞ [Go serverless for your IoT needs Azure blog post](https://azure.microsoft.com/blog/go-serverless-for-your-iot-needs/?WT.mc_id=academic-17441-jabenn)
* –ù–∞—É—á–µ—Ç–µ –ø–æ–≤–µ—á–µ –∑–∞ Azure Functions –Ω–∞ [Azure Functions YouTube –∫–∞–Ω–∞–ª](https://www.youtube.com/c/AzureFunctions)

## –ó–∞–¥–∞–Ω–∏–µ

[–î–æ–±–∞–≤–µ—Ç–µ —Ä—ä—á–Ω–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ —Ä–µ–ª–µ—Ç–æ](assignment.md)

---

**–û—Ç–∫–∞–∑ –æ—Ç –æ—Ç–≥–æ–≤–æ—Ä–Ω–æ—Å—Ç**:  
–¢–æ–∑–∏ –¥–æ–∫—É–º–µ–Ω—Ç –µ –ø—Ä–µ–≤–µ–¥–µ–Ω —Å –ø–æ–º–æ—â—Ç–∞ –Ω–∞ AI —É—Å–ª—É–≥–∞ –∑–∞ –ø—Ä–µ–≤–æ–¥ [Co-op Translator](https://github.com/Azure/co-op-translator). –í—ä–ø—Ä–µ–∫–∏ —á–µ —Å–µ —Å—Ç—Ä–µ–º–∏–º –∫—ä–º —Ç–æ—á–Ω–æ—Å—Ç, –º–æ–ª—è, –∏–º–∞–π—Ç–µ –ø—Ä–µ–¥–≤–∏–¥, —á–µ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–∞–Ω–∏—Ç–µ –ø—Ä–µ–≤–æ–¥–∏ –º–æ–∂–µ –¥–∞ —Å—ä–¥—ä—Ä–∂–∞—Ç –≥—Ä–µ—à–∫–∏ –∏–ª–∏ –Ω–µ—Ç–æ—á–Ω–æ—Å—Ç–∏. –û—Ä–∏–≥–∏–Ω–∞–ª–Ω–∏—è—Ç –¥–æ–∫—É–º–µ–Ω—Ç –Ω–∞ –Ω–µ–≥–æ–≤–∏—è —Ä–æ–¥–µ–Ω –µ–∑–∏–∫ —Ç—Ä—è–±–≤–∞ –¥–∞ —Å–µ —Å—á–∏—Ç–∞ –∑–∞ –∞–≤—Ç–æ—Ä–∏—Ç–µ—Ç–µ–Ω –∏–∑—Ç–æ—á–Ω–∏–∫. –ó–∞ –∫—Ä–∏—Ç–∏—á–Ω–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è —Å–µ –ø—Ä–µ–ø–æ—Ä—ä—á–≤–∞ –ø—Ä–æ—Ñ–µ—Å–∏–æ–Ω–∞–ª–µ–Ω —á–æ–≤–µ—à–∫–∏ –ø—Ä–µ–≤–æ–¥. –ù–µ –Ω–æ—Å–∏–º –æ—Ç–≥–æ–≤–æ—Ä–Ω–æ—Å—Ç –∑–∞ –Ω–µ–¥–æ—Ä–∞–∑—É–º–µ–Ω–∏—è –∏–ª–∏ –ø–æ–≥—Ä–µ—à–Ω–∏ –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏–∏, –ø—Ä–æ–∏–∑—Ç–∏—á–∞—â–∏ –æ—Ç –∏–∑–ø–æ–ª–∑–≤–∞–Ω–µ—Ç–æ –Ω–∞ —Ç–æ–∑–∏ –ø—Ä–µ–≤–æ–¥.