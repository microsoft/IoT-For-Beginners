<!--
CO_OP_TRANSLATOR_METADATA:
{
  "original_hash": "e5896207b304ce1abaf065b8acc0cc79",
  "translation_date": "2025-08-28T08:48:27+00:00",
  "source_file": "4-manufacturing/lessons/2-check-fruit-from-device/single-board-computer-classify-image.md",
  "language_code": "bg"
}
-->
# –ö–ª–∞—Å–∏—Ñ–∏—Ü–∏—Ä–∞–Ω–µ –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ - –í–∏—Ä—Ç—É–∞–ª–µ–Ω IoT —Ö–∞—Ä–¥—É–µ—Ä –∏ Raspberry Pi

–í —Ç–∞–∑–∏ —á–∞—Å—Ç –æ—Ç —É—Ä–æ–∫–∞ —â–µ –∏–∑–ø—Ä–∞—Ç–∏—Ç–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ—Ç–æ, –∑–∞—Å–Ω–µ—Ç–æ –æ—Ç –∫–∞–º–µ—Ä–∞—Ç–∞, –∫—ä–º —É—Å–ª—É–≥–∞—Ç–∞ Custom Vision, –∑–∞ –¥–∞ –≥–æ –∫–ª–∞—Å–∏—Ñ–∏—Ü–∏—Ä–∞—Ç–µ.

## –ò–∑–ø—Ä–∞—â–∞–Ω–µ –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –∫—ä–º Custom Vision

–£—Å–ª—É–≥–∞—Ç–∞ Custom Vision —Ä–∞–∑–ø–æ–ª–∞–≥–∞ —Å Python SDK, –∫–æ–π—Ç–æ –º–æ–∂–µ—Ç–µ –¥–∞ –∏–∑–ø–æ–ª–∑–≤–∞—Ç–µ –∑–∞ –∫–ª–∞—Å–∏—Ñ–∏—Ü–∏—Ä–∞–Ω–µ –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è.

### –ó–∞–¥–∞—á–∞ - –∏–∑–ø—Ä–∞—â–∞–Ω–µ –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –∫—ä–º Custom Vision

1. –û—Ç–≤–æ—Ä–µ—Ç–µ –ø–∞–ø–∫–∞—Ç–∞ `fruit-quality-detector` –≤ VS Code. –ê–∫–æ –∏–∑–ø–æ–ª–∑–≤–∞—Ç–µ –≤–∏—Ä—Ç—É–∞–ª–Ω–æ IoT —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ, —É–≤–µ—Ä–µ—Ç–µ —Å–µ, —á–µ –≤–∏—Ä—Ç—É–∞–ª–Ω–∞—Ç–∞ —Å—Ä–µ–¥–∞ –µ —Å—Ç–∞—Ä—Ç–∏—Ä–∞–Ω–∞ –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–∞.

1. Python SDK –∑–∞ –∏–∑–ø—Ä–∞—â–∞–Ω–µ –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –∫—ä–º Custom Vision –µ –Ω–∞–ª–∏—á–µ–Ω –∫–∞—Ç–æ –ø–∞–∫–µ—Ç –∑–∞ Pip. –ò–Ω—Å—Ç–∞–ª–∏—Ä–∞–π—Ç–µ –≥–æ —Å—ä—Å —Å–ª–µ–¥–Ω–∞—Ç–∞ –∫–æ–º–∞–Ω–¥–∞:

    ```sh
    pip3 install azure-cognitiveservices-vision-customvision
    ```

1. –î–æ–±–∞–≤–µ—Ç–µ —Å–ª–µ–¥–Ω–∏—Ç–µ import –∏–∑—è–≤–ª–µ–Ω–∏—è –≤ –Ω–∞—á–∞–ª–æ—Ç–æ –Ω–∞ —Ñ–∞–π–ª–∞ `app.py`:

    ```python
    from msrest.authentication import ApiKeyCredentials
    from azure.cognitiveservices.vision.customvision.prediction import CustomVisionPredictionClient
    ```

    –¢–æ–≤–∞ –≤–∫–ª—é—á–≤–∞ –Ω—è–∫–æ–∏ –º–æ–¥—É–ª–∏ –æ—Ç –±–∏–±–ª–∏–æ—Ç–µ–∫–∏—Ç–µ –Ω–∞ Custom Vision ‚Äì –µ–¥–∏–Ω –∑–∞ —É–¥–æ—Å—Ç–æ–≤–µ—Ä—è–≤–∞–Ω–µ —Å prediction –∫–ª—é—á–∞ –∏ –µ–¥–∏–Ω –∑–∞ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤—è–Ω–µ –Ω–∞ –∫–ª–∞—Å –∫–ª–∏–µ–Ω—Ç –∑–∞ –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è, –∫–æ–π—Ç–æ –º–æ–∂–µ –¥–∞ –∏–∑–≤–∏–∫–≤–∞ Custom Vision.

1. –î–æ–±–∞–≤–µ—Ç–µ —Å–ª–µ–¥–Ω–∏—è –∫–æ–¥ –≤ –∫—Ä–∞—è –Ω–∞ —Ñ–∞–π–ª–∞:

    ```python
    prediction_url = '<prediction_url>'
    prediction_key = '<prediction key>'
    ```

    –ó–∞–º–µ–Ω–µ—Ç–µ `<prediction_url>` —Å URL –∞–¥—Ä–µ—Å–∞, –∫–æ–π—Ç–æ –∫–æ–ø–∏—Ä–∞—Ö—Ç–µ –æ—Ç –¥–∏–∞–ª–æ–≥–∞ *Prediction URL* –ø–æ-—Ä–∞–Ω–æ –≤ —Ç–æ–∑–∏ —É—Ä–æ–∫. –ó–∞–º–µ–Ω–µ—Ç–µ `<prediction key>` —Å prediction –∫–ª—é—á–∞, –∫–æ–π—Ç–æ —Å—ä—â–æ –∫–æ–ø–∏—Ä–∞—Ö—Ç–µ –æ—Ç —Å—ä—â–∏—è –¥–∏–∞–ª–æ–≥.

1. Prediction URL –∞–¥—Ä–µ—Å—ä—Ç, –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–µ–Ω –æ—Ç –¥–∏–∞–ª–æ–≥–∞ *Prediction URL*, –µ –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –∑–∞ –¥–∏—Ä–µ–∫—Ç–Ω–æ –∏–∑–≤–∏–∫–≤–∞–Ω–µ –Ω–∞ REST endpoint. Python SDK –∏–∑–ø–æ–ª–∑–≤–∞ —á–∞—Å—Ç–∏ –æ—Ç URL –∞–¥—Ä–µ—Å–∞ –Ω–∞ —Ä–∞–∑–ª–∏—á–Ω–∏ –º–µ—Å—Ç–∞. –î–æ–±–∞–≤–µ—Ç–µ —Å–ª–µ–¥–Ω–∏—è –∫–æ–¥, –∑–∞ –¥–∞ —Ä–∞–∑–¥–µ–ª–∏—Ç–µ —Ç–æ–∑–∏ URL –Ω–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º–∏—Ç–µ —á–∞—Å—Ç–∏:

    ```python
    parts = prediction_url.split('/')
    endpoint = 'https://' + parts[2]
    project_id = parts[6]
    iteration_name = parts[9]
    ```

    –¢–æ–≤–∞ —Ä–∞–∑–¥–µ–ª—è URL –∞–¥—Ä–µ—Å–∞, –∏–∑–≤–ª–∏—á–∞–π–∫–∏ endpoint-–∞ `https://<location>.api.cognitive.microsoft.com`, ID –Ω–∞ –ø—Ä–æ–µ–∫—Ç–∞ –∏ –∏–º–µ—Ç–æ –Ω–∞ –ø—É–±–ª–∏–∫—É–≤–∞–Ω–∞—Ç–∞ –∏—Ç–µ—Ä–∞—Ü–∏—è.

1. –°—ä–∑–¥–∞–π—Ç–µ predictor –æ–±–µ–∫—Ç, –∑–∞ –¥–∞ –∏–∑–≤—ä—Ä—à–∏—Ç–µ –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ—Ç–æ —Å—ä—Å —Å–ª–µ–¥–Ω–∏—è –∫–æ–¥:

    ```python
    prediction_credentials = ApiKeyCredentials(in_headers={"Prediction-key": prediction_key})
    predictor = CustomVisionPredictionClient(endpoint, prediction_credentials)
    ```

    `prediction_credentials` –æ–±–≥—Ä—ä—â–∞ prediction –∫–ª—é—á–∞. –¢–µ —Å–ª–µ–¥ —Ç–æ–≤–∞ —Å–µ –∏–∑–ø–æ–ª–∑–≤–∞—Ç –∑–∞ —Å—ä–∑–¥–∞–≤–∞–Ω–µ –Ω–∞ –æ–±–µ–∫—Ç –∫–ª–∏–µ–Ω—Ç –∑–∞ –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è, –Ω–∞—Å–æ—á–µ–Ω –∫—ä–º endpoint-–∞.

1. –ò–∑–ø—Ä–∞—Ç–µ—Ç–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ—Ç–æ –∫—ä–º Custom Vision —Å—ä—Å —Å–ª–µ–¥–Ω–∏—è –∫–æ–¥:

    ```python
    image.seek(0)
    results = predictor.classify_image(project_id, iteration_name, image)
    ```

    –¢–æ–≤–∞ –≤—Ä—ä—â–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ—Ç–æ –≤ –Ω–∞—á–∞–ª–æ—Ç–æ, —Å–ª–µ–¥ –∫–æ–µ—Ç–æ –≥–æ –∏–∑–ø—Ä–∞—â–∞ –∫—ä–º prediction –∫–ª–∏–µ–Ω—Ç–∞.

1. –ù–∞–∫—Ä–∞—è, –ø–æ–∫–∞–∂–µ—Ç–µ —Ä–µ–∑—É–ª—Ç–∞—Ç–∏—Ç–µ —Å—ä—Å —Å–ª–µ–¥–Ω–∏—è –∫–æ–¥:

    ```python
    for prediction in results.predictions:
        print(f'{prediction.tag_name}:\t{prediction.probability * 100:.2f}%')
    ```

    –¢–æ–≤–∞ —â–µ –ø—Ä–µ–º–∏–Ω–µ –ø—Ä–µ–∑ –≤—Å–∏—á–∫–∏ –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è, –∫–æ–∏—Ç–æ —Å–∞ –≤—ä—Ä–Ω–∞—Ç–∏, –∏ —â–µ –≥–∏ –ø–æ–∫–∞–∂–µ –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–∞. –í—ä—Ä–Ω–∞—Ç–∏—Ç–µ –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–∏ —Å–∞ —á–∏—Å–ª–∞ —Å –ø–ª–∞–≤–∞—â–∞ –∑–∞–ø–µ—Ç–∞—è –æ—Ç 0 –¥–æ 1, –∫—ä–¥–µ—Ç–æ 0 –µ 0% –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç –∑–∞ —Å—ä–≤–ø–∞–¥–µ–Ω–∏–µ —Å –µ—Ç–∏–∫–µ—Ç–∞, –∞ 1 –µ 100% –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç.

    > üíÅ –ö–ª–∞—Å–∏—Ñ–∏–∫–∞—Ç–æ—Ä–∏—Ç–µ –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —â–µ –≤—ä—Ä–Ω–∞—Ç –ø—Ä–æ—Ü–µ–Ω—Ç–∏—Ç–µ –∑–∞ –≤—Å–∏—á–∫–∏ –µ—Ç–∏–∫–µ—Ç–∏, –∫–æ–∏—Ç–æ —Å–∞ –±–∏–ª–∏ –∏–∑–ø–æ–ª–∑–≤–∞–Ω–∏. –í—Å–µ–∫–∏ –µ—Ç–∏–∫–µ—Ç —â–µ –∏–º–∞ –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç, —á–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ—Ç–æ —Å—ä–≤–ø–∞–¥–∞ —Å —Ç–æ–∑–∏ –µ—Ç–∏–∫–µ—Ç.

1. –°—Ç–∞—Ä—Ç–∏—Ä–∞–π—Ç–µ –∫–æ–¥–∞ —Å–∏, –∫–∞—Ç–æ –Ω–∞—Å–æ—á–∏—Ç–µ –∫–∞–º–µ—Ä–∞—Ç–∞ –∫—ä–º –Ω—è–∫–∞–∫—ä–≤ –ø–ª–æ–¥, –ø–æ–¥—Ö–æ–¥—è—â –Ω–∞–±–æ—Ä –æ—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏–ª–∏ –ø–ª–æ–¥, –≤–∏–¥–∏–º –Ω–∞ –≤–∞—à–∞—Ç–∞ —É–µ–± –∫–∞–º–µ—Ä–∞, –∞–∫–æ –∏–∑–ø–æ–ª–∑–≤–∞—Ç–µ –≤–∏—Ä—Ç—É–∞–ª–µ–Ω IoT —Ö–∞—Ä–¥—É–µ—Ä. –©–µ –≤–∏–¥–∏—Ç–µ –∏–∑—Ö–æ–¥–∞ –≤ –∫–æ–Ω–∑–æ–ª–∞—Ç–∞:

    ```output
    (.venv) ‚ûú  fruit-quality-detector python app.py
    ripe:   56.84%
    unripe: 43.16%
    ```

    –©–µ –º–æ–∂–µ—Ç–µ –¥–∞ –≤–∏–¥–∏—Ç–µ –∑–∞—Å–Ω–µ—Ç–æ—Ç–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ, –∫–∞–∫—Ç–æ –∏ —Ç–µ–∑–∏ —Å—Ç–æ–π–Ω–æ—Å—Ç–∏ –≤ —Ç–∞–±–∞ **Predictions** –≤ Custom Vision.

    ![–ë–∞–Ω–∞–Ω –≤ Custom Vision, –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω –∫–∞—Ç–æ —É–∑—Ä—è–ª —Å 56.8% –∏ –Ω–µ—É–∑—Ä—è–ª —Å 43.1%](../../../../../translated_images/custom-vision-banana-prediction.30cdff4e1d72db5d9a0be0193790a47c2b387da034e12dc1314dd57ca2131b59.bg.png)

> üíÅ –ú–æ–∂–µ—Ç–µ –¥–∞ –Ω–∞–º–µ—Ä–∏—Ç–µ —Ç–æ–∑–∏ –∫–æ–¥ –≤ –ø–∞–ø–∫–∞—Ç–∞ [code-classify/pi](../../../../../4-manufacturing/lessons/2-check-fruit-from-device/code-classify/pi) –∏–ª–∏ [code-classify/virtual-iot-device](../../../../../4-manufacturing/lessons/2-check-fruit-from-device/code-classify/virtual-iot-device).

üòÄ –í–∞—à–∞—Ç–∞ –ø—Ä–æ–≥—Ä–∞–º–∞ –∑–∞ –∫–ª–∞—Å–∏—Ñ–∏—Ü–∏—Ä–∞–Ω–µ –Ω–∞ –∫–∞—á–µ—Å—Ç–≤–æ—Ç–æ –Ω–∞ –ø–ª–æ–¥–æ–≤–µ—Ç–µ –±–µ—à–µ —É—Å–ø–µ—à–Ω–∞!

---

**–û—Ç–∫–∞–∑ –æ—Ç –æ—Ç–≥–æ–≤–æ—Ä–Ω–æ—Å—Ç**:  
–¢–æ–∑–∏ –¥–æ–∫—É–º–µ–Ω—Ç –µ –ø—Ä–µ–≤–µ–¥–µ–Ω —Å –ø–æ–º–æ—â—Ç–∞ –Ω–∞ AI —É—Å–ª—É–≥–∞ –∑–∞ –ø—Ä–µ–≤–æ–¥ [Co-op Translator](https://github.com/Azure/co-op-translator). –í—ä–ø—Ä–µ–∫–∏ —á–µ —Å–µ —Å—Ç—Ä–µ–º–∏–º –∫—ä–º —Ç–æ—á–Ω–æ—Å—Ç, –º–æ–ª—è, –∏–º–∞–π—Ç–µ –ø—Ä–µ–¥–≤–∏–¥, —á–µ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–∞–Ω–∏—Ç–µ –ø—Ä–µ–≤–æ–¥–∏ –º–æ–∂–µ –¥–∞ —Å—ä–¥—ä—Ä–∂–∞—Ç –≥—Ä–µ—à–∫–∏ –∏–ª–∏ –Ω–µ—Ç–æ—á–Ω–æ—Å—Ç–∏. –û—Ä–∏–≥–∏–Ω–∞–ª–Ω–∏—è—Ç –¥–æ–∫—É–º–µ–Ω—Ç –Ω–∞ –Ω–µ–≥–æ–≤–∏—è —Ä–æ–¥–µ–Ω –µ–∑–∏–∫ —Ç—Ä—è–±–≤–∞ –¥–∞ —Å–µ —Å—á–∏—Ç–∞ –∑–∞ –∞–≤—Ç–æ—Ä–∏—Ç–µ—Ç–µ–Ω –∏–∑—Ç–æ—á–Ω–∏–∫. –ó–∞ –∫—Ä–∏—Ç–∏—á–Ω–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è —Å–µ –ø—Ä–µ–ø–æ—Ä—ä—á–≤–∞ –ø—Ä–æ—Ñ–µ—Å–∏–æ–Ω–∞–ª–µ–Ω —á–æ–≤–µ—à–∫–∏ –ø—Ä–µ–≤–æ–¥. –ù–∏–µ –Ω–µ –Ω–æ—Å–∏–º –æ—Ç–≥–æ–≤–æ—Ä–Ω–æ—Å—Ç –∑–∞ –Ω–µ–¥–æ—Ä–∞–∑—É–º–µ–Ω–∏—è –∏–ª–∏ –ø–æ–≥—Ä–µ—à–Ω–∏ –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏–∏, –ø—Ä–æ–∏–∑—Ç–∏—á–∞—â–∏ –æ—Ç –∏–∑–ø–æ–ª–∑–≤–∞–Ω–µ—Ç–æ –Ω–∞ —Ç–æ–∑–∏ –ø—Ä–µ–≤–æ–¥.