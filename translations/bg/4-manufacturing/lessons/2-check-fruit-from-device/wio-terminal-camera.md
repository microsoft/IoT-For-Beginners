<!--
CO_OP_TRANSLATOR_METADATA:
{
  "original_hash": "160be8c0f558687f6686dca64f10f739",
  "translation_date": "2025-08-28T08:46:09+00:00",
  "source_file": "4-manufacturing/lessons/2-check-fruit-from-device/wio-terminal-camera.md",
  "language_code": "bg"
}
-->
# –ó–∞—Å–Ω–µ–º–∞–Ω–µ –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ - Wio Terminal

–í —Ç–∞–∑–∏ —á–∞—Å—Ç –Ω–∞ —É—Ä–æ–∫–∞ —â–µ –¥–æ–±–∞–≤–∏—Ç–µ –∫–∞–º–µ—Ä–∞ –∫—ä–º –≤–∞—à–∏—è Wio Terminal –∏ —â–µ –∑–∞—Å–Ω–µ–º–µ—Ç–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å –Ω–µ—è.

## –•–∞—Ä–¥—É–µ—Ä

Wio Terminal —Å–µ –Ω—É–∂–¥–∞–µ –æ—Ç –∫–∞–º–µ—Ä–∞.

–ö–∞–º–µ—Ä–∞—Ç–∞, –∫–æ—è—Ç–æ —â–µ –∏–∑–ø–æ–ª–∑–≤–∞—Ç–µ, –µ [ArduCam Mini 2MP Plus](https://www.arducam.com/product/arducam-2mp-spi-camera-b0067-arduino/). –¢–æ–≤–∞ –µ 2-–º–µ–≥–∞–ø–∏–∫—Å–µ–ª–æ–≤–∞ –∫–∞–º–µ—Ä–∞, –±–∞–∑–∏—Ä–∞–Ω–∞ –Ω–∞ —Å–µ–Ω–∑–æ—Ä–∞ OV2640. –¢—è –∫–æ–º—É–Ω–∏–∫–∏—Ä–∞ —á—Ä–µ–∑ SPI –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∑–∞ –∑–∞—Å–Ω–µ–º–∞–Ω–µ –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏ –∏–∑–ø–æ–ª–∑–≤–∞ I2C –∑–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä–∞–Ω–µ –Ω–∞ —Å–µ–Ω–∑–æ—Ä–∞.

## –°–≤—ä—Ä–∑–≤–∞–Ω–µ –Ω–∞ –∫–∞–º–µ—Ä–∞—Ç–∞

ArduCam –Ω—è–º–∞ Grove –∫–æ–Ω–µ–∫—Ç–æ—Ä, –≤–º–µ—Å—Ç–æ —Ç–æ–≤–∞ —Å–µ —Å–≤—ä—Ä–∑–≤–∞ –∫—ä–º SPI –∏ I2C —à–∏–Ω–∏—Ç–µ —á—Ä–µ–∑ GPIO –ø–∏–Ω–æ–≤–µ—Ç–µ –Ω–∞ Wio Terminal.

### –ó–∞–¥–∞—á–∞ - —Å–≤—ä—Ä–∂–µ—Ç–µ –∫–∞–º–µ—Ä–∞—Ç–∞

–°–≤—ä—Ä–∂–µ—Ç–µ –∫–∞–º–µ—Ä–∞—Ç–∞.

![–°–µ–Ω–∑–æ—Ä ArduCam](../../../../../translated_images/arducam.20e4e4cbb268296570b5914e20d6c349fc42ddac9ed4e1b9deba2188204eebae.bg.png)

1. –ü–∏–Ω–æ–≤–µ—Ç–µ –≤ –æ—Å–Ω–æ–≤–∞—Ç–∞ –Ω–∞ ArduCam —Ç—Ä—è–±–≤–∞ –¥–∞ –±—ä–¥–∞—Ç —Å–≤—ä—Ä–∑–∞–Ω–∏ –∫—ä–º GPIO –ø–∏–Ω–æ–≤–µ—Ç–µ –Ω–∞ Wio Terminal. –ó–∞ –¥–∞ –µ –ø–æ-–ª–µ—Å–Ω–æ –¥–∞ –Ω–∞–º–µ—Ä–∏—Ç–µ –ø—Ä–∞–≤–∏–ª–Ω–∏—Ç–µ –ø–∏–Ω–æ–≤–µ, –ø—Ä–∏–∫—Ä–µ–ø–µ—Ç–µ —Å—Ç–∏–∫–µ—Ä–∞ –∑–∞ GPIO –ø–∏–Ω–æ–≤–µ, –∫–æ–π—Ç–æ –∏–¥–≤–∞ —Å Wio Terminal, –æ–∫–æ–ª–æ –ø–∏–Ω–æ–≤–µ—Ç–µ:

    ![Wio Terminal —Å—ä—Å —Å—Ç–∏–∫–µ—Ä –∑–∞ GPIO –ø–∏–Ω–æ–≤–µ](../../../../../translated_images/wio-terminal-pin-sticker.b90b1535937b84bd00d853f0004aea74fac2aec04b43f14b887796b2633f855e.bg.png)

1. –ò–∑–ø–æ–ª–∑–≤–∞–π–∫–∏ –¥–∂—ä–º–ø–µ—Ä –∫–∞–±–µ–ª–∏, –Ω–∞–ø—Ä–∞–≤–µ—Ç–µ —Å–ª–µ–¥–Ω–∏—Ç–µ –≤—Ä—ä–∑–∫–∏:

    | –ü–∏–Ω –Ω–∞ ArduCAM | –ü–∏–Ω –Ω–∞ Wio Terminal | –û–ø–∏—Å–∞–Ω–∏–µ                                |
    | -------------- | ------------------- | --------------------------------------- |
    | CS             | 24 (SPI_CS)         | SPI Chip Select                         |
    | MOSI           | 19 (SPI_MOSI)       | SPI –ö–æ–Ω—Ç—Ä–æ–ª–µ—Ä –ò–∑—Ö–æ–¥, –ü–µ—Ä–∏—Ñ–µ—Ä–µ–Ω –í—Ö–æ–¥     |
    | MISO           | 21 (SPI_MISO)       | SPI –ö–æ–Ω—Ç—Ä–æ–ª–µ—Ä –í—Ö–æ–¥, –ü–µ—Ä–∏—Ñ–µ—Ä–µ–Ω –ò–∑—Ö–æ–¥     |
    | SCK            | 23 (SPI_SCLK)       | SPI –°–µ—Ä–∏–µ–Ω –ß–∞—Å–æ–≤–Ω–∏–∫                     |
    | GND            | 6 (GND)             | –ó–µ–º—è - 0V                               |
    | VCC            | 4 (5V)              | 5V –∑–∞—Ö—Ä–∞–Ω–≤–∞–Ω–µ                           |
    | SDA            | 3 (I2C1_SDA)        | I2C –°–µ—Ä–∏–µ–Ω –î–∞–Ω–Ω–∏                        |
    | SCL            | 5 (I2C1_SCL)        | I2C –°–µ—Ä–∏–µ–Ω –ß–∞—Å–æ–≤–Ω–∏–∫                     |

    ![Wio Terminal, —Å–≤—ä—Ä–∑–∞–Ω –∫—ä–º ArduCam —Å –¥–∂—ä–º–ø–µ—Ä –∫–∞–±–µ–ª–∏](../../../../../translated_images/arducam-wio-terminal-connections.a4d5a4049bdb5ab800a2877389fc6ecf5e4ff307e6451ff56c517e6786467d0a.bg.png)

    –í—Ä—ä–∑–∫–∏—Ç–µ GND –∏ VCC –æ—Å–∏–≥—É—Ä—è–≤–∞—Ç 5V –∑–∞—Ö—Ä–∞–Ω–≤–∞–Ω–µ –∑–∞ ArduCam. –ö–∞–º–µ—Ä–∞—Ç–∞ —Ä–∞–±–æ—Ç–∏ –Ω–∞ 5V, –∑–∞ —Ä–∞–∑–ª–∏–∫–∞ –æ—Ç Grove —Å–µ–Ω–∑–æ—Ä–∏—Ç–µ, –∫–æ–∏—Ç–æ —Ä–∞–±–æ—Ç—è—Ç –Ω–∞ 3V. –¢–æ–≤–∞ –∑–∞—Ö—Ä–∞–Ω–≤–∞–Ω–µ –∏–¥–≤–∞ –¥–∏—Ä–µ–∫—Ç–Ω–æ –æ—Ç USB-C –≤—Ä—ä–∑–∫–∞—Ç–∞, –∫–æ—è—Ç–æ –∑–∞—Ö—Ä–∞–Ω–≤–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ—Ç–æ.

    > üíÅ –ó–∞ SPI –≤—Ä—ä–∑–∫–∞—Ç–∞ –µ—Ç–∏–∫–µ—Ç–∏—Ç–µ –Ω–∞ –ø–∏–Ω–æ–≤–µ—Ç–µ –Ω–∞ ArduCam –∏ –∏–º–µ–Ω–∞—Ç–∞ –Ω–∞ –ø–∏–Ω–æ–≤–µ—Ç–µ –Ω–∞ Wio Terminal, –∏–∑–ø–æ–ª–∑–≤–∞–Ω–∏ –≤ –∫–æ–¥–∞, –≤—Å–µ –æ—â–µ –∏–∑–ø–æ–ª–∑–≤–∞—Ç —Å—Ç–∞—Ä–∞—Ç–∞ –∫–æ–Ω–≤–µ–Ω—Ü–∏—è –∑–∞ –∏–º–µ–Ω—É–≤–∞–Ω–µ. –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏—Ç–µ –≤ —Ç–æ–∑–∏ —É—Ä–æ–∫ —â–µ –∏–∑–ø–æ–ª–∑–≤–∞—Ç –Ω–æ–≤–∞—Ç–∞ –∫–æ–Ω–≤–µ–Ω—Ü–∏—è –∑–∞ –∏–º–µ–Ω—É–≤–∞–Ω–µ, –æ—Å–≤–µ–Ω –∫–æ–≥–∞—Ç–æ –∏–º–µ–Ω–∞—Ç–∞ –Ω–∞ –ø–∏–Ω–æ–≤–µ—Ç–µ —Å–µ –∏–∑–ø–æ–ª–∑–≤–∞—Ç –≤ –∫–æ–¥–∞.

1. –°–µ–≥–∞ –º–æ–∂–µ—Ç–µ –¥–∞ —Å–≤—ä—Ä–∂–µ—Ç–µ Wio Terminal –∫—ä–º –≤–∞—à–∏—è –∫–æ–º–ø—é—Ç—ä—Ä.

## –ü—Ä–æ–≥—Ä–∞–º–∏—Ä–∞–Ω–µ –Ω–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ—Ç–æ –∑–∞ —Å–≤—ä—Ä–∑–≤–∞–Ω–µ —Å –∫–∞–º–µ—Ä–∞—Ç–∞

–°–µ–≥–∞ Wio Terminal –º–æ–∂–µ –¥–∞ –±—ä–¥–µ –ø—Ä–æ–≥—Ä–∞–º–∏—Ä–∞–Ω –¥–∞ –∏–∑–ø–æ–ª–∑–≤–∞ —Å–≤—ä—Ä–∑–∞–Ω–∞—Ç–∞ ArduCAM –∫–∞–º–µ—Ä–∞.

### –ó–∞–¥–∞—á–∞ - –ø—Ä–æ–≥—Ä–∞–º–∏—Ä–∞–π—Ç–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ—Ç–æ –∑–∞ —Å–≤—ä—Ä–∑–≤–∞–Ω–µ —Å –∫–∞–º–µ—Ä–∞—Ç–∞

1. –°—ä–∑–¥–∞–π—Ç–µ –Ω–æ–≤ –ø—Ä–æ–µ–∫—Ç –∑–∞ Wio Terminal, –∏–∑–ø–æ–ª–∑–≤–∞–π–∫–∏ PlatformIO. –ù–∞—Ä–µ—á–µ—Ç–µ —Ç–æ–∑–∏ –ø—Ä–æ–µ–∫—Ç `fruit-quality-detector`. –î–æ–±–∞–≤–µ—Ç–µ –∫–æ–¥ –≤—ä–≤ —Ñ—É–Ω–∫—Ü–∏—è—Ç–∞ `setup`, –∑–∞ –¥–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä–∞—Ç–µ —Å–µ—Ä–∏–π–Ω–∏—è –ø–æ—Ä—Ç.

1. –î–æ–±–∞–≤–µ—Ç–µ –∫–æ–¥ –∑–∞ —Å–≤—ä—Ä–∑–≤–∞–Ω–µ –∫—ä–º WiFi, –∫–∞—Ç–æ –∏–∑–ø–æ–ª–∑–≤–∞—Ç–µ –≤–∞—à–∏—Ç–µ WiFi –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–æ–Ω–Ω–∏ –¥–∞–Ω–Ω–∏ –≤ —Ñ–∞–π–ª, –Ω–∞—Ä–µ—á–µ–Ω `config.h`. –ù–µ –∑–∞–±—Ä–∞–≤—è–π—Ç–µ –¥–∞ –¥–æ–±–∞–≤–∏—Ç–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–∏—Ç–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –≤ `platformio.ini` —Ñ–∞–π–ª–∞.

1. –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞—Ç–∞ ArduCam –Ω–µ –µ –Ω–∞–ª–∏—á–Ω–∞ –∫–∞—Ç–æ Arduino –±–∏–±–ª–∏–æ—Ç–µ–∫–∞, –∫–æ—è—Ç–æ –º–æ–∂–µ –¥–∞ –±—ä–¥–µ –∏–Ω—Å—Ç–∞–ª–∏—Ä–∞–Ω–∞ –æ—Ç `platformio.ini` —Ñ–∞–π–ª–∞. –í–º–µ—Å—Ç–æ —Ç–æ–≤–∞ —Ç—è —Ç—Ä—è–±–≤–∞ –¥–∞ –±—ä–¥–µ –∏–Ω—Å—Ç–∞–ª–∏—Ä–∞–Ω–∞ –æ—Ç –∏–∑—Ö–æ–¥–Ω–∏—è –∫–æ–¥ –æ—Ç —Ç—è—Ö–Ω–∞—Ç–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –≤ GitHub. –ú–æ–∂–µ—Ç–µ –¥–∞ —è –ø–æ–ª—É—á–∏—Ç–µ –ø–æ –µ–¥–∏–Ω –æ—Ç —Å–ª–µ–¥–Ω–∏—Ç–µ –Ω–∞—á–∏–Ω–∏:

    * –ö–ª–æ–Ω–∏—Ä–∞–π—Ç–µ —Ä–µ–ø–æ—Ç–æ –æ—Ç [https://github.com/ArduCAM/Arduino.git](https://github.com/ArduCAM/Arduino.git)
    * –û—Ç–∏–¥–µ—Ç–µ –Ω–∞ —Ä–µ–ø–æ—Ç–æ –≤ GitHub –Ω–∞ [github.com/ArduCAM/Arduino](https://github.com/ArduCAM/Arduino) –∏ –∏–∑—Ç–µ–≥–ª–µ—Ç–µ –∫–æ–¥–∞ –∫–∞—Ç–æ zip —Ñ–∞–π–ª –æ—Ç –±—É—Ç–æ–Ω–∞ **Code**

1. –ù—É–∂–¥–∞–µ—Ç–µ —Å–µ —Å–∞–º–æ –æ—Ç –ø–∞–ø–∫–∞—Ç–∞ `ArduCAM` –æ—Ç —Ç–æ–∑–∏ –∫–æ–¥. –ö–æ–ø–∏—Ä–∞–π—Ç–µ —Ü—è–ª–∞—Ç–∞ –ø–∞–ø–∫–∞ –≤ –ø–∞–ø–∫–∞—Ç–∞ `lib` –≤—ä–≤ –≤–∞—à–∏—è –ø—Ä–æ–µ–∫—Ç.

    > ‚ö†Ô∏è –¶—è–ª–∞—Ç–∞ –ø–∞–ø–∫–∞ —Ç—Ä—è–±–≤–∞ –¥–∞ –±—ä–¥–µ –∫–æ–ø–∏—Ä–∞–Ω–∞, —Ç–∞–∫–∞ —á–µ –∫–æ–¥—ä—Ç –¥–∞ –µ –≤ `lib/ArduCam`. –ù–µ –∫–æ–ø–∏—Ä–∞–π—Ç–µ —Å–∞–º–æ —Å—ä–¥—ä—Ä–∂–∞–Ω–∏–µ—Ç–æ –Ω–∞ –ø–∞–ø–∫–∞—Ç–∞ `ArduCam` –≤ –ø–∞–ø–∫–∞—Ç–∞ `lib`, –∫–æ–ø–∏—Ä–∞–π—Ç–µ —Ü—è–ª–∞—Ç–∞ –ø–∞–ø–∫–∞.

1. –ö–æ–¥—ä—Ç –Ω–∞ –±–∏–±–ª–∏–æ—Ç–µ–∫–∞—Ç–∞ ArduCam —Ä–∞–±–æ—Ç–∏ –∑–∞ –º–Ω–æ–∂–µ—Å—Ç–≤–æ —Ç–∏–ø–æ–≤–µ –∫–∞–º–µ—Ä–∏. –¢–∏–ø—ä—Ç –∫–∞–º–µ—Ä–∞, –∫–æ–π—Ç–æ –∏—Å–∫–∞—Ç–µ –¥–∞ –∏–∑–ø–æ–ª–∑–≤–∞—Ç–µ, —Å–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä–∞ —á—Ä–µ–∑ —Ñ–ª–∞–≥–æ–≤–µ –Ω–∞ –∫–æ–º–ø–∏–ª–∞—Ç–æ—Ä–∞ - —Ç–æ–≤–∞ –ø—Ä–∞–≤–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–∞—Ç–∞ –≤—ä–∑–º–æ–∂–Ω–æ –Ω–∞–π-–º–∞–ª–∫–∞, –∫–∞—Ç–æ –ø—Ä–µ–º–∞—Ö–≤–∞ –∫–æ–¥–∞ –∑–∞ –∫–∞–º–µ—Ä–∏, –∫–æ–∏—Ç–æ –Ω–µ –∏–∑–ø–æ–ª–∑–≤–∞—Ç–µ. –ó–∞ –¥–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä–∞—Ç–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∞—Ç–∞ –∑–∞ –∫–∞–º–µ—Ä–∞—Ç–∞ OV2640, –¥–æ–±–∞–≤–µ—Ç–µ —Å–ª–µ–¥–Ω–æ—Ç–æ –≤ –∫—Ä–∞—è –Ω–∞ `platformio.ini` —Ñ–∞–π–ª–∞:

    ```ini
    build_flags =
        -DARDUCAM_SHIELD_V2
        -DOV2640_CAM
    ```

    –¢–æ–≤–∞ –∑–∞–¥–∞–≤–∞ 2 —Ñ–ª–∞–≥–∞ –Ω–∞ –∫–æ–º–ø–∏–ª–∞—Ç–æ—Ä–∞:

      * `ARDUCAM_SHIELD_V2`, –∑–∞ –¥–∞ –∫–∞–∂–µ –Ω–∞ –±–∏–±–ª–∏–æ—Ç–µ–∫–∞—Ç–∞, —á–µ –∫–∞–º–µ—Ä–∞—Ç–∞ –µ –Ω–∞ Arduino –ø–ª–∞—Ç–∫–∞, –∏–∑–≤–µ—Å—Ç–Ω–∞ –∫–∞—Ç–æ shield.
      * `OV2640_CAM`, –∑–∞ –¥–∞ –∫–∞–∂–µ –Ω–∞ –±–∏–±–ª–∏–æ—Ç–µ–∫–∞—Ç–∞ –¥–∞ –≤–∫–ª—é—á–∏ —Å–∞–º–æ –∫–æ–¥–∞ –∑–∞ –∫–∞–º–µ—Ä–∞—Ç–∞ OV2640.

1. –î–æ–±–∞–≤–µ—Ç–µ –∑–∞–≥–ª–∞–≤–µ–Ω —Ñ–∞–π–ª –≤ –ø–∞–ø–∫–∞—Ç–∞ `src`, –Ω–∞—Ä–µ—á–µ–Ω `camera.h`. –¢–æ–∑–∏ —Ñ–∞–π–ª —â–µ —Å—ä–¥—ä—Ä–∂–∞ –∫–æ–¥ –∑–∞ –∫–æ–º—É–Ω–∏–∫–∞—Ü–∏—è —Å –∫–∞–º–µ—Ä–∞—Ç–∞. –î–æ–±–∞–≤–µ—Ç–µ —Å–ª–µ–¥–Ω–∏—è –∫–æ–¥ –≤ —Ç–æ–∑–∏ —Ñ–∞–π–ª:

    ```cpp
    #pragma once
    
    #include <ArduCAM.h>
    #include <Wire.h>
    
    class Camera
    {
    public:
        Camera(int format, int image_size) : _arducam(OV2640, PIN_SPI_SS)
        {
            _format = format;
            _image_size = image_size;
        }
    
        bool init()
        {
            // Reset the CPLD
            _arducam.write_reg(0x07, 0x80);
            delay(100);
    
            _arducam.write_reg(0x07, 0x00);
            delay(100);
    
            // Check if the ArduCAM SPI bus is OK
            _arducam.write_reg(ARDUCHIP_TEST1, 0x55);
            if (_arducam.read_reg(ARDUCHIP_TEST1) != 0x55)
            {
                return false;
            }
                
            // Change MCU mode
            _arducam.set_mode(MCU2LCD_MODE);
    
            uint8_t vid, pid;
    
            // Check if the camera module type is OV2640
            _arducam.wrSensorReg8_8(0xff, 0x01);
            _arducam.rdSensorReg8_8(OV2640_CHIPID_HIGH, &vid);
            _arducam.rdSensorReg8_8(OV2640_CHIPID_LOW, &pid);
            if ((vid != 0x26) && ((pid != 0x41) || (pid != 0x42)))
            {
                return false;
            }
            
            _arducam.set_format(_format);
            _arducam.InitCAM();
            _arducam.OV2640_set_JPEG_size(_image_size);
            _arducam.OV2640_set_Light_Mode(Auto);
            _arducam.OV2640_set_Special_effects(Normal);
            delay(1000);
    
            return true;
        }
    
        void startCapture()
        {
            _arducam.flush_fifo();
            _arducam.clear_fifo_flag();
            _arducam.start_capture();
        }
    
        bool captureReady()
        {
            return _arducam.get_bit(ARDUCHIP_TRIG, CAP_DONE_MASK);
        }
    
        bool readImageToBuffer(byte **buffer, uint32_t &buffer_length)
        {
            if (!captureReady()) return false;
    
            // Get the image file length
            uint32_t length = _arducam.read_fifo_length();
            buffer_length = length;
    
            if (length >= MAX_FIFO_SIZE)
            {
                return false;
            }
            if (length == 0)
            {
                return false;
            }
    
            // create the buffer
            byte *buf = new byte[length];
    
            uint8_t temp = 0, temp_last = 0;
            int i = 0;
            uint32_t buffer_pos = 0;
            bool is_header = false;
    
            _arducam.CS_LOW();
            _arducam.set_fifo_burst();
            
            while (length--)
            {
                temp_last = temp;
                temp = SPI.transfer(0x00);
                //Read JPEG data from FIFO
                if ((temp == 0xD9) && (temp_last == 0xFF)) //If find the end ,break while,
                {
                    buf[buffer_pos] = temp;
    
                    buffer_pos++;
                    i++;
                    
                    _arducam.CS_HIGH();
                }
                if (is_header == true)
                {
                    //Write image data to buffer if not full
                    if (i < 256)
                    {
                        buf[buffer_pos] = temp;
                        buffer_pos++;
                        i++;
                    }
                    else
                    {
                        _arducam.CS_HIGH();
    
                        i = 0;
                        buf[buffer_pos] = temp;
    
                        buffer_pos++;
                        i++;
    
                        _arducam.CS_LOW();
                        _arducam.set_fifo_burst();
                    }
                }
                else if ((temp == 0xD8) & (temp_last == 0xFF))
                {
                    is_header = true;
    
                    buf[buffer_pos] = temp_last;
                    buffer_pos++;
                    i++;
    
                    buf[buffer_pos] = temp;
                    buffer_pos++;
                    i++;
                }
            }
            
            _arducam.clear_fifo_flag();
    
            _arducam.set_format(_format);
            _arducam.InitCAM();
            _arducam.OV2640_set_JPEG_size(_image_size);
    
            // return the buffer
            *buffer = buf;
        }
    
    private:
        ArduCAM _arducam;
        int _format;
        int _image_size;
    };
    ```

    –¢–æ–≤–∞ –µ –Ω–∏—Å–∫–æ –Ω–∏–≤–æ –∫–æ–¥, –∫–æ–π—Ç–æ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä–∞ –∫–∞–º–µ—Ä–∞—Ç–∞, –∏–∑–ø–æ–ª–∑–≤–∞–π–∫–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏—Ç–µ –Ω–∞ ArduCam, –∏ –∏–∑–≤–ª–∏—á–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è—Ç–∞, –∫–æ–≥–∞—Ç–æ –µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ, —á—Ä–µ–∑ SPI —à–∏–Ω–∞—Ç–∞. –¢–æ–∑–∏ –∫–æ–¥ –µ –º–Ω–æ–≥–æ —Å–ø–µ—Ü–∏—Ñ–∏—á–µ–Ω –∑–∞ ArduCam, —Ç–∞–∫–∞ —á–µ –Ω–µ –µ –Ω—É–∂–Ω–æ –¥–∞ —Å–µ –ø—Ä–∏—Ç–µ—Å–Ω—è–≤–∞—Ç–µ –∫–∞–∫ —Ç–æ—á–Ω–æ —Ä–∞–±–æ—Ç–∏.

1. –í `main.cpp` –¥–æ–±–∞–≤–µ—Ç–µ —Å–ª–µ–¥–Ω–∏—è –∫–æ–¥ –ø–æ–¥ –¥—Ä—É–≥–∏—Ç–µ `include` –∏–∑—è–≤–ª–µ–Ω–∏—è, –∑–∞ –¥–∞ –≤–∫–ª—é—á–∏—Ç–µ —Ç–æ–∑–∏ –Ω–æ–≤ —Ñ–∞–π–ª –∏ –¥–∞ —Å—ä–∑–¥–∞–¥–µ—Ç–µ –∏–Ω—Å—Ç–∞–Ω—Ü–∏—è –Ω–∞ –∫–ª–∞—Å–∞ –∑–∞ –∫–∞–º–µ—Ä–∞—Ç–∞:

    ```cpp
    #include "camera.h"

    Camera camera = Camera(JPEG, OV2640_640x480);
    ```

    –¢–æ–≤–∞ —Å—ä–∑–¥–∞–≤–∞ `Camera`, –∫–æ—è—Ç–æ –∑–∞–ø–∏—Å–≤–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è—Ç–∞ –∫–∞—Ç–æ JPEG —Å —Ä–µ–∑–æ–ª—é—Ü–∏—è 640x480. –í—ä–ø—Ä–µ–∫–∏ —á–µ —Å–µ –ø–æ–¥–¥—ä—Ä–∂–∞—Ç –ø–æ-–≤–∏—Å–æ–∫–∏ —Ä–µ–∑–æ–ª—é—Ü–∏–∏ (–¥–æ 3280x2464), –∫–ª–∞—Å–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ä—Ç –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —Ä–∞–±–æ—Ç–∏ —Å –º–Ω–æ–≥–æ –ø–æ-–º–∞–ª–∫–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è (227x227), —Ç–∞–∫–∞ —á–µ –Ω—è–º–∞ –Ω—É–∂–¥–∞ –¥–∞ —Å–µ –∑–∞—Å–Ω–µ–º–∞—Ç –∏ –∏–∑–ø—Ä–∞—â–∞—Ç –ø–æ-–≥–æ–ª–µ–º–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è.

1. –î–æ–±–∞–≤–µ—Ç–µ —Å–ª–µ–¥–Ω–∏—è –∫–æ–¥ –ø–æ–¥ —Ç–æ–≤–∞, –∑–∞ –¥–∞ –¥–µ—Ñ–∏–Ω–∏—Ä–∞—Ç–µ —Ñ—É–Ω–∫—Ü–∏—è –∑–∞ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –Ω–∞ –∫–∞–º–µ—Ä–∞—Ç–∞:

    ```cpp
    void setupCamera()
    {
        pinMode(PIN_SPI_SS, OUTPUT);
        digitalWrite(PIN_SPI_SS, HIGH);
    
        Wire.begin();
        SPI.begin();
    
        if (!camera.init())
        {
            Serial.println("Error setting up the camera!");
        }
    }
    ```

    –¢–∞–∑–∏ —Ñ—É–Ω–∫—Ü–∏—è `setupCamera` –∑–∞–ø–æ—á–≤–∞ —Å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä–∞–Ω–µ –Ω–∞ SPI —á–∏–ø —Å–µ–ª–µ–∫—Ç –ø–∏–Ω–∞ (`PIN_SPI_SS`) –∫–∞—Ç–æ –≤–∏—Å–æ–∫, –ø—Ä–∞–≤–µ–π–∫–∏ Wio Terminal SPI –∫–æ–Ω—Ç—Ä–æ–ª–µ—Ä. –°–ª–µ–¥ —Ç–æ–≤–∞ —Å—Ç–∞—Ä—Ç–∏—Ä–∞ I2C –∏ SPI —à–∏–Ω–∏—Ç–µ. –ù–∞–∫—Ä–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–∞ –∫–ª–∞—Å–∞ –∑–∞ –∫–∞–º–µ—Ä–∞—Ç–∞, –∫–æ–π—Ç–æ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä–∞ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏—Ç–µ –Ω–∞ —Å–µ–Ω–∑–æ—Ä–∞ –Ω–∞ –∫–∞–º–µ—Ä–∞—Ç–∞ –∏ –≥–∞—Ä–∞–Ω—Ç–∏—Ä–∞, —á–µ –≤—Å–∏—á–∫–æ –µ –ø—Ä–∞–≤–∏–ª–Ω–æ —Å–≤—ä—Ä–∑–∞–Ω–æ.

1. –ò–∑–≤–∏–∫–∞–π—Ç–µ —Ç–∞–∑–∏ —Ñ—É–Ω–∫—Ü–∏—è –≤ –∫—Ä–∞—è –Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è—Ç–∞ `setup`:

    ```cpp
    setupCamera();
    ```

1. –ö–æ–º–ø–∏–ª–∏—Ä–∞–π—Ç–µ –∏ –∫–∞—á–µ—Ç–µ —Ç–æ–∑–∏ –∫–æ–¥ –∏ –ø—Ä–æ–≤–µ—Ä–µ—Ç–µ –∏–∑—Ö–æ–¥–∞ –æ—Ç —Å–µ—Ä–∏–π–Ω–∏—è –º–æ–Ω–∏—Ç–æ—Ä. –ê–∫–æ –≤–∏–¥–∏—Ç–µ `Error setting up the camera!`, –ø—Ä–æ–≤–µ—Ä–µ—Ç–µ –æ–∫–∞–±–µ–ª—è–≤–∞–Ω–µ—Ç–æ, –∑–∞ –¥–∞ —Å–µ —É–≤–µ—Ä–∏—Ç–µ, —á–µ –≤—Å–∏—á–∫–∏ –∫–∞–±–µ–ª–∏ —Å–≤—ä—Ä–∑–≤–∞—Ç –ø—Ä–∞–≤–∏–ª–Ω–∏—Ç–µ –ø–∏–Ω–æ–≤–µ –Ω–∞ ArduCam —Å –ø—Ä–∞–≤–∏–ª–Ω–∏—Ç–µ GPIO –ø–∏–Ω–æ–≤–µ –Ω–∞ Wio Terminal –∏ —á–µ –≤—Å–∏—á–∫–∏ –¥–∂—ä–º–ø–µ—Ä –∫–∞–±–µ–ª–∏ —Å–∞ –ø—Ä–∞–≤–∏–ª–Ω–æ –ø–æ—Å—Ç–∞–≤–µ–Ω–∏.

## –ó–∞—Å–Ω–µ–º–∞–Ω–µ –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ

–°–µ–≥–∞ Wio Terminal –º–æ–∂–µ –¥–∞ –±—ä–¥–µ –ø—Ä–æ–≥—Ä–∞–º–∏—Ä–∞–Ω –¥–∞ –∑–∞—Å–Ω–µ–º–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ, –∫–æ–≥–∞—Ç–æ —Å–µ –Ω–∞—Ç–∏—Å–Ω–µ –±—É—Ç–æ–Ω.

### –ó–∞–¥–∞—á–∞ - –∑–∞—Å–Ω–µ–º–µ—Ç–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ

1. –ú–∏–∫—Ä–æ–∫–æ–Ω—Ç—Ä–æ–ª–µ—Ä–∏—Ç–µ –∏–∑–ø—ä–ª–Ω—è–≤–∞—Ç –≤–∞—à–∏—è –∫–æ–¥ –Ω–µ–ø—Ä–µ–∫—ä—Å–Ω–∞—Ç–æ, —Ç–∞–∫–∞ —á–µ –Ω–µ –µ –ª–µ—Å–Ω–æ –¥–∞ —Å–µ –∑–∞–¥–µ–π—Å—Ç–≤–∞ –Ω–µ—â–æ –∫–∞—Ç–æ –∑–∞—Å–Ω–µ–º–∞–Ω–µ –Ω–∞ —Å–Ω–∏–º–∫–∞, –±–µ–∑ –¥–∞ —Å–µ —Ä–µ–∞–≥–∏—Ä–∞ –Ω–∞ —Å–µ–Ω–∑–æ—Ä. Wio Terminal –∏–º–∞ –±—É—Ç–æ–Ω–∏, —Ç–∞–∫–∞ —á–µ –∫–∞–º–µ—Ä–∞—Ç–∞ –º–æ–∂–µ –¥–∞ –±—ä–¥–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞ –¥–∞ —Å–µ –∑–∞–¥–µ–π—Å—Ç–≤–∞ –æ—Ç –µ–¥–∏–Ω –æ—Ç –±—É—Ç–æ–Ω–∏—Ç–µ. –î–æ–±–∞–≤–µ—Ç–µ —Å–ª–µ–¥–Ω–∏—è –∫–æ–¥ –≤ –∫—Ä–∞—è –Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è—Ç–∞ `setup`, –∑–∞ –¥–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä–∞—Ç–µ –±—É—Ç–æ–Ω–∞ C (–µ–¥–∏–Ω –æ—Ç —Ç—Ä–∏—Ç–µ –±—É—Ç–æ–Ω–∞ –æ—Ç–≥–æ—Ä–µ, —Ç–æ–∑–∏ –Ω–∞–π-–±–ª–∏–∑–æ –¥–æ –ø—Ä–µ–≤–∫–ª—é—á–≤–∞—Ç–µ–ª—è –∑–∞ –∑–∞—Ö—Ä–∞–Ω–≤–∞–Ω–µ).

    ![–ë—É—Ç–æ–Ω C, –Ω–∞–π-–±–ª–∏–∑–æ –¥–æ –ø—Ä–µ–≤–∫–ª—é—á–≤–∞—Ç–µ–ª—è –∑–∞ –∑–∞—Ö—Ä–∞–Ω–≤–∞–Ω–µ](../../../../../translated_images/wio-terminal-c-button.73df3cb1c1445ea07ee98316af0e7925fcb43135df0abed58d3d4822b2589c3b.bg.png)

    ```cpp
    pinMode(WIO_KEY_C, INPUT_PULLUP);
    ```

    –†–µ–∂–∏–º—ä—Ç `INPUT_PULLUP` –Ω–∞ –ø—Ä–∞–∫—Ç–∏–∫–∞ –æ–±—Ä—ä—â–∞ –≤—Ö–æ–¥–∞. –ù–∞–ø—Ä–∏–º–µ—Ä, –æ–±–∏–∫–Ω–æ–≤–µ–Ω–æ –±—É—Ç–æ–Ω—ä—Ç –±–∏ –∏–∑–ø—Ä–∞—â–∞–ª –Ω–∏—Å—ä–∫ —Å–∏–≥–Ω–∞–ª, –∫–æ–≥–∞—Ç–æ –Ω–µ –µ –Ω–∞—Ç–∏—Å–Ω–∞—Ç, –∏ –≤–∏—Å–æ–∫ —Å–∏–≥–Ω–∞–ª, –∫–æ–≥–∞—Ç–æ –µ –Ω–∞—Ç–∏—Å–Ω–∞—Ç. –ö–æ–≥–∞—Ç–æ –µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω –Ω–∞ `INPUT_PULLUP`, —Ç–æ–π –∏–∑–ø—Ä–∞—â–∞ –≤–∏—Å–æ–∫ —Å–∏–≥–Ω–∞–ª, –∫–æ–≥–∞—Ç–æ –Ω–µ –µ –Ω–∞—Ç–∏—Å–Ω–∞—Ç, –∏ –Ω–∏—Å—ä–∫ —Å–∏–≥–Ω–∞–ª, –∫–æ–≥–∞—Ç–æ –µ –Ω–∞—Ç–∏—Å–Ω–∞—Ç.

1. –î–æ–±–∞–≤–µ—Ç–µ –ø—Ä–∞–∑–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è –∑–∞ —Ä–µ–∞–∫—Ü–∏—è –Ω–∞ –Ω–∞—Ç–∏—Å–∫–∞–Ω–µ—Ç–æ –Ω–∞ –±—É—Ç–æ–Ω–∞ –ø—Ä–µ–¥–∏ —Ñ—É–Ω–∫—Ü–∏—è—Ç–∞ `loop`:

    ```cpp
    void buttonPressed()
    {
        
    }
    ```

1. –ò–∑–≤–∏–∫–∞–π—Ç–µ —Ç–∞–∑–∏ —Ñ—É–Ω–∫—Ü–∏—è –≤—ä–≤ —Ñ—É–Ω–∫—Ü–∏—è—Ç–∞ `loop`, –∫–æ–≥–∞—Ç–æ –±—É—Ç–æ–Ω—ä—Ç –µ –Ω–∞—Ç–∏—Å–Ω–∞—Ç:

    ```cpp
    void loop()
    {
        if (digitalRead(WIO_KEY_C) == LOW)
        {
            buttonPressed();
            delay(2000);
        }
    
        delay(200);
    }
    ```

    –¢–æ–∑–∏ –∫–æ–¥ –ø—Ä–æ–≤–µ—Ä—è–≤–∞ –¥–∞–ª–∏ –±—É—Ç–æ–Ω—ä—Ç –µ –Ω–∞—Ç–∏—Å–Ω–∞—Ç. –ê–∫–æ –µ –Ω–∞—Ç–∏—Å–Ω–∞—Ç, —Å–µ –∏–∑–≤–∏–∫–≤–∞ —Ñ—É–Ω–∫—Ü–∏—è—Ç–∞ `buttonPressed`, –∏ —Ü–∏–∫—ä–ª—ä—Ç —Å–µ –∑–∞–±–∞–≤—è —Å 2 —Å–µ–∫—É–Ω–¥–∏. –¢–æ–≤–∞ –µ, –∑–∞ –¥–∞ —Å–µ –¥–∞–¥–µ –≤—Ä–µ–º–µ –±—É—Ç–æ–Ω—ä—Ç –¥–∞ –±—ä–¥–µ –æ—Å–≤–æ–±–æ–¥–µ–Ω, —Ç–∞–∫–∞ —á–µ –¥—ä–ª–≥–æ –Ω–∞—Ç–∏—Å–∫–∞–Ω–µ –¥–∞ –Ω–µ —Å–µ —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–∞ –¥–≤–∞ –ø—ä—Ç–∏.

    > üíÅ –ë—É—Ç–æ–Ω—ä—Ç –Ω–∞ Wio Terminal –µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω –Ω–∞ `INPUT_PULLUP`, —Ç–∞–∫–∞ —á–µ –∏–∑–ø—Ä–∞—â–∞ –≤–∏—Å–æ–∫ —Å–∏–≥–Ω–∞–ª, –∫–æ–≥–∞—Ç–æ –Ω–µ –µ –Ω–∞—Ç–∏—Å–Ω–∞—Ç, –∏ –Ω–∏—Å—ä–∫ —Å–∏–≥–Ω–∞–ª, –∫–æ–≥–∞—Ç–æ –µ –Ω–∞—Ç–∏—Å–Ω–∞—Ç.

1. –î–æ–±–∞–≤–µ—Ç–µ —Å–ª–µ–¥–Ω–∏—è –∫–æ–¥ –≤—ä–≤ —Ñ—É–Ω–∫—Ü–∏—è—Ç–∞ `buttonPressed`:

    ```cpp
    camera.startCapture();
 
    while (!camera.captureReady())
        delay(100);

    Serial.println("Image captured");

    byte *buffer;
    uint32_t length;

    if (camera.readImageToBuffer(&buffer, length))
    {
        Serial.print("Image read to buffer with length ");
        Serial.println(length);

        delete(buffer);
    }
    ```

    –¢–æ–∑–∏ –∫–æ–¥ –∑–∞–ø–æ—á–≤–∞ –∑–∞—Å–Ω–µ–º–∞–Ω–µ—Ç–æ –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ, –∫–∞—Ç–æ –∏–∑–≤–∏–∫–≤–∞ `startCapture`. –•–∞—Ä–¥—É–µ—Ä—ä—Ç –Ω–∞ –∫–∞–º–µ—Ä–∞—Ç–∞ –Ω–µ —Ä–∞–±–æ—Ç–∏, –∫–∞—Ç–æ –≤—Ä—ä—â–∞ –¥–∞–Ω–Ω–∏—Ç–µ, –∫–æ–≥–∞—Ç–æ –≥–∏ –ø–æ–∏—Å–∫–∞—Ç–µ, –≤–º–µ—Å—Ç–æ —Ç–æ–≤–∞ –∏–∑–ø—Ä–∞—â–∞—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –∑–∞ –∑–∞–ø–æ—á–≤–∞–Ω–µ –Ω–∞ –∑–∞—Å–Ω–µ–º–∞–Ω–µ, –∏ –∫–∞–º–µ—Ä–∞—Ç–∞ —Ä–∞–±–æ—Ç–∏ –≤—ä–≤ —Ñ–æ–Ω–æ–≤ —Ä–µ–∂–∏–º, –∑–∞ –¥–∞ –∑–∞—Å–Ω–µ–º–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ—Ç–æ, –¥–∞ –≥–æ –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä–∞ –≤ JPEG –∏ –¥–∞ –≥–æ —Å—ä—Ö—Ä–∞–Ω–∏ –≤ –ª–æ–∫–∞–ª–µ–Ω –±—É—Ñ–µ—Ä –Ω–∞ —Å–∞–º–∞—Ç–∞ –∫–∞–º–µ—Ä–∞. –ò–∑–≤–∏–∫–≤–∞–Ω–µ—Ç–æ –Ω–∞ `captureReady` –ø—Ä–æ–≤–µ—Ä—è–≤–∞ –¥–∞–ª–∏ –∑–∞—Å–Ω–µ–º–∞–Ω–µ—Ç–æ –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ—Ç–æ –µ –∑–∞–≤—ä—Ä—à–µ–Ω–æ.

    –°–ª–µ–¥ –∫–∞—Ç–æ –∑–∞—Å–Ω–µ–º–∞–Ω–µ—Ç–æ –µ –∑–∞–≤—ä—Ä—à–µ–Ω–æ, –¥–∞–Ω–Ω–∏—Ç–µ –∑–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ—Ç–æ —Å–µ –∫–æ–ø–∏—Ä–∞—Ç –æ—Ç –±—É—Ñ–µ—Ä–∞ –Ω–∞ –∫–∞–º–µ—Ä–∞—Ç–∞ –≤ –ª–æ–∫–∞–ª–µ–Ω –±—É—Ñ–µ—Ä (–º–∞—Å–∏–≤ –æ—Ç –±–∞–π—Ç–æ–≤–µ) —Å –∏–∑–≤–∏–∫–≤–∞–Ω–µ—Ç–æ –Ω–∞ `readImageToBuffer`. –î—ä–ª–∂–∏–Ω–∞—Ç–∞ –Ω–∞ –±—É—Ñ–µ—Ä–∞ —Å–ª–µ–¥ —Ç–æ–≤–∞ —Å–µ –∏–∑–ø—Ä–∞—â–∞ –∫—ä–º —Å–µ—Ä–∏–π–Ω–∏—è –º–æ–Ω–∏—Ç–æ—Ä.

1. –ö–æ–º–ø–∏–ª–∏—Ä–∞–π—Ç–µ –∏ –∫–∞—á–µ—Ç–µ —Ç–æ–∑–∏ –∫–æ–¥ –∏ –ø—Ä–æ–≤–µ—Ä–µ—Ç–µ –∏–∑—Ö–æ–¥–∞ –Ω–∞ —Å–µ—Ä–∏–π–Ω–∏—è –º–æ–Ω–∏—Ç–æ—Ä. –í—Å–µ–∫–∏ –ø—ä—Ç, –∫–æ–≥–∞—Ç–æ –Ω–∞—Ç–∏—Å–Ω–µ—Ç–µ –±—É—Ç–æ–Ω–∞ C, —â–µ —Å–µ –∑–∞—Å–Ω–µ–º–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∏ —â–µ –≤–∏–¥–∏—Ç–µ —Ä–∞–∑–º–µ—Ä–∞ –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ—Ç–æ, –∏–∑–ø—Ä–∞—Ç–µ–Ω –∫—ä–º —Å–µ—Ä–∏–π–Ω–∏—è –º–æ–Ω–∏—Ç–æ—Ä.

    ```output
    Connecting to WiFi..
    Connected!
    Image captured
    Image read to buffer with length 9224
    Image captured
    Image read to buffer with length 11272
    ```

    –†–∞–∑–ª–∏—á–Ω–∏—Ç–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —â–µ –∏–º–∞—Ç —Ä–∞–∑–ª–∏—á–Ω–∏ —Ä–∞–∑–º–µ—Ä–∏. –¢–µ —Å–∞ –∫–æ–º–ø—Ä–µ—Å–∏—Ä–∞–Ω–∏ –∫–∞—Ç–æ JPEG –∏ —Ä–∞–∑–º–µ—Ä—ä—Ç –Ω–∞ JPEG —Ñ–∞–π–ª –∑–∞ –¥–∞–¥–µ–Ω–∞ —Ä–µ–∑–æ–ª—é—Ü–∏—è –∑–∞–≤–∏—Å–∏ –æ—Ç —Å—ä–¥—ä—Ä–∂–∞–Ω–∏–µ—Ç–æ –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ—Ç–æ.

> üíÅ –ú–æ–∂–µ—Ç–µ –¥–∞ –Ω–∞–º–µ—Ä–∏—Ç–µ —Ç–æ–∑–∏ –∫–æ–¥ –≤ –ø–∞–ø–∫–∞—Ç–∞ [code-camera/wio-terminal](../../../../../4-manufacturing/lessons/2-check-fruit-from-device/code-camera/wio-terminal).

üòÄ –£—Å–ø–µ—à–Ω–æ –∑–∞—Å–Ω–µ—Ö—Ç–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å –≤–∞—à–∏—è Wio Terminal.

## –ü–æ –∏–∑–±–æ—Ä - –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è—Ç–∞ –æ—Ç –∫–∞–º–µ—Ä–∞—Ç–∞ —Å –ø–æ–º–æ—â—Ç–∞ –Ω–∞ SD –∫–∞—Ä—Ç–∞

–ù–∞–π-–ª–µ—Å–Ω–∏—è—Ç –Ω–∞—á–∏–Ω –¥–∞ –≤–∏–¥–∏—Ç–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è—Ç–∞, –∑–∞—Å–Ω–µ—Ç–∏ –æ—Ç –∫–∞–º–µ—Ä–∞—Ç–∞, –µ –¥–∞ –≥–∏ –∑–∞–ø–∏—à–µ—Ç–µ –Ω–∞ SD –∫–∞—Ä—Ç–∞ –≤ Wio Terminal –∏ —Å–ª–µ–¥ —Ç–æ–≤–∞ –¥–∞ –≥–∏ –ø—Ä–µ–≥–ª–µ–¥–∞—Ç–µ –Ω–∞ –≤–∞—à–∏—è –∫–æ–º–ø—é—Ç—ä—Ä. –ò–∑–ø—ä–ª–Ω–µ—Ç–µ —Ç–∞–∑–∏ —Å—Ç—ä–ø–∫–∞, –∞–∫–æ —Ä–∞–∑–ø–æ–ª–∞–≥–∞—Ç–µ —Å —Ä–µ–∑–µ—Ä–≤–Ω–∞ microSD –∫–∞—Ä—Ç–∞ –∏ microSD —Å–ª–æ—Ç –Ω–∞ –≤–∞—à–∏—è –∫–æ–º–ø—é—Ç—ä—Ä –∏–ª–∏ –∞–¥–∞–ø—Ç–µ—Ä.

Wio Terminal –ø–æ–¥–¥—ä—Ä–∂–∞ —Å–∞–º–æ microSD –∫–∞—Ä—Ç–∏ —Å –∫–∞–ø–∞—Ü–∏—Ç–µ—Ç –¥–æ 16GB. –ê–∫–æ –∏–º–∞—Ç–µ –ø–æ-–≥–æ–ª—è–º–∞ SD –∫–∞—Ä—Ç–∞, —Ç—è –Ω—è–º–∞ –¥–∞ —Ä–∞–±–æ—Ç–∏.

### –ó–∞–¥–∞—á–∞ - –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è—Ç–∞ –æ—Ç –∫–∞–º–µ—Ä–∞—Ç–∞ —Å –ø–æ–º–æ—â—Ç–∞ –Ω–∞ SD –∫–∞—Ä—Ç–∞

1. –§–æ—Ä–º–∞—Ç–∏—Ä–∞–π—Ç–µ microSD –∫–∞—Ä—Ç–∞ –∫–∞—Ç–æ FAT32 –∏–ª–∏ exFAT, –∏–∑–ø–æ–ª–∑–≤–∞–π–∫–∏ —Å—ä–æ—Ç–≤–µ—Ç–Ω–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –Ω–∞ –≤–∞—à–∏—è –∫–æ–º–ø—é—Ç—ä—Ä (Disk Utility –Ω–∞ macOS, File Explorer –Ω–∞ Windows –∏–ª–∏ –∫–æ–º–∞–Ω–¥–Ω–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏ –≤ Linux).

1. –ü–æ—Å—Ç–∞–≤–µ—Ç–µ microSD –∫–∞—Ä—Ç–∞—Ç–∞ –≤ —Å–ª–æ—Ç–∞ —Ç–æ—á–Ω–æ –ø–æ–¥ –ø—Ä–µ–≤–∫–ª—é—á–≤–∞—Ç–µ–ª—è –∑–∞ –∑–∞—Ö—Ä–∞–Ω–≤–∞–Ω–µ. –£–≤–µ—Ä–µ—Ç–µ —Å–µ, —á–µ –µ –Ω–∞–ø—ä–ª–Ω–æ –≤–∫–∞—Ä–∞–Ω–∞, –¥–æ–∫–∞—Ç–æ —â—Ä–∞–∫–Ω–µ –∏ –æ—Å—Ç–∞–Ω–µ –Ω–∞ –º—è—Å—Ç–æ. –ú–æ–∂–µ –¥–∞ —Å–µ –Ω–∞–ª–æ–∂–∏ –¥–∞ —è –Ω–∞—Ç–∏—Å–Ω–µ—Ç–µ —Å –Ω–æ–∫—ä—Ç –∏–ª–∏ —Ç—ä–Ω—ä–∫ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç.

1. –î–æ–±–∞–≤–µ—Ç–µ —Å–ª–µ–¥–Ω–∏—Ç–µ include –∏–∑—è–≤–ª–µ–Ω–∏—è –≤ –Ω–∞—á–∞–ª–æ—Ç–æ –Ω–∞ —Ñ–∞–π–ª–∞ `main.cpp`:

    ```cpp
    #include "SD/Seeed_SD.h"
    #include <Seeed_FS.h>
    ```

1. –î–æ–±–∞–≤–µ—Ç–µ —Å–ª–µ–¥–Ω–∞—Ç–∞ —Ñ—É–Ω–∫—Ü–∏—è –ø—Ä–µ–¥–∏ —Ñ—É–Ω–∫—Ü–∏—è—Ç–∞ `setup`:

    ```cpp
    void setupSDCard()
    {
        while (!SD.begin(SDCARD_SS_PIN, SDCARD_SPI))
        {
            Serial.println("SD Card Error");
        }
    }
    ```

    –¢–æ–≤–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä–∞ SD –∫–∞—Ä—Ç–∞—Ç–∞, –∏–∑–ø–æ–ª–∑–≤–∞–π–∫–∏ SPI —à–∏–Ω–∞—Ç–∞.

1. –ò–∑–≤–∏–∫–∞–π—Ç–µ —Ç–æ–≤–∞ –æ—Ç —Ñ—É–Ω–∫—Ü–∏—è—Ç–∞ `setup`:

    ```cpp
    setupSDCard();
    ```

1. –î–æ–±–∞–≤–µ—Ç–µ —Å–ª–µ–¥–Ω–∏—è –∫–æ–¥ –Ω–∞–¥ —Ñ—É–Ω–∫—Ü–∏—è—Ç–∞ `buttonPressed`:

    ```cpp
    int fileNum = 1;

    void saveToSDCard(byte *buffer, uint32_t length)
    {
        char buff[16];
        sprintf(buff, "%d.jpg", fileNum);
        fileNum++;
    
        File outFile = SD.open(buff, FILE_WRITE );
        outFile.write(buffer, length);
        outFile.close();

        Serial.print("Image written to file ");
        Serial.println(buff);
    }
    ```

    –¢–æ–≤–∞ –¥–µ—Ñ–∏–Ω–∏—Ä–∞ –≥–ª–æ–±–∞–ª–Ω–∞ –ø—Ä–æ–º–µ–Ω–ª–∏–≤–∞ –∑–∞ –±—Ä–æ—è –Ω–∞ —Ñ–∞–π–ª–æ–≤–µ—Ç–µ. –¢—è —Å–µ –∏–∑–ø–æ–ª–∑–≤–∞ –∑–∞ –∏–º–µ–Ω–∞—Ç–∞ –Ω–∞ —Ñ–∞–π–ª–æ–≤–µ—Ç–µ —Å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è, —Ç–∞–∫–∞ —á–µ –º–æ–≥–∞—Ç –¥–∞ —Å–µ –∑–∞—Å–Ω–µ–º–∞—Ç –º–Ω–æ–∂–µ—Å—Ç–≤–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å –Ω–∞—Ä–∞—Å—Ç–≤–∞—â–∏ –∏–º–µ–Ω–∞ –Ω–∞ —Ñ–∞–π–ª–æ–≤–µ - `1.jpg`, `2.jpg` –∏ —Ç.–Ω.

    –°–ª–µ–¥ —Ç–æ–≤–∞ –¥–µ—Ñ–∏–Ω–∏—Ä–∞ —Ñ—É–Ω–∫—Ü–∏—è—Ç–∞ `saveToSDCard`, –∫–æ—è—Ç–æ –ø—Ä–∏–µ–º–∞ –±—É—Ñ–µ—Ä —Å –±–∞–π—Ç–æ–≤–∏ –¥–∞–Ω–Ω–∏ –∏ –¥—ä–ª–∂–∏–Ω–∞—Ç–∞ –Ω–∞ –±—É—Ñ–µ—Ä–∞. –°—ä–∑–¥–∞–≤–∞ —Å–µ –∏–º–µ –Ω–∞ —Ñ–∞–π–ª, –∏–∑–ø–æ–ª–∑–≤–∞–π–∫–∏ –±—Ä–æ—è –Ω–∞ —Ñ–∞–π–ª–æ–≤–µ—Ç–µ, –∏ –±—Ä–æ—è—Ç —Å–µ —É–≤–µ–ª–∏—á–∞–≤–∞ –∑–∞ —Å–ª–µ–¥–≤–∞—â–∏—è —Ñ–∞–π–ª. –ë–∏–Ω–∞—Ä–Ω–∏—Ç–µ –¥–∞–Ω–Ω–∏ –æ—Ç –±—É—Ñ–µ—Ä–∞ —Å–ª–µ–¥ —Ç–æ–≤–∞ —Å–µ –∑–∞–ø–∏—Å–≤–∞—Ç –≤—ä–≤ —Ñ–∞–π–ª–∞.

1. –ò–∑–≤–∏–∫–∞–π—Ç–µ —Ñ—É–Ω–∫—Ü–∏—è—Ç–∞ `saveToSDCard` –æ—Ç —Ñ—É–Ω–∫—Ü–∏—è—Ç–∞ `buttonPressed`. –ò–∑–≤–∏–∫–≤–∞–Ω–µ—Ç–æ —Ç—Ä—è–±–≤–∞ –¥–∞ –±—ä–¥–µ **–ø—Ä–µ–¥–∏** –±—É—Ñ–µ—Ä—ä—Ç –¥–∞ –±—ä–¥–µ –∏–∑—Ç—Ä–∏—Ç:

    ```cpp
    Serial.print("Image read to buffer with length ");
    Serial.println(length);

    saveToSDCard(buffer, length);
    
    delete(buffer);
    ```

1. –ö–æ–º–ø–∏–ª–∏—Ä–∞–π—Ç–µ –∏ –∫–∞—á–µ—Ç–µ —Ç–æ–∑–∏ –∫–æ–¥ –∏ –ø—Ä–æ–≤–µ—Ä–µ—Ç–µ –∏–∑—Ö–æ–¥–∞ –Ω–∞ —Å–µ—Ä–∏–π–Ω–∏—è –º–æ–Ω–∏—Ç–æ—Ä. –í—Å–µ–∫–∏ –ø—ä—Ç, –∫–æ–≥–∞—Ç–æ –Ω–∞—Ç–∏—Å–Ω–µ—Ç–µ –±—É—Ç–æ–Ω–∞ C, —â–µ —Å–µ –∑–∞—Å–Ω–µ–º–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∏ —â–µ —Å–µ –∑–∞–ø–∏—à–µ –Ω–∞ SD –∫–∞—Ä—Ç–∞—Ç–∞.

    ```output
    Connecting to WiFi..
    Connected!
    Image captured
    Image read to buffer with length 16392
    Image written to file 1.jpg
    Image captured
    Image read to buffer with length 14344
    Image written to file 2.jpg
    ```

1. –ò–∑–∫–ª—é—á–µ—Ç–µ –∑–∞—Ö—Ä–∞–Ω–≤–∞–Ω–µ—Ç–æ –Ω–∞ microSD –∫–∞—Ä—Ç–∞—Ç–∞ –∏ —è –∏–∑–≤–∞–¥–µ—Ç–µ, –∫–∞—Ç–æ —è –Ω–∞—Ç–∏—Å–Ω–µ—Ç–µ –ª–µ–∫–æ –∏ —è –æ—Å–≤–æ–±–æ–¥–∏—Ç–µ, –∏ —Ç—è —â–µ –∏–∑—Å–∫–æ—á–∏. –ú–æ–∂–µ –¥–∞ —Å–µ –Ω–∞–ª–æ–∂–∏ –¥–∞ –∏–∑–ø–æ–ª–∑–≤–∞—Ç–µ —Ç—ä–Ω—ä–∫ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –∑–∞ —Ç–æ–≤–∞. –ü–æ—Å—Ç–∞–≤–µ—Ç–µ microSD –∫–∞—Ä—Ç–∞—Ç–∞ –≤—ä–≤ –≤–∞—à–∏—è –∫–æ–º–ø—é—Ç—ä—Ä, –∑–∞ –¥–∞ –ø—Ä–µ–≥–ª–µ–¥–∞—Ç–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è—Ç–∞.

    ![–°–Ω–∏–º–∫–∞ –Ω–∞ –±–∞–Ω–∞–Ω, –∑–∞—Å–Ω–µ—Ç–∞ —Å ArduCam](../../../../../translated_images/banana-arducam.be1b32d4267a8194b0fd042362e56faa431da9cd4af172051b37243ea9be0256.bg.jpg)
üíÅ –ú–æ–∂–µ –¥–∞ –æ—Ç–Ω–µ–º–µ –Ω—è–∫–æ–ª–∫–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è, –¥–æ–∫–∞—Ç–æ –±–∞–ª–∞–Ω—Å–∞ –Ω–∞ –±—è–ª–æ—Ç–æ –Ω–∞ –∫–∞–º–µ—Ä–∞—Ç–∞ —Å–µ –Ω–∞—Å—Ç—Ä–æ–∏. –©–µ –∑–∞–±–µ–ª–µ–∂–∏—Ç–µ —Ç–æ–≤–∞ –ø–æ —Ü–≤–µ—Ç–∞ –Ω–∞ –∑–∞—Å–Ω–µ—Ç–∏—Ç–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è, –ø—ä—Ä–≤–∏—Ç–µ –Ω—è–∫–æ–ª–∫–æ –º–æ–∂–µ –¥–∞ –∏–∑–≥–ª–µ–∂–¥–∞—Ç —Å –Ω–µ–ø—Ä–∞–≤–∏–ª–µ–Ω —Ü–≤—è—Ç. –í–∏–Ω–∞–≥–∏ –º–æ–∂–µ—Ç–µ –¥–∞ –∑–∞–æ–±–∏–∫–æ–ª–∏—Ç–µ —Ç–æ–≤–∞, –∫–∞—Ç–æ –ø—Ä–æ–º–µ–Ω–∏—Ç–µ –∫–æ–¥–∞ –¥–∞ –∑–∞—Å–Ω–µ–º–µ –Ω—è–∫–æ–ª–∫–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è, –∫–æ–∏—Ç–æ —Å–µ –∏–≥–Ω–æ—Ä–∏—Ä–∞—Ç –≤—ä–≤ —Ñ—É–Ω–∫—Ü–∏—è—Ç–∞ `setup`.


---

**–û—Ç–∫–∞–∑ –æ—Ç –æ—Ç–≥–æ–≤–æ—Ä–Ω–æ—Å—Ç**:  
–¢–æ–∑–∏ –¥–æ–∫—É–º–µ–Ω—Ç –µ –ø—Ä–µ–≤–µ–¥–µ–Ω —Å –ø–æ–º–æ—â—Ç–∞ –Ω–∞ AI —É—Å–ª—É–≥–∞ –∑–∞ –ø—Ä–µ–≤–æ–¥ [Co-op Translator](https://github.com/Azure/co-op-translator). –í—ä–ø—Ä–µ–∫–∏ —á–µ —Å–µ —Å—Ç—Ä–µ–º–∏–º –∫—ä–º —Ç–æ—á–Ω–æ—Å—Ç, –º–æ–ª—è, –∏–º–∞–π—Ç–µ –ø—Ä–µ–¥–≤–∏–¥, —á–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏—Ç–µ –ø—Ä–µ–≤–æ–¥–∏ –º–æ–∂–µ –¥–∞ —Å—ä–¥—ä—Ä–∂–∞—Ç –≥—Ä–µ—à–∫–∏ –∏–ª–∏ –Ω–µ—Ç–æ—á–Ω–æ—Å—Ç–∏. –û—Ä–∏–≥–∏–Ω–∞–ª–Ω–∏—è—Ç –¥–æ–∫—É–º–µ–Ω—Ç –Ω–∞ –Ω–µ–≥–æ–≤–∏—è –∏–∑—Ö–æ–¥–µ–Ω –µ–∑–∏–∫ —Ç—Ä—è–±–≤–∞ –¥–∞ —Å–µ —Å—á–∏—Ç–∞ –∑–∞ –∞–≤—Ç–æ—Ä–∏—Ç–µ—Ç–µ–Ω –∏–∑—Ç–æ—á–Ω–∏–∫. –ó–∞ –∫—Ä–∏—Ç–∏—á–Ω–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è —Å–µ –ø—Ä–µ–ø–æ—Ä—ä—á–≤–∞ –ø—Ä–æ—Ñ–µ—Å–∏–æ–Ω–∞–ª–µ–Ω –ø—Ä–µ–≤–æ–¥ –æ—Ç —á–æ–≤–µ–∫. –ù–µ –Ω–æ—Å–∏–º –æ—Ç–≥–æ–≤–æ—Ä–Ω–æ—Å—Ç –∑–∞ –∫–∞–∫–≤–∏—Ç–æ –∏ –¥–∞ –±–∏–ª–æ –Ω–µ–¥–æ—Ä–∞–∑—É–º–µ–Ω–∏—è –∏–ª–∏ –ø–æ–≥—Ä–µ—à–Ω–∏ –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏–∏, –ø—Ä–æ–∏–∑—Ç–∏—á–∞—â–∏ –æ—Ç –∏–∑–ø–æ–ª–∑–≤–∞–Ω–µ—Ç–æ –Ω–∞ —Ç–æ–∑–∏ –ø—Ä–µ–≤–æ–¥.