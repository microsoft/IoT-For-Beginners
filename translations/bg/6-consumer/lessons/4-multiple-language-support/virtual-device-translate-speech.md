<!--
CO_OP_TRANSLATOR_METADATA:
{
  "original_hash": "d620a470d9dd8614d99824832978360a",
  "translation_date": "2025-08-28T09:30:13+00:00",
  "source_file": "6-consumer/lessons/4-multiple-language-support/virtual-device-translate-speech.md",
  "language_code": "bg"
}
-->
# –ü—Ä–µ–≤–æ–¥ –Ω–∞ —Ä–µ—á - –í–∏—Ä—Ç—É–∞–ª–Ω–æ IoT —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ

–í —Ç–∞–∑–∏ —á–∞—Å—Ç –æ—Ç —É—Ä–æ–∫–∞ —â–µ –Ω–∞–ø–∏—à–µ—Ç–µ –∫–æ–¥ –∑–∞ –ø—Ä–µ–≤–æ–¥ –Ω–∞ —Ä–µ—á –ø—Ä–∏ –ø—Ä–µ–æ–±—Ä–∞–∑—É–≤–∞–Ω–µ –≤ —Ç–µ–∫—Å—Ç —Å –ø–æ–º–æ—â—Ç–∞ –Ω–∞ —É—Å–ª—É–≥–∞—Ç–∞ –∑–∞ —Ä–µ—á, —Å–ª–µ–¥ —Ç–æ–≤–∞ —â–µ –ø—Ä–µ–≤–µ–¥–µ—Ç–µ —Ç–µ–∫—Å—Ç–∞ —Å —É—Å–ª—É–≥–∞—Ç–∞ Translator, –ø—Ä–µ–¥–∏ –¥–∞ –≥–µ–Ω–µ—Ä–∏—Ä–∞—Ç–µ –≥–æ–≤–æ—Ä–µ–Ω –æ—Ç–≥–æ–≤–æ—Ä.

## –ò–∑–ø–æ–ª–∑–≤–∞–Ω–µ –Ω–∞ —É—Å–ª—É–≥–∞—Ç–∞ –∑–∞ —Ä–µ—á –∑–∞ –ø—Ä–µ–≤–æ–¥ –Ω–∞ —Ä–µ—á

–£—Å–ª—É–≥–∞—Ç–∞ –∑–∞ —Ä–µ—á –º–æ–∂–µ –¥–∞ –ø—Ä–µ–æ–±—Ä–∞–∑—É–≤–∞ —Ä–µ—á –Ω–µ —Å–∞–º–æ –≤ —Ç–µ–∫—Å—Ç –Ω–∞ —Å—ä—â–∏—è –µ–∑–∏–∫, –Ω–æ –∏ –¥–∞ –ø—Ä–µ–≤–µ–¥–µ —Ä–µ–∑—É–ª—Ç–∞—Ç–∞ –Ω–∞ –¥—Ä—É–≥–∏ –µ–∑–∏—Ü–∏.

### –ó–∞–¥–∞—á–∞ - –∏–∑–ø–æ–ª–∑–≤–∞–Ω–µ –Ω–∞ —É—Å–ª—É–≥–∞—Ç–∞ –∑–∞ —Ä–µ—á –∑–∞ –ø—Ä–µ–≤–æ–¥ –Ω–∞ —Ä–µ—á

1. –û—Ç–≤–æ—Ä–µ—Ç–µ –ø—Ä–æ–µ–∫—Ç–∞ `smart-timer` –≤ VS Code –∏ —Å–µ —É–≤–µ—Ä–µ—Ç–µ, —á–µ –≤–∏—Ä—Ç—É–∞–ª–Ω–∞—Ç–∞ —Å—Ä–µ–¥–∞ –µ –∑–∞—Ä–µ–¥–µ–Ω–∞ –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–∞.

1. –î–æ–±–∞–≤–µ—Ç–µ —Å–ª–µ–¥–Ω–∏—Ç–µ –∏–∑—è–≤–ª–µ–Ω–∏—è –∑–∞ –∏–º–ø–æ—Ä—Ç–∏—Ä–∞–Ω–µ –ø–æ–¥ —Å—ä—â–µ—Å—Ç–≤—É–≤–∞—â–∏—Ç–µ –∏–º–ø–æ—Ä—Ç–∏:

    ```python
    from azure.cognitiveservices import speech
    from azure.cognitiveservices.speech.translation import SpeechTranslationConfig, TranslationRecognizer
    import requests
    ```

    –¢–æ–≤–∞ –∏–º–ø–æ—Ä—Ç–∏—Ä–∞ –∫–ª–∞—Å–æ–≤–µ, –∏–∑–ø–æ–ª–∑–≤–∞–Ω–∏ –∑–∞ –ø—Ä–µ–≤–æ–¥ –Ω–∞ —Ä–µ—á, –∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–∞—Ç–∞ `requests`, –∫–æ—è—Ç–æ —â–µ —Å–µ –∏–∑–ø–æ–ª–∑–≤–∞ –∑–∞ –∏–∑–≤–∏–∫–≤–∞–Ω–µ –Ω–∞ —É—Å–ª—É–≥–∞—Ç–∞ Translator –ø–æ-–∫—ä—Å–Ω–æ –≤ —Ç–æ–∑–∏ —É—Ä–æ–∫.

1. –í–∞—à–∏—è—Ç —Å–º–∞—Ä—Ç —Ç–∞–π–º–µ—Ä —â–µ –∏–º–∞ –∑–∞–¥–∞–¥–µ–Ω–∏ 2 –µ–∑–∏–∫–∞ - –µ–∑–∏–∫—ä—Ç –Ω–∞ —Å—ä—Ä–≤—ä—Ä–∞, –∫–æ–π—Ç–æ –µ –∏–∑–ø–æ–ª–∑–≤–∞–Ω –∑–∞ –æ–±—É—á–µ–Ω–∏–µ –Ω–∞ LUIS (—Å—ä—â–∏—è—Ç –µ–∑–∏–∫ —Å–µ –∏–∑–ø–æ–ª–∑–≤–∞ –∏ –∑–∞ —Å—ä–∑–¥–∞–≤–∞–Ω–µ –Ω–∞ —Å—ä–æ–±—â–µ–Ω–∏—è—Ç–∞ –∑–∞ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—è), –∏ –µ–∑–∏–∫—ä—Ç, –Ω–∞ –∫–æ–π—Ç–æ –≥–æ–≤–æ—Ä–∏ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—è—Ç. –ê–∫—Ç—É–∞–ª–∏–∑–∏—Ä–∞–π—Ç–µ –ø—Ä–æ–º–µ–Ω–ª–∏–≤–∞—Ç–∞ `language`, –∑–∞ –¥–∞ –±—ä–¥–µ –µ–∑–∏–∫—ä—Ç, –Ω–∞ –∫–æ–π—Ç–æ —â–µ –≥–æ–≤–æ—Ä–∏ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—è—Ç, –∏ –¥–æ–±–∞–≤–µ—Ç–µ –Ω–æ–≤–∞ –ø—Ä–æ–º–µ–Ω–ª–∏–≤–∞, –Ω–∞—Ä–µ—á–µ–Ω–∞ `server_language`, –∑–∞ –µ–∑–∏–∫–∞, –∏–∑–ø–æ–ª–∑–≤–∞–Ω –∑–∞ –æ–±—É—á–µ–Ω–∏–µ –Ω–∞ LUIS:

    ```python
    language = '<user language>'
    server_language = '<server language>'
    ```

    –ó–∞–º–µ–Ω–µ—Ç–µ `<user language>` —Å –∏–º–µ—Ç–æ –Ω–∞ –ª–æ–∫–∞–ª–∞ –∑–∞ –µ–∑–∏–∫–∞, –Ω–∞ –∫–æ–π—Ç–æ —â–µ –≥–æ–≤–æ—Ä–∏—Ç–µ, –Ω–∞–ø—Ä–∏–º–µ—Ä `fr-FR` –∑–∞ —Ñ—Ä–µ–Ω—Å–∫–∏ –∏–ª–∏ `zn-HK` –∑–∞ –∫–∞–Ω—Ç–æ–Ω—Å–∫–∏.

    –ó–∞–º–µ–Ω–µ—Ç–µ `<server language>` —Å –∏–º–µ—Ç–æ –Ω–∞ –ª–æ–∫–∞–ª–∞ –∑–∞ –µ–∑–∏–∫–∞, –∏–∑–ø–æ–ª–∑–≤–∞–Ω –∑–∞ –æ–±—É—á–µ–Ω–∏–µ –Ω–∞ LUIS.

    –ú–æ–∂–µ—Ç–µ –¥–∞ –Ω–∞–º–µ—Ä–∏—Ç–µ —Å–ø–∏—Å—ä–∫ —Å –ø–æ–¥–¥—ä—Ä–∂–∞–Ω–∏—Ç–µ –µ–∑–∏—Ü–∏ –∏ —Ç–µ—Ö–Ω–∏—Ç–µ –∏–º–µ–Ω–∞ –Ω–∞ –ª–æ–∫–∞–ª–∏ –≤ [–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è—Ç–∞ –∑–∞ –ø–æ–¥–¥—Ä—ä–∂–∫–∞ –Ω–∞ –µ–∑–∏–∫ –∏ –≥–ª–∞—Å –≤ Microsoft docs](https://docs.microsoft.com/azure/cognitive-services/speech-service/language-support?WT.mc_id=academic-17441-jabenn#speech-to-text).

    > üíÅ –ê–∫–æ –Ω–µ –≥–æ–≤–æ—Ä–∏—Ç–µ –Ω—è–∫–æ–ª–∫–æ –µ–∑–∏–∫–∞, –º–æ–∂–µ—Ç–µ –¥–∞ –∏–∑–ø–æ–ª–∑–≤–∞—Ç–µ —É—Å–ª—É–≥–∞ –∫–∞—Ç–æ [Bing Translate](https://www.bing.com/translator) –∏–ª–∏ [Google Translate](https://translate.google.com), –∑–∞ –¥–∞ –ø—Ä–µ–≤–µ–¥–µ—Ç–µ –æ—Ç –ø—Ä–µ–¥–ø–æ—á–∏—Ç–∞–Ω–∏—è –æ—Ç –≤–∞—Å –µ–∑–∏–∫ –Ω–∞ –∏–∑–±—Ä–∞–Ω –æ—Ç –≤–∞—Å –µ–∑–∏–∫. –¢–µ–∑–∏ —É—Å–ª—É–≥–∏ –º–æ–≥–∞—Ç –¥–∞ –≤—ä–∑–ø—Ä–æ–∏–∑–≤–µ–∂–¥–∞—Ç –∞—É–¥–∏–æ –Ω–∞ –ø—Ä–µ–≤–µ–¥–µ–Ω–∏—è —Ç–µ–∫—Å—Ç. –ò–º–∞–π—Ç–µ –ø—Ä–µ–¥–≤–∏–¥, —á–µ —Ä–∞–∑–ø–æ–∑–Ω–∞–≤–∞—á—ä—Ç –Ω–∞ —Ä–µ—á —â–µ –∏–≥–Ω–æ—Ä–∏—Ä–∞ –Ω—è–∫–æ–∏ –∞—É–¥–∏–æ –∏–∑—Ö–æ–¥–∏ –æ—Ç –≤–∞—à–µ—Ç–æ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ, —Ç–∞–∫–∞ —á–µ –º–æ–∂–µ –¥–∞ —Å–µ –Ω–∞–ª–æ–∂–∏ –¥–∞ –∏–∑–ø–æ–ª–∑–≤–∞—Ç–µ –¥–æ–ø—ä–ª–Ω–∏—Ç–µ–ª–Ω–æ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ, –∑–∞ –¥–∞ –≤—ä–∑–ø—Ä–æ–∏–∑–≤–µ–¥–µ—Ç–µ –ø—Ä–µ–≤–µ–¥–µ–Ω–∏—è —Ç–µ–∫—Å—Ç.
    >
    > –ù–∞–ø—Ä–∏–º–µ—Ä, –∞–∫–æ –æ–±—É—á–∏—Ç–µ LUIS –Ω–∞ –∞–Ω–≥–ª–∏–π—Å–∫–∏, –Ω–æ –∏—Å–∫–∞—Ç–µ –¥–∞ –∏–∑–ø–æ–ª–∑–≤–∞—Ç–µ —Ñ—Ä–µ–Ω—Å–∫–∏ –∫–∞—Ç–æ –µ–∑–∏–∫ –Ω–∞ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—è, –º–æ–∂–µ—Ç–µ –¥–∞ –ø—Ä–µ–≤–µ–¥–µ—Ç–µ –∏–∑—Ä–µ—á–µ–Ω–∏—è –∫–∞—Ç–æ "set a 2 minute and 27 second timer" –æ—Ç –∞–Ω–≥–ª–∏–π—Å–∫–∏ –Ω–∞ —Ñ—Ä–µ–Ω—Å–∫–∏ —Å Bing Translate, —Å–ª–µ–¥ —Ç–æ–≤–∞ –∏–∑–ø–æ–ª–∑–≤–∞–π—Ç–µ –±—É—Ç–æ–Ω–∞ **Listen translation**, –∑–∞ –¥–∞ –≥–æ–≤–æ—Ä–∏—Ç–µ –ø—Ä–µ–≤–æ–¥–∞ –≤ –º–∏–∫—Ä–æ—Ñ–æ–Ω–∞ —Å–∏.
    >
    > ![–ë—É—Ç–æ–Ω—ä—Ç Listen translation –≤ Bing Translate](../../../../../translated_images/bing-translate.348aa796d6efe2a92f41ea74a5cf42bb4c63d6faaa08e7f46924e072a35daa48.bg.png)

1. –ó–∞–º–µ–Ω–µ—Ç–µ –¥–µ–∫–ª–∞—Ä–∞—Ü–∏–∏—Ç–µ `recognizer_config` –∏ `recognizer` —Å—ä—Å —Å–ª–µ–¥–Ω–æ—Ç–æ:

    ```python
    translation_config = SpeechTranslationConfig(subscription=speech_api_key,
                                                 region=location,
                                                 speech_recognition_language=language,
                                                 target_languages=(language, server_language))
    
    recognizer = TranslationRecognizer(translation_config=translation_config)
    ```

    –¢–æ–≤–∞ —Å—ä–∑–¥–∞–≤–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∑–∞ –ø—Ä–µ–≤–æ–¥, –∑–∞ –¥–∞ —Ä–∞–∑–ø–æ–∑–Ω–∞–µ —Ä–µ—á—Ç–∞ –Ω–∞ –µ–∑–∏–∫–∞ –Ω–∞ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—è –∏ –¥–∞ —Å—ä–∑–¥–∞–¥–µ –ø—Ä–µ–≤–æ–¥–∏ –Ω–∞ –µ–∑–∏–∫–∞ –Ω–∞ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—è –∏ —Å—ä—Ä–≤—ä—Ä–∞. –°–ª–µ–¥ —Ç–æ–≤–∞ –∏–∑–ø–æ–ª–∑–≤–∞ —Ç–∞–∑–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è, –∑–∞ –¥–∞ —Å—ä–∑–¥–∞–¥–µ —Ä–∞–∑–ø–æ–∑–Ω–∞–≤–∞—Ç–µ–ª –∑–∞ –ø—Ä–µ–≤–æ–¥ - —Ä–∞–∑–ø–æ–∑–Ω–∞–≤–∞—Ç–µ–ª –Ω–∞ —Ä–µ—á, –∫–æ–π—Ç–æ –º–æ–∂–µ –¥–∞ –ø—Ä–µ–≤–µ–¥–µ —Ä–µ–∑—É–ª—Ç–∞—Ç–∞ –æ—Ç —Ä–∞–∑–ø–æ–∑–Ω–∞–≤–∞–Ω–µ—Ç–æ –Ω–∞ —Ä–µ—á –Ω–∞ –Ω—è–∫–æ–ª–∫–æ –µ–∑–∏–∫–∞.

    > üíÅ –û—Ä–∏–≥–∏–Ω–∞–ª–Ω–∏—è—Ç –µ–∑–∏–∫ —Ç—Ä—è–±–≤–∞ –¥–∞ –±—ä–¥–µ –ø–æ—Å–æ—á–µ–Ω –≤ `target_languages`, –≤ –ø—Ä–æ—Ç–∏–≤–µ–Ω —Å–ª—É—á–∞–π –Ω—è–º–∞ –¥–∞ –ø–æ–ª—É—á–∏—Ç–µ –Ω–∏–∫–∞–∫–≤–∏ –ø—Ä–µ–≤–æ–¥–∏.

1. –ê–∫—Ç—É–∞–ª–∏–∑–∏—Ä–∞–π—Ç–µ —Ñ—É–Ω–∫—Ü–∏—è—Ç–∞ `recognized`, –∫–∞—Ç–æ –∑–∞–º–µ–Ω–∏—Ç–µ —Ü—è–ª–æ—Ç–æ —Å—ä–¥—ä—Ä–∂–∞–Ω–∏–µ –Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è—Ç–∞ —Å—ä—Å —Å–ª–µ–¥–Ω–æ—Ç–æ:

    ```python
    if args.result.reason == speech.ResultReason.TranslatedSpeech:
        language_match = next(l for l in args.result.translations if server_language.lower().startswith(l.lower()))
        text = args.result.translations[language_match]
        if (len(text) > 0):
            print(f'Translated text: {text}')
    
            message = Message(json.dumps({ 'speech': text }))
            device_client.send_message(message)
    ```

    –¢–æ–∑–∏ –∫–æ–¥ –ø—Ä–æ–≤–µ—Ä—è–≤–∞ –¥–∞–ª–∏ —Å—ä–±–∏—Ç–∏–µ—Ç–æ –∑–∞ —Ä–∞–∑–ø–æ–∑–Ω–∞–≤–∞–Ω–µ –µ –±–∏–ª–æ –∑–∞–¥–µ–π—Å—Ç–≤–∞–Ω–æ, –∑–∞—â–æ—Ç–æ —Ä–µ—á—Ç–∞ –µ –±–∏–ª–∞ –ø—Ä–µ–≤–µ–¥–µ–Ω–∞ (—Ç–æ–≤–∞ —Å—ä–±–∏—Ç–∏–µ –º–æ–∂–µ –¥–∞ —Å–µ –∑–∞–¥–µ–π—Å—Ç–≤–∞ –∏ –≤ –¥—Ä—É–≥–∏ —Å–ª—É—á–∞–∏, –∫–∞—Ç–æ –Ω–∞–ø—Ä–∏–º–µ—Ä –∫–æ–≥–∞—Ç–æ —Ä–µ—á—Ç–∞ –µ —Ä–∞–∑–ø–æ–∑–Ω–∞—Ç–∞, –Ω–æ –Ω–µ –µ –ø—Ä–µ–≤–µ–¥–µ–Ω–∞). –ê–∫–æ —Ä–µ—á—Ç–∞ –µ –±–∏–ª–∞ –ø—Ä–µ–≤–µ–¥–µ–Ω–∞, —Ç—è –Ω–∞–º–∏—Ä–∞ –ø—Ä–µ–≤–æ–¥–∞ –≤ —Ä–µ—á–Ω–∏–∫–∞ `args.result.translations`, –∫–æ–π—Ç–æ —Å—ä–æ—Ç–≤–µ—Ç—Å—Ç–≤–∞ –Ω–∞ –µ–∑–∏–∫–∞ –Ω–∞ —Å—ä—Ä–≤—ä—Ä–∞.

    –†–µ—á–Ω–∏–∫—ä—Ç `args.result.translations` –µ –∫–ª—é—á–∏—Ä–∞–Ω —Å–ø–æ—Ä–µ–¥ –µ–∑–∏–∫–æ–≤–∞—Ç–∞ —á–∞—Å—Ç –Ω–∞ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ç–∞ –∑–∞ –ª–æ–∫–∞–ª, –∞ –Ω–µ —Ü—è–ª–∞—Ç–∞ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞. –ù–∞–ø—Ä–∏–º–µ—Ä, –∞–∫–æ –ø–æ–∏—Å–∫–∞—Ç–µ –ø—Ä–µ–≤–æ–¥ –Ω–∞ `fr-FR` –∑–∞ —Ñ—Ä–µ–Ω—Å–∫–∏, —Ä–µ—á–Ω–∏–∫—ä—Ç —â–µ —Å—ä–¥—ä—Ä–∂–∞ –∑–∞–ø–∏—Å –∑–∞ `fr`, –∞ –Ω–µ –∑–∞ `fr-FR`.

    –ü—Ä–µ–≤–µ–¥–µ–Ω–∏—è—Ç —Ç–µ–∫—Å—Ç —Å–ª–µ–¥ —Ç–æ–≤–∞ —Å–µ –∏–∑–ø—Ä–∞—â–∞ –∫—ä–º IoT Hub.

1. –°—Ç–∞—Ä—Ç–∏—Ä–∞–π—Ç–µ —Ç–æ–∑–∏ –∫–æ–¥, –∑–∞ –¥–∞ —Ç–µ—Å—Ç–≤–∞—Ç–µ –ø—Ä–µ–≤–æ–¥–∏—Ç–µ. –£–≤–µ—Ä–µ—Ç–µ —Å–µ, —á–µ –≤–∞—à–µ—Ç–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∏—Ä–∞, –∏ –ø–æ–∏—Å–∫–∞–π—Ç–µ —Ç–∞–π–º–µ—Ä –Ω–∞ –µ–∑–∏–∫–∞ –Ω–∞ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—è, –∫–∞—Ç–æ –≥–æ–≤–æ—Ä–∏—Ç–µ –Ω–∞ —Ç–æ–∑–∏ –µ–∑–∏–∫ —Å–∞–º–∏ –∏–ª–∏ –∏–∑–ø–æ–ª–∑–≤–∞—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞ –ø—Ä–µ–≤–æ–¥.

    ```output
    (.venv) ‚ûú  smart-timer python app.py
    Connecting
    Connected
    Translated text: Set a timer of 2 minutes and 27 seconds.
    ```

## –ü—Ä–µ–≤–æ–¥ –Ω–∞ —Ç–µ–∫—Å—Ç —Å —É—Å–ª—É–≥–∞—Ç–∞ Translator

–£—Å–ª—É–≥–∞—Ç–∞ –∑–∞ —Ä–µ—á –Ω–µ –ø–æ–¥–¥—ä—Ä–∂–∞ –ø—Ä–µ–≤–æ–¥ –Ω–∞ —Ç–µ–∫—Å—Ç –æ–±—Ä–∞—Ç–Ω–æ –≤ —Ä–µ—á, –≤–º–µ—Å—Ç–æ —Ç–æ–≤–∞ –º–æ–∂–µ—Ç–µ –¥–∞ –∏–∑–ø–æ–ª–∑–≤–∞—Ç–µ —É—Å–ª—É–≥–∞—Ç–∞ Translator, –∑–∞ –¥–∞ –ø—Ä–µ–≤–µ–¥–µ—Ç–µ —Ç–µ–∫—Å—Ç–∞. –¢–∞–∑–∏ —É—Å–ª—É–≥–∞ –∏–º–∞ REST API, –∫–æ–π—Ç–æ –º–æ–∂–µ—Ç–µ –¥–∞ –∏–∑–ø–æ–ª–∑–≤–∞—Ç–µ –∑–∞ –ø—Ä–µ–≤–æ–¥ –Ω–∞ —Ç–µ–∫—Å—Ç–∞.

### –ó–∞–¥–∞—á–∞ - –∏–∑–ø–æ–ª–∑–≤–∞–Ω–µ –Ω–∞ —Ä–µ—Å—É—Ä—Å–∞ Translator –∑–∞ –ø—Ä–µ–≤–æ–¥ –Ω–∞ —Ç–µ–∫—Å—Ç

1. –î–æ–±–∞–≤–µ—Ç–µ API –∫–ª—é—á–∞ –Ω–∞ Translator –ø–æ–¥ `speech_api_key`:

    ```python
    translator_api_key = '<key>'
    ```

    –ó–∞–º–µ–Ω–µ—Ç–µ `<key>` —Å API –∫–ª—é—á–∞ –∑–∞ –≤–∞—à–∏—è —Ä–µ—Å—É—Ä—Å –Ω–∞ —É—Å–ª—É–≥–∞—Ç–∞ Translator.

1. –ù–∞–¥ —Ñ—É–Ω–∫—Ü–∏—è—Ç–∞ `say` –¥–µ—Ñ–∏–Ω–∏—Ä–∞–π—Ç–µ —Ñ—É–Ω–∫—Ü–∏—è `translate_text`, –∫–æ—è—Ç–æ —â–µ –ø—Ä–µ–≤–µ–∂–¥–∞ —Ç–µ–∫—Å—Ç –æ—Ç –µ–∑–∏–∫–∞ –Ω–∞ —Å—ä—Ä–≤—ä—Ä–∞ –∫—ä–º –µ–∑–∏–∫–∞ –Ω–∞ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—è:

    ```python
    def translate_text(text):
    ```

1. –í—ä—Ç—Ä–µ –≤ —Ç–∞–∑–∏ —Ñ—É–Ω–∫—Ü–∏—è –¥–µ—Ñ–∏–Ω–∏—Ä–∞–π—Ç–µ URL –∏ –∑–∞–≥–ª–∞–≤–∏—è—Ç–∞ –∑–∞ REST API –∏–∑–≤–∏–∫–≤–∞–Ω–µ—Ç–æ:

    ```python
    url = f'https://api.cognitive.microsofttranslator.com/translate?api-version=3.0'

    headers = {
        'Ocp-Apim-Subscription-Key': translator_api_key,
        'Ocp-Apim-Subscription-Region': location,
        'Content-type': 'application/json'
    }
    ```

    URL –∑–∞ —Ç–æ–∑–∏ API –Ω–µ –µ —Å–ø–µ—Ü–∏—Ñ–∏—á–µ–Ω –∑–∞ –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ, –≤–º–µ—Å—Ç–æ —Ç–æ–≤–∞ –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ—Ç–æ —Å–µ –ø—Ä–µ–¥–∞–≤–∞ –∫–∞—Ç–æ –∑–∞–≥–ª–∞–≤–∏–µ. API –∫–ª—é—á—ä—Ç —Å–µ –∏–∑–ø–æ–ª–∑–≤–∞ –¥–∏—Ä–µ–∫—Ç–Ω–æ, —Ç–∞–∫–∞ —á–µ –∑–∞ —Ä–∞–∑–ª–∏–∫–∞ –æ—Ç —É—Å–ª—É–≥–∞—Ç–∞ –∑–∞ —Ä–µ—á –Ω—è–º–∞ –Ω—É–∂–¥–∞ –¥–∞ —Å–µ –ø–æ–ª—É—á–∞–≤–∞ —Ç–æ–∫–µ–Ω –∑–∞ –¥–æ—Å—Ç—ä–ø –æ—Ç API –∑–∞ –∏–∑–¥–∞–≤–∞–Ω–µ –Ω–∞ —Ç–æ–∫–µ–Ω–∏.

1. –ü–æ–¥ —Ç–æ–≤–∞ –¥–µ—Ñ–∏–Ω–∏—Ä–∞–π—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏—Ç–µ –∏ —Ç—è–ª–æ—Ç–æ –∑–∞ –∏–∑–≤–∏–∫–≤–∞–Ω–µ—Ç–æ:

    ```python
    params = {
        'from': server_language,
        'to': language
    }

    body = [{
        'text' : text
    }]
    ```

    `params` –¥–µ—Ñ–∏–Ω–∏—Ä–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏—Ç–µ, –∫–æ–∏—Ç–æ –¥–∞ —Å–µ –ø—Ä–µ–¥–∞–¥–∞—Ç –Ω–∞ API –∏–∑–≤–∏–∫–≤–∞–Ω–µ—Ç–æ, –∫–∞—Ç–æ —Å–µ –ø—Ä–µ–¥–∞–≤–∞—Ç –µ–∑–∏—Ü–∏—Ç–µ `from` –∏ `to`. –¢–æ–≤–∞ –∏–∑–≤–∏–∫–≤–∞–Ω–µ —â–µ –ø—Ä–µ–≤–µ–¥–µ —Ç–µ–∫—Å—Ç –æ—Ç –µ–∑–∏–∫–∞ `from` –Ω–∞ –µ–∑–∏–∫–∞ `to`.

    `body` —Å—ä–¥—ä—Ä–∂–∞ —Ç–µ–∫—Å—Ç–∞ –∑–∞ –ø—Ä–µ–≤–æ–¥. –¢–æ–≤–∞ –µ –º–∞—Å–∏–≤, —Ç—ä–π –∫–∞—Ç–æ –º–Ω–æ–∂–µ—Å—Ç–≤–æ –±–ª–æ–∫–æ–≤–µ —Ç–µ–∫—Å—Ç –º–æ–≥–∞—Ç –¥–∞ –±—ä–¥–∞—Ç –ø—Ä–µ–≤–µ–¥–µ–Ω–∏ –≤ –µ–¥–Ω–æ –∏–∑–≤–∏–∫–≤–∞–Ω–µ.

1. –ù–∞–ø—Ä–∞–≤–µ—Ç–µ –∏–∑–≤–∏–∫–≤–∞–Ω–µ—Ç–æ –∫—ä–º REST API –∏ –≤–∑–µ–º–µ—Ç–µ –æ—Ç–≥–æ–≤–æ—Ä–∞:

    ```python
    response = requests.post(url, headers=headers, params=params, json=body)
    ```

    –û—Ç–≥–æ–≤–æ—Ä—ä—Ç, –∫–æ–π—Ç–æ —Å–µ –≤—Ä—ä—â–∞, –µ JSON –º–∞—Å–∏–≤, —Å –µ–¥–∏–Ω –µ–ª–µ–º–µ–Ω—Ç, –∫–æ–π—Ç–æ —Å—ä–¥—ä—Ä–∂–∞ –ø—Ä–µ–≤–æ–¥–∏—Ç–µ. –¢–æ–∑–∏ –µ–ª–µ–º–µ–Ω—Ç –∏–º–∞ –º–∞—Å–∏–≤ –∑–∞ –ø—Ä–µ–≤–æ–¥–∏—Ç–µ –Ω–∞ –≤—Å–∏—á–∫–∏ –µ–ª–µ–º–µ–Ω—Ç–∏, –ø—Ä–µ–¥–∞–¥–µ–Ω–∏ –≤ —Ç—è–ª–æ—Ç–æ.

    ```json
    [
        {
            "translations": [
                {
                    "text": "Chronom√©trant votre minuterie de 2 minutes 27 secondes.",
                    "to": "fr"
                }
            ]
        }
    ]
    ```

1. –í—ä—Ä–Ω–µ—Ç–µ —Å–≤–æ–π—Å—Ç–≤–æ—Ç–æ `text` –æ—Ç –ø—ä—Ä–≤–∏—è –ø—Ä–µ–≤–æ–¥ –æ—Ç –ø—ä—Ä–≤–∏—è –µ–ª–µ–º–µ–Ω—Ç –≤ –º–∞—Å–∏–≤–∞:

    ```python
    return response.json()[0]['translations'][0]['text']
    ```

1. –ê–∫—Ç—É–∞–ª–∏–∑–∏—Ä–∞–π—Ç–µ —Ñ—É–Ω–∫—Ü–∏—è—Ç–∞ `say`, –∑–∞ –¥–∞ –ø—Ä–µ–≤–µ–¥–µ —Ç–µ–∫—Å—Ç–∞, –∫–æ–π—Ç–æ —Ç—Ä—è–±–≤–∞ –¥–∞ –±—ä–¥–µ –∫–∞–∑–∞–Ω, –ø—Ä–µ–¥–∏ –¥–∞ —Å–µ –≥–µ–Ω–µ—Ä–∏—Ä–∞ SSML:

    ```python
    print('Original:', text)
    text = translate_text(text)
    print('Translated:', text)
    ```

    –¢–æ–∑–∏ –∫–æ–¥ —Å—ä—â–æ —Ç–∞–∫–∞ –æ—Ç–ø–µ—á–∞—Ç–≤–∞ –æ—Ä–∏–≥–∏–Ω–∞–ª–Ω–∞—Ç–∞ –∏ –ø—Ä–µ–≤–µ–¥–µ–Ω–∞—Ç–∞ –≤–µ—Ä—Å–∏—è –Ω–∞ —Ç–µ–∫—Å—Ç–∞ –≤ –∫–æ–Ω–∑–æ–ª–∞—Ç–∞.

1. –°—Ç–∞—Ä—Ç–∏—Ä–∞–π—Ç–µ –≤–∞—à–∏—è –∫–æ–¥. –£–≤–µ—Ä–µ—Ç–µ —Å–µ, —á–µ –≤–∞—à–µ—Ç–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∏—Ä–∞, –∏ –ø–æ–∏—Å–∫–∞–π—Ç–µ —Ç–∞–π–º–µ—Ä –Ω–∞ –µ–∑–∏–∫–∞ –Ω–∞ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—è, –∫–∞—Ç–æ –≥–æ–≤–æ—Ä–∏—Ç–µ –Ω–∞ —Ç–æ–∑–∏ –µ–∑–∏–∫ —Å–∞–º–∏ –∏–ª–∏ –∏–∑–ø–æ–ª–∑–≤–∞—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞ –ø—Ä–µ–≤–æ–¥.

    ```output
    (.venv) ‚ûú  smart-timer python app.py
    Connecting
    Connected
    Translated text: Set a timer of 2 minutes and 27 seconds.
    Original: 2 minute 27 second timer started.
    Translated: 2 minute 27 seconde minute a commenc√©.
    Original: Times up on your 2 minute 27 second timer.
    Translated: Chronom√©trant votre minuterie de 2 minutes 27 secondes.
    ```

    > üíÅ –ü–æ—Ä–∞–¥–∏ —Ä–∞–∑–ª–∏—á–Ω–∏—Ç–µ –Ω–∞—á–∏–Ω–∏ –∑–∞ –∏–∑—Ä–∞–∑—è–≤–∞–Ω–µ –Ω–∞ –Ω–µ—â–æ –Ω–∞ —Ä–∞–∑–ª–∏—á–Ω–∏ –µ–∑–∏—Ü–∏, –º–æ–∂–µ –¥–∞ –ø–æ–ª—É—á–∏—Ç–µ –ø—Ä–µ–≤–æ–¥–∏, –∫–æ–∏—Ç–æ —Å–∞ –º–∞–ª–∫–æ —Ä–∞–∑–ª–∏—á–Ω–∏ –æ—Ç –ø—Ä–∏–º–µ—Ä–∏—Ç–µ, –∫–æ–∏—Ç–æ —Å—Ç–µ –¥–∞–ª–∏ –Ω–∞ LUIS. –ê–∫–æ —Ç–æ–≤–∞ –µ —Ç–∞–∫–∞, –¥–æ–±–∞–≤–µ—Ç–µ –ø–æ–≤–µ—á–µ –ø—Ä–∏–º–µ—Ä–∏ –∫—ä–º LUIS, –æ–±—É—á–µ—Ç–µ –æ—Ç–Ω–æ–≤–æ –∏ –ø—É–±–ª–∏–∫—É–≤–∞–π—Ç–µ –º–æ–¥–µ–ª–∞.

> üíÅ –ú–æ–∂–µ—Ç–µ –¥–∞ –Ω–∞–º–µ—Ä–∏—Ç–µ —Ç–æ–∑–∏ –∫–æ–¥ –≤ –ø–∞–ø–∫–∞—Ç–∞ [code/virtual-iot-device](../../../../../6-consumer/lessons/4-multiple-language-support/code/virtual-iot-device).

üòÄ –í–∞—à–∞—Ç–∞ –º–Ω–æ–≥–æ–µ–∑–∏—á–Ω–∞ –ø—Ä–æ–≥—Ä–∞–º–∞ –∑–∞ —Ç–∞–π–º–µ—Ä –±–µ—à–µ —É—Å–ø–µ—à–Ω–∞!

---

**–û—Ç–∫–∞–∑ –æ—Ç –æ—Ç–≥–æ–≤–æ—Ä–Ω–æ—Å—Ç**:  
–¢–æ–∑–∏ –¥–æ–∫—É–º–µ–Ω—Ç –µ –ø—Ä–µ–≤–µ–¥–µ–Ω —Å –ø–æ–º–æ—â—Ç–∞ –Ω–∞ AI —É—Å–ª—É–≥–∞ –∑–∞ –ø—Ä–µ–≤–æ–¥ [Co-op Translator](https://github.com/Azure/co-op-translator). –í—ä–ø—Ä–µ–∫–∏ —á–µ —Å–µ —Å—Ç—Ä–µ–º–∏–º –∫—ä–º —Ç–æ—á–Ω–æ—Å—Ç, –º–æ–ª—è, –∏–º–∞–π—Ç–µ –ø—Ä–µ–¥–≤–∏–¥, —á–µ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–∞–Ω–∏—Ç–µ –ø—Ä–µ–≤–æ–¥–∏ –º–æ–∂–µ –¥–∞ —Å—ä–¥—ä—Ä–∂–∞—Ç –≥—Ä–µ—à–∫–∏ –∏–ª–∏ –Ω–µ—Ç–æ—á–Ω–æ—Å—Ç–∏. –û—Ä–∏–≥–∏–Ω–∞–ª–Ω–∏—è—Ç –¥–æ–∫—É–º–µ–Ω—Ç –Ω–∞ –Ω–µ–≥–æ–≤–∏—è –∏–∑—Ö–æ–¥–µ–Ω –µ–∑–∏–∫ —Ç—Ä—è–±–≤–∞ –¥–∞ —Å–µ —Å—á–∏—Ç–∞ –∑–∞ –∞–≤—Ç–æ—Ä–∏—Ç–µ—Ç–µ–Ω –∏–∑—Ç–æ—á–Ω–∏–∫. –ó–∞ –∫—Ä–∏—Ç–∏—á–Ω–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è —Å–µ –ø—Ä–µ–ø–æ—Ä—ä—á–≤–∞ –ø—Ä–æ—Ñ–µ—Å–∏–æ–Ω–∞–ª–µ–Ω —á–æ–≤–µ—à–∫–∏ –ø—Ä–µ–≤–æ–¥. –ù–∏–µ –Ω–µ –Ω–æ—Å–∏–º –æ—Ç–≥–æ–≤–æ—Ä–Ω–æ—Å—Ç –∑–∞ –∫–∞–∫–≤–∏—Ç–æ –∏ –¥–∞ –µ –Ω–µ–¥–æ—Ä–∞–∑—É–º–µ–Ω–∏—è –∏–ª–∏ –ø–æ–≥—Ä–µ—à–Ω–∏ –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏–∏, –ø—Ä–æ–∏–∑—Ç–∏—á–∞—â–∏ –æ—Ç –∏–∑–ø–æ–ª–∑–≤–∞–Ω–µ—Ç–æ –Ω–∞ —Ç–æ–∑–∏ –ø—Ä–µ–≤–æ–¥.