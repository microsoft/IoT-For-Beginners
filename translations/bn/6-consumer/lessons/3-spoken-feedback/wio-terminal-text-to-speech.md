<!--
CO_OP_TRANSLATOR_METADATA:
{
  "original_hash": "a202fa5889790a3777bfc33dd9f4b459",
  "translation_date": "2025-08-27T13:54:33+00:00",
  "source_file": "6-consumer/lessons/3-spoken-feedback/wio-terminal-text-to-speech.md",
  "language_code": "bn"
}
-->
# ржЯрзЗржХрзНрж╕ржЯ ржерзЗржХрзЗ рж╕рзНржкрж┐ржЪ - Wio Terminal

ржПржЗ ржкрж╛ржарзЗрж░ ржПржЗ ржЕржВрж╢рзЗ, ржЖржкржирж┐ ржЯрзЗржХрзНрж╕ржЯржХрзЗ рж╕рзНржкрж┐ржЪрзЗ рж░рзВржкрж╛ржирзНрждрж░ ржХрж░ржмрзЗржи ржпрж╛рждрзЗ ржХржерж┐ржд ржкрзНрж░рждрж┐ржХрзНрж░рж┐ржпрж╝рж╛ ржкрзНрж░ржжрж╛ржи ржХрж░рж╛ ржпрж╛ржпрж╝ред

## ржЯрзЗржХрзНрж╕ржЯ ржерзЗржХрзЗ рж╕рзНржкрж┐ржЪ

рж╕рзНржкрж┐ржЪ рж╕рж╛рж░рзНржнрж┐рж╕рзЗрж╕ SDK, ржпрж╛ ржЖржкржирж┐ ржЖржЧрзЗрж░ ржкрж╛ржарзЗ ржЯрзЗржХрзНрж╕ржЯ ржерзЗржХрзЗ рж╕рзНржкрж┐ржЪрзЗ рж░рзВржкрж╛ржирзНрждрж░ ржХрж░рждрзЗ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗржЫрж┐рж▓рзЗржи, рждрж╛ ржЯрзЗржХрзНрж╕ржЯржХрзЗ ржЖржмрж╛рж░ рж╕рзНржкрж┐ржЪрзЗ рж░рзВржкрж╛ржирзНрждрж░ ржХрж░рждрзЗржУ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж╛ ржпрзЗрждрзЗ ржкрж╛рж░рзЗред

## ржнржпрж╝рзЗрж╕рзЗрж░ рждрж╛рж▓рж┐ржХрж╛ ржкрж╛ржи

рж╕рзНржкрж┐ржЪ ржЕржирзБрж░рзЛржз ржХрж░рж╛рж░ рж╕ржоржпрж╝, ржЖржкржирж╛ржХрзЗ ржмрзНржпржмрж╣рж╛рж░рзЗрж░ ржЬржирзНржп ржПржХржЯрж┐ ржнржпрж╝рзЗрж╕ рж╕рж░ржмрж░рж╛рж╣ ржХрж░рждрзЗ рж╣ржмрзЗ ржХрж╛рж░ржг ржмрж┐ржнрж┐ржирзНржи ржнржпрж╝рзЗрж╕ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ рж╕рзНржкрж┐ржЪ рждрзИрж░рж┐ ржХрж░рж╛ ржпрзЗрждрзЗ ржкрж╛рж░рзЗред ржкрзНрж░рждрж┐ржЯрж┐ ржнрж╛рж╖рж╛ ржмрж┐ржнрж┐ржирзНржи ржнржпрж╝рзЗрж╕ рж╕ржорж░рзНржержи ржХрж░рзЗ ржПржмржВ ржкрзНрж░рждрж┐ржЯрж┐ ржнрж╛рж╖рж╛рж░ ржЬржирзНржп рж╕ржорж░рзНржерж┐ржд ржнржпрж╝рзЗрж╕рзЗрж░ рждрж╛рж▓рж┐ржХрж╛ рж╕рзНржкрж┐ржЪ рж╕рж╛рж░рзНржнрж┐рж╕рзЗрж╕ SDK ржерзЗржХрзЗ ржкрж╛ржУржпрж╝рж╛ ржпрж╛ржпрж╝ред ржПржЦрж╛ржирзЗ ржорж╛ржЗржХрзНрж░рзЛржХржирзНржЯрзНрж░рзЛрж▓рж╛рж░рзЗрж░ рж╕рзАржорж╛ржмржжрзНржзрждрж╛ржЧрзБрж▓рж┐ ржкрзНрж░рж╛рж╕ржЩрзНржЧрж┐ржХ рж╣ржпрж╝рзЗ ржУржарзЗ - ржЯрзЗржХрзНрж╕ржЯ ржерзЗржХрзЗ рж╕рзНржкрж┐ржЪ рж╕рж╛рж░рзНржнрж┐рж╕ ржжрзНржмрж╛рж░рж╛ рж╕ржорж░рзНржерж┐ржд ржнржпрж╝рзЗрж╕рзЗрж░ рждрж╛рж▓рж┐ржХрж╛ ржкрж╛ржУржпрж╝рж╛рж░ ржЬржирзНржп ржХрж▓ржЯрж┐ ржПржХржЯрж┐ JSON ржбржХрзБржорзЗржирзНржЯ ржпрж╛ рзнрзнKB ржПрж░ ржмрзЗрж╢рж┐ ржЖржХрж╛рж░рзЗрж░, ржпрж╛ Wio Terminal ржжрзНржмрж╛рж░рж╛ ржкрзНрж░ржХрзНрж░рж┐ржпрж╝рж╛ ржХрж░рж╛рж░ ржЬржирзНржп ржЕржирзЗржХ ржмржбрж╝ред рж▓рзЗржЦрж╛рж░ рж╕ржоржпрж╝, рж╕ржорзНржкрзВрж░рзНржг рждрж╛рж▓рж┐ржХрж╛ржпрж╝ рзирззрзлржЯрж┐ ржнржпрж╝рзЗрж╕ рж░ржпрж╝рзЗржЫрзЗ, ржкрзНрж░рждрж┐ржЯрж┐ ржПржХржЯрж┐ JSON ржбржХрзБржорзЗржирзНржЯ ржжрзНржмрж╛рж░рж╛ рж╕ржВржЬрзНржЮрж╛ржпрж╝рж┐ржд, ржпрзЗржоржи ржирж┐ржорзНржирж▓рж┐ржЦрж┐ржд:

```json
{
    "Name": "Microsoft Server Speech Text to Speech Voice (en-US, AriaNeural)",
    "DisplayName": "Aria",
    "LocalName": "Aria",
    "ShortName": "en-US-AriaNeural",
    "Gender": "Female",
    "Locale": "en-US",
    "StyleList": [
        "chat",
        "customerservice",
        "narration-professional",
        "newscast-casual",
        "newscast-formal",
        "cheerful",
        "empathetic"
    ],
    "SampleRateHertz": "24000",
    "VoiceType": "Neural",
    "Status": "GA"
}
```

ржПржЗ JSON **Aria** ржнржпрж╝рзЗрж╕рзЗрж░ ржЬржирзНржп, ржпрж╛рж░ ржПржХрж╛ржзрж┐ржХ ржнржпрж╝рзЗрж╕ рж╕рзНржЯрж╛ржЗрж▓ рж░ржпрж╝рзЗржЫрзЗред ржЯрзЗржХрзНрж╕ржЯ ржерзЗржХрзЗ рж╕рзНржкрж┐ржЪрзЗ рж░рзВржкрж╛ржирзНрждрж░ ржХрж░рж╛рж░ рж╕ржоржпрж╝ ржпрж╛ ржкрзНрж░ржпрж╝рзЛржЬржи рждрж╛ рж╣рж▓ рж╕ржВржХрзНрж╖рж┐ржкрзНржд ржирж╛ржо, `en-US-AriaNeural`ред

ржЖржкржирж╛рж░ ржорж╛ржЗржХрзНрж░рзЛржХржирзНржЯрзНрж░рзЛрж▓рж╛рж░рзЗ ржПржЗ рж╕ржорзНржкрзВрж░рзНржг рждрж╛рж▓рж┐ржХрж╛ ржбрж╛ржЙржирж▓рзЛржб ржПржмржВ ржбрж┐ржХрзЛржб ржХрж░рж╛рж░ ржкрж░рж┐ржмрж░рзНрждрзЗ, ржЖржкржирж╛ржХрзЗ ржПржоржи ржХрж┐ржЫрзБ рж╕рж╛рж░рзНржнрж╛рж░рж▓рзЗрж╕ ржХрзЛржб рж▓рж┐ржЦрждрзЗ рж╣ржмрзЗ ржпрж╛ ржЖржкржирж┐ ржпрзЗ ржнрж╛рж╖рж╛ ржмрзНржпржмрж╣рж╛рж░ ржХрж░ржЫрзЗржи рждрж╛рж░ ржЬржирзНржп ржнржпрж╝рзЗрж╕рзЗрж░ рждрж╛рж▓рж┐ржХрж╛ ржкрзБржирж░рзБржжрзНржзрж╛рж░ ржХрж░ржмрзЗ ржПржмржВ ржПржЯрж┐ ржЖржкржирж╛рж░ Wio Terminal ржерзЗржХрзЗ ржХрж▓ ржХрж░ржмрзЗред ржПрж░ржкрж░ ржЖржкржирж╛рж░ ржХрзЛржб рждрж╛рж▓рж┐ржХрж╛ ржерзЗржХрзЗ ржПржХржЯрж┐ ржЙржкржпрзБржХрзНржд ржнржпрж╝рзЗрж╕ ржмрзЗржЫрзЗ ржирж┐рждрзЗ ржкрж╛рж░рзЗ, ржпрзЗржоржи ржкрзНрж░ржержоржЯрж┐ ржпрж╛ ржПржЯрж┐ ржЦрзБржБржЬрзЗ ржкрж╛ржпрж╝ред

### ржХрж╛ржЬ - ржнржпрж╝рзЗрж╕рзЗрж░ рждрж╛рж▓рж┐ржХрж╛ ржкрзЗрждрзЗ ржПржХржЯрж┐ рж╕рж╛рж░рзНржнрж╛рж░рж▓рзЗрж╕ ржлрж╛ржВрж╢ржи рждрзИрж░рж┐ ржХрж░рзБржи

1. ржЖржкржирж╛рж░ `smart-timer-trigger` ржкрзНрж░ржХрж▓рзНржкржЯрж┐ VS Code-ржП ржЦрзБрж▓рзБржи ржПржмржВ ржЯрж╛рж░рзНржорж┐ржирж╛рж▓ржЯрж┐ ржЦрзБрж▓рзБржи, ржирж┐рж╢рзНржЪрж┐ржд ржХрж░рзБржи ржпрзЗ ржнрж╛рж░рзНржЪрзБржпрж╝рж╛рж▓ ржПржиржнрж╛ржпрж╝рж░ржиржорзЗржирзНржЯ рж╕ржХрзНрж░рж┐ржпрж╝ рж░ржпрж╝рзЗржЫрзЗред ржпржжрж┐ ржирж╛ ржерж╛ржХрзЗ, ржЯрж╛рж░рзНржорж┐ржирж╛рж▓ржЯрж┐ ржмржирзНржз ржХрж░рзЗ ржкрзБржирж░рж╛ржпрж╝ рждрзИрж░рж┐ ржХрж░рзБржиред

1. `local.settings.json` ржлрж╛ржЗрж▓ржЯрж┐ ржЦрзБрж▓рзБржи ржПржмржВ рж╕рзНржкрж┐ржЪ API ржХрзА ржПржмржВ ржЕржмрж╕рзНржерж╛ржирзЗрж░ ржЬржирзНржп рж╕рзЗржЯрж┐ржВрж╕ ржпрзЛржЧ ржХрж░рзБржи:

    ```json
    "SPEECH_KEY": "<key>",
    "SPEECH_LOCATION": "<location>"
    ```

    `<key>`-ржПрж░ ржЬрж╛ржпрж╝ржЧрж╛ржпрж╝ ржЖржкржирж╛рж░ рж╕рзНржкрж┐ржЪ рж╕рж╛рж░рзНржнрж┐рж╕ рж░рж┐рж╕рзЛрж░рзНрж╕рзЗрж░ API ржХрзА ржмрж╕рж╛ржиред `<location>`-ржПрж░ ржЬрж╛ржпрж╝ржЧрж╛ржпрж╝ ржЖржкржирж┐ ржпржЦржи рж╕рзНржкрж┐ржЪ рж╕рж╛рж░рзНржнрж┐рж╕ рж░рж┐рж╕рзЛрж░рзНрж╕ рждрзИрж░рж┐ ржХрж░рзЗржЫрж┐рж▓рзЗржи рждржЦржи ржмрзНржпржмрж╣рзГржд ржЕржмрж╕рзНржерж╛ржиржЯрж┐ ржмрж╕рж╛ржиред

1. ржПржЗ ржЕрзНржпрж╛ржкрзЗ `get-voices` ржирж╛ржорзЗ ржПржХржЯрж┐ ржирждрзБржи HTTP ржЯрзНрж░рж┐ржЧрж╛рж░ ржпрзЛржЧ ржХрж░рзБржи, ржпрж╛ VS Code ржЯрж╛рж░рзНржорж┐ржирж╛рж▓рзЗ ржлрж╛ржВрж╢ржи ржЕрзНржпрж╛ржк ржкрзНрж░ржХрж▓рзНржкрзЗрж░ рж░рзБржЯ ржлрзЛрж▓рзНржбрж╛рж░ ржерзЗржХрзЗ ржирж┐ржорзНржирж▓рж┐ржЦрж┐ржд ржХржорж╛ржирзНржб ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ рждрзИрж░рж┐ ржХрж░рж╛ ржпрзЗрждрзЗ ржкрж╛рж░рзЗ:

    ```sh
    func new --name get-voices --template "HTTP trigger"
    ```

    ржПржЯрж┐ `get-voices` ржирж╛ржорзЗ ржПржХржЯрж┐ HTTP ржЯрзНрж░рж┐ржЧрж╛рж░ рждрзИрж░рж┐ ржХрж░ржмрзЗред

1. `get-voices` ржлрзЛрж▓рзНржбрж╛рж░рзЗрж░ `__init__.py` ржлрж╛ржЗрж▓рзЗрж░ ржмрж┐рж╖ржпрж╝ржмрж╕рзНрждрзБ ржирж┐ржорзНржирж▓рж┐ржЦрж┐ржд ржХрзЛржб ржжрж┐ржпрж╝рзЗ ржкрзНрж░рждрж┐рж╕рзНржерж╛ржкржи ржХрж░рзБржи:

    ```python
    import json
    import os
    import requests
    
    import azure.functions as func
    
    def main(req: func.HttpRequest) -> func.HttpResponse:
        location = os.environ['SPEECH_LOCATION']
        speech_key = os.environ['SPEECH_KEY']
    
        req_body = req.get_json()
        language = req_body['language']
    
        url = f'https://{location}.tts.speech.microsoft.com/cognitiveservices/voices/list'
    
        headers = {
            'Ocp-Apim-Subscription-Key': speech_key
        }
    
        response = requests.get(url, headers=headers)
        voices_json = json.loads(response.text)
    
        voices = filter(lambda x: x['Locale'].lower() == language.lower(), voices_json)
        voices = map(lambda x: x['ShortName'], voices)
    
        return func.HttpResponse(json.dumps(list(voices)), status_code=200)
    ```

    ржПржЗ ржХрзЛржбржЯрж┐ ржнржпрж╝рзЗрж╕ржЧрзБрж▓рж┐ ржкрзЗрждрзЗ ржПржирзНржбржкржпрж╝рзЗржирзНржЯрзЗ ржПржХржЯрж┐ HTTP ржЕржирзБрж░рзЛржз ржХрж░рзЗред ржПржЗ ржнржпрж╝рзЗрж╕ рждрж╛рж▓рж┐ржХрж╛ржЯрж┐ рж╕ржорж╕рзНржд ржнрж╛рж╖рж╛рж░ ржЬржирзНржп ржПржХржЯрж┐ ржмржбрж╝ JSON ржмрзНрж▓ржХ, рждрж╛ржЗ ржЕржирзБрж░рзЛржз ржмржбрж┐рждрзЗ ржкрж╛рж╕ ржХрж░рж╛ ржнрж╛рж╖рж╛рж░ ржЬржирзНржп ржнржпрж╝рзЗрж╕ржЧрзБрж▓рж┐ ржлрж┐рж▓рзНржЯрж╛рж░ ржХрж░рж╛ рж╣ржпрж╝, рждрж╛рж░ржкрж░ рж╕ржВржХрзНрж╖рж┐ржкрзНржд ржирж╛ржоржЯрж┐ ржмрзЗрж░ ржХрж░рзЗ ржПржХржЯрж┐ JSON рждрж╛рж▓рж┐ржХрж╛ рж╣рж┐рж╕рж╛ржмрзЗ ржлрзЗрж░ржд ржжрзЗржУржпрж╝рж╛ рж╣ржпрж╝ред ржЯрзЗржХрзНрж╕ржЯ ржерзЗржХрзЗ рж╕рзНржкрж┐ржЪрзЗ рж░рзВржкрж╛ржирзНрждрж░ ржХрж░рж╛рж░ ржЬржирзНржп рж╕ржВржХрзНрж╖рж┐ржкрзНржд ржирж╛ржоржЯрж┐ ржкрзНрж░ржпрж╝рзЛржЬржи, рждрж╛ржЗ рж╢рзБржзрзБржорж╛рждрзНрж░ ржПржЗ ржорж╛ржиржЯрж┐ ржлрзЗрж░ржд ржжрзЗржУржпрж╝рж╛ рж╣ржпрж╝ред

    > ЁЯТБ ржЖржкржирж┐ ржкрзНрж░ржпрж╝рзЛржЬржи ржЕржирзБржпрж╛ржпрж╝рзА ржлрж┐рж▓рзНржЯрж╛рж░ржЯрж┐ ржкрж░рж┐ржмрж░рзНрждржи ржХрж░рждрзЗ ржкрж╛рж░рзЗржи рж╢рзБржзрзБржорж╛рждрзНрж░ ржЖржкржирж╛рж░ ржкржЫржирзНржжрзЗрж░ ржнржпрж╝рзЗрж╕ржЧрзБрж▓рж┐ ржирж┐рж░рзНржмрж╛ржЪржи ржХрж░рждрзЗред

    ржПржЯрж┐ ржбрзЗржЯрж╛рж░ ржЖржХрж╛рж░ рзнрзнKB (рж▓рзЗржЦрж╛рж░ рж╕ржоржпрж╝) ржерзЗржХрзЗ ржПржХржЯрж┐ ржЫрзЛржЯ JSON ржбржХрзБржорзЗржирзНржЯрзЗ ржХржорж┐ржпрж╝рзЗ ржжрзЗржпрж╝ред ржЙржжрж╛рж╣рж░ржгрж╕рзНржмрж░рзВржк, US ржнржпрж╝рзЗрж╕рзЗрж░ ржЬржирзНржп ржПржЯрж┐ рзкрзжрзо ржмрж╛ржЗржЯред

1. ржЖржкржирж╛рж░ ржлрж╛ржВрж╢ржи ржЕрзНржпрж╛ржкржЯрж┐ рж▓рзЛржХрж╛рж▓ржнрж╛ржмрзЗ ржЪрж╛рж▓рж╛ржиред ржПрж░ржкрж░ ржЖржкржирж┐ ржПржЯрж┐ `text-to-timer` HTTP ржЯрзНрж░рж┐ржЧрж╛рж░ ржкрж░рзАржХрзНрж╖рж╛ ржХрж░рж╛рж░ ржорждрзЛ ржХрж░рзЗ curl-ржПрж░ ржорждрзЛ ржПржХржЯрж┐ ржЯрзБрж▓ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ ржХрж▓ ржХрж░рждрзЗ ржкрж╛рж░рзЗржиред ржирж┐рж╢рзНржЪрж┐ржд ржХрж░рзБржи ржпрзЗ ржЖржкржирж╛рж░ ржнрж╛рж╖рж╛ржЯрж┐ ржПржХржЯрж┐ JSON ржмржбрж┐ рж╣рж┐рж╕рж╛ржмрзЗ ржкрж╛рж╕ ржХрж░рж╛ рж╣ржпрж╝рзЗржЫрзЗ:

    ```json
    {
        "language":"<language>"
    }
    ```

    `<language>`-ржПрж░ ржЬрж╛ржпрж╝ржЧрж╛ржпрж╝ ржЖржкржирж╛рж░ ржнрж╛рж╖рж╛ ржмрж╕рж╛ржи, ржпрзЗржоржи `en-GB` ржмрж╛ `zh-CN`ред

> ЁЯТБ ржЖржкржирж┐ ржПржЗ ржХрзЛржбржЯрж┐ [code-spoken-response/functions](../../../../../6-consumer/lessons/3-spoken-feedback/code-spoken-response/functions) ржлрзЛрж▓рзНржбрж╛рж░рзЗ ржЦрзБржБржЬрзЗ ржкрзЗрждрзЗ ржкрж╛рж░рзЗржиред

### ржХрж╛ржЬ - ржЖржкржирж╛рж░ Wio Terminal ржерзЗржХрзЗ ржнржпрж╝рзЗрж╕ ржкрзБржирж░рзБржжрзНржзрж╛рж░ ржХрж░рзБржи

1. ржпржжрж┐ ржПржЯрж┐ ржЗрждрж┐ржоржзрзНржпрзЗ ржЦрзЛрж▓рж╛ ржирж╛ ржерж╛ржХрзЗ рждржмрзЗ VS Code-ржП `smart-timer` ржкрзНрж░ржХрж▓рзНржкржЯрж┐ ржЦрзБрж▓рзБржиред

1. `config.h` рж╣рзЗржбрж╛рж░ ржлрж╛ржЗрж▓ржЯрж┐ ржЦрзБрж▓рзБржи ржПржмржВ ржЖржкржирж╛рж░ ржлрж╛ржВрж╢ржи ржЕрзНржпрж╛ржкрзЗрж░ URL ржпрзЛржЧ ржХрж░рзБржи:

    ```cpp
    const char *GET_VOICES_FUNCTION_URL = "<URL>";
    ```

    `<URL>`-ржПрж░ ржЬрж╛ржпрж╝ржЧрж╛ржпрж╝ ржЖржкржирж╛рж░ ржлрж╛ржВрж╢ржи ржЕрзНржпрж╛ржкрзЗрж░ `get-voices` HTTP ржЯрзНрж░рж┐ржЧрж╛рж░рзЗрж░ URL ржмрж╕рж╛ржиред ржПржЯрж┐ `TEXT_TO_TIMER_FUNCTION_URL`-ржПрж░ ржорж╛ржирзЗрж░ ржорждрзЛржЗ рж╣ржмрзЗ, рждржмрзЗ ржлрж╛ржВрж╢ржирзЗрж░ ржирж╛ржо `text-to-timer` ржПрж░ ржкрж░рж┐ржмрж░рзНрждрзЗ `get-voices` рж╣ржмрзЗред

1. `src` ржлрзЛрж▓рзНржбрж╛рж░рзЗ ржПржХржЯрж┐ ржирждрзБржи ржлрж╛ржЗрж▓ рждрзИрж░рж┐ ржХрж░рзБржи ржпрж╛рж░ ржирж╛ржо `text_to_speech.h`ред ржПржЯрж┐ ржЯрзЗржХрзНрж╕ржЯ ржерзЗржХрзЗ рж╕рзНржкрж┐ржЪрзЗ рж░рзВржкрж╛ржирзНрждрж░ ржХрж░рж╛рж░ ржЬржирзНржп ржПржХржЯрж┐ ржХрзНрж▓рж╛рж╕ рж╕ржВржЬрзНржЮрж╛ржпрж╝рж┐ржд ржХрж░рждрзЗ ржмрзНржпржмрж╣рзГржд рж╣ржмрзЗред

1. ржирждрзБржи `text_to_speech.h` ржлрж╛ржЗрж▓рзЗрж░ ржЙржкрж░рзЗ ржирж┐ржорзНржирж▓рж┐ржЦрж┐ржд ржЗржиржХрзНрж▓рзБржб ржбрж┐рж░рзЗржХрзНржЯрж┐ржнржЧрзБрж▓рж┐ ржпрзЛржЧ ржХрж░рзБржи:

    ```cpp
    #pragma once

    #include <Arduino.h>
    #include <ArduinoJson.h>
    #include <HTTPClient.h>
    #include <Seeed_FS.h>
    #include <SD/Seeed_SD.h>
    #include <WiFiClient.h>
    #include <WiFiClientSecure.h>
    
    #include "config.h"
    #include "speech_to_text.h"
    ```

1. ржПрж░ ржирж┐ржЪрзЗ `TextToSpeech` ржХрзНрж▓рж╛рж╕ржЯрж┐ ржбрж┐ржХрзНрж▓рзЗржпрж╝рж╛рж░ ржХрж░рж╛рж░ ржЬржирзНржп ржПржмржВ ржЕрзНржпрж╛ржкрзНрж▓рж┐ржХрзЗрж╢ржирзЗрж░ ржмрж╛ржХрж┐ ржЕржВрж╢рзЗ ржмрзНржпржмрж╣рж╛рж░рзЗрж░ ржЬржирзНржп ржПржХржЯрж┐ ржЗржирж╕рзНржЯрзНржпрж╛ржирзНрж╕ ржбрж┐ржХрзНрж▓рзЗржпрж╝рж╛рж░ ржХрж░рж╛рж░ ржЬржирзНржп ржирж┐ржорзНржирж▓рж┐ржЦрж┐ржд ржХрзЛржбржЯрж┐ ржпрзЛржЧ ржХрж░рзБржи:

    ```cpp
    class TextToSpeech
    {
    public:
    private:
    };
    
    TextToSpeech textToSpeech;
    ```

1. ржЖржкржирж╛рж░ ржлрж╛ржВрж╢ржи ржЕрзНржпрж╛ржк ржХрж▓ ржХрж░рж╛рж░ ржЬржирзНржп ржПржХржЯрж┐ WiFi ржХрзНрж▓рж╛ржпрж╝рзЗржирзНржЯ ржбрж┐ржХрзНрж▓рзЗржпрж╝рж╛рж░ ржХрж░рзБржиред ржХрзНрж▓рж╛рж╕рзЗрж░ `private` рж╕рзЗржХрж╢ржирзЗ ржирж┐ржорзНржирж▓рж┐ржЦрж┐рждржЯрж┐ ржпрзЛржЧ ржХрж░рзБржи:

    ```cpp
    WiFiClient _client;
    ```

1. `private` рж╕рзЗржХрж╢ржирзЗ ржПржХржЯрж┐ ржлрж┐рж▓рзНржб ржпрзЛржЧ ржХрж░рзБржи ржирж┐рж░рзНржмрж╛ржЪрж┐ржд ржнржпрж╝рзЗрж╕рзЗрж░ ржЬржирзНржп:

    ```cpp
    String _voice;
    ```

1. `public` рж╕рзЗржХрж╢ржирзЗ ржПржХржЯрж┐ `init` ржлрж╛ржВрж╢ржи ржпрзЛржЧ ржХрж░рзБржи ржпрж╛ ржкрзНрж░ржержо ржнржпрж╝рзЗрж╕ржЯрж┐ ржкрж╛ржмрзЗ:

    ```cpp
    void init()
    {
    }
    ```

1. ржнржпрж╝рзЗрж╕ржЧрзБрж▓рж┐ ржкрзЗрждрзЗ, ржПржХржЯрж┐ JSON ржбржХрзБржорзЗржирзНржЯ рждрзИрж░рж┐ ржХрж░рждрзЗ рж╣ржмрзЗ ржпрж╛ ржнрж╛рж╖рж╛рж░ рж╕рж╛ржерзЗ ржлрж╛ржВрж╢ржи ржЕрзНржпрж╛ржкрзЗ ржкрж╛ржарж╛ржирзЛ рж╣ржмрзЗред `init` ржлрж╛ржВрж╢ржирзЗ ржирж┐ржорзНржирж▓рж┐ржЦрж┐ржд ржХрзЛржбржЯрж┐ ржпрзЛржЧ ржХрж░рзБржи:

    ```cpp
    DynamicJsonDocument doc(1024);
    doc["language"] = LANGUAGE;

    String body;
    serializeJson(doc, body);
    ```

1. ржПрж░ржкрж░ ржПржХржЯрж┐ `HTTPClient` рждрзИрж░рж┐ ржХрж░рзБржи ржПржмржВ ржПржЯрж┐ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ ржлрж╛ржВрж╢ржи ржЕрзНржпрж╛ржк ржХрж▓ ржХрж░рзБржи ржнржпрж╝рзЗрж╕ржЧрзБрж▓рж┐ ржкрзЗрждрзЗ, JSON ржбржХрзБржорзЗржирзНржЯ ржкрзЛрж╕рзНржЯ ржХрж░рзЗ:

    ```cpp
    HTTPClient httpClient;
    httpClient.begin(_client, GET_VOICES_FUNCTION_URL);

    int httpResponseCode = httpClient.POST(body);
    ```

1. ржПрж░ ржирж┐ржЪрзЗ ржХрзЛржб ржпрзЛржЧ ржХрж░рзБржи ржпрж╛ рж░рзЗрж╕ржкржирзНрж╕ ржХрзЛржб ржЪрзЗржХ ржХрж░ржмрзЗ, ржПржмржВ ржпржжрж┐ ржПржЯрж┐ рзирзжрзж (рж╕ржлрж▓) рж╣ржпрж╝, рждрж╛рж╣рж▓рзЗ ржнржпрж╝рзЗрж╕ржЧрзБрж▓рж┐рж░ рждрж╛рж▓рж┐ржХрж╛ ржмрзЗрж░ ржХрж░ржмрзЗ ржПржмржВ рждрж╛рж▓рж┐ржХрж╛ ржерзЗржХрзЗ ржкрзНрж░ржержоржЯрж┐ ржкрзБржирж░рзБржжрзНржзрж╛рж░ ржХрж░ржмрзЗ:

    ```cpp
    if (httpResponseCode == 200)
    {
        String result = httpClient.getString();
        Serial.println(result);

        DynamicJsonDocument doc(1024);
        deserializeJson(doc, result.c_str());

        JsonArray obj = doc.as<JsonArray>();
        _voice = obj[0].as<String>();

        Serial.print("Using voice ");
        Serial.println(_voice);
    }
    else
    {
        Serial.print("Failed to get voices - error ");
        Serial.println(httpResponseCode);
    }
    ```

1. ржПрж░ ржкрж░рзЗ, HTTP ржХрзНрж▓рж╛ржпрж╝рзЗржирзНржЯ рж╕ржВржпрзЛржЧржЯрж┐ ржмржирзНржз ржХрж░рзБржи:

    ```cpp
    httpClient.end();
    ```

1. `main.cpp` ржлрж╛ржЗрж▓ржЯрж┐ ржЦрзБрж▓рзБржи ржПржмржВ ржПржЗ ржирждрзБржи рж╣рзЗржбрж╛рж░ ржлрж╛ржЗрж▓ржЯрж┐ ржЕржирзНрждрж░рзНржнрзБржХрзНржд ржХрж░рждрзЗ ржЙржкрж░рзЗ ржирж┐ржорзНржирж▓рж┐ржЦрж┐ржд ржЗржиржХрзНрж▓рзБржб ржбрж┐рж░рзЗржХрзНржЯрж┐ржнржЯрж┐ ржпрзЛржЧ ржХрж░рзБржи:

    ```cpp
    #include "text_to_speech.h"
    ```

1. `setup` ржлрж╛ржВрж╢ржирзЗ, `speechToText.init();` ржХрж▓рзЗрж░ ржирж┐ржЪрзЗ, `TextToSpeech` ржХрзНрж▓рж╛рж╕ржЯрж┐ ржЗржирж┐рж╢рж┐ржпрж╝рж╛рж▓рж╛ржЗржЬ ржХрж░рж╛рж░ ржЬржирзНржп ржирж┐ржорзНржирж▓рж┐ржЦрж┐рждржЯрж┐ ржпрзЛржЧ ржХрж░рзБржи:

    ```cpp
    textToSpeech.init();
    ```

1. ржПржЗ ржХрзЛржбржЯрж┐ ржмрж┐рж▓рзНржб ржХрж░рзБржи, ржПржЯрж┐ ржЖржкржирж╛рж░ Wio Terminal-ржП ржЖржкрж▓рзЛржб ржХрж░рзБржи ржПржмржВ рж╕рж┐рж░рж┐ржпрж╝рж╛рж▓ ржоржирж┐ржЯрж░рзЗрж░ ржорж╛ржзрзНржпржорзЗ ржПржЯрж┐ ржкрж░рзАржХрзНрж╖рж╛ ржХрж░рзБржиред ржирж┐рж╢рзНржЪрж┐ржд ржХрж░рзБржи ржпрзЗ ржЖржкржирж╛рж░ ржлрж╛ржВрж╢ржи ржЕрзНржпрж╛ржкржЯрж┐ ржЪрж╛рж▓рзБ рж░ржпрж╝рзЗржЫрзЗред

    ржЖржкржирж┐ ржлрж╛ржВрж╢ржи ржЕрзНржпрж╛ржк ржерзЗржХрзЗ ржлрзЗрж░ржд ржЖрж╕рж╛ ржЙржкрж▓ржмрзНржз ржнржпрж╝рзЗрж╕ржЧрзБрж▓рж┐рж░ рждрж╛рж▓рж┐ржХрж╛ ржПржмржВ ржирж┐рж░рзНржмрж╛ржЪрж┐ржд ржнржпрж╝рзЗрж╕ржЯрж┐ ржжрзЗржЦрждрзЗ ржкрж╛ржмрзЗржиред

    ```output
    --- Available filters and text transformations: colorize, debug, default, direct, hexlify, log2file, nocontrol, printable, send_on_enter, time
    --- More details at http://bit.ly/pio-monitor-filters
    --- Miniterm on /dev/cu.usbmodem1101  9600,8,N,1 ---
    --- Quit: Ctrl+C | Menu: Ctrl+T | Help: Ctrl+T followed by Ctrl+H ---
    Connecting to WiFi..
    Connected!
    Got access token.
    ["en-US-JennyNeural", "en-US-JennyMultilingualNeural", "en-US-GuyNeural", "en-US-AriaNeural", "en-US-AmberNeural", "en-US-AnaNeural", "en-US-AshleyNeural", "en-US-BrandonNeural", "en-US-ChristopherNeural", "en-US-CoraNeural", "en-US-ElizabethNeural", "en-US-EricNeural", "en-US-JacobNeural", "en-US-MichelleNeural", "en-US-MonicaNeural", "en-US-AriaRUS", "en-US-BenjaminRUS", "en-US-GuyRUS", "en-US-ZiraRUS"]
    Using voice en-US-JennyNeural
    Ready.
    ```

## ржЯрзЗржХрзНрж╕ржЯ ржерзЗржХрзЗ рж╕рзНржкрж┐ржЪрзЗ рж░рзВржкрж╛ржирзНрждрж░ ржХрж░рзБржи

ржПржХржмрж╛рж░ ржЖржкржирж╛рж░ ржмрзНржпржмрж╣рж╛рж░рзЗрж░ ржЬржирзНржп ржПржХржЯрж┐ ржнржпрж╝рзЗрж╕ ржерж╛ржХрж▓рзЗ, ржПржЯрж┐ ржЯрзЗржХрзНрж╕ржЯржХрзЗ рж╕рзНржкрж┐ржЪрзЗ рж░рзВржкрж╛ржирзНрждрж░ ржХрж░рждрзЗ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж╛ ржпрзЗрждрзЗ ржкрж╛рж░рзЗред ржнржпрж╝рзЗрж╕ржЧрзБрж▓рж┐рж░ ржХрзНрж╖рзЗрждрзНрж░рзЗ ржпрзЗ ржорзЗржорж░рж┐ рж╕рзАржорж╛ржмржжрзНржзрждрж╛ рж░ржпрж╝рзЗржЫрзЗ рждрж╛ рж╕рзНржкрж┐ржЪрзЗ рж░рзВржкрж╛ржирзНрждрж░рзЗрж░ ржХрзНрж╖рзЗрждрзНрж░рзЗржУ ржкрзНрж░ржпрзЛржЬрзНржп, рждрж╛ржЗ ржЖржкржирж╛ржХрзЗ рж╕рзНржкрж┐ржЪржЯрж┐ SD ржХрж╛рж░рзНржбрзЗ рж▓рж┐ржЦрждрзЗ рж╣ржмрзЗ ржпрж╛рждрзЗ ржПржЯрж┐ ReSpeaker-ржПрж░ ржорж╛ржзрзНржпржорзЗ ржкрзНрж▓рзЗ ржХрж░рж╛ ржпрж╛ржпрж╝ред

> ЁЯТБ ржПржЗ ржкрзНрж░ржХрж▓рзНржкрзЗрж░ ржЖржЧрзЗрж░ ржкрж╛ржарзЗ ржЖржкржирж┐ ржорж╛ржЗржХрзНрж░рзЛржлрзЛржи ржерзЗржХрзЗ ржХрзНржпрж╛ржкржЪрж╛рж░ ржХрж░рж╛ рж╕рзНржкрж┐ржЪ ржлрзНрж▓рзНржпрж╛рж╢ ржорзЗржорж░рж┐рждрзЗ рж╕ржВрж░ржХрзНрж╖ржг ржХрж░рждрзЗ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗржЫрж┐рж▓рзЗржиред ржПржЗ ржкрж╛ржарзЗ SD ржХрж╛рж░рзНржб ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж╛ рж╣ржпрж╝рзЗржЫрзЗ ржХрж╛рж░ржг Seeed ржЕржбрж┐ржУ рж▓рж╛ржЗржмрзНрж░рзЗрж░рж┐ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ ржПржЯрж┐ ржерзЗржХрзЗ ржЕржбрж┐ржУ ржкрзНрж▓рзЗ ржХрж░рж╛ рж╕рж╣ржЬред

ржЖрж░рзЗржХржЯрж┐ рж╕рзАржорж╛ржмржжрзНржзрждрж╛ржУ ржмрж┐ржмрзЗржЪржирж╛ ржХрж░рждрзЗ рж╣ржмрзЗ, рж╕рзНржкрж┐ржЪ рж╕рж╛рж░рзНржнрж┐рж╕ ржерзЗржХрзЗ ржЙржкрж▓ржмрзНржз ржЕржбрж┐ржУ ржбрзЗржЯрж╛ ржПржмржВ Wio Terminal ржпрзЗ ржлрж░ржорзНржпрж╛ржЯржЧрзБрж▓рж┐ рж╕ржорж░рзНржержи ржХрж░рзЗред рж╕ржорзНржкрзВрж░рзНржг ржХржорзНржкрж┐ржЙржЯрж╛рж░рзЗрж░ ржорждрзЛ ржиржпрж╝, ржорж╛ржЗржХрзНрж░рзЛржХржирзНржЯрзНрж░рзЛрж▓рж╛рж░рзЗрж░ ржЬржирзНржп ржЕржбрж┐ржУ рж▓рж╛ржЗржмрзНрж░рзЗрж░рж┐ржЧрзБрж▓рж┐ рж╕ржорж░рзНржерж┐ржд ржЕржбрж┐ржУ ржлрж░ржорзНржпрж╛ржЯрзЗ ржЦрзБржм рж╕рзАржорж┐ржд рж╣рждрзЗ ржкрж╛рж░рзЗред ржЙржжрж╛рж╣рж░ржгрж╕рзНржмрж░рзВржк, Seeed Arduino Audio рж▓рж╛ржЗржмрзНрж░рзЗрж░рж┐ ржпрж╛ ReSpeaker-ржПрж░ ржорж╛ржзрзНржпржорзЗ рж╕рж╛ржЙржирзНржб ржкрзНрж▓рзЗ ржХрж░рждрзЗ ржкрж╛рж░рзЗ рж╢рзБржзрзБржорж╛рждрзНрж░ рзкрзк.рззKHz рж╕рзНржпрж╛ржорзНржкрж▓ рж░рзЗржЯрзЗрж░ ржЕржбрж┐ржУ рж╕ржорж░рзНржержи ржХрж░рзЗред Azure рж╕рзНржкрж┐ржЪ рж╕рж╛рж░рзНржнрж┐рж╕ржЧрзБрж▓рж┐ ржмрзЗрж╢ ржХржпрж╝рзЗржХржЯрж┐ ржлрж░ржорзНржпрж╛ржЯрзЗ ржЕржбрж┐ржУ ржкрзНрж░ржжрж╛ржи ржХрж░рждрзЗ ржкрж╛рж░рзЗ, рждржмрзЗ ржПрж░ ржХрзЛржирзЛржЯрж┐ржЗ ржПржЗ рж╕рзНржпрж╛ржорзНржкрж▓ рж░рзЗржЯ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ ржирж╛, рждрж╛рж░рж╛ рж╢рзБржзрзБржорж╛рждрзНрж░ рзоKHz, рззрзмKHz, рзирзкKHz ржПржмржВ рзкрзоKHz ржкрзНрж░ржжрж╛ржи ржХрж░рзЗред ржПрж░ ржорж╛ржирзЗ ржЕржбрж┐ржУржЯрж┐ рзкрзк.рззKHz-ржП ржкрзБржирж░рж╛ржпрж╝ рж╕рзНржпрж╛ржорзНржкрж▓ ржХрж░рждрзЗ рж╣ржмрзЗ, ржпрж╛ Wio Terminal-ржПрж░ ржХрж╛ржЫрзЗ ржерж╛ржХрж╛ ржмрзЗрж╢рж┐ рж░рж┐рж╕рзЛрж░рзНрж╕ ржкрзНрж░ржпрж╝рзЛржЬржи, ржмрж┐рж╢рзЗрж╖ ржХрж░рзЗ ржорзЗржорж░рж┐ред

ржпржЦржи ржПржЗ ржзрж░ржирзЗрж░ ржбрзЗржЯрж╛ ржорзНржпрж╛ржирж┐ржкрзБрж▓рзЗржЯ ржХрж░рж╛рж░ ржкрзНрж░ржпрж╝рзЛржЬржи рж╣ржпрж╝, рждржЦржи ржПржЯрж┐ ржкрзНрж░рж╛ржпрж╝рж╢ржЗ рж╕рж╛рж░рзНржнрж╛рж░рж▓рзЗрж╕ ржХрзЛржб ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж╛ ржнрж╛рж▓, ржмрж┐рж╢рзЗрж╖ ржХрж░рзЗ ржпржжрж┐ ржбрзЗржЯрж╛ ржУржпрж╝рзЗржм ржХрж▓рзЗрж░ ржорж╛ржзрзНржпржорзЗ ржЙрзОрж╕ рж╣ржпрж╝ред Wio Terminal ржПржХржЯрж┐ рж╕рж╛рж░рзНржнрж╛рж░рж▓рзЗрж╕ ржлрж╛ржВрж╢ржи ржХрж▓ ржХрж░рждрзЗ ржкрж╛рж░рзЗ, рж░рзВржкрж╛ржирзНрждрж░ ржХрж░рж╛рж░ ржЬржирзНржп ржЯрзЗржХрзНрж╕ржЯ ржкрж╛рж╕ ржХрж░рждрзЗ ржкрж╛рж░рзЗ, ржПржмржВ рж╕рж╛рж░рзНржнрж╛рж░рж▓рзЗрж╕ ржлрж╛ржВрж╢ржиржЯрж┐ ржЯрзЗржХрзНрж╕ржЯ ржерзЗржХрзЗ рж╕рзНржкрж┐ржЪрзЗ рж░рзВржкрж╛ржирзНрждрж░ ржХрж░рж╛рж░ ржкрж╛рж╢рж╛ржкрж╛рж╢рж┐ ржкрзНрж░ржпрж╝рзЛржЬржирзАржпрж╝ рж╕рзНржпрж╛ржорзНржкрж▓ рж░рзЗржЯрзЗ ржЕржбрж┐ржУ ржкрзБржирж░рж╛ржпрж╝ рж╕рзНржпрж╛ржорзНржкрж▓ ржХрж░рждрзЗ ржкрж╛рж░рзЗред ржПржЯрж┐ рждржЦржи ржЕржбрж┐ржУржЯрж┐ Wio Terminal-ржПрж░ ржкрзНрж░ржпрж╝рзЛржЬржирзАржпрж╝ ржлрж░рзНржорзЗ ржлрзЗрж░ржд ржжрж┐рждрзЗ ржкрж╛рж░рзЗ ржпрж╛ SD ржХрж╛рж░рзНржбрзЗ рж╕ржВрж░ржХрзНрж╖ржг ржХрж░рж╛ рж╣ржмрзЗ ржПржмржВ ReSpeaker-ржПрж░ ржорж╛ржзрзНржпржорзЗ ржкрзНрж▓рзЗ ржХрж░рж╛ рж╣ржмрзЗред

### ржХрж╛ржЬ - ржЯрзЗржХрзНрж╕ржЯ ржерзЗржХрзЗ рж╕рзНржкрж┐ржЪрзЗ рж░рзВржкрж╛ржирзНрждрж░ ржХрж░рждрзЗ ржПржХржЯрж┐ рж╕рж╛рж░рзНржнрж╛рж░рж▓рзЗрж╕ ржлрж╛ржВрж╢ржи рждрзИрж░рж┐ ржХрж░рзБржи

1. ржЖржкржирж╛рж░ `smart-timer-trigger` ржкрзНрж░ржХрж▓рзНржкржЯрж┐ VS Code-ржП ржЦрзБрж▓рзБржи ржПржмржВ ржЯрж╛рж░рзНржорж┐ржирж╛рж▓ржЯрж┐ ржЦрзБрж▓рзБржи, ржирж┐рж╢рзНржЪрж┐ржд ржХрж░рзБржи ржпрзЗ ржнрж╛рж░рзНржЪрзБржпрж╝рж╛рж▓ ржПржиржнрж╛ржпрж╝рж░ржиржорзЗржирзНржЯ рж╕ржХрзНрж░рж┐ржпрж╝ рж░ржпрж╝рзЗржЫрзЗред ржпржжрж┐ ржирж╛ ржерж╛ржХрзЗ, ржЯрж╛рж░рзНржорж┐ржирж╛рж▓ржЯрж┐ ржмржирзНржз ржХрж░рзЗ ржкрзБржирж░рж╛ржпрж╝ рждрзИрж░рж┐ ржХрж░рзБржиред

1. ржПржЗ ржЕрзНржпрж╛ржкрзЗ `text-to-speech` ржирж╛ржорзЗ ржПржХржЯрж┐ ржирждрзБржи HTTP ржЯрзНрж░рж┐ржЧрж╛рж░ ржпрзЛржЧ ржХрж░рзБржи, ржпрж╛ VS Code ржЯрж╛рж░рзНржорж┐ржирж╛рж▓рзЗ ржлрж╛ржВрж╢ржи ржЕрзНржпрж╛ржк ржкрзНрж░ржХрж▓рзНржкрзЗрж░ рж░рзБржЯ ржлрзЛрж▓рзНржбрж╛рж░ ржерзЗржХрзЗ ржирж┐ржорзНржирж▓рж┐ржЦрж┐ржд ржХржорж╛ржирзНржб ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ рждрзИрж░рж┐ ржХрж░рж╛ ржпрзЗрждрзЗ ржкрж╛рж░рзЗ:

    ```sh
    func new --name text-to-speech --template "HTTP trigger"
    ```

    ржПржЯрж┐ `text-to-speech` ржирж╛ржорзЗ ржПржХржЯрж┐ HTTP ржЯрзНрж░рж┐ржЧрж╛рж░ рждрзИрж░рж┐ ржХрж░ржмрзЗред

1. [librosa](https://librosa.org) Pip ржкрзНржпрж╛ржХрзЗржЬрзЗ ржЕржбрж┐ржУ ржкрзБржирж░рж╛ржпрж╝ рж╕рзНржпрж╛ржорзНржкрж▓ ржХрж░рж╛рж░ ржлрж╛ржВрж╢ржи рж░ржпрж╝рзЗржЫрзЗ, рждрж╛ржЗ ржПржЯрж┐ `requirements.txt` ржлрж╛ржЗрж▓рзЗ ржпрзЛржЧ ржХрж░рзБржи:

    ```sh
    librosa
    ```

    ржПржХржмрж╛рж░ ржПржЯрж┐ ржпрзЛржЧ ржХрж░рж╛ рж╣рж▓рзЗ, VS Code ржЯрж╛рж░рзНржорж┐ржирж╛рж▓ ржерзЗржХрзЗ ржирж┐ржорзНржирж▓рж┐ржЦрж┐ржд ржХржорж╛ржирзНржб ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ Pip ржкрзНржпрж╛ржХрзЗржЬржЧрзБрж▓рж┐ ржЗржирж╕рзНржЯрж▓ ржХрж░рзБржи:

    ```sh
    pip install -r requirements.txt
    ```

    > тЪая╕П ржЖржкржирж┐ ржпржжрж┐ Linux ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗржи, ржпрж╛рж░ ржоржзрзНржпрзЗ Raspberry Pi OS ржЕржирзНрждрж░рзНржнрзБржХрзНржд, рждржмрзЗ ржЖржкржирж╛ржХрзЗ ржирж┐ржорзНржирж▓рж┐ржЦрж┐ржд ржХржорж╛ржирзНржб ржжрж┐ржпрж╝рзЗ `libsndfile` ржЗржирж╕рзНржЯрж▓ ржХрж░рждрзЗ рж╣рждрзЗ ржкрж╛рж░рзЗ:
    >
    > ```sh
    > sudo apt update
    > sudo apt install libsndfile1-dev
    > ```

1. ржЯрзЗржХрзНрж╕ржЯ ржерзЗржХрзЗ рж╕рзНржкрж┐ржЪрзЗ рж░рзВржкрж╛ржирзНрждрж░ ржХрж░рждрзЗ, ржЖржкржирж┐ рж╕рж░рж╛рж╕рж░рж┐ рж╕рзНржкрж┐ржЪ API ржХрзА ржмрзНржпржмрж╣рж╛рж░ ржХрж░рждрзЗ ржкрж╛рж░ржмрзЗржи ржирж╛, ржкрж░рж┐ржмрж░рзНрждрзЗ ржЖржкржирж╛ржХрзЗ ржПржХржЯрж┐ ржЕрзНржпрж╛ржХрзНрж╕рзЗрж╕ ржЯрзЛржХрзЗржи ржЕржирзБрж░рзЛржз ржХрж░рждрзЗ рж╣ржмрзЗ, ржЕрзНржпрж╛ржХрзНрж╕рзЗрж╕ ржЯрзЛржХрзЗржи ржЕржирзБрж░рзЛржз ржкрзНрж░ржорж╛ржгрзАржХрж░ржгрзЗрж░ ржЬржирзНржп API ржХрзА ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗред `text-to-speech` ржлрзЛрж▓рзНржбрж╛рж░рзЗрж░ `__init__.py` ржлрж╛ржЗрж▓ржЯрж┐ ржЦрзБрж▓рзБржи ржПржмржВ ржПрждрзЗ ржерж╛ржХрж╛ рж╕ржорж╕рзНржд ржХрзЛржб ржирж┐ржорзНржирж▓рж┐ржЦрж┐ржд ржХрзЛржб ржжрж┐ржпрж╝рзЗ ржкрзНрж░рждрж┐рж╕рзНржерж╛ржкржи ржХрж░рзБржи:

    ```python
    import io
    import os
    import requests
    
    import librosa
    import soundfile as sf
    import azure.functions as func
    
    location = os.environ['SPEECH_LOCATION']
    speech_key = os.environ['SPEECH_KEY']
    
    def get_access_token():
        headers = {
            'Ocp-Apim-Subscription-Key': speech_key
        }
    
        token_endpoint = f'https://{location}.api.cognitive.microsoft.com/sts/v1.0/issuetoken'
        response = requests.post(token_endpoint, headers=headers)
        return str(response.text)
    ```

    ржПржЯрж┐ рж╕рзЗржЯрж┐ржВрж╕ ржерзЗржХрзЗ ржкржбрж╝рж╛ ржЕржмрж╕рзНржерж╛ржи ржПржмржВ рж╕рзНржкрж┐ржЪ ржХрзА-ржПрж░ ржЬржирзНржп ржХржирж╕рзНржЯрзНржпрж╛ржирзНржЯ рж╕ржВржЬрзНржЮрж╛ржпрж╝рж┐ржд ржХрж░рзЗред ржПрж░ржкрж░ ржПржЯрж┐ `get_access_token` ржлрж╛ржВрж╢ржи рж╕ржВржЬрзНржЮрж╛ржпрж╝рж┐ржд ржХрж░рзЗ ржпрж╛ рж╕рзНржкрж┐ржЪ рж╕рж╛рж░рзНржнрж┐рж╕рзЗрж░ ржЬржирзНржп ржПржХржЯрж┐ ржЕрзНржпрж╛ржХрзНрж╕рзЗрж╕ ржЯрзЛржХрзЗржи ржкрзБржирж░рзБржжрзНржзрж╛рж░ ржХрж░ржмрзЗред

1. ржПржЗ ржХрзЛржбрзЗрж░ ржирж┐ржЪрзЗ ржирж┐ржорзНржирж▓рж┐ржЦрж┐рждржЯрж┐ ржпрзЛржЧ ржХрж░рзБржи:

    ```python
    playback_format = 'riff-48khz-16bit-mono-pcm'

    def main(req: func.HttpRequest) -> func.HttpResponse:
        req_body = req.get_json()
        language = req_body['language']
        voice = req_body['voice']
        text = req_body['text']
    
        url = f'https://{location}.tts.speech.microsoft.com/cognitiveservices/v1'
    
        headers = {
            'Authorization': 'Bearer ' + get_access_token(),
            'Content-Type': 'application/ssml+xml',
            'X-Microsoft-OutputFormat': playback_format
        }
    
        ssml =  f'<speak version=\'1.0\' xml:lang=\'{language}\'>'
        ssml += f'<voice xml:lang=\'{language}\' name=\'{voice}\'>'
        ssml += text
        ssml += '</voice>'
        ssml += '</speak>'
    
        response = requests.post(url, headers=headers, data=ssml.encode('utf-8'))
    
        raw_audio, sample_rate = librosa.load(io.BytesIO(response.content), sr=48000)
        resampled = librosa.resample(raw_audio, sample_rate, 44100)
        
        output_buffer = io.BytesIO()
        sf.write(output_buffer, resampled, 44100, 'PCM_16', format='wav')
        output_buffer.seek(0)
    
        return func.HttpResponse(output_buffer.read(), status_code=200)
    ```

    ржПржЯрж┐ ржЯрзЗржХрзНрж╕ржЯ ржерзЗржХрзЗ рж╕рзНржкрж┐ржЪрзЗ рж░рзВржкрж╛ржирзНрждрж░ ржХрж░рж╛рж░ ржЬржирзНржп HTTP ржЯрзНрж░рж┐ржЧрж╛рж░ рж╕ржВржЬрзНржЮрж╛ржпрж╝рж┐ржд ржХрж░рзЗред ржПржЯрж┐ рж░рзВржкрж╛ржирзНрждрж░ ржХрж░рж╛рж░ ржЬржирзНржп ржЯрзЗржХрзНрж╕ржЯ, ржнрж╛рж╖рж╛ ржПржмржВ ржнржпрж╝рзЗрж╕ JSON ржмржбрж┐ ржерзЗржХрзЗ ржмрзЗрж░ ржХрж░рзЗ, рж╕рзНржкрж┐ржЪ ржЕржирзБрж░рзЛржз ржХрж░рж╛рж░ ржЬржирзНржп ржХрж┐ржЫрзБ SSML рждрзИрж░рж┐ ржХрж░рзЗ, рждрж╛рж░ржкрж░ ржкрзНрж░рж╛рж╕ржЩрзНржЧрж┐ржХ REST API ржХрж▓ ржХрж░рзЗ ржЕрзНржпрж╛ржХрзНрж╕рзЗрж╕ ржЯрзЛржХрзЗржи ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ ржкрзНрж░ржорж╛ржгрзАржХрж░ржг ржХрж░рзЗред ржПржЗ REST API ржХрж▓ржЯрж┐ рззрзм-ржмрж┐ржЯ, рзкрзоKHz ржоржирзЛ WAV ржлрж╛ржЗрж▓ рж╣рж┐рж╕рж╛ржмрзЗ ржПржиржХрзЛржб ржХрж░рж╛ ржЕржбрж┐ржУ ржлрзЗрж░ржд ржжрзЗржпрж╝, ржпрж╛ `playback_format` ржПрж░ ржорж╛ржи ржжрзНржмрж╛рж░рж╛ рж╕ржВржЬрзНржЮрж╛ржпрж╝рж┐ржд, ржпрж╛ REST API ржХрж▓рзЗ ржкрж╛ржарж╛ржирзЛ рж╣ржпрж╝ред

    ржПрж░ржкрж░ ржПржЯрж┐ `librosa` ржжрзНржмрж╛рж░рж╛ рзкрзоKHz рж╕рзНржпрж╛ржорзНржкрж▓ рж░рзЗржЯ ржерзЗржХрзЗ рзкрзк.рззKHz рж╕рзНржпрж╛ржорзНржкрж▓ рж░рзЗржЯрзЗ ржкрзБржирж░рж╛ржпрж╝ рж╕рзНржпрж╛ржорзНржкрж▓ ржХрж░рж╛ рж╣ржпрж╝, рждрж╛рж░ржкрж░ ржПржЗ ржЕржбрж┐ржУржЯрж┐ ржПржХржЯрж┐ ржмрж╛ржЗржирж╛рж░рж┐ ржмрж╛ржлрж╛рж░рзЗ рж╕ржВрж░ржХрзНрж╖ржг ржХрж░рж╛ рж╣ржпрж╝ ржпрж╛ ржкрж░рзЗ ржлрзЗрж░ржд ржжрзЗржУржпрж╝рж╛ рж╣ржпрж╝ред

1. ржЖржкржирж╛рж░ ржлрж╛ржВрж╢ржи ржЕрзНржпрж╛ржкржЯрж┐ рж▓рзЛржХрж╛рж▓ржнрж╛ржмрзЗ ржЪрж╛рж▓рж╛ржи, ржЕржержмрж╛ ржПржЯрж┐ ржХрзНрж▓рж╛ржЙржбрзЗ ржбрж┐ржкрзНрж▓ржпрж╝ ржХрж░рзБржиред ржПрж░ржкрж░ ржЖржкржирж┐ ржПржЯрж┐ `text-to-timer` HTTP ржЯрзНрж░рж┐ржЧрж╛рж░ ржкрж░рзАржХрзНрж╖рж╛ ржХрж░рж╛рж░ ржорждрзЛ ржХрж░рзЗ curl-ржПрж░ ржорждрзЛ ржПржХржЯрж┐ ржЯрзБрж▓ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ ржХрж▓ ржХрж░рждрзЗ ржкрж╛рж░рзЗржиред ржирж┐рж╢рзНржЪрж┐ржд ржХрж░рзБржи ржпрзЗ ржнрж╛рж╖рж╛, ржнржпрж╝рзЗрж╕ ржПржмржВ ржЯрзЗржХрзНрж╕ржЯ JSON ржмржбрж┐ рж╣рж┐рж╕рж╛ржмрзЗ ржкрж╛рж╕ ржХрж░рж╛ рж╣ржпрж╝рзЗржЫрзЗ:

    ```json
    {
        "language": "<language>",
        "voice": "<voice>",
        "text": "<text>"
    }
    ```

    `<language>`-ржПрж░ ржЬрж╛ржпрж╝ржЧрж╛ржпрж╝ ржЖржкржирж╛рж░ ржнрж╛рж╖рж╛ ржмрж╕рж╛ржи, ржпрзЗржоржи `en-GB` ржмрж╛ `zh-CN`ред `<voice>`-ржПрж░ ржЬрж╛ржпрж╝ржЧрж╛ржпрж╝ ржЖржкржирж┐ ржпрзЗ ржнржпрж╝рзЗрж╕ржЯрж┐ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рждрзЗ ржЪрж╛ржи рждрж╛ ржмрж╕рж╛ржиред `<text>`-ржПрж░ ржЬрж╛ржпрж╝ржЧрж╛ржпрж╝ ржЖржкржирж┐ ржпрзЗ ржЯрзЗржХрзНрж╕ржЯржЯрж┐ рж╕рзНржкрж┐ржЪрзЗ рж░рзВржкрж╛ржирзНрждрж░ ржХрж░рждрзЗ ржЪрж╛ржи рждрж╛ ржмрж╕рж╛ржиред ржЖржкржирж┐ ржЖржЙржЯржкрзБржЯржЯрж┐ ржПржХржЯрж┐ ржлрж╛ржЗрж▓рзЗ рж╕ржВрж░ржХрзНрж╖ржг ржХрж░рждрзЗ ржкрж╛рж░рзЗржи ржПржмржВ ржпрзЗржХрзЛржирзЛ ржЕржбрж┐ржУ ржкрзНрж▓рзЗржпрж╝рж╛рж░ ржжрж┐ржпрж╝рзЗ ржПржЯрж┐ ржкрзНрж▓рзЗ ржХрж░рждрзЗ ржкрж╛рж░рзЗржи ржпрж╛ WAV ржлрж╛ржЗрж▓ ржкрзНрж▓рзЗ ржХрж░рждрзЗ ржкрж╛рж░рзЗред

    ржЙржжрж╛рж╣рж░ржгрж╕рзНржмрж░рзВржк, "Hello" рж╢ржмрзНржжржЯрж┐ржХрзЗ US English-ржП Jenny Neural ржнржпрж╝рзЗрж╕ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ рж╕рзНржкрж┐ржЪрзЗ рж░рзВржкрж╛ржирзНрждрж░ ржХрж░рждрзЗ, ржлрж╛ржВрж╢ржи ржЕрзНржпрж╛ржкржЯрж┐ рж▓рзЛржХрж╛рж▓ржнрж╛ржмрзЗ ржЪрж╛рж▓рж╛ржирзЛрж░ рж╕ржоржпрж╝, ржЖржкржирж┐ ржирж┐ржорзНржирж▓рж┐ржЦрж┐ржд curl ржХржорж╛ржирзНржбржЯрж┐ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рждрзЗ ржкрж╛рж░рзЗржи:

    ```sh
    curl -X GET 'http://localhost:7071/api/text-to-speech' \
         -H 'Content-Type: application/json' \
         -o hello.wav \
         -d '{
           "language":"en-US",
           "voice": "en-US-JennyNeural",
           "text": "Hello"
         }'
    ```

    ржПржЯрж┐ ржмрж░рзНрждржорж╛ржи ржбрж┐рж░рзЗржХрзНржЯрж░рж┐рждрзЗ `hello.wav` ржирж╛ржорзЗ ржЕржбрж┐ржУржЯрж┐ рж╕ржВрж░ржХрзНрж╖ржг ржХрж░ржмрзЗред

> ЁЯТБ ржЖржкржирж┐ ржПржЗ ржХрзЛржбржЯрж┐ [code-spoken-response/functions](../../../../../6-consumer/lessons/3-spoken-feedback/code-spoken-response/functions) ржлрзЛрж▓рзНржбрж╛рж░рзЗ ржЦрзБржБржЬрзЗ ржкрзЗрждрзЗ ржкрж╛рж░рзЗржиред

### ржХрж╛ржЬ - ржЖржкржирж╛рж░ Wio Terminal ржерзЗржХрзЗ рж╕рзНржкрж┐ржЪ ржкрзБржирж░рзБржжрзНржзрж╛рж░ ржХрж░рзБржи

1. ржпржжрж┐ ржПржЯрж┐ ржЗрждрж┐ржоржзрзНржпрзЗ ржЦрзЛрж▓рж╛ ржирж╛ ржерж╛ржХрзЗ рждржмрзЗ VS Code-ржП `smart-timer` ржкрзНрж░ржХрж▓рзНржкржЯрж┐ ржЦрзБрж▓рзБржиред

1. `config.h` рж╣рзЗржбрж╛рж░ ржлрж╛ржЗрж▓ржЯрж┐ ржЦрзБрж▓рзБржи ржПржмржВ ржЖржкржирж╛рж░ ржлрж╛ржВрж╢ржи ржЕрзНржпрж╛ржкрзЗрж░ URL ржпрзЛржЧ ржХрж░рзБржи:

    ```cpp
    const char *TEXT_TO_SPEECH_FUNCTION_URL = "<URL>";
    ```

    `<URL>`-ржПрж░ ржЬрж╛ржпрж╝ржЧрж╛ржпрж╝ ржЖржкржирж╛рж░ ржлрж╛ржВрж╢ржи ржЕрзНржпрж╛ржкрзЗрж░ `text-to-speech` HTTP ржЯрзНрж░рж┐ржЧрж╛рж░рзЗрж░ URL ржмрж╕рж╛ржиред ржПржЯрж┐ `TEXT_TO_TIMER_FUNCTION_URL`-ржПрж░ ржорж╛ржирзЗрж░ ржорждрзЛржЗ рж╣ржмрзЗ, рждржмрзЗ ржлрж╛ржВрж╢ржирзЗрж░ ржирж╛ржо `text-to-timer` ржПрж░ ржкрж░рж┐ржмрж░рзНрждрзЗ `text-to-speech` рж╣ржмрзЗред

1. `text_to_speech.h` рж╣рзЗржбрж╛рж░ ржлрж╛ржЗрж▓ржЯрж┐ ржЦрзБрж▓рзБржи ржПржмржВ `TextToSpeech` ржХрзНрж▓рж╛рж╕рзЗрж░ `public` рж╕рзЗржХрж╢ржирзЗ ржирж┐ржорзНржирж▓рж┐ржЦрж┐ржд ржорзЗржержбржЯрж┐ ржпрзЛржЧ ржХрж░рзБржи:

    ```cpp
    void convertTextToSpeech(String text)
    {
    }
    ```

1. `convertTextToSpeech` ржорзЗржержбрзЗ, ржлрж╛ржВрж╢ржи ржЕрзНржпрж╛ржкрзЗ ржкрж╛ржарж╛ржирзЛрж░ ржЬржирзНржп JSON рждрзИрж░рж┐ ржХрж░рждрзЗ ржирж┐ржорзНржирж▓рж┐ржЦрж┐ржд ржХрзЛржбржЯрж┐ ржпрзЛржЧ ржХрж░рзБржи:

    ```cpp
    DynamicJsonDocument doc(1024);
    doc["language"] = LANGUAGE;
    doc["voice"] = _voice;
    doc["text"] = text;

    String body;
    serializeJson(doc, body);
    ```

    ржПржЯрж┐ ржнрж╛рж╖рж╛, ржнржпрж╝рзЗрж╕ ржПржмржВ ржЯрзЗржХрзНрж╕ржЯ JSON ржбржХрзБржорзЗржирзНржЯрзЗ рж▓рж┐ржЦрзЗ, рждрж╛рж░ржкрж░ ржПржЯрж┐ ржПржХржЯрж┐ рж╕рзНржЯрзНрж░рж┐ржВржпрж╝рзЗ рж╕рж┐рж░рж┐ржпрж╝рж╛рж▓рж╛ржЗржЬ ржХрж░рзЗред

1. ржПрж░ ржирж┐ржЪрзЗ, ржлрж╛ржВрж╢ржи ржЕрзНржпрж╛ржк ржХрж▓ ржХрж░рж╛рж░ ржЬржирзНржп ржирж┐ржорзНржирж▓рж┐ржЦрж┐ржд ржХрзЛржбржЯрж┐ ржпрзЛржЧ ржХрж░рзБржи:

    ```cpp
    HTTPClient httpClient;
    httpClient.begin(_client, TEXT_TO_SPEECH_FUNCTION_URL);

    int httpResponseCode = httpClient.POST(body);
    ```

    ржПржЯрж┐ ржПржХржЯрж┐ HTTPClient рждрзИрж░рж┐ ржХрж░рзЗ, рждрж╛рж░ржкрж░ JSON ржбржХрзБржорзЗржирзНржЯ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ `text-to-speech` HTTP ржЯрзНрж░рж┐ржЧрж╛рж░рзЗ ржПржХржЯрж┐ POST ржЕржирзБрж░рзЛржз ржХрж░рзЗред

1. ржпржжрж┐ ржХрж▓ржЯрж┐ рж╕ржлрж▓ рж╣ржпрж╝, ржлрж╛ржВрж╢ржи ржЕрзНржпрж╛ржк ржХрж▓ ржерзЗржХрзЗ ржлрзЗрж░ржд ржЖрж╕рж╛ ржХрж╛ржБржЪрж╛ ржмрж╛ржЗржирж╛рж░рж┐ ржбрзЗржЯрж╛ SD ржХрж╛рж░рзНржбрзЗ ржПржХржЯрж┐ ржлрж╛ржЗрж▓рзЗ рж╕рзНржЯрзНрж░рж┐ржо ржХрж░рж╛ ржпрзЗрждрзЗ ржкрж╛рж░рзЗред ржПржЯрж┐ ржХрж░рждрзЗ ржирж┐ржорзНржирж▓рж┐ржЦрж┐ржд ржХрзЛржбржЯрж┐ ржпрзЛржЧ ржХрж░рзБржи:

    ```cpp
    if (httpResponseCode == 200)
    {            
        File wav_file = SD.open("SPEECH.WAV", FILE_WRITE);
        httpClient.writeToStream(&wav_file);
        wav_file.close();
    }
    else
    {
        Serial.print("Failed to get speech - error ");
        Serial.println(httpResponseCode);
    }
    ```

    ржПржЗ ржХрзЛржбржЯрж┐ рж░рзЗрж╕ржкржирзНрж╕ ржЪрзЗржХ ржХрж░рзЗ, ржПржмржВ ржпржжрж┐ ржПржЯрж┐ рзирзжрзж (рж╕ржлрж▓) рж╣ржпрж╝, рждрж╛рж╣рж▓рзЗ ржмрж╛ржЗржирж╛рж░рж┐ ржбрзЗржЯрж╛ SD ржХрж╛рж░рзНржбрзЗрж░ рж░рзБржЯрзЗ `SPEECH.WAV` ржирж╛ржорзЗ ржПржХржЯрж┐ ржлрж╛ржЗрж▓рзЗ рж╕рзНржЯрзНрж░рж┐ржо ржХрж░рзЗред

1. ржПржЗ ржорзЗржержбрзЗрж░ рж╢рзЗрж╖рзЗ, HTTP рж╕ржВржпрзЛржЧржЯрж┐ ржмржирзНржз ржХрж░рзБржи:

    ```cpp
    httpClient.end();
    ```

1. ржПржЦржи ржмрж▓рж╛ ржЯрзЗржХрзНрж╕ржЯржЯрж┐ ржЕржбрж┐ржУрждрзЗ рж░рзВржкрж╛ржирзНрждрж░ ржХрж░рж╛ ржпрзЗрждрзЗ ржкрж╛рж░рзЗред `main.cpp` ржлрж╛ржЗрж▓рзЗ, `say
```cpp
    textToSpeech.convertTextToSpeech(text);
    ```

### ржЯрж╛рж╕рзНржХ - ржЖржкржирж╛рж░ Wio Terminal ржерзЗржХрзЗ ржЕржбрж┐ржУ ржЪрж╛рж▓рж╛ржи

**рж╢рзАржШрзНрж░ржЗ ржЖрж╕ржЫрзЗ**

## ржЖржкржирж╛рж░ ржлрж╛ржВрж╢ржи ржЕрзНржпрж╛ржк ржХрзНрж▓рж╛ржЙржбрзЗ ржбрж┐ржкрзНрж▓ржпрж╝ ржХрж░рж╛

ржлрж╛ржВрж╢ржи ржЕрзНржпрж╛ржк рж▓рзЛржХрж╛рж▓ржнрж╛ржмрзЗ ржЪрж╛рж▓рж╛ржирзЛрж░ ржХрж╛рж░ржг рж╣рж▓рзЛ `librosa` Pip ржкрзНржпрж╛ржХрзЗржЬрзЗрж░ рж▓рж┐ржирж╛ржХрзНрж╕рзЗ ржПржХржЯрж┐ ржбрж┐ржкрзЗржиржбрзЗржирзНрж╕рж┐ рж░ржпрж╝рзЗржЫрзЗ ржпрж╛ ржбрж┐ржлрж▓рзНржЯржнрж╛ржмрзЗ ржЗржирж╕рзНржЯрж▓ ржХрж░рж╛ ржерж╛ржХрзЗ ржирж╛ ржПржмржВ ржПржЯрж┐ ржЗржирж╕рзНржЯрж▓ ржХрж░рждрзЗ рж╣ржмрзЗ ржлрж╛ржВрж╢ржи ржЕрзНржпрж╛ржк ржЪрж╛рж▓рж╛ржирзЛрж░ ржЖржЧрзЗред ржлрж╛ржВрж╢ржи ржЕрзНржпрж╛ржкржЧрзБрж▓рзЛ рж╕рж╛рж░рзНржнрж╛рж░рж▓рзЗрж╕ - ржПржЦрж╛ржирзЗ ржПржоржи ржХрзЛржирзЛ рж╕рж╛рж░рзНржнрж╛рж░ ржирзЗржЗ ржпрж╛ ржЖржкржирж┐ ржирж┐ржЬрзЗ ржкрж░рж┐ржЪрж╛рж▓ржирж╛ ржХрж░рждрзЗ ржкрж╛рж░рзЗржи, рждрж╛ржЗ ржПржЗ рж▓рж╛ржЗржмрзНрж░рзЗрж░рж┐ ржЖржЧрзЗ ржерзЗржХрзЗ ржЗржирж╕рзНржЯрж▓ ржХрж░рж╛рж░ ржХрзЛржирзЛ ржЙржкрж╛ржпрж╝ ржирзЗржЗред

ржПрж░ ржкрж░рж┐ржмрж░рзНрждрзЗ, ржЖржкржирж╛рж░ ржлрж╛ржВрж╢ржи ржЕрзНржпрж╛ржкржХрзЗ ржПржХржЯрж┐ Docker ржХржирзНржЯрзЗржЗржирж╛рж░ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ ржбрж┐ржкрзНрж▓ржпрж╝ ржХрж░рж╛ рж╣ржпрж╝ред ржПржЗ ржХржирзНржЯрзЗржЗржирж╛рж░ржЯрж┐ ржХрзНрж▓рж╛ржЙржб ржжрзНржмрж╛рж░рж╛ ржбрж┐ржкрзНрж▓ржпрж╝ ржХрж░рж╛ рж╣ржпрж╝ ржпржЦржиржЗ ржПржЯрж┐ ржЖржкржирж╛рж░ ржлрж╛ржВрж╢ржи ржЕрзНржпрж╛ржкрзЗрж░ ржПржХржЯрж┐ ржирждрзБржи ржЗржирж╕рзНржЯрзНржпрж╛ржирзНрж╕ ржЪрж╛рж▓рзБ ржХрж░рж╛рж░ ржкрзНрж░ржпрж╝рзЛржЬржи рж╣ржпрж╝ (ржпрзЗржоржи ржпржЦржи ржЪрж╛рж╣рж┐ржжрж╛ ржЙржкрж▓ржмрзНржз рж░рж┐рж╕рзЛрж░рзНрж╕рзЗрж░ ржЪрзЗржпрж╝рзЗ ржмрзЗрж╢рж┐ рж╣ржпрж╝, ржЕржержмрж╛ ржпржжрж┐ ржлрж╛ржВрж╢ржи ржЕрзНржпрж╛ржк ржжрзАрж░рзНржШ рж╕ржоржпрж╝ ржзрж░рзЗ ржмрзНржпржмрж╣рж╛рж░ ржирж╛ ржХрж░рж╛ рж╣ржпрж╝ ржПржмржВ ржмржирзНржз рж╣ржпрж╝рзЗ ржпрж╛ржпрж╝)ред

Linux-ржП ржПржХржЯрж┐ ржХрж╛рж╕рзНржЯржо ржХржирзНржЯрзЗржЗржирж╛рж░ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ ржлрж╛ржВрж╢ржи рждрзИрж░рж┐ ржПржмржВ Docker ржПрж░ ржорж╛ржзрзНржпржорзЗ ржбрж┐ржкрзНрж▓ржпрж╝ ржХрж░рж╛рж░ ржирж┐рж░рзНржжрзЗрж╢ржирж╛ ржЖржкржирж┐ [Microsoft Docs-ржП Linux ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ ржХрж╛рж╕рзНржЯржо ржХржирзНржЯрзЗржЗржирж╛рж░рзЗ ржлрж╛ржВрж╢ржи рждрзИрж░рж┐ ржХрж░рж╛рж░ ржбржХрзБржорзЗржирзНржЯрзЗрж╢ржирзЗ](https://docs.microsoft.com/azure/azure-functions/functions-create-function-linux-custom-image?WT.mc_id=academic-17441-jabenn&tabs=bash%2Cazurecli&pivots=programming-language-python) ржЦрзБржБржЬрзЗ ржкрзЗрждрзЗ ржкрж╛рж░рзЗржиред

ржПржХржмрж╛рж░ ржПржЯрж┐ ржбрж┐ржкрзНрж▓ржпрж╝ рж╣ржпрж╝рзЗ ржЧрзЗрж▓рзЗ, ржЖржкржирж┐ ржЖржкржирж╛рж░ Wio Terminal ржХрзЛржбржХрзЗ ржПржЗ ржлрж╛ржВрж╢ржи ржЕрзНржпрж╛ржХрзНрж╕рзЗрж╕ ржХрж░рж╛рж░ ржЬржирзНржп ржкрзЛрж░рзНржЯ ржХрж░рждрзЗ ржкрж╛рж░рзЗржи:

1. Azure Functions рж╕рж╛рж░рзНржЯрж┐ржлрж┐ржХрзЗржЯржЯрж┐ `config.h`-ржП ржпрзЛржЧ ржХрж░рзБржи:

    ```cpp
    const char *FUNCTIONS_CERTIFICATE =
        "-----BEGIN CERTIFICATE-----\r\n"
        "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\r\n"
        "-----END CERTIFICATE-----\r\n";
    ```

1. рж╕ржорж╕рзНржд `<WiFiClient.h>` ржЕржирзНрждрж░рзНржнрзБржХрзНрждрж┐ржХрзЗ `<WiFiClientSecure.h>`-ржП ржкрж░рж┐ржмрж░рзНрждржи ржХрж░рзБржиред

1. рж╕ржорж╕рзНржд `WiFiClient` ржлрж┐рж▓рзНржбржХрзЗ `WiFiClientSecure`-ржП ржкрж░рж┐ржмрж░рзНрждржи ржХрж░рзБржиред

1. ржкрзНрж░рждрж┐ржЯрж┐ ржХрзНрж▓рж╛рж╕рзЗ ржпрзЗржЦрж╛ржирзЗ ржПржХржЯрж┐ `WiFiClientSecure` ржлрж┐рж▓рзНржб рж░ржпрж╝рзЗржЫрзЗ, ржПржХржЯрж┐ ржХржирж╕рзНржЯрзНрж░рж╛ржХрзНржЯрж░ ржпрзЛржЧ ржХрж░рзБржи ржПржмржВ рж╕рзЗржЗ ржХржирж╕рзНржЯрзНрж░рж╛ржХрзНржЯрж░рзЗ рж╕рж╛рж░рзНржЯрж┐ржлрж┐ржХрзЗржЯ рж╕рзЗржЯ ржХрж░рзБржи:

    ```cpp
    _client.setCACert(FUNCTIONS_CERTIFICATE);
    ```

---

**ржЕрж╕рзНржмрзАржХрзГрждрж┐**:  
ржПржЗ ржиржерж┐ржЯрж┐ AI ржЕржирзБржмрж╛ржж ржкрж░рж┐рж╖рзЗржмрж╛ [Co-op Translator](https://github.com/Azure/co-op-translator) ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ ржЕржирзБржмрж╛ржж ржХрж░рж╛ рж╣ржпрж╝рзЗржЫрзЗред ржЖржорж░рж╛ ржпржерж╛рж╕ржорзНржнржм рж╕ржарж┐ржХрждрж╛рж░ ржЬржирзНржп ржЪрзЗрж╖рзНржЯрж╛ ржХрж░рж┐, рждржмрзЗ ржЕржирзБржЧрзНрж░рж╣ ржХрж░рзЗ ржоржирзЗ рж░рж╛ржЦржмрзЗржи ржпрзЗ рж╕рзНржмржпрж╝ржВржХрзНрж░рж┐ржпрж╝ ржЕржирзБржмрж╛ржжрзЗ рждрзНрж░рзБржЯрж┐ ржмрж╛ ржЕрж╕ржЩрзНржЧрждрж┐ ржерж╛ржХрждрзЗ ржкрж╛рж░рзЗред ржорзВрж▓ ржнрж╛рж╖рж╛ржпрж╝ ржерж╛ржХрж╛ ржиржерж┐ржЯрж┐ржХрзЗ ржкрзНрж░рж╛ржорж╛ржгрж┐ржХ ржЙрзОрж╕ рж╣рж┐рж╕рзЗржмрзЗ ржмрж┐ржмрзЗржЪржирж╛ ржХрж░рж╛ ржЙржЪрж┐рждред ржЧрзБрж░рзБрждрзНржмржкрзВрж░рзНржг рждржерзНржпрзЗрж░ ржЬржирзНржп, ржкрзЗрж╢рж╛ржжрж╛рж░ ржорж╛ржиржм ржЕржирзБржмрж╛ржж рж╕рзБржкрж╛рж░рж┐рж╢ ржХрж░рж╛ рж╣ржпрж╝ред ржПржЗ ржЕржирзБржмрж╛ржж ржмрзНржпржмрж╣рж╛рж░рзЗрж░ ржлрж▓рзЗ ржХрзЛржирзЛ ржнрзБрж▓ ржмрзЛржЭрж╛ржмрзБржЭрж┐ ржмрж╛ ржнрзБрж▓ ржмрзНржпрж╛ржЦрзНржпрж╛ рж╣рж▓рзЗ ржЖржорж░рж╛ ржжрж╛ржпрж╝ржмржжрзНржз ржерж╛ржХржм ржирж╛ред