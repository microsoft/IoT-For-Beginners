<!--
CO_OP_TRANSLATOR_METADATA:
{
  "original_hash": "5f2d2f4a5a023c93ab34a0cc5b47c0c4",
  "translation_date": "2025-08-27T11:27:24+00:00",
  "source_file": "2-farm/lessons/5-migrate-application-to-the-cloud/README.md",
  "language_code": "bn"
}
-->
# ржЖржкржирж╛рж░ ржЕрзНржпрж╛ржкрзНрж▓рж┐ржХрзЗрж╢ржи рж▓ржЬрж┐ржХ ржХрзНрж▓рж╛ржЙржбрзЗ рж╕рзНржерж╛ржирж╛ржирзНрждрж░ ржХрж░рзБржи

![ржПржЗ ржкрж╛ржарзЗрж░ ржПржХржЯрж┐ рж╕рзНржХрзЗржЪржирзЛржЯ ржУржнрж╛рж░ржнрж┐ржЙ](../../../../../translated_images/lesson-9.dfe99c8e891f48e179724520da9f5794392cf9a625079281ccdcbf09bd85e1b6.bn.jpg)

> рж╕рзНржХрзЗржЪржирзЛржЯ: [ржирж┐рждрзНржп ржирж╛рж░рж╛рж╕рж┐ржорж╣рж╛ржи](https://github.com/nitya)ред ржмржбрж╝ рж╕ржВрж╕рзНржХрж░ржгрзЗрж░ ржЬржирзНржп ржЫржмрж┐рждрзЗ ржХрзНрж▓рж┐ржХ ржХрж░рзБржиред

ржПржЗ ржкрж╛ржаржЯрж┐ [IoT for Beginners Project 2 - Digital Agriculture series](https://youtube.com/playlist?list=PLmsFUfdnGr3yCutmcVg6eAUEfsGiFXgcx) ржПрж░ ржЕржВрж╢ рж╣рж┐рж╕рзЗржмрзЗ [Microsoft Reactor](https://developer.microsoft.com/reactor/?WT.mc_id=academic-17441-jabenn) ржерзЗржХрзЗ рж╢рзЗржЦрж╛ржирзЛ рж╣ржпрж╝рзЗржЫрж┐рж▓ред

[![ржЖржкржирж╛рж░ IoT ржбрж┐ржнрж╛ржЗрж╕ржХрзЗ рж╕рж╛рж░рзНржнрж╛рж░рж▓рзЗрж╕ ржХрзЛржб ржжрж┐ржпрж╝рзЗ ржирж┐ржпрж╝ржирзНрждрзНрж░ржг ржХрж░рзБржи](https://img.youtube.com/vi/VVZDcs5u1_I/0.jpg)](https://youtu.be/VVZDcs5u1_I)

## рж▓рзЗржХржЪрж╛рж░рзЗрж░ ржЖржЧрзЗ ржХрзБржЗржЬ

[рж▓рзЗржХржЪрж╛рж░рзЗрж░ ржЖржЧрзЗ ржХрзБржЗржЬ](https://black-meadow-040d15503.1.azurestaticapps.net/quiz/17)

## ржнрзВржорж┐ржХрж╛

ржкрзВрж░рзНржмржмрж░рзНрждрзА ржкрж╛ржарзЗ, ржЖржкржирж┐ рж╢рж┐ржЦрзЗржЫрзЗржи ржХрзАржнрж╛ржмрзЗ ржЖржкржирж╛рж░ ржЧрж╛ржЫрзЗрж░ ржорж╛ржЯрж┐рж░ ржЖрж░рзНржжрзНрж░рждрж╛ ржкрж░рзНржпржмрзЗржХрзНрж╖ржг ржПржмржВ рж░рж┐рж▓рзЗ ржирж┐ржпрж╝ржирзНрждрзНрж░ржгржХрзЗ ржПржХржЯрж┐ ржХрзНрж▓рж╛ржЙржб-ржнрж┐рждрзНрждрж┐ржХ IoT ржкрж░рж┐рж╖рзЗржмрж╛рж░ рж╕рж╛ржерзЗ рж╕ржВржпрзБржХрзНржд ржХрж░ржмрзЗржиред ржкрж░ржмрж░рзНрждрзА ржзрж╛ржкржЯрж┐ рж╣рж▓рзЛ рж░рж┐рж▓рзЗрж░ рж╕ржоржпрж╝ ржирж┐рж░рзНржзрж╛рж░ржг ржирж┐ржпрж╝ржирзНрждрзНрж░ржгржХрж╛рж░рзА рж╕рж╛рж░рзНржнрж╛рж░ ржХрзЛржбржЯрж┐ ржХрзНрж▓рж╛ржЙржбрзЗ рж╕рзНржерж╛ржирж╛ржирзНрждрж░ ржХрж░рж╛ред ржПржЗ ржкрж╛ржарзЗ, ржЖржкржирж┐ рж╢рж┐ржЦржмрзЗржи ржХрзАржнрж╛ржмрзЗ рж╕рж╛рж░рзНржнрж╛рж░рж▓рзЗрж╕ ржлрж╛ржВрж╢ржи ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ ржПржЯрж┐ ржХрж░ржмрзЗржиред

ржПржЗ ржкрж╛ржарзЗ ржЖржорж░рж╛ ржЖрж▓рзЛржЪржирж╛ ржХрж░ржм:

* [рж╕рж╛рж░рзНржнрж╛рж░рж▓рзЗрж╕ ржХрзА?](../../../../../2-farm/lessons/5-migrate-application-to-the-cloud)
* [ржПржХржЯрж┐ рж╕рж╛рж░рзНржнрж╛рж░рж▓рзЗрж╕ ржЕрзНржпрж╛ржкрзНрж▓рж┐ржХрзЗрж╢ржи рждрзИрж░рж┐ ржХрж░рзБржи](../../../../../2-farm/lessons/5-migrate-application-to-the-cloud)
* [ржПржХржЯрж┐ IoT рж╣рж╛ржм ржЗржнрзЗржирзНржЯ ржЯрзНрж░рж┐ржЧрж╛рж░ рждрзИрж░рж┐ ржХрж░рзБржи](../../../../../2-farm/lessons/5-migrate-application-to-the-cloud)
* [рж╕рж╛рж░рзНржнрж╛рж░рж▓рзЗрж╕ ржХрзЛржб ржерзЗржХрзЗ рж╕рж░рж╛рж╕рж░рж┐ ржорзЗржержб рж░рж┐ржХрзЛржпрж╝рзЗрж╕рзНржЯ ржкрж╛ржарж╛ржи](../../../../../2-farm/lessons/5-migrate-application-to-the-cloud)
* [ржЖржкржирж╛рж░ рж╕рж╛рж░рзНржнрж╛рж░рж▓рзЗрж╕ ржХрзЛржб ржХрзНрж▓рж╛ржЙржбрзЗ ржбрж┐ржкрзНрж▓ржпрж╝ ржХрж░рзБржи](../../../../../2-farm/lessons/5-migrate-application-to-the-cloud)

## рж╕рж╛рж░рзНржнрж╛рж░рж▓рзЗрж╕ ржХрзА?

рж╕рж╛рж░рзНржнрж╛рж░рж▓рзЗрж╕, ржмрж╛ рж╕рж╛рж░рзНржнрж╛рж░рж▓рзЗрж╕ ржХржорзНржкрж┐ржЙржЯрж┐ржВ, ржПржоржи ржПржХржЯрж┐ ржкржжрзНржзрждрж┐ ржпрзЗржЦрж╛ржирзЗ ржЫрзЛржЯ ржХрзЛржб ржмрзНрж▓ржХ рждрзИрж░рж┐ ржХрж░рж╛ рж╣ржпрж╝ ржпрж╛ ржмрж┐ржнрж┐ржирзНржи ржЗржнрзЗржирзНржЯрзЗрж░ ржкрзНрж░рждрж┐ржХрзНрж░рж┐ржпрж╝рж╛ржпрж╝ ржХрзНрж▓рж╛ржЙржбрзЗ ржЪрж╛рж▓рж╛ржирзЛ рж╣ржпрж╝ред ржпржЦржи ржЗржнрзЗржирзНржЯ ржШржЯрзЗ, рждржЦржи ржЖржкржирж╛рж░ ржХрзЛржб ржЪрж╛рж▓рж╛ржирзЛ рж╣ржпрж╝ ржПржмржВ ржЗржнрзЗржирзНржЯ рж╕ржорзНржкрж░рзНржХрж┐ржд ржбрзЗржЯрж╛ ржкрж╛рж╕ ржХрж░рж╛ рж╣ржпрж╝ред ржПржЗ ржЗржнрзЗржирзНржЯржЧрзБрж▓рзЛ ржмрж┐ржнрж┐ржирзНржи ржЙрзОрж╕ ржерзЗржХрзЗ ржЖрж╕рждрзЗ ржкрж╛рж░рзЗ, ржпрзЗржоржи ржУржпрж╝рзЗржм рж░рж┐ржХрзЛржпрж╝рзЗрж╕рзНржЯ, ржПржХржЯрж┐ ржХрж┐ржЙрждрзЗ ржмрж╛рж░рзНрждрж╛, ржбрж╛ржЯрж╛ржмрзЗрж╕рзЗ ржбрзЗржЯрж╛ ржкрж░рж┐ржмрж░рзНрждржи, ржмрж╛ IoT ржбрж┐ржнрж╛ржЗрж╕ ржерзЗржХрзЗ IoT ржкрж░рж┐рж╖рзЗржмрж╛ржпрж╝ ржкрж╛ржарж╛ржирзЛ ржмрж╛рж░рзНрждрж╛ред

![IoT ржкрж░рж┐рж╖рзЗржмрж╛ ржерзЗржХрзЗ рж╕рж╛рж░рзНржнрж╛рж░рж▓рзЗрж╕ ржкрж░рж┐рж╖рзЗржмрж╛ржпрж╝ ржмрж╛рж░рзНрждрж╛ ржкрж╛ржарж╛ржирзЛ рж╣ржЪрзНржЫрзЗ, ржпрж╛ ржПржХрж╛ржзрж┐ржХ ржлрж╛ржВрж╢ржи ржжрзНржмрж╛рж░рж╛ ржПржХрж╕рж╛ржерзЗ ржкрзНрж░ржХрзНрж░рж┐ржпрж╝рж╛ржХрзГржд рж╣ржЪрзНржЫрзЗ](../../../../../translated_images/iot-messages-to-serverless.0194da1cc0732bb7d0f823aed3fce54735c6b1ad3bf36089804d8aaefc0a774f.bn.png)

> ЁЯТБ ржпржжрж┐ ржЖржкржирж┐ ржЖржЧрзЗ ржбрж╛ржЯрж╛ржмрзЗрж╕ ржЯрзНрж░рж┐ржЧрж╛рж░ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ ржерж╛ржХрзЗржи, рждрж╛рж╣рж▓рзЗ ржПржЯрж┐ ржПржХржЗ рж░ржХржо ржоржирзЗ рж╣ржмрзЗ, ржпрзЗржЦрж╛ржирзЗ ржХрзЛржб ржПржХржЯрж┐ ржЗржнрзЗржирзНржЯрзЗрж░ (ржпрзЗржоржи ржПржХржЯрж┐ рж╕рж╛рж░рж┐ ржпрзЛржЧ ржХрж░рж╛) ржжрзНржмрж╛рж░рж╛ ржЯрзНрж░рж┐ржЧрж╛рж░ рж╣ржпрж╝ред

![ржпржЦржи ржПржХржЗ рж╕ржоржпрж╝рзЗ ржЕржирзЗржХ ржЗржнрзЗржирзНржЯ ржкрж╛ржарж╛ржирзЛ рж╣ржпрж╝, рж╕рж╛рж░рзНржнрж╛рж░рж▓рзЗрж╕ ржкрж░рж┐рж╖рзЗржмрж╛ рж╕рзНржХрзЗрж▓ ржЖржк ржХрж░рзЗ ржПржмржВ рж╕рзЗржЧрзБрж▓рзЛ ржПржХрж╕рж╛ржерзЗ ржЪрж╛рж▓рж╛ржпрж╝](../../../../../translated_images/serverless-scaling.f8c769adf0413fd17be1af4f07ff63016b347e2ff869be6c4abb211f9e93909d.bn.png)

ржЖржкржирж╛рж░ ржХрзЛржб ржХрзЗржмрж▓ рждржЦржиржЗ ржЪрж╛рж▓рж╛ржирзЛ рж╣ржпрж╝ ржпржЦржи ржЗржнрзЗржирзНржЯ ржШржЯрзЗ; ржЕржирзНржп рж╕ржоржпрж╝ ржПржЯрж┐ рж╕ржХрзНрж░рж┐ржпрж╝ ржерж╛ржХрзЗ ржирж╛ред ржЗржнрзЗржирзНржЯ ржШржЯрзЗ, ржЖржкржирж╛рж░ ржХрзЛржб рж▓рзЛржб рж╣ржпрж╝ ржПржмржВ ржЪрж╛рж▓рж╛ржирзЛ рж╣ржпрж╝ред ржПржЯрж┐ рж╕рж╛рж░рзНржнрж╛рж░рж▓рзЗрж╕ржХрзЗ ржЕрждрзНржпржирзНржд рж╕рзНржХрзЗрж▓ржпрзЛржЧрзНржп ржХрж░рзЗ рждрзЛрж▓рзЗ - ржпржжрж┐ ржПржХржЗ рж╕ржоржпрж╝рзЗ ржЕржирзЗржХ ржЗржнрзЗржирзНржЯ ржШржЯрзЗ, ржХрзНрж▓рж╛ржЙржб ржкрзНрж░ржжрж╛ржиржХрж╛рж░рзА ржЖржкржирж╛рж░ ржлрж╛ржВрж╢ржи ржпрждржмрж╛рж░ ржкрзНрж░ржпрж╝рзЛржЬржи рждрждржмрж╛рж░ ржЪрж╛рж▓рж╛рждрзЗ ржкрж╛рж░рзЗ, рждрж╛ржжрзЗрж░ ржЙржкрж▓ржмрзНржз рж╕рж╛рж░рзНржнрж╛рж░ржЧрзБрж▓рзЛрждрзЗред ржПрж░ ржПржХржЯрж┐ ржЕрж╕рзБржмрж┐ржзрж╛ рж╣рж▓рзЛ, ржпржжрж┐ ржЗржнрзЗржирзНржЯржЧрзБрж▓рзЛрж░ ржоржзрзНржпрзЗ рждржерзНржп рж╢рзЗржпрж╝рж╛рж░ ржХрж░рждрзЗ рж╣ржпрж╝, рждрж╛рж╣рж▓рзЗ ржПржЯрж┐ ржорзЗржорзЛрж░рж┐рждрзЗ рж╕ржВрж░ржХрзНрж╖ржг ржХрж░рж╛рж░ ржкрж░рж┐ржмрж░рзНрждрзЗ ржПржХржЯрж┐ ржбрж╛ржЯрж╛ржмрзЗрж╕рзЗ рж╕ржВрж░ржХрзНрж╖ржг ржХрж░рждрзЗ рж╣ржмрзЗред

ржЖржкржирж╛рж░ ржХрзЛржб ржПржХржЯрж┐ ржлрж╛ржВрж╢ржи рж╣рж┐рж╕рзЗржмрзЗ рж▓рзЗржЦрж╛ рж╣ржпрж╝ ржпрж╛ ржЗржнрзЗржирзНржЯ рж╕ржорзНржкрж░рзНржХрж┐ржд ржмрж┐ржмрж░ржг ржкрзНржпрж╛рж░рж╛ржорж┐ржЯрж╛рж░ рж╣рж┐рж╕рзЗржмрзЗ ржЧрзНрж░рж╣ржг ржХрж░рзЗред ржПржЗ рж╕рж╛рж░рзНржнрж╛рж░рж▓рзЗрж╕ ржлрж╛ржВрж╢ржи рж▓рзЗржЦрж╛рж░ ржЬржирзНржп ржЖржкржирж┐ ржмрж┐ржнрж┐ржирзНржи ржкрзНрж░рзЛржЧрзНрж░рж╛ржорж┐ржВ ржнрж╛рж╖рж╛ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рждрзЗ ржкрж╛рж░рзЗржиред

> ЁЯОУ рж╕рж╛рж░рзНржнрж╛рж░рж▓рзЗрж╕ржХрзЗ ржХржЦржиржУ ржХржЦржиржУ ржлрж╛ржВрж╢ржи ржЕрзНржпрж╛ржЬ ржП рж╕рж╛рж░рзНржнрж┐рж╕ (FaaS) ржмрж▓рж╛ рж╣ржпрж╝, ржХрж╛рж░ржг ржкрзНрж░рждрж┐ржЯрж┐ ржЗржнрзЗржирзНржЯ ржЯрзНрж░рж┐ржЧрж╛рж░ ржХрзЛржбрзЗ ржПржХржЯрж┐ ржлрж╛ржВрж╢ржи рж╣рж┐рж╕рзЗржмрзЗ ржмрж╛рж╕рзНрждржмрж╛ржпрж╝рж┐ржд рж╣ржпрж╝ред

ржирж╛ржорзЗрж░ ржмрж┐ржкрж░рзАрждрзЗ, рж╕рж╛рж░рзНржнрж╛рж░рж▓рзЗрж╕ ржЖрж╕рж▓рзЗ рж╕рж╛рж░рзНржнрж╛рж░ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗред ржирж╛ржоржЯрж┐ ржПрж╕рзЗржЫрзЗ ржХрж╛рж░ржг ржПржХржЬржи ржбрзЗржнрзЗрж▓ржкрж╛рж░ рж╣рж┐рж╕рзЗржмрзЗ ржЖржкржирж╛ржХрзЗ рж╕рж╛рж░рзНржнрж╛рж░ ржирж┐ржпрж╝рзЗ ржЪрж┐ржирзНрждрж╛ ржХрж░рждрзЗ рж╣ржпрж╝ ржирж╛; ржЖржкржирж╛ржХрзЗ ржХрзЗржмрж▓ ржЪрж┐ржирзНрждрж╛ ржХрж░рждрзЗ рж╣ржпрж╝ ржпрзЗ ржЖржкржирж╛рж░ ржХрзЛржбржЯрж┐ ржПржХржЯрж┐ ржЗржнрзЗржирзНржЯрзЗрж░ ржкрзНрж░рждрж┐ржХрзНрж░рж┐ржпрж╝рж╛ржпрж╝ ржЪрж╛рж▓рж╛ржирзЛ рж╣ржЪрзНржЫрзЗред ржХрзНрж▓рж╛ржЙржб ржкрзНрж░ржжрж╛ржиржХрж╛рж░рзАрж░ ржПржХржЯрж┐ рж╕рж╛рж░рзНржнрж╛рж░рж▓рзЗрж╕ *рж░рж╛ржиржЯрж╛ржЗржо* рж░ржпрж╝рзЗржЫрзЗ ржпрж╛ рж╕рж╛рж░рзНржнрж╛рж░ ржмрж░рж╛ржжрзНржж, ржирзЗржЯржУржпрж╝рж╛рж░рзНржХрж┐ржВ, рж╕рзНржЯрзЛрж░рзЗржЬ, CPU, ржорзЗржорзЛрж░рж┐ ржПржмржВ ржЖржкржирж╛рж░ ржХрзЛржб ржЪрж╛рж▓рж╛ржирзЛрж░ ржЬржирзНржп ржкрзНрж░ржпрж╝рзЛржЬржирзАржпрж╝ ржЕржирзНржпрж╛ржирзНржп рж╕ржмржХрж┐ржЫрзБ ржкрж░рж┐ржЪрж╛рж▓ржирж╛ ржХрж░рзЗред ржПржЗ ржоржбрзЗрж▓рзЗ ржЖржкржирж┐ рж╕рж╛рж░рзНржнрж╛рж░рзЗрж░ ржЬржирзНржп ржЕрж░рзНрже ржкрзНрж░ржжрж╛ржи ржХрж░рзЗржи ржирж╛; ржмрж░ржВ ржЖржкржирж┐ ржЖржкржирж╛рж░ ржХрзЛржб ржЪрж╛рж▓рж╛ржирзЛрж░ рж╕ржоржпрж╝ ржПржмржВ ржмрзНржпржмрж╣рзГржд ржорзЗржорзЛрж░рж┐рж░ ржЬржирзНржп ржЕрж░рзНрже ржкрзНрж░ржжрж╛ржи ржХрж░рзЗржиред

> ЁЯТ░ рж╕рж╛рж░рзНржнрж╛рж░рж▓рзЗрж╕ ржХрзНрж▓рж╛ржЙржбрзЗ ржХрзЛржб ржЪрж╛рж▓рж╛ржирзЛрж░ рж╕ржмржЪрзЗржпрж╝рзЗ рж╕рж╛рж╢рзНрж░ржпрж╝рзА ржЙржкрж╛ржпрж╝ржЧрзБрж▓рзЛрж░ ржПржХржЯрж┐ред ржЙржжрж╛рж╣рж░ржгрж╕рзНржмрж░рзВржк, рж▓рзЗржЦрж╛рж░ рж╕ржоржпрж╝, ржПржХржЯрж┐ ржХрзНрж▓рж╛ржЙржб ржкрзНрж░ржжрж╛ржиржХрж╛рж░рзА ржкрзНрж░рждрж┐ ржорж╛рж╕рзЗ ржЖржкржирж╛рж░ рж╕ржорж╕рзНржд рж╕рж╛рж░рзНржнрж╛рж░рж▓рзЗрж╕ ржлрж╛ржВрж╢ржи ржПржХ ржорж┐рж▓рж┐ржпрж╝ржи ржмрж╛рж░ ржЪрж╛рж▓рж╛ржирзЛрж░ ржЕржирзБржорждрж┐ ржжрзЗржпрж╝ ржмрж┐ржирж╛ржорзВрж▓рзНржпрзЗ, ржПржмржВ ржПрж░ ржкрж░рзЗ ржкрзНрж░рждрж┐ ржПржХ ржорж┐рж▓рж┐ржпрж╝ржи ржПржХрзНрж╕рж┐ржХрж┐ржЙрж╢ржирзЗрж░ ржЬржирзНржп US$0.20 ржЪрж╛рж░рзНржЬ ржХрж░рзЗред ржпржЦржи ржЖржкржирж╛рж░ ржХрзЛржб ржЪрж╛рж▓рж╛ржирзЛ рж╣ржпрж╝ ржирж╛, рждржЦржи ржЖржкржирж┐ ржХрзЛржирзЛ ржЕрж░рзНрже ржкрзНрж░ржжрж╛ржи ржХрж░рзЗржи ржирж╛ред

ржПржХржЬржи IoT ржбрзЗржнрзЗрж▓ржкрж╛рж░ рж╣рж┐рж╕рзЗржмрзЗ, рж╕рж╛рж░рзНржнрж╛рж░рж▓рзЗрж╕ ржоржбрзЗрж▓ржЯрж┐ ржЖржжрж░рзНрж╢ред ржЖржкржирж┐ ржПржХржЯрж┐ ржлрж╛ржВрж╢ржи рж▓рж┐ржЦрждрзЗ ржкрж╛рж░рзЗржи ржпрж╛ ржЖржкржирж╛рж░ ржХрзНрж▓рж╛ржЙржб-рж╣рзЛрж╕рзНржЯрзЗржб IoT ржкрж░рж┐рж╖рзЗржмрж╛рж░ рж╕рж╛ржерзЗ рж╕ржВржпрзБржХрзНржд ржпрзЗржХрзЛржирзЛ IoT ржбрж┐ржнрж╛ржЗрж╕ ржерзЗржХрзЗ ржкрж╛ржарж╛ржирзЛ ржмрж╛рж░рзНрждрж╛рж░ ржкрзНрж░рждрж┐ржХрзНрж░рж┐ржпрж╝рж╛ржпрж╝ ржЪрж╛рж▓рж╛ржирзЛ рж╣ржпрж╝ред ржЖржкржирж╛рж░ ржХрзЛржб рж╕ржорж╕рзНржд ржмрж╛рж░рзНрждрж╛ ржкрж░рж┐ржЪрж╛рж▓ржирж╛ ржХрж░ржмрзЗ, рждржмрзЗ ржХрзЗржмрж▓ ржкрзНрж░ржпрж╝рзЛржЬржи рж╣рж▓рзЗ ржЪрж╛рж▓рж╛ржирзЛ рж╣ржмрзЗред

тЬЕ ржЖржкржирж┐ ржпрзЗ ржХрзЛржбржЯрж┐ MQTT ржмрж╛рж░рзНрждрж╛рж░ ржЬржирзНржп рж╕рж╛рж░рзНржнрж╛рж░ ржХрзЛржб рж╣рж┐рж╕рзЗржмрзЗ рж▓рж┐ржЦрзЗржЫрж┐рж▓рзЗржи, рж╕рзЗржЯрж┐ ржХрзНрж▓рж╛ржЙржбрзЗ ржХрзАржнрж╛ржмрзЗ рж╕рж╛рж░рзНржнрж╛рж░рж▓рзЗрж╕ рж╣рж┐рж╕рзЗржмрзЗ ржЪрж╛рж▓рж╛ржирзЛ ржпрзЗрждрзЗ ржкрж╛рж░рзЗ рждрж╛ ржнрзЗржмрзЗ ржжрзЗржЦрзБржиред рж╕рж╛рж░рзНржнрж╛рж░рж▓рзЗрж╕ ржХржорзНржкрж┐ржЙржЯрж┐ржВ рж╕ржорж░рзНржержи ржХрж░рж╛рж░ ржЬржирзНржп ржХрзЛржбржЯрж┐ ржХрзАржнрж╛ржмрзЗ ржкрж░рж┐ржмрж░рзНрждржи ржХрж░рж╛ ржпрзЗрждрзЗ ржкрж╛рж░рзЗ ржмрж▓рзЗ ржЖржкржирж┐ ржоржирзЗ ржХрж░рзЗржи?

> ЁЯТБ рж╕рж╛рж░рзНржнрж╛рж░рж▓рзЗрж╕ ржоржбрзЗрж▓ржЯрж┐ ржХрзЛржб ржЪрж╛рж▓рж╛ржирзЛрж░ ржмрж╛ржЗрж░рзЗржУ ржЕржирзНржпрж╛ржирзНржп ржХрзНрж▓рж╛ржЙржб ржкрж░рж┐рж╖рзЗржмрж╛ржЧрзБрж▓рзЛрж░ ржжрж┐ржХрзЗ ржПржЧрж┐ржпрж╝рзЗ ржпрж╛ржЪрзНржЫрзЗред ржЙржжрж╛рж╣рж░ржгрж╕рзНржмрж░рзВржк, ржХрзНрж▓рж╛ржЙржбрзЗ рж╕рж╛рж░рзНржнрж╛рж░рж▓рзЗрж╕ ржбрж╛ржЯрж╛ржмрзЗрж╕ ржкрж╛ржУржпрж╝рж╛ ржпрж╛ржпрж╝, ржпрзЗржЦрж╛ржирзЗ ржЖржкржирж┐ ржкрзНрж░рждрж┐ ржЕржирзБрж░рзЛржзрзЗрж░ ржнрж┐рждрзНрждрж┐рждрзЗ ржЕрж░рзНрже ржкрзНрж░ржжрж╛ржи ржХрж░рзЗржи, ржпрзЗржоржи ржПржХржЯрж┐ ржХрзБржЗрж░рж┐ ржмрж╛ ржЗржирж╕рж╛рж░рзНржЯред рж╕рж╛ржзрж╛рж░ржгржд, ржПржЯрж┐ ржХрждржЯрж╛ ржХрж╛ржЬ ржХрж░рждрзЗ рж╣ржпрж╝ рждрж╛рж░ ржЙржкрж░ ржнрж┐рждрзНрждрж┐ ржХрж░рзЗ ржорзВрж▓рзНржп ржирж┐рж░рзНржзрж╛рж░ржг ржХрж░рж╛ рж╣ржпрж╝ред ржЙржжрж╛рж╣рж░ржгрж╕рзНржмрж░рзВржк, ржПржХржЯрж┐ ржкрзНрж░рж╛ржЗржорж╛рж░рж┐ ржХрзА-ржПрж░ ржмрж┐рж░рзБржжрзНржзрзЗ ржПржХржЯрж┐ рж╕рж╛рж░рж┐ ржирж┐рж░рзНржмрж╛ржЪржи ржХрж░рж╛ ржПржХржЯрж┐ ржЬржЯрж┐рж▓ ржЕржкрж╛рж░рзЗрж╢ржирзЗрж░ ржЪрзЗржпрж╝рзЗ ржХржо ржЦрж░ржЪ рж╣ржмрзЗ ржпрж╛ ржЕржирзЗржХ ржЯрзЗржмрж┐рж▓ ржпрзЛржЧ ржХрж░рзЗ ржПржмржВ рж╣рж╛ржЬрж╛рж░ рж╣рж╛ржЬрж╛рж░ рж╕рж╛рж░рж┐ ржлрзЗрж░ржд ржжрзЗржпрж╝ред

## ржПржХржЯрж┐ рж╕рж╛рж░рзНржнрж╛рж░рж▓рзЗрж╕ ржЕрзНржпрж╛ржкрзНрж▓рж┐ржХрзЗрж╢ржи рждрзИрж░рж┐ ржХрж░рзБржи

ржорж╛ржЗржХрзНрж░рзЛрж╕ржлржЯрзЗрж░ рж╕рж╛рж░рзНржнрж╛рж░рж▓рзЗрж╕ ржХржорзНржкрж┐ржЙржЯрж┐ржВ ржкрж░рж┐рж╖рзЗржмрж╛ржЯрж┐ Azure Functions ржирж╛ржорзЗ ржкрж░рж┐ржЪрж┐рждред

![Azure Functions рж▓рзЛржЧрзЛ](../../../../../translated_images/azure-functions-logo.1cfc8e3204c9c44aaf80fcf406fc8544d80d7f00f8d3e8ed6fed764563e17564.bn.png)

ржирж┐ржЪрзЗрж░ рж╕ржВржХрзНрж╖рж┐ржкрзНржд ржнрж┐ржбрж┐ржУрждрзЗ Azure Functions-ржПрж░ ржПржХржЯрж┐ ржУржнрж╛рж░ржнрж┐ржЙ рж░ржпрж╝рзЗржЫрзЗ:

[![Azure Functions ржУржнрж╛рж░ржнрж┐ржЙ ржнрж┐ржбрж┐ржУ](https://img.youtube.com/vi/8-jz5f_JyEQ/0.jpg)](https://www.youtube.com/watch?v=8-jz5f_JyEQ)

> ЁЯОе ржЙржкрж░рзЗрж░ ржЫржмрж┐рждрзЗ ржХрзНрж▓рж┐ржХ ржХрж░рзЗ ржнрж┐ржбрж┐ржУржЯрж┐ ржжрзЗржЦрзБржи

тЬЕ ржХрж┐ржЫрзБ рж╕ржоржпрж╝ ржирж┐ржпрж╝рзЗ Azure Functions-ржПрж░ ржУржнрж╛рж░ржнрж┐ржЙ ржкржбрж╝рзБржи [Microsoft Azure Functions ржбржХрзБржорзЗржирзНржЯрзЗрж╢ржирзЗ](https://docs.microsoft.com/azure/azure-functions/functions-overview?WT.mc_id=academic-17441-jabenn)ред

Azure Functions рж▓рзЗржЦрж╛рж░ ржЬржирзНржп, ржЖржкржирж╛ржХрзЗ ржЖржкржирж╛рж░ ржкржЫржирзНржжрзЗрж░ ржнрж╛рж╖рж╛ржпрж╝ ржПржХржЯрж┐ Azure Functions ржЕрзНржпрж╛ржк ржжрж┐ржпрж╝рзЗ рж╢рзБрж░рзБ ржХрж░рждрзЗ рж╣ржмрзЗред Azure Functions ржбрж┐ржлрж▓рзНржЯржнрж╛ржмрзЗ Python, JavaScript, TypeScript, C#, F#, Java ржПржмржВ Powershell рж╕ржорж░рзНржержи ржХрж░рзЗред ржПржЗ ржкрж╛ржарзЗ, ржЖржкржирж┐ Python-ржП ржПржХржЯрж┐ Azure Functions ржЕрзНржпрж╛ржк рж▓рж┐ржЦрждрзЗ рж╢рж┐ржЦржмрзЗржиред

> ЁЯТБ Azure Functions ржХрж╛рж╕рзНржЯржо рж╣рзНржпрж╛ржирзНржбрж▓рж╛рж░ржУ рж╕ржорж░рзНржержи ржХрж░рзЗ, рждрж╛ржЗ ржЖржкржирж┐ ржпрзЗржХрзЛржирзЛ ржнрж╛рж╖рж╛ржпрж╝ ржлрж╛ржВрж╢ржи рж▓рж┐ржЦрждрзЗ ржкрж╛рж░рзЗржи ржпрж╛ HTTP рж░рж┐ржХрзЛржпрж╝рзЗрж╕рзНржЯ рж╕ржорж░рзНржержи ржХрж░рзЗ, ржПржоржиржХрж┐ COBOL-ржПрж░ ржорждрзЛ ржкрзБрж░ржирзЛ ржнрж╛рж╖рж╛ржпрж╝ржУред

Functions ржЕрзНржпрж╛ржкржЧрзБрж▓рзЛ ржПржХ ржмрж╛ ржПржХрж╛ржзрж┐ржХ *ржЯрзНрж░рж┐ржЧрж╛рж░* ржирж┐ржпрж╝рзЗ ржЧржарж┐ржд - ржлрж╛ржВрж╢ржиржЧрзБрж▓рзЛ ржЗржнрзЗржирзНржЯрзЗрж░ ржкрзНрж░рждрж┐ржХрзНрж░рж┐ржпрж╝рж╛ржпрж╝ ржХрж╛ржЬ ржХрж░рзЗред ржПржХржЯрж┐ Functions ржЕрзНржпрж╛ржкрзЗ ржПржХрж╛ржзрж┐ржХ ржЯрзНрж░рж┐ржЧрж╛рж░ ржерж╛ржХрждрзЗ ржкрж╛рж░рзЗ, ржпрж╛ рж╕рж╛ржзрж╛рж░ржг ржХржиржлрж┐ржЧрж╛рж░рзЗрж╢ржи рж╢рзЗржпрж╝рж╛рж░ ржХрж░рзЗред ржЙржжрж╛рж╣рж░ржгрж╕рзНржмрж░рзВржк, ржЖржкржирж╛рж░ Functions ржЕрзНржпрж╛ржкрзЗрж░ ржХржиржлрж┐ржЧрж╛рж░рзЗрж╢ржи ржлрж╛ржЗрж▓рзЗ ржЖржкржирж╛рж░ IoT рж╣рж╛ржмрзЗрж░ рж╕ржВржпрзЛржЧ ржмрж┐ржмрж░ржг ржерж╛ржХрждрзЗ ржкрж╛рж░рзЗ, ржПржмржВ ржЕрзНржпрж╛ржкрзЗрж░ рж╕ржорж╕рзНржд ржлрж╛ржВрж╢ржи ржПржЯрж┐ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ рж╕ржВржпрзЛржЧ ржХрж░рждрзЗ ржПржмржВ ржЗржнрзЗржирзНржЯ рж╢рзЛржирж╛рж░ ржЬржирзНржп ржмрзНржпржмрж╣рж╛рж░ ржХрж░рждрзЗ ржкрж╛рж░рзЗред

### ржХрж╛ржЬ - Azure Functions ржЯрзБрж▓рж┐ржВ ржЗржирж╕рзНржЯрж▓ ржХрж░рзБржи

> рж▓рзЗржЦрж╛рж░ рж╕ржоржпрж╝, Azure Functions ржХрзЛржб ржЯрзБрж▓ржЧрзБрж▓рзЛ Apple Silicon-ржП Python ржкрзНрж░ржХрж▓рзНржкрзЗрж░ ржЬржирзНржп ржкрзБрж░рзЛржкрзБрж░рж┐ ржХрж╛ржЬ ржХрж░ржЫрзЗ ржирж╛ред ржЖржкржирж╛ржХрзЗ ржПржХржЯрж┐ Intel-ржнрж┐рждрзНрждрж┐ржХ Mac, Windows PC, ржмрж╛ Linux PC ржмрзНржпржмрж╣рж╛рж░ ржХрж░рждрзЗ рж╣ржмрзЗред

Azure Functions-ржПрж░ ржПржХржЯрж┐ ржЪржорзОржХрж╛рж░ ржмрзИрж╢рж┐рж╖рзНржЯрзНржп рж╣рж▓рзЛ ржЖржкржирж┐ ржПржЯрж┐ рж▓рзЛржХрж╛рж▓ржнрж╛ржмрзЗ ржЪрж╛рж▓рж╛рждрзЗ ржкрж╛рж░рзЗржиред ржХрзНрж▓рж╛ржЙржбрзЗ ржмрзНржпржмрж╣рзГржд ржПржХржЗ рж░рж╛ржиржЯрж╛ржЗржо ржЖржкржирж╛рж░ ржХржорзНржкрж┐ржЙржЯрж╛рж░рзЗ ржЪрж╛рж▓рж╛ржирзЛ ржпрж╛ржпрж╝, ржпрж╛ ржЖржкржирж╛ржХрзЗ IoT ржмрж╛рж░рзНрждрж╛рж░ ржкрзНрж░рждрж┐ржХрзНрж░рж┐ржпрж╝рж╛ржпрж╝ ржХрзЛржб рж▓рж┐ржЦрждрзЗ ржПржмржВ рж▓рзЛржХрж╛рж▓ржнрж╛ржмрзЗ ржЪрж╛рж▓рж╛рждрзЗ ржжрзЗржпрж╝ред ржЖржкржирж┐ ржПржоржиржХрж┐ ржЗржнрзЗржирзНржЯ ржкрж░рж┐ржЪрж╛рж▓ржирж╛рж░ рж╕ржоржпрж╝ ржЖржкржирж╛рж░ ржХрзЛржб ржбрж┐ржмрж╛ржЧ ржХрж░рждрзЗ ржкрж╛рж░рзЗржиред ржПржХржмрж╛рж░ ржЖржкржирж┐ ржЖржкржирж╛рж░ ржХрзЛржб ржирж┐ржпрж╝рзЗ рж╕ржирзНрждрзБрж╖рзНржЯ рж╣рж▓рзЗ, ржПржЯрж┐ ржХрзНрж▓рж╛ржЙржбрзЗ ржбрж┐ржкрзНрж▓ржпрж╝ ржХрж░рж╛ ржпрзЗрждрзЗ ржкрж╛рж░рзЗред

Azure Functions ржЯрзБрж▓рж┐ржВ CLI рж╣рж┐рж╕рзЗржмрзЗ ржЙржкрж▓ржмрзНржз, ржпрж╛ Azure Functions Core Tools ржирж╛ржорзЗ ржкрж░рж┐ржЪрж┐рждред

1. Azure Functions Core Tools ржЗржирж╕рзНржЯрж▓ ржХрж░рзБржи [Azure Functions Core Tools ржбржХрзБржорзЗржирзНржЯрзЗрж╢ржирзЗрж░](https://docs.microsoft.com/azure/azure-functions/functions-run-local?WT.mc_id=academic-17441-jabenn) ржирж┐рж░рзНржжрзЗрж╢рж╛ржмрж▓рзА ржЕржирзБрж╕рж░ржг ржХрж░рзЗред

1. VS Code-ржПрж░ ржЬржирзНржп Azure Functions ржПржХрзНрж╕ржЯрзЗржирж╢ржи ржЗржирж╕рзНржЯрж▓ ржХрж░рзБржиред ржПржЗ ржПржХрзНрж╕ржЯрзЗржирж╢ржиржЯрж┐ Azure Functions рждрзИрж░рж┐, ржбрж┐ржмрж╛ржЧ ржПржмржВ ржбрж┐ржкрзНрж▓ржпрж╝рзЗрж░ ржЬржирзНржп рж╕ржорж░рзНржержи ржкрзНрж░ржжрж╛ржи ржХрж░рзЗред [Azure Functions ржПржХрзНрж╕ржЯрзЗржирж╢ржи ржбржХрзБржорзЗржирзНржЯрзЗрж╢ржирзЗ](https://marketplace.visualstudio.com/items?WT.mc_id=academic-17441-jabenn&itemName=ms-azuretools.vscode-azurefunctions) ржПржЗ ржПржХрзНрж╕ржЯрзЗржирж╢ржиржЯрж┐ VS Code-ржП ржЗржирж╕рзНржЯрж▓ ржХрж░рж╛рж░ ржирж┐рж░рзНржжрзЗрж╢рж╛ржмрж▓рзА ржжрзЗржЦрзБржиред

Azure Functions ржЕрзНржпрж╛ржкржЯрж┐ ржХрзНрж▓рж╛ржЙржбрзЗ ржбрж┐ржкрзНрж▓ржпрж╝ ржХрж░рж╛рж░ рж╕ржоржпрж╝, ржПржЯрж┐ ржЕрзНржпрж╛ржкрзНрж▓рж┐ржХрзЗрж╢ржи ржлрж╛ржЗрж▓ ржПржмржВ рж▓ржЧ ржлрж╛ржЗрж▓рзЗрж░ ржорждрзЛ ржХрж┐ржЫрзБ рж╕ржВрж░ржХрзНрж╖ржг ржХрж░рж╛рж░ ржЬржирзНржп ржПржХржЯрж┐ ржЫрзЛржЯ ржкрж░рж┐ржорж╛ржг ржХрзНрж▓рж╛ржЙржб рж╕рзНржЯрзЛрж░рзЗржЬ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рждрзЗ рж╣ржмрзЗред ржпржЦржи ржЖржкржирж┐ ржЖржкржирж╛рж░ Functions ржЕрзНржпрж╛ржк рж▓рзЛржХрж╛рж▓ржнрж╛ржмрзЗ ржЪрж╛рж▓рж╛ржи, рждржЦржиржУ ржЖржкржирж╛ржХрзЗ ржХрзНрж▓рж╛ржЙржб рж╕рзНржЯрзЛрж░рзЗржЬрзЗрж░ рж╕рж╛ржерзЗ рж╕ржВржпрзБржХрзНржд ржерж╛ржХрждрзЗ рж╣ржмрзЗ, рждржмрзЗ ржкрзНрж░ржХрзГржд ржХрзНрж▓рж╛ржЙржб рж╕рзНржЯрзЛрж░рзЗржЬ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж╛рж░ ржкрж░рж┐ржмрж░рзНрждрзЗ, ржЖржкржирж┐ [Azurite](https://github.com/Azure/Azurite) ржирж╛ржорзЗ ржПржХржЯрж┐ рж╕рзНржЯрзЛрж░рзЗржЬ ржПржорзБрж▓рзЗржЯрж░ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рждрзЗ ржкрж╛рж░рзЗржиред ржПржЯрж┐ рж▓рзЛржХрж╛рж▓ржнрж╛ржмрзЗ ржЪрж╛рж▓рж╛ржпрж╝ ржХрж┐ржирзНрждрзБ ржХрзНрж▓рж╛ржЙржб рж╕рзНржЯрзЛрж░рзЗржЬрзЗрж░ ржорждрзЛ ржХрж╛ржЬ ржХрж░рзЗред

> ЁЯОУ Azure-ржП, Azure Functions ржпрзЗ рж╕рзНржЯрзЛрж░рзЗржЬ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ рждрж╛ рж╣рж▓рзЛ ржПржХржЯрж┐ Azure Storage Accountред ржПржЗ ржЕрзНржпрж╛ржХрж╛ржЙржирзНржЯржЧрзБрж▓рзЛ ржлрж╛ржЗрж▓, ржмрзНрж▓ржм, ржЯрзЗржмрж┐рж▓рзЗрж░ ржбрзЗржЯрж╛ ржмрж╛ ржХрж┐ржЙржпрж╝рзЗрж░ ржбрзЗржЯрж╛ рж╕ржВрж░ржХрзНрж╖ржг ржХрж░рждрзЗ ржкрж╛рж░рзЗред ржЖржкржирж┐ ржПржХрж╛ржзрж┐ржХ ржЕрзНржпрж╛ржкрзЗрж░ ржоржзрзНржпрзЗ ржПржХржЯрж┐ рж╕рзНржЯрзЛрж░рзЗржЬ ржЕрзНржпрж╛ржХрж╛ржЙржирзНржЯ рж╢рзЗржпрж╝рж╛рж░ ржХрж░рждрзЗ ржкрж╛рж░рзЗржи, ржпрзЗржоржи ржПржХржЯрж┐ Functions ржЕрзНржпрж╛ржк ржПржмржВ ржПржХржЯрж┐ ржУржпрж╝рзЗржм ржЕрзНржпрж╛ржкред

1. Azurite ржПржХржЯрж┐ Node.js ржЕрзНржпрж╛ржк, рждрж╛ржЗ ржЖржкржирж╛ржХрзЗ Node.js ржЗржирж╕рзНржЯрж▓ ржХрж░рждрзЗ рж╣ржмрзЗред [Node.js ржУржпрж╝рзЗржмрж╕рж╛ржЗржЯрзЗ](https://nodejs.org/) ржбрж╛ржЙржирж▓рзЛржб ржПржмржВ ржЗржирж╕рзНржЯрж▓рзЗрж╢ржирзЗрж░ ржирж┐рж░рзНржжрзЗрж╢рж╛ржмрж▓рзА ржкрж╛ржУржпрж╝рж╛ ржпрж╛ржмрзЗред ржпржжрж┐ ржЖржкржирж┐ Mac ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗржи, рждржмрзЗ ржЖржкржирж┐ ржПржЯрж┐ [Homebrew](https://formulae.brew.sh/formula/node) ржерзЗржХрзЗржУ ржЗржирж╕рзНржЯрж▓ ржХрж░рждрзЗ ржкрж╛рж░рзЗржиред

1. Azurite ржЗржирж╕рзНржЯрж▓ ржХрж░рзБржи ржирж┐ржорзНржирж▓рж┐ржЦрж┐ржд ржХржорж╛ржирзНржб ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ (`npm` рж╣рж▓рзЛ ржПржХржЯрж┐ ржЯрзБрж▓ ржпрж╛ Node.js ржЗржирж╕рзНржЯрж▓ ржХрж░рж╛рж░ рж╕ржоржпрж╝ ржЗржирж╕рзНржЯрж▓ рж╣ржпрж╝):

    ```sh
    npm install -g azurite
    ```

1. Azurite-ржПрж░ ржЬржирзНржп ржПржХржЯрж┐ ржлрзЛрж▓рзНржбрж╛рж░ рждрзИрж░рж┐ ржХрж░рзБржи ржпрзЗржЦрж╛ржирзЗ ржПржЯрж┐ ржбрзЗржЯрж╛ рж╕ржВрж░ржХрзНрж╖ржг ржХрж░ржмрзЗ:

    ```sh
    mkdir azurite
    ```

1. Azurite ржЪрж╛рж▓рж╛ржи, ржПржЗ ржирждрзБржи ржлрзЛрж▓рзНржбрж╛рж░ржЯрж┐ ржкрж╛рж╕ ржХрж░рзЗ:

    ```sh
    azurite --location azurite
    ```

    Azurite рж╕рзНржЯрзЛрж░рзЗржЬ ржПржорзБрж▓рзЗржЯрж░ ржЪрж╛рж▓рзБ рж╣ржмрзЗ ржПржмржВ рж▓рзЛржХрж╛рж▓ Functions рж░рж╛ржиржЯрж╛ржЗржорзЗрж░ рж╕рж╛ржерзЗ рж╕ржВржпрзЛржЧрзЗрж░ ржЬржирзНржп ржкрзНрж░рж╕рзНрждрзБржд ржерж╛ржХржмрзЗред

    ```output
    тЮЬ  ~ azurite --location azurite  
    Azurite Blob service is starting at http://127.0.0.1:10000
    Azurite Blob service is successfully listening at http://127.0.0.1:10000
    Azurite Queue service is starting at http://127.0.0.1:10001
    Azurite Queue service is successfully listening at http://127.0.0.1:10001
    Azurite Table service is starting at http://127.0.0.1:10002
    Azurite Table service is successfully listening at http://127.0.0.1:10002
    ```

### ржХрж╛ржЬ - ржПржХржЯрж┐ Azure Functions ржкрзНрж░ржХрж▓рзНржк рждрзИрж░рж┐ ржХрж░рзБржи

Azure Functions CLI ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ ржПржХржЯрж┐ ржирждрзБржи Functions ржЕрзНржпрж╛ржк рждрзИрж░рж┐ ржХрж░рж╛ ржпрж╛ржпрж╝ред

1. ржЖржкржирж╛рж░ Functions ржЕрзНржпрж╛ржкрзЗрж░ ржЬржирзНржп ржПржХржЯрж┐ ржлрзЛрж▓рзНржбрж╛рж░ рждрзИрж░рж┐ ржХрж░рзБржи ржПржмржВ ржПрждрзЗ ржпрж╛ржиред ржПржЯрж┐ `soil-moisture-trigger` ржирж╛ржорзЗ рж░рж╛ржЦрзБржи:

    ```sh
    mkdir soil-moisture-trigger
    cd soil-moisture-trigger
    ```

1. ржПржЗ ржлрзЛрж▓рзНржбрж╛рж░рзЗрж░ ржнрж┐рждрж░рзЗ ржПржХржЯрж┐ Python ржнрж╛рж░рзНржЪрзБржпрж╝рж╛рж▓ ржПржиржнрж╛ржпрж╝рж░ржиржорзЗржирзНржЯ рждрзИрж░рж┐ ржХрж░рзБржи:

    ```sh
    python3 -m venv .venv
    ```

1. ржнрж╛рж░рзНржЪрзБржпрж╝рж╛рж▓ ржПржиржнрж╛ржпрж╝рж░ржиржорзЗржирзНржЯ рж╕ржХрзНрж░рж┐ржпрж╝ ржХрж░рзБржи:

    * Windows-ржП:
        * ржпржжрж┐ ржЖржкржирж┐ Command Prompt ржмрж╛ Windows Terminal-ржПрж░ ржорж╛ржзрзНржпржорзЗ Command Prompt ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗржи, рждрж╛рж╣рж▓рзЗ ржЪрж╛рж▓рж╛ржи:

            ```cmd
            .venv\Scripts\activate.bat
            ```

        * ржпржжрж┐ ржЖржкржирж┐ PowerShell ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗржи, рждрж╛рж╣рж▓рзЗ ржЪрж╛рж▓рж╛ржи:

            ```powershell
            .\.venv\Scripts\Activate.ps1
            ```

    * macOS ржмрж╛ Linux-ржП, ржЪрж╛рж▓рж╛ржи:

        ```cmd
        source ./.venv/bin/activate
        ```

    > ЁЯТБ ржПржЗ ржХржорж╛ржирзНржбржЧрзБрж▓рзЛ рж╕рзЗржЗ ржЕржмрж╕рзНржерж╛ржи ржерзЗржХрзЗ ржЪрж╛рж▓рж╛ржирзЛ ржЙржЪрж┐ржд ржпрзЗржЦрж╛ржирзЗ ржЖржкржирж┐ ржнрж╛рж░рзНржЪрзБржпрж╝рж╛рж▓ ржПржиржнрж╛ржпрж╝рж░ржиржорзЗржирзНржЯ рждрзИрж░рж┐ ржХрж░рзЗржЫрж┐рж▓рзЗржиред `.venv` ржлрзЛрж▓рзНржбрж╛рж░рзЗ ржХржЦржиржУ ржкрзНрж░ржмрзЗрж╢ ржХрж░рж╛рж░ ржкрзНрж░ржпрж╝рзЛржЬржи ржирзЗржЗ; ржЖржкржирж╛ржХрзЗ рж╕рж░рзНржмржжрж╛ рж╕ржХрзНрж░рж┐ржпрж╝ ржХржорж╛ржирзНржб ржПржмржВ ржкрзНржпрж╛ржХрзЗржЬ ржЗржирж╕рзНржЯрж▓ ржмрж╛ ржХрзЛржб ржЪрж╛рж▓рж╛ржирзЛрж░ ржХржорж╛ржирзНржб рж╕рзЗржЗ ржлрзЛрж▓рзНржбрж╛рж░ ржерзЗржХрзЗ ржЪрж╛рж▓рж╛рждрзЗ рж╣ржмрзЗ ржпрзЗржЦрж╛ржирзЗ ржЖржкржирж┐ ржнрж╛рж░рзНржЪрзБржпрж╝рж╛рж▓ ржПржиржнрж╛ржпрж╝рж░ржиржорзЗржирзНржЯ рждрзИрж░рж┐ ржХрж░рзЗржЫрж┐рж▓рзЗржиред

1. ржПржЗ ржлрзЛрж▓рзНржбрж╛рж░рзЗ ржПржХржЯрж┐ Functions ржЕрзНржпрж╛ржк рждрзИрж░рж┐ ржХрж░рждрзЗ ржирж┐ржорзНржирж▓рж┐ржЦрж┐ржд ржХржорж╛ржирзНржб ржЪрж╛рж▓рж╛ржи:

    ```sh
    func init --worker-runtime python soil-moisture-trigger
    ```

    ржПржЯрж┐ ржмрж░рзНрждржорж╛ржи ржлрзЛрж▓рзНржбрж╛рж░рзЗрж░ ржнрж┐рждрж░рзЗ рждрж┐ржиржЯрж┐ ржлрж╛ржЗрж▓ рждрзИрж░рж┐ ржХрж░ржмрзЗ:

    * `host.json` - ржПржЗ JSON ржбржХрзБржорзЗржирзНржЯржЯрж┐ ржЖржкржирж╛рж░ Functions ржЕрзНржпрж╛ржкрзЗрж░ рж╕рзЗржЯрж┐ржВрж╕ ржзрж╛рж░ржг ржХрж░рзЗред ржЖржкржирж╛ржХрзЗ ржПржЗ рж╕рзЗржЯрж┐ржВрж╕ ржкрж░рж┐ржмрж░рзНрждржи ржХрж░рждрзЗ рж╣ржмрзЗ ржирж╛ред
    * `local.settings.json` - ржПржЗ JSON ржбржХрзБржорзЗржирзНржЯржЯрж┐ ржЖржкржирж╛рж░ ржЕрзНржпрж╛ржк рж▓рзЛржХрж╛рж▓ржнрж╛ржмрзЗ ржЪрж╛рж▓рж╛ржирзЛрж░ рж╕ржоржпрж╝ ржмрзНржпржмрж╣рзГржд рж╕рзЗржЯрж┐ржВрж╕ ржзрж╛рж░ржг ржХрж░рзЗ, ржпрзЗржоржи ржЖржкржирж╛рж░ IoT рж╣рж╛ржмрзЗрж░ ржЬржирзНржп рж╕ржВржпрзЛржЧ рж╕рзНржЯрзНрж░рж┐ржВред ржПржЗ рж╕рзЗржЯрж┐ржВрж╕ ржХрзЗржмрж▓ рж▓рзЛржХрж╛рж▓ ржПржмржВ рж╕рзЛрж░рзНрж╕ ржХрзЛржб ржХржирзНржЯрзНрж░рзЛрж▓рзЗ ржпрзЛржЧ ржХрж░рж╛ ржЙржЪрж┐ржд ржиржпрж╝ред ржпржЦржи ржЕрзНржпрж╛ржкржЯрж┐ ржХрзНрж▓рж╛ржЙржбрзЗ ржбрж┐ржкрзНрж▓ржпрж╝ ржХрж░рж╛ рж╣ржпрж╝, рждржЦржи ржПржЗ рж╕рзЗржЯрж┐ржВрж╕ ржбрж┐ржкрзНрж▓ржпрж╝ ржХрж░рж╛ рж╣ржпрж╝ ржирж╛; ржкрж░рж┐ржмрж░рзНрждрзЗ ржЖржкржирж╛рж░ рж╕рзЗржЯрж┐ржВрж╕ ржЕрзНржпрж╛ржкрзНрж▓рж┐ржХрзЗрж╢ржи рж╕рзЗржЯрж┐ржВрж╕ ржерзЗржХрзЗ рж▓рзЛржб ржХрж░рж╛ рж╣ржпрж╝ред ржПржЯрж┐ ржПржЗ ржкрж╛ржарзЗ ржкрж░рзЗ ржЖрж▓рзЛржЪржирж╛ ржХрж░рж╛ рж╣ржмрзЗред
    * `requirements.txt` - ржПржЯрж┐ ржПржХржЯрж┐ [Pip requirements ржлрж╛ржЗрж▓](https://pip.pypa.io/en/stable/user_guide/#requirements-files) ржпрж╛ Functions ржЕрзНржпрж╛ржк ржЪрж╛рж▓рж╛ржирзЛрж░ ржЬржирзНржп ржкрзНрж░ржпрж╝рзЛржЬржирзАржпрж╝ Pip ржкрзНржпрж╛ржХрзЗржЬржЧрзБрж▓рзЛ ржзрж╛рж░ржг ржХрж░рзЗред

1. `local.settings.json` ржлрж╛ржЗрж▓ржЯрж┐ Functions ржЕрзНржпрж╛ржк ржпрзЗ рж╕рзНржЯрзЛрж░рзЗржЬ ржЕрзНржпрж╛ржХрж╛ржЙржирзНржЯ ржмрзНржпржмрж╣рж╛рж░ ржХрж░ржмрзЗ рждрж╛рж░ ржЬржирзНржп ржПржХржЯрж┐ рж╕рзЗржЯрж┐ржВ ржзрж╛рж░ржг ржХрж░рзЗред ржПржЯрж┐ ржбрж┐ржлрж▓рзНржЯржнрж╛ржмрзЗ ржЦрж╛рж▓рж┐ ржерж╛ржХрзЗ, рждрж╛ржЗ ржПржЯрж┐ рж╕рзЗржЯ ржХрж░рждрзЗ рж╣ржмрзЗред Azurite рж▓рзЛржХрж╛рж▓ рж╕рзНржЯрзЛрж░рзЗржЬ ржПржорзБрж▓рзЗржЯрж░рзЗрж░ рж╕рж╛ржерзЗ рж╕ржВржпрзЛржЧ ржХрж░рждрзЗ, ржПржЗ ржорж╛ржиржЯрж┐ ржирж┐ржорзНржирж▓рж┐ржЦрж┐рждржнрж╛ржмрзЗ рж╕рзЗржЯ ржХрж░рзБржи:

    ```json
    "AzureWebJobsStorage": "UseDevelopmentStorage=true",
    ```

1. ржкрзНрж░ржпрж╝рзЛржЬржирзАржпрж╝ Pip ржкрзНржпрж╛ржХрзЗржЬржЧрзБрж▓рзЛ requirements ржлрж╛ржЗрж▓ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ ржЗржирж╕рзНржЯрж▓ ржХрж░рзБржи:

    ```sh
    pip install -r requirements.txt
    ```

    > ЁЯТБ ржкрзНрж░ржпрж╝рзЛржЬржирзАржпрж╝ Pip ржкрзНржпрж╛ржХрзЗржЬржЧрзБрж▓рзЛ ржПржЗ ржлрж╛ржЗрж▓рзЗ ржерж╛ржХрждрзЗ рж╣ржмрзЗ, ржпрж╛рждрзЗ Functions ржЕрзНржпрж╛ржк ржХрзНрж▓рж╛ржЙржбрзЗ ржбрж┐ржкрзНрж▓ржпрж╝ ржХрж░рж╛рж░ рж╕ржоржпрж╝ рж░рж╛ржиржЯрж╛ржЗржо рж╕ржарж┐ржХ ржкрзНржпрж╛ржХрзЗржЬ ржЗржирж╕рзНржЯрж▓ ржХрж░рждрзЗ ржкрж╛рж░рзЗред

1. рж╕ржмржХрж┐ржЫрзБ рж╕ржарж┐ржХржнрж╛ржмрзЗ ржХрж╛ржЬ ржХрж░ржЫрзЗ ржХрж┐ржирж╛ рждрж╛ ржкрж░рзАржХрзНрж╖рж╛ ржХрж░рждрзЗ, ржЖржкржирж┐ Functions рж░рж╛ржиржЯрж╛ржЗржо рж╢рзБрж░рзБ ржХрж░рждрзЗ ржкрж╛рж░рзЗржиред ржПржЯрж┐ ржХрж░рждрзЗ ржирж┐ржорзНржирж▓рж┐ржЦрж┐ржд ржХржорж╛ржирзНржб ржЪрж╛рж▓рж╛ржи:

    ```sh
    func start
    ```

    ржЖржкржирж┐ ржжрзЗржЦржмрзЗржи ржпрзЗ рж░рж╛ржиржЯрж╛ржЗржо рж╢рзБрж░рзБ рж╣ржпрж╝рзЗржЫрзЗ ржПржмржВ ржПржЯрж┐ ржХрзЛржирзЛ ржЬржм ржлрж╛ржВрж╢ржи (ржЯрзНрж░рж┐ржЧрж╛рж░) ржЦрзБржБржЬрзЗ ржкрж╛ржпрж╝ржирж┐ ржмрж▓рзЗ рж░рж┐ржкрзЛрж░рзНржЯ ржХрж░ржЫрзЗред

    ```output
    (.venv) тЮЬ  soil-moisture-trigger func start
    Found Python version 3.9.1 (python3).
    
    Azure Functions Core Tools
    Core Tools Version:       3.0.3442 Commit hash: 6bfab24b2743f8421475d996402c398d2fe4a9e0  (64-bit)
    Function Runtime Version: 3.0.15417.0
    
    [2021-05-05T01:24:46.795Z] No job functions found.
    ```
> тЪая╕П ржпржжрж┐ ржЖржкржирж┐ ржПржХржЯрж┐ ржлрж╛ржпрж╝рж╛рж░ржУржпрж╝рж╛рж▓ ржмрж┐ржЬрзНржЮржкрзНрждрж┐ ржкрж╛ржи, ржЕржирзБржорждрж┐ ржжрж┐ржи ржХрж╛рж░ржг `func` ржЕрзНржпрж╛ржкрзНрж▓рж┐ржХрзЗрж╢ржиржЯрж┐ ржЖржкржирж╛рж░ ржирзЗржЯржУржпрж╝рж╛рж░рзНржХрзЗ ржкржбрж╝рж╛ ржПржмржВ рж▓рзЗржЦрж╛ рж╕ржХрзНрж╖ржо рж╣ржУржпрж╝рж╛ ржкрзНрж░ржпрж╝рзЛржЬржиред
> тЪая╕П ржпржжрж┐ ржЖржкржирж┐ macOS ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗржи, ржЖржЙржЯржкрзБржЯрзЗ рж╕рждрж░рзНржХржмрж╛рж░рзНрждрж╛ ржерж╛ржХрждрзЗ ржкрж╛рж░рзЗ:
>
> ```output
    > (.venv) тЮЬ  soil-moisture-trigger func start
    > Found Python version 3.9.1 (python3).
    >
    > Azure Functions Core Tools
    > Core Tools Version:       3.0.3442 Commit hash: 6bfab24b2743f8421475d996402c398d2fe4a9e0  (64-bit)
    > Function Runtime Version: 3.0.15417.0
    >
    > [2021-06-16T08:18:28.315Z] Cannot create directory for shared memory usage: /dev/shm/AzureFunctions
    > [2021-06-16T08:18:28.316Z] System.IO.FileSystem: Access to the path '/dev/shm/AzureFunctions' is denied. Operation not permitted.
    > [2021-06-16T08:18:30.361Z] No job functions found.
    > ```
>
> ржпрждржХрзНрж╖ржг ржирж╛ Functions ржЕрзНржпрж╛ржк рж╕ржарж┐ржХржнрж╛ржмрзЗ рж╢рзБрж░рзБ рж╣ржпрж╝ ржПржмржВ ржЪрж▓ржорж╛ржи ржлрж╛ржВрж╢ржиржЧрзБрж▓рж┐ рждрж╛рж▓рж┐ржХрж╛ржнрзБржХрзНржд рж╣ржпрж╝, ржЖржкржирж┐ ржПржЗ рж╕рждрж░рзНржХржмрж╛рж░рзНрждрж╛ржЧрзБрж▓рж┐ ржЙржкрзЗржХрзНрж╖рж╛ ржХрж░рждрзЗ ржкрж╛рж░рзЗржиред [Microsoft Docs Q&A-рждрзЗ ржПржЗ ржкрзНрж░рж╢рзНржирзЗ](https://docs.microsoft.com/answers/questions/396617/azure-functions-core-tools-error-osx-devshmazurefu.html?WT.mc_id=academic-17441-jabenn) ржЙрж▓рзНрж▓рзЗржЦ ржХрж░рж╛ рж╣ржпрж╝рзЗржЫрзЗ ржпрзЗ ржПржЯрж┐ ржЙржкрзЗржХрзНрж╖рж╛ ржХрж░рж╛ ржпрзЗрждрзЗ ржкрж╛рж░рзЗред

1. `ctrl+c` ржЪрж╛ржк ржжрж┐ржпрж╝рзЗ Functions ржЕрзНржпрж╛ржк ржмржирзНржз ржХрж░рзБржиред

1. ржмрж░рзНрждржорж╛ржи ржлрзЛрж▓рзНржбрж╛рж░ржЯрж┐ VS Code-ржП ржЦрзБрж▓рзБржиред ржПржЯрж┐ VS Code ржЦрзБрж▓рзЗ рждрж╛рж░ржкрж░ ржлрзЛрж▓рзНржбрж╛рж░ржЯрж┐ ржЦрзБрж▓рзЗ ржмрж╛ ржирж┐ржЪрзЗрж░ ржХржорж╛ржирзНржбржЯрж┐ ржЪрж╛рж▓рж┐ржпрж╝рзЗ ржХрж░рждрзЗ ржкрж╛рж░рзЗржи:

    ```sh
    code .
    ```

    VS Code ржЖржкржирж╛рж░ Functions ржкрзНрж░ржЬрзЗржХрзНржЯ рж╕ржирж╛ржХрзНржд ржХрж░ржмрзЗ ржПржмржВ ржПржХржЯрж┐ ржирзЛржЯрж┐ржлрж┐ржХрзЗрж╢ржи ржжрзЗржЦрж╛ржмрзЗ:

    ```output
    Detected an Azure Functions Project in folder "soil-moisture-trigger" that may have been created outside of
    VS Code. Initialize for optimal use with VS Code?
    ```

    ![ржирзЛржЯрж┐ржлрж┐ржХрзЗрж╢ржи](../../../../../translated_images/vscode-azure-functions-init-notification.bd19b49229963edb5311fb3a79445ea469424759d2917ee2f2eb6f92d65d5086.bn.png)

    ржПржЗ ржирзЛржЯрж┐ржлрж┐ржХрзЗрж╢ржи ржерзЗржХрзЗ **Yes** ржирж┐рж░рзНржмрж╛ржЪржи ржХрж░рзБржиред

1. ржирж┐рж╢рзНржЪрж┐ржд ржХрж░рзБржи ржпрзЗ VS Code ржЯрж╛рж░рзНржорж┐ржирж╛рж▓рзЗ Python ржнрж╛рж░рзНржЪрзБржпрж╝рж╛рж▓ ржПржиржнрж╛ржпрж╝рж░ржиржорзЗржирзНржЯ ржЪрж╛рж▓рзБ рж░ржпрж╝рзЗржЫрзЗред ржкрзНрж░ржпрж╝рзЛржЬржирзЗ ржПржЯрж┐ ржмржирзНржз ржХрж░рзЗ ржкрзБржирж░рж╛ржпрж╝ ржЪрж╛рж▓рзБ ржХрж░рзБржиред

## ржПржХржЯрж┐ IoT Hub ржЗржнрзЗржирзНржЯ ржЯрзНрж░рж┐ржЧрж╛рж░ рждрзИрж░рж┐ ржХрж░рзБржи

Functions ржЕрзНржпрж╛ржкржЯрж┐ ржЖржкржирж╛рж░ рж╕рж╛рж░рзНржнрж╛рж░рж▓рзЗрж╕ ржХрзЛржбрзЗрж░ рж╢рзЗрж▓ред IoT Hub ржЗржнрзЗржирзНржЯржЧрзБрж▓рж┐рждрзЗ рж╕рж╛ржбрж╝рж╛ ржжрж┐рждрзЗ, ржЖржкржирж┐ ржПржЗ ржЕрзНржпрж╛ржкрзЗ ржПржХржЯрж┐ IoT Hub ржЯрзНрж░рж┐ржЧрж╛рж░ ржпрзЛржЧ ржХрж░рждрзЗ ржкрж╛рж░рзЗржиред ржПржЗ ржЯрзНрж░рж┐ржЧрж╛рж░ржЯрж┐ IoT Hub-ржП ржкрж╛ржарж╛ржирзЛ ржмрж╛рж░рзНрждрж╛ржЧрзБрж▓рж┐рж░ рж╕рзНржЯрзНрж░рж┐ржорзЗрж░ рж╕рж╛ржерзЗ рж╕ржВржпрзЛржЧ рж╕рзНржерж╛ржкржи ржХрж░рзЗ ржПржмржВ рж╕рзЗржЧрзБрж▓рж┐рждрзЗ рж╕рж╛ржбрж╝рж╛ ржжрзЗржпрж╝ред ржПржЗ ржмрж╛рж░рзНрждрж╛ржЧрзБрж▓рж┐рж░ рж╕рзНржЯрзНрж░рж┐ржо ржкрзЗрждрзЗ, ржЖржкржирж╛рж░ ржЯрзНрж░рж┐ржЧрж╛рж░ржХрзЗ IoT Hub-ржПрж░ *ржЗржнрзЗржирзНржЯ рж╣рж╛ржм ржХржорзНржкрзНржпрж╛ржЯрж┐ржмрж▓ ржПржирзНржбржкржпрж╝рзЗржирзНржЯ*-ржПрж░ рж╕рж╛ржерзЗ рж╕ржВржпрзЛржЧ рж╕рзНржерж╛ржкржи ржХрж░рждрзЗ рж╣ржмрзЗред

IoT Hub ржПржХржЯрж┐ Azure ржкрж░рж┐рж╖рзЗржмрж╛ Azure Event Hubs-ржПрж░ ржЙржкрж░ ржнрж┐рждрзНрждрж┐ ржХрж░рзЗ рждрзИрж░рж┐ред Event Hubs ржПржХржЯрж┐ ржкрж░рж┐рж╖рзЗржмрж╛ ржпрж╛ ржмрж╛рж░рзНрждрж╛ ржкрж╛ржарж╛ржирзЛ ржПржмржВ ржЧрзНрж░рж╣ржг ржХрж░рж╛рж░ ржЕржирзБржорждрж┐ ржжрзЗржпрж╝, ржПржмржВ IoT Hub ржПржЯрж┐ржХрзЗ IoT ржбрж┐ржнрж╛ржЗрж╕ржЧрзБрж▓рж┐рж░ ржЬржирзНржп ржЕрждрж┐рж░рж┐ржХрзНржд ржмрзИрж╢рж┐рж╖рзНржЯрзНржп ржпрзЛржЧ ржХрж░рзЗ ржмрж╛ржбрж╝рж┐ржпрж╝рзЗ рждрзЛрж▓рзЗред IoT Hub ржерзЗржХрзЗ ржмрж╛рж░рзНрждрж╛ ржкржбрж╝рж╛рж░ ржЬржирзНржп рж╕ржВржпрзЛржЧ ржХрж░рж╛рж░ ржкржжрзНржзрждрж┐ Event Hubs ржмрзНржпржмрж╣рж╛рж░рзЗрж░ ржорждрзЛржЗред

тЬЕ ржХрж┐ржЫрзБ ржЧржмрзЗрж╖ржгрж╛ ржХрж░рзБржи: [Azure Event Hubs ржбржХрзБржорзЗржирзНржЯрзЗрж╢ржирзЗ](https://docs.microsoft.com/azure/event-hubs/event-hubs-about?WT.mc_id=academic-17441-jabenn) Event Hubs-ржПрж░ ржУржнрж╛рж░ржнрж┐ржЙ ржкржбрж╝рзБржиред ржПрж░ ржорзМрж▓рж┐ржХ ржмрзИрж╢рж┐рж╖рзНржЯрзНржпржЧрзБрж▓рж┐ IoT Hub-ржПрж░ рж╕рж╛ржерзЗ ржХрзАржнрж╛ржмрзЗ рждрзБрж▓ржирж╛ ржХрж░рж╛ ржпрж╛ржпрж╝?

ржПржХржЯрж┐ IoT ржбрж┐ржнрж╛ржЗрж╕ржХрзЗ IoT Hub-ржП рж╕ржВржпрзЛржЧ ржХрж░рждрзЗ рж╣рж▓рзЗ ржПржХржЯрж┐ рж╕рж┐ржХрзНрж░рзЗржЯ ржХрзА ржмрзНржпржмрж╣рж╛рж░ ржХрж░рждрзЗ рж╣ржпрж╝ ржпрж╛ ржирж┐рж╢рзНржЪрж┐ржд ржХрж░рзЗ ржпрзЗ рж╢рзБржзрзБржорж╛рждрзНрж░ ржЕржирзБржорзЛржжрж┐ржд ржбрж┐ржнрж╛ржЗрж╕ржЧрзБрж▓рж┐ рж╕ржВржпрзЛржЧ ржХрж░рждрзЗ ржкрж╛рж░рзЗред ржмрж╛рж░рзНрждрж╛ ржкржбрж╝рж╛рж░ ржЬржирзНржп рж╕ржВржпрзЛржЧ ржХрж░рж╛рж░ ржХрзНрж╖рзЗрждрзНрж░рзЗржУ ржПржХржЗ ржирж┐ржпрж╝ржо ржкрзНрж░ржпрзЛржЬрзНржп, ржЖржкржирж╛рж░ ржХрзЛржбрзЗ ржПржХржЯрж┐ рж╕ржВржпрзЛржЧ рж╕рзНржЯрзНрж░рж┐ржВ ржкрзНрж░ржпрж╝рзЛржЬржи ржпрж╛ ржПржХржЯрж┐ рж╕рж┐ржХрзНрж░рзЗржЯ ржХрзА ржПржмржВ IoT Hub-ржПрж░ ржмрж┐ржмрж░ржг ржзрж╛рж░ржг ржХрж░рзЗред

> ЁЯТБ ржбрж┐ржлрж▓рзНржЯ рж╕ржВржпрзЛржЧ рж╕рзНржЯрзНрж░рж┐ржВ-ржП **iothubowner** ржЕржирзБржорждрж┐ ржерж╛ржХрзЗ, ржпрж╛ ржПржЯрж┐ ржмрзНржпржмрж╣рж╛рж░ржХрж╛рж░рзА ржпрзЗржХрзЛржи ржХрзЛржбржХрзЗ IoT Hub-ржП ржкрзВрж░рзНржг ржЕржирзБржорждрж┐ ржжрзЗржпрж╝ред ржЖржжрж░рзНрж╢ржнрж╛ржмрзЗ, ржЖржкржирж╛ржХрзЗ ржкрзНрж░ржпрж╝рзЛржЬржирзАржпрж╝ рж╕рж░рзНржмржирж┐ржорзНржи ржЕржирзБржорждрж┐ ржжрж┐ржпрж╝рзЗ рж╕ржВржпрзЛржЧ ржХрж░рждрзЗ рж╣ржмрзЗред ржПржЯрж┐ ржкрж░ржмрж░рзНрждрзА ржкрж╛ржарзЗ ржЖрж▓рзЛржЪржирж╛ ржХрж░рж╛ рж╣ржмрзЗред

ржЖржкржирж╛рж░ ржЯрзНрж░рж┐ржЧрж╛рж░ рж╕ржВржпрзБржХрзНржд рж╣ржУржпрж╝рж╛рж░ ржкрж░рзЗ, IoT Hub-ржП ржкрж╛ржарж╛ржирзЛ ржкрзНрж░рждрж┐ржЯрж┐ ржмрж╛рж░рзНрждрж╛рж░ ржЬржирзНржп ржлрж╛ржВрж╢ржирзЗрж░ ржнрж┐рждрж░рзЗрж░ ржХрзЛржбржЯрж┐ ржЪрж╛рж▓рж╛ржирзЛ рж╣ржмрзЗ, ржпрзЗржХрзЛржи ржбрж┐ржнрж╛ржЗрж╕ ржмрж╛рж░рзНрждрж╛ржЯрж┐ ржкрж╛ржарж┐ржпрж╝рзЗржЫрзЗ рждрж╛ ржирж┐рж░рзНржмрж┐рж╢рзЗрж╖рзЗред ржмрж╛рж░рзНрждрж╛ржЯрж┐ ржПржХржЯрж┐ ржкрзНржпрж╛рж░рж╛ржорж┐ржЯрж╛рж░ рж╣рж┐рж╕рж╛ржмрзЗ ржЯрзНрж░рж┐ржЧрж╛рж░рзЗ ржкрж╛рж╕ ржХрж░рж╛ рж╣ржмрзЗред

### ржХрж╛ржЬ - Event Hub ржХржорзНржкрзНржпрж╛ржЯрж┐ржмрж▓ ржПржирзНржбржкржпрж╝рзЗржирзНржЯ рж╕ржВржпрзЛржЧ рж╕рзНржЯрзНрж░рж┐ржВ ржкрж╛ржи

1. VS Code ржЯрж╛рж░рзНржорж┐ржирж╛рж▓ ржерзЗржХрзЗ ржирж┐ржЪрзЗрж░ ржХржорж╛ржирзНржбржЯрж┐ ржЪрж╛рж▓рж╛ржи IoT Hub-ржПрж░ Event Hub ржХржорзНржкрзНржпрж╛ржЯрж┐ржмрж▓ ржПржирзНржбржкржпрж╝рзЗржирзНржЯрзЗрж░ рж╕ржВржпрзЛржЧ рж╕рзНржЯрзНрж░рж┐ржВ ржкрзЗрждрзЗ:

    ```sh
    az iot hub connection-string show --default-eventhub \
                                      --output table \
                                      --hub-name <hub_name>
    ```

    `<hub_name>`-ржПрж░ ржЬрж╛ржпрж╝ржЧрж╛ржпрж╝ ржЖржкржирж╛рж░ IoT Hub-ржПрж░ ржирж╛ржо ржжрж┐ржиред

1. VS Code-ржП `local.settings.json` ржлрж╛ржЗрж▓ржЯрж┐ ржЦрзБрж▓рзБржиред `Values` рж╕рзЗржХрж╢ржирзЗрж░ ржоржзрзНржпрзЗ ржирж┐ржЪрзЗрж░ ржЕрждрж┐рж░рж┐ржХрзНржд ржорж╛ржиржЯрж┐ ржпрзЛржЧ ржХрж░рзБржи:

    ```json
    "IOT_HUB_CONNECTION_STRING": "<connection string>"
    ```

    `<connection string>`-ржПрж░ ржЬрж╛ржпрж╝ржЧрж╛ржпрж╝ ржЖржЧрзЗрж░ ржзрж╛ржкрзЗ ржкрзНрж░рж╛ржкрзНржд ржорж╛ржиржЯрж┐ ржжрж┐ржиред ржПржЯрж┐ ржмрзИржз JSON ржХрж░рждрзЗ ржЙржкрж░рзЗрж░ рж▓рж╛ржЗржирзЗрж░ ржкрж░рзЗ ржПржХржЯрж┐ ржХржорж╛ ржпрзЛржЧ ржХрж░рждрзЗ рж╣ржмрзЗред

### ржХрж╛ржЬ - ржПржХржЯрж┐ ржЗржнрзЗржирзНржЯ ржЯрзНрж░рж┐ржЧрж╛рж░ рждрзИрж░рж┐ ржХрж░рзБржи

ржЖржкржирж┐ ржПржЦржи ржЗржнрзЗржирзНржЯ ржЯрзНрж░рж┐ржЧрж╛рж░ рждрзИрж░рж┐ ржХрж░рждрзЗ ржкрзНрж░рж╕рзНрждрзБрждред

1. VS Code ржЯрж╛рж░рзНржорж┐ржирж╛рж▓ ржерзЗржХрзЗ `soil-moisture-trigger` ржлрзЛрж▓рзНржбрж╛рж░рзЗрж░ ржнрж┐рждрж░рзЗ ржирж┐ржЪрзЗрж░ ржХржорж╛ржирзНржбржЯрж┐ ржЪрж╛рж▓рж╛ржи:

    ```sh
    func new --name iot-hub-trigger --template "Azure Event Hub trigger"
    ```

    ржПржЯрж┐ ржПржХржЯрж┐ ржирждрзБржи Function рждрзИрж░рж┐ ржХрж░ржмрзЗ ржпрж╛рж░ ржирж╛ржо рж╣ржмрзЗ `iot-hub-trigger`ред ржЯрзНрж░рж┐ржЧрж╛рж░ржЯрж┐ IoT Hub-ржПрж░ Event Hub ржХржорзНржкрзНржпрж╛ржЯрж┐ржмрж▓ ржПржирзНржбржкржпрж╝рзЗржирзНржЯрзЗрж░ рж╕рж╛ржерзЗ рж╕ржВржпрзЛржЧ ржХрж░ржмрзЗ, рждрж╛ржЗ ржЖржкржирж┐ ржПржХржЯрж┐ Event Hub ржЯрзНрж░рж┐ржЧрж╛рж░ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рждрзЗ ржкрж╛рж░рзЗржиред ржирж┐рж░рзНржжрж┐рж╖рзНржЯ ржХрзЛржирзЛ IoT Hub ржЯрзНрж░рж┐ржЧрж╛рж░ ржирзЗржЗред

ржПржЯрж┐ `soil-moisture-trigger` ржлрзЛрж▓рзНржбрж╛рж░рзЗрж░ ржнрж┐рждрж░рзЗ ржПржХржЯрж┐ ржлрзЛрж▓рзНржбрж╛рж░ рждрзИрж░рж┐ ржХрж░ржмрзЗ ржпрж╛рж░ ржирж╛ржо рж╣ржмрзЗ `iot-hub-trigger`, ржпрж╛ ржПржЗ ржлрж╛ржВрж╢ржиржЯрж┐ ржзрж╛рж░ржг ржХрж░ржмрзЗред ржПржЗ ржлрзЛрж▓рзНржбрж╛рж░рзЗрж░ ржнрж┐рждрж░рзЗ ржирж┐ржорзНржирж▓рж┐ржЦрж┐ржд ржлрж╛ржЗрж▓ржЧрзБрж▓рж┐ ржерж╛ржХржмрзЗ:

* `__init__.py` - ржПржЯрж┐ Python ржХрзЛржб ржлрж╛ржЗрж▓ ржпрж╛ ржЯрзНрж░рж┐ржЧрж╛рж░ ржзрж╛рж░ржг ржХрж░рзЗред ржПржЯрж┐ ржПржХржЯрж┐ Python ржоржбрж┐ржЙрж▓ рж╣рж┐рж╕рзЗржмрзЗ ржлрзЛрж▓рзНржбрж╛рж░ржЯрж┐ржХрзЗ ржЪрж┐рж╣рзНржирж┐ржд ржХрж░рждрзЗ рж╕рзНржЯрзНржпрж╛ржирзНржбрж╛рж░рзНржб Python ржлрж╛ржЗрж▓ ржирж╛ржоржХрж░ржг ржХржиржнрзЗржирж╢ржи ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗред

    ржПржЗ ржлрж╛ржЗрж▓ржЯрж┐ ржирж┐ржЪрзЗрж░ ржХрзЛржбржЯрж┐ ржзрж╛рж░ржг ржХрж░ржмрзЗ:

    ```python
    import logging

    import azure.functions as func


    def main(event: func.EventHubEvent):
        logging.info('Python EventHub trigger processed an event: %s',
                    event.get_body().decode('utf-8'))
    ```

    ржЯрзНрж░рж┐ржЧрж╛рж░рзЗрж░ ржорзВрж▓ ржЕржВрж╢ржЯрж┐ рж╣рж▓ `main` ржлрж╛ржВрж╢ржиред IoT Hub ржерзЗржХрзЗ ржЗржнрзЗржирзНржЯ ржкрж╛ржУржпрж╝рж╛рж░ рж╕рж╛ржерзЗ рж╕рж╛ржерзЗ ржПржЗ ржлрж╛ржВрж╢ржиржЯрж┐ ржбрж╛ржХрж╛ рж╣ржпрж╝ред ржПржЗ ржлрж╛ржВрж╢ржирзЗрж░ ржПржХржЯрж┐ ржкрзНржпрж╛рж░рж╛ржорж┐ржЯрж╛рж░ `event` рж░ржпрж╝рзЗржЫрзЗ ржпрж╛ ржПржХржЯрж┐ `EventHubEvent` ржзрж╛рж░ржг ржХрж░рзЗред IoT Hub-ржП ржмрж╛рж░рзНрждрж╛ ржкрж╛ржарж╛ржирзЛрж░ ржкрзНрж░рждрж┐ржмрж╛рж░, ржПржЗ ржлрж╛ржВрж╢ржиржЯрж┐ ржмрж╛рж░рзНрждрж╛ржЯрж┐ `event` рж╣рж┐рж╕рзЗржмрзЗ ржкрж╛рж╕ ржХрж░рзЗ ржбрж╛ржХрж╛ рж╣ржпрж╝, ржПржмржВ ржмрж╛рж░рзНрждрж╛рж░ рж╕рж╛ржерзЗ ржкрзНрж░рзЛржкрж╛рж░рзНржЯрж┐ржЧрзБрж▓рж┐ ржерж╛ржХрзЗ ржпрж╛ ржЖржкржирж┐ ржЖржЧрзЗрж░ ржкрж╛ржарзЗ ржЕрзНржпрж╛ржирзЛржЯрзЗрж╢ржирзЗ ржжрзЗржЦрзЗржЫрзЗржиред

    ржПржЗ ржлрж╛ржВрж╢ржирзЗрж░ ржорзВрж▓ ржЕржВрж╢ржЯрж┐ ржЗржнрзЗржирзНржЯржЯрж┐ рж▓ржЧ ржХрж░рзЗред

* `function.json` - ржПржЯрж┐ ржЯрзНрж░рж┐ржЧрж╛рж░рзЗрж░ ржХржиржлрж┐ржЧрж╛рж░рзЗрж╢ржи ржзрж╛рж░ржг ржХрж░рзЗред ржорзВрж▓ ржХржиржлрж┐ржЧрж╛рж░рзЗрж╢ржиржЯрж┐ `bindings` ржирж╛ржорзЗ ржПржХржЯрж┐ рж╕рзЗржХрж╢ржирзЗ ржерж╛ржХрзЗред ржПржХржЯрж┐ binding рж╣рж▓ Azure Functions ржПржмржВ ржЕржирзНржпрж╛ржирзНржп Azure ржкрж░рж┐рж╖рзЗржмрж╛ржЧрзБрж▓рж┐рж░ ржоржзрзНржпрзЗ рж╕ржВржпрзЛржЧрзЗрж░ ржЬржирзНржп ржмрзНржпржмрж╣рзГржд рж╢ржмрзНржжред ржПржЗ ржлрж╛ржВрж╢ржирзЗрж░ ржПржХржЯрж┐ ржЗржиржкрзБржЯ binding рж░ржпрж╝рзЗржЫрзЗ ржПржХржЯрж┐ Event Hub-ржПрж░ рж╕рж╛ржерзЗ - ржПржЯрж┐ Event Hub-ржПрж░ рж╕рж╛ржерзЗ рж╕ржВржпрзЛржЧ ржХрж░рзЗ ржПржмржВ ржбрзЗржЯрж╛ ржЧрзНрж░рж╣ржг ржХрж░рзЗред

    > ЁЯТБ ржЖржкржирж┐ ржЖржЙржЯржкрзБржЯ binding-ржУ рж░рж╛ржЦрждрзЗ ржкрж╛рж░рзЗржи ржпрж╛рждрзЗ ржлрж╛ржВрж╢ржирзЗрж░ ржЖржЙржЯржкрзБржЯ ржЕржирзНржп ржХрзЛржирзЛ ржкрж░рж┐рж╖рзЗржмрж╛ржпрж╝ ржкрж╛ржарж╛ржирзЛ ржпрж╛ржпрж╝ред ржЙржжрж╛рж╣рж░ржгрж╕рзНржмрж░рзВржк, ржЖржкржирж┐ ржПржХржЯрж┐ ржбрж╛ржЯрж╛ржмрзЗрж╕рзЗ ржЖржЙржЯржкрзБржЯ binding ржпрзЛржЧ ржХрж░рждрзЗ ржкрж╛рж░рзЗржи ржПржмржВ ржлрж╛ржВрж╢ржи ржерзЗржХрзЗ IoT Hub ржЗржнрзЗржирзНржЯржЯрж┐ ржлрзЗрж░ржд ржжрж┐рждрзЗ ржкрж╛рж░рзЗржи, ржПржмржВ ржПржЯрж┐ рж╕рзНржмржпрж╝ржВржХрзНрж░рж┐ржпрж╝ржнрж╛ржмрзЗ ржбрж╛ржЯрж╛ржмрзЗрж╕рзЗ ржпрзЛржЧ ржХрж░рж╛ рж╣ржмрзЗред

    тЬЕ ржХрж┐ржЫрзБ ржЧржмрзЗрж╖ржгрж╛ ржХрж░рзБржи: [Azure Functions triggers and bindings concepts ржбржХрзБржорзЗржирзНржЯрзЗрж╢ржирзЗ](https://docs.microsoft.com/azure/azure-functions/functions-triggers-bindings?WT.mc_id=academic-17441-jabenn&tabs=python) bindings рж╕ржорзНржкрж░рзНржХрзЗ ржкржбрж╝рзБржиред

    `bindings` рж╕рзЗржХрж╢ржирзЗ binding-ржПрж░ ржХржиржлрж┐ржЧрж╛рж░рзЗрж╢ржи ржЕржирзНрждрж░рзНржнрзБржХрзНржд ржерж╛ржХрзЗред ржЧрзБрж░рзБрждрзНржмржкрзВрж░рзНржг ржорж╛ржиржЧрзБрж▓рж┐ рж╣рж▓:

  * `"type": "eventHubTrigger"` - ржПржЯрж┐ ржлрж╛ржВрж╢ржиржХрзЗ ржмрж▓рзЗ ржпрзЗ ржПржЯрж┐ Event Hub ржерзЗржХрзЗ ржЗржнрзЗржирзНржЯ рж╢рзБржирждрзЗ рж╣ржмрзЗ
  * `"name": "events"` - ржПржЯрж┐ Event Hub ржЗржнрзЗржирзНржЯржЧрзБрж▓рж┐рж░ ржЬржирзНржп ржмрзНржпржмрж╣рзГржд ржкрзНржпрж╛рж░рж╛ржорж┐ржЯрж╛рж░ ржирж╛ржоред ржПржЯрж┐ Python ржХрзЛржбрзЗ `main` ржлрж╛ржВрж╢ржирзЗрж░ ржкрзНржпрж╛рж░рж╛ржорж┐ржЯрж╛рж░ ржирж╛ржорзЗрж░ рж╕рж╛ржерзЗ ржорзЗрж▓рзЗред
  * `"direction": "in"` - ржПржЯрж┐ ржПржХржЯрж┐ ржЗржиржкрзБржЯ binding, Event Hub ржерзЗржХрзЗ ржбрзЗржЯрж╛ ржлрж╛ржВрж╢ржирзЗ ржЖрж╕рзЗ
  * `"connection": ""` - ржПржЯрж┐ рж╕ржВржпрзЛржЧ рж╕рзНржЯрзНрж░рж┐ржВ ржкржбрж╝рж╛рж░ ржЬржирзНржп рж╕рзЗржЯрж┐ржВрж╕рзЗрж░ ржирж╛ржо рж╕ржВржЬрзНржЮрж╛ржпрж╝рж┐ржд ржХрж░рзЗред рж╕рзНржерж╛ржирзАржпрж╝ржнрж╛ржмрзЗ ржЪрж╛рж▓рж╛ржирзЛрж░ рж╕ржоржпрж╝, ржПржЯрж┐ `local.settings.json` ржлрж╛ржЗрж▓ ржерзЗржХрзЗ ржПржЗ рж╕рзЗржЯрж┐ржВ ржкржбрж╝ржмрзЗред

    > ЁЯТБ рж╕ржВржпрзЛржЧ рж╕рзНржЯрзНрж░рж┐ржВ `function.json` ржлрж╛ржЗрж▓рзЗ рж╕ржВрж░ржХрзНрж╖ржг ржХрж░рж╛ ржпрж╛ржмрзЗ ржирж╛, ржПржЯрж┐ рж╕рзЗржЯрж┐ржВрж╕ ржерзЗржХрзЗ ржкржбрж╝рждрзЗ рж╣ржмрзЗред ржПржЯрж┐ ржЖржкржирж╛рж░ рж╕ржВржпрзЛржЧ рж╕рзНржЯрзНрж░рж┐ржВржЯрж┐ ржжрзБрж░рзНржШржЯржирж╛ржХрзНрж░ржорзЗ ржкрзНрж░ржХрж╛рж╢ рж╣ржУржпрж╝рж╛ ржерзЗржХрзЗ рж░рзЛржз ржХрж░рж╛рж░ ржЬржирзНржпред

1. [Azure Functions ржЯрзЗржоржкрзНрж▓рзЗржЯрзЗ ржПржХржЯрж┐ ржмрж╛ржЧрзЗрж░ ржХрж╛рж░ржгрзЗ](https://github.com/Azure/azure-functions-templates/issues/1250), `function.json` ржлрж╛ржЗрж▓рзЗ `cardinality` ржлрж┐рж▓рзНржбрзЗрж░ ржПржХржЯрж┐ ржнрзБрж▓ ржорж╛ржи рж░ржпрж╝рзЗржЫрзЗред ржПржЗ ржлрж┐рж▓рзНржбржЯрж┐ `many` ржерзЗржХрзЗ `one`-ржП ржЖржкржбрзЗржЯ ржХрж░рзБржи:

    ```json
    "cardinality": "one",
    ```

1. `function.json` ржлрж╛ржЗрж▓рзЗ `"connection"`-ржПрж░ ржорж╛ржиржЯрж┐ ржЖржкржбрзЗржЯ ржХрж░рзБржи ржпрж╛рждрзЗ ржПржЯрж┐ `local.settings.json` ржлрж╛ржЗрж▓рзЗ ржпрзЛржЧ ржХрж░рж╛ ржирждрзБржи ржорж╛ржирзЗрж░ ржжрж┐ржХрзЗ ржирж┐рж░рзНржжрзЗрж╢ ржХрж░рзЗ:

    ```json
    "connection": "IOT_HUB_CONNECTION_STRING",
    ```

    > ЁЯТБ ржоржирзЗ рж░рж╛ржЦржмрзЗржи - ржПржЯрж┐ рж╕рзЗржЯрж┐ржВрж╕рзЗрж░ ржжрж┐ржХрзЗ ржирж┐рж░рзНржжрзЗрж╢ ржХрж░рждрзЗ рж╣ржмрзЗ, ржкрзНрж░ржХрзГржд рж╕ржВржпрзЛржЧ рж╕рзНржЯрзНрж░рж┐ржВ ржзрж╛рж░ржг ржХрж░рждрзЗ рж╣ржмрзЗ ржирж╛ред

1. рж╕ржВржпрзЛржЧ рж╕рзНржЯрзНрж░рж┐ржВ-ржП `eventHubName` ржорж╛ржиржЯрж┐ рж░ржпрж╝рзЗржЫрзЗ, рждрж╛ржЗ `function.json` ржлрж╛ржЗрж▓рзЗ ржПрж░ ржЬржирзНржп ржорж╛ржиржЯрж┐ ржЦрж╛рж▓рж┐ ржХрж░рждрзЗ рж╣ржмрзЗред ржПржЗ ржорж╛ржиржЯрж┐ ржПржХржЯрж┐ ржЦрж╛рж▓рж┐ рж╕рзНржЯрзНрж░рж┐ржВ-ржП ржЖржкржбрзЗржЯ ржХрж░рзБржи:

    ```json
    "eventHubName": "",
    ```

### ржХрж╛ржЬ - ржЗржнрзЗржирзНржЯ ржЯрзНрж░рж┐ржЧрж╛рж░ ржЪрж╛рж▓рж╛ржи

1. ржирж┐рж╢рзНржЪрж┐ржд ржХрж░рзБржи ржпрзЗ ржЖржкржирж┐ IoT Hub ржЗржнрзЗржирзНржЯ ржоржирж┐ржЯрж░ ржЪрж╛рж▓рж╛ржЪрзНржЫрзЗржи ржирж╛ред Functions ржЕрзНржпрж╛ржк ржЪрж╛рж▓рж╛ржирзЛрж░ рж╕ржоржпрж╝ ржПржЯрж┐ ржЪрж╛рж▓рзБ ржерж╛ржХрж▓рзЗ, Functions ржЕрзНржпрж╛ржк рж╕ржВржпрзЛржЧ ржХрж░рждрзЗ ржПржмржВ ржЗржнрзЗржирзНржЯ ржЧрзНрж░рж╣ржг ржХрж░рждрзЗ ржкрж╛рж░ржмрзЗ ржирж╛ред

    > ЁЯТБ ржПржХрж╛ржзрж┐ржХ ржЕрзНржпрж╛ржк IoT Hub ржПржирзНржбржкржпрж╝рзЗржирзНржЯрзЗ ржмрж┐ржнрж┐ржирзНржи *consumer groups* ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ рж╕ржВржпрзЛржЧ ржХрж░рждрзЗ ржкрж╛рж░рзЗред ржПржЯрж┐ ржПржХржЯрж┐ ржкрж░ржмрж░рзНрждрзА ржкрж╛ржарзЗ ржЖрж▓рзЛржЪржирж╛ ржХрж░рж╛ рж╣ржмрзЗред

1. Functions ржЕрзНржпрж╛ржк ржЪрж╛рж▓рж╛ржирзЛрж░ ржЬржирзНржп, VS Code ржЯрж╛рж░рзНржорж┐ржирж╛рж▓ ржерзЗржХрзЗ ржирж┐ржЪрзЗрж░ ржХржорж╛ржирзНржбржЯрж┐ ржЪрж╛рж▓рж╛ржи:

    ```sh
    func start
    ```

    Functions ржЕрзНржпрж╛ржкржЯрж┐ ржЪрж╛рж▓рзБ рж╣ржмрзЗ ржПржмржВ `iot-hub-trigger` ржлрж╛ржВрж╢ржиржЯрж┐ ржЖржмрж┐рж╖рзНржХрж╛рж░ ржХрж░ржмрзЗред ржПржЯрж┐ IoT Hub-ржП ржЧржд ржПржХ ржжрж┐ржирзЗ ржкрж╛ржарж╛ржирзЛ ржпрзЗржХрзЛржи ржЗржнрзЗржирзНржЯ ржкрзНрж░ржХрзНрж░рж┐ржпрж╝рж╛ ржХрж░ржмрзЗред

    ```output
    (.venv) тЮЬ  soil-moisture-trigger func start
    Found Python version 3.9.1 (python3).
    
    Azure Functions Core Tools
    Core Tools Version:       3.0.3442 Commit hash: 6bfab24b2743f8421475d996402c398d2fe4a9e0  (64-bit)
    Function Runtime Version: 3.0.15417.0
    
    Functions:
    
            iot-hub-trigger: eventHubTrigger
    
    For detailed output, run func with --verbose flag.
    [2021-05-05T02:44:07.517Z] Worker process started and initialized.
    [2021-05-05T02:44:09.202Z] Executing 'Functions.iot-hub-trigger' (Reason='(null)', Id=802803a5-eae9-4401-a1f4-176631456ce4)
    [2021-05-05T02:44:09.205Z] Trigger Details: PartitionId: 0, Offset: 1011240-1011632, EnqueueTimeUtc: 2021-05-04T19:04:04.2030000Z-2021-05-04T19:04:04.3900000Z, SequenceNumber: 2546-2547, Count: 2
    [2021-05-05T02:44:09.352Z] Python EventHub trigger processed an event: {"soil_moisture":628}
    [2021-05-05T02:44:09.354Z] Python EventHub trigger processed an event: {"soil_moisture":624}
    [2021-05-05T02:44:09.395Z] Executed 'Functions.iot-hub-trigger' (Succeeded, Id=802803a5-eae9-4401-a1f4-176631456ce4, Duration=245ms)
    ```

    ржкрзНрж░рждрж┐ржЯрж┐ ржлрж╛ржВрж╢ржи ржХрж▓ `Executing 'Functions.iot-hub-trigger'`/`Executed 'Functions.iot-hub-trigger'` ржмрзНрж▓ржХрзЗрж░ ржоржзрзНржпрзЗ ржерж╛ржХржмрзЗ, ржпрж╛рждрзЗ ржЖржкржирж┐ ржкрзНрж░рждрж┐ржЯрж┐ ржлрж╛ржВрж╢ржи ржХрж▓рзЗ ржХрждржЧрзБрж▓рж┐ ржмрж╛рж░рзНрждрж╛ ржкрзНрж░ржХрзНрж░рж┐ржпрж╝рж╛ рж╣ржпрж╝рзЗржЫрзЗ рждрж╛ ржжрзЗржЦрждрзЗ ржкрж╛рж░рзЗржиред

1. ржирж┐рж╢рзНржЪрж┐ржд ржХрж░рзБржи ржпрзЗ ржЖржкржирж╛рж░ IoT ржбрж┐ржнрж╛ржЗрж╕ ржЪрж╛рж▓рзБ рж░ржпрж╝рзЗржЫрзЗред ржЖржкржирж┐ Functions ржЕрзНржпрж╛ржкрзЗ ржирждрзБржи soil moisture ржмрж╛рж░рзНрждрж╛ ржжрзЗржЦрждрзЗ ржкрж╛ржмрзЗржиред

1. Functions ржЕрзНржпрж╛ржк ржмржирзНржз ржХрж░рзБржи ржПржмржВ ржкрзБржирж░рж╛ржпрж╝ ржЪрж╛рж▓рзБ ржХрж░рзБржиред ржЖржкржирж┐ ржжрзЗржЦржмрзЗржи ржпрзЗ ржПржЯрж┐ ржкрзВрж░рзНржмржмрж░рзНрждрзА ржмрж╛рж░рзНрждрж╛ржЧрзБрж▓рж┐ ржкрзБржирж░рж╛ржпрж╝ ржкрзНрж░ржХрзНрж░рж┐ржпрж╝рж╛ ржХрж░ржмрзЗ ржирж╛, ржПржЯрж┐ рж╢рзБржзрзБржорж╛рждрзНрж░ ржирждрзБржи ржмрж╛рж░рзНрждрж╛ржЧрзБрж▓рж┐ ржкрзНрж░ржХрзНрж░рж┐ржпрж╝рж╛ ржХрж░ржмрзЗред

> ЁЯТБ VS Code ржЖржкржирж╛рж░ Functions ржбрж┐ржмрж╛ржЧ ржХрж░рждрзЗржУ рж╕ржорж░рзНржержи ржХрж░рзЗред ржЖржкржирж┐ ржкрзНрж░рждрж┐ржЯрж┐ ржХрзЛржб рж▓рж╛ржЗржирзЗрж░ рж╢рзБрж░рзБрждрзЗ ржмрж░рзНржбрж╛рж░рзЗ ржХрзНрж▓рж┐ржХ ржХрж░рзЗ ржмрзНрж░рзЗржХ ржкржпрж╝рзЗржирзНржЯ рж╕рзЗржЯ ржХрж░рждрзЗ ржкрж╛рж░рзЗржи, ржЕржержмрж╛ ржХрзЛржб рж▓рж╛ржЗржирзЗ ржХрж╛рж░рзНрж╕рж░ рж░рзЗржЦрзЗ *Run -> Toggle breakpoint* ржирж┐рж░рзНржмрж╛ржЪржи ржХрж░рждрзЗ ржкрж╛рж░рзЗржи, ржЕржержмрж╛ `F9` ржЪрж╛ржкрждрзЗ ржкрж╛рж░рзЗржиред ржЖржкржирж┐ *Run -> Start debugging* ржирж┐рж░рзНржмрж╛ржЪржи ржХрж░рзЗ, `F5` ржЪрж╛ржк ржжрж┐ржпрж╝рзЗ, ржЕржержмрж╛ *Run and debug* ржкрзНржпрж╛ржи ржерзЗржХрзЗ **Start debugging** ржмрзЛрждрж╛ржоржЯрж┐ ржирж┐рж░рзНржмрж╛ржЪржи ржХрж░рзЗ ржбрж┐ржмрж╛ржЧрж╛рж░ ржЪрж╛рж▓рзБ ржХрж░рждрзЗ ржкрж╛рж░рзЗржиред ржПржЯрж┐ ржХрж░рзЗ ржЖржкржирж┐ ржкрзНрж░ржХрзНрж░рж┐ржпрж╝рж╛ржХрзГржд ржЗржнрзЗржирзНржЯржЧрзБрж▓рж┐рж░ ржмрж┐рж╕рзНрждрж╛рж░рж┐ржд ржжрзЗржЦрждрзЗ ржкрж╛рж░ржмрзЗржиред

#### рж╕ржорж╕рзНржпрж╛ рж╕ржорж╛ржзрж╛ржи

* ржпржжрж┐ ржЖржкржирж┐ ржирж┐ржЪрзЗрж░ рждрзНрж░рзБржЯрж┐ ржкрж╛ржи:

    ```output
    The listener for function 'Functions.iot-hub-trigger' was unable to start. Microsoft.WindowsAzure.Storage: Connection refused. System.Net.Http: Connection refused. System.Private.CoreLib: Connection refused.
    ```

    ржирж┐рж╢рзНржЪрж┐ржд ржХрж░рзБржи ржпрзЗ Azurite ржЪрж╛рж▓рзБ рж░ржпрж╝рзЗржЫрзЗ ржПржмржВ ржЖржкржирж┐ `local.settings.json` ржлрж╛ржЗрж▓рзЗ `AzureWebJobsStorage`-ржП `UseDevelopmentStorage=true` рж╕рзЗржЯ ржХрж░рзЗржЫрзЗржиред

* ржпржжрж┐ ржЖржкржирж┐ ржирж┐ржЪрзЗрж░ рждрзНрж░рзБржЯрж┐ ржкрж╛ржи:

    ```output
    System.Private.CoreLib: Exception while executing function: Functions.iot-hub-trigger. System.Private.CoreLib: Result: Failure Exception: AttributeError: 'list' object has no attribute 'get_body'
    ```

    ржирж┐рж╢рзНржЪрж┐ржд ржХрж░рзБржи ржпрзЗ ржЖржкржирж┐ `function.json` ржлрж╛ржЗрж▓рзЗ `cardinality`-ржХрзЗ `one`-ржП рж╕рзЗржЯ ржХрж░рзЗржЫрзЗржиред

* ржпржжрж┐ ржЖржкржирж┐ ржирж┐ржЪрзЗрж░ рждрзНрж░рзБржЯрж┐ ржкрж╛ржи:

    ```output
    Azure.Messaging.EventHubs: The path to an Event Hub may be specified as part of the connection string or as a separate value, but not both.  Please verify that your connection string does not have the `EntityPath` token if you are passing an explicit Event Hub name. (Parameter 'connectionString').
    ```

    ржирж┐рж╢рзНржЪрж┐ржд ржХрж░рзБржи ржпрзЗ ржЖржкржирж┐ `function.json` ржлрж╛ржЗрж▓рзЗ `eventHubName`-ржХрзЗ ржПржХржЯрж┐ ржЦрж╛рж▓рж┐ рж╕рзНржЯрзНрж░рж┐ржВ-ржП рж╕рзЗржЯ ржХрж░рзЗржЫрзЗржиред

## рж╕рж╛рж░рзНржнрж╛рж░рж▓рзЗрж╕ ржХрзЛржб ржерзЗржХрзЗ рж╕рж░рж╛рж╕рж░рж┐ ржорзЗржержб рж░рж┐ржХрзЛржпрж╝рзЗрж╕рзНржЯ ржкрж╛ржарж╛ржи

ржПржЦржи ржкрж░рзНржпржирзНржд ржЖржкржирж╛рж░ Functions ржЕрзНржпрж╛ржк IoT Hub ржерзЗржХрзЗ Event Hub ржХржорзНржкрзНржпрж╛ржЯрж┐ржмрж▓ ржПржирзНржбржкржпрж╝рзЗржирзНржЯ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ ржмрж╛рж░рзНрждрж╛ рж╢рзБржиржЫрзЗред ржПржЦржи ржЖржкржирж╛ржХрзЗ IoT ржбрж┐ржнрж╛ржЗрж╕рзЗ ржХржорж╛ржирзНржб ржкрж╛ржарж╛рждрзЗ рж╣ржмрзЗред ржПржЯрж┐ IoT Hub-ржП ржПржХржЯрж┐ ржнрж┐ржирзНржи рж╕ржВржпрзЛржЧ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ *Registry Manager*-ржПрж░ ржорж╛ржзрзНржпржорзЗ ржХрж░рж╛ рж╣ржпрж╝ред Registry Manager ржПржХржЯрж┐ ржЯрзБрж▓ ржпрж╛ ржЖржкржирж╛ржХрзЗ IoT Hub-ржП ржирж┐ржмржирзНржзрж┐ржд ржбрж┐ржнрж╛ржЗрж╕ржЧрзБрж▓рж┐ ржжрзЗржЦрждрзЗ ржПржмржВ рж╕рзЗржЗ ржбрж┐ржнрж╛ржЗрж╕ржЧрзБрж▓рж┐рж░ рж╕рж╛ржерзЗ ржХрзНрж▓рж╛ржЙржб ржерзЗржХрзЗ ржбрж┐ржнрж╛ржЗрж╕рзЗ ржмрж╛рж░рзНрждрж╛ ржкрж╛ржарж╛ржирзЛ, рж╕рж░рж╛рж╕рж░рж┐ ржорзЗржержб рж░рж┐ржХрзЛржпрж╝рзЗрж╕рзНржЯ ржкрж╛ржарж╛ржирзЛ ржмрж╛ ржбрж┐ржнрж╛ржЗрж╕ ржЯрзБржЗржи ржЖржкржбрзЗржЯ ржХрж░рж╛рж░ ржорж╛ржзрзНржпржорзЗ ржпрзЛржЧрж╛ржпрзЛржЧ ржХрж░рждрзЗ ржжрзЗржпрж╝ред ржПржЯрж┐ IoT Hub ржерзЗржХрзЗ ржбрж┐ржнрж╛ржЗрж╕ ржирж┐ржмржирзНржзржи, ржЖржкржбрзЗржЯ ржмрж╛ ржорзБржЫрзЗ ржлрзЗрж▓рждрзЗржУ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж╛ ржпрж╛ржпрж╝ред

Registry Manager-ржП рж╕ржВржпрзЛржЧ ржХрж░рждрзЗ, ржЖржкржирж╛ржХрзЗ ржПржХржЯрж┐ рж╕ржВржпрзЛржЧ рж╕рзНржЯрзНрж░рж┐ржВ ржкрзНрж░ржпрж╝рзЛржЬржиред

### ржХрж╛ржЬ - Registry Manager рж╕ржВржпрзЛржЧ рж╕рзНржЯрзНрж░рж┐ржВ ржкрж╛ржи

1. рж╕ржВржпрзЛржЧ рж╕рзНржЯрзНрж░рж┐ржВ ржкрзЗрждрзЗ, ржирж┐ржЪрзЗрж░ ржХржорж╛ржирзНржбржЯрж┐ ржЪрж╛рж▓рж╛ржи:

    ```sh
    az iot hub connection-string show --policy-name service \
                                      --output table \
                                      --hub-name <hub_name>
    ```

    `<hub_name>`-ржПрж░ ржЬрж╛ржпрж╝ржЧрж╛ржпрж╝ ржЖржкржирж╛рж░ IoT Hub-ржПрж░ ржирж╛ржо ржжрж┐ржиред

    рж╕ржВржпрзЛржЧ рж╕рзНржЯрзНрж░рж┐ржВржЯрж┐ *ServiceConnect* ржкрж▓рж┐рж╕рж┐рж░ ржЬржирзНржп ржЕржирзБрж░рзЛржз ржХрж░рж╛ рж╣ржпрж╝ `--policy-name service` ржкрзНржпрж╛рж░рж╛ржорж┐ржЯрж╛рж░ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗред ржпржЦржи ржЖржкржирж┐ ржПржХржЯрж┐ рж╕ржВржпрзЛржЧ рж╕рзНржЯрзНрж░рж┐ржВ ржЕржирзБрж░рзЛржз ржХрж░рзЗржи, ржЖржкржирж┐ ржирж┐рж░рзНржжрж┐рж╖рзНржЯ ржХрж░рждрзЗ ржкрж╛рж░рзЗржи ржпрзЗ ржПржЗ рж╕ржВржпрзЛржЧ рж╕рзНржЯрзНрж░рж┐ржВржЯрж┐ ржХрзА ржЕржирзБржорждрж┐ ржжрзЗржмрзЗред ServiceConnect ржкрж▓рж┐рж╕рж┐ ржЖржкржирж╛рж░ ржХрзЛржбржХрзЗ IoT ржбрж┐ржнрж╛ржЗрж╕ржЧрзБрж▓рж┐рждрзЗ ржмрж╛рж░рзНрждрж╛ ржкрж╛ржарж╛ржирзЛрж░ ржЕржирзБржорждрж┐ ржжрзЗржпрж╝ред

    тЬЕ ржХрж┐ржЫрзБ ржЧржмрзЗрж╖ржгрж╛ ржХрж░рзБржи: [IoT Hub permissions ржбржХрзБржорзЗржирзНржЯрзЗрж╢ржирзЗ](https://docs.microsoft.com/azure/iot-hub/iot-hub-devguide-security#iot-hub-permissions?WT.mc_id=academic-17441-jabenn) ржмрж┐ржнрж┐ржирзНржи ржкрж▓рж┐рж╕рж┐ рж╕ржорзНржкрж░рзНржХрзЗ ржкржбрж╝рзБржиред

1. VS Code-ржП `local.settings.json` ржлрж╛ржЗрж▓ржЯрж┐ ржЦрзБрж▓рзБржиред `Values` рж╕рзЗржХрж╢ржирзЗрж░ ржоржзрзНржпрзЗ ржирж┐ржЪрзЗрж░ ржЕрждрж┐рж░рж┐ржХрзНржд ржорж╛ржиржЯрж┐ ржпрзЛржЧ ржХрж░рзБржи:

    ```json
    "REGISTRY_MANAGER_CONNECTION_STRING": "<connection string>"
    ```

    `<connection string>`-ржПрж░ ржЬрж╛ржпрж╝ржЧрж╛ржпрж╝ ржЖржЧрзЗрж░ ржзрж╛ржкрзЗ ржкрзНрж░рж╛ржкрзНржд ржорж╛ржиржЯрж┐ ржжрж┐ржиред ржПржЯрж┐ ржмрзИржз JSON ржХрж░рждрзЗ ржЙржкрж░рзЗрж░ рж▓рж╛ржЗржирзЗрж░ ржкрж░рзЗ ржПржХржЯрж┐ ржХржорж╛ ржпрзЛржЧ ржХрж░рждрзЗ рж╣ржмрзЗред

### ржХрж╛ржЬ - ржПржХржЯрж┐ ржбрж┐ржнрж╛ржЗрж╕рзЗ рж╕рж░рж╛рж╕рж░рж┐ ржорзЗржержб рж░рж┐ржХрзЛржпрж╝рзЗрж╕рзНржЯ ржкрж╛ржарж╛ржи

1. Registry Manager-ржПрж░ SDK ржПржХржЯрж┐ Pip ржкрзНржпрж╛ржХрзЗржЬрзЗрж░ ржорж╛ржзрзНржпржорзЗ ржЙржкрж▓ржмрзНржзред `requirements.txt` ржлрж╛ржЗрж▓рзЗ ржирж┐ржЪрзЗрж░ рж▓рж╛ржЗржиржЯрж┐ ржпрзЛржЧ ржХрж░рзБржи ржПржЗ ржкрзНржпрж╛ржХрзЗржЬрзЗрж░ ржЙржкрж░ ржирж┐рж░рзНржнрж░рждрж╛ ржпрзЛржЧ ржХрж░рждрзЗ:

    ```sh
    azure-iot-hub
    ```

1. ржирж┐рж╢рзНржЪрж┐ржд ржХрж░рзБржи ржпрзЗ VS Code ржЯрж╛рж░рзНржорж┐ржирж╛рж▓рзЗ ржнрж╛рж░рзНржЪрзБржпрж╝рж╛рж▓ ржПржиржнрж╛ржпрж╝рж░ржиржорзЗржирзНржЯ рж╕ржХрзНрж░рж┐ржпрж╝ рж░ржпрж╝рзЗржЫрзЗ, ржПржмржВ Pip ржкрзНржпрж╛ржХрзЗржЬржЧрзБрж▓рж┐ ржЗржирж╕рзНржЯрж▓ ржХрж░рждрзЗ ржирж┐ржЪрзЗрж░ ржХржорж╛ржирзНржбржЯрж┐ ржЪрж╛рж▓рж╛ржи:

    ```sh
    pip install -r requirements.txt
    ```

1. `__init__.py` ржлрж╛ржЗрж▓рзЗ ржирж┐ржЪрзЗрж░ ржЗржоржкрзЛрж░рзНржЯржЧрзБрж▓рж┐ ржпрзЛржЧ ржХрж░рзБржи:

    ```python
    import json
    import os
    from azure.iot.hub import IoTHubRegistryManager
    from azure.iot.hub.models import CloudToDeviceMethod
    ```

    ржПржЯрж┐ ржХрж┐ржЫрзБ рж╕рж┐рж╕рзНржЯрзЗржо рж▓рж╛ржЗржмрзНрж░рзЗрж░рж┐, Registry Manager-ржПрж░ рж╕рж╛ржерзЗ ржЗржирзНржЯрж╛рж░ржЕрзНржпрж╛ржХрзНржЯ ржХрж░рж╛рж░ рж▓рж╛ржЗржмрзНрж░рзЗрж░рж┐ ржПржмржВ рж╕рж░рж╛рж╕рж░рж┐ ржорзЗржержб рж░рж┐ржХрзЛржпрж╝рзЗрж╕рзНржЯ ржкрж╛ржарж╛ржирзЛрж░ рж▓рж╛ржЗржмрзНрж░рзЗрж░рж┐ ржЗржоржкрзЛрж░рзНржЯ ржХрж░рзЗред

1. `main` ржорзЗржержбрзЗрж░ ржнрж┐рждрж░рзЗрж░ ржХрзЛржбржЯрж┐ рж╕рж░рж┐ржпрж╝рзЗ ржлрзЗрж▓рзБржи, рждржмрзЗ ржорзЗржержбржЯрж┐ рж░рзЗржЦрзЗ ржжрж┐ржиред

1. `main` ржорзЗржержбрзЗ ржирж┐ржЪрзЗрж░ ржХрзЛржбржЯрж┐ ржпрзЛржЧ ржХрж░рзБржи:

    ```python
    body = json.loads(event.get_body().decode('utf-8'))
    device_id = event.iothub_metadata['connection-device-id']

    logging.info(f'Received message: {body} from {device_id}')
    ```

    ржПржЗ ржХрзЛржбржЯрж┐ ржЗржнрзЗржирзНржЯрзЗрж░ ржмржбрж┐ ржерзЗржХрзЗ IoT ржбрж┐ржнрж╛ржЗрж╕ ржжрзНржмрж╛рж░рж╛ ржкрж╛ржарж╛ржирзЛ JSON ржмрж╛рж░рзНрждрж╛ржЯрж┐ ржмрзЗрж░ ржХрж░рзЗред

    ржПржЯрж┐ ржмрж╛рж░рзНрждрж╛рж░ рж╕рж╛ржерзЗ ржкрж╛ржарж╛ржирзЛ ржЕрзНржпрж╛ржирзЛржЯрзЗрж╢ржи ржерзЗржХрзЗ ржбрж┐ржнрж╛ржЗрж╕ ржЖржЗржбрж┐ ржкрж╛ржпрж╝ред ржЗржнрзЗржирзНржЯрзЗрж░ ржмржбрж┐ ржЯрзЗрж▓рж┐ржорзЗржЯрзНрж░рж┐ рж╣рж┐рж╕рзЗржмрзЗ ржкрж╛ржарж╛ржирзЛ ржмрж╛рж░рзНрждрж╛ржЯрж┐ ржзрж╛рж░ржг ржХрж░рзЗ, ржПржмржВ `iothub_metadata` ржбрж┐ржХрж╢ржирж╛рж░рж┐ IoT Hub ржжрзНржмрж╛рж░рж╛ рж╕рзЗржЯ ржХрж░рж╛ ржкрзНрж░рзЛржкрж╛рж░рзНржЯрж┐ ржпрзЗржоржи ржмрж╛рж░рзНрждрж╛ ржкрзНрж░рзЗрж░ржгржХрж╛рж░рзА ржбрж┐ржнрж╛ржЗрж╕рзЗрж░ ржЖржЗржбрж┐ ржПржмржВ ржмрж╛рж░рзНрждрж╛ ржкрзНрж░рзЗрж░ржгрзЗрж░ рж╕ржоржпрж╝ ржзрж╛рж░ржг ржХрж░рзЗред

    ржПржЗ рждржерзНржпржЯрж┐ рж▓ржЧ ржХрж░рж╛ рж╣ржпрж╝ред Functions ржЕрзНржпрж╛ржкржЯрж┐ рж╕рзНржерж╛ржирзАржпрж╝ржнрж╛ржмрзЗ ржЪрж╛рж▓рж╛ржирзЛрж░ рж╕ржоржпрж╝ ржЖржкржирж┐ ржПржЗ рж▓ржЧрж┐ржВржЯрж┐ ржЯрж╛рж░рзНржорж┐ржирж╛рж▓рзЗ ржжрзЗржЦрждрзЗ ржкрж╛ржмрзЗржиред

1. ржПрж░ ржирж┐ржЪрзЗ ржирж┐ржЪрзЗрж░ ржХрзЛржбржЯрж┐ ржпрзЛржЧ ржХрж░рзБржи:

    ```python
    soil_moisture = body['soil_moisture']

    if soil_moisture > 450:
        direct_method = CloudToDeviceMethod(method_name='relay_on', payload='{}')
    else:
        direct_method = CloudToDeviceMethod(method_name='relay_off', payload='{}')
    ```

    ржПржЗ ржХрзЛржбржЯрж┐ ржмрж╛рж░рзНрждрж╛ ржерзЗржХрзЗ soil moisture ржмрзЗрж░ ржХрж░рзЗред ржПржЯрж┐ рждрж╛рж░ржкрж░ soil moisture ржЪрзЗржХ ржХрж░рзЗ ржПржмржВ ржорж╛ржирзЗрж░ ржЙржкрж░ ржнрж┐рждрзНрждрж┐ ржХрж░рзЗ `relay_on` ржмрж╛ `relay_off` рж╕рж░рж╛рж╕рж░рж┐ ржорзЗржержб рж░рж┐ржХрзЛржпрж╝рзЗрж╕рзНржЯрзЗрж░ ржЬржирзНржп ржПржХржЯрж┐ рж╣рзЗрж▓рзНржкрж╛рж░ ржХрзНрж▓рж╛рж╕ рждрзИрж░рж┐ ржХрж░рзЗред ржорзЗржержб рж░рж┐ржХрзЛржпрж╝рзЗрж╕рзНржЯрзЗ ржХрзЛржирзЛ payload ржкрзНрж░ржпрж╝рзЛржЬржи рж╣ржпрж╝ ржирж╛, рждрж╛ржЗ ржПржХржЯрж┐ ржЦрж╛рж▓рж┐ JSON ржбржХрзБржорзЗржирзНржЯ ржкрж╛ржарж╛ржирзЛ рж╣ржпрж╝ред

1. ржПрж░ ржирж┐ржЪрзЗ ржирж┐ржЪрзЗрж░ ржХрзЛржбржЯрж┐ ржпрзЛржЧ ржХрж░рзБржи:

    ```python
    logging.info(f'Sending direct method request for {direct_method.method_name} for device {device_id}')

    registry_manager_connection_string = os.environ['REGISTRY_MANAGER_CONNECTION_STRING']
    registry_manager = IoTHubRegistryManager(registry_manager_connection_string)
    ```
ржПржЗ ржХрзЛржбржЯрж┐ `local.settings.json` ржлрж╛ржЗрж▓ ржерзЗржХрзЗ `REGISTRY_MANAGER_CONNECTION_STRING` рж▓рзЛржб ржХрж░рзЗред ржПржЗ ржлрж╛ржЗрж▓рзЗрж░ ржорж╛ржиржЧрзБрж▓рзЛ ржкрж░рж┐ржмрзЗрж╢ ржнрзЗрж░рж┐ржпрж╝рзЗржмрж▓ рж╣рж┐рж╕рзЗржмрзЗ ржЙржкрж▓ржмрзНржз рж╣ржпрж╝ ржПржмржВ рж╕рзЗржЧрзБрж▓рзЛ `os.environ` ржлрж╛ржВрж╢ржи ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ ржкржбрж╝рж╛ ржпрж╛ржпрж╝, ржпрж╛ рж╕ржорж╕рзНржд ржкрж░рж┐ржмрзЗрж╢ ржнрзЗрж░рж┐ржпрж╝рзЗржмрж▓рзЗрж░ ржПржХржЯрж┐ ржбрж┐ржХрж╢ржирж╛рж░рж┐ ржкрзНрж░ржжрж╛ржи ржХрж░рзЗред

> ЁЯТБ ржпржЦржи ржПржЗ ржХрзЛржбржЯрж┐ ржХрзНрж▓рж╛ржЙржбрзЗ ржбрж┐ржкрзНрж▓ржпрж╝ ржХрж░рж╛ рж╣ржпрж╝, рждржЦржи `local.settings.json` ржлрж╛ржЗрж▓рзЗрж░ ржорж╛ржиржЧрзБрж▓рзЛ *Application Settings* рж╣рж┐рж╕рзЗржмрзЗ рж╕рзЗржЯ ржХрж░рж╛ рж╣ржпрж╝ ржПржмржВ рж╕рзЗржЧрзБрж▓рзЛ ржкрж░рж┐ржмрзЗрж╢ ржнрзЗрж░рж┐ржпрж╝рзЗржмрж▓ ржерзЗржХрзЗ ржкржбрж╝рж╛ ржпрж╛ржпрж╝ред

ржПрж░ржкрж░ ржХрзЛржбржЯрж┐ рж╕ржВржпрзЛржЧ рж╕рзНржЯрзНрж░рж┐ржВ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ Registry Manager рж╣рзЗрж▓рзНржкрж╛рж░ ржХрзНрж▓рж╛рж╕рзЗрж░ ржПржХржЯрж┐ ржЗржирж╕рзНржЯрзНржпрж╛ржирзНрж╕ рждрзИрж░рж┐ ржХрж░рзЗред

1. ржПрж░ ржирж┐ржЪрзЗ ржирж┐ржЪрзЗрж░ ржХрзЛржбржЯрж┐ ржпрзЛржЧ ржХрж░рзБржи:

    ```python
    registry_manager.invoke_device_method(device_id, direct_method)

    logging.info('Direct method request sent!')
    ```

    ржПржЗ ржХрзЛржбржЯрж┐ рж░рзЗржЬрж┐рж╕рзНржЯрзНрж░рж┐ ржорзНржпрж╛ржирзЗржЬрж╛рж░ржХрзЗ ржЯрзЗрж▓рж┐ржорзЗржЯрзНрж░рж┐ ржкрж╛ржарж╛ржирзЛ ржбрж┐ржнрж╛ржЗрж╕ржЯрж┐рждрзЗ рж╕рж░рж╛рж╕рж░рж┐ ржорзЗржержб рж░рж┐ржХрзЛржпрж╝рзЗрж╕рзНржЯ ржкрж╛ржарж╛рждрзЗ ржмрж▓рзЗред

    > ЁЯТБ ржкрзВрж░рзНржмржмрж░рзНрждрзА ржкрж╛ржарзЗ рждрзИрж░рж┐ ржХрж░рж╛ ржЕрзНржпрж╛ржкрзЗрж░ рж╕ржВрж╕рзНржХрж░ржгржЧрзБрж▓рзЛрждрзЗ, ржпрзЗржЦрж╛ржирзЗ MQTT ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж╛ рж╣ржпрж╝рзЗржЫрж┐рж▓, рж░рж┐рж▓рзЗ ржирж┐ржпрж╝ржирзНрждрзНрж░ржг ржХржорж╛ржирзНржбржЧрзБрж▓рзЛ рж╕ржм ржбрж┐ржнрж╛ржЗрж╕рзЗ ржкрж╛ржарж╛ржирзЛ рж╣рждрзЛред ржХрзЛржбржЯрж┐ ржзрж░рзЗ ржирж┐ржд ржпрзЗ ржЖржкржирж╛рж░ ржХрзЗржмрж▓ ржПржХржЯрж┐ ржбрж┐ржнрж╛ржЗрж╕ ржЖржЫрзЗред ржПржЗ рж╕ржВрж╕рзНржХрж░ржгржЯрж┐ ржПржХржЯрж┐ ржирж┐рж░рзНржжрж┐рж╖рзНржЯ ржбрж┐ржнрж╛ржЗрж╕рзЗ ржорзЗржержб рж░рж┐ржХрзЛржпрж╝рзЗрж╕рзНржЯ ржкрж╛ржарж╛ржпрж╝, рждрж╛ржЗ ржПржЯрж┐ ржПржХрж╛ржзрж┐ржХ ржоржпрж╝рзЗрж╢рзНржЪрж╛рж░ рж╕рзЗржирзНрж╕рж░ ржПржмржВ рж░рж┐рж▓рзЗ рж╕рзЗржЯржЖржк ржерж╛ржХрж▓рзЗржУ ржХрж╛ржЬ ржХрж░ржмрзЗ, рж╕ржарж┐ржХ ржбрж┐ржнрж╛ржЗрж╕рзЗ рж╕ржарж┐ржХ ржорзЗржержб рж░рж┐ржХрзЛржпрж╝рзЗрж╕рзНржЯ ржкрж╛ржарж╛ржмрзЗред

1. Functions ржЕрзНржпрж╛ржк ржЪрж╛рж▓рж╛ржи ржПржмржВ ржирж┐рж╢рзНржЪрж┐ржд ржХрж░рзБржи ржпрзЗ ржЖржкржирж╛рж░ IoT ржбрж┐ржнрж╛ржЗрж╕ ржбрзЗржЯрж╛ ржкрж╛ржарж╛ржЪрзНржЫрзЗред ржЖржкржирж┐ ржмрж╛рж░рзНрждрж╛ржЧрзБрж▓рзЛ ржкрзНрж░ржХрзНрж░рж┐ржпрж╝рж╛ржХрзГржд рж╣рждрзЗ ржПржмржВ рж╕рж░рж╛рж╕рж░рж┐ ржорзЗржержб рж░рж┐ржХрзЛржпрж╝рзЗрж╕рзНржЯ ржкрж╛ржарж╛ржирзЛ рж╣рждрзЗ ржжрзЗржЦржмрзЗржиред ржорж╛ржЯрж┐рж░ ржнрзЗржЬрж╛ рж╕рзЗржирзНрж╕рж░ржЯрж┐ ржорж╛ржЯрж┐рж░ ржнрж┐рждрж░рзЗ ржПржмржВ ржмрж╛ржЗрж░рзЗ рж╕рж░рж╛ржи ржПржмржВ ржжрзЗржЦрзБржи ржорж╛ржиржЧрзБрж▓рзЛ ржкрж░рж┐ржмрж░рзНрждрж┐ржд рж╣ржЪрзНржЫрзЗ ржПржмржВ рж░рж┐рж▓рзЗ ржЪрж╛рж▓рзБ ржУ ржмржирзНржз рж╣ржЪрзНржЫрзЗред

> ЁЯТБ ржЖржкржирж┐ ржПржЗ ржХрзЛржбржЯрж┐ [code/functions](../../../../../2-farm/lessons/5-migrate-application-to-the-cloud/code/functions) ржлрзЛрж▓рзНржбрж╛рж░рзЗ ржЦрзБржБржЬрзЗ ржкрзЗрждрзЗ ржкрж╛рж░рзЗржиред

## ржЖржкржирж╛рж░ рж╕рж╛рж░рзНржнрж╛рж░рж▓рзЗрж╕ ржХрзЛржб ржХрзНрж▓рж╛ржЙржбрзЗ ржбрж┐ржкрзНрж▓ржпрж╝ ржХрж░рзБржи

ржЖржкржирж╛рж░ ржХрзЛржб ржПржЦржи рж▓рзЛржХрж╛рж▓ржнрж╛ржмрзЗ ржХрж╛ржЬ ржХрж░ржЫрзЗ, рждрж╛ржЗ ржкрж░ржмрж░рзНрждрзА ржзрж╛ржк рж╣рж▓рзЛ Functions ржЕрзНржпрж╛ржкржЯрж┐ ржХрзНрж▓рж╛ржЙржбрзЗ ржбрж┐ржкрзНрж▓ржпрж╝ ржХрж░рж╛ред

### ржЯрж╛рж╕рзНржХ - ржХрзНрж▓рж╛ржЙржб рж░рж┐рж╕рзЛрж░рзНрж╕ рждрзИрж░рж┐ ржХрж░рзБржи

ржЖржкржирж╛рж░ Functions ржЕрзНржпрж╛ржкржЯрж┐ Azure-ржП ржПржХржЯрж┐ Functions App рж░рж┐рж╕рзЛрж░рзНрж╕рзЗ ржбрж┐ржкрзНрж▓ржпрж╝ ржХрж░рждрзЗ рж╣ржмрзЗ, ржпрж╛ ржЖржкржирж╛рж░ IoT Hub-ржПрж░ ржЬржирзНржп рждрзИрж░рж┐ ржХрж░рж╛ Resource Group-ржПрж░ ржнрж┐рждрж░рзЗ ржерж╛ржХржмрзЗред ржПржЫрж╛ржбрж╝рж╛ржУ, Azure-ржП ржПржХржЯрж┐ Storage Account рждрзИрж░рж┐ ржХрж░рждрзЗ рж╣ржмрзЗ рж▓рзЛржХрж╛рж▓ ржПржорзБрж▓рзЗржЯрзЗржб рж╕рзНржЯрзЛрж░рзЗржЬржЯрж┐ ржкрзНрж░рждрж┐рж╕рзНржерж╛ржкржи ржХрж░рж╛рж░ ржЬржирзНржпред

1. ржПржХржЯрж┐ рж╕рзНржЯрзЛрж░рзЗржЬ ржЕрзНржпрж╛ржХрж╛ржЙржирзНржЯ рждрзИрж░рж┐ ржХрж░рждрзЗ ржирж┐ржЪрзЗрж░ ржХржорж╛ржирзНржбржЯрж┐ ржЪрж╛рж▓рж╛ржи:

    ```sh
    az storage account create --resource-group soil-moisture-sensor \
                              --sku Standard_LRS \
                              --name <storage_name> 
    ```

    `<storage_name>`-ржПрж░ ржЬрж╛ржпрж╝ржЧрж╛ржпрж╝ ржЖржкржирж╛рж░ рж╕рзНржЯрзЛрж░рзЗржЬ ржЕрзНржпрж╛ржХрж╛ржЙржирзНржЯрзЗрж░ ржЬржирзНржп ржПржХржЯрж┐ ржирж╛ржо ржжрж┐ржиред ржПржЯрж┐ ржЧрзНрж▓рзЛржмрж╛рж▓рж┐ ржЗржЙржирж┐ржХ рж╣рждрзЗ рж╣ржмрзЗ ржХрж╛рж░ржг ржПржЯрж┐ рж╕рзНржЯрзЛрж░рзЗржЬ ржЕрзНржпрж╛ржХрж╛ржЙржирзНржЯ ржЕрзНржпрж╛ржХрзНрж╕рзЗрж╕ ржХрж░рж╛рж░ ржЬржирзНржп ржмрзНржпржмрж╣рзГржд URL-ржПрж░ ржЕржВрж╢ ржЧржаржи ржХрж░рзЗред ржПржЗ ржирж╛ржорзЗрж░ ржЬржирзНржп ржХрзЗржмрж▓ ржЫрзЛржЯ рж╣рж╛рждрзЗрж░ ржЕржХрзНрж╖рж░ ржПржмржВ рж╕ржВржЦрзНржпрж╛ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж╛ ржпрж╛ржмрзЗ, ржЕржирзНржп ржХрзЛржирзЛ ржХрзНржпрж╛рж░рзЗржХрзНржЯрж╛рж░ ржиржпрж╝, ржПржмржВ ржПржЯрж┐ рзирзк ржХрзНржпрж╛рж░рзЗржХрзНржЯрж╛рж░рзЗ рж╕рзАржорж╛ржмржжрзНржзред ржЙржжрж╛рж╣рж░ржгрж╕рзНржмрж░рзВржк, `sms` ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзБржи ржПржмржВ рж╢рзЗрж╖рзЗ ржПржХржЯрж┐ ржЗржЙржирж┐ржХ ржЖржЗржбрзЗржирзНржЯрж┐ржлрж╛ржпрж╝рж╛рж░ ржпрзЛржЧ ржХрж░рзБржи, ржпрзЗржоржи ржХрж┐ржЫрзБ рж░тАНрзНржпрж╛ржирзНржбржо рж╢ржмрзНржж ржмрж╛ ржЖржкржирж╛рж░ ржирж╛ржоред

    `--sku Standard_LRS` ржкрзНрж░рж╛ржЗрж╕рж┐ржВ ржЯрж┐ржпрж╝рж╛рж░ ржирж┐рж░рзНржмрж╛ржЪржи ржХрж░рзЗ, ржпрж╛ рж╕рж░рзНржмржирж┐ржорзНржи ржЦрж░ржЪрзЗрж░ ржЬрзЗржирж╛рж░рзЗрж▓-ржкрж╛рж░ржкрж╛рж╕ ржЕрзНржпрж╛ржХрж╛ржЙржирзНржЯ ржирж┐рж░рзНржмрж╛ржЪржи ржХрж░рзЗред рж╕рзНржЯрзЛрж░рзЗржЬрзЗрж░ ржХрзЛржирзЛ ржлрзНрж░рж┐ ржЯрж┐ржпрж╝рж╛рж░ ржирзЗржЗ, ржПржмржВ ржЖржкржирж┐ ржпрж╛ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗржи рждрж╛рж░ ржЬржирзНржпржЗ ржЦрж░ржЪ рж╣ржпрж╝ред ржЦрж░ржЪ рждрзБрж▓ржирж╛ржорзВрж▓ржХржнрж╛ржмрзЗ ржХржо, рж╕ржмржЪрзЗржпрж╝рзЗ ржмрзНржпржпрж╝ржмрж╣рзБрж▓ рж╕рзНржЯрзЛрж░рзЗржЬ ржкрзНрж░рждрж┐ ржЧрж┐ржЧрж╛ржмрж╛ржЗржЯ рж╕ржВрж░ржХрзНрж╖ржгрзЗрж░ ржЬржирзНржп ржорж╛рж╕рзЗ рзж.рзжрзл ржорж╛рж░рзНржХрж┐ржи ржбрж▓рж╛рж░рзЗрж░ ржХржоред

    тЬЕ [Azure Storage Account pricing page](https://azure.microsoft.com/pricing/details/storage/?WT.mc_id=academic-17441-jabenn)-ржП ржкрзНрж░рж╛ржЗрж╕рж┐ржВ рж╕ржорзНржкрж░рзНржХрзЗ ржкржбрж╝рзБржиред

1. ржПржХржЯрж┐ Function App рждрзИрж░рж┐ ржХрж░рждрзЗ ржирж┐ржЪрзЗрж░ ржХржорж╛ржирзНржбржЯрж┐ ржЪрж╛рж▓рж╛ржи:

    ```sh
    az functionapp create --resource-group soil-moisture-sensor \
                          --runtime python \
                          --functions-version 3 \
                          --os-type Linux \
                          --consumption-plan-location <location> \
                          --storage-account <storage_name> \
                          --name <functions_app_name>
    ```

    `<location>`-ржПрж░ ржЬрж╛ржпрж╝ржЧрж╛ржпрж╝ ржкрзВрж░рзНржмржмрж░рзНрждрзА ржкрж╛ржарзЗ Resource Group рждрзИрж░рж┐ ржХрж░рж╛рж░ рж╕ржоржпрж╝ ржмрзНржпржмрж╣рзГржд ржЕржмрж╕рзНржерж╛ржиржЯрж┐ ржжрж┐ржиред

    `<storage_name>`-ржПрж░ ржЬрж╛ржпрж╝ржЧрж╛ржпрж╝ ржкрзВрж░рзНржмржмрж░рзНрждрзА ржзрж╛ржкрзЗ рждрзИрж░рж┐ ржХрж░рж╛ рж╕рзНржЯрзЛрж░рзЗржЬ ржЕрзНржпрж╛ржХрж╛ржЙржирзНржЯрзЗрж░ ржирж╛ржо ржжрж┐ржиред

    `<functions_app_name>`-ржПрж░ ржЬрж╛ржпрж╝ржЧрж╛ржпрж╝ ржЖржкржирж╛рж░ Functions App-ржПрж░ ржЬржирзНржп ржПржХржЯрж┐ ржЗржЙржирж┐ржХ ржирж╛ржо ржжрж┐ржиред ржПржЯрж┐ ржЧрзНрж▓рзЛржмрж╛рж▓рж┐ ржЗржЙржирж┐ржХ рж╣рждрзЗ рж╣ржмрзЗ ржХрж╛рж░ржг ржПржЯрж┐ Functions App ржЕрзНржпрж╛ржХрзНрж╕рзЗрж╕ ржХрж░рж╛рж░ ржЬржирзНржп ржмрзНржпржмрж╣рзГржд URL-ржПрж░ ржЕржВрж╢ ржЧржаржи ржХрж░рзЗред ржЙржжрж╛рж╣рж░ржгрж╕рзНржмрж░рзВржк, `soil-moisture-sensor-` ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзБржи ржПржмржВ рж╢рзЗрж╖рзЗ ржПржХржЯрж┐ ржЗржЙржирж┐ржХ ржЖржЗржбрзЗржирзНржЯрж┐ржлрж╛ржпрж╝рж╛рж░ ржпрзЛржЧ ржХрж░рзБржи, ржпрзЗржоржи ржХрж┐ржЫрзБ рж░тАНрзНржпрж╛ржирзНржбржо рж╢ржмрзНржж ржмрж╛ ржЖржкржирж╛рж░ ржирж╛ржоред

    `--functions-version 3` ржЕржкрж╢ржиржЯрж┐ Azure Functions-ржПрж░ рж╕ржВрж╕рзНржХрж░ржг ржирж┐рж░рзНржзрж╛рж░ржг ржХрж░рзЗред рж╕ржВрж╕рзНржХрж░ржг рзй рж╣рж▓рзЛ рж╕рж░рзНржмрж╢рзЗрж╖ рж╕ржВрж╕рзНржХрж░ржгред

    `--os-type Linux` Functions рж░рж╛ржиржЯрж╛ржЗржоржХрзЗ ржПржЗ ржлрж╛ржВрж╢ржиржЧрзБрж▓рзЛ рж╣рзЛрж╕рзНржЯ ржХрж░рж╛рж░ ржЬржирзНржп Linux ржмрзНржпржмрж╣рж╛рж░ ржХрж░рждрзЗ ржмрж▓рзЗред Functions Linux ржмрж╛ Windows-ржП рж╣рзЛрж╕рзНржЯ ржХрж░рж╛ ржпрзЗрждрзЗ ржкрж╛рж░рзЗ, ржмрзНржпржмрж╣рзГржд ржкрзНрж░рзЛржЧрзНрж░рж╛ржорж┐ржВ ржнрж╛рж╖рж╛рж░ ржЙржкрж░ ржирж┐рж░рзНржнрж░ ржХрж░рзЗред Python ржЕрзНржпрж╛ржк ржХрзЗржмрж▓ Linux-ржП рж╕ржорж░рзНржерж┐рждред

### ржЯрж╛рж╕рзНржХ - ржЖржкржирж╛рж░ ржЕрзНржпрж╛ржкрзНрж▓рж┐ржХрзЗрж╢ржи рж╕рзЗржЯрж┐ржВрж╕ ржЖржкрж▓рзЛржб ржХрж░рзБржи

ржЖржкржирж╛рж░ Functions App ржбрзЗржнрзЗрж▓ржк ржХрж░рж╛рж░ рж╕ржоржпрж╝, ржЖржкржирж┐ IoT Hub-ржПрж░ ржЬржирзНржп рж╕ржВржпрзЛржЧ рж╕рзНржЯрзНрж░рж┐ржВ рж╕ржВрж░ржХрзНрж╖ржг ржХрж░рждрзЗ `local.settings.json` ржлрж╛ржЗрж▓рзЗ ржХрж┐ржЫрзБ рж╕рзЗржЯрж┐ржВрж╕ рж╕ржВрж░ржХрзНрж╖ржг ржХрж░рзЗржЫрж┐рж▓рзЗржиред ржПржЧрзБрж▓рзЛ Azure-ржП ржЖржкржирж╛рж░ Function App-ржПрж░ Application Settings-ржП рж▓рж┐ржЦрждрзЗ рж╣ржмрзЗ ржпрж╛рждрзЗ ржЖржкржирж╛рж░ ржХрзЛржб ржПржЧрзБрж▓рзЛ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рждрзЗ ржкрж╛рж░рзЗред

> ЁЯОУ `local.settings.json` ржлрж╛ржЗрж▓ржЯрж┐ ржХрзЗржмрж▓ рж▓рзЛржХрж╛рж▓ ржбрзЗржнрзЗрж▓ржкржорзЗржирзНржЯ рж╕рзЗржЯрж┐ржВрж╕рзЗрж░ ржЬржирзНржп, ржПржмржВ ржПржЧрзБрж▓рзЛ рж╕рзЛрж░рзНрж╕ ржХрзЛржб ржХржирзНржЯрзНрж░рзЛрж▓рзЗ (ржпрзЗржоржи GitHub) ржЪрзЗржХ-ржЗржи ржХрж░рж╛ ржЙржЪрж┐ржд ржиржпрж╝ред ржХрзНрж▓рж╛ржЙржбрзЗ ржбрж┐ржкрзНрж▓ржпрж╝ ржХрж░рж╛рж░ рж╕ржоржпрж╝, Application Settings ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж╛ рж╣ржпрж╝ред Application Settings рж╣рж▓рзЛ ржХрзНрж▓рж╛ржЙржбрзЗ рж╣рзЛрж╕рзНржЯ ржХрж░рж╛ ржХрзА/ржнрзНржпрж╛рж▓рзБ ржкрзЗржпрж╝рж╛рж░, ржпрж╛ ржкрж░рж┐ржмрзЗрж╢ ржнрзЗрж░рж┐ржпрж╝рзЗржмрж▓ ржерзЗржХрзЗ ржЖржкржирж╛рж░ ржХрзЛржбрзЗ ржмрж╛ рж░рж╛ржиржЯрж╛ржЗржорзЗ ржкржбрж╝рж╛ рж╣ржпрж╝ ржпржЦржи ржЖржкржирж╛рж░ ржХрзЛржб IoT Hub-ржПрж░ рж╕рж╛ржерзЗ рж╕ржВржпрзБржХрзНржд рж╣ржпрж╝ред

1. Functions App-ржПрж░ Application Settings-ржП `IOT_HUB_CONNECTION_STRING` рж╕рзЗржЯрж┐ржВ рж╕рзЗржЯ ржХрж░рждрзЗ ржирж┐ржЪрзЗрж░ ржХржорж╛ржирзНржбржЯрж┐ ржЪрж╛рж▓рж╛ржи:

    ```sh
    az functionapp config appsettings set --resource-group soil-moisture-sensor \
                                          --name <functions_app_name> \
                                          --settings "IOT_HUB_CONNECTION_STRING=<connection string>"
    ```

    `<functions_app_name>`-ржПрж░ ржЬрж╛ржпрж╝ржЧрж╛ржпрж╝ ржЖржкржирж╛рж░ Functions App-ржПрж░ ржЬржирзНржп ржмрзНржпржмрж╣рзГржд ржирж╛ржо ржжрж┐ржиред

    `<connection string>`-ржПрж░ ржЬрж╛ржпрж╝ржЧрж╛ржпрж╝ ржЖржкржирж╛рж░ `local.settings.json` ржлрж╛ржЗрж▓ ржерзЗржХрзЗ `IOT_HUB_CONNECTION_STRING`-ржПрж░ ржорж╛ржи ржжрж┐ржиред

1. ржЙржкрж░рзЗрж░ ржзрж╛ржкржЯрж┐ ржкрзБржирж░рж╛ржмрзГрждрзНрждрж┐ ржХрж░рзБржи, рждржмрзЗ `REGISTRY_MANAGER_CONNECTION_STRING`-ржПрж░ ржорж╛ржи `local.settings.json` ржлрж╛ржЗрж▓ ржерзЗржХрзЗ рж╕ржВрж╢рзНрж▓рж┐рж╖рзНржЯ ржорж╛ржи ржжрж┐ржпрж╝рзЗ рж╕рзЗржЯ ржХрж░рзБржиред

ржПржЗ ржХржорж╛ржирзНржбржЧрзБрж▓рзЛ ржЪрж╛рж▓рж╛ржирзЛрж░ рж╕ржоржпрж╝, ржПржЧрзБрж▓рзЛ ржлрж╛ржВрж╢ржи ржЕрзНржпрж╛ржкрзЗрж░ рж╕ржорж╕рзНржд Application Settings-ржПрж░ ржПржХржЯрж┐ рждрж╛рж▓рж┐ржХрж╛ ржЖржЙржЯржкрзБржЯ ржХрж░ржмрзЗред ржЖржкржирж┐ ржПржЯрж┐ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ ржирж┐рж╢рзНржЪрж┐ржд ржХрж░рждрзЗ ржкрж╛рж░рзЗржи ржпрзЗ ржЖржкржирж╛рж░ ржорж╛ржиржЧрзБрж▓рзЛ рж╕ржарж┐ржХржнрж╛ржмрзЗ рж╕рзЗржЯ ржХрж░рж╛ рж╣ржпрж╝рзЗржЫрзЗред

> ЁЯТБ ржЖржкржирж┐ `AzureWebJobsStorage`-ржПрж░ ржЬржирзНржп ржПржХржЯрж┐ ржорж╛ржи ржЗрждрж┐ржоржзрзНржпрзЗ рж╕рзЗржЯ ржХрж░рж╛ ржжрзЗржЦрждрзЗ ржкрж╛ржмрзЗржиред ржЖржкржирж╛рж░ `local.settings.json` ржлрж╛ржЗрж▓рзЗ ржПржЯрж┐ рж▓рзЛржХрж╛рж▓ рж╕рзНржЯрзЛрж░рзЗржЬ ржПржорзБрж▓рзЗржЯрж░ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж╛рж░ ржЬржирзНржп ржПржХржЯрж┐ ржорж╛ржирзЗ рж╕рзЗржЯ ржХрж░рж╛ рж╣ржпрж╝рзЗржЫрж┐рж▓ред ржпржЦржи ржЖржкржирж┐ Functions App рждрзИрж░рж┐ ржХрж░рзЗржи, рждржЦржи рж╕рзНржЯрзЛрж░рзЗржЬ ржЕрзНржпрж╛ржХрж╛ржЙржирзНржЯ ржПржХржЯрж┐ ржкрзНржпрж╛рж░рж╛ржорж┐ржЯрж╛рж░ рж╣рж┐рж╕рзЗржмрзЗ ржкрж╛рж╕ ржХрж░рж╛ рж╣ржпрж╝, ржПржмржВ ржПржЯрж┐ рж╕рзНржмржпрж╝ржВржХрзНрж░рж┐ржпрж╝ржнрж╛ржмрзЗ ржПржЗ рж╕рзЗржЯрж┐ржВржпрж╝рзЗ рж╕рзЗржЯ рж╣ржпрж╝ред

### ржЯрж╛рж╕рзНржХ - ржЖржкржирж╛рж░ Functions App ржХрзНрж▓рж╛ржЙржбрзЗ ржбрж┐ржкрзНрж▓ржпрж╝ ржХрж░рзБржи

ржПржЦржи Functions App ржкрзНрж░рж╕рзНрждрзБржд, ржЖржкржирж╛рж░ ржХрзЛржб ржбрж┐ржкрзНрж▓ржпрж╝ ржХрж░рж╛ ржпрзЗрждрзЗ ржкрж╛рж░рзЗред

1. VS Code ржЯрж╛рж░рзНржорж┐ржирж╛рж▓ ржерзЗржХрзЗ ржирж┐ржЪрзЗрж░ ржХржорж╛ржирзНржбржЯрж┐ ржЪрж╛рж▓рж╛ржи ржЖржкржирж╛рж░ Functions App ржкрзНрж░ржХрж╛рж╢ ржХрж░рждрзЗ:

    ```sh
    func azure functionapp publish <functions_app_name>
    ```

    `<functions_app_name>`-ржПрж░ ржЬрж╛ржпрж╝ржЧрж╛ржпрж╝ ржЖржкржирж╛рж░ Functions App-ржПрж░ ржЬржирзНржп ржмрзНржпржмрж╣рзГржд ржирж╛ржо ржжрж┐ржиред

ржХрзЛржбржЯрж┐ ржкрзНржпрж╛ржХрзЗржЬ ржХрж░рж╛ рж╣ржмрзЗ ржПржмржВ Functions App-ржП ржкрж╛ржарж╛ржирзЛ рж╣ржмрзЗ, ржпрзЗржЦрж╛ржирзЗ ржПржЯрж┐ ржбрж┐ржкрзНрж▓ржпрж╝ ржПржмржВ рж╢рзБрж░рзБ рж╣ржмрзЗред ржкрзНрж░ржЪрзБрж░ ржХржирж╕рзЛрж▓ ржЖржЙржЯржкрзБржЯ ржерж╛ржХржмрзЗ, ржпрж╛ ржбрж┐ржкрзНрж▓ржпрж╝ржорзЗржирзНржЯрзЗрж░ ржирж┐рж╢рзНржЪрж┐рждржХрж░ржг ржПржмржВ ржбрж┐ржкрзНрж▓ржпрж╝ ржХрж░рж╛ ржлрж╛ржВрж╢ржирзЗрж░ ржПржХржЯрж┐ рждрж╛рж▓рж┐ржХрж╛ ржжрж┐ржпрж╝рзЗ рж╢рзЗрж╖ рж╣ржмрзЗред ржПржЗ ржХрзНрж╖рзЗрждрзНрж░рзЗ рждрж╛рж▓рж┐ржХрж╛ржпрж╝ ржХрзЗржмрж▓ ржЯрзНрж░рж┐ржЧрж╛рж░ ржерж╛ржХржмрзЗред

```output
Deployment successful.
Remote build succeeded!
Syncing triggers...
Functions in soil-moisture-sensor:
    iot-hub-trigger - [eventHubTrigger]
```

ржЖржкржирж╛рж░ IoT ржбрж┐ржнрж╛ржЗрж╕ ржЪрж╛рж▓рзБ рж░рж╛ржЦрзБржиред ржорж╛ржЯрж┐рж░ ржЖрж░рзНржжрзНрж░рждрж╛рж░ ржорж╛рждрзНрж░рж╛ ржкрж░рж┐ржмрж░рзНрждржи ржХрж░рзБржи ржорж╛ржЯрж┐рж░ ржнрзЗржЬрж╛ рж╕рзЗржирзНрж╕рж░ржЯрж┐ рж╕рж░рж┐ржпрж╝рзЗ ржмрж╛ ржорж╛ржЯрж┐рж░ ржнрж┐рждрж░рзЗ-ржмрж╛ржЗрж░рзЗ рж╕рж░рж┐ржпрж╝рзЗред ржЖржкржирж┐ ржжрзЗржЦрждрзЗ ржкрж╛ржмрзЗржи ржорж╛ржЯрж┐рж░ ржЖрж░рзНржжрзНрж░рждрж╛рж░ ржкрж░рж┐ржмрж░рзНрждржирзЗрж░ рж╕рж╛ржерзЗ рж╕рж╛ржерзЗ рж░рж┐рж▓рзЗ ржЪрж╛рж▓рзБ ржПржмржВ ржмржирзНржз рж╣ржЪрзНржЫрзЗред

---

## ЁЯЪА ржЪрзНржпрж╛рж▓рзЗржЮрзНржЬ

ржкрзВрж░рзНржмржмрж░рзНрждрзА ржкрж╛ржарзЗ, ржЖржкржирж┐ рж░рж┐рж▓рзЗ ржЯрж╛ржЗржорж┐ржВ ржкрж░рж┐ржЪрж╛рж▓ржирж╛ ржХрж░рзЗржЫрж┐рж▓рзЗржи MQTT ржмрж╛рж░рзНрждрж╛ ржерзЗржХрзЗ ржЖржирж╕рж╛ржмрж╕рзНржХрзНрж░рж╛ржЗржм ржХрж░рзЗ ржпржЦржи рж░рж┐рж▓рзЗ ржЪрж╛рж▓рзБ ржЫрж┐рж▓ ржПржмржВ ржПржЯрж┐ ржмржирзНржз рж╣ржУржпрж╝рж╛рж░ ржкрж░ ржХрж┐ржЫрзБ рж╕ржоржпрж╝рзЗрж░ ржЬржирзНржпред ржПржЦрж╛ржирзЗ ржЖржкржирж┐ ржПржЗ ржкржжрзНржзрждрж┐ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рждрзЗ ржкрж╛рж░ржмрзЗржи ржирж╛ - ржЖржкржирж┐ ржЖржкржирж╛рж░ IoT Hub ржЯрзНрж░рж┐ржЧрж╛рж░ ржЖржирж╕рж╛ржмрж╕рзНржХрзНрж░рж╛ржЗржм ржХрж░рждрзЗ ржкрж╛рж░ржмрзЗржи ржирж╛ред

ржЖржкржирж╛рж░ Functions App-ржП ржПржЯрж┐ ржкрж░рж┐ржЪрж╛рж▓ржирж╛рж░ ржЬржирзНржп ржмрж┐ржнрж┐ржирзНржи ржЙржкрж╛ржпрж╝ ржирж┐ржпрж╝рзЗ ржнрж╛ржмрзБржиред

## ржкрзЛрж╕рзНржЯ-рж▓рзЗржХржЪрж╛рж░ ржХрзБржЗржЬ

[ржкрзЛрж╕рзНржЯ-рж▓рзЗржХржЪрж╛рж░ ржХрзБржЗржЬ](https://black-meadow-040d15503.1.azurestaticapps.net/quiz/18)

## рж░рж┐ржнрж┐ржЙ ржПржмржВ рж╕рзЗрж▓ржл рж╕рзНржЯрж╛ржбрж┐

* [Serverless Computing page on Wikipedia](https://wikipedia.org/wiki/Serverless_computing)-ржП рж╕рж╛рж░рзНржнрж╛рж░рж▓рзЗрж╕ ржХржорзНржкрж┐ржЙржЯрж┐ржВ рж╕ржорзНржкрж░рзНржХрзЗ ржкржбрж╝рзБржиред
* Azure-ржП рж╕рж╛рж░рзНржнрж╛рж░рж▓рзЗрж╕ ржмрзНржпржмрж╣рж╛рж░ ржПржмржВ ржЖрж░ржУ ржХрж┐ржЫрзБ ржЙржжрж╛рж╣рж░ржг рж╕ржорзНржкрж░рзНржХрзЗ ржкржбрж╝рзБржи [Go serverless for your IoT needs Azure blog post](https://azure.microsoft.com/blog/go-serverless-for-your-iot-needs/?WT.mc_id=academic-17441-jabenn)ред
* Azure Functions рж╕ржорзНржкрж░рзНржХрзЗ ржЖрж░ржУ ржЬрж╛ржирзБржи [Azure Functions YouTube channel](https://www.youtube.com/c/AzureFunctions)-ржПред

## ржЕрзНржпрж╛рж╕рж╛ржЗржиржорзЗржирзНржЯ

[ржорзНржпрж╛ржирзБржпрж╝рж╛рж▓ рж░рж┐рж▓рзЗ ржирж┐ржпрж╝ржирзНрждрзНрж░ржг ржпрзЛржЧ ржХрж░рзБржи](assignment.md)

---

**ржЕрж╕рзНржмрзАржХрзГрждрж┐**:  
ржПржЗ ржиржерж┐ржЯрж┐ AI ржЕржирзБржмрж╛ржж ржкрж░рж┐рж╖рзЗржмрж╛ [Co-op Translator](https://github.com/Azure/co-op-translator) ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ ржЕржирзБржмрж╛ржж ржХрж░рж╛ рж╣ржпрж╝рзЗржЫрзЗред ржЖржорж░рж╛ ржпржерж╛рж╕рж╛ржзрзНржп рж╕ржарж┐ржХрждрж╛ ржирж┐рж╢рзНржЪрж┐ржд ржХрж░рж╛рж░ ржЪрзЗрж╖рзНржЯрж╛ ржХрж░рж┐, рждржмрзЗ ржЕржирзБржЧрзНрж░рж╣ ржХрж░рзЗ ржоржирзЗ рж░рж╛ржЦржмрзЗржи ржпрзЗ рж╕рзНржмржпрж╝ржВржХрзНрж░рж┐ржпрж╝ ржЕржирзБржмрж╛ржжрзЗ рждрзНрж░рзБржЯрж┐ ржмрж╛ ржЕрж╕ржЩрзНржЧрждрж┐ ржерж╛ржХрждрзЗ ржкрж╛рж░рзЗред ржорзВрж▓ ржнрж╛рж╖рж╛ржпрж╝ ржерж╛ржХрж╛ ржиржерж┐ржЯрж┐ржХрзЗ ржкрзНрж░рж╛ржорж╛ржгрж┐ржХ ржЙрзОрж╕ рж╣рж┐рж╕рзЗржмрзЗ ржмрж┐ржмрзЗржЪржирж╛ ржХрж░рж╛ ржЙржЪрж┐рждред ржЧрзБрж░рзБрждрзНржмржкрзВрж░рзНржг рждржерзНржпрзЗрж░ ржЬржирзНржп, ржкрзЗрж╢рж╛ржжрж╛рж░ ржорж╛ржиржм ржЕржирзБржмрж╛ржж рж╕рзБржкрж╛рж░рж┐рж╢ ржХрж░рж╛ рж╣ржпрж╝ред ржПржЗ ржЕржирзБржмрж╛ржж ржмрзНржпржмрж╣рж╛рж░рзЗрж░ ржлрж▓рзЗ ржХрзЛржирзЛ ржнрзБрж▓ ржмрзЛржЭрж╛ржмрзБржЭрж┐ ржмрж╛ ржнрзБрж▓ ржмрзНржпрж╛ржЦрзНржпрж╛ рж╣рж▓рзЗ ржЖржорж░рж╛ ржжрж╛ржпрж╝ржмржжрзНржз ржерж╛ржХржм ржирж╛ред