<!--
CO_OP_TRANSLATOR_METADATA:
{
  "original_hash": "90fb93446e03c38f3c0e4009c2471906",
  "translation_date": "2025-08-24T23:10:25+00:00",
  "source_file": "1-getting-started/lessons/4-connect-internet/single-board-computer-mqtt.md",
  "language_code": "ko"
}
-->
# μΈν„°λ„·μ„ ν†µν•΄ μ•Όκ°„λ“± μ μ–΄ν•κΈ° - κ°€μƒ IoT ν•λ“μ›¨μ–΄μ™€ Raspberry Pi

IoT μ¥μΉλ” *test.mosquitto.org*μ™€ MQTTλ¥Ό μ‚¬μ©ν•μ—¬ ν†µμ‹ ν•λ„λ΅ μ½”λ”©λμ–΄μ•Ό ν•©λ‹λ‹¤. μ΄λ¥Ό ν†µν•΄ μ΅°λ„ μ„Όμ„μ μ½κΈ°κ°’μ„ ν¬ν•¨ν• μ›κ²© μΈ΅μ • λ°μ΄ν„°λ¥Ό μ „μ†΅ν•κ³ , LEDλ¥Ό μ μ–΄ν•κΈ° μ„ν• λ…λ Ήμ„ μμ‹ ν•©λ‹λ‹¤.

μ΄ μμ—…μ μ΄ λ¶€λ¶„μ—μ„λ” Raspberry Pi λλ” κ°€μƒ IoT μ¥μΉλ¥Ό MQTT λΈλ΅μ»¤μ— μ—°κ²°ν•©λ‹λ‹¤.

## MQTT ν΄λΌμ΄μ–ΈνΈ ν¨ν‚¤μ§€ μ„¤μΉ

MQTT λΈλ΅μ»¤μ™€ ν†µμ‹ ν•λ ¤λ©΄ Pi λλ” κ°€μƒ μ¥μΉμ κ°€μƒ ν™κ²½μ— MQTT λΌμ΄λΈλ¬λ¦¬ pip ν¨ν‚¤μ§€λ¥Ό μ„¤μΉν•΄μ•Ό ν•©λ‹λ‹¤.

### μ‘μ—…

pip ν¨ν‚¤μ§€ μ„¤μΉ

1. VS Codeμ—μ„ μ•Όκ°„λ“± ν”„λ΅μ νΈλ¥Ό μ—½λ‹λ‹¤.

1. κ°€μƒ IoT μ¥μΉλ¥Ό μ‚¬μ©ν•λ” κ²½μ°, ν„°λ―Έλ„μ΄ κ°€μƒ ν™κ²½μ„ μ‹¤ν–‰ μ¤‘μΈμ§€ ν™•μΈν•©λ‹λ‹¤. Raspberry Piλ¥Ό μ‚¬μ©ν•λ” κ²½μ° κ°€μƒ ν™κ²½μ„ μ‚¬μ©ν•μ§€ μ•μµλ‹λ‹¤.

1. λ‹¤μ λ…λ Ήμ–΄λ¥Ό μ‹¤ν–‰ν•μ—¬ MQTT pip ν¨ν‚¤μ§€λ¥Ό μ„¤μΉν•©λ‹λ‹¤:

    ```sh
    pip3 install paho-mqtt
    ```

## μ¥μΉ μ½”λ”©ν•κΈ°

μ¥μΉλ¥Ό μ½”λ”©ν•  μ¤€λΉ„κ°€ λμ—μµλ‹λ‹¤.

### μ‘μ—…

μ¥μΉ μ½”λ“λ¥Ό μ‘μ„±ν•©λ‹λ‹¤.

1. `app.py` νμΌ μƒλ‹¨μ— λ‹¤μ importλ¥Ό μ¶”κ°€ν•©λ‹λ‹¤:

    ```python
    import paho.mqtt.client as mqtt
    ```

    `paho.mqtt.client` λΌμ΄λΈλ¬λ¦¬λ” μ•±μ΄ MQTTλ¥Ό ν†µν•΄ ν†µμ‹ ν•  μ μλ„λ΅ ν•©λ‹λ‹¤.

1. μ΅°λ„ μ„Όμ„μ™€ LED μ •μ λ’¤μ— λ‹¤μ μ½”λ“λ¥Ό μ¶”κ°€ν•©λ‹λ‹¤:

    ```python
    id = '<ID>'

    client_name = id + 'nightlight_client'
    ```

    `<ID>`λ¥Ό μ΄ μ¥μΉ ν΄λΌμ΄μ–ΈνΈμ μ΄λ¦„μΌλ΅ μ‚¬μ©ν•  κ³ μ  IDλ΅ λ°”κΏ‰λ‹λ‹¤. μ΄ IDλ” λ‚μ¤‘μ— μ΄ μ¥μΉκ°€ κ²μ‹ν•κ³  κµ¬λ…ν•λ” ν† ν”½ μ΄λ¦„μ—λ„ μ‚¬μ©λ©λ‹λ‹¤. *test.mosquitto.org* λΈλ΅μ»¤λ” κ³µκ°μ μΌλ΅ μ‚¬μ©λλ©°, μ΄ κ³Όμ λ¥Ό μ§„ν–‰ μ¤‘μΈ λ‹¤λ¥Έ ν•™μƒλ“¤μ„ ν¬ν•¨ν• λ§μ€ μ‚¬λλ“¤μ΄ μ‚¬μ©ν•©λ‹λ‹¤. κ³ μ ν• MQTT ν΄λΌμ΄μ–ΈνΈ μ΄λ¦„κ³Ό ν† ν”½ μ΄λ¦„μ„ μ‚¬μ©ν•λ©΄ λ‹¤λ¥Έ μ‚¬λμ μ½”λ“μ™€ μ¶©λν•μ§€ μ•λ„λ΅ ν•  μ μμµλ‹λ‹¤. μ΄ IDλ” λ‚μ¤‘μ— μ΄ κ³Όμ μ—μ„ μ„λ²„ μ½”λ“λ¥Ό μ‘μ„±ν•  λ•λ„ ν•„μ”ν•©λ‹λ‹¤.

    > π’ [GUIDGen](https://www.guidgen.com) κ°™μ€ μ›Ήμ‚¬μ΄νΈλ¥Ό μ‚¬μ©ν•μ—¬ κ³ μ  IDλ¥Ό μƒμ„±ν•  μ μμµλ‹λ‹¤.

    `client_name`μ€ λΈλ΅μ»¤μ—μ„ μ΄ MQTT ν΄λΌμ΄μ–ΈνΈλ¥Ό μ„ν• κ³ μ  μ΄λ¦„μ…λ‹λ‹¤.

1. MQTT ν΄λΌμ΄μ–ΈνΈ κ°μ²΄λ¥Ό μƒμ„±ν•κ³  MQTT λΈλ΅μ»¤μ— μ—°κ²°ν•κΈ° μ„ν•΄ μƒ μ½”λ“ μ•„λμ— λ‹¤μ μ½”λ“λ¥Ό μ¶”κ°€ν•©λ‹λ‹¤:

    ```python
    mqtt_client = mqtt.Client(client_name)
    mqtt_client.connect('test.mosquitto.org')
    
    mqtt_client.loop_start()

    print("MQTT connected!")
    ```

    μ΄ μ½”λ“λ” ν΄λΌμ΄μ–ΈνΈ κ°μ²΄λ¥Ό μƒμ„±ν•κ³ , κ³µκ° MQTT λΈλ΅μ»¤μ— μ—°κ²°ν•λ©°, λ°±κ·ΈλΌμ΄λ“ μ¤λ λ“μ—μ„ λ©”μ‹μ§€λ¥Ό μμ‹ ν•λ” μ²λ¦¬ λ£¨ν”„λ¥Ό μ‹μ‘ν•©λ‹λ‹¤.

1. μ΄μ „ κ³Όμ μ μ½”λ“λ¥Ό μ‹¤ν–‰ν–λ κ²ƒκ³Ό λ™μΌν• λ°©μ‹μΌλ΅ μ½”λ“λ¥Ό μ‹¤ν–‰ν•©λ‹λ‹¤. κ°€μƒ IoT μ¥μΉλ¥Ό μ‚¬μ©ν•λ” κ²½μ°, CounterFit μ•±μ΄ μ‹¤ν–‰ μ¤‘μ΄κ³  μ΅°λ„ μ„Όμ„μ™€ LEDκ°€ μ¬λ°”λ¥Έ ν•€μ— μƒμ„±λμ—λ”μ§€ ν™•μΈν•μ„Έμ”.

    ```output
    (.venv) β  nightlight python app.py 
    MQTT connected!
    Light level: 0
    Light level: 0
    ```

> π’ μ΄ μ½”λ“λ” [code-mqtt/virtual-device](../../../../../1-getting-started/lessons/4-connect-internet/code-mqtt/virtual-device) ν΄λ” λλ” [code-mqtt/pi](../../../../../1-getting-started/lessons/4-connect-internet/code-mqtt/pi) ν΄λ”μ—μ„ μ°Ύμ„ μ μμµλ‹λ‹¤.

π€ μ¥μΉλ¥Ό MQTT λΈλ΅μ»¤μ— μ„±κ³µμ μΌλ΅ μ—°κ²°ν–μµλ‹λ‹¤.

**λ©΄μ±… μ΅°ν•­**:  
μ΄ λ¬Έμ„λ” AI λ²μ—­ μ„λΉ„μ¤ [Co-op Translator](https://github.com/Azure/co-op-translator)λ¥Ό μ‚¬μ©ν•μ—¬ λ²μ—­λμ—μµλ‹λ‹¤. μ •ν™•μ„±μ„ μ„ν•΄ μµμ„ μ„ λ‹¤ν•κ³  μμ§€λ§, μλ™ λ²μ—­μ—λ” μ¤λ¥λ‚ λ¶€μ •ν™•μ„±μ΄ ν¬ν•¨λ  μ μμµλ‹λ‹¤. μ›λ³Έ λ¬Έμ„λ¥Ό ν•΄λ‹Ή μ–Έμ–΄λ΅ μ‘μ„±λ μƒνƒμ—μ„ κ¶μ„ μλ” μλ£λ΅ κ°„μ£Όν•΄μ•Ό ν•©λ‹λ‹¤. μ¤‘μ”ν• μ •λ³΄μ κ²½μ°, μ „λ¬Έμ μΈ μΈκ°„ λ²μ—­μ„ κ¶μ¥ν•©λ‹λ‹¤. μ΄ λ²μ—­ μ‚¬μ©μΌλ΅ μΈν•΄ λ°μƒν•λ” μ¤ν•΄λ‚ μλ»λ ν•΄μ„μ— λ€ν•΄ λ‹Ήμ‚¬λ” μ±…μ„μ„ μ§€μ§€ μ•μµλ‹λ‹¤.