<!--
CO_OP_TRANSLATOR_METADATA:
{
  "original_hash": "64f18a8f8aaa1fef5e7320e0992d8b3a",
  "translation_date": "2025-08-27T00:43:23+00:00",
  "source_file": "3-transport/lessons/1-location-tracking/virtual-device-gps-sensor.md",
  "language_code": "ar"
}
-->
# ูุฑุงุกุฉ ุจูุงูุงุช GPS - ุฌูุงุฒ ุฅูุชุฑูุช ุงูุฃุดูุงุก ุงูุงูุชุฑุงุถู

ูู ูุฐุง ุงูุฌุฒุก ูู ุงูุฏุฑุณุ ุณุชุถูู ูุณุชุดุนุฑ GPS ุฅูู ุฌูุงุฒ ุฅูุชุฑูุช ุงูุฃุดูุงุก ุงูุงูุชุฑุงุถู ุงูุฎุงุต ุจูุ ูุชูุฑุฃ ุงูููู ููู.

## ุงูุฃุฌูุฒุฉ ุงูุงูุชุฑุงุถูุฉ

ุณูุณุชุฎุฏู ุฌูุงุฒ ุฅูุชุฑูุช ุงูุฃุดูุงุก ุงูุงูุชุฑุงุถู ูุณุชุดุนุฑ GPS ูุญุงูู ูููู ุงููุตูู ุฅููู ุนุจุฑ UART ูู ุฎูุงู ูููุฐ ุชุณูุณูู.

ูุญุชูู ูุณุชุดุนุฑ GPS ุงููุนูู ุนูู ููุงุฆู ูุงูุชูุงุท ููุฌุงุช ุงูุฑุงุฏูู ูู ุงูุฃููุงุฑ ุงูุตูุงุนูุฉ ููุธุงู GPSุ ูุชุญููู ุฅุดุงุฑุงุช GPS ุฅูู ุจูุงูุงุช GPS. ุงููุณุฎุฉ ุงูุงูุชุฑุงุถูุฉ ุชุญุงูู ุฐูู ูู ุฎูุงู ุงูุณูุงุญ ูู ุฅูุง ุจุชุนููู ุฎุท ุงูุนุฑุถ ูุฎุท ุงูุทููุ ุฃู ุฅุฑุณุงู ุฌูู NMEA ุงูุฎุงูุ ุฃู ุชุญููู ููู GPX ูุญุชูู ุนูู ููุงูุน ูุชุนุฏุฏุฉ ูููู ุฅุฑุฌุงุนูุง ุจุงูุชุชุงุจุน.

> ๐ ุณูุชู ุชุบุทูุฉ ุฌูู NMEA ูุงุญููุง ูู ูุฐุง ุงูุฏุฑุณ

### ุฅุถุงูุฉ ุงููุณุชุดุนุฑ ุฅูู CounterFit

ูุงุณุชุฎุฏุงู ูุณุชุดุนุฑ GPS ุงูุชุฑุงุถูุ ุชุญุชุงุฌ ุฅูู ุฅุถุงูุชู ุฅูู ุชุทุจูู CounterFit.

#### ุงููููุฉ - ุฅุถุงูุฉ ุงููุณุชุดุนุฑ ุฅูู CounterFit

ุฃุถู ูุณุชุดุนุฑ GPS ุฅูู ุชุทุจูู CounterFit.

1. ูู ุจุฅูุดุงุก ุชุทุจูู Python ุฌุฏูุฏ ุนูู ุฌูุงุฒ ุงูููุจููุชุฑ ุงูุฎุงุต ุจู ูู ูุฌูุฏ ูุณูู `gps-sensor` ูุญุชูู ุนูู ููู ูุงุญุฏ ูุณูู `app.py` ูุจูุฆุฉ ุงูุชุฑุงุถูุฉ ูู Pythonุ ูุฃุถู ุญุฒู pip ุงูุฎุงุตุฉ ุจู CounterFit.

    > โ๏ธ ููููู ุงูุฑุฌูุน ุฅูู [ุงูุชุนูููุงุช ุงูุฎุงุตุฉ ุจุฅูุดุงุก ูุฅุนุฏุงุฏ ูุดุฑูุน Python ูู CounterFit ูู ุงูุฏุฑุณ ุงูุฃูู ุฅุฐุง ูุฒู ุงูุฃูุฑ](../../../1-getting-started/lessons/1-introduction-to-iot/virtual-device.md).

1. ูู ุจุชุซุจูุช ุญุฒูุฉ Pip ุฅุถุงููุฉ ูุชุซุจูุช shim ูู CounterFit ููููู ุงูุชุญุฏุซ ุฅูู ุงููุณุชุดุนุฑุงุช ุงููุงุฆูุฉ ุนูู UART ุนุจุฑ ุงุชุตุงู ุชุณูุณูู. ุชุฃูุฏ ูู ุชุซุจูุชูุง ูู ุฎูุงู ูุงูุฐุฉ ุทุฑููุฉ ูุน ุชูุนูู ุงูุจูุฆุฉ ุงูุงูุชุฑุงุถูุฉ.

    ```sh
    pip install counterfit-shims-serial
    ```

1. ุชุฃูุฏ ูู ุชุดุบูู ุชุทุจูู ุงูููุจ CounterFit.

1. ูู ุจุฅูุดุงุก ูุณุชุดุนุฑ GPS:

    1. ูู ูุฑุจุน *ุฅูุดุงุก ูุณุชุดุนุฑ* ูู ููุญุฉ *ุงููุณุชุดุนุฑุงุช*ุ ุงูุชุญ ุงููุงุฆูุฉ ุงูููุณุฏูุฉ *ููุน ุงููุณุชุดุนุฑ* ูุงุฎุชุฑ *UART GPS*.

    1. ุงุชุฑู *ุงููููุฐ* ูุถุจูุทูุง ุนูู */dev/ttyAMA0*.

    1. ุงุฎุชุฑ ุฒุฑ **ุฅุถุงูุฉ** ูุฅูุดุงุก ูุณุชุดุนุฑ GPS ุนูู ุงููููุฐ `/dev/ttyAMA0`.

    ![ุฅุนุฏุงุฏุงุช ูุณุชุดุนุฑ GPS](../../../../../translated_images/counterfit-create-gps-sensor.6385dc9357d85ad1d47b4abb2525e7651fd498917d25eefc5a72feab09eedc70.ar.png)

    ุณูุชู ุฅูุดุงุก ูุณุชุดุนุฑ GPS ูุณูุธูุฑ ูู ูุงุฆูุฉ ุงููุณุชุดุนุฑุงุช.

    ![ุชู ุฅูุดุงุก ูุณุชุดุนุฑ GPS](../../../../../translated_images/counterfit-gps-sensor.3fbb15af0a5367566f2f11324ef5a6f30861cdf2b497071a5e002b7aa473550e.ar.png)

## ุจุฑูุฌุฉ ูุณุชุดุนุฑ GPS

ูููู ุงูุขู ุจุฑูุฌุฉ ุฌูุงุฒ ุฅูุชุฑูุช ุงูุฃุดูุงุก ุงูุงูุชุฑุงุถู ูุงุณุชุฎุฏุงู ูุณุชุดุนุฑ GPS ุงูุงูุชุฑุงุถู.

### ุงููููุฉ - ุจุฑูุฌุฉ ูุณุชุดุนุฑ GPS

ุจุฑูุฌ ุชุทุจูู ูุณุชุดุนุฑ GPS.

1. ุชุฃูุฏ ูู ูุชุญ ุชุทุจูู `gps-sensor` ูู VS Code.

1. ุงูุชุญ ููู `app.py`.

1. ุฃุถู ุงูููุฏ ุงูุชุงูู ุฅูู ุฃุนูู ููู `app.py` ูุชูุตูู ุงูุชุทุจูู ุจู CounterFit:

    ```python
    from counterfit_connection import CounterFitConnection
    CounterFitConnection.init('127.0.0.1', 5000)
    ```

1. ุฃุถู ุงูููุฏ ุงูุชุงูู ุฃุณูู ุฐูู ูุงุณุชูุฑุงุฏ ุจุนุถ ุงูููุชุจุงุช ุงููุงุฒูุฉุ ุจูุง ูู ุฐูู ููุชุจุฉ ุงููููุฐ ุงูุชุณูุณูู ูู CounterFit:

    ```python
    import time
    import counterfit_shims_serial
    
    serial = counterfit_shims_serial.Serial('/dev/ttyAMA0')
    ```

    ูููู ูุฐุง ุงูููุฏ ุจุงุณุชูุฑุงุฏ ูุญุฏุฉ `serial` ูู ุญุฒูุฉ Pip ุงูุฎุงุตุฉ ุจู `counterfit_shims_serial`. ุซู ูุชุตู ุจูููุฐ `/dev/ttyAMA0` ุงูุชุณูุณูู - ููู ุนููุงู ุงููููุฐ ุงูุชุณูุณูู ุงูุฐู ูุณุชุฎุฏูู ูุณุชุดุนุฑ GPS ุงูุงูุชุฑุงุถู ููููุฐ UART ุงูุฎุงุต ุจู.

1. ุฃุถู ุงูููุฏ ุงูุชุงูู ุฃุณูู ุฐูู ููุฑุงุกุฉ ุงูุจูุงูุงุช ูู ุงููููุฐ ุงูุชุณูุณูู ูุทุจุงุนุฉ ุงูููู ุฅูู ูุญุฏุฉ ุงูุชุญูู:

    ```python
    def print_gps_data(line):
        print(line.rstrip())
    
    while True:
        line = serial.readline().decode('utf-8')
    
        while len(line) > 0:
            print_gps_data(line)
            line = serial.readline().decode('utf-8')
    
        time.sleep(1)
    ```

    ูุชู ุชุนุฑูู ูุธููุฉ ุชุณูู `print_gps_data` ุชููู ุจุทุจุงุนุฉ ุงูุณุทุฑ ุงูููุฑุฑ ุฅูููุง ุฅูู ูุญุฏุฉ ุงูุชุญูู.

    ุจุนุฏ ุฐููุ ูููู ุงูููุฏ ุจุงูุชูุฑุงุฑ ุฅูู ูุง ูุง ููุงูุฉุ ุญูุซ ููุฑุฃ ุฃูุจุฑ ุนุฏุฏ ูููู ูู ุงูุฃุณุทุฑ ุงููุตูุฉ ูู ุงููููุฐ ุงูุชุณูุณูู ูู ูู ุฏูุฑุฉ. ูุณุชุฏุนู ูุธููุฉ `print_gps_data` ููู ุณุทุฑ.

    ุจุนุฏ ูุฑุงุกุฉ ุฌููุน ุงูุจูุงูุงุชุ ูุชููู ุงูุชูุฑุงุฑ ููุฏุฉ ุซุงููุฉ ูุงุญุฏุฉุ ุซู ูุญุงูู ูุฑุฉ ุฃุฎุฑู.

1. ูู ุจุชุดุบูู ูุฐุง ุงูููุฏุ ูุน ุงูุชุฃูุฏ ูู ุงุณุชุฎุฏุงู ูุงูุฐุฉ ุทุฑููุฉ ูุฎุชููุฉ ุนู ุชูู ุงูุชู ูุชู ุชุดุบูู ุชุทุจูู CounterFit ูููุงุ ุญุชู ูุธู ุชุทุจูู CounterFit ููุฏ ุงูุชุดุบูู.

1. ูู ุชุทุจูู CounterFitุ ูู ุจุชุบููุฑ ูููุฉ ูุณุชุดุนุฑ GPS. ููููู ุงูููุงู ุจุฐูู ุจุฅุญุฏู ุงูุทุฑู ุงูุชุงููุฉ:

    * ุถุจุท **ุงููุตุฏุฑ** ุนูู `Lat/Lon`ุ ูุชุนููู ุฎุท ุนุฑุถ ูุฎุท ุทูู ูุนุฏุฏ ุงูุฃููุงุฑ ุงูุตูุงุนูุฉ ุงููุณุชุฎุฏูุฉ ููุญุตูู ุนูู ุชุซุจูุช GPS. ุณูุชู ุฅุฑุณุงู ูุฐู ุงููููุฉ ูุฑุฉ ูุงุญุฏุฉ ููุทุ ูุฐุง ุชุญูู ูู ูุฑุจุน **ุงูุชูุฑุงุฑ** ูุชูุฑุงุฑ ุงูุจูุงูุงุช ูู ุซุงููุฉ.

      ![ูุณุชุดุนุฑ GPS ูุน ุชุญุฏูุฏ lat lon](../../../../../translated_images/counterfit-gps-sensor-latlon.008c867d75464fbe7f84107cc57040df565ac07cb57d2f21db37d087d470197d.ar.png)

    * ุถุจุท **ุงููุตุฏุฑ** ุนูู `NMEA` ูุฅุถุงูุฉ ุจุนุถ ุฌูู NMEA ูู ูุฑุจุน ุงููุต. ุณูุชู ุฅุฑุณุงู ุฌููุน ูุฐู ุงููููุ ูุน ุชุฃุฎูุฑ ูุฏุฑู ุซุงููุฉ ูุงุญุฏุฉ ูุจู ูุฑุงุกุฉ ูู ุฌููุฉ GGA (ุชุซุจูุช ุงููููุน).

      ![ูุณุชุดุนุฑ GPS ูุน ุฅุนุฏุงุฏ ุฌูู NMEA](../../../../../translated_images/counterfit-gps-sensor-nmea.c62eea442171e17e19528b051b104cfcecdc9cd18db7bc72920f29821ae63f73.ar.png)

      ููููู ุงุณุชุฎุฏุงู ุฃุฏุงุฉ ูุซู [nmeagen.org](https://www.nmeagen.org) ูุฅูุดุงุก ูุฐู ุงูุฌูู ุนู ุทุฑูู ุงูุฑุณู ุนูู ุงูุฎุฑูุทุฉ. ุณูุชู ุฅุฑุณุงู ูุฐู ุงูููู ูุฑุฉ ูุงุญุฏุฉ ููุทุ ูุฐุง ุชุญูู ูู ูุฑุจุน **ุงูุชูุฑุงุฑ** ูุชูุฑุงุฑ ุงูุจูุงูุงุช ุจุนุฏ ุซุงููุฉ ูุงุญุฏุฉ ูู ุฅุฑุณุงููุง ุฌููุนูุง.

    * ุถุจุท **ุงููุตุฏุฑ** ุนูู ููู GPXุ ูุชุญููู ููู GPX ูุญุชูู ุนูู ููุงูุน ุงููุณุงุฑ. ููููู ุชูุฒูู ูููุงุช GPX ูู ุนุฏุฏ ูู ููุงูุน ุงูุฎุฑุงุฆุท ูุงููุดู ุงูุดููุฑุฉุ ูุซู [AllTrails](https://www.alltrails.com/). ุชุญุชูู ูุฐู ุงููููุงุช ุนูู ููุงูุน GPS ูุชุนุฏุฏุฉ ููุณุงุฑุ ูุณูุนูุฏ ูุณุชุดุนุฑ GPS ูู ูููุน ุฌุฏูุฏ ุจูุงุตู ุฒููู ูุฏุฑู ุซุงููุฉ ูุงุญุฏุฉ.

      ![ูุณุชุดุนุฑ GPS ูุน ุฅุนุฏุงุฏ ููู GPX](../../../../../translated_images/counterfit-gps-sensor-gpxfile.8310b063ce8a425ccc8ebeec8306aeac5e8e55207f007d52c6e1194432a70cd9.ar.png)

      ุณูุชู ุฅุฑุณุงู ูุฐู ุงูููู ูุฑุฉ ูุงุญุฏุฉ ููุทุ ูุฐุง ุชุญูู ูู ูุฑุจุน **ุงูุชูุฑุงุฑ** ูุชูุฑุงุฑ ุงูุจูุงูุงุช ุจุนุฏ ุซุงููุฉ ูุงุญุฏุฉ ูู ุฅุฑุณุงููุง ุฌููุนูุง.

    ุจูุฌุฑุฏ ุชูููู ุฅุนุฏุงุฏุงุช GPSุ ุงุฎุชุฑ ุฒุฑ **ุชุนููู** ูุชุทุจูู ูุฐู ุงูููู ุนูู ุงููุณุชุดุนุฑ.

1. ุณุชุฑู ุงูุฅุฎุฑุงุฌ ุงูุฎุงู ูู ูุณุชุดุนุฑ GPSุ ุดูุก ูุซู ุงูุชุงูู:

    ```output
    $GNGGA,020604.001,4738.538654,N,12208.341758,W,1,3,,164.7,M,-17.1,M,,*67
    $GNGGA,020604.001,4738.538654,N,12208.341758,W,1,3,,164.7,M,-17.1,M,,*67
    ```

> ๐ ููููู ุงูุนุซูุฑ ุนูู ูุฐุง ุงูููุฏ ูู ุงููุฌูุฏ [code-gps/virtual-device](../../../../../3-transport/lessons/1-location-tracking/code-gps/virtual-device).

๐ ููุฏ ูุฌุญุช ูู ุจุฑูุฌุฉ ูุณุชุดุนุฑ GPS ุงูุฎุงุต ุจู!

---

**ุฅุฎูุงุก ุงููุณุคูููุฉ**:  
ุชู ุชุฑุฌูุฉ ูุฐุง ุงููุณุชูุฏ ุจุงุณุชุฎุฏุงู ุฎุฏูุฉ ุงูุชุฑุฌูุฉ ุจุงูุฐูุงุก ุงูุงุตุทูุงุนู [Co-op Translator](https://github.com/Azure/co-op-translator). ุจูููุง ูุณุนู ูุชุญููู ุงูุฏูุฉุ ูุฑุฌู ุงูุนูู ุฃู ุงูุชุฑุฌูุงุช ุงูุขููุฉ ูุฏ ุชุญุชูู ุนูู ุฃุฎุทุงุก ุฃู ุนุฏู ุฏูุฉ. ูุฌุจ ุงุนุชุจุงุฑ ุงููุณุชูุฏ ุงูุฃุตูู ุจูุบุชู ุงูุฃุตููุฉ ุงููุตุฏุฑ ุงูุฑุณูู. ููุญุตูู ุนูู ูุนูููุงุช ุญุงุณูุฉุ ูููุตู ุจุงูุงุณุชุนุงูุฉ ุจุชุฑุฌูุฉ ุจุดุฑูุฉ ุงุญุชุฑุงููุฉ. ูุญู ุบูุฑ ูุณุคูููู ุนู ุฃู ุณูุก ููู ุฃู ุชูุณูุฑุงุช ุฎุงุทุฆุฉ ุชูุดุฃ ุนู ุงุณุชุฎุฏุงู ูุฐู ุงูุชุฑุฌูุฉ.