<!--
CO_OP_TRANSLATOR_METADATA:
{
  "original_hash": "3b2448c7ab4e9673e77e35a50c5e350d",
  "translation_date": "2025-08-27T00:50:36+00:00",
  "source_file": "3-transport/lessons/1-location-tracking/pi-gps-sensor.md",
  "language_code": "ar"
}
-->
# ูุฑุงุกุฉ ุจูุงูุงุช GPS - Raspberry Pi

ูู ูุฐุง ุงูุฌุฒุก ูู ุงูุฏุฑุณุ ุณุชููู ุจุฅุถุงูุฉ ูุณุชุดุนุฑ GPS ุฅูู Raspberry Pi ููุฑุงุกุฉ ุงูููู ููู.

## ุงูุฃุฌูุฒุฉ

ูุญุชุงุฌ Raspberry Pi ุฅูู ูุณุชุดุนุฑ GPS.

ุงููุณุชุดุนุฑ ุงูุฐู ุณุชุณุชุฎุฏูู ูู [ูุณุชุดุนุฑ Grove GPS Air530](https://www.seeedstudio.com/Grove-GPS-Air530-p-4584.html). ูููู ููุฐุง ุงููุณุชุดุนุฑ ุงูุงุชุตุงู ุจุฃูุธูุฉ GPS ูุชุนุฏุฏุฉ ููุญุตูู ุนูู ุฅุดุงุฑุฉ ุณุฑูุนุฉ ูุฏูููุฉ. ูุชููู ุงููุณุชุดุนุฑ ูู ุฌุฒุฆูู - ุงูุฅููุชุฑูููุงุช ุงูุฃุณุงุณูุฉ ูููุณุชุดุนุฑ ูููุงุฆู ุฎุงุฑุฌู ูุชุตู ุจุณูู ุฑููุน ูุงูุชูุงุท ููุฌุงุช ุงูุฑุงุฏูู ูู ุงูุฃููุงุฑ ุงูุตูุงุนูุฉ.

ูุฐุง ุงููุณุชุดุนุฑ ูุนูู ุนุจุฑ UARTุ ูุฐุง ูุฑุณู ุจูุงูุงุช GPS ุนุจุฑ UART.

## ุชูุตูู ูุณุชุดุนุฑ GPS

ูููู ุชูุตูู ูุณุชุดุนุฑ Grove GPS ุจู Raspberry Pi.

### ุงููููุฉ - ุชูุตูู ูุณุชุดุนุฑ GPS

ูู ุจุชูุตูู ูุณุชุดุนุฑ GPS.

![ูุณุชุดุนุฑ Grove GPS](../../../../../translated_images/grove-gps-sensor.247943bf69b03f0d1820ef6ed10c587f9b650e8db55b936851c92412180bd3e2.ar.png)

1. ุฃุฏุฎู ุฃุญุฏ ุทุฑูู ูุงุจู Grove ูู ุงูููุจุณ ุงูููุฌูุฏ ุนูู ูุณุชุดุนุฑ GPS. ูู ูุฏุฎู ุฅูุง ูู ุงุชุฌุงู ูุงุญุฏ.

1. ูุน ุฅููุงู ุชุดุบูู Raspberry Piุ ูู ุจุชูุตูู ุงูุทุฑู ุงูุขุฎุฑ ูู ูุงุจู Grove ุจููุจุณ UART ุงููุณูู **UART** ุนูู ูุจุนุฉ Grove Base ุงููุซุจุชุฉ ุนูู Pi. ููุฌุฏ ูุฐุง ุงูููุจุณ ูู ุงูุตู ุงูุฃูุณุทุ ุนูู ุงูุฌุงูุจ ุงูุฃูุฑุจ ุฅูู ูุชุญุฉ ุจุทุงูุฉ SDุ ูู ุงูุทุฑู ุงูุขุฎุฑ ูู ููุงูุฐ USB ูููุจุณ ุงูุฅูุซุฑูุช.

    ![ูุณุชุดุนุฑ Grove GPS ูุชุตู ุจููุจุณ UART](../../../../../translated_images/pi-gps-sensor.1f99ee2b2f6528915047ec78967bd362e0e4ee0ed594368a3837b9cf9cdaca64.ar.png)

1. ุถุน ูุณุชุดุนุฑ GPS ุจุญูุซ ูููู ุงูููุงุฆู ุงููุชุตู ุจู ูุฑุฆููุง ููุณูุงุก - ูู ุงูุฃูุถู ุฃู ูููู ุจุฌุงูุจ ูุงูุฐุฉ ููุชูุญุฉ ุฃู ูู ุงูุฎุงุฑุฌ. ูู ุงูุฃุณูู ุงูุญุตูู ุนูู ุฅุดุงุฑุฉ ูุงุถุญุฉ ุจุฏูู ูุฌูุฏ ุนูุงุฆู ุฃูุงู ุงูููุงุฆู.

## ุจุฑูุฌุฉ ูุณุชุดุนุฑ GPS

ูููู ุงูุขู ุจุฑูุฌุฉ Raspberry Pi ูุงุณุชุฎุฏุงู ูุณุชุดุนุฑ GPS ุงููุชุตู.

### ุงููููุฉ - ุจุฑูุฌุฉ ูุณุชุดุนุฑ GPS

ูู ุจุจุฑูุฌุฉ ุงูุฌูุงุฒ.

1. ูู ุจุชุดุบูู Pi ูุงูุชุธุฑ ุญุชู ูุชู ุงูุฅููุงุน.

1. ูุญุชูู ูุณุชุดุนุฑ GPS ุนูู ูุตุจุงุญูู LED - ูุตุจุงุญ ุฃุฒุฑู ูููุถ ุนูุฏ ุฅุฑุณุงู ุงูุจูุงูุงุชุ ููุตุจุงุญ ุฃุฎุถุฑ ูููุถ ูู ุซุงููุฉ ุนูุฏ ุงุณุชูุจุงู ุงูุจูุงูุงุช ูู ุงูุฃููุงุฑ ุงูุตูุงุนูุฉ. ุชุฃูุฏ ูู ุฃู ุงููุตุจุงุญ ุงูุฃุฒุฑู ูููุถ ุนูุฏ ุชุดุบูู Pi. ุจุนุฏ ุจุถุน ุฏูุงุฆูุ ุณูุจุฏุฃ ุงููุตุจุงุญ ุงูุฃุฎุถุฑ ูู ุงููููุถ - ุฅุฐุง ูู ูุญุฏุซ ุฐููุ ูุฏ ุชุญุชุงุฌ ุฅูู ุฅุนุงุฏุฉ ูุถุน ุงูููุงุฆู.

1. ูู ุจุชุดุบูู VS Codeุ ุฅูุง ูุจุงุดุฑุฉ ุนูู Piุ ุฃู ุนุจุฑ ุงูุงุชุตุงู ุจุงุณุชุฎุฏุงู ุฅุถุงูุฉ Remote SSH.

    > โ๏ธ ููููู ุงูุฑุฌูุน ุฅูู [ุงูุชุนูููุงุช ุงูุฎุงุตุฉ ุจุฅุนุฏุงุฏ ูุชุดุบูู VS Code ูู ุงูุฏุฑุณ ุงูุฃูู ุฅุฐุง ูุฒู ุงูุฃูุฑ](../../../1-getting-started/lessons/1-introduction-to-iot/pi.md).

1. ูุน ุงูุฅุตุฏุงุฑุงุช ุงูุฃุญุฏุซ ูู Raspberry Pi ุงูุชู ุชุฏุนู ุงูุจููุชูุซุ ููุงู ุชุนุงุฑุถ ุจูู ูููุฐ ุงูุณูุฑูุงู ุงููุณุชุฎุฏู ููุจููุชูุซ ูุงููููุฐ ุงููุณุชุฎุฏู ุจูุงุณุทุฉ ูููุฐ Grove UART. ูุฅุตูุงุญ ุฐููุ ูู ุจูุง ููู:

    1. ูู ูุงูุฐุฉ ุงูุฃูุงูุฑ ูู VS Codeุ ูู ุจุชุญุฑูุฑ ููู `/boot/config.txt` ุจุงุณุชุฎุฏุงู `nano`ุ ููู ูุญุฑุฑ ูุตูุต ูุฏูุฌ ูู ูุงูุฐุฉ ุงูุฃูุงูุฑุ ุจุงุณุชุฎุฏุงู ุงูุฃูุฑ ุงูุชุงูู:

        ```sh
        sudo nano /boot/config.txt
        ```

        > ูุง ูููู ุชุญุฑูุฑ ูุฐุง ุงูููู ุจุงุณุชุฎุฏุงู VS Code ูุฃูู ูุชุทูุจ ุฃุฐููุงุช `sudo`ุ ููู ุฃุฐููุงุช ูุฑุชูุนุฉ. VS Code ูุง ูุนูู ุจูุฐู ุงูุฃุฐููุงุช.

    1. ุงุณุชุฎุฏู ููุงุชูุญ ุงูุฃุณูู ููุชููู ุฅูู ููุงูุฉ ุงููููุ ุซู ุงูุณุฎ ุงูููุฏ ุฃุฏูุงู ูุงูุตูู ูู ููุงูุฉ ุงูููู:

        ```ini
        dtoverlay=pi3-miniuart-bt
        dtoverlay=pi3-disable-bt
        enable_uart=1
        ```

        ููููู ุงููุตู ุจุงุณุชุฎุฏุงู ุงุฎุชุตุงุฑุงุช ููุญุฉ ุงูููุงุชูุญ ุงูุนุงุฏูุฉ ูุฌูุงุฒู (`Ctrl+v` ุนูู Windowsุ Linux ุฃู Raspberry Pi OSุ `Cmd+v` ุนูู macOS).

    1. ุงุญูุธ ูุฐุง ุงูููู ูุงุฎุฑุฌ ูู nano ุจุงูุถุบุท ุนูู `Ctrl+x`. ุงุถุบุท ุนูู `y` ุนูุฏูุง ููุทูุจ ููู ุญูุธ ุงูุชุนุฏููุงุชุ ุซู ุงุถุบุท ุนูู `enter` ูุชุฃููุฏ ุงููุชุงุจุฉ ููู `/boot/config.txt`.

        > ุฅุฐุง ุงุฑุชูุจุช ุฎุทุฃุ ููููู ุงูุฎุฑูุฌ ุฏูู ุญูุธุ ุซู ุชูุฑุงุฑ ูุฐู ุงูุฎุทูุงุช.

    1. ูู ุจุชุญุฑูุฑ ููู `/boot/cmdline.txt` ูู nano ุจุงุณุชุฎุฏุงู ุงูุฃูุฑ ุงูุชุงูู:

        ```sh
        sudo nano /boot/cmdline.txt
        ```

    1. ูุญุชูู ูุฐุง ุงูููู ุนูู ุนุฏุฏ ูู ุฃุฒูุงุฌ ุงูููุชุงุญ/ุงููููุฉ ููุตููุฉ ุจูุณุงูุงุช. ูู ุจุฅุฒุงูุฉ ุฃู ุฃุฒูุงุฌ ููุชุงุญ/ูููุฉ ููููุชุงุญ `console`. ูุฏ ุชุจุฏู ูุซู ูุฐุง:

        ```output
        console=serial0,115200 console=tty1 
        ```

        ููููู ุงูุชููู ุฅูู ูุฐู ุงูุฅุฏุฎุงูุงุช ุจุงุณุชุฎุฏุงู ููุงุชูุญ ุงูุฃุณููุ ุซู ุงูุญุฐู ุจุงุณุชุฎุฏุงู ููุงุชูุญ `del` ุฃู `backspace` ุงูุนุงุฏูุฉ.

        ุนูู ุณุจูู ุงููุซุงูุ ุฅุฐุง ูุงู ูููู ุงูุฃุตูู ูุจุฏู ููุฐุง:

        ```output
        console=serial0,115200 console=tty1 root=PARTUUID=058e2867-02 rootfstype=ext4 elevator=deadline fsck.repair=yes rootwait
        ```

        ุงููุณุฎุฉ ุงูุฌุฏูุฏุฉ ุณุชููู:

        ```output
        root=PARTUUID=058e2867-02 rootfstype=ext4 elevator=deadline fsck.repair=yes rootwait
        ```

    1. ุงุชุจุน ุงูุฎุทูุงุช ุฃุนูุงู ูุญูุธ ูุฐุง ุงูููู ูุงูุฎุฑูุฌ ูู nano.

    1. ุฃุนุฏ ุชุดุบูู Piุ ุซู ุฃุนุฏ ุงูุงุชุตุงู ุจู VS Code ุจูุฌุฑุฏ ุฅุนุงุฏุฉ ุชุดุบูู Pi.

1. ูู ูุงูุฐุฉ ุงูุฃูุงูุฑุ ูู ุจุฅูุดุงุก ูุฌูุฏ ุฌุฏูุฏ ูู ุฏููู ุงููุณุชุฎุฏู `pi` ูุณูู `gps-sensor`. ุฃูุดุฆ ููููุง ูู ูุฐุง ุงููุฌูุฏ ูุณูู `app.py`.

1. ุงูุชุญ ูุฐุง ุงููุฌูุฏ ูู VS Code.

1. ูุฑุณู ูุญุฏุฉ GPS ุจูุงูุงุช UART ุนุจุฑ ูููุฐ ุณูุฑูุงู. ูู ุจุชุซุจูุช ุญุฒูุฉ Pip `pyserial` ููุชูุงุตู ูุน ุงููููุฐ ุงูุณูุฑูุงู ูู ููุฏ Python ุงูุฎุงุต ุจู:

    ```sh
    pip3 install pyserial
    ```

1. ุฃุถู ุงูููุฏ ุงูุชุงูู ุฅูู ููู `app.py` ุงูุฎุงุต ุจู:

    ```python
    import time
    import serial
    
    serial = serial.Serial('/dev/ttyAMA0', 9600, timeout=1)
    serial.reset_input_buffer()
    serial.flush()
    
    def print_gps_data(line):
        print(line.rstrip())
    
    while True:
        line = serial.readline().decode('utf-8')
    
        while len(line) > 0:
            print_gps_data(line)
            line = serial.readline().decode('utf-8')
    
        time.sleep(1)
    ```

    ูููู ูุฐุง ุงูููุฏ ุจุงุณุชูุฑุงุฏ ูุญุฏุฉ `serial` ูู ุญุฒูุฉ Pip `pyserial`. ุซู ูุชุตู ุจูููุฐ ุงูุณูุฑูุงู `/dev/ttyAMA0` - ูุฐุง ูู ุนููุงู ูููุฐ ุงูุณูุฑูุงู ุงูุฐู ูุณุชุฎุฏูู Grove Pi Base Hat ููููุฐ UART ุงูุฎุงุต ุจู. ุซู ูููู ุจูุณุญ ุฃู ุจูุงูุงุช ููุฌูุฏุฉ ูู ูุฐุง ุงูุงุชุตุงู ุงูุณูุฑูุงูู.

    ุจุนุฏ ุฐููุ ูุชู ุชุนุฑูู ุฏุงูุฉ ุชุณูู `print_gps_data` ุชููู ุจุทุจุงุนุฉ ุงูุณุทุฑ ุงูููุฑุฑ ุฅูููุง ุฅูู ูุญุฏุฉ ุงูุชุญูู.

    ุจุนุฏ ุฐููุ ูููู ุงูููุฏ ุจุงูุชูุฑุงุฑ ุฅูู ุงูุฃุจุฏุ ุญูุซ ููุฑุฃ ุฃูุจุฑ ุนุฏุฏ ูููู ูู ุงูุฃุณุทุฑ ุงููุตูุฉ ูู ุงููููุฐ ุงูุณูุฑูุงูู ูู ูู ุชูุฑุงุฑ. ูุณุชุฏุนู ุฏุงูุฉ `print_gps_data` ููู ุณุทุฑ.

    ุจุนุฏ ูุฑุงุกุฉ ุฌููุน ุงูุจูุงูุงุชุ ููุงู ุงูุชูุฑุงุฑ ููุฏุฉ ุซุงููุฉ ูุงุญุฏุฉุ ุซู ูุญุงูู ูุฑุฉ ุฃุฎุฑู.

1. ูู ุจุชุดุบูู ูุฐุง ุงูููุฏ. ุณุชุฑู ุงููุฎุฑุฌุงุช ุงูุฎุงู ูู ูุณุชุดุนุฑ GPSุ ุดูุก ูุซู ุงูุชุงูู:

    ```output
    $GNGGA,020604.001,4738.538654,N,12208.341758,W,1,3,,164.7,M,-17.1,M,,*67
    $GPGSA,A,1,,,,,,,,,,,,,,,*1E
    $BDGSA,A,1,,,,,,,,,,,,,,,*0F
    $GPGSV,1,1,00*79
    $BDGSV,1,1,00*68
    ```

    > ุฅุฐุง ุญุตูุช ุนูู ุฃุญุฏ ุงูุฃุฎุทุงุก ุงูุชุงููุฉ ุนูุฏ ุฅููุงู ูุฅุนุงุฏุฉ ุชุดุบูู ุงูููุฏุ ุฃุถู ูุชูุฉ `try - except` ุฅูู ุญููุฉ while ุงูุฎุงุตุฉ ุจู.

      ```output
      UnicodeDecodeError: 'utf-8' codec can't decode byte 0x93 in position 0: invalid start byte
      UnicodeDecodeError: 'utf-8' codec can't decode byte 0xf1 in position 0: invalid continuation byte
      ```

    ```python
    while True:
        try:
            line = serial.readline().decode('utf-8')
              
            while len(line) > 0:
                print_gps_data()
                line = serial.readline().decode('utf-8')
      
        # There's a random chance the first byte being read is part way through a character.
        # Read another full line and continue.

        except UnicodeDecodeError:
            line = serial.readline().decode('utf-8')

    time.sleep(1)
    ```

> ๐ ููููู ุงูุนุซูุฑ ุนูู ูุฐุง ุงูููุฏ ูู ูุฌูุฏ [code-gps/pi](../../../../../3-transport/lessons/1-location-tracking/code-gps/pi).

๐ ููุฏ ูุฌุญุช ูู ุจุฑูุฌุฉ ูุณุชุดุนุฑ GPS ุงูุฎุงุต ุจู!

---

**ุฅุฎูุงุก ุงููุณุคูููุฉ**:  
ุชู ุชุฑุฌูุฉ ูุฐุง ุงููุณุชูุฏ ุจุงุณุชุฎุฏุงู ุฎุฏูุฉ ุงูุชุฑุฌูุฉ ุจุงูุฐูุงุก ุงูุงุตุทูุงุนู [Co-op Translator](https://github.com/Azure/co-op-translator). ุจูููุง ูุณุนู ูุชุญููู ุงูุฏูุฉุ ูุฑุฌู ุงูุนูู ุฃู ุงูุชุฑุฌูุงุช ุงูุขููุฉ ูุฏ ุชุญุชูู ุนูู ุฃุฎุทุงุก ุฃู ูุนูููุงุช ุบูุฑ ุฏูููุฉ. ูุฌุจ ุงุนุชุจุงุฑ ุงููุณุชูุฏ ุงูุฃุตูู ุจูุบุชู ุงูุฃุตููุฉ ุงููุตุฏุฑ ุงูุฑุณูู. ููุญุตูู ุนูู ูุนูููุงุช ุญุงุณูุฉุ ูููุตู ุจุงูุงุณุชุนุงูุฉ ุจุชุฑุฌูุฉ ุจุดุฑูุฉ ุงุญุชุฑุงููุฉ. ูุญู ุบูุฑ ูุณุคูููู ุนู ุฃู ุณูุก ููู ุฃู ุชูุณูุฑุงุช ุฎุงุทุฆุฉ ูุงุชุฌุฉ ุนู ุงุณุชุฎุฏุงู ูุฐู ุงูุชุฑุฌูุฉ.