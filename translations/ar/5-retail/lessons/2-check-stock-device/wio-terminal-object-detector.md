<!--
CO_OP_TRANSLATOR_METADATA:
{
  "original_hash": "4cf1421420a6fab9ab4f2c391bd523b7",
  "translation_date": "2025-08-26T21:36:02+00:00",
  "source_file": "5-retail/lessons/2-check-stock-device/wio-terminal-object-detector.md",
  "language_code": "ar"
}
-->
# ุงุณุชุฏุนุงุก ูุงุดู ุงููุงุฆูุงุช ูู ุฌูุงุฒ ุฅูุชุฑูุช ุงูุฃุดูุงุก ุงูุฎุงุต ุจู - Wio Terminal

ุจูุฌุฑุฏ ูุดุฑ ูุงุดู ุงููุงุฆูุงุช ุงูุฎุงุต ุจูุ ูููู ุงุณุชุฎุฏุงูู ูู ุฌูุงุฒ ุฅูุชุฑูุช ุงูุฃุดูุงุก ุงูุฎุงุต ุจู.

## ูุณุฎ ูุดุฑูุน ุชุตููู ุงูุตูุฑ

ูุนุธู ูุงุดู ุงููุฎุฒูู ุงูุฎุงุต ุจู ูุดุงุจู ููุตูู ุงูุตูุฑ ุงูุฐู ุฃูุดุฃุชู ูู ุฏุฑุณ ุณุงุจู.

### ุงููููุฉ - ูุณุฎ ูุดุฑูุน ุชุตููู ุงูุตูุฑ

1. ูู ุจุชูุตูู ูุงููุฑุง ArduCam ุจุฌูุงุฒ Wio Terminal ุงูุฎุงุต ุจูุ ุจุงุชุจุงุน ุงูุฎุทูุงุช ูู [ุงูุฏุฑุณ ุงูุซุงูู ูู ูุดุฑูุน ุงูุชุตููุน](../../../4-manufacturing/lessons/2-check-fruit-from-device/wio-terminal-camera.md#task---connect-the-camera).

    ูุฏ ุชุฑุบุจ ุฃูุถูุง ูู ุชุซุจูุช ุงููุงููุฑุง ูู ูุถุน ุซุงุจุชุ ุนูู ุณุจูู ุงููุซุงูุ ุนู ุทุฑูู ุชุนููู ุงููุงุจู ููู ุตูุฏูู ุฃู ุนูุจุฉุ ุฃู ุชุซุจูุช ุงููุงููุฑุง ุนูู ุตูุฏูู ุจุงุณุชุฎุฏุงู ุดุฑูุท ูุงุตู ูุฒุฏูุฌ.

1. ูู ุจุฅูุดุงุก ูุดุฑูุน ุฌุฏูุฏ ุชูุงููุง ูุฌูุงุฒ Wio Terminal ุจุงุณุชุฎุฏุงู PlatformIO. ูู ุจุชุณููุฉ ูุฐุง ุงููุดุฑูุน `stock-counter`.

1. ูู ุจุชูุฑุงุฑ ุงูุฎุทูุงุช ูู [ุงูุฏุฑุณ ุงูุซุงูู ูู ูุดุฑูุน ุงูุชุตููุน](../../../4-manufacturing/lessons/2-check-fruit-from-device/README.md#task---capture-an-image-using-an-iot-device) ูุงูุชูุงุท ุงูุตูุฑ ูู ุงููุงููุฑุง.

1. ูู ุจุชูุฑุงุฑ ุงูุฎุทูุงุช ูู [ุงูุฏุฑุณ ุงูุซุงูู ูู ูุดุฑูุน ุงูุชุตููุน](../../../4-manufacturing/lessons/2-check-fruit-from-device/README.md#task---classify-images-from-your-iot-device) ูุงุณุชุฏุนุงุก ูุตูู ุงูุตูุฑ. ุณูุชู ุฅุนุงุฏุฉ ุงุณุชุฎุฏุงู ูุนุธู ูุฐุง ุงูููุฏ ูุงูุชุดุงู ุงููุงุฆูุงุช.

## ุชุบููุฑ ุงูููุฏ ูู ูุตูู ุฅูู ูุงุดู ุงูุตูุฑ

ุงูููุฏ ุงูุฐู ุงุณุชุฎุฏูุชู ูุชุตููู ุงูุตูุฑ ูุดุงุจู ุฌุฏูุง ููููุฏ ุงููุณุชุฎุฏู ูุงูุชุดุงู ุงููุงุฆูุงุช. ุงููุฑู ุงูุฑุฆูุณู ูู ุนููุงู URL ุงูุฐู ูุชู ุงุณุชุฏุนุงุคู ูุงูุฐู ุญุตูุช ุนููู ูู Custom Visionุ ููุชุงุฆุฌ ุงูุงุณุชุฏุนุงุก.

### ุงููููุฉ - ุชุบููุฑ ุงูููุฏ ูู ูุตูู ุฅูู ูุงุดู ุงูุตูุฑ

1. ุฃุถู ุงูุชูุฌูู ุงูุชุงูู ุฅูู ุฃุนูู ููู `main.cpp`:

    ```cpp
    #include <vector>
    ```

1. ูู ุจุฅุนุงุฏุฉ ุชุณููุฉ ูุธููุฉ `classifyImage` ุฅูู `detectStock`ุ ุณูุงุก ุงุณู ุงููุธููุฉ ุฃู ุงูุงุณุชุฏุนุงุก ูู ูุธููุฉ `buttonPressed`.

1. ููู ูุธููุฉ `detectStock`ุ ูู ุจุชุญุฏูุฏ ุนุชุจุฉ ูุชุตููุฉ ุฃู ุงูุชุดุงูุงุช ุฐุงุช ุงุญุชูุงููุฉ ููุฎูุถุฉ:

    ```cpp
    const float threshold = 0.3f;
    ```

    ุนูู ุนูุณ ูุตูู ุงูุตูุฑ ุงูุฐู ูุนูุฏ ูุชูุฌุฉ ูุงุญุฏุฉ ููุท ููู ุนูุงูุฉุ ูุฅู ูุงุดู ุงููุงุฆูุงุช ุณูุนูุฏ ูุชุงุฆุฌ ูุชุนุฏุฏุฉุ ูุฐุง ูุฌุจ ุชุตููุฉ ุฃู ูุชุงุฆุฌ ุฐุงุช ุงุญุชูุงููุฉ ููุฎูุถุฉ.

1. ููู ูุธููุฉ `detectStock`ุ ูู ุจุชุญุฏูุฏ ูุธููุฉ ููุนุงูุฌุฉ ุงูุชููุนุงุช:

    ```cpp
    void processPredictions(std::vector<JsonVariant> &predictions)
    {
        for(JsonVariant prediction : predictions)
        {
            String tag = prediction["tagName"].as<String>();
            float probability = prediction["probability"].as<float>();
    
            char buff[32];
            sprintf(buff, "%s:\t%.2f%%", tag.c_str(), probability * 100.0);
            Serial.println(buff);
        }
    }
    ```

    ูุฐู ุงููุธููุฉ ุชุฃุฎุฐ ูุงุฆูุฉ ุจุงูุชููุนุงุช ูุชุทุจุนูุง ุฅูู ุดุงุดุฉ ุงููุฑุงูุจุฉ ุงูุชุณูุณููุฉ.

1. ูู ูุธููุฉ `detectStock`ุ ุงุณุชุจุฏู ูุญุชููุงุช ุงูุญููุฉ `for` ุงูุชู ุชุฏูุฑ ุนุจุฑ ุงูุชููุนุงุช ุจูุง ููู:

    ```cpp
    std::vector<JsonVariant> passed_predictions;

    for(JsonVariant prediction : predictions) 
    {
        float probability = prediction["probability"].as<float>();
        if (probability > threshold)
        {
            passed_predictions.push_back(prediction);
        }
    }

    processPredictions(passed_predictions);
    ```

    ูุฐู ุงูุญููุฉ ุชุฏูุฑ ุนุจุฑ ุงูุชููุนุงุชุ ูุชูุงุฑู ุงูุงุญุชูุงููุฉ ุจุงูุนุชุจุฉ. ูุชู ุฅุถุงูุฉ ุฌููุน ุงูุชููุนุงุช ุงูุชู ูุฏููุง ุงุญุชูุงููุฉ ุฃุนูู ูู ุงูุนุชุจุฉ ุฅูู ูุงุฆูุฉ ููุชู ุชูุฑูุฑูุง ุฅูู ูุธููุฉ `processPredictions`.

1. ูู ุจุฑูุน ูุชุดุบูู ุงูููุฏ ุงูุฎุงุต ุจู. ูุฌู ุงููุงููุฑุง ูุญู ุงููุงุฆูุงุช ุนูู ุฑู ูุงุถุบุท ุนูู ุฒุฑ C. ุณุชุฑู ุงูุฅุฎุฑุงุฌ ูู ุดุงุดุฉ ุงููุฑุงูุจุฉ ุงูุชุณูุณููุฉ:

    ```output
    Connecting to WiFi..
    Connected!
    Image captured
    Image read to buffer with length 17416
    tomato paste:   35.84%
    tomato paste:   35.87%
    tomato paste:   34.11%
    tomato paste:   35.16%
    ```

    > ๐ ูุฏ ุชุญุชุงุฌ ุฅูู ุถุจุท ูููุฉ `threshold` ูุชูุงุณุจ ุตูุฑู.

    ุณุชุชููู ูู ุฑุคูุฉ ุงูุตูุฑุฉ ุงูุชู ุชู ุงูุชูุงุทูุงุ ููุฐู ุงูููู ูู ุนูุงูุฉ ุงูุชุจููุจ **Predictions** ูู Custom Vision.

    ![4 ุนูุจ ูู ูุนุฌูู ุงูุทูุงุทู ุนูู ุฑู ูุน ุชููุนุงุช ูู 4 ุงูุชุดุงูุงุช ุจูุณุจุฉ 35.8%ุ 33.5%ุ 25.7% ู16.6%](../../../../../translated_images/custom-vision-stock-prediction.942266ab1bcca3410ecdf23643b9f5f570cfab2345235074e24c51f285777613.ar.png)

> ๐ ููููู ุงูุนุซูุฑ ุนูู ูุฐุง ุงูููุฏ ูู ูุฌูุฏ [code-detect/wio-terminal](../../../../../5-retail/lessons/2-check-stock-device/code-detect/wio-terminal).

๐ ุจุฑูุงูุฌ ุนุฏุงุฏ ุงููุฎุฒูู ุงูุฎุงุต ุจู ูุงู ูุงุฌุญูุง!

---

**ุฅุฎูุงุก ุงููุณุคูููุฉ**:  
ุชู ุชุฑุฌูุฉ ูุฐุง ุงููุณุชูุฏ ุจุงุณุชุฎุฏุงู ุฎุฏูุฉ ุงูุชุฑุฌูุฉ ุจุงูุฐูุงุก ุงูุงุตุทูุงุนู [Co-op Translator](https://github.com/Azure/co-op-translator). ุจูููุง ูุณุนู ูุชุญููู ุงูุฏูุฉุ ูุฑุฌู ุงูุนูู ุฃู ุงูุชุฑุฌูุงุช ุงูุขููุฉ ูุฏ ุชุญุชูู ุนูู ุฃุฎุทุงุก ุฃู ูุนูููุงุช ุบูุฑ ุฏูููุฉ. ูุฌุจ ุงุนุชุจุงุฑ ุงููุณุชูุฏ ุงูุฃุตูู ุจูุบุชู ุงูุฃุตููุฉ ุงููุตุฏุฑ ุงูููุซูู. ููุญุตูู ุนูู ูุนูููุงุช ุญุงุณูุฉุ ูููุตู ุจุงูุงุณุชุนุงูุฉ ุจุชุฑุฌูุฉ ุจุดุฑูุฉ ุงุญุชุฑุงููุฉ. ูุญู ุบูุฑ ูุณุคูููู ุนู ุฃู ุณูุก ููู ุฃู ุชูุณูุฑุงุช ุฎุงุทุฆุฉ ุชูุดุฃ ุนู ุงุณุชุฎุฏุงู ูุฐู ุงูุชุฑุฌูุฉ.