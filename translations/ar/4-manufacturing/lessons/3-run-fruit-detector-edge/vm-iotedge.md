<!--
CO_OP_TRANSLATOR_METADATA:
{
  "original_hash": "24dc783a600e20251211987b36370e93",
  "translation_date": "2025-08-26T22:02:11+00:00",
  "source_file": "4-manufacturing/lessons/3-run-fruit-detector-edge/vm-iotedge.md",
  "language_code": "ar"
}
-->
# ุฅูุดุงุก ุขูุฉ ุงูุชุฑุงุถูุฉ ุชุนูู ุจูุธุงู IoT Edge

ูู Azureุ ููููู ุฅูุดุงุก ุขูุฉ ุงูุชุฑุงุถูุฉ - ููู ุนุจุงุฑุฉ ุนู ุฌูุงุฒ ููุจููุชุฑ ูู ุงูุณุญุงุจุฉ ููููู ุชููููู ุจุงูุทุฑููุฉ ุงูุชู ุชุฑูุฏูุง ูุชุดุบูู ุจุฑุงูุฌู ุงูุฎุงุตุฉ ุนููู.

> ๐ ููููู ูุฑุงุกุฉ ุงููุฒูุฏ ุนู ุงูุขูุงุช ุงูุงูุชุฑุงุถูุฉ ุนูู [ุตูุญุฉ ุงูุขูุฉ ุงูุงูุชุฑุงุถูุฉ ูู ููููุจูุฏูุง](https://wikipedia.org/wiki/Virtual_machine).

## ุงููููุฉ - ุฅุนุฏุงุฏ ุขูุฉ ุงูุชุฑุงุถูุฉ ููุธุงู IoT Edge

1. ูู ุจุชุดุบูู ุงูุฃูุฑ ุงูุชุงูู ูุฅูุดุงุก ุขูุฉ ุงูุชุฑุงุถูุฉ ุชุญุชูู ุจุงููุนู ุนูู Azure IoT Edge ูุซุจุช ูุณุจููุง:

    ```sh
    az deployment group create \
                --resource-group fruit-quality-detector \
                --template-uri https://raw.githubusercontent.com/Azure/iotedge-vm-deploy/1.2.0/edgeDeploy.json \
                --parameters dnsLabelPrefix=<vm_name> \
                --parameters adminUsername=<username> \
                --parameters deviceConnectionString="<connection_string>" \
                --parameters authenticationType=password \
                --parameters adminPasswordOrKey="<password>"
    ```

    ุงุณุชุจุฏู `<vm_name>` ุจุงุณู ููุฐู ุงูุขูุฉ ุงูุงูุชุฑุงุถูุฉ. ูุฌุจ ุฃู ูููู ูุฐุง ุงูุงุณู ูุฑูุฏูุง ุนุงููููุงุ ูุฐุง ุงุณุชุฎุฏู ุดูุฆูุง ูุซู `fruit-quality-detector-vm-` ูุน ุงุณูู ุฃู ูููุฉ ุฃุฎุฑู ูู ุงูููุงูุฉ.

    ุงุณุชุจุฏู `<username>` ู `<password>` ุจุงุณู ูุณุชุฎุฏู ููููุฉ ูุฑูุฑ ูุชุณุฌูู ุงูุฏุฎูู ุฅูู ุงูุขูุฉ ุงูุงูุชุฑุงุถูุฉ. ูุฌุจ ุฃู ุชููู ูุฐู ุงูุจูุงูุงุช ุขููุฉ ูุณุจููุงุ ูุฐุง ูุง ููููู ุงุณุชุฎุฏุงู admin/password.

    ุงุณุชุจุฏู `<connection_string>` ุจุณูุณูุฉ ุงูุงุชุตุงู ุงูุฎุงุตุฉ ุจุฌูุงุฒ IoT Edge ุงูุฎุงุต ุจู `fruit-quality-detector-edge`.

    ุณูุคุฏู ูุฐุง ุฅูู ุฅูุดุงุก ุขูุฉ ุงูุชุฑุงุถูุฉ ุชู ุชูููููุง ูุขูุฉ ุงูุชุฑุงุถูุฉ ูู ููุน `DS1 v2`. ุชุดูุฑ ูุฐู ุงููุฆุงุช ุฅูู ูุฏู ููุฉ ุงูุฌูุงุฒุ ูุจุงูุชุงูู ุฅูู ุชูููุชู. ุชุญุชูู ูุฐู ุงูุขูุฉ ุงูุงูุชุฑุงุถูุฉ ุนูู ูุญุฏุฉ ูุนุงูุฌุฉ ูุฑูุฒูุฉ ูุงุญุฏุฉ ูุฐุงูุฑุฉ RAM ุจุณุนุฉ 3.5 ุฌูุฌุงุจุงูุช.

    > ๐ฐ ููููู ุงูุงุทูุงุน ุนูู ุงูุฃุณุนุงุฑ ุงูุญุงููุฉ ููุฐู ุงูุขูุงุช ุงูุงูุชุฑุงุถูุฉ ูู [ุฏููู ุฃุณุนุงุฑ ุงูุขูุงุช ุงูุงูุชุฑุงุถูุฉ ูู Azure](https://azure.microsoft.com/pricing/details/virtual-machines/linux/?WT.mc_id=academic-17441-jabenn)

    ุจูุฌุฑุฏ ุฅูุดุงุก ุงูุขูุฉ ุงูุงูุชุฑุงุถูุฉุ ุณูุชู ุชุซุจูุช ูุธุงู ุชุดุบูู IoT Edge ุชููุงุฆููุงุ ูุณูุชู ุชููููู ููุงุชุตุงู ุจูุฑูุฒ IoT ุงูุฎุงุต ุจู ูุฌูุงุฒ `fruit-quality-detector-edge`.

1. ุณุชุญุชุงุฌ ุฅูู ุนููุงู IP ุฃู ุงุณู DNS ุงูุฎุงุต ุจุงูุขูุฉ ุงูุงูุชุฑุงุถูุฉ ูุงุณุชุฏุนุงุก ูุตูู ุงูุตูุฑ ูููุง. ูู ุจุชุดุบูู ุงูุฃูุฑ ุงูุชุงูู ููุญุตูู ุนูู ุฐูู:

    ```sh
    az vm list --resource-group fruit-quality-detector \
               --output table \
               --show-details
    ```

    ูู ุจูุณุฎ ุฅูุง ุงูุญูู `PublicIps` ุฃู ุงูุญูู `Fqdns`.

1. ุงูุขูุงุช ุงูุงูุชุฑุงุถูุฉ ุชููู ุงููุงู. ูู ููุช ูุชุงุจุฉ ูุฐุง ุงููุตุ ุชููู ุขูุฉ DS1 ุญูุงูู $0.06 ููู ุณุงุนุฉ. ูุชูููู ุงูุชูุงูููุ ูุฌุจ ุฅููุงู ุชุดุบูู ุงูุขูุฉ ุงูุงูุชุฑุงุถูุฉ ุนูุฏูุง ูุง ุชุณุชุฎุฏููุงุ ูุญุฐููุง ุนูุฏ ุงูุงูุชูุงุก ูู ูุฐุง ุงููุดุฑูุน.

    ููููู ุชูููู ุงูุขูุฉ ุงูุงูุชุฑุงุถูุฉ ููุฅููุงู ุงูุชููุงุฆู ูู ููุช ูุนูู ูู ููู. ูุฐุง ูุนูู ุฃูู ุฅุฐุง ูุณูุช ุฅููุงู ุชุดุบูููุงุ ููู ูุชู ูุญุงุณุจุชู ุฅูุง ุนูู ุงูููุช ุญุชู ุงูุฅููุงู ุงูุชููุงุฆู. ุงุณุชุฎุฏู ุงูุฃูุฑ ุงูุชุงูู ูุชุนููู ุฐูู:

    ```sh
    az vm auto-shutdown --resource-group fruit-quality-detector \
                        --name <vm_name> \
                        --time <shutdown_time_utc>
    ```

    ุงุณุชุจุฏู `<vm_name>` ุจุงุณู ุงูุขูุฉ ุงูุงูุชุฑุงุถูุฉ ุงูุฎุงุตุฉ ุจู.

    ุงุณุชุจุฏู `<shutdown_time_utc>` ุจุงูููุช UTC ุงูุฐู ุชุฑูุฏ ุฃู ูุชู ููู ุฅููุงู ุชุดุบูู ุงูุขูุฉ ุงูุงูุชุฑุงุถูุฉ ุจุงุณุชุฎุฏุงู 4 ุฃุฑูุงู ุจุตูุบุฉ HHMM. ุนูู ุณุจูู ุงููุซุงูุ ุฅุฐุง ููุช ุชุฑูุฏ ุงูุฅููุงู ุนูุฏ ููุชุตู ุงูููู UTCุ ููู ุจุชุนููู ูุฐุง ุฅูู `0000`. ุจุงููุณุจุฉ ููุณุงุนุฉ 7:30 ูุณุงุกู ุนูู ุงูุณุงุญู ุงูุบุฑุจู ููููุงูุงุช ุงููุชุญุฏุฉุ ุงุณุชุฎุฏู 0230 (ุงูุณุงุนุฉ 7:30 ูุณุงุกู ุนูู ุงูุณุงุญู ุงูุบุฑุจู ููููุงูุงุช ุงููุชุญุฏุฉ ุชุนุงุฏู ุงูุณุงุนุฉ 2:30 ุตุจุงุญูุง UTC).

1. ุณูููู ูุตูู ุงูุตูุฑ ุงูุฎุงุต ุจู ูุนูู ุนูู ูุฐุง ุงูุฌูุงุฒ ุงูุทุฑููุ ููุณุชูุน ุนูู ุงููููุฐ 80 (ุงููููุฐ ุงูููุงุณู ูู HTTP). ุจุดูู ุงูุชุฑุงุถูุ ูุชู ุญุธุฑ ุงูููุงูุฐ ุงููุงุฑุฏุฉ ูู ุงูุขูุงุช ุงูุงูุชุฑุงุถูุฉุ ูุฐุง ุณุชุญุชุงุฌ ุฅูู ุชูููู ุงููููุฐ 80. ูุชู ุชูููู ุงูููุงูุฐ ุนูู ูุฌููุนุงุช ุฃูุงู ุงูุดุจูุฉุ ูุฐุง ุชุญุชุงุฌ ุฃููุงู ุฅูู ูุนุฑูุฉ ุงุณู ูุฌููุนุฉ ุฃูุงู ุงูุดุจูุฉ ุงูุฎุงุตุฉ ุจุงูุขูุฉ ุงูุงูุชุฑุงุถูุฉุ ูุงูุฐู ููููู ุงูุนุซูุฑ ุนููู ุจุงุณุชุฎุฏุงู ุงูุฃูุฑ ุงูุชุงูู:

    ```sh
    az network nsg list --resource-group fruit-quality-detector \
                        --output table
    ```

    ูู ุจูุณุฎ ูููุฉ ุงูุญูู `Name`.

1. ูู ุจุชุดุบูู ุงูุฃูุฑ ุงูุชุงูู ูุฅุถุงูุฉ ูุงุนุฏุฉ ููุชุญ ุงููููุฐ 80 ุฅูู ูุฌููุนุฉ ุฃูุงู ุงูุดุจูุฉ:

    ```sh
    az network nsg rule create \
                        --resource-group fruit-quality-detector \
                        --name Port_80 \
                        --protocol tcp \
                        --priority 1010 \
                        --destination-port-range 80 \
                        --nsg-name <nsg name>
    ```

    ุงุณุชุจุฏู `<nsg name>` ุจุงุณู ูุฌููุนุฉ ุฃูุงู ุงูุดุจูุฉ ูู ุงูุฎุทูุฉ ุงูุณุงุจูุฉ.

### ุงููููุฉ - ุฅุฏุงุฑุฉ ุงูุขูุฉ ุงูุงูุชุฑุงุถูุฉ ูุชูููู ุงูุชูุงููู

1. ุนูุฏูุง ูุง ุชุณุชุฎุฏู ุงูุขูุฉ ุงูุงูุชุฑุงุถูุฉุ ูุฌุจ ุนููู ุฅููุงู ุชุดุบูููุง. ูุฅููุงู ุชุดุบูู ุงูุขูุฉ ุงูุงูุชุฑุงุถูุฉุ ุงุณุชุฎุฏู ุงูุฃูุฑ ุงูุชุงูู:

    ```sh
    az vm deallocate --resource-group fruit-quality-detector \
                     --name <vm_name>
    ```

    ุงุณุชุจุฏู `<vm_name>` ุจุงุณู ุงูุขูุฉ ุงูุงูุชุฑุงุถูุฉ ุงูุฎุงุตุฉ ุจู.

    > ๐ ููุงู ุฃูุฑ `az vm stop` ุงูุฐู ุณูููู ุงูุขูุฉ ุงูุงูุชุฑุงุถูุฉุ ูููู ูุญุชูุธ ุจุงูุฌูุงุฒ ูุฎุตุตูุง ููุ ูุฐุง ุณุชุธู ุชุฏูุน ููุง ูู ูุงู ูุง ูุฒุงู ูุนูู.

1. ูุฅุนุงุฏุฉ ุชุดุบูู ุงูุขูุฉ ุงูุงูุชุฑุงุถูุฉุ ุงุณุชุฎุฏู ุงูุฃูุฑ ุงูุชุงูู:

    ```sh
    az vm start --resource-group fruit-quality-detector \
                --name <vm_name>
    ```

    ุงุณุชุจุฏู `<vm_name>` ุจุงุณู ุงูุขูุฉ ุงูุงูุชุฑุงุถูุฉ ุงูุฎุงุตุฉ ุจู.

---

**ุฅุฎูุงุก ุงููุณุคูููุฉ**:  
ุชู ุชุฑุฌูุฉ ูุฐุง ุงููุณุชูุฏ ุจุงุณุชุฎุฏุงู ุฎุฏูุฉ ุงูุชุฑุฌูุฉ ุจุงูุฐูุงุก ุงูุงุตุทูุงุนู [Co-op Translator](https://github.com/Azure/co-op-translator). ุจูููุง ูุณุนู ูุชุญููู ุงูุฏูุฉุ ูุฑุฌู ุงูุนูู ุฃู ุงูุชุฑุฌูุงุช ุงูุขููุฉ ูุฏ ุชุญุชูู ุนูู ุฃุฎุทุงุก ุฃู ูุนูููุงุช ุบูุฑ ุฏูููุฉ. ูุฌุจ ุงุนุชุจุงุฑ ุงููุณุชูุฏ ุงูุฃุตูู ุจูุบุชู ุงูุฃุตููุฉ ุงููุตุฏุฑ ุงูุฑุณูู. ููุญุตูู ุนูู ูุนูููุงุช ุญุงุณูุฉุ ูููุตู ุจุงูุงุณุชุนุงูุฉ ุจุชุฑุฌูุฉ ุจุดุฑูุฉ ุงุญุชุฑุงููุฉ. ูุญู ุบูุฑ ูุณุคูููู ุนู ุฃู ุณูุก ููู ุฃู ุชูุณูุฑุงุช ุฎุงุทุฆุฉ ุชูุดุฃ ุนู ุงุณุชุฎุฏุงู ูุฐู ุงูุชุฑุฌูุฉ.