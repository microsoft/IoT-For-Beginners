<!--
CO_OP_TRANSLATOR_METADATA:
{
  "original_hash": "3ba7150ffc4a6999f6c3cfb4906ec7df",
  "translation_date": "2025-08-26T21:52:39+00:00",
  "source_file": "4-manufacturing/lessons/2-check-fruit-from-device/virtual-device-camera.md",
  "language_code": "ar"
}
-->
# ุงูุชูุงุท ุตูุฑุฉ - ุฌูุงุฒ ุฅูุชุฑูุช ุงูุฃุดูุงุก ุงูุงูุชุฑุงุถู

ูู ูุฐุง ุงูุฌุฒุก ูู ุงูุฏุฑุณุ ุณุชุถูู ูุณุชุดุนุฑ ูุงููุฑุง ุฅูู ุฌูุงุฒ ุฅูุชุฑูุช ุงูุฃุดูุงุก ุงูุงูุชุฑุงุถู ุงูุฎุงุต ุจูุ ูุชููู ุจูุฑุงุกุฉ ุงูุตูุฑ ููู.

## ุงูุฃุฌูุฒุฉ

ุณูุณุชุฎุฏู ุฌูุงุฒ ุฅูุชุฑูุช ุงูุฃุดูุงุก ุงูุงูุชุฑุงุถู ูุงููุฑุง ูุญุงูุงุฉ ุชุฑุณู ุฅูุง ุตูุฑูุง ูู ูููุงุช ุฃู ูู ูุงููุฑุง ุงูููุจ ุงูุฎุงุตุฉ ุจู.

### ุฅุถุงูุฉ ุงููุงููุฑุง ุฅูู CounterFit

ูุงุณุชุฎุฏุงู ูุงููุฑุง ุงูุชุฑุงุถูุฉุ ุชุญุชุงุฌ ุฅูู ุฅุถุงูุชูุง ุฅูู ุชุทุจูู CounterFit.

#### ุงููููุฉ - ุฅุถุงูุฉ ุงููุงููุฑุง ุฅูู CounterFit

ุฃุถู ุงููุงููุฑุง ุฅูู ุชุทุจูู CounterFit.

1. ูู ุจุฅูุดุงุก ุชุทุจูู Python ุฌุฏูุฏ ุนูู ุฌูุงุฒ ุงูููุจููุชุฑ ุงูุฎุงุต ุจู ูู ูุฌูุฏ ูุณูู `fruit-quality-detector` ูุญุชูู ุนูู ููู ูุงุญุฏ ูุณูู `app.py` ูุจูุฆุฉ ุงูุชุฑุงุถูุฉ ูู Pythonุ ูุฃุถู ุญุฒู CounterFit ุจุงุณุชุฎุฏุงู pip.

    > โ๏ธ ููููู ุงูุฑุฌูุน ุฅูู [ุงูุชุนูููุงุช ูุฅูุดุงุก ูุฅุนุฏุงุฏ ูุดุฑูุน CounterFit Python ูู ุงูุฏุฑุณ ุงูุฃูู ุฅุฐุง ูุฒู ุงูุฃูุฑ](../../../1-getting-started/lessons/1-introduction-to-iot/virtual-device.md).

1. ูู ุจุชุซุจูุช ุญุฒูุฉ ุฅุถุงููุฉ ุจุงุณุชุฎุฏุงู pip ูุชุซุจูุช CounterFit shim ุงูุฐู ููููู ุงูุชูุงุนู ูุน ูุณุชุดุนุฑุงุช ุงููุงููุฑุง ุนู ุทุฑูู ูุญุงูุงุฉ ุจุนุถ ูุธุงุฆู [ุญุฒูุฉ Picamera](https://pypi.org/project/picamera/). ุชุฃูุฏ ูู ุชุซุจูุชูุง ูู ุฎูุงู ูุงูุฐุฉ ุทุฑููุฉ ูุน ุชูุนูู ุงูุจูุฆุฉ ุงูุงูุชุฑุงุถูุฉ.

    ```sh
    pip install counterfit-shims-picamera
    ```

1. ุชุฃูุฏ ูู ุชุดุบูู ุชุทุจูู ุงูููุจ CounterFit.

1. ูู ุจุฅูุดุงุก ูุงููุฑุง:

    1. ูู ูุฑุจุน *ุฅูุดุงุก ูุณุชุดุนุฑ* ูู ููุญุฉ *ุงููุณุชุดุนุฑุงุช*ุ ุงููุฑ ุนูู ุงููุงุฆูุฉ ุงูููุณุฏูุฉ *ููุน ุงููุณุชุดุนุฑ* ูุงุฎุชุฑ *ูุงููุฑุง*.

    1. ูู ุจุชุนููู *ุงูุงุณู* ุฅูู `Picamera`.

    1. ุงุฎุชุฑ ุฒุฑ **ุฅุถุงูุฉ** ูุฅูุดุงุก ุงููุงููุฑุง.

    ![ุฅุนุฏุงุฏุงุช ุงููุงููุฑุง](../../../../../translated_images/counterfit-create-camera.a5de97f59c0bd3cbe0416d7e89a3cfe86d19fbae05c641c53a91286412af0a34.ar.png)

    ุณูุชู ุฅูุดุงุก ุงููุงููุฑุง ูุณุชุธูุฑ ูู ูุงุฆูุฉ ุงููุณุชุดุนุฑุงุช.

    ![ุงููุงููุฑุง ุงูุชู ุชู ุฅูุดุงุคูุง](../../../../../translated_images/counterfit-camera.001ec52194c8ee5d3f617173da2c79e1df903d10882adc625cbfc493525125d4.ar.png)

## ุจุฑูุฌุฉ ุงููุงููุฑุง

ูููู ุงูุขู ุจุฑูุฌุฉ ุฌูุงุฒ ุฅูุชุฑูุช ุงูุฃุดูุงุก ุงูุงูุชุฑุงุถู ูุงุณุชุฎุฏุงู ุงููุงููุฑุง ุงูุงูุชุฑุงุถูุฉ.

### ุงููููุฉ - ุจุฑูุฌุฉ ุงููุงููุฑุง

ุจุฑูุฌ ุงูุฌูุงุฒ.

1. ุชุฃูุฏ ูู ูุชุญ ุชุทุจูู `fruit-quality-detector` ูู VS Code.

1. ุงูุชุญ ููู `app.py`.

1. ุฃุถู ุงูููุฏ ุงูุชุงูู ุฅูู ุฃุนูู ููู `app.py` ูุชูุตูู ุงูุชุทุจูู ุจู CounterFit:

    ```python
    from counterfit_connection import CounterFitConnection
    CounterFitConnection.init('127.0.0.1', 5000)
    ```

1. ุฃุถู ุงูููุฏ ุงูุชุงูู ุฅูู ููู `app.py` ุงูุฎุงุต ุจู:

    ```python
    import io
    from counterfit_shims_picamera import PiCamera
    ```

    ูููู ูุฐุง ุงูููุฏ ุจุงุณุชูุฑุงุฏ ุจุนุถ ุงูููุชุจุงุช ุงููุงุฒูุฉุ ุจูุง ูู ุฐูู ุงููุฆุฉ `PiCamera` ูู ููุชุจุฉ counterfit_shims_picamera.

1. ุฃุถู ุงูููุฏ ุงูุชุงูู ุฃุณูู ุฐูู ูุชููุฆุฉ ุงููุงููุฑุง:

    ```python
    camera = PiCamera()
    camera.resolution = (640, 480)
    camera.rotation = 0
    ```

    ูููู ูุฐุง ุงูููุฏ ุจุฅูุดุงุก ูุงุฆู PiCameraุ ููุถุจุท ุงูุฏูุฉ ุนูู 640x480. ุนูู ุงูุฑุบู ูู ุฃู ุงูุฏูุฉ ุงูุฃุนูู ูุฏุนููุฉุ ุฅูุง ุฃู ูุตูู ุงูุตูุฑ ูุนูู ุนูู ุตูุฑ ุฃุตุบุฑ ุจูุซูุฑ (227x227)ุ ูุฐูู ูุง ุญุงุฌุฉ ูุงูุชูุงุท ูุฅุฑุณุงู ุตูุฑ ุฃูุจุฑ.

    ูููู ุงูุณุทุฑ `camera.rotation = 0` ุจุชุนููู ุฏูุฑุงู ุงูุตูุฑุฉ ุจุงูุฏุฑุฌุงุช. ุฅุฐุง ููุช ุจุญุงุฌุฉ ุฅูู ุชุฏููุฑ ุงูุตูุฑุฉ ูู ูุงููุฑุง ุงูููุจ ุฃู ุงููููุ ูู ุจุชุนููู ูุฐุง ุญุณุจ ุงูุญุงุฌุฉ. ุนูู ุณุจูู ุงููุซุงูุ ุฅุฐุง ููุช ุชุฑูุฏ ุชุบููุฑ ุตูุฑุฉ ููุฒุฉ ุนูู ูุงููุฑุง ููุจ ูู ูุถุน ุฃููู ุฅูู ูุถุน ุนููุฏูุ ูู ุจุชุนููู `camera.rotation = 90`.

1. ุฃุถู ุงูููุฏ ุงูุชุงูู ุฃุณูู ุฐูู ูุงูุชูุงุท ุงูุตูุฑุฉ ูุจูุงูุงุช ุซูุงุฆูุฉ:

    ```python
    image = io.BytesIO()
    camera.capture(image, 'jpeg')
    image.seek(0)
    ```

    ูููู ูุฐุง ุงูููุฏ ุจุฅูุดุงุก ูุงุฆู `BytesIO` ูุชุฎุฒูู ุงูุจูุงูุงุช ุงูุซูุงุฆูุฉ. ูุชู ูุฑุงุกุฉ ุงูุตูุฑุฉ ูู ุงููุงููุฑุง ูููู JPEG ูุชุฎุฒูููุง ูู ูุฐุง ุงููุงุฆู. ูุญุชูู ูุฐุง ุงููุงุฆู ุนูู ูุคุดุฑ ูููุน ููุนุฑูุฉ ููุงูู ูู ุงูุจูุงูุงุช ุจุญูุซ ูููู ูุชุงุจุฉ ุงููุฒูุฏ ูู ุงูุจูุงูุงุช ูู ุงูููุงูุฉ ุฅุฐุง ูุฒู ุงูุฃูุฑุ ูุฐูู ูููู ุงูุณุทุฑ `image.seek(0)` ุจุฅุนุงุฏุฉ ูุฐุง ุงููุคุดุฑ ุฅูู ุงูุจุฏุงูุฉ ุญุชู ูููู ูุฑุงุกุฉ ุฌููุน ุงูุจูุงูุงุช ูุงุญููุง.

1. ุฃุณูู ุฐููุ ุฃุถู ุงูููุฏ ุงูุชุงูู ูุญูุธ ุงูุตูุฑุฉ ูู ููู:

    ```python
    with open('image.jpg', 'wb') as image_file:
        image_file.write(image.read())
    ```

    ูููู ูุฐุง ุงูููุฏ ุจูุชุญ ููู ูุณูู `image.jpg` ูููุชุงุจุฉุ ุซู ููุฑุฃ ุฌููุน ุงูุจูุงูุงุช ูู ูุงุฆู `BytesIO` ูููุชุจูุง ุฅูู ุงูููู.

    > ๐ ููููู ุงูุชูุงุท ุงูุตูุฑุฉ ูุจุงุดุฑุฉ ุฅูู ููู ุจุฏูุงู ูู ูุงุฆู `BytesIO` ุนู ุทุฑูู ุชูุฑูุฑ ุงุณู ุงูููู ุฅูู ุงุณุชุฏุนุงุก `camera.capture`. ุงูุณุจุจ ูู ุงุณุชุฎุฏุงู ูุงุฆู `BytesIO` ูู ุฃูู ูุงุญููุง ูู ูุฐุง ุงูุฏุฑุณ ููููู ุฅุฑุณุงู ุงูุตูุฑุฉ ุฅูู ูุตูู ุงูุตูุฑ ุงูุฎุงุต ุจู.

1. ูู ุจุชูููู ุงูุตูุฑุฉ ุงูุชู ุณุชูุชูุทูุง ุงููุงููุฑุง ูู CounterFit. ููููู ุฅูุง ุชุนููู *ุงููุตุฏุฑ* ุฅูู *ููู*ุ ุซู ุชุญููู ููู ุตูุฑุฉุ ุฃู ุชุนููู *ุงููุตุฏุฑ* ุฅูู *ูุงููุฑุง ููุจ*ุ ูุณูุชู ุงูุชูุงุท ุงูุตูุฑ ูู ูุงููุฑุง ุงูููุจ ุงูุฎุงุตุฉ ุจู. ุชุฃูุฏ ูู ุงุฎุชูุงุฑ ุฒุฑ **ุชุนููู** ุจุนุฏ ุงุฎุชูุงุฑ ุตูุฑุฉ ุฃู ุชุญุฏูุฏ ูุงููุฑุง ุงูููุจ.

    ![CounterFit ูุน ููู ุชู ุชุนูููู ููุตุฏุฑ ููุตูุฑุฉุ ููุงููุฑุง ููุจ ุชุนุฑุถ ุดุฎุตูุง ูุญูู ููุฒุฉ ูู ูุนุงููุฉ ุงููุงููุฑุง](../../../../../translated_images/counterfit-camera-options.eb3bd5150a8e7dffbf24bc5bcaba0cf2cdef95fbe6bbe393695d173817d6b8df.ar.png)

1. ุณูุชู ุงูุชูุงุท ุตูุฑุฉ ูุญูุธูุง ูู `image.jpg` ูู ุงููุฌูุฏ ุงูุญุงูู. ุณุชุฑู ูุฐุง ุงูููู ูู ูุณุชูุดู VS Code. ุงุฎุชุฑ ุงูููู ูุนุฑุถ ุงูุตูุฑุฉ. ุฅุฐุง ูุงูุช ุจุญุงุฌุฉ ุฅูู ุชุฏููุฑุ ูู ุจุชุญุฏูุซ ุงูุณุทุฑ `camera.rotation = 0` ุญุณุจ ุงูุถุฑูุฑุฉ ูุงูุชูุท ุตูุฑุฉ ุฃุฎุฑู.

> ๐ ููููู ุงูุนุซูุฑ ุนูู ูุฐุง ุงูููุฏ ูู ุงููุฌูุฏ [code-camera/virtual-iot-device](../../../../../4-manufacturing/lessons/2-check-fruit-from-device/code-camera/virtual-iot-device).

๐ ููุฏ ูุฌุญุช ูู ุจุฑูุฌุฉ ุงููุงููุฑุง!

---

**ุฅุฎูุงุก ุงููุณุคูููุฉ**:  
ุชู ุชุฑุฌูุฉ ูุฐุง ุงููุณุชูุฏ ุจุงุณุชุฎุฏุงู ุฎุฏูุฉ ุงูุชุฑุฌูุฉ ุจุงูุฐูุงุก ุงูุงุตุทูุงุนู [Co-op Translator](https://github.com/Azure/co-op-translator). ุจูููุง ูุณุนู ูุชุญููู ุงูุฏูุฉุ ูุฑุฌู ุงูุนูู ุฃู ุงูุชุฑุฌูุงุช ุงูุขููุฉ ูุฏ ุชุญุชูู ุนูู ุฃุฎุทุงุก ุฃู ูุนูููุงุช ุบูุฑ ุฏูููุฉ. ูุฌุจ ุงุนุชุจุงุฑ ุงููุณุชูุฏ ุงูุฃุตูู ุจูุบุชู ุงูุฃุตููุฉ ุงููุตุฏุฑ ุงูุฑุณูู. ููุญุตูู ุนูู ูุนูููุงุช ุญุงุณูุฉุ ูููุตู ุจุงูุงุณุชุนุงูุฉ ุจุชุฑุฌูุฉ ุจุดุฑูุฉ ุงุญุชุฑุงููุฉ. ูุญู ุบูุฑ ูุณุคูููู ุนู ุฃู ุณูุก ููู ุฃู ุชูุณูุฑุงุช ุฎุงุทุฆุฉ ูุงุชุฌุฉ ุนู ุงุณุชุฎุฏุงู ูุฐู ุงูุชุฑุฌูุฉ.