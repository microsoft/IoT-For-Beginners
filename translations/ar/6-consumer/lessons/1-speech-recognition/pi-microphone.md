<!--
CO_OP_TRANSLATOR_METADATA:
{
  "original_hash": "7e45d884493c5222348b43fbc4481b6a",
  "translation_date": "2025-08-27T00:30:06+00:00",
  "source_file": "6-consumer/lessons/1-speech-recognition/pi-microphone.md",
  "language_code": "ar"
}
-->
# إعداد الميكروفون ومكبرات الصوت - Raspberry Pi

في هذا الجزء من الدرس، ستقوم بإضافة ميكروفون ومكبرات صوت إلى Raspberry Pi الخاص بك.

## الأجهزة

يحتاج Raspberry Pi إلى ميكروفون.

لا يحتوي Raspberry Pi على ميكروفون مدمج، لذا ستحتاج إلى إضافة ميكروفون خارجي. هناك عدة طرق للقيام بذلك:

* ميكروفون USB  
* سماعة رأس USB  
* مكبر صوت USB شامل  
* محول صوت USB وميكروفون بمنفذ 3.5 ملم  
* [ReSpeaker 2-Mics Pi HAT](https://www.seeedstudio.com/ReSpeaker-2-Mics-Pi-HAT.html)  

> 💁 لا تدعم جميع ميكروفونات البلوتوث Raspberry Pi، لذا إذا كنت تمتلك ميكروفون أو سماعة رأس بلوتوث، قد تواجه مشاكل في الاقتران أو تسجيل الصوت.

يأتي Raspberry Pi بمنفذ سماعات 3.5 ملم. يمكنك استخدامه لتوصيل سماعات الرأس أو سماعة رأس أو مكبر صوت. يمكنك أيضًا إضافة مكبرات صوت باستخدام:

* صوت HDMI عبر شاشة أو تلفاز  
* مكبرات صوت USB  
* سماعة رأس USB  
* مكبر صوت USB شامل  
* [ReSpeaker 2-Mics Pi HAT](https://www.seeedstudio.com/ReSpeaker-2-Mics-Pi-HAT.html) مع مكبر صوت متصل، إما بمنفذ 3.5 ملم أو بمنفذ JST  

## توصيل وإعداد الميكروفون ومكبرات الصوت

يجب توصيل الميكروفون ومكبرات الصوت وإعدادهما.

### المهمة - توصيل وإعداد الميكروفون

1. قم بتوصيل الميكروفون باستخدام الطريقة المناسبة. على سبيل المثال، قم بتوصيله عبر أحد منافذ USB.

1. إذا كنت تستخدم ReSpeaker 2-Mics Pi HAT، يمكنك إزالة قاعدة Grove، ثم تثبيت ReSpeaker HAT مكانها.

    ![Raspberry Pi مع ReSpeaker HAT](../../../../../translated_images/pi-respeaker-hat.f00fabe7dd039a93e2e0aa0fc946c9af0c6a9eb17c32fa1ca097fb4e384f69f0.ar.png)

    ستحتاج إلى زر Grove لاحقًا في هذا الدرس، ولكن يوجد زر مدمج في هذا HAT، لذا لا حاجة لقاعدة Grove.

    بمجرد تثبيت HAT، ستحتاج إلى تثبيت بعض التعريفات. راجع [تعليمات البدء من Seeed](https://wiki.seeedstudio.com/ReSpeaker_2_Mics_Pi_HAT_Raspberry/#getting-started) للحصول على تعليمات تثبيت التعريفات.

    > ⚠️ تستخدم التعليمات `git` لاستنساخ مستودع. إذا لم يكن لديك `git` مثبتًا على Raspberry Pi الخاص بك، يمكنك تثبيته عن طريق تشغيل الأمر التالي:
    >
    > ```sh
    > sudo apt install git --yes
    > ```

1. قم بتشغيل الأمر التالي في الطرفية على Raspberry Pi، أو عبر VS Code باستخدام جلسة SSH عن بُعد، لرؤية معلومات حول الميكروفون المتصل:

    ```sh
    arecord -l
    ```

    سترى قائمة بالميكروفونات المتصلة. ستكون شيئًا مثل التالي:

    ```output
    pi@raspberrypi:~ $ arecord -l
    **** List of CAPTURE Hardware Devices ****
    card 1: M0 [eMeet M0], device 0: USB Audio [USB Audio]
      Subdevices: 1/1
      Subdevice #0: subdevice #0
    ```

    بافتراض أن لديك ميكروفونًا واحدًا فقط، يجب أن ترى إدخالًا واحدًا فقط. قد تكون إعدادات الميكروفونات معقدة على Linux، لذا من الأسهل استخدام ميكروفون واحد فقط وفصل أي ميكروفونات أخرى.

    قم بتدوين رقم البطاقة، حيث ستحتاج إليه لاحقًا. في الإخراج أعلاه، رقم البطاقة هو 1.

### المهمة - توصيل وإعداد مكبر الصوت

1. قم بتوصيل مكبرات الصوت باستخدام الطريقة المناسبة.

1. قم بتشغيل الأمر التالي في الطرفية على Raspberry Pi، أو عبر VS Code باستخدام جلسة SSH عن بُعد، لرؤية معلومات حول مكبرات الصوت المتصلة:

    ```sh
    aplay -l
    ```

    سترى قائمة بمكبرات الصوت المتصلة. ستكون شيئًا مثل التالي:

    ```output
    pi@raspberrypi:~ $ aplay -l
    **** List of PLAYBACK Hardware Devices ****
    card 0: Headphones [bcm2835 Headphones], device 0: bcm2835 Headphones [bcm2835 Headphones]
      Subdevices: 8/8
      Subdevice #0: subdevice #0
      Subdevice #1: subdevice #1
      Subdevice #2: subdevice #2
      Subdevice #3: subdevice #3
      Subdevice #4: subdevice #4
      Subdevice #5: subdevice #5
      Subdevice #6: subdevice #6
      Subdevice #7: subdevice #7
    card 1: M0 [eMeet M0], device 0: USB Audio [USB Audio]
      Subdevices: 1/1
      Subdevice #0: subdevice #0
    ```

    سترى دائمًا `card 0: Headphones` حيث أن هذا هو منفذ سماعات الرأس المدمج. إذا قمت بإضافة مكبرات صوت إضافية، مثل مكبر صوت USB، فسترى ذلك مدرجًا أيضًا.

1. إذا كنت تستخدم مكبر صوت إضافيًا، وليس مكبر صوت أو سماعات متصلة بمنفذ سماعات الرأس المدمج، ستحتاج إلى تكوينه كإعداد افتراضي. للقيام بذلك، قم بتشغيل الأمر التالي:

    ```sh
    sudo nano /usr/share/alsa/alsa.conf
    ```

    سيؤدي ذلك إلى فتح ملف إعدادات في `nano`، وهو محرر نصوص يعتمد على الطرفية. قم بالتمرير لأسفل باستخدام مفاتيح الأسهم على لوحة المفاتيح حتى تجد السطر التالي:

    ```output
    defaults.pcm.card 0
    ```

    قم بتغيير القيمة من `0` إلى رقم البطاقة التي تريد استخدامها من القائمة التي ظهرت عند استدعاء `aplay -l`. على سبيل المثال، في الإخراج أعلاه، هناك بطاقة صوت ثانية تسمى `card 1: M0 [eMeet M0], device 0: USB Audio [USB Audio]`، باستخدام البطاقة 1. لاستخدامها، سأقوم بتحديث السطر ليصبح:

    ```output
    defaults.pcm.card 1
    ```

    قم بتعيين هذه القيمة إلى رقم البطاقة المناسب. يمكنك التنقل إلى الرقم باستخدام مفاتيح الأسهم على لوحة المفاتيح، ثم حذف الرقم القديم وكتابة الرقم الجديد كما تفعل عند تحرير الملفات النصية.

1. احفظ التغييرات وأغلق الملف بالضغط على `Ctrl+x`. اضغط على `y` لحفظ الملف، ثم `return` لتأكيد اسم الملف.

### المهمة - اختبار الميكروفون ومكبر الصوت

1. قم بتشغيل الأمر التالي لتسجيل 5 ثوانٍ من الصوت عبر الميكروفون:

    ```sh
    arecord --format=S16_LE --duration=5 --rate=16000 --file-type=wav out.wav
    ```

    أثناء تشغيل هذا الأمر، قم بإصدار ضوضاء في الميكروفون مثل التحدث، الغناء، تقليد الإيقاعات، العزف على آلة موسيقية أو أي شيء آخر تفضله.

1. بعد 5 ثوانٍ، سيتوقف التسجيل. قم بتشغيل الأمر التالي لتشغيل الصوت المسجل:

    ```sh
    aplay --format=S16_LE --rate=16000 out.wav
    ```

    ستسمع الصوت يتم تشغيله عبر مكبرات الصوت. قم بضبط مستوى الصوت على مكبر الصوت حسب الحاجة.

1. إذا كنت بحاجة إلى ضبط مستوى صوت منفذ الميكروفون المدمج، أو ضبط حساسية الميكروفون، يمكنك استخدام أداة `alsamixer`. يمكنك قراءة المزيد عن هذه الأداة في [صفحة دليل alsamixer على Linux](https://linux.die.net/man/1/alsamixer).

1. إذا واجهت أخطاء أثناء تشغيل الصوت، تحقق من البطاقة التي قمت بتعيينها كـ `defaults.pcm.card` في ملف `alsa.conf`.

---

**إخلاء المسؤولية**:  
تم ترجمة هذا المستند باستخدام خدمة الترجمة بالذكاء الاصطناعي [Co-op Translator](https://github.com/Azure/co-op-translator). بينما نسعى لتحقيق الدقة، يرجى العلم أن الترجمات الآلية قد تحتوي على أخطاء أو معلومات غير دقيقة. يجب اعتبار المستند الأصلي بلغته الأصلية المصدر الموثوق. للحصول على معلومات حاسمة، يُوصى بالاستعانة بترجمة بشرية احترافية. نحن غير مسؤولين عن أي سوء فهم أو تفسيرات خاطئة تنشأ عن استخدام هذه الترجمة.