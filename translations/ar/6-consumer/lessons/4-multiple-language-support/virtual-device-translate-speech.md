<!--
CO_OP_TRANSLATOR_METADATA:
{
  "original_hash": "d620a470d9dd8614d99824832978360a",
  "translation_date": "2025-08-26T23:58:10+00:00",
  "source_file": "6-consumer/lessons/4-multiple-language-support/virtual-device-translate-speech.md",
  "language_code": "ar"
}
-->
# ุชุฑุฌูุฉ ุงูููุงู - ุฌูุงุฒ ุฅูุชุฑูุช ุงูุฃุดูุงุก ุงูุงูุชุฑุงุถู

ูู ูุฐุง ุงูุฌุฒุก ูู ุงูุฏุฑุณุ ุณุชูุชุจ ููุฏูุง ูุชุฑุฌูุฉ ุงูููุงู ุนูุฏ ุชุญูููู ุฅูู ูุต ุจุงุณุชุฎุฏุงู ุฎุฏูุฉ ุงูููุงูุ ุซู ุชุฑุฌูุฉ ุงููุต ุจุงุณุชุฎุฏุงู ุฎุฏูุฉ ุงููุชุฑุฌู ูุจู ุฅูุดุงุก ุงุณุชุฌุงุจุฉ ููุทููุฉ.

## ุงุณุชุฎุฏุงู ุฎุฏูุฉ ุงูููุงู ูุชุฑุฌูุฉ ุงูููุงู

ูููู ูุฎุฏูุฉ ุงูููุงู ุฃู ุชุฃุฎุฐ ุงูููุงู ูุชุญููู ุฅูู ูุต ููุณ ููุท ุจููุณ ุงููุบุฉุ ุจู ูููููุง ุฃูุถูุง ุชุฑุฌูุฉ ุงููุต ุงููุงุชุฌ ุฅูู ูุบุงุช ุฃุฎุฑู.

### ุงููููุฉ - ุงุณุชุฎุฏุงู ุฎุฏูุฉ ุงูููุงู ูุชุฑุฌูุฉ ุงูููุงู

1. ุงูุชุญ ูุดุฑูุน `smart-timer` ูู VS Codeุ ูุชุฃูุฏ ูู ุชุญููู ุงูุจูุฆุฉ ุงูุงูุชุฑุงุถูุฉ ูู ุงูุทุฑููุฉ.

1. ุฃุถู ุนุจุงุฑุงุช ุงูุงุณุชูุฑุงุฏ ุงูุชุงููุฉ ุฃุณูู ุนุจุงุฑุงุช ุงูุงุณุชูุฑุงุฏ ุงูุญุงููุฉ:

    ```python
    from azure.cognitiveservices import speech
    from azure.cognitiveservices.speech.translation import SpeechTranslationConfig, TranslationRecognizer
    import requests
    ```

    ูุฐุง ูุณุชูุฑุฏ ุงููุฆุงุช ุงููุณุชุฎุฏูุฉ ูุชุฑุฌูุฉ ุงูููุงูุ ูููุชุจุฉ `requests` ุงูุชู ุณุชูุณุชุฎุฏู ูุฅุฌุฑุงุก ุงุณุชุฏุนุงุก ูุฎุฏูุฉ ุงููุชุฑุฌู ูุงุญููุง ูู ูุฐุง ุงูุฏุฑุณ.

1. ุณูููู ูุฌูุงุฒ ุงููุคูุช ุงูุฐูู ูุบุชุงู ูุญุฏุฏุชุงู - ูุบุฉ ุงูุฎุงุฏู ุงูุชู ุชู ุงุณุชุฎุฏุงููุง ูุชุฏุฑูุจ LUIS (ููู ููุณ ุงููุบุฉ ุงููุณุชุฎุฏูุฉ ูุจูุงุก ุงูุฑุณุงุฆู ููุชุญุฏุซ ูุน ุงููุณุชุฎุฏู)ุ ููุบุฉ ุงููุณุชุฎุฏู. ูู ุจุชุญุฏูุซ ูุชุบูุฑ `language` ููููู ุงููุบุฉ ุงูุชู ุณูุชุญุฏุซ ุจูุง ุงููุณุชุฎุฏูุ ูุฃุถู ูุชุบูุฑูุง ุฌุฏูุฏูุง ูุณูู `server_language` ููุบุฉ ุงููุณุชุฎุฏูุฉ ูุชุฏุฑูุจ LUIS:

    ```python
    language = '<user language>'
    server_language = '<server language>'
    ```

    ุงุณุชุจุฏู `<user language>` ุจุงุณู ุงููุบุฉ ุงููุญููุฉ ุงูุชู ุณุชุชุญุฏุซ ุจูุงุ ุนูู ุณุจูู ุงููุซุงู `fr-FR` ูููุฑูุณูุฉุ ุฃู `zn-HK` ูููุงูุชูููุฉ.

    ุงุณุชุจุฏู `<server language>` ุจุงุณู ุงููุบุฉ ุงููุญููุฉ ุงููุณุชุฎุฏูุฉ ูุชุฏุฑูุจ LUIS.

    ููููู ุงูุนุซูุฑ ุนูู ูุงุฆูุฉ ุจุงููุบุงุช ุงููุฏุนููุฉ ูุฃุณูุงุฆูุง ุงููุญููุฉ ูู [ูุซุงุฆู ุฏุนู ุงููุบุฉ ูุงูุตูุช ุนูู ูููุน Microsoft](https://docs.microsoft.com/azure/cognitive-services/speech-service/language-support?WT.mc_id=academic-17441-jabenn#speech-to-text).

    > ๐ ุฅุฐุง ููุช ูุง ุชุชุญุฏุซ ูุบุงุช ูุชุนุฏุฏุฉุ ููููู ุงุณุชุฎุฏุงู ุฎุฏูุฉ ูุซู [Bing Translate](https://www.bing.com/translator) ุฃู [Google Translate](https://translate.google.com) ูุชุฑุฌูุฉ ุงููุตูุต ูู ูุบุชู ุงูููุถูุฉ ุฅูู ูุบุฉ ุฃุฎุฑู. ูููู ููุฐู ุงูุฎุฏูุงุช ุชุดุบูู ุงูุตูุช ูููุตูุต ุงููุชุฑุฌูุฉ. ูุงุญุธ ุฃู ุฌูุงุฒ ุงูุชุนุฑู ุนูู ุงูููุงู ูุฏ ูุชุฌุงูู ุจุนุถ ุงูุฃุตูุงุช ุงูุตุงุฏุฑุฉ ูู ุฌูุงุฒูุ ูุฐุง ูุฏ ุชุญุชุงุฌ ุฅูู ุงุณุชุฎุฏุงู ุฌูุงุฒ ุฅุถุงูู ูุชุดุบูู ุงููุตูุต ุงููุชุฑุฌูุฉ.
    >
    > ุนูู ุณุจูู ุงููุซุงูุ ุฅุฐุง ููุช ุจุชุฏุฑูุจ LUIS ุจุงููุบุฉ ุงูุฅูุฌููุฒูุฉุ ููููู ุชุฑูุฏ ุงุณุชุฎุฏุงู ุงููุฑูุณูุฉ ููุบุฉ ูููุณุชุฎุฏูุ ููููู ุชุฑุฌูุฉ ุฌูู ูุซู "ุงุถุจุท ูุคูุชูุง ููุฏุฉ ุฏูููุชูู ู27 ุซุงููุฉ" ูู ุงูุฅูุฌููุฒูุฉ ุฅูู ุงููุฑูุณูุฉ ุจุงุณุชุฎุฏุงู Bing Translateุ ุซู ุงุณุชุฎุฏุงู ุฒุฑ **ุงูุงุณุชูุงุน ุฅูู ุงูุชุฑุฌูุฉ** ููุชุญุฏุซ ุจุงูุชุฑุฌูุฉ ุฅูู ุงููููุฑูููู.
    >
    > ![ุฒุฑ ุงูุงุณุชูุงุน ุฅูู ุงูุชุฑุฌูุฉ ูู Bing Translate](../../../../../translated_images/bing-translate.348aa796d6efe2a92f41ea74a5cf42bb4c63d6faaa08e7f46924e072a35daa48.ar.png)

1. ุงุณุชุจุฏู ุชุนุฑููุงุช `recognizer_config` ู`recognizer` ุจุงูุชุงูู:

    ```python
    translation_config = SpeechTranslationConfig(subscription=speech_api_key,
                                                 region=location,
                                                 speech_recognition_language=language,
                                                 target_languages=(language, server_language))
    
    recognizer = TranslationRecognizer(translation_config=translation_config)
    ```

    ูุฐุง ููุดุฆ ุชูููู ุชุฑุฌูุฉ ููุชุนุฑู ุนูู ุงูููุงู ุจูุบุฉ ุงููุณุชุฎุฏูุ ูุฅูุดุงุก ุชุฑุฌูุงุช ุจูุบุฉ ุงููุณุชุฎุฏู ููุบุฉ ุงูุฎุงุฏู. ุซู ูุณุชุฎุฏู ูุฐุง ุงูุชูููู ูุฅูุดุงุก ูุชุฑุฌู ููุชุนุฑู ุนูู ุงูููุงู - ููู ุฌูุงุฒ ุชุนุฑูู ุนูู ุงูููุงู ููููู ุชุฑุฌูุฉ ูุงุชุฌ ุงูุชุนุฑู ุนูู ุงูููุงู ุฅูู ูุบุงุช ูุชุนุฏุฏุฉ.

    > ๐ ูุฌุจ ุชุญุฏูุฏ ุงููุบุฉ ุงูุฃุตููุฉ ูู `target_languages`ุ ูุฅูุง ููู ุชุญุตู ุนูู ุฃู ุชุฑุฌูุงุช.

1. ูู ุจุชุญุฏูุซ ูุธููุฉ `recognized`ุ ูุงุณุชุจุฏู ูุญุชููุงุช ุงููุธููุฉ ุจุงููุงูู ุจุงูุชุงูู:

    ```python
    if args.result.reason == speech.ResultReason.TranslatedSpeech:
        language_match = next(l for l in args.result.translations if server_language.lower().startswith(l.lower()))
        text = args.result.translations[language_match]
        if (len(text) > 0):
            print(f'Translated text: {text}')
    
            message = Message(json.dumps({ 'speech': text }))
            device_client.send_message(message)
    ```

    ูุชุญูู ูุฐุง ุงูููุฏ ููุง ุฅุฐุง ูุงู ุญุฏุซ ุงูุชุนุฑู ูุฏ ุชู ุชุดุบููู ุจุณุจุจ ุชุฑุฌูุฉ ุงูููุงู (ูููู ุฃู ูุชู ุชุดุบูู ูุฐุง ุงูุญุฏุซ ูู ุฃููุงุช ุฃุฎุฑูุ ูุซู ุนูุฏูุง ูุชู ุงูุชุนุฑู ุนูู ุงูููุงู ูููู ูู ูุชู ุชุฑุฌูุชู). ุฅุฐุง ุชู ุชุฑุฌูุฉ ุงูููุงูุ ูุฅูู ูุฌุฏ ุงูุชุฑุฌูุฉ ูู ูุงููุณ `args.result.translations` ุงูุฐู ูุชุทุงุจู ูุน ูุบุฉ ุงูุฎุงุฏู.

    ูุงููุณ `args.result.translations` ูุณุชุฎุฏู ุงูุฌุฒุก ุงูุฎุงุต ุจุงููุบุฉ ูู ุฅุนุฏุงุฏุงุช ุงููุบุฉ ุงููุญููุฉุ ูููุณ ุงูุฅุนุฏุงุฏ ุจุงููุงูู. ุนูู ุณุจูู ุงููุซุงูุ ุฅุฐุง ุทูุจุช ุชุฑุฌูุฉ ุฅูู `fr-FR` ูููุฑูุณูุฉุ ูุฅู ุงููุงููุณ ุณูุญุชูู ุนูู ุฅุฏุฎุงู ูู `fr`ุ ูููุณ `fr-FR`.

    ูุชู ุจุนุฏ ุฐูู ุฅุฑุณุงู ุงููุต ุงููุชุฑุฌู ุฅูู IoT Hub.

1. ูู ุจุชุดุบูู ูุฐุง ุงูููุฏ ูุงุฎุชุจุงุฑ ุงูุชุฑุฌูุงุช. ุชุฃูุฏ ูู ุชุดุบูู ุชุทุจูู ุงููุธุงุฆู ุงูุฎุงุต ุจูุ ูุงุทูุจ ูุคูุชูุง ุจูุบุฉ ุงููุณุชุฎุฏูุ ุฅูุง ุนู ุทุฑูู ุงูุชุญุฏุซ ุจุชูู ุงููุบุฉ ุจููุณูุ ุฃู ุจุงุณุชุฎุฏุงู ุชุทุจูู ุชุฑุฌูุฉ.

    ```output
    (.venv) โ  smart-timer python app.py
    Connecting
    Connected
    Translated text: Set a timer of 2 minutes and 27 seconds.
    ```

## ุชุฑุฌูุฉ ุงููุต ุจุงุณุชุฎุฏุงู ุฎุฏูุฉ ุงููุชุฑุฌู

ูุง ุชุฏุนู ุฎุฏูุฉ ุงูููุงู ุชุฑุฌูุฉ ุงููุตูุต ูุฑุฉ ุฃุฎุฑู ุฅูู ููุงูุ ุจุฏูุงู ูู ุฐูู ููููู ุงุณุชุฎุฏุงู ุฎุฏูุฉ ุงููุชุฑุฌู ูุชุฑุฌูุฉ ุงููุตูุต. ุชุญุชูู ูุฐู ุงูุฎุฏูุฉ ุนูู ูุงุฌูุฉ ุจุฑูุฌุฉ ุชุทุจููุงุช REST ููููู ุงุณุชุฎุฏุงููุง ูุชุฑุฌูุฉ ุงููุตูุต.

### ุงููููุฉ - ุงุณุชุฎุฏุงู ููุฑุฏ ุงููุชุฑุฌู ูุชุฑุฌูุฉ ุงููุตูุต

1. ุฃุถู ููุชุงุญ API ุงูุฎุงุต ุจุงููุชุฑุฌู ุฃุณูู `speech_api_key`:

    ```python
    translator_api_key = '<key>'
    ```

    ุงุณุชุจุฏู `<key>` ุจููุชุงุญ API ุงูุฎุงุต ุจููุฑุฏ ุฎุฏูุฉ ุงููุชุฑุฌู.

1. ููู ูุธููุฉ `say`ุ ูู ุจุชุนุฑูู ูุธููุฉ `translate_text` ุงูุชู ุณุชุชุฑุฌู ุงููุตูุต ูู ูุบุฉ ุงูุฎุงุฏู ุฅูู ูุบุฉ ุงููุณุชุฎุฏู:

    ```python
    def translate_text(text):
    ```

1. ุฏุงุฎู ูุฐู ุงููุธููุฉุ ูู ุจุชุนุฑูู ุนููุงู URL ูุงูุฑุคูุณ ูุงุณุชุฏุนุงุก ูุงุฌูุฉ ุจุฑูุฌุฉ ุงูุชุทุจููุงุช:

    ```python
    url = f'https://api.cognitive.microsofttranslator.com/translate?api-version=3.0'

    headers = {
        'Ocp-Apim-Subscription-Key': translator_api_key,
        'Ocp-Apim-Subscription-Region': location,
        'Content-type': 'application/json'
    }
    ```

    ุนููุงู URL ููุฐู ุงููุงุฌูุฉ ููุณ ุฎุงุตูุง ุจุงููููุนุ ุจุฏูุงู ูู ุฐูู ูุชู ุชูุฑูุฑ ุงููููุน ูุฑุฃุณ. ูุชู ุงุณุชุฎุฏุงู ููุชุงุญ API ูุจุงุดุฑุฉุ ูุฐุง ุนูู ุนูุณ ุฎุฏูุฉ ุงูููุงูุ ูุง ุญุงุฌุฉ ููุญุตูู ุนูู ุฑูุฒ ูุตูู ูู ูุงุฌูุฉ ุจุฑูุฌุฉ ุงูุชุทุจููุงุช ุงูุฎุงุตุฉ ุจุฅุตุฏุงุฑ ุงูุฑููุฒ.

1. ุฃุณูู ุฐููุ ูู ุจุชุนุฑูู ุงููุนููุงุช ูุงูุฌุณู ููุงุณุชุฏุนุงุก:

    ```python
    params = {
        'from': server_language,
        'to': language
    }

    body = [{
        'text' : text
    }]
    ```

    ูููู `params` ุจุชุนุฑูู ุงููุนููุงุช ุงูุชู ูุชู ุชูุฑูุฑูุง ูุงุณุชุฏุนุงุก ูุงุฌูุฉ ุจุฑูุฌุฉ ุงูุชุทุจููุงุชุ ุญูุซ ูุชู ุชูุฑูุฑ ุงููุบุงุช ุงููุตุฏุฑ ูุงููุฏู. ุณูููู ูุฐุง ุงูุงุณุชุฏุนุงุก ุจุชุฑุฌูุฉ ุงููุตูุต ูู ุงููุบุฉ ุงููุตุฏุฑ ุฅูู ุงููุบุฉ ุงููุฏู.

    ูุญุชูู `body` ุนูู ุงููุตูุต ุงููุฑุงุฏ ุชุฑุฌูุชูุง. ูุฐุง ุนุจุงุฑุฉ ุนู ูุตูููุฉุ ุญูุซ ูููู ุชุฑุฌูุฉ ูุชู ูุตูุต ูุชุนุฏุฏุฉ ูู ููุณ ุงูุงุณุชุฏุนุงุก.

1. ูู ุจุฅุฌุฑุงุก ุงุณุชุฏุนุงุก ูุงุฌูุฉ ุจุฑูุฌุฉ ุงูุชุทุจููุงุช RESTุ ูุงุญุตู ุนูู ุงูุงุณุชุฌุงุจุฉ:

    ```python
    response = requests.post(url, headers=headers, params=params, json=body)
    ```

    ุงูุงุณุชุฌุงุจุฉ ุงูุชู ุชุนูุฏ ูู ูุตูููุฉ JSONุ ุชุญุชูู ุนูู ุนูุตุฑ ูุงุญุฏ ูุญุชูู ุนูู ุงูุชุฑุฌูุงุช. ูุญุชูู ูุฐุง ุงูุนูุตุฑ ุนูู ูุตูููุฉ ูุชุฑุฌูุงุช ุฌููุน ุงูุนูุงุตุฑ ุงูุชู ุชู ุชูุฑูุฑูุง ูู ุงูุฌุณู.

    ```json
    [
        {
            "translations": [
                {
                    "text": "Chronomรฉtrant votre minuterie de 2 minutes 27 secondes.",
                    "to": "fr"
                }
            ]
        }
    ]
    ```

1. ูู ุจุฅุฑุฌุงุน ุงูุฎุงุตูุฉ `text` ูู ุฃูู ุชุฑุฌูุฉ ูู ุฃูู ุนูุตุฑ ูู ุงููุตูููุฉ:

    ```python
    return response.json()[0]['translations'][0]['text']
    ```

1. ูู ุจุชุญุฏูุซ ูุธููุฉ `say` ูุชุฑุฌูุฉ ุงููุตูุต ูุจู ุฅูุดุงุก SSML:

    ```python
    print('Original:', text)
    text = translate_text(text)
    print('Translated:', text)
    ```

    ูููู ูุฐุง ุงูููุฏ ุฃูุถูุง ุจุทุจุงุนุฉ ุงููุณุฎุฉ ุงูุฃุตููุฉ ูุงููุชุฑุฌูุฉ ูู ุงููุตูุต ุฅูู ูุญุฏุฉ ุงูุชุญูู.

1. ูู ุจุชุดุบูู ุงูููุฏ ุงูุฎุงุต ุจู. ุชุฃูุฏ ูู ุชุดุบูู ุชุทุจูู ุงููุธุงุฆู ุงูุฎุงุต ุจูุ ูุงุทูุจ ูุคูุชูุง ุจูุบุฉ ุงููุณุชุฎุฏูุ ุฅูุง ุนู ุทุฑูู ุงูุชุญุฏุซ ุจุชูู ุงููุบุฉ ุจููุณูุ ุฃู ุจุงุณุชุฎุฏุงู ุชุทุจูู ุชุฑุฌูุฉ.

    ```output
    (.venv) โ  smart-timer python app.py
    Connecting
    Connected
    Translated text: Set a timer of 2 minutes and 27 seconds.
    Original: 2 minute 27 second timer started.
    Translated: 2 minute 27 seconde minute a commencรฉ.
    Original: Times up on your 2 minute 27 second timer.
    Translated: Chronomรฉtrant votre minuterie de 2 minutes 27 secondes.
    ```

    > ๐ ุจุณุจุจ ุงูุทุฑู ุงููุฎุชููุฉ ูููู ุดูุก ูุง ูู ูุบุงุช ูุฎุชููุฉุ ูุฏ ุชุญุตู ุนูู ุชุฑุฌูุงุช ุชุฎุชูู ููููุงู ุนู ุงูุฃูุซูุฉ ุงูุชู ูุฏูุชูุง ูู LUIS. ุฅุฐุง ูุงู ูุฐุง ูู ุงูุญุงูุ ุฃุถู ุงููุฒูุฏ ูู ุงูุฃูุซูุฉ ุฅูู LUISุ ุซู ุฃุนุฏ ุงูุชุฏุฑูุจ ูุฃุนุฏ ูุดุฑ ุงููููุฐุฌ.

> ๐ ููููู ุงูุนุซูุฑ ุนูู ูุฐุง ุงูููุฏ ูู ุงููุฌูุฏ [code/virtual-iot-device](../../../../../6-consumer/lessons/4-multiple-language-support/code/virtual-iot-device).

๐ ููุฏ ูุงู ุจุฑูุงูุฌ ุงููุคูุช ูุชุนุฏุฏ ุงููุบุงุช ุงูุฎุงุต ุจู ูุฌุงุญูุง!

---

**ุฅุฎูุงุก ุงููุณุคูููุฉ**:  
ุชู ุชุฑุฌูุฉ ูุฐุง ุงููุณุชูุฏ ุจุงุณุชุฎุฏุงู ุฎุฏูุฉ ุงูุชุฑุฌูุฉ ุจุงูุฐูุงุก ุงูุงุตุทูุงุนู [Co-op Translator](https://github.com/Azure/co-op-translator). ุจูููุง ูุณุนู ูุชุญููู ุงูุฏูุฉุ ูุฑุฌู ุงูุนูู ุฃู ุงูุชุฑุฌูุงุช ุงูุขููุฉ ูุฏ ุชุญุชูู ุนูู ุฃุฎุทุงุก ุฃู ูุนูููุงุช ุบูุฑ ุฏูููุฉ. ูุฌุจ ุงุนุชุจุงุฑ ุงููุณุชูุฏ ุงูุฃุตูู ุจูุบุชู ุงูุฃุตููุฉ ุงููุตุฏุฑ ุงูููุซูู. ููุญุตูู ุนูู ูุนูููุงุช ุญุงุณูุฉุ ูููุตู ุจุงูุงุณุชุนุงูุฉ ุจุชุฑุฌูุฉ ุจุดุฑูุฉ ุงุญุชุฑุงููุฉ. ูุญู ุบูุฑ ูุณุคูููู ุนู ุฃู ุณูุก ููู ุฃู ุชูุณูุฑุงุช ุฎุงุทุฆุฉ ูุงุชุฌุฉ ุนู ุงุณุชุฎุฏุงู ูุฐู ุงูุชุฑุฌูุฉ.