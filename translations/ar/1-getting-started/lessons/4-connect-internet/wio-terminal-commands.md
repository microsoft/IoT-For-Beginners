<!--
CO_OP_TRANSLATOR_METADATA:
{
  "original_hash": "6754c915dae64ba70fcd5e52c37f3adf",
  "translation_date": "2025-08-26T23:20:57+00:00",
  "source_file": "1-getting-started/lessons/4-connect-internet/wio-terminal-commands.md",
  "language_code": "ar"
}
-->
# ุงูุชุญูู ูู ุถูุก ุงูููู ุนุจุฑ ุงูุฅูุชุฑูุช - Wio Terminal

ูู ูุฐุง ุงูุฌุฒุก ูู ุงูุฏุฑุณุ ุณุชููู ุจุงูุงุดุชุฑุงู ูู ุงูุฃูุงูุฑ ุงููุฑุณูุฉ ูู ูุณูุท MQTT ุฅูู ุฌูุงุฒ Wio Terminal ุงูุฎุงุต ุจู.

## ุงูุงุดุชุฑุงู ูู ุงูุฃูุงูุฑ

ุงูุฎุทูุฉ ุงูุชุงููุฉ ูู ุงูุงุดุชุฑุงู ูู ุงูุฃูุงูุฑ ุงููุฑุณูุฉ ูู ูุณูุท MQTTุ ูุงูุงุณุชุฌุงุจุฉ ููุง.

### ุงููููุฉ

ุงูุงุดุชุฑุงู ูู ุงูุฃูุงูุฑ.

1. ุงูุชุญ ูุดุฑูุน ุถูุก ุงูููู ูู VS Code.

1. ุฃุถู ุงูููุฏ ุงูุชุงูู ุฅูู ุฃุณูู ููู `config.h` ูุชุนุฑูู ุงุณู ุงูููุถูุน ุงูุฎุงุต ุจุงูุฃูุงูุฑ:

    ```cpp
    const string SERVER_COMMAND_TOPIC = ID + "/commands";
    ```

    `SERVER_COMMAND_TOPIC` ูู ุงูููุถูุน ุงูุฐู ุณูุดุชุฑู ููู ุงูุฌูุงุฒ ูุชููู ุฃูุงูุฑ ุชุดุบูู ูุฅุทูุงุก ุงูู LED.

1. ุฃุถู ุงูุณุทุฑ ุงูุชุงูู ุฅูู ููุงูุฉ ุฏุงูุฉ `reconnectMQTTClient` ููุงุดุชุฑุงู ูู ููุถูุน ุงูุฃูุงูุฑ ุนูุฏ ุฅุนุงุฏุฉ ุงูุงุชุตุงู ุจุนููู MQTT:

    ```cpp
    client.subscribe(SERVER_COMMAND_TOPIC.c_str());
    ```

1. ุฃุถู ุงูููุฏ ุงูุชุงูู ุฃุณูู ุฏุงูุฉ `reconnectMQTTClient`.

    ```cpp
    void clientCallback(char *topic, uint8_t *payload, unsigned int length)
    {
        char buff[length + 1];
        for (int i = 0; i < length; i++)
        {
            buff[i] = (char)payload[i];
        }
        buff[length] = '\0';
    
        Serial.print("Message received:");
        Serial.println(buff);
    
        DynamicJsonDocument doc(1024);
        deserializeJson(doc, buff);
        JsonObject obj = doc.as<JsonObject>();
    
        bool led_on = obj["led_on"];
    
        if (led_on)
            digitalWrite(D0, HIGH);
        else
            digitalWrite(D0, LOW);
    }
    ```

    ูุฐู ุงูุฏุงูุฉ ุณุชููู ุฑุฏ ุงููุฏุงุก (callback) ุงูุฐู ุณูุณุชุฏุนูู ุนููู MQTT ุนูุฏ ุงุณุชูุงู ุฑุณุงูุฉ ูู ุงูุฎุงุฏู.

    ูุชู ุงุณุชูุงู ุงูุฑุณุงูุฉ ููุตูููุฉ ูู ุฃุนุฏุงุฏ ุตุญูุญุฉ ุบูุฑ ูููุนุฉ ููููุฉ ูู 8 ุจุชุ ูุฐุง ูุฌุจ ุชุญููููุง ุฅูู ูุตูููุฉ ุฃุญุฑู ููุชู ุงูุชุนุงูู ูุนูุง ููุต.

    ุชุญุชูู ุงูุฑุณุงูุฉ ุนูู ูุณุชูุฏ JSONุ ููุชู ูู ุชุดููุฑู ุจุงุณุชุฎุฏุงู ููุชุจุฉ ArduinoJson. ูุชู ูุฑุงุกุฉ ุฎุงุตูุฉ `led_on` ูู ูุณุชูุฏ JSONุ ูุจูุงุกู ุนูู ูููุชูุง ูุชู ุชุดุบูู ุฃู ุฅุทูุงุก ุงูู LED.

1. ุฃุถู ุงูููุฏ ุงูุชุงูู ุฅูู ุฏุงูุฉ `createMQTTClient`:

    ```cpp
    client.setCallback(clientCallback);
    ```

    ูุฐุง ุงูููุฏ ูุญุฏุฏ `clientCallback` ูุฏุงูุฉ ุฑุฏ ุงููุฏุงุก ุงูุชู ุณูุชู ุงุณุชุฏุนุงุคูุง ุนูุฏ ุงุณุชูุงู ุฑุณุงูุฉ ูู ูุณูุท MQTT.

    > ๐ ูุชู ุงุณุชุฏุนุงุก ูุนุงูุฌ `clientCallback` ูุฌููุน ุงูููุงุถูุน ุงูุชู ุชู ุงูุงุดุชุฑุงู ูููุง. ุฅุฐุง ููุช ูุงุญููุง ุจูุชุงุจุฉ ููุฏ ูุณุชูุน ุฅูู ููุงุถูุน ูุชุนุฏุฏุฉุ ููููู ุงูุญุตูู ุนูู ุงูููุถูุน ุงูุฐู ุฃูุฑุณูุช ุงูุฑุณุงูุฉ ุฅููู ูู ุฎูุงู ูุนุงูู `topic` ุงูุฐู ูุชู ุชูุฑูุฑู ุฅูู ุฏุงูุฉ ุฑุฏ ุงููุฏุงุก.

1. ูู ุจุฑูุน ุงูููุฏ ุฅูู ุฌูุงุฒ Wio Terminal ุงูุฎุงุต ุจูุ ูุงุณุชุฎุฏู Serial Monitor ูุฑุคูุฉ ูุณุชููุงุช ุงูุถูุก ุงูุชู ูุชู ุฅุฑุณุงููุง ุฅูู ูุณูุท MQTT.

1. ูู ุจุถุจุท ูุณุชููุงุช ุงูุถูุก ุงูุชู ูุชู ุงูุชุดุงููุง ุจูุงุณุทุฉ ุฌูุงุฒู ุงููุนูู ุฃู ุงูุงูุชุฑุงุถู. ุณุชุฑู ุงูุฑุณุงุฆู ุงูุชู ูุชู ุงุณุชูุงููุง ูุงูุฃูุงูุฑ ุงูุชู ูุชู ุฅุฑุณุงููุง ูู ุงูุทุฑููุฉ. ุณุชูุงุญุธ ุฃูุถูุง ุชุดุบูู ูุฅุทูุงุก ุงูู LED ุจูุงุกู ุนูู ูุณุชูู ุงูุถูุก.

> ๐ ููููู ุงูุนุซูุฑ ุนูู ูุฐุง ุงูููุฏ ูู ูุฌูุฏ [code-commands/wio-terminal](../../../../../1-getting-started/lessons/4-connect-internet/code-commands/wio-terminal).

๐ ููุฏ ููุช ุจุจุฑูุฌุฉ ุฌูุงุฒู ุจูุฌุงุญ ููุงุณุชุฌุงุจุฉ ููุฃูุงูุฑ ุงููุฑุณูุฉ ูู ูุณูุท MQTT.

---

**ุฅุฎูุงุก ุงููุณุคูููุฉ**:  
ุชู ุชุฑุฌูุฉ ูุฐุง ุงููุณุชูุฏ ุจุงุณุชุฎุฏุงู ุฎุฏูุฉ ุงูุชุฑุฌูุฉ ุจุงูุฐูุงุก ุงูุงุตุทูุงุนู [Co-op Translator](https://github.com/Azure/co-op-translator). ุจูููุง ูุณุนู ูุชุญููู ุงูุฏูุฉุ ูุฑุฌู ุงูุนูู ุฃู ุงูุชุฑุฌูุงุช ุงูุขููุฉ ูุฏ ุชุญุชูู ุนูู ุฃุฎุทุงุก ุฃู ูุนูููุงุช ุบูุฑ ุฏูููุฉ. ูุฌุจ ุงุนุชุจุงุฑ ุงููุณุชูุฏ ุงูุฃุตูู ุจูุบุชู ุงูุฃุตููุฉ ุงููุตุฏุฑ ุงูุฑุณูู. ููุญุตูู ุนูู ูุนูููุงุช ุญุงุณูุฉุ ูููุตู ุจุงูุงุณุชุนุงูุฉ ุจุชุฑุฌูุฉ ุจุดุฑูุฉ ุงุญุชุฑุงููุฉ. ูุญู ุบูุฑ ูุณุคูููู ุนู ุฃู ุณูุก ููู ุฃู ุชูุณูุฑุงุช ุฎุงุทุฆุฉ ุชูุดุฃ ุนู ุงุณุชุฎุฏุงู ูุฐู ุงูุชุฑุฌูุฉ.