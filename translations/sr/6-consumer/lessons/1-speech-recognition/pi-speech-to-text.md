<!--
CO_OP_TRANSLATOR_METADATA:
{
  "original_hash": "af249a24d4fe4f4de4806adbc3bc9d86",
  "translation_date": "2025-08-28T12:57:32+00:00",
  "source_file": "6-consumer/lessons/1-speech-recognition/pi-speech-to-text.md",
  "language_code": "sr"
}
-->
# –ü—Ä–µ—Ç–≤–∞—Ä–∞—ö–µ –≥–æ–≤–æ—Ä–∞ —É —Ç–µ–∫—Å—Ç - Raspberry Pi

–£ –æ–≤–æ–º –¥–µ–ª—É –ª–µ–∫—Ü–∏—ò–µ, –Ω–∞–ø–∏—Å–∞—õ–µ—Ç–µ –∫–æ–¥ –∑–∞ –ø—Ä–µ—Ç–≤–∞—Ä–∞—ö–µ –≥–æ–≤–æ—Ä–∞ –∏–∑ —Å–Ω–∏–º—ô–µ–Ω–æ–≥ –∞—É–¥–∏–æ –∑–∞–ø–∏—Å–∞ —É —Ç–µ–∫—Å—Ç –∫–æ—Ä–∏—Å—Ç–µ—õ–∏ —É—Å–ª—É–≥—É –∑–∞ –≥–æ–≤–æ—Ä.

## –°–ª–∞—ö–µ –∞—É–¥–∏–æ –∑–∞–ø–∏—Å–∞ —É—Å–ª—É–∑–∏ –∑–∞ –≥–æ–≤–æ—Ä

–ê—É–¥–∏–æ –∑–∞–ø–∏—Å —Å–µ –º–æ–∂–µ –ø–æ—Å–ª–∞—Ç–∏ —É—Å–ª—É–∑–∏ –∑–∞ –≥–æ–≤–æ—Ä –∫–æ—Ä–∏—Å—Ç–µ—õ–∏ REST API. –î–∞ –±–∏—Å—Ç–µ –∫–æ—Ä–∏—Å—Ç–∏–ª–∏ —É—Å–ª—É–≥—É –∑–∞ –≥–æ–≤–æ—Ä, –ø—Ä–≤–æ –º–æ—Ä–∞—Ç–µ –∑–∞—Ç—Ä–∞–∂–∏—Ç–∏ –ø—Ä–∏—Å—Ç—É–ø–Ω–∏ —Ç–æ–∫–µ–Ω, –∞ –∑–∞—Ç–∏–º –∫–æ—Ä–∏—Å—Ç–∏—Ç–∏ —Ç–∞—ò —Ç–æ–∫–µ–Ω –∑–∞ –ø—Ä–∏—Å—Ç—É–ø REST API-—ò—É. –û–≤–∏ –ø—Ä–∏—Å—Ç—É–ø–Ω–∏ —Ç–æ–∫–µ–Ω–∏ –∏—Å—Ç–∏—á—É –Ω–∞–∫–æ–Ω 10 –º–∏–Ω—É—Ç–∞, –ø–∞ –≤–∞—à –∫–æ–¥ —Ç—Ä–µ–±–∞ —Ä–µ–¥–æ–≤–Ω–æ –¥–∞ –∏—Ö –∑–∞—Ö—Ç–µ–≤–∞ –∫–∞–∫–æ –±–∏ —É–≤–µ–∫ –±–∏–ª–∏ –∞–∂—É—Ä–Ω–∏.

### –ó–∞–¥–∞—Ç–∞–∫ - –¥–æ–±–∏—ò–∞—ö–µ –ø—Ä–∏—Å—Ç—É–ø–Ω–æ–≥ —Ç–æ–∫–µ–Ω–∞

1. –û—Ç–≤–æ—Ä–∏—Ç–µ –ø—Ä–æ—ò–µ–∫–∞—Ç `smart-timer` –Ω–∞ –≤–∞—à–µ–º Raspberry Pi-—ò—É.

1. –£–∫–ª–æ–Ω–∏—Ç–µ —Ñ—É–Ω–∫—Ü–∏—ò—É `play_audio`. –û–≤–∞ —Ñ—É–Ω–∫—Ü–∏—ò–∞ –≤–∏—à–µ –Ω–∏—ò–µ –ø–æ—Ç—Ä–µ–±–Ω–∞ —ò–µ—Ä –Ω–µ –∂–µ–ª–∏—Ç–µ –¥–∞ –ø–∞–º–µ—Ç–Ω–∏ —Ç–∞—ò–º–µ—Ä –ø–æ–Ω–∞–≤—ô–∞ –æ–Ω–æ —à—Ç–æ —Å—Ç–µ —Ä–µ–∫–ª–∏.

1. –î–æ–¥–∞—ò—Ç–µ —Å–ª–µ–¥–µ—õ–∏ –∏–º–ø–æ—Ä—Ç –Ω–∞ –≤—Ä—Ö –¥–∞—Ç–æ—Ç–µ–∫–µ `app.py`:

    ```python
    import requests
    ```

1. –î–æ–¥–∞—ò—Ç–µ —Å–ª–µ–¥–µ—õ–∏ –∫–æ–¥ –∏–∑–Ω–∞–¥ `while True` –ø–µ—Ç—ô–µ –¥–∞ –±–∏—Å—Ç–µ –¥–µ—Ñ–∏–Ω–∏—Å–∞–ª–∏ –Ω–µ–∫–∞ –ø–æ–¥–µ—à–∞–≤–∞—ö–∞ –∑–∞ —É—Å–ª—É–≥—É –∑–∞ –≥–æ–≤–æ—Ä:

    ```python
    speech_api_key = '<key>'
    location = '<location>'
    language = '<language>'
    ```

    –ó–∞–º–µ–Ω–∏—Ç–µ `<key>` —Å–∞ API –∫—ô—É—á–µ–º –∑–∞ –≤–∞—à —Ä–µ—Å—É—Ä—Å —É—Å–ª—É–≥–µ –∑–∞ –≥–æ–≤–æ—Ä. –ó–∞–º–µ–Ω–∏—Ç–µ `<location>` —Å–∞ –ª–æ–∫–∞—Ü–∏—ò–æ–º –∫–æ—ò—É —Å—Ç–µ –∫–æ—Ä–∏—Å—Ç–∏–ª–∏ –ø—Ä–∏–ª–∏–∫–æ–º –∫—Ä–µ–∏—Ä–∞—ö–∞ —Ä–µ—Å—É—Ä—Å–∞ —É—Å–ª—É–≥–µ –∑–∞ –≥–æ–≤–æ—Ä.

    –ó–∞–º–µ–Ω–∏—Ç–µ `<language>` —Å–∞ –∏–º–µ–Ω–æ–º –ª–æ–∫–∞–ª–∞ –∑–∞ —ò–µ–∑–∏–∫ –Ω–∞ –∫–æ—ò–µ–º —õ–µ—Ç–µ –≥–æ–≤–æ—Ä–∏—Ç–∏, –Ω–∞ –ø—Ä–∏–º–µ—Ä `en-GB` –∑–∞ –µ–Ω–≥–ª–µ—Å–∫–∏ –∏–ª–∏ `zn-HK` –∑–∞ –∫–∞–Ω—Ç–æ–Ω—Å–∫–∏. –õ–∏—Å—Ç—É –ø–æ–¥—Ä–∂–∞–Ω–∏—Ö —ò–µ–∑–∏–∫–∞ –∏ —ö–∏—Ö–æ–≤–∏—Ö –ª–æ–∫–∞–ª–∞ –º–æ–∂–µ—Ç–µ –ø—Ä–æ–Ω–∞—õ–∏ —É [–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—ò–∏ –æ –ø–æ–¥—Ä—à—Ü–∏ –∑–∞ —ò–µ–∑–∏–∫ –∏ –≥–ª–∞—Å –Ω–∞ Microsoft docs](https://docs.microsoft.com/azure/cognitive-services/speech-service/language-support?WT.mc_id=academic-17441-jabenn#speech-to-text).

1. –ò—Å–ø–æ–¥ –æ–≤–æ–≥–∞, –¥–æ–¥–∞—ò—Ç–µ —Å–ª–µ–¥–µ—õ—É —Ñ—É–Ω–∫—Ü–∏—ò—É –∑–∞ –¥–æ–±–∏—ò–∞—ö–µ –ø—Ä–∏—Å—Ç—É–ø–Ω–æ–≥ —Ç–æ–∫–µ–Ω–∞:

    ```python
    def get_access_token():
        headers = {
            'Ocp-Apim-Subscription-Key': speech_api_key
        }
    
        token_endpoint = f'https://{location}.api.cognitive.microsoft.com/sts/v1.0/issuetoken'
        response = requests.post(token_endpoint, headers=headers)
        return str(response.text)
    ```

    –û–≤–∞ —Ñ—É–Ω–∫—Ü–∏—ò–∞ –ø–æ–∑–∏–≤–∞ –∫—Ä–∞—ò—ö—É —Ç–∞—á–∫—É –∑–∞ –∏–∑–¥–∞–≤–∞—ö–µ —Ç–æ–∫–µ–Ω–∞, –ø—Ä–æ—Å–ª–µ—í—É—ò—É—õ–∏ API –∫—ô—É—á –∫–∞–æ —Ö–µ–¥–µ—Ä. –û–≤–∞—ò –ø–æ–∑–∏–≤ –≤—Ä–∞—õ–∞ –ø—Ä–∏—Å—Ç—É–ø–Ω–∏ —Ç–æ–∫–µ–Ω –∫–æ—ò–∏ —Å–µ –º–æ–∂–µ –∫–æ—Ä–∏—Å—Ç–∏—Ç–∏ –∑–∞ –ø–æ–∑–∏–≤–∞—ö–µ —É—Å–ª—É–≥–∞ –∑–∞ –≥–æ–≤–æ—Ä.

1. –ò—Å–ø–æ–¥ –æ–≤–æ–≥–∞, –¥–µ—Ñ–∏–Ω–∏—à–∏—Ç–µ —Ñ—É–Ω–∫—Ü–∏—ò—É –∑–∞ –ø—Ä–µ—Ç–≤–∞—Ä–∞—ö–µ –≥–æ–≤–æ—Ä–∞ –∏–∑ —Å–Ω–∏–º—ô–µ–Ω–æ–≥ –∞—É–¥–∏–æ –∑–∞–ø–∏—Å–∞ —É —Ç–µ–∫—Å—Ç –∫–æ—Ä–∏—Å—Ç–µ—õ–∏ REST API:

    ```python
    def convert_speech_to_text(buffer):
    ```

1. –£–Ω—É—Ç–∞—Ä –æ–≤–µ —Ñ—É–Ω–∫—Ü–∏—ò–µ, –ø–æ–¥–µ—Å–∏—Ç–µ URL –∏ —Ö–µ–¥–µ—Ä–µ –∑–∞ REST API:

    ```python
    url = f'https://{location}.stt.speech.microsoft.com/speech/recognition/conversation/cognitiveservices/v1'

    headers = {
        'Authorization': 'Bearer ' + get_access_token(),
        'Content-Type': f'audio/wav; codecs=audio/pcm; samplerate={rate}',
        'Accept': 'application/json;text/xml'
    }

    params = {
        'language': language
    }
    ```

    –û–≤–æ –≥—Ä–∞–¥–∏ URL –∫–æ—Ä–∏—Å—Ç–µ—õ–∏ –ª–æ–∫–∞—Ü–∏—ò—É —Ä–µ—Å—É—Ä—Å–∞ —É—Å–ª—É–≥–µ –∑–∞ –≥–æ–≤–æ—Ä. –ó–∞—Ç–∏–º –ø–æ–ø—É—ö–∞–≤–∞ —Ö–µ–¥–µ—Ä–µ —Å–∞ –ø—Ä–∏—Å—Ç—É–ø–Ω–∏–º —Ç–æ–∫–µ–Ω–æ–º –∏–∑ —Ñ—É–Ω–∫—Ü–∏—ò–µ `get_access_token`, –∫–∞–æ –∏ —Å–∞ sample rate-–æ–º –∫–æ—ò–∏ —ò–µ –∫–æ—Ä–∏—à—õ–µ–Ω –∑–∞ —Å–Ω–∏–º–∞—ö–µ –∞—É–¥–∏–æ –∑–∞–ø–∏—Å–∞. –ù–∞ –∫—Ä–∞—ò—É –¥–µ—Ñ–∏–Ω–∏—à–µ –Ω–µ–∫–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–µ –∫–æ—ò–∏ —Å–µ –ø—Ä–æ—Å–ª–µ—í—É—ò—É —Å–∞ URL-–æ–º, –∞ –∫–æ—ò–∏ —Å–∞–¥—Ä–∂–µ —ò–µ–∑–∏–∫ —É –∞—É–¥–∏–æ –∑–∞–ø–∏—Å—É.

1. –ò—Å–ø–æ–¥ –æ–≤–æ–≥–∞, –¥–æ–¥–∞—ò—Ç–µ —Å–ª–µ–¥–µ—õ–∏ –∫–æ–¥ –∑–∞ –ø–æ–∑–∏–≤–∞—ö–µ REST API-—ò–∞ –∏ –¥–æ–±–∏—ò–∞—ö–µ —Ç–µ–∫—Å—Ç–∞:

    ```python
    response = requests.post(url, headers=headers, params=params, data=buffer)
    response_json = response.json()

    if response_json['RecognitionStatus'] == 'Success':
        return response_json['DisplayText']
    else:
        return ''
    ```

    –û–≤–∞—ò –∫–æ–¥ –ø–æ–∑–∏–≤–∞ URL –∏ –¥–µ–∫–æ–¥–∏—Ä–∞ JSON –≤—Ä–µ–¥–Ω–æ—Å—Ç –∫–æ—ò–∞ –¥–æ–ª–∞–∑–∏ —É –æ–¥–≥–æ–≤–æ—Ä—É. –í—Ä–µ–¥–Ω–æ—Å—Ç `RecognitionStatus` —É –æ–¥–≥–æ–≤–æ—Ä—É —É–∫–∞–∑—É—ò–µ –¥–∞ –ª–∏ —ò–µ –ø–æ–∑–∏–≤ —É—Å–ø–µ—à–Ω–æ –ø—Ä–µ—Ç–≤–æ—Ä–∏–æ –≥–æ–≤–æ—Ä —É —Ç–µ–∫—Å—Ç, –∏ –∞–∫–æ —ò–µ –æ–≤–∞ –≤—Ä–µ–¥–Ω–æ—Å—Ç `Success`, —Ç–µ–∫—Å—Ç —Å–µ –≤—Ä–∞—õ–∞ –∏–∑ —Ñ—É–Ω–∫—Ü–∏—ò–µ, —É —Å—É–ø—Ä–æ—Ç–Ω–æ–º —Å–µ –≤—Ä–∞—õ–∞ –ø—Ä–∞–∑–∞–Ω —Å—Ç—Ä–∏–Ω–≥.

1. –ò–∑–Ω–∞–¥ `while True:` –ø–µ—Ç—ô–µ, –¥–µ—Ñ–∏–Ω–∏—à–∏—Ç–µ —Ñ—É–Ω–∫—Ü–∏—ò—É –∑–∞ –æ–±—Ä–∞–¥—É —Ç–µ–∫—Å—Ç–∞ –∫–æ—ò–∏ —ò–µ –≤—Ä–∞—õ–µ–Ω –∏–∑ —É—Å–ª—É–≥–µ –∑–∞ –ø—Ä–µ—Ç–≤–∞—Ä–∞—ö–µ –≥–æ–≤–æ—Ä–∞ —É —Ç–µ–∫—Å—Ç. –û–≤–∞ —Ñ—É–Ω–∫—Ü–∏—ò–∞ —õ–µ –∑–∞ —Å–∞–¥–∞ —Å–∞–º–æ –∏—Å–ø–∏—Å–∏–≤–∞—Ç–∏ —Ç–µ–∫—Å—Ç –Ω–∞ –∫–æ–Ω–∑–æ–ª—É.

    ```python
    def process_text(text):
        print(text)
    ```

1. –ù–∞ –∫—Ä–∞—ò—É –∑–∞–º–µ–Ω–∏—Ç–µ –ø–æ–∑–∏–≤ —Ñ—É–Ω–∫—Ü–∏—ò–µ `play_audio` —É `while True` –ø–µ—Ç—ô–∏ —Å–∞ –ø–æ–∑–∏–≤–æ–º —Ñ—É–Ω–∫—Ü–∏—ò–µ `convert_speech_to_text`, –ø—Ä–æ—Å–ª–µ—í—É—ò—É—õ–∏ —Ç–µ–∫—Å—Ç —Ñ—É–Ω–∫—Ü–∏—ò–∏ `process_text`:

    ```python
    text = convert_speech_to_text(buffer)
    process_text(text)
    ```

1. –ü–æ–∫—Ä–µ–Ω–∏—Ç–µ –∫–æ–¥. –ü—Ä–∏—Ç–∏—Å–Ω–∏—Ç–µ –¥—É–≥–º–µ –∏ –≥–æ–≤–æ—Ä–∏—Ç–µ —É –º–∏–∫—Ä–æ—Ñ–æ–Ω. –û—Ç–ø—É—Å—Ç–∏—Ç–µ –¥—É–≥–º–µ –∫–∞–¥–∞ –∑–∞–≤—Ä—à–∏—Ç–µ, –∏ –∞—É–¥–∏–æ –∑–∞–ø–∏—Å —õ–µ –±–∏—Ç–∏ –ø—Ä–µ—Ç–≤–æ—Ä–µ–Ω —É —Ç–µ–∫—Å—Ç –∏ –∏—Å–ø–∏—Å–∞–Ω –Ω–∞ –∫–æ–Ω–∑–æ–ª—É.

    ```output
    pi@raspberrypi:~/smart-timer $ python3 app.py 
    Hello world.
    Welcome to IoT for beginners.
    ```

    –ò—Å–ø—Ä–æ–±–∞—ò—Ç–µ —Ä–∞–∑–ª–∏—á–∏—Ç–µ —Ç–∏–ø–æ–≤–µ —Ä–µ—á–µ–Ω–∏—Ü–∞, –∫–∞–æ –∏ —Ä–µ—á–µ–Ω–∏—Ü–µ –≥–¥–µ —Ä–µ—á–∏ –∑–≤—É—á–µ –∏—Å—Ç–æ, –∞–ª–∏ –∏–º–∞—ò—É —Ä–∞–∑–ª–∏—á–∏—Ç–∞ –∑–Ω–∞—á–µ—ö–∞. –ù–∞ –ø—Ä–∏–º–µ—Ä, –∞–∫–æ –≥–æ–≤–æ—Ä–∏—Ç–µ –Ω–∞ –µ–Ω–≥–ª–µ—Å–∫–æ–º, —Ä–µ—Ü–∏—Ç–µ 'I want to buy two bananas and an apple too', –∏ –ø—Ä–∏–º–µ—Ç–∏—Ç–µ –∫–∞–∫–æ —õ–µ –∫–æ—Ä–∏—Å—Ç–∏—Ç–∏ –∏—Å–ø—Ä–∞–≤–Ω–µ to, two –∏ too –Ω–∞ –æ—Å–Ω–æ–≤—É –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ —Ä–µ—á–∏, –∞ –Ω–µ —Å–∞–º–æ —ö–∏—Ö–æ–≤–æ–≥ –∑–≤—É–∫–∞.

> üíÅ –û–≤–∞—ò –∫–æ–¥ –º–æ–∂–µ—Ç–µ –ø—Ä–æ–Ω–∞—õ–∏ —É [code-speech-to-text/pi](../../../../../6-consumer/lessons/1-speech-recognition/code-speech-to-text/pi) —Ñ–æ–ª–¥–µ—Ä—É.

üòÄ –í–∞—à –ø—Ä–æ–≥—Ä–∞–º –∑–∞ –ø—Ä–µ—Ç–≤–∞—Ä–∞—ö–µ –≥–æ–≤–æ—Ä–∞ —É —Ç–µ–∫—Å—Ç —ò–µ —É—Å–ø–µ—à–Ω–æ –∑–∞–≤—Ä—à–µ–Ω!

---

**–û–¥—Ä–∏—Ü–∞—ö–µ –æ–¥ –æ–¥–≥–æ–≤–æ—Ä–Ω–æ—Å—Ç–∏**:  
–û–≤–∞—ò –¥–æ–∫—É–º–µ–Ω—Ç —ò–µ –ø—Ä–µ–≤–µ–¥–µ–Ω –∫–æ—Ä–∏—à—õ–µ—ö–µ–º —É—Å–ª—É–≥–µ –∑–∞ –ø—Ä–µ–≤–æ—í–µ—ö–µ –ø–æ–º–æ—õ—É –≤–µ—à—Ç–∞—á–∫–µ –∏–Ω—Ç–µ–ª–∏–≥–µ–Ω—Ü–∏—ò–µ [Co-op Translator](https://github.com/Azure/co-op-translator). –ò–∞–∫–æ —Å–µ —Ç—Ä—É–¥–∏–º–æ –¥–∞ –æ–±–µ–∑–±–µ–¥–∏–º–æ —Ç–∞—á–Ω–æ—Å—Ç, –º–æ–ª–∏–º–æ –≤–∞—Å –¥–∞ –∏–º–∞—Ç–µ —É –≤–∏–¥—É –¥–∞ –∞—É—Ç–æ–º–∞—Ç—Å–∫–∏ –ø—Ä–µ–≤–æ–¥–∏ –º–æ–≥—É —Å–∞–¥—Ä–∂–∞—Ç–∏ –≥—Ä–µ—à–∫–µ –∏–ª–∏ –Ω–µ—Ç–∞—á–Ω–æ—Å—Ç–∏. –û—Ä–∏–≥–∏–Ω–∞–ª–Ω–∏ –¥–æ–∫—É–º–µ–Ω—Ç –Ω–∞ —ö–µ–≥–æ–≤–æ–º –∏–∑–≤–æ—Ä–Ω–æ–º —ò–µ–∑–∏–∫—É —Ç—Ä–µ–±–∞ —Å–º–∞—Ç—Ä–∞—Ç–∏ –º–µ—Ä–æ–¥–∞–≤–Ω–∏–º –∏–∑–≤–æ—Ä–æ–º. –ó–∞ –∫—Ä–∏—Ç–∏—á–Ω–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—ò–µ –ø—Ä–µ–ø–æ—Ä—É—á—É—ò–µ —Å–µ –ø—Ä–æ—Ñ–µ—Å–∏–æ–Ω–∞–ª–Ω–∏ –ø—Ä–µ–≤–æ–¥ –æ–¥ —Å—Ç—Ä–∞–Ω–µ —ô—É–¥–∏. –ù–µ –ø—Ä–µ—É–∑–∏–º–∞–º–æ –æ–¥–≥–æ–≤–æ—Ä–Ω–æ—Å—Ç –∑–∞ –±–∏–ª–æ –∫–∞–∫–≤–∞ –ø–æ–≥—Ä–µ—à–Ω–∞ —Ç—É–º–∞—á–µ—ö–∞ –∏–ª–∏ –Ω–µ—Å–ø–æ—Ä–∞–∑—É–º–µ –∫–æ—ò–∏ –º–æ–≥—É –Ω–∞—Å—Ç–∞—Ç–∏ —É—Å–ª–µ–¥ –∫–æ—Ä–∏—à—õ–µ—ö–∞ –æ–≤–æ–≥ –ø—Ä–µ–≤–æ–¥–∞.