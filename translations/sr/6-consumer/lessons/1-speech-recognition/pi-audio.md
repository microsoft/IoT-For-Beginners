<!--
CO_OP_TRANSLATOR_METADATA:
{
  "original_hash": "0ac0afcfb40cb5970ef4cb74f01c32e9",
  "translation_date": "2025-08-28T12:53:12+00:00",
  "source_file": "6-consumer/lessons/1-speech-recognition/pi-audio.md",
  "language_code": "sr"
}
-->
# –°–Ω–∏–º–∞—ö–µ –∑–≤—É–∫–∞ - Raspberry Pi

–£ –æ–≤–æ–º –¥–µ–ª—É –ª–µ–∫—Ü–∏—ò–µ, –Ω–∞–ø–∏—Å–∞—õ–µ—Ç–µ –∫–æ–¥ –∑–∞ —Å–Ω–∏–º–∞—ö–µ –∑–≤—É–∫–∞ –Ω–∞ –≤–∞—à–µ–º Raspberry Pi —É—Ä–µ—í–∞—ò—É. –°–Ω–∏–º–∞—ö–µ –∑–≤—É–∫–∞ —õ–µ —Å–µ –∫–æ–Ω—Ç—Ä–æ–ª–∏—Å–∞—Ç–∏ –ø–æ–º–æ—õ—É –¥—É–≥–º–µ—Ç–∞.

## –•–∞—Ä–¥–≤–µ—Ä

Raspberry Pi –∑–∞—Ö—Ç–µ–≤–∞ –¥—É–≥–º–µ –∑–∞ –∫–æ–Ω—Ç—Ä–æ–ª—É —Å–Ω–∏–º–∞—ö–∞ –∑–≤—É–∫–∞.

–î—É–≥–º–µ –∫–æ—ò–µ —õ–µ—Ç–µ –∫–æ—Ä–∏—Å—Ç–∏—Ç–∏ —ò–µ Grove –¥—É–≥–º–µ. –û–≤–æ —ò–µ –¥–∏–≥–∏—Ç–∞–ª–Ω–∏ —Å–µ–Ω–∑–æ—Ä –∫–æ—ò–∏ —É–∫—ô—É—á—É—ò–µ –∏–ª–∏ –∏—Å–∫—ô—É—á—É—ò–µ —Å–∏–≥–Ω–∞–ª. –û–≤–∞ –¥—É–≥–º–∞–¥ –º–æ–≥—É –±–∏—Ç–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Å–∞–Ω–∞ –¥–∞ —à–∞—ô—É –≤–∏—Å–æ–∫ —Å–∏–≥–Ω–∞–ª –∫–∞–¥–∞ —Å–µ –¥—É–≥–º–µ –ø—Ä–∏—Ç–∏—Å–Ω–µ, –∞ –Ω–∏–∑–∞–∫ –∫–∞–¥–∞ –Ω–∏—ò–µ, –∏–ª–∏ –Ω–∏–∑–∞–∫ –∫–∞–¥–∞ —Å–µ –ø—Ä–∏—Ç–∏—Å–Ω–µ –∏ –≤–∏—Å–æ–∫ –∫–∞–¥–∞ –Ω–∏—ò–µ.

–ê–∫–æ –∫–æ—Ä–∏—Å—Ç–∏—Ç–µ ReSpeaker 2-Mics Pi HAT –∫–∞–æ –º–∏–∫—Ä–æ—Ñ–æ–Ω, –Ω–∏—ò–µ –ø–æ—Ç—Ä–µ–±–Ω–æ –ø–æ–≤–µ–∑–∏–≤–∞—Ç–∏ –¥—É–≥–º–µ —ò–µ—Ä –æ–≤–∞—ò HAT –≤–µ—õ –∏–º–∞ —É–≥—Ä–∞—í–µ–Ω–æ –¥—É–≥–º–µ. –ü—Ä–µ—Å–∫–æ—á–∏—Ç–µ –Ω–∞ —Å–ª–µ–¥–µ—õ–∏ –æ–¥–µ—ô–∞–∫.

### –ü–æ–≤–µ–∑–∏–≤–∞—ö–µ –¥—É–≥–º–µ—Ç–∞

–î—É–≥–º–µ —Å–µ –º–æ–∂–µ –ø–æ–≤–µ–∑–∞—Ç–∏ –Ω–∞ Grove –±–∞–∑–Ω–∏ HAT.

#### –ó–∞–¥–∞—Ç–∞–∫ - –ø–æ–≤–µ–∂–∏—Ç–µ –¥—É–≥–º–µ

![Grove –¥—É–≥–º–µ](../../../../../translated_images/grove-button.a70cfbb809a8563681003250cf5b06d68cdcc68624f9e2f493d5a534ae2da1e5.sr.png)

1. –£–º–µ—Ç–Ω–∏—Ç–µ —ò–µ–¥–∞–Ω –∫—Ä–∞—ò Grove –∫–∞–±–ª–∞ —É —É—Ç–∏—á–Ω–∏—Ü—É –Ω–∞ –º–æ–¥—É–ª—É –¥—É–≥–º–µ—Ç–∞. –ö–∞–±–ª —õ–µ —É—õ–∏ —Å–∞–º–æ —É —ò–µ–¥–Ω–æ–º —Å–º–µ—Ä—É.

1. –°–∞ –∏—Å–∫—ô—É—á–µ–Ω–∏–º Raspberry Pi —É—Ä–µ—í–∞—ò–µ–º, –ø–æ–≤–µ–∂–∏—Ç–µ –¥—Ä—É–≥–∏ –∫—Ä–∞—ò Grove –∫–∞–±–ª–∞ —É –¥–∏–≥–∏—Ç–∞–ª–Ω—É —É—Ç–∏—á–Ω–∏—Ü—É –æ–∑–Ω–∞—á–µ–Ω—É —Å–∞ **D5** –Ω–∞ Grove –±–∞–∑–Ω–æ–º HAT-—É –∫–æ—ò–∏ —ò–µ –ø–æ–≤–µ–∑–∞–Ω —Å–∞ Pi —É—Ä–µ—í–∞—ò–µ–º. –û–≤–∞ —É—Ç–∏—á–Ω–∏—Ü–∞ —ò–µ –¥—Ä—É–≥–∞ —Å –ª–µ–≤–∞, —É —Ä–µ–¥—É —É—Ç–∏—á–Ω–∏—Ü–∞ –ø–æ—Ä–µ–¥ GPIO –ø–∏–Ω–æ–≤–∞.

![Grove –¥—É–≥–º–µ –ø–æ–≤–µ–∑–∞–Ω–æ –Ω–∞ —É—Ç–∏—á–Ω–∏—Ü—É D5](../../../../../translated_images/pi-button.c7a1a4f55943341ce1baf1057658e9a205804d4131d258e820c93f951df0abf3.sr.png)

## –°–Ω–∏–º–∞—ö–µ –∑–≤—É–∫–∞

–ú–æ–∂–µ—Ç–µ —Å–Ω–∏–º–∞—Ç–∏ –∑–≤—É–∫ —Å–∞ –º–∏–∫—Ä–æ—Ñ–æ–Ω–∞ –∫–æ—Ä–∏—Å—Ç–µ—õ–∏ Python –∫–æ–¥.

### –ó–∞–¥–∞—Ç–∞–∫ - —Å–Ω–∏–º–∞—ö–µ –∑–≤—É–∫–∞

1. –£–∫—ô—É—á–∏—Ç–µ Pi –∏ —Å–∞—á–µ–∫–∞—ò—Ç–µ –¥–∞ —Å–µ –ø–æ–∫—Ä–µ–Ω–µ.

1. –ü–æ–∫—Ä–µ–Ω–∏—Ç–µ VS Code, –±–∏–ª–æ –¥–∏—Ä–µ–∫—Ç–Ω–æ –Ω–∞ Pi —É—Ä–µ—í–∞—ò—É –∏–ª–∏ —Å–µ –ø–æ–≤–µ–∂–∏—Ç–µ –ø—Ä–µ–∫–æ Remote SSH –µ–∫—Å—Ç–µ–Ω–∑–∏—ò–µ.

1. PyAudio Pip –ø–∞–∫–µ—Ç –∏–º–∞ —Ñ—É–Ω–∫—Ü–∏—ò–µ –∑–∞ —Å–Ω–∏–º–∞—ö–µ –∏ —Ä–µ–ø—Ä–æ–¥—É–∫—Ü–∏—ò—É –∑–≤—É–∫–∞. –û–≤–∞—ò –ø–∞–∫–µ—Ç –∑–∞–≤–∏—Å–∏ –æ–¥ –Ω–µ–∫–∏—Ö –∞—É–¥–∏–æ –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –∫–æ—ò–µ —ò–µ –ø–æ—Ç—Ä–µ–±–Ω–æ –ø—Ä–≤–æ –∏–Ω—Å—Ç–∞–ª–∏—Ä–∞—Ç–∏. –ü–æ–∫—Ä–µ–Ω–∏—Ç–µ —Å–ª–µ–¥–µ—õ–µ –∫–æ–º–∞–Ω–¥–µ —É —Ç–µ—Ä–º–∏–Ω–∞–ª—É –¥–∞ –±–∏—Å—Ç–µ –∏—Ö –∏–Ω—Å—Ç–∞–ª–∏—Ä–∞–ª–∏:

    ```sh
    sudo apt update
    sudo apt install libportaudio0 libportaudio2 libportaudiocpp0 portaudio19-dev libasound2-plugins --yes 
    ```

1. –ò–Ω—Å—Ç–∞–ª–∏—Ä–∞—ò—Ç–µ PyAudio Pip –ø–∞–∫–µ—Ç.

    ```sh
    pip3 install pyaudio
    ```

1. –ù–∞–ø—Ä–∞–≤–∏—Ç–µ –Ω–æ–≤–∏ —Ñ–æ–ª–¥–µ—Ä –ø–æ–¥ –Ω–∞–∑–∏–≤–æ–º `smart-timer` –∏ –¥–æ–¥–∞—ò—Ç–µ –¥–∞—Ç–æ—Ç–µ–∫—É –ø–æ–¥ –Ω–∞–∑–∏–≤–æ–º `app.py` —É –æ–≤–∞—ò —Ñ–æ–ª–¥–µ—Ä.

1. –î–æ–¥–∞—ò—Ç–µ —Å–ª–µ–¥–µ—õ–µ —É–≤–æ–∑–µ –Ω–∞ –≤—Ä—Ö –æ–≤–µ –¥–∞—Ç–æ—Ç–µ–∫–µ:

    ```python
    import io
    import pyaudio
    import time
    import wave
    
    from grove.factory import Factory
    ```

    –û–≤–æ —É–≤–æ–∑–∏ `pyaudio` –º–æ–¥—É–ª, –Ω–µ–∫–µ —Å—Ç–∞–Ω–¥–∞—Ä–¥–Ω–µ Python –º–æ–¥—É–ª–µ –∑–∞ —Ä–∞–¥ —Å–∞ WAV –¥–∞—Ç–æ—Ç–µ–∫–∞–º–∞, –∏ `grove.factory` –º–æ–¥—É–ª –∑–∞ —É–≤–æ–∑ `Factory` –∫–ª–∞—Å–µ –∑–∞ –∫—Ä–µ–∏—Ä–∞—ö–µ –∫–ª–∞—Å–µ –¥—É–≥–º–µ—Ç–∞.

1. –ò—Å–ø–æ–¥ –æ–≤–æ–≥–∞, –¥–æ–¥–∞—ò—Ç–µ –∫–æ–¥ –∑–∞ –∫—Ä–µ–∏—Ä–∞—ö–µ Grove –¥—É–≥–º–µ—Ç–∞.

    –ê–∫–æ –∫–æ—Ä–∏—Å—Ç–∏—Ç–µ ReSpeaker 2-Mics Pi HAT, –∫–æ—Ä–∏—Å—Ç–∏—Ç–µ —Å–ª–µ–¥–µ—õ–∏ –∫–æ–¥:

    ```python
    # The button on the ReSpeaker 2-Mics Pi HAT
    button = Factory.getButton("GPIO-LOW", 17)
    ```

    –û–≤–æ –∫—Ä–µ–∏—Ä–∞ –¥—É–≥–º–µ –Ω–∞ –ø–æ—Ä—Ç—É **D17**, –ø–æ—Ä—Ç—É –Ω–∞ –∫–æ—ò–∏ —ò–µ –ø–æ–≤–µ–∑–∞–Ω–æ –¥—É–≥–º–µ –Ω–∞ ReSpeaker 2-Mics Pi HAT-—É. –û–≤–æ –¥—É–≥–º–µ —ò–µ –ø–æ–¥–µ—à–µ–Ω–æ –¥–∞ —à–∞—ô–µ –Ω–∏–∑–∞–∫ —Å–∏–≥–Ω–∞–ª –∫–∞–¥–∞ —Å–µ –ø—Ä–∏—Ç–∏—Å–Ω–µ.

    –ê–∫–æ –Ω–µ –∫–æ—Ä–∏—Å—Ç–∏—Ç–µ ReSpeaker 2-Mics Pi HAT, –≤–µ—õ Grove –¥—É–≥–º–µ –ø–æ–≤–µ–∑–∞–Ω–æ –Ω–∞ –±–∞–∑–Ω–∏ HAT, –∫–æ—Ä–∏—Å—Ç–∏—Ç–µ –æ–≤–∞—ò –∫–æ–¥:

    ```python
    button = Factory.getButton("GPIO-HIGH", 5)
    ```

    –û–≤–æ –∫—Ä–µ–∏—Ä–∞ –¥—É–≥–º–µ –Ω–∞ –ø–æ—Ä—Ç—É **D5** –∫–æ—ò–µ —ò–µ –ø–æ–¥–µ—à–µ–Ω–æ –¥–∞ —à–∞—ô–µ –≤–∏—Å–æ–∫ —Å–∏–≥–Ω–∞–ª –∫–∞–¥–∞ —Å–µ –ø—Ä–∏—Ç–∏—Å–Ω–µ.

1. –ò—Å–ø–æ–¥ –æ–≤–æ–≥–∞, –∫—Ä–µ–∏—Ä–∞—ò—Ç–µ –∏–Ω—Å—Ç–∞–Ω—Ü—É PyAudio –∫–ª–∞—Å–µ –∑–∞ —Ä–∞–¥ —Å–∞ –∑–≤—É–∫–æ–º:

    ```python
    audio = pyaudio.PyAudio()
    ```

1. –î–µ–∫–ª–∞—Ä–∏—à–∏—Ç–µ –±—Ä–æ—ò —Ö–∞—Ä–¥–≤–µ—Ä—Å–∫–µ –∫–∞—Ä—Ç–∏—Ü–µ –∑–∞ –º–∏–∫—Ä–æ—Ñ–æ–Ω –∏ –∑–≤—É—á–Ω–∏–∫. –û–≤–æ —õ–µ –±–∏—Ç–∏ –±—Ä–æ—ò –∫–∞—Ä—Ç–∏—Ü–µ –∫–æ—ò–∏ —Å—Ç–µ –ø—Ä–æ–Ω–∞—à–ª–∏ –ø–æ–∫—Ä–µ—Ç–∞—ö–µ–º `arecord -l` –∏ `aplay -l` —Ä–∞–Ω–∏—ò–µ —É –æ–≤–æ—ò –ª–µ–∫—Ü–∏—ò–∏.

    ```python
    microphone_card_number = <microphone card number>
    speaker_card_number = <speaker card number>
    ```

    –ó–∞–º–µ–Ω–∏—Ç–µ `<microphone card number>` –±—Ä–æ—ò–µ–º –≤–∞—à–µ –º–∏–∫—Ä–æ—Ñ–æ–Ω—Å–∫–µ –∫–∞—Ä—Ç–∏—Ü–µ.

    –ó–∞–º–µ–Ω–∏—Ç–µ `<speaker card number>` –±—Ä–æ—ò–µ–º –≤–∞—à–µ –∑–≤—É—á–Ω–∏—á–∫–µ –∫–∞—Ä—Ç–∏—Ü–µ, –∏—Å—Ç–∏–º –±—Ä–æ—ò–µ–º –∫–æ—ò–∏ —Å—Ç–µ –ø–æ—Å—Ç–∞–≤–∏–ª–∏ —É `alsa.conf` –¥–∞—Ç–æ—Ç–µ—Ü–∏.

1. –ò—Å–ø–æ–¥ –æ–≤–æ–≥–∞, –¥–µ–∫–ª–∞—Ä–∏—à–∏—Ç–µ –±—Ä–∑–∏–Ω—É —É–∑–æ—Ä–∫–æ–≤–∞—ö–∞ –∑–∞ —Å–Ω–∏–º–∞—ö–µ –∏ —Ä–µ–ø—Ä–æ–¥—É–∫—Ü–∏—ò—É –∑–≤—É–∫–∞. –ú–æ–∂–¥–∞ —õ–µ—Ç–µ –º–æ—Ä–∞—Ç–∏ –¥–∞ –ø—Ä–æ–º–µ–Ω–∏—Ç–µ –æ–≤–æ —É –∑–∞–≤–∏—Å–Ω–æ—Å—Ç–∏ –æ–¥ —Ö–∞—Ä–¥–≤–µ—Ä–∞ –∫–æ—ò–∏ –∫–æ—Ä–∏—Å—Ç–∏—Ç–µ.

    ```python
    rate = 48000 #48KHz
    ```

    –ê–∫–æ –¥–æ–±–∏—ò–µ—Ç–µ –≥—Ä–µ—à–∫–µ —É –±—Ä–∑–∏–Ω–∏ —É–∑–æ—Ä–∫–æ–≤–∞—ö–∞ –ø—Ä–∏–ª–∏–∫–æ–º –ø–æ–∫—Ä–µ—Ç–∞—ö–∞ –∫–æ–¥–∞ –∫–∞—Å–Ω–∏—ò–µ, –ø—Ä–æ–º–µ–Ω–∏—Ç–µ –æ–≤—É –≤—Ä–µ–¥–Ω–æ—Å—Ç –Ω–∞ `44100` –∏–ª–∏ `16000`. –®—Ç–æ —ò–µ –≤—Ä–µ–¥–Ω–æ—Å—Ç –≤–µ—õ–∞, —Ç–æ —ò–µ –±–æ—ô–∏ –∫–≤–∞–ª–∏—Ç–µ—Ç –∑–≤—É–∫–∞.

1. –ò—Å–ø–æ–¥ –æ–≤–æ–≥–∞, –∫—Ä–µ–∏—Ä–∞—ò—Ç–µ –Ω–æ–≤—É —Ñ—É–Ω–∫—Ü–∏—ò—É –ø–æ–¥ –Ω–∞–∑–∏–≤–æ–º `capture_audio`. –û–≤–∞ —Ñ—É–Ω–∫—Ü–∏—ò–∞ —õ–µ —Å–µ –ø–æ–∑–∏–≤–∞—Ç–∏ –∑–∞ —Å–Ω–∏–º–∞—ö–µ –∑–≤—É–∫–∞ —Å–∞ –º–∏–∫—Ä–æ—Ñ–æ–Ω–∞:

    ```python
    def capture_audio():
    ```

1. –£–Ω—É—Ç–∞—Ä –æ–≤–µ —Ñ—É–Ω–∫—Ü–∏—ò–µ, –¥–æ–¥–∞—ò—Ç–µ —Å–ª–µ–¥–µ—õ–µ –∑–∞ —Å–Ω–∏–º–∞—ö–µ –∑–≤—É–∫–∞:

    ```python
    stream = audio.open(format = pyaudio.paInt16,
                        rate = rate,
                        channels = 1, 
                        input_device_index = microphone_card_number,
                        input = True,
                        frames_per_buffer = 4096)

    frames = []

    while button.is_pressed():
        frames.append(stream.read(4096))

    stream.stop_stream()
    stream.close()
    ```

    –û–≤–∞—ò –∫–æ–¥ –æ—Ç–≤–∞—Ä–∞ –∞—É–¥–∏–æ —É–ª–∞–∑–Ω–∏ —Ç–æ–∫ –∫–æ—Ä–∏—Å—Ç–µ—õ–∏ PyAudio –æ–±—ò–µ–∫–∞—Ç. –û–≤–∞—ò —Ç–æ–∫ —õ–µ —Å–Ω–∏–º–∞—Ç–∏ –∑–≤—É–∫ —Å–∞ –º–∏–∫—Ä–æ—Ñ–æ–Ω–∞ –Ω–∞ 16KHz, —Å–Ω–∏–º–∞—ò—É—õ–∏ –≥–∞ —É –±–∞—Ñ–µ—Ä–µ –≤–µ–ª–∏—á–∏–Ω–µ 4096 –±–∞—ò—Ç–æ–≤–∞.

    –ö–æ–¥ –∑–∞—Ç–∏–º –ø–µ—Ç—ô–∞ –¥–æ–∫ —ò–µ Grove –¥—É–≥–º–µ –ø—Ä–∏—Ç–∏—Å–Ω—É—Ç–æ, —á–∏—Ç–∞—ò—É—õ–∏ –æ–≤–µ –±–∞—Ñ–µ—Ä–µ –æ–¥ 4096 –±–∞—ò—Ç–æ–≤–∞ —É –Ω–∏–∑ —Å–≤–∞–∫–∏ –ø—É—Ç.

    > üíÅ –í–∏—à–µ –æ –æ–ø—Ü–∏—ò–∞–º–∞ –∫–æ—ò–µ —Å–µ –ø—Ä–æ—Å–ª–µ—í—É—ò—É `open` –º–µ—Ç–æ–¥–∏ –º–æ–∂–µ—Ç–µ –ø—Ä–æ—á–∏—Ç–∞—Ç–∏ —É [PyAudio –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—ò–∏](https://people.csail.mit.edu/hubert/pyaudio/docs/).

    –ö–∞–¥–∞ —Å–µ –¥—É–≥–º–µ –æ—Ç–ø—É—Å—Ç–∏, —Ç–æ–∫ —Å–µ –∑–∞—É—Å—Ç–∞–≤—ô–∞ –∏ –∑–∞—Ç–≤–∞—Ä–∞.

1. –î–æ–¥–∞—ò—Ç–µ —Å–ª–µ–¥–µ—õ–µ –Ω–∞ –∫—Ä–∞—ò –æ–≤–µ —Ñ—É–Ω–∫—Ü–∏—ò–µ:

    ```python
    wav_buffer = io.BytesIO()
    with wave.open(wav_buffer, 'wb') as wavefile:
        wavefile.setnchannels(1)
        wavefile.setsampwidth(audio.get_sample_size(pyaudio.paInt16))
        wavefile.setframerate(rate)
        wavefile.writeframes(b''.join(frames))
        wav_buffer.seek(0)

    return wav_buffer
    ```

    –û–≤–∞—ò –∫–æ–¥ –∫—Ä–µ–∏—Ä–∞ –±–∏–Ω–∞—Ä–Ω–∏ –±–∞—Ñ–µ—Ä –∏ –∑–∞–ø–∏—Å—É—ò–µ —Å–∞–≤ —Å–Ω–∏–º—ô–µ–Ω–∏ –∑–≤—É–∫ —É —ö–µ–≥–∞ –∫–∞–æ [WAV –¥–∞—Ç–æ—Ç–µ–∫—É](https://wikipedia.org/wiki/WAV). –û–≤–æ —ò–µ —Å—Ç–∞–Ω–¥–∞—Ä–¥–Ω–∏ –Ω–∞—á–∏–Ω –∑–∞ –∑–∞–ø–∏—Å–∏–≤–∞—ö–µ –Ω–µ–∫–æ–º–ø—Ä–µ—Å–æ–≤–∞–Ω–æ–≥ –∑–≤—É–∫–∞ —É –¥–∞—Ç–æ—Ç–µ–∫—É. –û–≤–∞—ò –±–∞—Ñ–µ—Ä —Å–µ –∑–∞—Ç–∏–º –≤—Ä–∞—õ–∞.

1. –î–æ–¥–∞—ò—Ç–µ —Å–ª–µ–¥–µ—õ—É —Ñ—É–Ω–∫—Ü–∏—ò—É `play_audio` –∑–∞ —Ä–µ–ø—Ä–æ–¥—É–∫—Ü–∏—ò—É –∞—É–¥–∏–æ –±–∞—Ñ–µ—Ä–∞:

    ```python
    def play_audio(buffer):
        stream = audio.open(format = pyaudio.paInt16,
                            rate = rate,
                            channels = 1,
                            output_device_index = speaker_card_number,
                            output = True)
    
        with wave.open(buffer, 'rb') as wf:
            data = wf.readframes(4096)
    
            while len(data) > 0:
                stream.write(data)
                data = wf.readframes(4096)
    
            stream.close()
    ```

    –û–≤–∞ —Ñ—É–Ω–∫—Ü–∏—ò–∞ –æ—Ç–≤–∞—Ä–∞ —ò–æ—à —ò–µ–¥–∞–Ω –∞—É–¥–∏–æ —Ç–æ–∫, –æ–≤–æ–≥ –ø—É—Ç–∞ –∑–∞ –∏–∑–ª–∞–∑ - –∑–∞ —Ä–µ–ø—Ä–æ–¥—É–∫—Ü–∏—ò—É –∑–≤—É–∫–∞. –ö–æ—Ä–∏—Å—Ç–∏ –∏—Å—Ç–µ –ø–æ—Å—Ç–∞–≤–∫–µ –∫–∞–æ –∏ —É–ª–∞–∑–Ω–∏ —Ç–æ–∫. –ë–∞—Ñ–µ—Ä —Å–µ –∑–∞—Ç–∏–º –æ—Ç–≤–∞—Ä–∞ –∫–∞–æ WAV –¥–∞—Ç–æ—Ç–µ–∫–∞ –∏ –∑–∞–ø–∏—Å—É—ò–µ —É –∏–∑–ª–∞–∑–Ω–∏ —Ç–æ–∫ —É –±–∞—Ñ–µ—Ä–∏–º–∞ –æ–¥ 4096 –±–∞—ò—Ç–æ–≤–∞, —Ä–µ–ø—Ä–æ–¥—É–∫—É—ò—É—õ–∏ –∑–≤—É–∫. –¢–æ–∫ —Å–µ –∑–∞—Ç–∏–º –∑–∞—Ç–≤–∞—Ä–∞.

1. –î–æ–¥–∞—ò—Ç–µ —Å–ª–µ–¥–µ—õ–∏ –∫–æ–¥ –∏—Å–ø–æ–¥ —Ñ—É–Ω–∫—Ü–∏—ò–µ `capture_audio` –∑–∞ –ø–µ—Ç—ô—É –¥–æ–∫ —Å–µ –¥—É–≥–º–µ –Ω–µ –ø—Ä–∏—Ç–∏—Å–Ω–µ. –ö–∞–¥–∞ —Å–µ –¥—É–≥–º–µ –ø—Ä–∏—Ç–∏—Å–Ω–µ, –∑–≤—É–∫ —Å–µ —Å–Ω–∏–º–∞, –∞ –∑–∞—Ç–∏–º —Ä–µ–ø—Ä–æ–¥—É–∫—É—ò–µ.

    ```python
    while True:
        while not button.is_pressed():
            time.sleep(.1)
        
        buffer = capture_audio()
        play_audio(buffer)
    ```

1. –ü–æ–∫—Ä–µ–Ω–∏—Ç–µ –∫–æ–¥. –ü—Ä–∏—Ç–∏—Å–Ω–∏—Ç–µ –¥—É–≥–º–µ –∏ –≥–æ–≤–æ—Ä–∏—Ç–µ —É –º–∏–∫—Ä–æ—Ñ–æ–Ω. –û—Ç–ø—É—Å—Ç–∏—Ç–µ –¥—É–≥–º–µ –∫–∞–¥–∞ –∑–∞–≤—Ä—à–∏—Ç–µ, –∏ —á—É—õ–µ—Ç–µ —Å–Ω–∏–º–∞–∫.

    –ú–æ–∂–¥–∞ —õ–µ—Ç–µ –¥–æ–±–∏—Ç–∏ –Ω–µ–∫–µ ALSA –≥—Ä–µ—à–∫–µ –∫–∞–¥–∞ —Å–µ PyAudio –∏–Ω—Å—Ç–∞–Ω—Ü–∞ –∫—Ä–µ–∏—Ä–∞. –û–≤–æ —ò–µ –∑–±–æ–≥ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—ò–µ –Ω–∞ Pi —É—Ä–µ—í–∞—ò—É –∑–∞ –∞—É–¥–∏–æ —É—Ä–µ—í–∞—ò–µ –∫–æ—ò–µ –Ω–µ–º–∞—Ç–µ. –ú–æ–∂–µ—Ç–µ –∏–≥–Ω–æ—Ä–∏—Å–∞—Ç–∏ –æ–≤–µ –≥—Ä–µ—à–∫–µ.

    ```output
    pi@raspberrypi:~/smart-timer $ python3 app.py 
    ALSA lib pcm.c:2565:(snd_pcm_open_noupdate) Unknown PCM cards.pcm.front
    ALSA lib pcm.c:2565:(snd_pcm_open_noupdate) Unknown PCM cards.pcm.rear
    ALSA lib pcm.c:2565:(snd_pcm_open_noupdate) Unknown PCM cards.pcm.center_lfe
    ALSA lib pcm.c:2565:(snd_pcm_open_noupdate) Unknown PCM cards.pcm.side
    ```

    –ê–∫–æ –¥–æ–±–∏—ò–µ—Ç–µ —Å–ª–µ–¥–µ—õ—É –≥—Ä–µ—à–∫—É:

    ```output
    OSError: [Errno -9997] Invalid sample rate
    ```

    –æ–Ω–¥–∞ –ø—Ä–æ–º–µ–Ω–∏—Ç–µ `rate` –Ω–∞ 44100 –∏–ª–∏ 16000.

> üíÅ –û–≤–∞—ò –∫–æ–¥ –º–æ–∂–µ—Ç–µ –ø—Ä–æ–Ω–∞—õ–∏ —É [code-record/pi](../../../../../6-consumer/lessons/1-speech-recognition/code-record/pi) —Ñ–æ–ª–¥–µ—Ä—É.

üòÄ –í–∞—à –ø—Ä–æ–≥—Ä–∞–º –∑–∞ —Å–Ω–∏–º–∞—ö–µ –∑–≤—É–∫–∞ —ò–µ —É—Å–ø–µ—à–Ω–æ –∑–∞–≤—Ä—à–µ–Ω!

---

**–û–¥—Ä–∏—Ü–∞—ö–µ –æ–¥ –æ–¥–≥–æ–≤–æ—Ä–Ω–æ—Å—Ç–∏**:  
–û–≤–∞—ò –¥–æ–∫—É–º–µ–Ω—Ç —ò–µ –ø—Ä–µ–≤–µ–¥–µ–Ω –∫–æ—Ä–∏—à—õ–µ—ö–µ–º —É—Å–ª—É–≥–µ –∑–∞ –ø—Ä–µ–≤–æ—í–µ—ö–µ –ø–æ–º–æ—õ—É –≤–µ—à—Ç–∞—á–∫–µ –∏–Ω—Ç–µ–ª–∏–≥–µ–Ω—Ü–∏—ò–µ [Co-op Translator](https://github.com/Azure/co-op-translator). –ò–∞–∫–æ —Å–µ —Ç—Ä—É–¥–∏–º–æ –¥–∞ –ø—Ä–µ–≤–æ–¥ –±—É–¥–µ —Ç–∞—á–∞–Ω, –º–æ–ª–∏–º–æ –≤–∞—Å –¥–∞ –∏–º–∞—Ç–µ —É –≤–∏–¥—É –¥–∞ –∞—É—Ç–æ–º–∞—Ç–∏–∑–æ–≤–∞–Ω–∏ –ø—Ä–µ–≤–æ–¥–∏ –º–æ–≥—É —Å–∞–¥—Ä–∂–∞—Ç–∏ –≥—Ä–µ—à–∫–µ –∏–ª–∏ –Ω–µ—Ç–∞—á–Ω–æ—Å—Ç–∏. –û—Ä–∏–≥–∏–Ω–∞–ª–Ω–∏ –¥–æ–∫—É–º–µ–Ω—Ç –Ω–∞ —ö–µ–≥–æ–≤–æ–º –∏–∑–≤–æ—Ä–Ω–æ–º —ò–µ–∑–∏–∫—É —Ç—Ä–µ–±–∞ —Å–º–∞—Ç—Ä–∞—Ç–∏ –∞—É—Ç–æ—Ä–∏—Ç–∞—Ç–∏–≤–Ω–∏–º –∏–∑–≤–æ—Ä–æ–º. –ó–∞ –∫—Ä–∏—Ç–∏—á–Ω–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—ò–µ –ø—Ä–µ–ø–æ—Ä—É—á—É—ò–µ —Å–µ –ø—Ä–æ—Ñ–µ—Å–∏–æ–Ω–∞–ª–Ω–∏ –ø—Ä–µ–≤–æ–¥ –æ–¥ —Å—Ç—Ä–∞–Ω–µ —ô—É–¥–∏. –ù–µ –ø—Ä–µ—É–∑–∏–º–∞–º–æ –æ–¥–≥–æ–≤–æ—Ä–Ω–æ—Å—Ç –∑–∞ –±–∏–ª–æ –∫–∞–∫–≤–∞ –ø–æ–≥—Ä–µ—à–Ω–∞ —Ç—É–º–∞—á–µ—ö–∞ –∏–ª–∏ –Ω–µ—Å–ø–æ—Ä–∞–∑—É–º–µ –∫–æ—ò–∏ –º–æ–≥—É –Ω–∞—Å—Ç–∞—Ç–∏ —É—Å–ª–µ–¥ –∫–æ—Ä–∏—à—õ–µ—ö–∞ –æ–≤–æ–≥ –ø—Ä–µ–≤–æ–¥–∞.