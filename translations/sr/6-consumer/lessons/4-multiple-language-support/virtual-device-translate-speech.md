<!--
CO_OP_TRANSLATOR_METADATA:
{
  "original_hash": "d620a470d9dd8614d99824832978360a",
  "translation_date": "2025-08-28T13:08:44+00:00",
  "source_file": "6-consumer/lessons/4-multiple-language-support/virtual-device-translate-speech.md",
  "language_code": "sr"
}
-->
# –ü—Ä–µ–≤–æ–¥ –≥–æ–≤–æ—Ä–∞ - –í–∏—Ä—Ç—É–µ–ª–Ω–∏ IoT —É—Ä–µ—í–∞—ò

–£ –æ–≤–æ–º –¥–µ–ª—É –ª–µ–∫—Ü–∏—ò–µ, –Ω–∞–ø–∏—Å–∞—õ–µ—Ç–µ –∫–æ–¥ –∑–∞ –ø—Ä–µ–≤–æ—í–µ—ö–µ –≥–æ–≤–æ—Ä–∞ –ø—Ä–∏–ª–∏–∫–æ–º –∫–æ–Ω–≤–µ—Ä–∑–∏—ò–µ —É —Ç–µ–∫—Å—Ç –∫–æ—Ä–∏—Å—Ç–µ—õ–∏ —É—Å–ª—É–≥—É –∑–∞ –≥–æ–≤–æ—Ä, –∞ –∑–∞—Ç–∏–º —õ–µ—Ç–µ –ø—Ä–µ–≤–µ—Å—Ç–∏ —Ç–µ–∫—Å—Ç –∫–æ—Ä–∏—Å—Ç–µ—õ–∏ —É—Å–ª—É–≥—É Translator –ø—Ä–µ –Ω–µ–≥–æ —à—Ç–æ –≥–µ–Ω–µ—Ä–∏—à–µ—Ç–µ –æ–¥–≥–æ–≤–æ—Ä —É –≥–æ–≤–æ—Ä—É.

## –ö–æ—Ä–∏—à—õ–µ—ö–µ —É—Å–ª—É–≥–µ –∑–∞ –≥–æ–≤–æ—Ä –∑–∞ –ø—Ä–µ–≤–æ—í–µ—ö–µ –≥–æ–≤–æ—Ä–∞

–£—Å–ª—É–≥–∞ –∑–∞ –≥–æ–≤–æ—Ä –º–æ–∂–µ —É–∑–µ—Ç–∏ –≥–æ–≤–æ—Ä –∏ –Ω–µ —Å–∞–º–æ –¥–∞ –≥–∞ –∫–æ–Ω–≤–µ—Ä—Ç—É—ò–µ —É —Ç–µ–∫—Å—Ç –Ω–∞ –∏—Å—Ç–æ–º —ò–µ–∑–∏–∫—É, –≤–µ—õ –∏ –¥–∞ –ø—Ä–µ–≤–µ–¥–µ –∏–∑–ª–∞–∑ –Ω–∞ –¥—Ä—É–≥–µ —ò–µ–∑–∏–∫–µ.

### –ó–∞–¥–∞—Ç–∞–∫ - –∫–æ—Ä–∏—à—õ–µ—ö–µ —É—Å–ª—É–≥–µ –∑–∞ –≥–æ–≤–æ—Ä –∑–∞ –ø—Ä–µ–≤–æ—í–µ—ö–µ –≥–æ–≤–æ—Ä–∞

1. –û—Ç–≤–æ—Ä–∏—Ç–µ –ø—Ä–æ—ò–µ–∫–∞—Ç `smart-timer` —É VS Code –∏ —É–≤–µ—Ä–∏—Ç–µ —Å–µ –¥–∞ —ò–µ –≤–∏—Ä—Ç—É–µ–ª–Ω–æ –æ–∫—Ä—É–∂–µ—ö–µ —É—á–∏—Ç–∞–Ω–æ —É —Ç–µ—Ä–º–∏–Ω–∞–ª—É.

1. –î–æ–¥–∞—ò—Ç–µ —Å–ª–µ–¥–µ—õ–µ –∏–∑—ò–∞–≤–µ –∑–∞ —É–≤–æ–∑ –∏—Å–ø–æ–¥ –ø–æ—Å—Ç–æ—ò–µ—õ–∏—Ö —É–≤–æ–∑–∞:

    ```python
    from azure.cognitiveservices import speech
    from azure.cognitiveservices.speech.translation import SpeechTranslationConfig, TranslationRecognizer
    import requests
    ```

    –û–≤–æ —É–≤–æ–∑–∏ –∫–ª–∞—Å–µ –∫–æ—ò–µ —Å–µ –∫–æ—Ä–∏—Å—Ç–µ –∑–∞ –ø—Ä–µ–≤–æ—í–µ—ö–µ –≥–æ–≤–æ—Ä–∞ –∏ –±–∏–±–ª–∏–æ—Ç–µ–∫—É `requests` –∫–æ—ò–∞ —õ–µ —Å–µ –∫–æ—Ä–∏—Å—Ç–∏—Ç–∏ –∑–∞ –ø–æ–∑–∏–≤ —É—Å–ª—É–≥–µ Translator –∫–∞—Å–Ω–∏—ò–µ —É –æ–≤–æ—ò –ª–µ–∫—Ü–∏—ò–∏.

1. –í–∞—à –ø–∞–º–µ—Ç–Ω–∏ —Ç–∞—ò–º–µ—Ä —õ–µ –∏–º–∞—Ç–∏ –ø–æ—Å—Ç–∞–≤—ô–µ–Ω–∞ –¥–≤–∞ —ò–µ–∑–∏–∫–∞ - —ò–µ–∑–∏–∫ —Å–µ—Ä–≤–µ—Ä–∞ –∫–æ—ò–∏ —ò–µ –∫–æ—Ä–∏—à—õ–µ–Ω –∑–∞ —Ç—Ä–µ–Ω–∏—Ä–∞—ö–µ LUIS-–∞ (–∏—Å—Ç–∏ —ò–µ–∑–∏–∫ —Å–µ —Ç–∞–∫–æ—í–µ –∫–æ—Ä–∏—Å—Ç–∏ –∑–∞ –∫—Ä–µ–∏—Ä–∞—ö–µ –ø–æ—Ä—É–∫–∞ –∫–æ—ò–µ —Å–µ –≥–æ–≤–æ—Ä–µ –∫–æ—Ä–∏—Å–Ω–∏–∫—É) –∏ —ò–µ–∑–∏–∫ –∫–æ—ò–∏ –≥–æ–≤–æ—Ä–∏ –∫–æ—Ä–∏—Å–Ω–∏–∫. –ê–∂—É—Ä–∏—Ä–∞—ò—Ç–µ –ø—Ä–æ–º–µ–Ω—ô–∏–≤—É `language` –¥–∞ –±—É–¥–µ —ò–µ–∑–∏–∫ –∫–æ—ò–∏ —õ–µ –∫–æ—Ä–∏—Å–Ω–∏–∫ –≥–æ–≤–æ—Ä–∏—Ç–∏ –∏ –¥–æ–¥–∞—ò—Ç–µ –Ω–æ–≤—É –ø—Ä–æ–º–µ–Ω—ô–∏–≤—É `server_language` –∑–∞ —ò–µ–∑–∏–∫ –∫–æ—ò–∏ —ò–µ –∫–æ—Ä–∏—à—õ–µ–Ω –∑–∞ —Ç—Ä–µ–Ω–∏—Ä–∞—ö–µ LUIS-–∞:

    ```python
    language = '<user language>'
    server_language = '<server language>'
    ```

    –ó–∞–º–µ–Ω–∏—Ç–µ `<user language>` –∏–º–µ–Ω–æ–º –ª–æ–∫–∞–ª–∞ –∑–∞ —ò–µ–∑–∏–∫ –∫–æ—ò–∏ —õ–µ—Ç–µ –≥–æ–≤–æ—Ä–∏—Ç–∏, –Ω–∞ –ø—Ä–∏–º–µ—Ä `fr-FR` –∑–∞ —Ñ—Ä–∞–Ω—Ü—É—Å–∫–∏ –∏–ª–∏ `zn-HK` –∑–∞ –∫–∞–Ω—Ç–æ–Ω—Å–∫–∏.

    –ó–∞–º–µ–Ω–∏—Ç–µ `<server language>` –∏–º–µ–Ω–æ–º –ª–æ–∫–∞–ª–∞ –∑–∞ —ò–µ–∑–∏–∫ –∫–æ—ò–∏ —ò–µ –∫–æ—Ä–∏—à—õ–µ–Ω –∑–∞ —Ç—Ä–µ–Ω–∏—Ä–∞—ö–µ LUIS-–∞.

    –õ–∏—Å—Ç—É –ø–æ–¥—Ä–∂–∞–Ω–∏—Ö —ò–µ–∑–∏–∫–∞ –∏ —ö–∏—Ö–æ–≤–∏—Ö –∏–º–µ–Ω–∞ –ª–æ–∫–∞–ª–∞ –º–æ–∂–µ—Ç–µ –ø—Ä–æ–Ω–∞—õ–∏ —É [–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—ò–∏ –æ –ø–æ–¥—Ä—à—Ü–∏ –∑–∞ —ò–µ–∑–∏–∫–µ –∏ –≥–ª–∞—Å–æ–≤–µ –Ω–∞ Microsoft docs](https://docs.microsoft.com/azure/cognitive-services/speech-service/language-support?WT.mc_id=academic-17441-jabenn#speech-to-text).

    > üíÅ –ê–∫–æ –Ω–µ –≥–æ–≤–æ—Ä–∏—Ç–µ –≤–∏—à–µ —ò–µ–∑–∏–∫–∞, –º–æ–∂–µ—Ç–µ –∫–æ—Ä–∏—Å—Ç–∏—Ç–∏ —É—Å–ª—É–≥—É –∫–∞–æ —à—Ç–æ —ò–µ [Bing Translate](https://www.bing.com/translator) –∏–ª–∏ [Google Translate](https://translate.google.com) –∑–∞ –ø—Ä–µ–≤–æ—í–µ—ö–µ —Å–∞ –≤–∞—à–µ–≥ –æ–º–∏—ô–µ–Ω–æ–≥ —ò–µ–∑–∏–∫–∞ –Ω–∞ —ò–µ–∑–∏–∫ –ø–æ –≤–∞—à–µ–º –∏–∑–±–æ—Ä—É. –û–≤–µ —É—Å–ª—É–≥–µ –º–æ–≥—É —Ä–µ–ø—Ä–æ–¥—É–∫–æ–≤–∞—Ç–∏ –∞—É–¥–∏–æ –ø—Ä–µ–≤–µ–¥–µ–Ω–æ–≥ —Ç–µ–∫—Å—Ç–∞. –ò–º–∞—ò—Ç–µ –Ω–∞ —É–º—É –¥–∞ –ø—Ä–µ–ø–æ–∑–Ω–∞–≤–∞—á –≥–æ–≤–æ—Ä–∞ –º–æ–∂–µ –∏–≥–Ω–æ—Ä–∏—Å–∞—Ç–∏ –Ω–µ–∫–µ –∞—É–¥–∏–æ –∏–∑–ª–∞–∑–µ —Å–∞ –≤–∞—à–µ–≥ —É—Ä–µ—í–∞—ò–∞, –ø–∞ —õ–µ –≤–∞–º –º–æ–∂–¥–∞ –±–∏—Ç–∏ –ø–æ—Ç—Ä–µ–±–∞–Ω –¥–æ–¥–∞—Ç–Ω–∏ —É—Ä–µ—í–∞—ò –∑–∞ —Ä–µ–ø—Ä–æ–¥—É–∫—Ü–∏—ò—É –ø—Ä–µ–≤–µ–¥–µ–Ω–æ–≥ —Ç–µ–∫—Å—Ç–∞.
    >
    > –ù–∞ –ø—Ä–∏–º–µ—Ä, –∞–∫–æ —Ç—Ä–µ–Ω–∏—Ä–∞—Ç–µ LUIS –Ω–∞ –µ–Ω–≥–ª–µ—Å–∫–æ–º, –∞–ª–∏ –∂–µ–ª–∏—Ç–µ –¥–∞ –∫–æ—Ä–∏—Å—Ç–∏—Ç–µ —Ñ—Ä–∞–Ω—Ü—É—Å–∫–∏ –∫–∞–æ —ò–µ–∑–∏–∫ –∫–æ—Ä–∏—Å–Ω–∏–∫–∞, –º–æ–∂–µ—Ç–µ –ø—Ä–µ–≤–µ—Å—Ç–∏ —Ä–µ—á–µ–Ω–∏—Ü–µ –∫–∞–æ —à—Ç–æ —ò–µ "–ø–æ–¥–µ—Å–∏ —Ç–∞—ò–º–µ—Ä –Ω–∞ 2 –º–∏–Ω—É—Ç–∞ –∏ 27 —Å–µ–∫—É–Ω–¥–∏" —Å–∞ –µ–Ω–≥–ª–µ—Å–∫–æ–≥ –Ω–∞ —Ñ—Ä–∞–Ω—Ü—É—Å–∫–∏ –∫–æ—Ä–∏—Å—Ç–µ—õ–∏ Bing Translate, –∞ –∑–∞—Ç–∏–º –∫–æ—Ä–∏—Å—Ç–∏—Ç–∏ –¥—É–≥–º–µ **Listen translation** –¥–∞ –∏–∑–≥–æ–≤–æ—Ä–∏—Ç–µ –ø—Ä–µ–≤–æ–¥ —É –≤–∞—à –º–∏–∫—Ä–æ—Ñ–æ–Ω.
    >
    > ![–î—É–≥–º–µ –∑–∞ —Å–ª—É—à–∞—ö–µ –ø—Ä–µ–≤–æ–¥–∞ –Ω–∞ Bing Translate](../../../../../translated_images/bing-translate.348aa796d6efe2a92f41ea74a5cf42bb4c63d6faaa08e7f46924e072a35daa48.sr.png)

1. –ó–∞–º–µ–Ω–∏—Ç–µ –¥–µ–∫–ª–∞—Ä–∞—Ü–∏—ò–µ `recognizer_config` –∏ `recognizer` —Å–ª–µ–¥–µ—õ–∏–º:

    ```python
    translation_config = SpeechTranslationConfig(subscription=speech_api_key,
                                                 region=location,
                                                 speech_recognition_language=language,
                                                 target_languages=(language, server_language))
    
    recognizer = TranslationRecognizer(translation_config=translation_config)
    ```

    –û–≤–æ –∫—Ä–µ–∏—Ä–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—ò—É –∑–∞ –ø—Ä–µ–≤–æ—í–µ—ö–µ –∫–æ—ò–∞ –ø—Ä–µ–ø–æ–∑–Ω–∞—ò–µ –≥–æ–≤–æ—Ä –Ω–∞ —ò–µ–∑–∏–∫—É –∫–æ—Ä–∏—Å–Ω–∏–∫–∞ –∏ –∫—Ä–µ–∏—Ä–∞ –ø—Ä–µ–≤–æ–¥–µ –Ω–∞ —ò–µ–∑–∏–∫—É –∫–æ—Ä–∏—Å–Ω–∏–∫–∞ –∏ —Å–µ—Ä–≤–µ—Ä–∞. –ó–∞—Ç–∏–º –∫–æ—Ä–∏—Å—Ç–∏ –æ–≤—É –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—ò—É –∑–∞ –∫—Ä–µ–∏—Ä–∞—ö–µ –ø—Ä–µ–ø–æ–∑–Ω–∞–≤–∞—á–∞ –ø—Ä–µ–≤–æ–¥–∞ - –ø—Ä–µ–ø–æ–∑–Ω–∞–≤–∞—á–∞ –≥–æ–≤–æ—Ä–∞ –∫–æ—ò–∏ –º–æ–∂–µ –ø—Ä–µ–≤–µ—Å—Ç–∏ –∏–∑–ª–∞–∑ –ø—Ä–µ–ø–æ–∑–Ω–∞–≤–∞—ö–∞ –≥–æ–≤–æ—Ä–∞ –Ω–∞ –≤–∏—à–µ —ò–µ–∑–∏–∫–∞.

    > üíÅ –û—Ä–∏–≥–∏–Ω–∞–ª–Ω–∏ —ò–µ–∑–∏–∫ –º–æ—Ä–∞ –±–∏—Ç–∏ –Ω–∞–≤–µ–¥–µ–Ω —É `target_languages`, –∏–Ω–∞—á–µ –Ω–µ—õ–µ—Ç–µ –¥–æ–±–∏—Ç–∏ –Ω–∏–∫–∞–∫–≤–µ –ø—Ä–µ–≤–æ–¥–µ.

1. –ê–∂—É—Ä–∏—Ä–∞—ò—Ç–µ —Ñ—É–Ω–∫—Ü–∏—ò—É `recognized`, –∑–∞–º–µ–Ω–∏–≤—à–∏ —Ü–µ–æ —Å–∞–¥—Ä–∂–∞—ò —Ñ—É–Ω–∫—Ü–∏—ò–µ —Å–ª–µ–¥–µ—õ–∏–º:

    ```python
    if args.result.reason == speech.ResultReason.TranslatedSpeech:
        language_match = next(l for l in args.result.translations if server_language.lower().startswith(l.lower()))
        text = args.result.translations[language_match]
        if (len(text) > 0):
            print(f'Translated text: {text}')
    
            message = Message(json.dumps({ 'speech': text }))
            device_client.send_message(message)
    ```

    –û–≤–∞—ò –∫–æ–¥ –ø—Ä–æ–≤–µ—Ä–∞–≤–∞ –¥–∞ –ª–∏ —ò–µ –¥–æ–≥–∞—í–∞—ò –ø—Ä–µ–ø–æ–∑–Ω–∞–≤–∞—ö–∞ –∞–∫—Ç–∏–≤–∏—Ä–∞–Ω —ò–µ—Ä —ò–µ –≥–æ–≤–æ—Ä –ø—Ä–µ–≤–µ–¥–µ–Ω (–æ–≤–∞—ò –¥–æ–≥–∞—í–∞—ò –º–æ–∂–µ –±–∏—Ç–∏ –∞–∫—Ç–∏–≤–∏—Ä–∞–Ω —É –¥—Ä—É–≥–∏–º —Å–ª—É—á–∞—ò–µ–≤–∏–º–∞, –∫–∞–æ —à—Ç–æ —ò–µ –∫–∞–¥–∞ —ò–µ –≥–æ–≤–æ—Ä –ø—Ä–µ–ø–æ–∑–Ω–∞—Ç –∞–ª–∏ –Ω–∏—ò–µ –ø—Ä–µ–≤–µ–¥–µ–Ω). –ê–∫–æ —ò–µ –≥–æ–≤–æ—Ä –ø—Ä–µ–≤–µ–¥–µ–Ω, –ø—Ä–æ–Ω–∞–ª–∞–∑–∏ –ø—Ä–µ–≤–æ–¥ —É —Ä–µ—á–Ω–∏–∫—É `args.result.translations` –∫–æ—ò–∏ –æ–¥–≥–æ–≤–∞—Ä–∞ —ò–µ–∑–∏–∫—É —Å–µ—Ä–≤–µ—Ä–∞.

    –†–µ—á–Ω–∏–∫ `args.result.translations` —ò–µ –∫—ô—É—á–∞–Ω –Ω–∞ –æ—Å–Ω–æ–≤—É —ò–µ–∑–∏—á–∫–æ–≥ –¥–µ–ª–∞ –ø–æ–¥–µ—à–∞–≤–∞—ö–∞ –ª–æ–∫–∞–ª–∞, –∞ –Ω–µ —Ü–µ–ª–æ–≥ –ø–æ–¥–µ—à–∞–≤–∞—ö–∞. –ù–∞ –ø—Ä–∏–º–µ—Ä, –∞–∫–æ –∑–∞—Ç—Ä–∞–∂–∏—Ç–µ –ø—Ä–µ–≤–æ–¥ –Ω–∞ `fr-FR` –∑–∞ —Ñ—Ä–∞–Ω—Ü—É—Å–∫–∏, —Ä–µ—á–Ω–∏–∫ —õ–µ —Å–∞–¥—Ä–∂–∞—Ç–∏ —É–Ω–æ—Å –∑–∞ `fr`, –∞ –Ω–µ `fr-FR`.

    –ü—Ä–µ–≤–µ–¥–µ–Ω–∏ —Ç–µ–∫—Å—Ç —Å–µ –∑–∞—Ç–∏–º —à–∞—ô–µ –Ω–∞ IoT Hub.

1. –ü–æ–∫—Ä–µ–Ω–∏—Ç–µ –æ–≤–∞—ò –∫–æ–¥ –¥–∞ —Ç–µ—Å—Ç–∏—Ä–∞—Ç–µ –ø—Ä–µ–≤–æ–¥–µ. –£–≤–µ—Ä–∏—Ç–µ —Å–µ –¥–∞ –≤–∞—à–∞ —Ñ—É–Ω–∫—Ü–∏—ò–∞ –∞–ø–ª–∏–∫–∞—Ü–∏—ò–µ —Ä–∞–¥–∏ –∏ –∑–∞—Ç—Ä–∞–∂–∏—Ç–µ —Ç–∞—ò–º–µ—Ä –Ω–∞ —ò–µ–∑–∏–∫—É –∫–æ—Ä–∏—Å–Ω–∏–∫–∞, –±–∏–ª–æ –≥–æ–≤–æ—Ä–µ—õ–∏ —Ç–∞—ò —ò–µ–∑–∏–∫ —Å–∞–º–∏ –∏–ª–∏ –∫–æ—Ä–∏—Å—Ç–µ—õ–∏ –∞–ø–ª–∏–∫–∞—Ü–∏—ò—É –∑–∞ –ø—Ä–µ–≤–æ—í–µ—ö–µ.

    ```output
    (.venv) ‚ûú  smart-timer python app.py
    Connecting
    Connected
    Translated text: Set a timer of 2 minutes and 27 seconds.
    ```

## –ü—Ä–µ–≤–æ–¥ —Ç–µ–∫—Å—Ç–∞ –∫–æ—Ä–∏—Å—Ç–µ—õ–∏ —É—Å–ª—É–≥—É Translator

–£—Å–ª—É–≥–∞ –∑–∞ –≥–æ–≤–æ—Ä –Ω–µ –ø–æ–¥—Ä–∂–∞–≤–∞ –ø—Ä–µ–≤–æ—í–µ—ö–µ —Ç–µ–∫—Å—Ç–∞ –Ω–∞–∑–∞–¥ —É –≥–æ–≤–æ—Ä, —É–º–µ—Å—Ç–æ —Ç–æ–≥–∞ –º–æ–∂–µ—Ç–µ –∫–æ—Ä–∏—Å—Ç–∏—Ç–∏ —É—Å–ª—É–≥—É Translator –∑–∞ –ø—Ä–µ–≤–æ—í–µ—ö–µ —Ç–µ–∫—Å—Ç–∞. –û–≤–∞ —É—Å–ª—É–≥–∞ –∏–º–∞ REST API –∫–æ—ò–∏ –º–æ–∂–µ—Ç–µ –∫–æ—Ä–∏—Å—Ç–∏—Ç–∏ –∑–∞ –ø—Ä–µ–≤–æ—í–µ—ö–µ —Ç–µ–∫—Å—Ç–∞.

### –ó–∞–¥–∞—Ç–∞–∫ - –∫–æ—Ä–∏—à—õ–µ—ö–µ —Ä–µ—Å—É—Ä—Å–∞ Translator –∑–∞ –ø—Ä–µ–≤–æ—í–µ—ö–µ —Ç–µ–∫—Å—Ç–∞

1. –î–æ–¥–∞—ò—Ç–µ API –∫—ô—É—á –∑–∞ Translator –∏—Å–ø–æ–¥ `speech_api_key`:

    ```python
    translator_api_key = '<key>'
    ```

    –ó–∞–º–µ–Ω–∏—Ç–µ `<key>` API –∫—ô—É—á–µ–º –∑–∞ –≤–∞—à —Ä–µ—Å—É—Ä—Å —É—Å–ª—É–≥–µ Translator.

1. –ò–∑–Ω–∞–¥ —Ñ—É–Ω–∫—Ü–∏—ò–µ `say`, –¥–µ—Ñ–∏–Ω–∏—à–∏—Ç–µ —Ñ—É–Ω–∫—Ü–∏—ò—É `translate_text` –∫–æ—ò–∞ —õ–µ –ø—Ä–µ–≤–æ–¥–∏—Ç–∏ —Ç–µ–∫—Å—Ç —Å–∞ —ò–µ–∑–∏–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞ –Ω–∞ —ò–µ–∑–∏–∫ –∫–æ—Ä–∏—Å–Ω–∏–∫–∞:

    ```python
    def translate_text(text):
    ```

1. –£–Ω—É—Ç–∞—Ä –æ–≤–µ —Ñ—É–Ω–∫—Ü–∏—ò–µ, –¥–µ—Ñ–∏–Ω–∏—à–∏—Ç–µ URL –∏ –∑–∞–≥–ª–∞–≤—ô–∞ –∑–∞ REST API –ø–æ–∑–∏–≤:

    ```python
    url = f'https://api.cognitive.microsofttranslator.com/translate?api-version=3.0'

    headers = {
        'Ocp-Apim-Subscription-Key': translator_api_key,
        'Ocp-Apim-Subscription-Region': location,
        'Content-type': 'application/json'
    }
    ```

    URL –∑–∞ –æ–≤–∞—ò API –Ω–∏—ò–µ —Å–ø–µ—Ü–∏—Ñ–∏—á–∞–Ω –∑–∞ –ª–æ–∫–∞—Ü–∏—ò—É, —É–º–µ—Å—Ç–æ —Ç–æ–≥–∞ –ª–æ–∫–∞—Ü–∏—ò–∞ —Å–µ –ø—Ä–æ—Å–ª–µ—í—É—ò–µ –∫–∞–æ –∑–∞–≥–ª–∞–≤—ô–µ. API –∫—ô—É—á —Å–µ –∫–æ—Ä–∏—Å—Ç–∏ –¥–∏—Ä–µ–∫—Ç–Ω–æ, —Ç–∞–∫–æ –¥–∞ –∑–∞ —Ä–∞–∑–ª–∏–∫—É –æ–¥ —É—Å–ª—É–≥–µ –∑–∞ –≥–æ–≤–æ—Ä –Ω–µ–º–∞ –ø–æ—Ç—Ä–µ–±–µ –∑–∞ –¥–æ–±–∏—ò–∞—ö–µ–º –ø—Ä–∏—Å—Ç—É–ø–Ω–æ–≥ —Ç–æ–∫–µ–Ω–∞ –∏–∑ API-–∞ –∑–∞ –∏–∑–¥–∞–≤–∞—ö–µ —Ç–æ–∫–µ–Ω–∞.

1. –ò—Å–ø–æ–¥ –æ–≤–æ–≥–∞ –¥–µ—Ñ–∏–Ω–∏—à–∏—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–µ –∏ —Ç–µ–ª–æ –∑–∞ –ø–æ–∑–∏–≤:

    ```python
    params = {
        'from': server_language,
        'to': language
    }

    body = [{
        'text' : text
    }]
    ```

    `params` –¥–µ—Ñ–∏–Ω–∏—à–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–µ –∫–æ—ò–∏ —Å–µ –ø—Ä–æ—Å–ª–µ—í—É—ò—É API –ø–æ–∑–∏–≤—É, –ø—Ä–æ—Å–ª–µ—í—É—ò—É—õ–∏ —ò–µ–∑–∏–∫–µ `from` –∏ `to`. –û–≤–∞—ò –ø–æ–∑–∏–≤ —õ–µ –ø—Ä–µ–≤–µ—Å—Ç–∏ —Ç–µ–∫—Å—Ç —Å–∞ —ò–µ–∑–∏–∫–∞ `from` –Ω–∞ —ò–µ–∑–∏–∫ `to`.

    `body` —Å–∞–¥—Ä–∂–∏ —Ç–µ–∫—Å—Ç –∑–∞ –ø—Ä–µ–≤–æ—í–µ—ö–µ. –û–≤–æ —ò–µ –Ω–∏–∑, —ò–µ—Ä —Å–µ –≤–∏—à–µ –±–ª–æ–∫–æ–≤–∞ —Ç–µ–∫—Å—Ç–∞ –º–æ–∂–µ –ø—Ä–µ–≤–µ—Å—Ç–∏ —É –∏—Å—Ç–æ–º –ø–æ–∑–∏–≤—É.

1. –ù–∞–ø—Ä–∞–≤–∏—Ç–µ –ø–æ–∑–∏–≤ REST API-—ò—É –∏ –¥–æ–±–∏—ò—Ç–µ –æ–¥–≥–æ–≤–æ—Ä:

    ```python
    response = requests.post(url, headers=headers, params=params, json=body)
    ```

    –û–¥–≥–æ–≤–æ—Ä –∫–æ—ò–∏ —Å–µ –≤—Ä–∞—õ–∞ —ò–µ JSON –Ω–∏–∑, —Å–∞ —ò–µ–¥–Ω–∏–º —Å—Ç–∞–≤–∫–æ–º –∫–æ—ò–∏ —Å–∞–¥—Ä–∂–∏ –ø—Ä–µ–≤–æ–¥–µ. –û–≤–∞—ò —Å—Ç–∞–≤–∞–∫ –∏–º–∞ –Ω–∏–∑ –∑–∞ –ø—Ä–µ–≤–æ–¥–µ —Å–≤–∏—Ö —Å—Ç–∞–≤–∫–∏ –ø—Ä–æ—Å–ª–µ—í–µ–Ω–∏—Ö —É —Ç–µ–ª—É.

    ```json
    [
        {
            "translations": [
                {
                    "text": "Chronom√©trant votre minuterie de 2 minutes 27 secondes.",
                    "to": "fr"
                }
            ]
        }
    ]
    ```

1. –í—Ä–∞—Ç–∏—Ç–µ —Å–≤–æ—ò—Å—Ç–≤–æ `text` –∏–∑ –ø—Ä–≤–æ–≥ –ø—Ä–µ–≤–æ–¥–∞ –∏–∑ –ø—Ä–≤–µ —Å—Ç–∞–≤–∫–µ —É –Ω–∏–∑—É:

    ```python
    return response.json()[0]['translations'][0]['text']
    ```

1. –ê–∂—É—Ä–∏—Ä–∞—ò—Ç–µ —Ñ—É–Ω–∫—Ü–∏—ò—É `say` –¥–∞ –ø—Ä–µ–≤–µ–¥–µ —Ç–µ–∫—Å—Ç –∫–æ—ò–∏ —Ç—Ä–µ–±–∞ –∏–∑–≥–æ–≤–æ—Ä–∏—Ç–∏ –ø—Ä–µ –Ω–µ–≥–æ —à—Ç–æ —Å–µ –≥–µ–Ω–µ—Ä–∏—à–µ SSML:

    ```python
    print('Original:', text)
    text = translate_text(text)
    print('Translated:', text)
    ```

    –û–≤–∞—ò –∫–æ–¥ —Ç–∞–∫–æ—í–µ —à—Ç–∞–º–ø–∞ –æ—Ä–∏–≥–∏–Ω–∞–ª–Ω—É –∏ –ø—Ä–µ–≤–µ–¥–µ–Ω—É –≤–µ—Ä–∑–∏—ò—É —Ç–µ–∫—Å—Ç–∞ —É –∫–æ–Ω–∑–æ–ª—É.

1. –ü–æ–∫—Ä–µ–Ω–∏—Ç–µ —Å–≤–æ—ò –∫–æ–¥. –£–≤–µ—Ä–∏—Ç–µ —Å–µ –¥–∞ –≤–∞—à–∞ —Ñ—É–Ω–∫—Ü–∏—ò–∞ –∞–ø–ª–∏–∫–∞—Ü–∏—ò–µ —Ä–∞–¥–∏ –∏ –∑–∞—Ç—Ä–∞–∂–∏—Ç–µ —Ç–∞—ò–º–µ—Ä –Ω–∞ —ò–µ–∑–∏–∫—É –∫–æ—Ä–∏—Å–Ω–∏–∫–∞, –±–∏–ª–æ –≥–æ–≤–æ—Ä–µ—õ–∏ —Ç–∞—ò —ò–µ–∑–∏–∫ —Å–∞–º–∏ –∏–ª–∏ –∫–æ—Ä–∏—Å—Ç–µ—õ–∏ –∞–ø–ª–∏–∫–∞—Ü–∏—ò—É –∑–∞ –ø—Ä–µ–≤–æ—í–µ—ö–µ.

    ```output
    (.venv) ‚ûú  smart-timer python app.py
    Connecting
    Connected
    Translated text: Set a timer of 2 minutes and 27 seconds.
    Original: 2 minute 27 second timer started.
    Translated: 2 minute 27 seconde minute a commenc√©.
    Original: Times up on your 2 minute 27 second timer.
    Translated: Chronom√©trant votre minuterie de 2 minutes 27 secondes.
    ```

    > üíÅ –ó–±–æ–≥ —Ä–∞–∑–ª–∏—á–∏—Ç–∏—Ö –Ω–∞—á–∏–Ω–∞ –∏–∑—Ä–∞–∂–∞–≤–∞—ö–∞ —É —Ä–∞–∑–ª–∏—á–∏—Ç–∏–º —ò–µ–∑–∏—Ü–∏–º–∞, –º–æ–∂–µ—Ç–µ –¥–æ–±–∏—Ç–∏ –ø—Ä–µ–≤–æ–¥–µ –∫–æ—ò–∏ —Å–µ –º–∞–ª–æ —Ä–∞–∑–ª–∏–∫—É—ò—É –æ–¥ –ø—Ä–∏–º–µ—Ä–∞ –∫–æ—ò–µ —Å—Ç–µ –¥–∞–ª–∏ LUIS-—É. –ê–∫–æ —ò–µ —Ç–æ —Å–ª—É—á–∞—ò, –¥–æ–¥–∞—ò—Ç–µ –≤–∏—à–µ –ø—Ä–∏–º–µ—Ä–∞ —É LUIS, –ø–æ–Ω–æ–≤–æ –æ–±—É—á–∏—Ç–µ –∏ –∑–∞—Ç–∏–º –ø–æ–Ω–æ–≤–æ –æ–±—ò–∞–≤–∏—Ç–µ –º–æ–¥–µ–ª.

> üíÅ –û–≤–∞—ò –∫–æ–¥ –º–æ–∂–µ—Ç–µ –ø—Ä–æ–Ω–∞—õ–∏ —É [code/virtual-iot-device](../../../../../6-consumer/lessons/4-multiple-language-support/code/virtual-iot-device) —Ñ–∞—Å—Ü–∏–∫–ª–∏.

üòÄ –í–∞—à –ø—Ä–æ–≥—Ä–∞–º –∑–∞ –º—É–ª—Ç–∏—ò–µ–∑–∏—á–Ω–∏ —Ç–∞—ò–º–µ—Ä —ò–µ –±–∏–æ —É—Å–ø–µ—à–∞–Ω!

---

**–û–¥—Ä–∏—Ü–∞—ö–µ –æ–¥ –æ–¥–≥–æ–≤–æ—Ä–Ω–æ—Å—Ç–∏**:  
–û–≤–∞—ò –¥–æ–∫—É–º–µ–Ω—Ç —ò–µ –ø—Ä–µ–≤–µ–¥–µ–Ω –∫–æ—Ä–∏—à—õ–µ—ö–µ–º —É—Å–ª—É–≥–µ –∑–∞ –ø—Ä–µ–≤–æ—í–µ—ö–µ –ø–æ–º–æ—õ—É –≤–µ—à—Ç–∞—á–∫–µ –∏–Ω—Ç–µ–ª–∏–≥–µ–Ω—Ü–∏—ò–µ [Co-op Translator](https://github.com/Azure/co-op-translator). –ò–∞–∫–æ –Ω–∞—Å—Ç–æ—ò–∏–º–æ –¥–∞ –æ–±–µ–∑–±–µ–¥–∏–º–æ —Ç–∞—á–Ω–æ—Å—Ç, –º–æ–ª–∏–º–æ –≤–∞—Å –¥–∞ –∏–º–∞—Ç–µ —É –≤–∏–¥—É –¥–∞ –∞—É—Ç–æ–º–∞—Ç—Å–∫–∏ –ø—Ä–µ–≤–æ–¥–∏ –º–æ–≥—É —Å–∞–¥—Ä–∂–∞—Ç–∏ –≥—Ä–µ—à–∫–µ –∏–ª–∏ –Ω–µ—Ç–∞—á–Ω–æ—Å—Ç–∏. –û—Ä–∏–≥–∏–Ω–∞–ª–Ω–∏ –¥–æ–∫—É–º–µ–Ω—Ç –Ω–∞ –∏–∑–≤–æ—Ä–Ω–æ–º —ò–µ–∑–∏–∫—É —Ç—Ä–µ–±–∞ —Å–º–∞—Ç—Ä–∞—Ç–∏ –º–µ—Ä–æ–¥–∞–≤–Ω–∏–º –∏–∑–≤–æ—Ä–æ–º. –ó–∞ –∫—Ä–∏—Ç–∏—á–Ω–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—ò–µ –ø—Ä–µ–ø–æ—Ä—É—á—É—ò–µ —Å–µ –ø—Ä–æ—Ñ–µ—Å–∏–æ–Ω–∞–ª–Ω–∏ –ø—Ä–µ–≤–æ–¥ –æ–¥ —Å—Ç—Ä–∞–Ω–µ —ô—É–¥–∏. –ù–µ —Å–Ω–æ—Å–∏–º–æ –æ–¥–≥–æ–≤–æ—Ä–Ω–æ—Å—Ç –∑–∞ –±–∏–ª–æ –∫–∞–∫–≤–∞ –ø–æ–≥—Ä–µ—à–Ω–∞ —Ç—É–º–∞—á–µ—ö–∞ –∏–ª–∏ –Ω–µ—Å–ø–æ—Ä–∞–∑—É–º–µ –∫–æ—ò–∏ –º–æ–≥—É –ø—Ä–æ–∏–∑–∞—õ–∏ –∏–∑ –∫–æ—Ä–∏—à—õ–µ—ö–∞ –æ–≤–æ–≥ –ø—Ä–µ–≤–æ–¥–∞.