<!--
CO_OP_TRANSLATOR_METADATA:
{
  "original_hash": "e5896207b304ce1abaf065b8acc0cc79",
  "translation_date": "2025-08-28T12:31:16+00:00",
  "source_file": "4-manufacturing/lessons/2-check-fruit-from-device/single-board-computer-classify-image.md",
  "language_code": "sr"
}
-->
# –ö–ª–∞—Å–∏—Ñ–∏–∫—É—ò —Å–ª–∏–∫—É - –í–∏—Ä—Ç—É–µ–ª–Ω–∏ IoT —Ö–∞—Ä–¥–≤–µ—Ä –∏ Raspberry Pi

–£ –æ–≤–æ–º –¥–µ–ª—É –ª–µ–∫—Ü–∏—ò–µ, –ø–æ—Å–ª–∞—õ–µ—Ç–µ —Å–ª–∏–∫—É —Å–Ω–∏–º—ô–µ–Ω—É –∫–∞–º–µ—Ä–æ–º –Ω–∞ Custom Vision —Å–µ—Ä–≤–∏—Å —Ä–∞–¥–∏ –∫–ª–∞—Å–∏—Ñ–∏–∫–∞—Ü–∏—ò–µ.

## –°–ª–∞—ö–µ —Å–ª–∏–∫–∞ –Ω–∞ Custom Vision

Custom Vision —Å–µ—Ä–≤–∏—Å –∏–º–∞ Python SDK –∫–æ—ò–∏ –º–æ–∂–µ—Ç–µ –∫–æ—Ä–∏—Å—Ç–∏—Ç–∏ –∑–∞ –∫–ª–∞—Å–∏—Ñ–∏–∫–∞—Ü–∏—ò—É —Å–ª–∏–∫–∞.

### –ó–∞–¥–∞—Ç–∞–∫ - —Å–ª–∞—ö–µ —Å–ª–∏–∫–∞ –Ω–∞ Custom Vision

1. –û—Ç–≤–æ—Ä–∏—Ç–µ —Ñ–∞—Å—Ü–∏–∫–ª—É `fruit-quality-detector` —É VS Code. –ê–∫–æ –∫–æ—Ä–∏—Å—Ç–∏—Ç–µ –≤–∏—Ä—Ç—É–µ–ª–Ω–∏ IoT —É—Ä–µ—í–∞—ò, —É–≤–µ—Ä–∏—Ç–µ —Å–µ –¥–∞ —ò–µ –≤–∏—Ä—Ç—É–µ–ª–Ω–æ –æ–∫—Ä—É–∂–µ—ö–µ –ø–æ–∫—Ä–µ–Ω—É—Ç–æ —É —Ç–µ—Ä–º–∏–Ω–∞–ª—É.

1. Python SDK –∑–∞ —Å–ª–∞—ö–µ —Å–ª–∏–∫–∞ –Ω–∞ Custom Vision –¥–æ—Å—Ç—É–ø–∞–Ω —ò–µ –∫–∞–æ Pip –ø–∞–∫–µ—Ç. –ò–Ω—Å—Ç–∞–ª–∏—Ä–∞—ò—Ç–µ –≥–∞ —Å–ª–µ–¥–µ—õ–æ–º –∫–æ–º–∞–Ω–¥–æ–º:

    ```sh
    pip3 install azure-cognitiveservices-vision-customvision
    ```

1. –î–æ–¥–∞—ò—Ç–µ —Å–ª–µ–¥–µ—õ–µ import –∏–∑—ò–∞–≤–µ –Ω–∞ –≤—Ä—Ö —Ñ–∞—ò–ª–∞ `app.py`:

    ```python
    from msrest.authentication import ApiKeyCredentials
    from azure.cognitiveservices.vision.customvision.prediction import CustomVisionPredictionClient
    ```

    –û–≤–æ —É–∫—ô—É—á—É—ò–µ –Ω–µ–∫–µ –º–æ–¥—É–ª–µ –∏–∑ Custom Vision –±–∏–±–ª–∏–æ—Ç–µ–∫–∞, —ò–µ–¥–∞–Ω –∑–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—ò—É —Å–∞ prediction key, –∏ —ò–µ–¥–∞–Ω –∑–∞ –æ–±–µ–∑–±–µ—í–∏–≤–∞—ö–µ prediction client –∫–ª–∞—Å–µ –∫–æ—ò–∞ –º–æ–∂–µ –ø–æ–∑–∏–≤–∞—Ç–∏ Custom Vision.

1. –î–æ–¥–∞—ò—Ç–µ —Å–ª–µ–¥–µ—õ–∏ –∫–æ–¥ –Ω–∞ –∫—Ä–∞—ò —Ñ–∞—ò–ª–∞:

    ```python
    prediction_url = '<prediction_url>'
    prediction_key = '<prediction key>'
    ```

    –ó–∞–º–µ–Ω–∏—Ç–µ `<prediction_url>` —Å–∞ URL-–æ–º –∫–æ—ò–∏ —Å—Ç–µ –∫–æ–ø–∏—Ä–∞–ª–∏ –∏–∑ –¥–∏—ò–∞–ª–æ–≥–∞ *Prediction URL* —Ä–∞–Ω–∏—ò–µ —É –æ–≤–æ—ò –ª–µ–∫—Ü–∏—ò–∏. –ó–∞–º–µ–Ω–∏—Ç–µ `<prediction key>` —Å–∞ prediction key –∫–æ—ò–∏ —Å—Ç–µ –∫–æ–ø–∏—Ä–∞–ª–∏ –∏–∑ –∏—Å—Ç–æ–≥ –¥–∏—ò–∞–ª–æ–≥–∞.

1. Prediction URL –∫–æ—ò–∏ —ò–µ –æ–±–µ–∑–±–µ—í–µ–Ω —É –¥–∏—ò–∞–ª–æ–≥—É *Prediction URL* –¥–∏–∑–∞—ò–Ω–∏—Ä–∞–Ω —ò–µ –∑–∞ –¥–∏—Ä–µ–∫—Ç–Ω–æ –∫–æ—Ä–∏—à—õ–µ—ö–µ –ø—Ä–∏ –ø–æ–∑–∏–≤–∞—ö—É REST –µ–Ω–¥–ø–æ–∏–Ω—Ç–∞. Python SDK –∫–æ—Ä–∏—Å—Ç–∏ –¥–µ–ª–æ–≤–µ URL-–∞ –Ω–∞ —Ä–∞–∑–ª–∏—á–∏—Ç–∏–º –º–µ—Å—Ç–∏–º–∞. –î–æ–¥–∞—ò—Ç–µ —Å–ª–µ–¥–µ—õ–∏ –∫–æ–¥ –¥–∞ –±–∏—Å—Ç–µ —Ä–∞–∑–¥–≤–æ—ò–∏–ª–∏ –æ–≤–∞—ò URL –Ω–∞ –ø–æ—Ç—Ä–µ–±–Ω–µ –¥–µ–ª–æ–≤–µ:

    ```python
    parts = prediction_url.split('/')
    endpoint = 'https://' + parts[2]
    project_id = parts[6]
    iteration_name = parts[9]
    ```

    –û–≤–æ –¥–µ–ª–∏ URL, –∏–∑–≤–ª–∞—á–µ—õ–∏ –µ–Ω–¥–ø–æ–∏–Ω—Ç `https://<location>.api.cognitive.microsoft.com`, ID –ø—Ä–æ—ò–µ–∫—Ç–∞ –∏ –∏–º–µ –æ–±—ò–∞–≤—ô–µ–Ω–µ –∏—Ç–µ—Ä–∞—Ü–∏—ò–µ.

1. –ù–∞–ø—Ä–∞–≤–∏—Ç–µ predictor –æ–±—ò–µ–∫–∞—Ç –∑–∞ –∏–∑–≤—Ä—à–∞–≤–∞—ö–µ –ø—Ä–µ–¥–≤–∏—í–∞—ö–∞ –ø–æ–º–æ—õ—É —Å–ª–µ–¥–µ—õ–µ–≥ –∫–æ–¥–∞:

    ```python
    prediction_credentials = ApiKeyCredentials(in_headers={"Prediction-key": prediction_key})
    predictor = CustomVisionPredictionClient(endpoint, prediction_credentials)
    ```

    `prediction_credentials` –æ–±—É—Ö–≤–∞—Ç–∞—ò—É prediction key. –û–Ω–∏ —Å–µ –∑–∞—Ç–∏–º –∫–æ—Ä–∏—Å—Ç–µ –∑–∞ –∫—Ä–µ–∏—Ä–∞—ö–µ prediction client –æ–±—ò–µ–∫—Ç–∞ –∫–æ—ò–∏ –ø–æ–∫–∞–∑—É—ò–µ –Ω–∞ –µ–Ω–¥–ø–æ–∏–Ω—Ç.

1. –ü–æ—à–∞—ô–∏—Ç–µ —Å–ª–∏–∫—É –Ω–∞ Custom Vision –∫–æ—Ä–∏—Å—Ç–µ—õ–∏ —Å–ª–µ–¥–µ—õ–∏ –∫–æ–¥:

    ```python
    image.seek(0)
    results = predictor.classify_image(project_id, iteration_name, image)
    ```

    –û–≤–æ –≤—Ä–∞—õ–∞ —Å–ª–∏–∫—É –Ω–∞ –ø–æ—á–µ—Ç–∞–∫, –∞ –∑–∞—Ç–∏–º —ò–µ —à–∞—ô–µ prediction client-—É.

1. –ù–∞ –∫—Ä–∞—ò—É, –ø—Ä–∏–∫–∞–∂–∏—Ç–µ —Ä–µ–∑—É–ª—Ç–∞—Ç–µ –ø–æ–º–æ—õ—É —Å–ª–µ–¥–µ—õ–µ–≥ –∫–æ–¥–∞:

    ```python
    for prediction in results.predictions:
        print(f'{prediction.tag_name}:\t{prediction.probability * 100:.2f}%')
    ```

    –û–≤–æ —õ–µ –ø—Ä–æ—õ–∏ –∫—Ä–æ–∑ —Å–≤–∞ –ø—Ä–µ–¥–≤–∏—í–∞—ö–∞ –∫–æ—ò–∞ —Å—É –≤—Ä–∞—õ–µ–Ω–∞ –∏ –ø—Ä–∏–∫–∞–∑–∞—Ç–∏ –∏—Ö —É —Ç–µ—Ä–º–∏–Ω–∞–ª—É. –í–µ—Ä–æ–≤–∞—Ç–Ω–æ—õ–µ –∫–æ—ò–µ —Å–µ –≤—Ä–∞—õ–∞—ò—É —Å—É –±—Ä–æ—ò–µ–≤–∏ —Å–∞ –ø–æ–∫—Ä–µ—Ç–Ω–∏–º –∑–∞—Ä–µ–∑–æ–º –æ–¥ 0-1, –≥–¥–µ —ò–µ 0 —à–∞–Ω—Å–∞ –æ–¥ 0% –¥–∞ —Å–µ –ø–æ–¥—É–¥–∞—Ä–∞ —Å–∞ –æ–∑–Ω–∞–∫–æ–º, –∞ 1 —à–∞–Ω—Å–∞ –æ–¥ 100%.

    > üíÅ –ö–ª–∞—Å–∏—Ñ–∏–∫–∞—Ç–æ—Ä–∏ —Å–ª–∏–∫–∞ —õ–µ –≤—Ä–∞—Ç–∏—Ç–∏ –ø—Ä–æ—Ü–µ–Ω–∞—Ç –∑–∞ —Å–≤–µ –æ–∑–Ω–∞–∫–µ –∫–æ—ò–µ —Å—É –∫–æ—Ä–∏—à—õ–µ–Ω–µ. –°–≤–∞–∫–∞ –æ–∑–Ω–∞–∫–∞ —õ–µ –∏–º–∞—Ç–∏ –≤–µ—Ä–æ–≤–∞—Ç–Ω–æ—õ—É –¥–∞ —Å–ª–∏–∫–∞ –æ–¥–≥–æ–≤–∞—Ä–∞ —Ç–æ—ò –æ–∑–Ω–∞—Ü–∏.

1. –ü–æ–∫—Ä–µ–Ω–∏—Ç–µ —Å–≤–æ—ò –∫–æ–¥, —Å–∞ –∫–∞–º–µ—Ä–æ–º —É—Å–º–µ—Ä–µ–Ω–æ–º –Ω–∞ –Ω–µ–∫–æ –≤–æ—õ–µ, –æ–¥–≥–æ–≤–∞—Ä–∞—ò—É—õ–∏ —Å–µ—Ç —Å–ª–∏–∫–∞, –∏–ª–∏ –≤–æ—õ–µ –≤–∏–¥—ô–∏–≤–æ –Ω–∞ –≤–∞—à–æ—ò –≤–µ–± –∫–∞–º–µ—Ä–∏ –∞–∫–æ –∫–æ—Ä–∏—Å—Ç–∏—Ç–µ –≤–∏—Ä—Ç—É–µ–ª–Ω–∏ IoT —Ö–∞—Ä–¥–≤–µ—Ä. –í–∏–¥–µ—õ–µ—Ç–µ –∏–∑–ª–∞–∑ —É –∫–æ–Ω–∑–æ–ª–∏:

    ```output
    (.venv) ‚ûú  fruit-quality-detector python app.py
    ripe:   56.84%
    unripe: 43.16%
    ```

    –ú–æ—õ–∏ —õ–µ—Ç–µ –¥–∞ –≤–∏–¥–∏—Ç–µ —Å–ª–∏–∫—É –∫–æ—ò–∞ —ò–µ —Å–Ω–∏–º—ô–µ–Ω–∞, –∫–∞–æ –∏ –æ–≤–µ –≤—Ä–µ–¥–Ω–æ—Å—Ç–∏ —É –∫–∞—Ä—Ç–∏—Ü–∏ **Predictions** —É Custom Vision.

    ![–ë–∞–Ω–∞–Ω–∞ —É Custom Vision –ø—Ä–µ–¥–≤–∏—í–µ–Ω–∞ –∫–∞–æ –∑—Ä–µ–ª–∞ —Å–∞ 56.8% –∏ –Ω–µ–∑—Ä–µ–ª–∞ —Å–∞ 43.1%](../../../../../translated_images/custom-vision-banana-prediction.30cdff4e1d72db5d9a0be0193790a47c2b387da034e12dc1314dd57ca2131b59.sr.png)

> üíÅ –û–≤–∞—ò –∫–æ–¥ –º–æ–∂–µ—Ç–µ –ø—Ä–æ–Ω–∞—õ–∏ —É —Ñ–∞—Å—Ü–∏–∫–ª–∏ [code-classify/pi](../../../../../4-manufacturing/lessons/2-check-fruit-from-device/code-classify/pi) –∏–ª–∏ [code-classify/virtual-iot-device](../../../../../4-manufacturing/lessons/2-check-fruit-from-device/code-classify/virtual-iot-device).

üòÄ –í–∞—à –ø—Ä–æ–≥—Ä–∞–º –∑–∞ –∫–ª–∞—Å–∏—Ñ–∏–∫–∞—Ü–∏—ò—É –∫–≤–∞–ª–∏—Ç–µ—Ç–∞ –≤–æ—õ–∞ —ò–µ –±–∏–æ —É—Å–ø–µ—à–∞–Ω!

---

**–û–¥—Ä–∏—Ü–∞—ö–µ –æ–¥ –æ–¥–≥–æ–≤–æ—Ä–Ω–æ—Å—Ç–∏**:  
–û–≤–∞—ò –¥–æ–∫—É–º–µ–Ω—Ç —ò–µ –ø—Ä–µ–≤–µ–¥–µ–Ω –∫–æ—Ä–∏—à—õ–µ—ö–µ–º —É—Å–ª—É–≥–µ –∑–∞ –ø—Ä–µ–≤–æ—í–µ—ö–µ –ø–æ–º–æ—õ—É –≤–µ—à—Ç–∞—á–∫–µ –∏–Ω—Ç–µ–ª–∏–≥–µ–Ω—Ü–∏—ò–µ [Co-op Translator](https://github.com/Azure/co-op-translator). –ò–∞–∫–æ —Å–µ —Ç—Ä—É–¥–∏–º–æ –¥–∞ –æ–±–µ–∑–±–µ–¥–∏–º–æ —Ç–∞—á–Ω–æ—Å—Ç, –º–æ–ª–∏–º–æ –≤–∞—Å –¥–∞ –∏–º–∞—Ç–µ —É –≤–∏–¥—É –¥–∞ –∞—É—Ç–æ–º–∞—Ç—Å–∫–∏ –ø—Ä–µ–≤–æ–¥–∏ –º–æ–≥—É —Å–∞–¥—Ä–∂–∞—Ç–∏ –≥—Ä–µ—à–∫–µ –∏–ª–∏ –Ω–µ—Ç–∞—á–Ω–æ—Å—Ç–∏. –û—Ä–∏–≥–∏–Ω–∞–ª–Ω–∏ –¥–æ–∫—É–º–µ–Ω—Ç –Ω–∞ —ö–µ–≥–æ–≤–æ–º –∏–∑–≤–æ—Ä–Ω–æ–º —ò–µ–∑–∏–∫—É —Ç—Ä–µ–±–∞ —Å–º–∞—Ç—Ä–∞—Ç–∏ –º–µ—Ä–æ–¥–∞–≤–Ω–∏–º –∏–∑–≤–æ—Ä–æ–º. –ó–∞ –∫—Ä–∏—Ç–∏—á–Ω–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—ò–µ –ø—Ä–µ–ø–æ—Ä—É—á—É—ò–µ —Å–µ –ø—Ä–æ—Ñ–µ—Å–∏–æ–Ω–∞–ª–Ω–∏ –ø—Ä–µ–≤–æ–¥ –æ–¥ —Å—Ç—Ä–∞–Ω–µ —ô—É–¥–∏. –ù–µ –ø—Ä–µ—É–∑–∏–º–∞–º–æ –æ–¥–≥–æ–≤–æ—Ä–Ω–æ—Å—Ç –∑–∞ –±–∏–ª–æ –∫–∞–∫–≤–∞ –ø–æ–≥—Ä–µ—à–Ω–∞ —Ç—É–º–∞—á–µ—ö–∞ –∏–ª–∏ –Ω–µ—Å–ø–æ—Ä–∞–∑—É–º–µ –∫–æ—ò–∏ –º–æ–≥—É –Ω–∞—Å—Ç–∞—Ç–∏ —É—Å–ª–µ–¥ –∫–æ—Ä–∏—à—õ–µ—ö–∞ –æ–≤–æ–≥ –ø—Ä–µ–≤–æ–¥–∞.