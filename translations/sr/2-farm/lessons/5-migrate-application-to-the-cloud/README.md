<!--
CO_OP_TRANSLATOR_METADATA:
{
  "original_hash": "5f2d2f4a5a023c93ab34a0cc5b47c0c4",
  "translation_date": "2025-08-28T14:43:39+00:00",
  "source_file": "2-farm/lessons/5-migrate-application-to-the-cloud/README.md",
  "language_code": "sr"
}
-->
# –ú–∏–≥—Ä–∏—Ä–∞—ò—Ç–µ –ª–æ–≥–∏–∫—É –≤–∞—à–µ –∞–ø–ª–∏–∫–∞—Ü–∏—ò–µ —É –æ–±–ª–∞–∫

![–ü—Ä–µ–≥–ª–µ–¥ –ª–µ–∫—Ü–∏—ò–µ —É –æ–±–ª–∏–∫—É —Å–∫–∏—Ü–µ](../../../../../translated_images/lesson-9.dfe99c8e891f48e179724520da9f5794392cf9a625079281ccdcbf09bd85e1b6.sr.jpg)

> –°–∫–∏—Ü–∞ –æ–¥ [Nitya Narasimhan](https://github.com/nitya). –ö–ª–∏–∫–Ω–∏—Ç–µ –Ω–∞ —Å–ª–∏–∫—É –∑–∞ –≤–µ—õ—É –≤–µ—Ä–∑–∏—ò—É.

–û–≤–∞ –ª–µ–∫—Ü–∏—ò–∞ —ò–µ –¥–µ–æ [IoT for Beginners Project 2 - —Å–µ—Ä–∏—ò–µ –æ –¥–∏–≥–∏—Ç–∞–ª–Ω–æ—ò –ø–æ—ô–æ–ø—Ä–∏–≤—Ä–µ–¥–∏](https://youtube.com/playlist?list=PLmsFUfdnGr3yCutmcVg6eAUEfsGiFXgcx) –∏–∑ [Microsoft Reactor](https://developer.microsoft.com/reactor/?WT.mc_id=academic-17441-jabenn).

[![–ö–æ–Ω—Ç—Ä–æ–ª–∏—à–∏—Ç–µ —Å–≤–æ—ò IoT —É—Ä–µ—í–∞—ò –ø–æ–º–æ—õ—É —Å–µ—Ä–≤–µ—Ä–ª–µ—Å –∫–æ–¥–∞](https://img.youtube.com/vi/VVZDcs5u1_I/0.jpg)](https://youtu.be/VVZDcs5u1_I)

## –ö–≤–∏–∑ –ø—Ä–µ –ø—Ä–µ–¥–∞–≤–∞—ö–∞

[–ö–≤–∏–∑ –ø—Ä–µ –ø—Ä–µ–¥–∞–≤–∞—ö–∞](https://black-meadow-040d15503.1.azurestaticapps.net/quiz/17)

## –£–≤–æ–¥

–£ –ø—Ä–µ—Ç—Ö–æ–¥–Ω–æ—ò –ª–µ–∫—Ü–∏—ò–∏ –Ω–∞—É—á–∏–ª–∏ —Å—Ç–µ –∫–∞–∫–æ –¥–∞ –ø–æ–≤–µ–∂–µ—Ç–µ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –≤–ª–∞–≥–µ —É –∑–µ–º—ô–∏—à—Ç—É –∏ –∫–æ–Ω—Ç—Ä–æ–ª—É —Ä–µ–ª–µ—ò–∞ —Å–∞ IoT —É—Å–ª—É–≥–æ–º —É –æ–±–ª–∞–∫—É. –°–ª–µ–¥–µ—õ–∏ –∫–æ—Ä–∞–∫ —ò–µ –ø—Ä–µ–º–µ—à—Ç–∞—ö–µ —Å–µ—Ä–≤–µ—Ä—Å–∫–æ–≥ –∫–æ–¥–∞ –∫–æ—ò–∏ –∫–æ–Ω—Ç—Ä–æ–ª–∏—à–µ —Ç–∞—ò–º–∏–Ω–≥ —Ä–µ–ª–µ—ò–∞ —É –æ–±–ª–∞–∫. –£ –æ–≤–æ—ò –ª–µ–∫—Ü–∏—ò–∏ —õ–µ—Ç–µ –Ω–∞—É—á–∏—Ç–∏ –∫–∞–∫–æ –¥–∞ —Ç–æ —É—Ä–∞–¥–∏—Ç–µ –∫–æ—Ä–∏—Å—Ç–µ—õ–∏ —Å–µ—Ä–≤–µ—Ä–ª–µ—Å —Ñ—É–Ω–∫—Ü–∏—ò–µ.

–£ –æ–≤–æ—ò –ª–µ–∫—Ü–∏—ò–∏ –æ–±—Ä–∞–¥–∏—õ–µ–º–æ:

* [–®—Ç–∞ —ò–µ —Å–µ—Ä–≤–µ—Ä–ª–µ—Å?](../../../../../2-farm/lessons/5-migrate-application-to-the-cloud)
* [–ö—Ä–µ–∏—Ä–∞—ö–µ —Å–µ—Ä–≤–µ—Ä–ª–µ—Å –∞–ø–ª–∏–∫–∞—Ü–∏—ò–µ](../../../../../2-farm/lessons/5-migrate-application-to-the-cloud)
* [–ö—Ä–µ–∏—Ä–∞—ö–µ IoT Hub —Ç—Ä–∏–≥–µ—Ä–∞ –∑–∞ –¥–æ–≥–∞—í–∞—ò–µ](../../../../../2-farm/lessons/5-migrate-application-to-the-cloud)
* [–°–ª–∞—ö–µ –¥–∏—Ä–µ–∫—Ç–Ω–∏—Ö –∑–∞—Ö—Ç–µ–≤–∞ –∏–∑ —Å–µ—Ä–≤–µ—Ä–ª–µ—Å –∫–æ–¥–∞](../../../../../2-farm/lessons/5-migrate-application-to-the-cloud)
* [–î–µ–ø–ª–æ—ò –≤–∞—à–µ–≥ —Å–µ—Ä–≤–µ—Ä–ª–µ—Å –∫–æ–¥–∞ —É –æ–±–ª–∞–∫](../../../../../2-farm/lessons/5-migrate-application-to-the-cloud)

## –®—Ç–∞ —ò–µ —Å–µ—Ä–≤–µ—Ä–ª–µ—Å?

–°–µ—Ä–≤–µ—Ä–ª–µ—Å, –∏–ª–∏ —Å–µ—Ä–≤–µ—Ä–ª–µ—Å —Ä–∞—á—É–Ω–∞—Ä—Å—Ç–≤–æ, –ø–æ–¥—Ä–∞–∑—É–º–µ–≤–∞ –∫—Ä–µ–∏—Ä–∞—ö–µ –º–∞–ª–∏—Ö –±–ª–æ–∫–æ–≤–∞ –∫–æ–¥–∞ –∫–æ—ò–∏ —Å–µ –∏–∑–≤—Ä—à–∞–≤–∞—ò—É —É –æ–±–ª–∞–∫—É –∫–∞–æ –æ–¥–≥–æ–≤–æ—Ä –Ω–∞ —Ä–∞–∑–ª–∏—á–∏—Ç–µ –≤—Ä—Å—Ç–µ –¥–æ–≥–∞—í–∞—ò–∞. –ö–∞–¥–∞ —Å–µ –¥–æ–≥–∞—í–∞—ò –¥–æ–≥–æ–¥–∏, –≤–∞—à –∫–æ–¥ —Å–µ –∏–∑–≤—Ä—à–∞–≤–∞ –∏ –¥–æ–±–∏—ò–∞ –ø–æ–¥–∞—Ç–∫–µ –æ –¥–æ–≥–∞—í–∞—ò—É. –û–≤–∏ –¥–æ–≥–∞—í–∞—ò–∏ –º–æ–≥—É –±–∏—Ç–∏ —Ä–∞–∑–ª–∏—á–∏—Ç–∏, —É–∫—ô—É—á—É—ò—É—õ–∏ –≤–µ–± –∑–∞—Ö—Ç–µ–≤–µ, –ø–æ—Ä—É–∫–µ –ø–æ—Å—Ç–∞–≤—ô–µ–Ω–µ —É —Ä–µ–¥, –ø—Ä–æ–º–µ–Ω–µ –ø–æ–¥–∞—Ç–∞–∫–∞ —É –±–∞–∑–∏ –∏–ª–∏ –ø–æ—Ä—É–∫–µ –∫–æ—ò–µ IoT —É—Ä–µ—í–∞—ò–∏ —à–∞—ô—É IoT —É—Å–ª—É–∑–∏.

![–î–æ–≥–∞—í–∞—ò–∏ –∫–æ—ò–∏ —Å–µ —à–∞—ô—É –∏–∑ IoT —É—Å–ª—É–≥–µ —Å–µ—Ä–≤–µ—Ä–ª–µ—Å —É—Å–ª—É–∑–∏, —Å–≤–∏ —Å–µ –æ–±—Ä–∞—í—É—ò—É –∏—Å—Ç–æ–≤—Ä–µ–º–µ–Ω–æ –æ–¥ —Å—Ç—Ä–∞–Ω–µ –≤–∏—à–µ —Ñ—É–Ω–∫—Ü–∏—ò–∞](../../../../../translated_images/iot-messages-to-serverless.0194da1cc0732bb7d0f823aed3fce54735c6b1ad3bf36089804d8aaefc0a774f.sr.png)

> üíÅ –ê–∫–æ —Å—Ç–µ —Ä–∞–Ω–∏—ò–µ –∫–æ—Ä–∏—Å—Ç–∏–ª–∏ —Ç—Ä–∏–≥–µ—Ä–µ —É –±–∞–∑–∞–º–∞ –ø–æ–¥–∞—Ç–∞–∫–∞, –º–æ–∂–µ—Ç–µ –æ–≤–æ –∑–∞–º–∏—Å–ª–∏—Ç–∏ –∫–∞–æ —Å–ª–∏—á–∞–Ω –∫–æ–Ω—Ü–µ–ø—Ç - –∫–æ–¥ –∫–æ—ò–∏ —Å–µ –∞–∫—Ç–∏–≤–∏—Ä–∞ –¥–æ–≥–∞—í–∞—ò–µ–º, –∫–∞–æ —à—Ç–æ —ò–µ —É–±–∞—Ü–∏–≤–∞—ö–µ —Ä–µ–¥–∞.

![–ö–∞–¥–∞ —Å–µ –≤–∏—à–µ –¥–æ–≥–∞—í–∞—ò–∞ –ø–æ—à–∞—ô–µ –∏—Å—Ç–æ–≤—Ä–µ–º–µ–Ω–æ, —Å–µ—Ä–≤–µ—Ä–ª–µ—Å —É—Å–ª—É–≥–∞ —Å–µ —Å–∫–∞–ª–∏—Ä–∞ –¥–∞ –∏—Ö —Å–≤–µ –æ–±—Ä–∞–¥–∏ –∏—Å—Ç–æ–≤—Ä–µ–º–µ–Ω–æ](../../../../../translated_images/serverless-scaling.f8c769adf0413fd17be1af4f07ff63016b347e2ff869be6c4abb211f9e93909d.sr.png)

–í–∞—à –∫–æ–¥ —Å–µ –∏–∑–≤—Ä—à–∞–≤–∞ —Å–∞–º–æ –∫–∞–¥–∞ —Å–µ –¥–æ–≥–∞—í–∞—ò –¥–æ–≥–æ–¥–∏, –∞ —É –¥—Ä—É–≥–∏–º –≤—Ä–µ–º–µ–Ω–∏–º–∞ –Ω–∏—ò–µ –∞–∫—Ç–∏–≤–∞–Ω. –î–æ–≥–∞—í–∞—ò —Å–µ –¥–æ–≥–æ–¥–∏, –≤–∞—à –∫–æ–¥ —Å–µ —É—á–∏—Ç–∞–≤–∞ –∏ –∏–∑–≤—Ä—à–∞–≤–∞. –û–≤–æ —á–∏–Ω–∏ —Å–µ—Ä–≤–µ—Ä–ª–µ—Å –≤–µ–æ–º–∞ —Å–∫–∞–ª–∞–±–∏–ª–Ω–∏–º - –∞–∫–æ —Å–µ –º–Ω–æ–≥–æ –¥–æ–≥–∞—í–∞—ò–∞ –¥–æ–≥–æ–¥–∏ –∏—Å—Ç–æ–≤—Ä–µ–º–µ–Ω–æ, –ø—Ä–æ–≤–∞—ò–¥–µ—Ä –æ–±–ª–∞–∫–∞ –º–æ–∂–µ –∏–∑–≤—Ä—à–∏—Ç–∏ –≤–∞—à—É —Ñ—É–Ω–∫—Ü–∏—ò—É –æ–Ω–æ–ª–∏–∫–æ –ø—É—Ç–∞ –∫–æ–ª–∏–∫–æ —ò–µ –ø–æ—Ç—Ä–µ–±–Ω–æ –∏—Å—Ç–æ–≤—Ä–µ–º–µ–Ω–æ –Ω–∞ –¥–æ—Å—Ç—É–ø–Ω–∏–º —Å–µ—Ä–≤–µ—Ä–∏–º–∞. –ù–µ–¥–æ—Å—Ç–∞—Ç–∞–∫ –æ–≤–æ–≥ –º–æ–¥–µ–ª–∞ —ò–µ —à—Ç–æ, –∞–∫–æ —Ç—Ä–µ–±–∞ –¥–∞ –¥–µ–ª–∏—Ç–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—ò–µ –∏–∑–º–µ—í—É –¥–æ–≥–∞—í–∞—ò–∞, –º–æ—Ä–∞—Ç–µ –∏—Ö —Å–∞—á—É–≤–∞—Ç–∏ –Ω–µ–≥–¥–µ, –∫–∞–æ —É –±–∞–∑–∏ –ø–æ–¥–∞—Ç–∞–∫–∞, —É–º–µ—Å—Ç–æ –¥–∞ –∏—Ö —á—É–≤–∞—Ç–µ —É –º–µ–º–æ—Ä–∏—ò–∏.

–í–∞—à –∫–æ–¥ —ò–µ –Ω–∞–ø–∏—Å–∞–Ω –∫–∞–æ —Ñ—É–Ω–∫—Ü–∏—ò–∞ –∫–æ—ò–∞ —É–∑–∏–º–∞ –¥–µ—Ç–∞—ô–µ –æ –¥–æ–≥–∞—í–∞—ò—É –∫–∞–æ –ø–∞—Ä–∞–º–µ—Ç–∞—Ä. –ú–æ–∂–µ—Ç–µ –∫–æ—Ä–∏—Å—Ç–∏—Ç–∏ —à–∏—Ä–æ–∫ —Å–ø–µ–∫—Ç–∞—Ä –ø—Ä–æ–≥—Ä–∞–º—Å–∫–∏—Ö —ò–µ–∑–∏–∫–∞ –∑–∞ –ø–∏—Å–∞—ö–µ –æ–≤–∏—Ö —Å–µ—Ä–≤–µ—Ä–ª–µ—Å —Ñ—É–Ω–∫—Ü–∏—ò–∞.

> üéì –°–µ—Ä–≤–µ—Ä–ª–µ—Å —Å–µ —Ç–∞–∫–æ—í–µ –Ω–∞–∑–∏–≤–∞ –§—É–Ω–∫—Ü–∏—ò–µ –∫–∞–æ —É—Å–ª—É–≥–∞ (FaaS), —ò–µ—Ä —Å–µ —Å–≤–∞–∫–∏ —Ç—Ä–∏–≥–µ—Ä –¥–æ–≥–∞—í–∞—ò–∞ –∏–º–ø–ª–µ–º–µ–Ω—Ç–∏—Ä–∞ –∫–∞–æ —Ñ—É–Ω–∫—Ü–∏—ò–∞ —É –∫–æ–¥—É.

–£–ø—Ä–∫–æ—Å –Ω–∞–∑–∏–≤—É, —Å–µ—Ä–≤–µ—Ä–ª–µ—Å –∑–∞–ø—Ä–∞–≤–æ –∫–æ—Ä–∏—Å—Ç–∏ —Å–µ—Ä–≤–µ—Ä–µ. –ù–∞–∑–∏–≤ –ø–æ—Ç–∏—á–µ –æ–¥ —Ç–æ–≥–∞ —à—Ç–æ –∫–∞–æ –ø—Ä–æ–≥—Ä–∞–º–µ—Ä –Ω–µ –º–æ—Ä–∞—Ç–µ –¥–∞ –±—Ä–∏–Ω–µ—Ç–µ –æ —Å–µ—Ä–≤–µ—Ä–∏–º–∞ –ø–æ—Ç—Ä–µ–±–Ω–∏–º –∑–∞ –∏–∑–≤—Ä—à–∞–≤–∞—ö–µ –≤–∞—à–µ–≥ –∫–æ–¥–∞, –≤–µ—õ —Å–∞–º–æ –æ —Ç–æ–º–µ –¥–∞ —Å–µ –≤–∞—à –∫–æ–¥ –∏–∑–≤—Ä—à–∞–≤–∞ –∫–∞–æ –æ–¥–≥–æ–≤–æ—Ä –Ω–∞ –¥–æ–≥–∞—í–∞—ò. –ü—Ä–æ–≤–∞—ò–¥–µ—Ä –æ–±–ª–∞–∫–∞ –∏–º–∞ —Å–µ—Ä–≤–µ—Ä–ª–µ—Å *–æ–∫—Ä—É–∂–µ—ö–µ* –∫–æ—ò–µ —É–ø—Ä–∞–≤—ô–∞ –∞–ª–æ–∫–∞—Ü–∏—ò–æ–º —Å–µ—Ä–≤–µ—Ä–∞, –º—Ä–µ–∂–æ–º, —Å–∫–ª–∞–¥–∏—à—Ç–µ–º, –ø—Ä–æ—Ü–µ—Å–æ—Ä–∏–º–∞, –º–µ–º–æ—Ä–∏—ò–æ–º –∏ —Å–≤–∏–º –æ—Å—Ç–∞–ª–∏–º –ø–æ—Ç—Ä–µ–±–Ω–∏–º –∑–∞ –∏–∑–≤—Ä—à–∞–≤–∞—ö–µ –≤–∞—à–µ–≥ –∫–æ–¥–∞. –£ –æ–≤–æ–º –º–æ–¥–µ–ª—É –Ω–µ –ø–ª–∞—õ–∞—Ç–µ –ø–æ —Å–µ—Ä–≤–µ—Ä—É, –≤–µ—õ –ø–ª–∞—õ–∞—Ç–µ –∑–∞ –≤—Ä–µ–º–µ –∏–∑–≤—Ä—à–∞–≤–∞—ö–∞ –≤–∞—à–µ–≥ –∫–æ–¥–∞ –∏ –∫–æ–ª–∏—á–∏–Ω—É –∫–æ—Ä–∏—à—õ–µ–Ω–µ –º–µ–º–æ—Ä–∏—ò–µ.

> üí∞ –°–µ—Ä–≤–µ—Ä–ª–µ—Å —ò–µ —ò–µ–¥–∞–Ω –æ–¥ –Ω–∞—ò—ò–µ—Ñ—Ç–∏–Ω–∏—ò–∏—Ö –Ω–∞—á–∏–Ω–∞ –∑–∞ –∏–∑–≤—Ä—à–∞–≤–∞—ö–µ –∫–æ–¥–∞ —É –æ–±–ª–∞–∫—É. –ù–∞ –ø—Ä–∏–º–µ—Ä, —É –≤—Ä–µ–º–µ –ø–∏—Å–∞—ö–∞, —ò–µ–¥–∞–Ω –ø—Ä–æ–≤–∞—ò–¥–µ—Ä –æ–±–ª–∞–∫–∞ –¥–æ–∑–≤–æ—ô–∞–≤–∞ –¥–∞ —Å–µ —Å–≤–µ –≤–∞—à–µ —Å–µ—Ä–≤–µ—Ä–ª–µ—Å —Ñ—É–Ω–∫—Ü–∏—ò–µ –∏–∑–≤—Ä—à–µ —É–∫—É–ø–Ω–æ 1.000.000 –ø—É—Ç–∞ –º–µ—Å–µ—á–Ω–æ –ø—Ä–µ –Ω–µ–≥–æ —à—Ç–æ –ø–æ—á–Ω—É –¥–∞ –≤–∞–º –Ω–∞–ø–ª–∞—õ—É—ò—É, –∞ –Ω–∞–∫–æ–Ω —Ç–æ–≥–∞ –Ω–∞–ø–ª–∞—õ—É—ò—É 0,20 –£–°–î –∑–∞ —Å–≤–∞–∫–∏—Ö 1.000.000 –∏–∑–≤—Ä—à–µ—ö–∞. –ö–∞–¥–∞ –≤–∞—à –∫–æ–¥ –Ω–∏—ò–µ –∞–∫—Ç–∏–≤–∞–Ω, –Ω–µ –ø–ª–∞—õ–∞—Ç–µ –Ω–∏—à—Ç–∞.

–ö–∞–æ IoT –ø—Ä–æ–≥—Ä–∞–º–µ—Ä, —Å–µ—Ä–≤–µ—Ä–ª–µ—Å –º–æ–¥–µ–ª —ò–µ –∏–¥–µ–∞–ª–∞–Ω. –ú–æ–∂–µ—Ç–µ –Ω–∞–ø–∏—Å–∞—Ç–∏ —Ñ—É–Ω–∫—Ü–∏—ò—É –∫–æ—ò–∞ —Å–µ –ø–æ–∑–∏–≤–∞ –∫–∞–æ –æ–¥–≥–æ–≤–æ—Ä –Ω–∞ –ø–æ—Ä—É–∫–µ –ø–æ—Å–ª–∞—Ç–µ —Å–∞ –±–∏–ª–æ –∫–æ–≥ IoT —É—Ä–µ—í–∞—ò–∞ –∫–æ—ò–∏ —ò–µ –ø–æ–≤–µ–∑–∞–Ω —Å–∞ –≤–∞—à–æ–º IoT —É—Å–ª—É–≥–æ–º —Ö–æ—Å—Ç–∏—Ä–∞–Ω–æ–º —É –æ–±–ª–∞–∫—É. –í–∞—à –∫–æ–¥ —õ–µ –æ–±—Ä–∞—í–∏–≤–∞—Ç–∏ —Å–≤–µ –ø–æ—Å–ª–∞—Ç–µ –ø–æ—Ä—É–∫–µ, –∞–ª–∏ —õ–µ –±–∏—Ç–∏ –∞–∫—Ç–∏–≤–∞–Ω —Å–∞–º–æ –∫–∞–¥–∞ —ò–µ –ø–æ—Ç—Ä–µ–±–Ω–æ.

‚úÖ –ü–æ–≥–ª–µ–¥–∞—ò—Ç–µ –∫–æ–¥ –∫–æ—ò–∏ —Å—Ç–µ –Ω–∞–ø–∏—Å–∞–ª–∏ –∫–∞–æ —Å–µ—Ä–≤–µ—Ä—Å–∫–∏ –∫–æ–¥ –∫–æ—ò–∏ —Å–ª—É—à–∞ –ø–æ—Ä—É–∫–µ –ø—Ä–µ–∫–æ MQTT-–∞. –ö–∞–∫–æ –±–∏ —Å–µ –æ–≤–∞—ò –∫–æ–¥ –º–æ–≥–∞–æ –∏–∑–≤—Ä—à–∞–≤–∞—Ç–∏ —É –æ–±–ª–∞–∫—É –∫–æ—Ä–∏—Å—Ç–µ—õ–∏ —Å–µ—Ä–≤–µ—Ä–ª–µ—Å? –ö–∞–∫–æ –º–∏—Å–ª–∏—Ç–µ –¥–∞ –±–∏ –∫–æ–¥ –º–æ–≥–∞–æ –±–∏—Ç–∏ –ø—Ä–æ–º–µ—ö–µ–Ω –¥–∞ –ø–æ–¥—Ä–∂–∏ —Å–µ—Ä–≤–µ—Ä–ª–µ—Å —Ä–∞—á—É–Ω–∞—Ä—Å—Ç–≤–æ?

> üíÅ –°–µ—Ä–≤–µ—Ä–ª–µ—Å –º–æ–¥–µ–ª —Å–µ —à–∏—Ä–∏ –Ω–∞ –¥—Ä—É–≥–µ —É—Å–ª—É–≥–µ —É –æ–±–ª–∞–∫—É –ø–æ—Ä–µ–¥ –∏–∑–≤—Ä—à–∞–≤–∞—ö–∞ –∫–æ–¥–∞. –ù–∞ –ø—Ä–∏–º–µ—Ä, —Å–µ—Ä–≤–µ—Ä–ª–µ—Å –±–∞–∑–µ –ø–æ–¥–∞—Ç–∞–∫–∞ —Å—É –¥–æ—Å—Ç—É–ø–Ω–µ —É –æ–±–ª–∞–∫—É –∫–æ—Ä–∏—Å—Ç–µ—õ–∏ —Å–µ—Ä–≤–µ—Ä–ª–µ—Å –º–æ–¥–µ–ª –Ω–∞–ø–ª–∞—Ç–µ, –≥–¥–µ –ø–ª–∞—õ–∞—Ç–µ –ø–æ –∑–∞—Ö—Ç–µ–≤—É –Ω–∞–ø—Ä–∞–≤—ô–µ–Ω–æ–º –ø—Ä–µ–º–∞ –±–∞–∑–∏ –ø–æ–¥–∞—Ç–∞–∫–∞, –∫–∞–æ —à—Ç–æ —ò–µ —É–ø–∏—Ç –∏–ª–∏ —É–±–∞—Ü–∏–≤–∞—ö–µ, –æ–±–∏—á–Ω–æ –Ω–∞ –æ—Å–Ω–æ–≤—É –∫–æ–ª–∏—á–∏–Ω–µ –ø–æ—Å–ª–∞ –ø–æ—Ç—Ä–µ–±–Ω–æ–≥ –∑–∞ –æ–±—Ä–∞–¥—É –∑–∞—Ö—Ç–µ–≤–∞. –ù–∞ –ø—Ä–∏–º–µ—Ä, —ò–µ–¥–Ω–æ—Å—Ç–∞–≤–∞–Ω —Å–µ–ª–µ–∫—Ç —ò–µ–¥–Ω–æ–≥ —Ä–µ–¥–∞ –ø—Ä–µ–º–∞ –ø—Ä–∏–º–∞—Ä–Ω–æ–º –∫—ô—É—á—É –∫–æ—à—Ç–∞—õ–µ –º–∞—ö–µ –æ–¥ —Å–ª–æ–∂–µ–Ω–µ –æ–ø–µ—Ä–∞—Ü–∏—ò–µ –∫–æ—ò–∞ —Å–ø–∞—ò–∞ –≤–∏—à–µ —Ç–∞–±–µ–ª–∞ –∏ –≤—Ä–∞—õ–∞ —Ö–∏—ô–∞–¥–µ —Ä–µ–¥–æ–≤–∞.

## –ö—Ä–µ–∏—Ä–∞—ö–µ —Å–µ—Ä–≤–µ—Ä–ª–µ—Å –∞–ø–ª–∏–∫–∞—Ü–∏—ò–µ

–°–µ—Ä–≤–µ—Ä–ª–µ—Å —É—Å–ª—É–≥–∞ –∑–∞ —Ä–∞—á—É–Ω–∞—Ä—Å—Ç–≤–æ –æ–¥ Microsoft-–∞ –Ω–∞–∑–∏–≤–∞ —Å–µ Azure Functions.

![–õ–æ–≥–æ Azure Functions](../../../../../translated_images/azure-functions-logo.1cfc8e3204c9c44aaf80fcf406fc8544d80d7f00f8d3e8ed6fed764563e17564.sr.png)

–ö—Ä–∞—Ç–∞–∫ –≤–∏–¥–µ–æ –∏—Å–ø–æ–¥ –¥–∞—ò–µ –ø—Ä–µ–≥–ª–µ–¥ Azure Functions.

[![–ü—Ä–µ–≥–ª–µ–¥ Azure Functions](https://img.youtube.com/vi/8-jz5f_JyEQ/0.jpg)](https://www.youtube.com/watch?v=8-jz5f_JyEQ)

> üé• –ö–ª–∏–∫–Ω–∏—Ç–µ –Ω–∞ —Å–ª–∏–∫—É –∏–∑–Ω–∞–¥ –¥–∞ –±–∏—Å—Ç–µ –ø–æ–≥–ª–µ–¥–∞–ª–∏ –≤–∏–¥–µ–æ.

‚úÖ –û–¥–≤–æ—ò–∏—Ç–µ —Ç—Ä–µ–Ω—É—Ç–∞–∫ –¥–∞ –∏—Å—Ç—Ä–∞–∂–∏—Ç–µ –∏ –ø—Ä–æ—á–∏—Ç–∞—Ç–µ –ø—Ä–µ–≥–ª–µ–¥ Azure Functions —É [–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—ò–∏ Microsoft Azure Functions](https://docs.microsoft.com/azure/azure-functions/functions-overview?WT.mc_id=academic-17441-jabenn).

–î–∞ –±–∏—Å—Ç–µ –ø–∏—Å–∞–ª–∏ Azure Functions, –ø–æ—Ç—Ä–µ–±–Ω–æ —ò–µ –¥–∞ –∑–∞–ø–æ—á–Ω–µ—Ç–µ —Å–∞ Azure Functions –∞–ø–ª–∏–∫–∞—Ü–∏—ò–æ–º —É —ò–µ–∑–∏–∫—É –ø–æ –≤–∞—à–µ–º –∏–∑–±–æ—Ä—É. Azure Functions –ø–æ–¥—Ä–∂–∞–≤–∞ Python, JavaScript, TypeScript, C#, F#, Java –∏ Powershell. –£ –æ–≤–æ—ò –ª–µ–∫—Ü–∏—ò–∏ —õ–µ—Ç–µ –Ω–∞—É—á–∏—Ç–∏ –∫–∞–∫–æ –¥–∞ –Ω–∞–ø–∏—à–µ—Ç–µ Azure Functions –∞–ø–ª–∏–∫–∞—Ü–∏—ò—É —É Python-—É.

> üíÅ Azure Functions —Ç–∞–∫–æ—í–µ –ø–æ–¥—Ä–∂–∞–≤–∞ –ø—Ä–∏–ª–∞–≥–æ—í–µ–Ω–µ —Ö–µ–Ω–¥–ª–µ—Ä–µ, —Ç–∞–∫–æ –¥–∞ –º–æ–∂–µ—Ç–µ –ø–∏—Å–∞—Ç–∏ —Ñ—É–Ω–∫—Ü–∏—ò–µ —É –±–∏–ª–æ –∫–æ–º —ò–µ–∑–∏–∫—É –∫–æ—ò–∏ –ø–æ–¥—Ä–∂–∞–≤–∞ HTTP –∑–∞—Ö—Ç–µ–≤–µ, —É–∫—ô—É—á—É—ò—É—õ–∏ —Å—Ç–∞—Ä–∏—ò–µ —ò–µ–∑–∏–∫–µ –∫–∞–æ —à—Ç–æ —ò–µ COBOL.

–ê–ø–ª–∏–∫–∞—Ü–∏—ò–µ —Ñ—É–Ω–∫—Ü–∏—ò–∞ —Å–µ —Å–∞—Å—Ç–æ—ò–µ –æ–¥ —ò–µ–¥–Ω–æ–≥ –∏–ª–∏ –≤–∏—à–µ *—Ç—Ä–∏–≥–µ—Ä–∞* - —Ñ—É–Ω–∫—Ü–∏—ò–∞ –∫–æ—ò–µ —Ä–µ–∞–≥—É—ò—É –Ω–∞ –¥–æ–≥–∞—í–∞—ò–µ. –ú–æ–∂–µ—Ç–µ –∏–º–∞—Ç–∏ –≤–∏—à–µ —Ç—Ä–∏–≥–µ—Ä–∞ —É–Ω—É—Ç–∞—Ä —ò–µ–¥–Ω–µ –∞–ø–ª–∏–∫–∞—Ü–∏—ò–µ —Ñ—É–Ω–∫—Ü–∏—ò–∞, –∫–æ—ò–µ –¥–µ–ª–µ –∑–∞—ò–µ–¥–Ω–∏—á–∫—É –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—ò—É. –ù–∞ –ø—Ä–∏–º–µ—Ä, —É –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–æ–º —Ñ–∞—ò–ª—É –≤–∞—à–µ –∞–ø–ª–∏–∫–∞—Ü–∏—ò–µ —Ñ—É–Ω–∫—Ü–∏—ò–∞ –º–æ–∂–µ—Ç–µ –∏–º–∞—Ç–∏ –¥–µ—Ç–∞—ô–µ –æ –ø–æ–≤–µ–∑–∏–≤–∞—ö—É —Å–∞ –≤–∞—à–∏–º IoT Hub-–æ–º, –∞ —Å–≤–µ —Ñ—É–Ω–∫—Ü–∏—ò–µ —É –∞–ø–ª–∏–∫–∞—Ü–∏—ò–∏ –º–æ–≥—É –∫–æ—Ä–∏—Å—Ç–∏—Ç–∏ –æ–≤–µ –¥–µ—Ç–∞—ô–µ –∑–∞ –ø–æ–≤–µ–∑–∏–≤–∞—ö–µ –∏ —Å–ª—É—à–∞—ö–µ –¥–æ–≥–∞—í–∞—ò–∞.

### –ó–∞–¥–∞—Ç–∞–∫ - –∏–Ω—Å—Ç–∞–ª–∏—Ä–∞—ö–µ –∞–ª–∞—Ç–∞ –∑–∞ Azure Functions

> –£ –≤—Ä–µ–º–µ –ø–∏—Å–∞—ö–∞, –∞–ª–∞—Ç–∏ –∑–∞ Azure Functions –Ω–∏—Å—É —É –ø–æ—Ç–ø—É–Ω–æ—Å—Ç–∏ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–Ω–∏ –Ω–∞ Apple Silicon —É Python –ø—Ä–æ—ò–µ–∫—Ç–∏–º–∞. –ú–æ—Ä–∞—õ–µ—Ç–µ –¥–∞ –∫–æ—Ä–∏—Å—Ç–∏—Ç–µ Mac —Å–∞ Intel –ø—Ä–æ—Ü–µ—Å–æ—Ä–æ–º, Windows PC –∏–ª–∏ Linux PC.

–à–µ–¥–Ω–∞ –æ–¥ –æ–¥–ª–∏—á–Ω–∏—Ö –∫–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞ Azure Functions —ò–µ –¥–∞ –∏—Ö –º–æ–∂–µ—Ç–µ –ø–æ–∫—Ä–µ–Ω—É—Ç–∏ –ª–æ–∫–∞–ª–Ω–æ. –ò—Å—Ç–æ –æ–∫—Ä—É–∂–µ—ö–µ –∫–æ—ò–µ —Å–µ –∫–æ—Ä–∏—Å—Ç–∏ —É –æ–±–ª–∞–∫—É –º–æ–∂–µ —Å–µ –ø–æ–∫—Ä–µ–Ω—É—Ç–∏ –Ω–∞ –≤–∞—à–µ–º —Ä–∞—á—É–Ω–∞—Ä—É, –æ–º–æ–≥—É—õ–∞–≤–∞—ò—É—õ–∏ –≤–∞–º –¥–∞ –ø–∏—à–µ—Ç–µ –∫–æ–¥ –∫–æ—ò–∏ —Ä–µ–∞–≥—É—ò–µ –Ω–∞ IoT –ø–æ—Ä—É–∫–µ –∏ –¥–∞ –≥–∞ –ø–æ–∫—Ä–µ–Ω–µ—Ç–µ –ª–æ–∫–∞–ª–Ω–æ. –ú–æ–∂–µ—Ç–µ —á–∞–∫ –∏ –¥–µ–±–∞–≥–æ–≤–∞—Ç–∏ –≤–∞—à –∫–æ–¥ –¥–æ–∫ —Å–µ –¥–æ–≥–∞—í–∞—ò–∏ –æ–±—Ä–∞—í—É—ò—É. –ö–∞–¥–∞ –±—É–¥–µ—Ç–µ –∑–∞–¥–æ–≤–æ—ô–Ω–∏ –∫–æ–¥–æ–º, –º–æ–∂–µ—Ç–µ –≥–∞ –¥–µ–ø–ª–æ—ò–æ–≤–∞—Ç–∏ —É –æ–±–ª–∞–∫.

CLI –∞–ª–∞—Ç –∑–∞ Azure Functions, –ø–æ–∑–Ω–∞—Ç –∫–∞–æ Azure Functions Core Tools, –¥–æ—Å—Ç—É–ø–∞–Ω —ò–µ –∑–∞ –∏–Ω—Å—Ç–∞–ª–∞—Ü–∏—ò—É.

1. –ò–Ω—Å—Ç–∞–ª–∏—Ä–∞—ò—Ç–µ Azure Functions Core Tools –ø—Ä–∞—Ç–µ—õ–∏ —É–ø—É—Ç—Å—Ç–≤–∞ —É [–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—ò–∏ Azure Functions Core Tools](https://docs.microsoft.com/azure/azure-functions/functions-run-local?WT.mc_id=academic-17441-jabenn).

1. –ò–Ω—Å—Ç–∞–ª–∏—Ä–∞—ò—Ç–µ Azure Functions –µ–∫—Å—Ç–µ–Ω–∑–∏—ò—É –∑–∞ VS Code. –û–≤–∞ –µ–∫—Å—Ç–µ–Ω–∑–∏—ò–∞ –ø—Ä—É–∂–∞ –ø–æ–¥—Ä—à–∫—É –∑–∞ –∫—Ä–µ–∏—Ä–∞—ö–µ, –¥–µ–±–∞–≥–æ–≤–∞—ö–µ –∏ –¥–µ–ø–ª–æ—ò–æ–≤–∞—ö–µ Azure —Ñ—É–Ω–∫—Ü–∏—ò–∞. –ü–æ–≥–ª–µ–¥–∞—ò—Ç–µ [–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—ò—É –∑–∞ Azure Functions –µ–∫—Å—Ç–µ–Ω–∑–∏—ò—É](https://marketplace.visualstudio.com/items?WT.mc_id=academic-17441-jabenn&itemName=ms-azuretools.vscode-azurefunctions) –∑–∞ —É–ø—É—Ç—Å—Ç–≤–∞ –æ –∏–Ω—Å—Ç–∞–ª–∞—Ü–∏—ò–∏ –æ–≤–µ –µ–∫—Å—Ç–µ–Ω–∑–∏—ò–µ —É VS Code.

–ö–∞–¥–∞ –¥–µ–ø–ª–æ—ò—É—ò–µ—Ç–µ –≤–∞—à—É Azure Functions –∞–ø–ª–∏–∫–∞—Ü–∏—ò—É —É –æ–±–ª–∞–∫, –æ–Ω–∞ –º–æ—Ä–∞ –∫–æ—Ä–∏—Å—Ç–∏—Ç–∏ –º–∞–ª—É –∫–æ–ª–∏—á–∏–Ω—É –æ–±–ª–∞—á–Ω–æ–≥ —Å–∫–ª–∞–¥–∏—à—Ç–∞ –∑–∞ —á—É–≤–∞—ö–µ —Å—Ç–≤–∞—Ä–∏ –∫–∞–æ —à—Ç–æ —Å—É —Ñ–∞—ò–ª–æ–≤–∏ –∞–ø–ª–∏–∫–∞—Ü–∏—ò–µ –∏ –ª–æ–≥–æ–≤–∏. –ö–∞–¥–∞ –ø–æ–∫—Ä–µ–Ω–µ—Ç–µ –≤–∞—à—É –∞–ø–ª–∏–∫–∞—Ü–∏—ò—É —Ñ—É–Ω–∫—Ü–∏—ò–∞ –ª–æ–∫–∞–ª–Ω–æ, –∏ –¥–∞—ô–µ –º–æ—Ä–∞—Ç–µ –¥–∞ —Å–µ –ø–æ–≤–µ–∂–µ—Ç–µ —Å–∞ –æ–±–ª–∞—á–Ω–∏–º —Å–∫–ª–∞–¥–∏—à—Ç–µ–º, –∞–ª–∏ —É–º–µ—Å—Ç–æ —Å—Ç–≤–∞—Ä–Ω–æ–≥ –æ–±–ª–∞—á–Ω–æ–≥ —Å–∫–ª–∞–¥–∏—à—Ç–∞, –º–æ–∂–µ—Ç–µ –∫–æ—Ä–∏—Å—Ç–∏—Ç–∏ –µ–º—É–ª–∞—Ç–æ—Ä —Å–∫–ª–∞–¥–∏—à—Ç–∞ –Ω–∞–∑–≤–∞–Ω [Azurite](https://github.com/Azure/Azurite). –û–≤–∞—ò –µ–º—É–ª–∞—Ç–æ—Ä —Ä–∞–¥–∏ –ª–æ–∫–∞–ª–Ω–æ, –∞–ª–∏ —Å–µ –ø–æ–Ω–∞—à–∞ –∫–∞–æ –æ–±–ª–∞—á–Ω–æ —Å–∫–ª–∞–¥–∏—à—Ç–µ.

> üéì –£ Azure-—É, —Å–∫–ª–∞–¥–∏—à—Ç–µ –∫–æ—ò–µ Azure Functions –∫–æ—Ä–∏—Å—Ç–∏ —ò–µ Azure Storage Account. –û–≤–∏ –Ω–∞–ª–æ–∑–∏ –º–æ–≥—É —á—É–≤–∞—Ç–∏ —Ñ–∞—ò–ª–æ–≤–µ, –±–ª–æ–±–æ–≤–µ, –ø–æ–¥–∞—Ç–∫–µ —É —Ç–∞–±–µ–ª–∞–º–∞ –∏–ª–∏ –ø–æ–¥–∞—Ç–∫–µ —É —Ä–µ–¥–æ–≤–∏–º–∞. –ú–æ–∂–µ—Ç–µ –¥–µ–ª–∏—Ç–∏ —ò–µ–¥–∞–Ω Storage Account –∏–∑–º–µ—í—É –≤–∏—à–µ –∞–ø–ª–∏–∫–∞—Ü–∏—ò–∞, –∫–∞–æ —à—Ç–æ —Å—É –∞–ø–ª–∏–∫–∞—Ü–∏—ò–∞ —Ñ—É–Ω–∫—Ü–∏—ò–∞ –∏ –≤–µ–± –∞–ø–ª–∏–∫–∞—Ü–∏—ò–∞.

1. Azurite —ò–µ Node.js –∞–ø–ª–∏–∫–∞—Ü–∏—ò–∞, –ø–∞ —õ–µ—Ç–µ –º–æ—Ä–∞—Ç–∏ –¥–∞ –∏–Ω—Å—Ç–∞–ª–∏—Ä–∞—Ç–µ Node.js. –ú–æ–∂–µ—Ç–µ –ø—Ä–æ–Ω–∞—õ–∏ —É–ø—É—Ç—Å—Ç–≤–∞ –∑–∞ –ø—Ä–µ—É–∑–∏–º–∞—ö–µ –∏ –∏–Ω—Å—Ç–∞–ª–∞—Ü–∏—ò—É –Ω–∞ [Node.js –≤–µ–±—Å–∞—ò—Ç—É](https://nodejs.org/). –ê–∫–æ –∫–æ—Ä–∏—Å—Ç–∏—Ç–µ Mac, –º–æ–∂–µ—Ç–µ –≥–∞ –∏–Ω—Å—Ç–∞–ª–∏—Ä–∞—Ç–∏ –∏ –ø—Ä–µ–∫–æ [Homebrew](https://formulae.brew.sh/formula/node).

1. –ò–Ω—Å—Ç–∞–ª–∏—Ä–∞—ò—Ç–µ Azurite –∫–æ—Ä–∏—Å—Ç–µ—õ–∏ —Å–ª–µ–¥–µ—õ—É –∫–æ–º–∞–Ω–¥—É (`npm` —ò–µ –∞–ª–∞—Ç –∫–æ—ò–∏ —Å–µ –∏–Ω—Å—Ç–∞–ª–∏—Ä–∞ —Å–∞ Node.js):

    ```sh
    npm install -g azurite
    ```

1. –ö—Ä–µ–∏—Ä–∞—ò—Ç–µ —Ñ–∞—Å—Ü–∏–∫–ª—É –Ω–∞–∑–≤–∞–Ω—É `azurite` –∫–æ—ò—É Azurite –º–æ–∂–µ –∫–æ—Ä–∏—Å—Ç–∏—Ç–∏ –∑–∞ —á—É–≤–∞—ö–µ –ø–æ–¥–∞—Ç–∞–∫–∞:

    ```sh
    mkdir azurite
    ```

1. –ü–æ–∫—Ä–µ–Ω–∏—Ç–µ Azurite, –ø—Ä–æ—Å–ª–µ—í—É—ò—É—õ–∏ –º—É –æ–≤—É –Ω–æ–≤—É —Ñ–∞—Å—Ü–∏–∫–ª—É:

    ```sh
    azurite --location azurite
    ```

    Azurite –µ–º—É–ª–∞—Ç–æ—Ä —Å–∫–ª–∞–¥–∏—à—Ç–∞ —õ–µ —Å–µ –ø–æ–∫—Ä–µ–Ω—É—Ç–∏ –∏ –±–∏—Ç–∏ —Å–ø—Ä–µ–º–∞–Ω –∑–∞ –ø–æ–≤–µ–∑–∏–≤–∞—ö–µ —Å–∞ –ª–æ–∫–∞–ª–Ω–∏–º –æ–∫—Ä—É–∂–µ—ö–µ–º —Ñ—É–Ω–∫—Ü–∏—ò–∞.

    ```output
    ‚ûú  ~ azurite --location azurite  
    Azurite Blob service is starting at http://127.0.0.1:10000
    Azurite Blob service is successfully listening at http://127.0.0.1:10000
    Azurite Queue service is starting at http://127.0.0.1:10001
    Azurite Queue service is successfully listening at http://127.0.0.1:10001
    Azurite Table service is starting at http://127.0.0.1:10002
    Azurite Table service is successfully listening at http://127.0.0.1:10002
    ```

### –ó–∞–¥–∞—Ç–∞–∫ - –∫—Ä–µ–∏—Ä–∞—ö–µ Azure Functions –ø—Ä–æ—ò–µ–∫—Ç–∞

CLI –∞–ª–∞—Ç –∑–∞ Azure Functions –º–æ–∂–µ —Å–µ –∫–æ—Ä–∏—Å—Ç–∏—Ç–∏ –∑–∞ –∫—Ä–µ–∏—Ä–∞—ö–µ –Ω–æ–≤–µ –∞–ø–ª–∏–∫–∞—Ü–∏—ò–µ —Ñ—É–Ω–∫—Ü–∏—ò–∞.

1. –ö—Ä–µ–∏—Ä–∞—ò—Ç–µ —Ñ–∞—Å—Ü–∏–∫–ª—É –∑–∞ –≤–∞—à—É –∞–ø–ª–∏–∫–∞—Ü–∏—ò—É —Ñ—É–Ω–∫—Ü–∏—ò–∞ –∏ –ø—Ä–µ—í–∏—Ç–µ —É —ö—É. –ù–∞–∑–æ–≤–∏—Ç–µ —ò–µ `soil-moisture-trigger`.

    ```sh
    mkdir soil-moisture-trigger
    cd soil-moisture-trigger
    ```

1. –ö—Ä–µ–∏—Ä–∞—ò—Ç–µ Python –≤–∏—Ä—Ç—É–µ–ª–Ω–æ –æ–∫—Ä—É–∂–µ—ö–µ —É–Ω—É—Ç–∞—Ä –æ–≤–µ —Ñ–∞—Å—Ü–∏–∫–ª–µ:

    ```sh
    python3 -m venv .venv
    ```

1. –ê–∫—Ç–∏–≤–∏—Ä–∞—ò—Ç–µ –≤–∏—Ä—Ç—É–µ–ª–Ω–æ –æ–∫—Ä—É–∂–µ—ö–µ:

    * –ù–∞ Windows-—É:
        * –ê–∫–æ –∫–æ—Ä–∏—Å—Ç–∏—Ç–µ Command Prompt –∏–ª–∏ Command Prompt –∫—Ä–æ–∑ Windows Terminal, –ø–æ–∫—Ä–µ–Ω–∏—Ç–µ:

            ```cmd
            .venv\Scripts\activate.bat
            ```

        * –ê–∫–æ –∫–æ—Ä–∏—Å—Ç–∏—Ç–µ PowerShell, –ø–æ–∫—Ä–µ–Ω–∏—Ç–µ:

            ```powershell
            .\.venv\Scripts\Activate.ps1
            ```

    * –ù–∞ macOS-—É –∏–ª–∏ Linux-—É, –ø–æ–∫—Ä–µ–Ω–∏—Ç–µ:

        ```cmd
        source ./.venv/bin/activate
        ```

    > üíÅ –û–≤–µ –∫–æ–º–∞–Ω–¥–µ —Ç—Ä–µ–±–∞ –ø–æ–∫—Ä–µ–Ω—É—Ç–∏ –∏–∑ –∏—Å—Ç–µ –ª–æ–∫–∞—Ü–∏—ò–µ –Ω–∞ –∫–æ—ò–æ—ò —Å—Ç–µ –ø–æ–∫—Ä–µ–Ω—É–ª–∏ –∫–æ–º–∞–Ω–¥—É –∑–∞ –∫—Ä–µ–∏—Ä–∞—ö–µ –≤–∏—Ä—Ç—É–µ–ª–Ω–æ–≥ –æ–∫—Ä—É–∂–µ—ö–∞. –ù–∏–∫–∞–¥–∞ –Ω–µ—õ–µ—Ç–µ –º–æ—Ä–∞—Ç–∏ –¥–∞ —É–ª–∞–∑–∏—Ç–µ —É `.venv` —Ñ–∞—Å—Ü–∏–∫–ª—É; —É–≤–µ–∫ —Ç—Ä–µ–±–∞ –¥–∞ –ø–æ–∫—Ä–µ–Ω–µ—Ç–µ –∫–æ–º–∞–Ω–¥—É –∑–∞ –∞–∫—Ç–∏–≤–∏—Ä–∞—ö–µ –∏ –±–∏–ª–æ –∫–æ—ò–µ –∫–æ–º–∞–Ω–¥–µ –∑–∞ –∏–Ω—Å—Ç–∞–ª–∞—Ü–∏—ò—É –ø–∞–∫–µ—Ç–∞ –∏–ª–∏ –ø–æ–∫—Ä–µ—Ç–∞—ö–µ –∫–æ–¥–∞ –∏–∑ —Ñ–∞—Å—Ü–∏–∫–ª–µ —É –∫–æ—ò–æ—ò —Å—Ç–µ –∫—Ä–µ–∏—Ä–∞–ª–∏ –≤–∏—Ä—Ç—É–µ–ª–Ω–æ –æ–∫—Ä—É–∂–µ—ö–µ.

1. –ü–æ–∫—Ä–µ–Ω–∏—Ç–µ —Å–ª–µ–¥–µ—õ—É –∫–æ–º–∞–Ω–¥—É –¥–∞ –±–∏—Å—Ç–µ –∫—Ä–µ–∏—Ä–∞–ª–∏ –∞–ø–ª–∏–∫–∞—Ü–∏—ò—É —Ñ—É–Ω–∫—Ü–∏—ò–∞ —É –æ–≤–æ—ò —Ñ–∞—Å—Ü–∏–∫–ª–∏:

    ```sh
    func init --worker-runtime python soil-moisture-trigger
    ```

    –û–≤–æ —õ–µ –∫—Ä–µ–∏—Ä–∞—Ç–∏ —Ç—Ä–∏ —Ñ–∞—ò–ª–∞ —É–Ω—É—Ç–∞—Ä —Ç—Ä–µ–Ω—É—Ç–Ω–µ —Ñ–∞—Å—Ü–∏–∫–ª–µ:

    * `host.json` - –æ–≤–∞—ò JSON –¥–æ–∫—É–º–µ–Ω—Ç —Å–∞–¥—Ä–∂–∏ –ø–æ–¥–µ—à–∞–≤–∞—ö–∞ –∑–∞ –≤–∞—à—É –∞–ø–ª–∏–∫–∞—Ü–∏—ò—É —Ñ—É–Ω–∫—Ü–∏—ò–∞. –ù–µ—õ–µ—Ç–µ –º–æ—Ä–∞—Ç–∏ –¥–∞ –º–µ—ö–∞—Ç–µ –æ–≤–∞ –ø–æ–¥–µ—à–∞–≤–∞—ö–∞.
    * `local.settings.json` - –æ–≤–∞—ò JSON –¥–æ–∫—É–º–µ–Ω—Ç —Å–∞–¥—Ä–∂–∏ –ø–æ–¥–µ—à–∞–≤–∞—ö–∞ –∫–æ—ò–∞ –≤–∞—à–∞ –∞–ø–ª–∏–∫–∞—Ü–∏—ò–∞ –∫–æ—Ä–∏—Å—Ç–∏ –∫–∞–¥–∞ —Å–µ –ø–æ–∫—Ä–µ—õ–µ –ª–æ–∫–∞–ª–Ω–æ, –∫–∞–æ —à—Ç–æ —Å—É –∫–æ–Ω–µ–∫—Ü–∏–æ–Ω–∏ —Å—Ç—Ä–∏–Ω–≥–æ–≤–∏ –∑–∞ –≤–∞—à IoT Hub. –û–≤–∞ –ø–æ–¥–µ—à–∞–≤–∞—ö–∞ —Å—É —Å–∞–º–æ –ª–æ–∫–∞–ª–Ω–∞ –∏ –Ω–µ —Ç—Ä–µ–±–∞ –∏—Ö –¥–æ–¥–∞–≤–∞—Ç–∏ —É –∫–æ–Ω—Ç—Ä–æ–ª—É –≤–µ—Ä–∑–∏—ò–∞. –ö–∞–¥–∞ –¥–µ–ø–ª–æ—ò—É—ò–µ—Ç–µ –∞–ø–ª–∏–∫–∞—Ü–∏—ò—É —É –æ–±–ª–∞–∫, –æ–≤–∞ –ø–æ–¥–µ—à–∞–≤–∞—ö–∞ —Å–µ –Ω–µ –¥–µ–ø–ª–æ—ò—É—ò—É; —É–º–µ—Å—Ç–æ —Ç–æ–≥–∞, –≤–∞—à–∞ –ø–æ–¥–µ—à–∞–≤–∞—ö–∞ —Å–µ —É—á–∏—Ç–∞–≤–∞—ò—É –∏–∑ –∞–ø–ª–∏–∫–∞—Ü–∏–æ–Ω–∏—Ö –ø–æ–¥–µ—à–∞–≤–∞—ö–∞. –û–≤–æ —õ–µ –±–∏—Ç–∏ –æ–±—Ä–∞—í–µ–Ω–æ –∫–∞—Å–Ω–∏—ò–µ —É –ª–µ–∫—Ü–∏—ò–∏.
    * `requirements.txt` - –æ–≤–æ —ò–µ [Pip —Ñ–∞—ò–ª –∑–∞—Ö—Ç–µ–≤–∞](https://pip.pypa.io/en/stable/user_guide/#requirements-files) –∫–æ—ò–∏ —Å–∞–¥—Ä–∂–∏ Pip –ø–∞–∫–µ—Ç–µ –ø–æ—Ç—Ä–µ–±–Ω–µ –∑–∞ –ø–æ–∫—Ä–µ—Ç–∞—ö–µ –≤–∞—à–µ –∞–ø–ª–∏–∫–∞—Ü–∏—ò–µ —Ñ—É–Ω–∫—Ü–∏—ò–∞.

1. –§–∞—ò–ª `local.settings.json` –∏–º–∞ –ø–æ–¥–µ—à–∞–≤–∞—ö–µ –∑–∞ Storage Account –∫–æ—ò–∏ –∞–ø–ª–∏–∫–∞—Ü–∏—ò–∞ —Ñ—É–Ω–∫—Ü–∏—ò–∞ –∫–æ—Ä–∏—Å—Ç–∏. –û–≤–æ –ø–æ–¥—Ä–∞–∑—É–º–µ–≤–∞–Ω–æ –∏–º–∞ –ø—Ä–∞–∑–Ω–æ –ø–æ–¥–µ—à–∞–≤–∞—ö–µ, –ø–∞ –≥–∞ —Ç—Ä–µ–±–∞ –ø–æ—Å—Ç–∞–≤–∏—Ç–∏. –î–∞ –±–∏—Å—Ç–µ —Å–µ –ø–æ–≤–µ–∑–∞–ª–∏ —Å–∞ –ª–æ–∫–∞–ª–Ω–∏–º Azurite –µ–º—É–ª–∞—Ç–æ—Ä–æ–º —Å–∫–ª–∞–¥–∏—à—Ç–∞, –ø–æ—Å—Ç–∞–≤–∏—Ç–µ –æ–≤—É –≤—Ä–µ–¥–Ω–æ—Å—Ç –Ω–∞ —Å–ª–µ–¥–µ—õ–µ:

    ```json
    "AzureWebJobsStorage": "UseDevelopmentStorage=true",
    ```

1. –ò–Ω—Å—Ç–∞–ª–∏—Ä–∞—ò—Ç–µ –ø–æ—Ç—Ä–µ–±–Ω–µ Pip –ø–∞–∫–µ—Ç–µ –∫–æ—Ä–∏—Å—Ç–µ—õ–∏ —Ñ–∞—ò–ª –∑–∞—Ö—Ç–µ–≤–∞:

    ```sh
    pip install -r requirements.txt
    ```

    > üíÅ –ü–æ—Ç—Ä–µ–±–Ω–∏ Pip –ø–∞–∫–µ—Ç–∏ –º–æ—Ä–∞—ò—É –±–∏—Ç–∏ —É –æ–≤–æ–º —Ñ–∞—ò–ª—É, —Ç–∞–∫–æ –¥–∞ –∫–∞–¥–∞ —Å–µ –∞–ø–ª–∏–∫–∞—Ü–∏—ò–∞ —Ñ—É–Ω–∫—Ü–∏—ò–∞ –¥–µ–ø–ª–æ—ò—É—ò–µ —É –æ–±–ª–∞–∫, –æ–∫—Ä—É–∂–µ—ö–µ –º–æ–∂–µ –æ—Å–∏–≥—É—Ä–∞—Ç–∏ –¥–∞ –∏–Ω—Å—Ç–∞–ª–∏—Ä–∞ –∏—Å–ø—Ä–∞–≤–Ω–µ –ø–∞–∫–µ—Ç–µ.

1. –î–∞ –±–∏—Å—Ç–µ —Ç–µ—Å—Ç–∏—Ä–∞–ª–∏ –¥–∞ –ª–∏ —Å–≤–µ —Ä–∞–¥–∏ –∏—Å–ø—Ä–∞–≤–Ω–æ, –º–æ–∂–µ—Ç–µ –ø–æ–∫—Ä–µ–Ω—É—Ç–∏ –æ–∫—Ä—É–∂–µ—ö–µ —Ñ—É–Ω–∫—Ü–∏—ò–∞. –ü–æ–∫—Ä–µ–Ω–∏—Ç–µ —Å–ª–µ–¥–µ—õ—É –∫–æ–º–∞–Ω–¥—É:

    ```sh
    func start
    ```

    –í–∏–¥–µ—õ–µ—Ç–µ –¥–∞ —Å–µ –æ–∫—Ä—É–∂–µ—ö–µ –ø–æ–∫—Ä–µ—õ–µ –∏ –∏–∑–≤–µ—à—Ç–∞–≤–∞ –¥–∞ –Ω–∏—ò–µ –ø—Ä–æ–Ω–∞—à–ª–æ –Ω–∏—ò–µ–¥–Ω—É —Ñ—É–Ω–∫—Ü–∏—ò—É (—Ç—Ä–∏–≥–µ—Ä–µ).

    ```output
    (.venv) ‚ûú  soil-moisture-trigger func start
    Found Python version 3.9.1 (python3).
    
    Azure Functions Core Tools
    Core Tools Version:       3.0.3442 Commit hash: 6bfab24b2743f8421475d996402c398d2fe4a9e0  (64-bit)
    Function Runtime Version: 3.0.15417.0
    
    [2021-05-05T01:24:46.795Z] No job functions found.
    ```
> ‚ö†Ô∏è –ê–∫–æ –¥–æ–±–∏—ò–µ—Ç–µ –æ–±–∞–≤–µ—à—Ç–µ—ö–µ –æ –∑–∞—à—Ç–∏—Ç–Ω–æ–º –∑–∏–¥—É, –æ–¥–æ–±—Ä–∏—Ç–µ –ø—Ä–∏—Å—Ç—É–ø —ò–µ—Ä –∞–ø–ª–∏–∫–∞—Ü–∏—ò–∞ `func` –º–æ—Ä–∞ –∏–º–∞—Ç–∏ –º–æ–≥—É—õ–Ω–æ—Å—Ç —á–∏—Ç–∞—ö–∞ –∏ –ø–∏—Å–∞—ö–∞ –Ω–∞ –≤–∞—à–æ—ò –º—Ä–µ–∂–∏.
> ‚ö†Ô∏è –ê–∫–æ –∫–æ—Ä–∏—Å—Ç–∏—Ç–µ macOS, –º–æ–≥—É —Å–µ –ø–æ—ò–∞–≤–∏—Ç–∏ —É–ø–æ–∑–æ—Ä–µ—ö–∞ —É –∏–∑–ª–∞–∑–Ω–∏–º –ø–æ–¥–∞—Ü–∏–º–∞:
>
> ```output
    > (.venv) ‚ûú  soil-moisture-trigger func start
    > Found Python version 3.9.1 (python3).
    >
    > Azure Functions Core Tools
    > Core Tools Version:       3.0.3442 Commit hash: 6bfab24b2743f8421475d996402c398d2fe4a9e0  (64-bit)
    > Function Runtime Version: 3.0.15417.0
    >
    > [2021-06-16T08:18:28.315Z] Cannot create directory for shared memory usage: /dev/shm/AzureFunctions
    > [2021-06-16T08:18:28.316Z] System.IO.FileSystem: Access to the path '/dev/shm/AzureFunctions' is denied. Operation not permitted.
    > [2021-06-16T08:18:30.361Z] No job functions found.
    > ```
>
> –ú–æ–∂–µ—Ç–µ –∏—Ö –∏–≥–Ω–æ—Ä–∏—Å–∞—Ç–∏ —Å–≤–µ –¥–æ–∫ —Å–µ –∞–ø–ª–∏–∫–∞—Ü–∏—ò–∞ Functions –ø—Ä–∞–≤–∏–ª–Ω–æ –ø–æ–∫—Ä–µ—õ–µ –∏ –ø—Ä–∏–∫–∞–∑—É—ò–µ –∞–∫—Ç–∏–≤–Ω–µ —Ñ—É–Ω–∫—Ü–∏—ò–µ. –ö–∞–æ —à—Ç–æ —ò–µ –Ω–∞–≤–µ–¥–µ–Ω–æ —É [–æ–≤–æ–º –ø–∏—Ç–∞—ö—É –Ω–∞ Microsoft Docs Q&A](https://docs.microsoft.com/answers/questions/396617/azure-functions-core-tools-error-osx-devshmazurefu.html?WT.mc_id=academic-17441-jabenn), –æ–≤–æ —É–ø–æ–∑–æ—Ä–µ—ö–µ –º–æ–∂–µ –±–∏—Ç–∏ –∑–∞–Ω–µ–º–∞—Ä–µ–Ω–æ.

1. –ó–∞—É—Å—Ç–∞–≤–∏—Ç–µ –∞–ø–ª–∏–∫–∞—Ü–∏—ò—É Functions –ø—Ä–∏—Ç–∏—Å–∫–æ–º –Ω–∞ `ctrl+c`.

1. –û—Ç–≤–æ—Ä–∏—Ç–µ —Ç—Ä–µ–Ω—É—Ç–Ω–∏ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—ò—É–º —É VS Code, –±–∏–ª–æ —Ç–∞–∫–æ —à—Ç–æ —õ–µ—Ç–µ –æ—Ç–≤–æ—Ä–∏—Ç–∏ VS Code –ø–∞ –∑–∞—Ç–∏–º –æ–≤–∞—ò –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—ò—É–º, –∏–ª–∏ –ø–æ–∫—Ä–µ—Ç–∞—ö–µ–º —Å–ª–µ–¥–µ—õ–µ –∫–æ–º–∞–Ω–¥–µ:

    ```sh
    code .
    ```

    VS Code —õ–µ –ø—Ä–µ–ø–æ–∑–Ω–∞—Ç–∏ –≤–∞—à Functions –ø—Ä–æ—ò–µ–∫–∞—Ç –∏ –ø—Ä–∏–∫–∞–∑–∞—Ç–∏ –æ–±–∞–≤–µ—à—Ç–µ—ö–µ –∫–æ—ò–µ –≥–ª–∞—Å–∏:

    ```output
    Detected an Azure Functions Project in folder "soil-moisture-trigger" that may have been created outside of
    VS Code. Initialize for optimal use with VS Code?
    ```

    ![–û–±–∞–≤–µ—à—Ç–µ—ö–µ](../../../../../translated_images/vscode-azure-functions-init-notification.bd19b49229963edb5311fb3a79445ea469424759d2917ee2f2eb6f92d65d5086.sr.png)

    –ò–∑–∞–±–µ—Ä–∏—Ç–µ **Yes** —É –æ–≤–æ–º –æ–±–∞–≤–µ—à—Ç–µ—ö—É.

1. –£–≤–µ—Ä–∏—Ç–µ —Å–µ –¥–∞ —ò–µ Python –≤–∏—Ä—Ç—É–µ–ª–Ω–æ –æ–∫—Ä—É–∂–µ—ö–µ –ø–æ–∫—Ä–µ–Ω—É—Ç–æ —É —Ç–µ—Ä–º–∏–Ω–∞–ª—É VS Code-–∞. –ó–∞—É—Å—Ç–∞–≤–∏—Ç–µ –≥–∞ –∏ –ø–æ–Ω–æ–≤–æ –ø–æ–∫—Ä–µ–Ω–∏—Ç–µ –∞–∫–æ —ò–µ –ø–æ—Ç—Ä–µ–±–Ω–æ.

## –ö—Ä–µ–∏—Ä–∞—ö–µ —Ç—Ä–∏–≥–µ—Ä–∞ –∑–∞ –¥–æ–≥–∞—í–∞—ò–µ IoT Hub-–∞

–ê–ø–ª–∏–∫–∞—Ü–∏—ò–∞ Functions —ò–µ –æ–∫–≤–∏—Ä –∑–∞ –≤–∞—à —Å–µ—Ä–≤–µ—Ä–ª–µ—Å –∫–æ–¥. –î–∞ –±–∏—Å—Ç–µ —Ä–µ–∞–≥–æ–≤–∞–ª–∏ –Ω–∞ –¥–æ–≥–∞—í–∞—ò–µ IoT Hub-–∞, –º–æ–∂–µ—Ç–µ –¥–æ–¥–∞—Ç–∏ —Ç—Ä–∏–≥–µ—Ä –∑–∞ IoT Hub —É –æ–≤—É –∞–ø–ª–∏–∫–∞—Ü–∏—ò—É. –û–≤–∞—ò —Ç—Ä–∏–≥–µ—Ä —Ç—Ä–µ–±–∞ –¥–∞ —Å–µ –ø–æ–≤–µ–∂–µ —Å–∞ —Ç–æ–∫–æ–º –ø–æ—Ä—É–∫–∞ –∫–æ—ò–µ —Å–µ —à–∞—ô—É IoT Hub-—É –∏ –¥–∞ —Ä–µ–∞–≥—É—ò–µ –Ω–∞ —ö–∏—Ö. –î–∞ –±–∏—Å—Ç–µ –¥–æ–±–∏–ª–∏ –æ–≤–∞—ò —Ç–æ–∫ –ø–æ—Ä—É–∫–∞, –≤–∞—à —Ç—Ä–∏–≥–µ—Ä —Ç—Ä–µ–±–∞ –¥–∞ —Å–µ –ø–æ–≤–µ–∂–µ —Å–∞ *event hub compatible endpoint*-–æ–º IoT Hub-–∞.

IoT Hub —Å–µ –∑–∞—Å–Ω–∏–≤–∞ –Ω–∞ –¥—Ä—É–≥–æ—ò Azure —É—Å–ª—É–∑–∏ –∫–æ—ò–∞ —Å–µ –∑–æ–≤–µ Azure Event Hubs. Event Hubs —ò–µ —É—Å–ª—É–≥–∞ –∫–æ—ò–∞ –æ–º–æ–≥—É—õ–∞–≤–∞ —Å–ª–∞—ö–µ –∏ –ø—Ä–∏–º–∞—ö–µ –ø–æ—Ä—É–∫–∞, –∞ IoT Hub –ø—Ä–æ—à–∏—Ä—É—ò–µ –æ–≤—É —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–Ω–æ—Å—Ç –¥–æ–¥–∞–≤–∞—ö–µ–º –∫–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞ –∑–∞ IoT —É—Ä–µ—í–∞—ò–µ. –ù–∞—á–∏–Ω –Ω–∞ –∫–æ—ò–∏ —Å–µ –ø–æ–≤–µ–∑—É—ò–µ—Ç–µ –¥–∞ –±–∏—Å—Ç–µ —á–∏—Ç–∞–ª–∏ –ø–æ—Ä—É–∫–µ —Å–∞ IoT Hub-–∞ —ò–µ –∏—Å—Ç–∏ –∫–∞–æ –∫–∞–¥–∞ –±–∏—Å—Ç–µ –∫–æ—Ä–∏—Å—Ç–∏–ª–∏ Event Hubs.

‚úÖ –£—Ä–∞–¥–∏—Ç–µ –º–∞–ª–æ –∏—Å—Ç—Ä–∞–∂–∏–≤–∞—ö–∞: –ü—Ä–æ—á–∏—Ç–∞—ò—Ç–µ –ø—Ä–µ–≥–ª–µ–¥ Event Hubs-–∞ —É [–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—ò–∏ Azure Event Hubs](https://docs.microsoft.com/azure/event-hubs/event-hubs-about?WT.mc_id=academic-17441-jabenn). –ö–∞–∫–æ —Å–µ –æ—Å–Ω–æ–≤–Ω–µ –∫–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–µ —É–ø–æ—Ä–µ—í—É—ò—É —Å–∞ IoT Hub-–æ–º?

–î–∞ –±–∏ —Å–µ IoT —É—Ä–µ—í–∞—ò –ø–æ–≤–µ–∑–∞–æ —Å–∞ IoT Hub-–æ–º, –º–æ—Ä–∞ –¥–∞ –∫–æ—Ä–∏—Å—Ç–∏ —Ç–∞—ò–Ω–∏ –∫—ô—É—á –∫–æ—ò–∏ –æ—Å–∏–≥—É—Ä–∞–≤–∞ –¥–∞ —Å–∞–º–æ –¥–æ–∑–≤–æ—ô–µ–Ω–∏ —É—Ä–µ—í–∞—ò–∏ –º–æ–≥—É –¥–∞ —Å–µ –ø–æ–≤–µ–∂—É. –ò—Å—Ç–æ –≤–∞–∂–∏ –∏ –∫–∞–¥–∞ —Å–µ –ø–æ–≤–µ–∑—É—ò–µ—Ç–µ –¥–∞ –±–∏—Å—Ç–µ —á–∏—Ç–∞–ª–∏ –ø–æ—Ä—É–∫–µ; –≤–∞—à –∫–æ–¥ —õ–µ —Ç—Ä–µ–±–∞—Ç–∏ —Å—Ç—Ä–∏–Ω–≥ –∑–∞ –ø–æ–≤–µ–∑–∏–≤–∞—ö–µ –∫–æ—ò–∏ —Å–∞–¥—Ä–∂–∏ —Ç–∞—ò–Ω–∏ –∫—ô—É—á, –∫–∞–æ –∏ –¥–µ—Ç–∞—ô–µ –æ IoT Hub-—É.

> üíÅ –ü–æ–¥—Ä–∞–∑—É–º–µ–≤–∞–Ω–∏ —Å—Ç—Ä–∏–Ω–≥ –∑–∞ –ø–æ–≤–µ–∑–∏–≤–∞—ö–µ –∫–æ—ò–∏ –¥–æ–±–∏—ò–∞—Ç–µ –∏–º–∞ **iothubowner** –¥–æ–∑–≤–æ–ª–µ, —à—Ç–æ –æ–º–æ–≥—É—õ–∞–≤–∞ –±–∏–ª–æ –∫–æ–º –∫–æ–¥—É –∫–æ—ò–∏ –≥–∞ –∫–æ—Ä–∏—Å—Ç–∏ –ø—É–Ω–µ –¥–æ–∑–≤–æ–ª–µ –Ω–∞ IoT Hub-—É. –ò–¥–µ–∞–ª–Ω–æ –±–∏ –±–∏–ª–æ –¥–∞ —Å–µ –ø–æ–≤–µ–∂–µ—Ç–µ —Å–∞ –Ω–∞—ò–Ω–∏–∂–æ–º –ø–æ—Ç—Ä–µ–±–Ω–æ–º –Ω–∏–≤–æ—É –¥–æ–∑–≤–æ–ª–∞. –û–≤–æ —õ–µ –±–∏—Ç–∏ –æ–±—Ä–∞—í–µ–Ω–æ —É —Å–ª–µ–¥–µ—õ–µ–º –ª–µ–∫—Ü–∏—ò–∏.

–ö–∞–¥–∞ —Å–µ –≤–∞—à —Ç—Ä–∏–≥–µ—Ä –ø–æ–≤–µ–∂–µ, –∫–æ–¥ —É–Ω—É—Ç–∞—Ä —Ñ—É–Ω–∫—Ü–∏—ò–µ —õ–µ –±–∏—Ç–∏ –ø–æ–∑–≤–∞–Ω –∑–∞ —Å–≤–∞–∫—É –ø–æ—Ä—É–∫—É –ø–æ—Å–ª–∞—Ç—É IoT Hub-—É, –±–µ–∑ –æ–±–∑–∏—Ä–∞ –∫–æ—ò–∏ —É—Ä–µ—í–∞—ò —ò–µ –ø–æ—Å–ª–∞–æ –ø–æ—Ä—É–∫—É. –¢—Ä–∏–≥–µ—Ä —õ–µ –ø—Ä–∏–º–∏—Ç–∏ –ø–æ—Ä—É–∫—É –∫–∞–æ –ø–∞—Ä–∞–º–µ—Ç–∞—Ä.

### –ó–∞–¥–∞—Ç–∞–∫ - –¥–æ–±–∏—ò–∞—ö–µ —Å—Ç—Ä–∏–Ω–≥–∞ –∑–∞ –ø–æ–≤–µ–∑–∏–≤–∞—ö–µ —Å–∞ Event Hub compatible endpoint-–æ–º

1. –ò–∑ —Ç–µ—Ä–º–∏–Ω–∞–ª–∞ VS Code-–∞ –ø–æ–∫—Ä–µ–Ω–∏—Ç–µ —Å–ª–µ–¥–µ—õ—É –∫–æ–º–∞–Ω–¥—É –¥–∞ –±–∏—Å—Ç–µ –¥–æ–±–∏–ª–∏ —Å—Ç—Ä–∏–Ω–≥ –∑–∞ –ø–æ–≤–µ–∑–∏–≤–∞—ö–µ —Å–∞ Event Hub compatible endpoint-–æ–º IoT Hub-–∞:

    ```sh
    az iot hub connection-string show --default-eventhub \
                                      --output table \
                                      --hub-name <hub_name>
    ```

    –ó–∞–º–µ–Ω–∏—Ç–µ `<hub_name>` –∏–º–µ–Ω–æ–º –∫–æ—ò–µ —Å—Ç–µ –∫–æ—Ä–∏—Å—Ç–∏–ª–∏ –∑–∞ –≤–∞—à IoT Hub.

1. –£ VS Code-—É, –æ—Ç–≤–æ—Ä–∏—Ç–µ –¥–∞—Ç–æ—Ç–µ–∫—É `local.settings.json`. –î–æ–¥–∞—ò—Ç–µ —Å–ª–µ–¥–µ—õ—É –¥–æ–¥–∞—Ç–Ω—É –≤—Ä–µ–¥–Ω–æ—Å—Ç —É–Ω—É—Ç–∞—Ä —Å–µ–∫—Ü–∏—ò–µ `Values`:

    ```json
    "IOT_HUB_CONNECTION_STRING": "<connection string>"
    ```

    –ó–∞–º–µ–Ω–∏—Ç–µ `<connection string>` –≤—Ä–µ–¥–Ω–æ—à—õ—É –∏–∑ –ø—Ä–µ—Ç—Ö–æ–¥–Ω–æ–≥ –∫–æ—Ä–∞–∫–∞. –ú–æ—Ä–∞—õ–µ—Ç–µ –¥–∞ –¥–æ–¥–∞—Ç–µ –∑–∞—Ä–µ–∑ –Ω–∞–∫–æ–Ω –ø—Ä–µ—Ç—Ö–æ–¥–Ω–µ –ª–∏–Ω–∏—ò–µ –¥–∞ –±–∏ –æ–≤–æ –±–∏–ª–æ –≤–∞–ª–∏–¥–∞–Ω JSON.

### –ó–∞–¥–∞—Ç–∞–∫ - –∫—Ä–µ–∏—Ä–∞—ö–µ —Ç—Ä–∏–≥–µ—Ä–∞ –∑–∞ –¥–æ–≥–∞—í–∞—ò–µ

–°–∞–¥–∞ —Å—Ç–µ —Å–ø—Ä–µ–º–Ω–∏ –¥–∞ –∫—Ä–µ–∏—Ä–∞—Ç–µ —Ç—Ä–∏–≥–µ—Ä –∑–∞ –¥–æ–≥–∞—í–∞—ò–µ.

1. –ò–∑ —Ç–µ—Ä–º–∏–Ω–∞–ª–∞ VS Code-–∞ –ø–æ–∫—Ä–µ–Ω–∏—Ç–µ —Å–ª–µ–¥–µ—õ—É –∫–æ–º–∞–Ω–¥—É –∏–∑ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—ò—É–º–∞ `soil-moisture-trigger`:

    ```sh
    func new --name iot-hub-trigger --template "Azure Event Hub trigger"
    ```

    –û–≤–æ –∫—Ä–µ–∏—Ä–∞ –Ω–æ–≤—É —Ñ—É–Ω–∫—Ü–∏—ò—É –Ω–∞–∑–≤–∞–Ω—É `iot-hub-trigger`. –¢—Ä–∏–≥–µ—Ä —õ–µ —Å–µ –ø–æ–≤–µ–∑–∞—Ç–∏ —Å–∞ Event Hub compatible endpoint-–æ–º –Ω–∞ IoT Hub-—É, —Ç–∞–∫–æ –¥–∞ –º–æ–∂–µ—Ç–µ –∫–æ—Ä–∏—Å—Ç–∏—Ç–∏ —Ç—Ä–∏–≥–µ—Ä –∑–∞ Event Hub. –ù–µ –ø–æ—Å—Ç–æ—ò–∏ —Å–ø–µ—Ü–∏—Ñ–∏—á–∞–Ω —Ç—Ä–∏–≥–µ—Ä –∑–∞ IoT Hub.

–û–≤–æ —õ–µ –∫—Ä–µ–∏—Ä–∞—Ç–∏ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—ò—É–º —É–Ω—É—Ç–∞—Ä `soil-moisture-trigger` –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—ò—É–º–∞ –Ω–∞–∑–≤–∞–Ω `iot-hub-trigger` –∫–æ—ò–∏ —Å–∞–¥—Ä–∂–∏ –æ–≤—É —Ñ—É–Ω–∫—Ü–∏—ò—É. –û–≤–∞—ò –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—ò—É–º —õ–µ –∏–º–∞—Ç–∏ —Å–ª–µ–¥–µ—õ–µ –¥–∞—Ç–æ—Ç–µ–∫–µ —É–Ω—É—Ç–∞—Ä:

* `__init__.py` - –æ–≤–æ —ò–µ Python –¥–∞—Ç–æ—Ç–µ–∫–∞ –∫–æ—ò–∞ —Å–∞–¥—Ä–∂–∏ —Ç—Ä–∏–≥–µ—Ä, –∫–æ—Ä–∏—Å—Ç–µ—õ–∏ —Å—Ç–∞–Ω–¥–∞—Ä–¥–Ω—É Python –∫–æ–Ω–≤–µ–Ω—Ü–∏—ò—É –∏–º–µ–Ω–æ–≤–∞—ö–∞ –¥–∞—Ç–æ—Ç–µ–∫–∞ –¥–∞ –±–∏ –æ–≤–∞—ò –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—ò—É–º –ø–æ—Å—Ç–∞–æ Python –º–æ–¥—É–ª.

    –û–≤–∞ –¥–∞—Ç–æ—Ç–µ–∫–∞ —õ–µ —Å–∞–¥—Ä–∂–∞—Ç–∏ —Å–ª–µ–¥–µ—õ–∏ –∫–æ–¥:

    ```python
    import logging

    import azure.functions as func


    def main(event: func.EventHubEvent):
        logging.info('Python EventHub trigger processed an event: %s',
                    event.get_body().decode('utf-8'))
    ```

    –à–µ–∑–≥—Ä–æ —Ç—Ä–∏–≥–µ—Ä–∞ —ò–µ —Ñ—É–Ω–∫—Ü–∏—ò–∞ `main`. –û–≤–∞ —Ñ—É–Ω–∫—Ü–∏—ò–∞ —Å–µ –ø–æ–∑–∏–≤–∞ —Å–∞ –¥–æ–≥–∞—í–∞—ò–∏–º–∞ –∏–∑ IoT Hub-–∞. –§—É–Ω–∫—Ü–∏—ò–∞ –∏–º–∞ –ø–∞—Ä–∞–º–µ—Ç–∞—Ä –Ω–∞–∑–≤–∞–Ω `event` –∫–æ—ò–∏ —Å–∞–¥—Ä–∂–∏ `EventHubEvent`. –°–≤–∞–∫–∏ –ø—É—Ç –∫–∞–¥–∞ —Å–µ –ø–æ—Ä—É–∫–∞ –ø–æ—à–∞—ô–µ IoT Hub-—É, –æ–≤–∞ —Ñ—É–Ω–∫—Ü–∏—ò–∞ —Å–µ –ø–æ–∑–∏–≤–∞ –∏ –ø—Ä–æ—Å–ª–µ—í—É—ò–µ —Ç—É –ø–æ—Ä—É–∫—É –∫–∞–æ `event`, –∑–∞—ò–µ–¥–Ω–æ —Å–∞ —Å–≤–æ—ò—Å—Ç–≤–∏–º–∞ –∫–æ—ò–∞ —Å—É –∏—Å—Ç–∞ –∫–∞–æ –∏ –∞–Ω–æ—Ç–∞—Ü–∏—ò–µ –∫–æ—ò–µ —Å—Ç–µ –≤–∏–¥–µ–ª–∏ —É –ø—Ä–µ—Ç—Ö–æ–¥–Ω–æ—ò –ª–µ–∫—Ü–∏—ò–∏.

    –à–µ–∑–≥—Ä–æ –æ–≤–µ —Ñ—É–Ω–∫—Ü–∏—ò–µ –±–µ–ª–µ–∂–∏ –¥–æ–≥–∞—í–∞—ò.

* `function.json` - –æ–≤–æ —Å–∞–¥—Ä–∂–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—ò—É –∑–∞ —Ç—Ä–∏–≥–µ—Ä. –ì–ª–∞–≤–Ω–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—ò–∞ —ò–µ —É —Å–µ–∫—Ü–∏—ò–∏ –Ω–∞–∑–≤–∞–Ω–æ—ò `bindings`. Binding —ò–µ —Ç–µ—Ä–º–∏–Ω –∑–∞ –≤–µ–∑—É –∏–∑–º–µ—í—É Azure Functions –∏ –¥—Ä—É–≥–∏—Ö Azure —É—Å–ª—É–≥–∞. –û–≤–∞ —Ñ—É–Ω–∫—Ü–∏—ò–∞ –∏–º–∞ —É–ª–∞–∑–Ω–∏ binding –∑–∞ Event Hub - –ø–æ–≤–µ–∑—É—ò–µ —Å–µ —Å–∞ Event Hub-–æ–º –∏ –ø—Ä–∏–º–∞ –ø–æ–¥–∞—Ç–∫–µ.

    > üíÅ –ú–æ–∂–µ—Ç–µ —Ç–∞–∫–æ—í–µ –∏–º–∞—Ç–∏ –∏–∑–ª–∞–∑–Ω–µ binding-–µ —Ç–∞–∫–æ –¥–∞ —Å–µ –∏–∑–ª–∞–∑ —Ñ—É–Ω–∫—Ü–∏—ò–µ —à–∞—ô–µ –¥—Ä—É–≥–æ—ò —É—Å–ª—É–∑–∏. –ù–∞ –ø—Ä–∏–º–µ—Ä, –º–æ–≥–ª–∏ –±–∏—Å—Ç–µ –¥–æ–¥–∞—Ç–∏ –∏–∑–ª–∞–∑–Ω–∏ binding –∑–∞ –±–∞–∑—É –ø–æ–¥–∞—Ç–∞–∫–∞ –∏ –≤—Ä–∞—Ç–∏—Ç–∏ –¥–æ–≥–∞—í–∞—ò IoT Hub-–∞ –∏–∑ —Ñ—É–Ω–∫—Ü–∏—ò–µ, –∏ –æ–Ω —õ–µ –±–∏—Ç–∏ –∞—É—Ç–æ–º–∞—Ç—Å–∫–∏ —É–º–µ—Ç–Ω—É—Ç —É –±–∞–∑—É –ø–æ–¥–∞—Ç–∞–∫–∞.

    ‚úÖ –£—Ä–∞–¥–∏—Ç–µ –º–∞–ª–æ –∏—Å—Ç—Ä–∞–∂–∏–≤–∞—ö–∞: –ü—Ä–æ—á–∏—Ç–∞—ò—Ç–µ –æ binding-–∏–º–∞ —É [–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—ò–∏ –æ –∫–æ–Ω—Ü–µ–ø—Ç–∏–º–∞ Azure Functions —Ç—Ä–∏–≥–µ—Ä–∞ –∏ binding-–∞](https://docs.microsoft.com/azure/azure-functions/functions-triggers-bindings?WT.mc_id=academic-17441-jabenn&tabs=python).

    –°–µ–∫—Ü–∏—ò–∞ `bindings` —É–∫—ô—É—á—É—ò–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—ò—É –∑–∞ binding. –í—Ä–µ–¥–Ω–æ—Å—Ç–∏ –æ–¥ –∏–Ω—Ç–µ—Ä–µ—Å–∞ —Å—É:

  * `"type": "eventHubTrigger"` - –æ–≤–æ –≥–æ–≤–æ—Ä–∏ —Ñ—É–Ω–∫—Ü–∏—ò–∏ –¥–∞ —Ç—Ä–µ–±–∞ –¥–∞ —Å–ª—É—à–∞ –¥–æ–≥–∞—í–∞—ò–µ –∏–∑ Event Hub-–∞
  * `"name": "events"` - –æ–≤–æ —ò–µ –∏–º–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ –∑–∞ –¥–æ–≥–∞—í–∞—ò–µ Event Hub-–∞. –û–≤–æ –æ–¥–≥–æ–≤–∞—Ä–∞ –∏–º–µ–Ω—É –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ —É —Ñ—É–Ω–∫—Ü–∏—ò–∏ `main` —É Python –∫–æ–¥—É.
  * `"direction": "in"` - –æ–≤–æ —ò–µ —É–ª–∞–∑–Ω–∏ binding, –ø–æ–¥–∞—Ü–∏ –∏–∑ Event Hub-–∞ –¥–æ–ª–∞–∑–µ —É —Ñ—É–Ω–∫—Ü–∏—ò—É
  * `"connection": ""` - –æ–≤–æ –¥–µ—Ñ–∏–Ω–∏—à–µ –∏–º–µ –ø–æ–¥–µ—à–∞–≤–∞—ö–∞ –∏–∑ –∫–æ—ò–µ–≥ —Å–µ —á–∏—Ç–∞ —Å—Ç—Ä–∏–Ω–≥ –∑–∞ –ø–æ–≤–µ–∑–∏–≤–∞—ö–µ. –ö–∞–¥–∞ —Å–µ –ø–æ–∫—Ä–µ—õ–µ –ª–æ–∫–∞–ª–Ω–æ, –æ–≤–æ —õ–µ —á–∏—Ç–∞—Ç–∏ –æ–≤–æ –ø–æ–¥–µ—à–∞–≤–∞—ö–µ –∏–∑ –¥–∞—Ç–æ—Ç–µ–∫–µ `local.settings.json`.

    > üíÅ –°—Ç—Ä–∏–Ω–≥ –∑–∞ –ø–æ–≤–µ–∑–∏–≤–∞—ö–µ –Ω–µ –º–æ–∂–µ –±–∏—Ç–∏ —Å–∞—á—É–≤–∞–Ω —É –¥–∞—Ç–æ—Ç–µ—Ü–∏ `function.json`, –º–æ—Ä–∞ –±–∏—Ç–∏ –ø—Ä–æ—á–∏—Ç–∞–Ω –∏–∑ –ø–æ–¥–µ—à–∞–≤–∞—ö–∞. –û–≤–æ —ò–µ –¥–∞ –±–∏—Å—Ç–µ —Å–ø—Ä–µ—á–∏–ª–∏ —Å–ª—É—á–∞—ò–Ω–æ –∏–∑–ª–∞–≥–∞—ö–µ –≤–∞—à–µ–≥ —Å—Ç—Ä–∏–Ω–≥–∞ –∑–∞ –ø–æ–≤–µ–∑–∏–≤–∞—ö–µ.

1. –ó–±–æ–≥ [–≥—Ä–µ—à–∫–µ —É Azure Functions —à–∞–±–ª–æ–Ω—É](https://github.com/Azure/azure-functions-templates/issues/1250), `function.json` –∏–º–∞ –Ω–µ—Ç–∞—á–Ω—É –≤—Ä–µ–¥–Ω–æ—Å—Ç –∑–∞ –ø–æ—ô–µ `cardinality`. –ê–∂—É—Ä–∏—Ä–∞—ò—Ç–µ –æ–≤–æ –ø–æ—ô–µ —Å–∞ `many` –Ω–∞ `one`:

    ```json
    "cardinality": "one",
    ```

1. –ê–∂—É—Ä–∏—Ä–∞—ò—Ç–µ –≤—Ä–µ–¥–Ω–æ—Å—Ç `"connection"` —É –¥–∞—Ç–æ—Ç–µ—Ü–∏ `function.json` –¥–∞ —É–∫–∞–∑—É—ò–µ –Ω–∞ –Ω–æ–≤—É –≤—Ä–µ–¥–Ω–æ—Å—Ç –∫–æ—ò—É —Å—Ç–µ –¥–æ–¥–∞–ª–∏ —É –¥–∞—Ç–æ—Ç–µ–∫—É `local.settings.json`:

    ```json
    "connection": "IOT_HUB_CONNECTION_STRING",
    ```

    > üíÅ –ó–∞–ø–∞–º—Ç–∏—Ç–µ - –æ–≤–æ —Ç—Ä–µ–±–∞ –¥–∞ —É–∫–∞–∑—É—ò–µ –Ω–∞ –ø–æ–¥–µ—à–∞–≤–∞—ö–µ, –∞ –Ω–µ –¥–∞ —Å–∞–¥—Ä–∂–∏ —Å—Ç–≤–∞—Ä–Ω–∏ —Å—Ç—Ä–∏–Ω–≥ –∑–∞ –ø–æ–≤–µ–∑–∏–≤–∞—ö–µ.

1. –°—Ç—Ä–∏–Ω–≥ –∑–∞ –ø–æ–≤–µ–∑–∏–≤–∞—ö–µ —Å–∞–¥—Ä–∂–∏ –≤—Ä–µ–¥–Ω–æ—Å—Ç `eventHubName`, —Ç–∞–∫–æ –¥–∞ –≤—Ä–µ–¥–Ω–æ—Å—Ç –∑–∞ –æ–≤–æ —É –¥–∞—Ç–æ—Ç–µ—Ü–∏ `function.json` —Ç—Ä–µ–±–∞ –¥–∞ –±—É–¥–µ –ø—Ä–∞–∑–∞–Ω —Å—Ç—Ä–∏–Ω–≥. –ê–∂—É—Ä–∏—Ä–∞—ò—Ç–µ –æ–≤—É –≤—Ä–µ–¥–Ω–æ—Å—Ç –Ω–∞ –ø—Ä–∞–∑–∞–Ω —Å—Ç—Ä–∏–Ω–≥:

    ```json
    "eventHubName": "",
    ```

### –ó–∞–¥–∞—Ç–∞–∫ - –ø–æ–∫—Ä–µ—Ç–∞—ö–µ —Ç—Ä–∏–≥–µ—Ä–∞ –∑–∞ –¥–æ–≥–∞—í–∞—ò–µ

1. –£–≤–µ—Ä–∏—Ç–µ —Å–µ –¥–∞ –Ω–µ –ø–æ–∫—Ä–µ—õ–µ—Ç–µ –º–æ–Ω–∏—Ç–æ—Ä –¥–æ–≥–∞—í–∞—ò–∞ IoT Hub-–∞. –ê–∫–æ —ò–µ –æ–≤–æ –ø–æ–∫—Ä–µ–Ω—É—Ç–æ –∏—Å—Ç–æ–≤—Ä–µ–º–µ–Ω–æ —Å–∞ –∞–ø–ª–∏–∫–∞—Ü–∏—ò–æ–º Functions, –∞–ø–ª–∏–∫–∞—Ü–∏—ò–∞ Functions –Ω–µ—õ–µ –º–æ—õ–∏ –¥–∞ —Å–µ –ø–æ–≤–µ–∂–µ –∏ –∫–æ–Ω–∑—É–º–∏—Ä–∞ –¥–æ–≥–∞—í–∞—ò–µ.

    > üíÅ –í–∏—à–µ –∞–ø–ª–∏–∫–∞—Ü–∏—ò–∞ –º–æ–∂–µ –¥–∞ —Å–µ –ø–æ–≤–µ–∂–µ —Å–∞ IoT Hub endpoint-–∏–º–∞ –∫–æ—Ä–∏—Å—Ç–µ—õ–∏ —Ä–∞–∑–ª–∏—á–∏—Ç–µ *consumer groups*. –û–≤–æ —õ–µ –±–∏—Ç–∏ –æ–±—Ä–∞—í–µ–Ω–æ —É –∫–∞—Å–Ω–∏—ò–æ—ò –ª–µ–∫—Ü–∏—ò–∏.

1. –î–∞ –±–∏—Å—Ç–µ –ø–æ–∫—Ä–µ–Ω—É–ª–∏ –∞–ø–ª–∏–∫–∞—Ü–∏—ò—É Functions, –ø–æ–∫—Ä–µ–Ω–∏—Ç–µ —Å–ª–µ–¥–µ—õ—É –∫–æ–º–∞–Ω–¥—É –∏–∑ —Ç–µ—Ä–º–∏–Ω–∞–ª–∞ VS Code-–∞:

    ```sh
    func start
    ```

    –ê–ø–ª–∏–∫–∞—Ü–∏—ò–∞ Functions —õ–µ —Å–µ –ø–æ–∫—Ä–µ–Ω—É—Ç–∏ –∏ –æ—Ç–∫—Ä–∏—Ç–∏ —Ñ—É–Ω–∫—Ü–∏—ò—É `iot-hub-trigger`. –ó–∞—Ç–∏–º —õ–µ –æ–±—Ä–∞–¥–∏—Ç–∏ —Å–≤–µ –¥–æ–≥–∞—í–∞—ò–µ –∫–æ—ò–∏ —Å—É –≤–µ—õ –ø–æ—Å–ª–∞—Ç–∏ IoT Hub-—É —É –ø–æ—Å–ª–µ–¥—ö–∏—Ö –¥–∞–Ω.

    ```output
    (.venv) ‚ûú  soil-moisture-trigger func start
    Found Python version 3.9.1 (python3).
    
    Azure Functions Core Tools
    Core Tools Version:       3.0.3442 Commit hash: 6bfab24b2743f8421475d996402c398d2fe4a9e0  (64-bit)
    Function Runtime Version: 3.0.15417.0
    
    Functions:
    
            iot-hub-trigger: eventHubTrigger
    
    For detailed output, run func with --verbose flag.
    [2021-05-05T02:44:07.517Z] Worker process started and initialized.
    [2021-05-05T02:44:09.202Z] Executing 'Functions.iot-hub-trigger' (Reason='(null)', Id=802803a5-eae9-4401-a1f4-176631456ce4)
    [2021-05-05T02:44:09.205Z] Trigger Details: PartitionId: 0, Offset: 1011240-1011632, EnqueueTimeUtc: 2021-05-04T19:04:04.2030000Z-2021-05-04T19:04:04.3900000Z, SequenceNumber: 2546-2547, Count: 2
    [2021-05-05T02:44:09.352Z] Python EventHub trigger processed an event: {"soil_moisture":628}
    [2021-05-05T02:44:09.354Z] Python EventHub trigger processed an event: {"soil_moisture":624}
    [2021-05-05T02:44:09.395Z] Executed 'Functions.iot-hub-trigger' (Succeeded, Id=802803a5-eae9-4401-a1f4-176631456ce4, Duration=245ms)
    ```

    –°–≤–∞–∫–∏ –ø–æ–∑–∏–≤ —Ñ—É–Ω–∫—Ü–∏—ò–µ —õ–µ –±–∏—Ç–∏ –æ–∫—Ä—É–∂–µ–Ω –±–ª–æ–∫–æ–º `Executing 'Functions.iot-hub-trigger'`/`Executed 'Functions.iot-hub-trigger'` —É –∏–∑–ª–∞–∑–Ω–∏–º –ø–æ–¥–∞—Ü–∏–º–∞, —Ç–∞–∫–æ –¥–∞ –º–æ–∂–µ—Ç–µ –≤–∏–¥–µ—Ç–∏ –∫–æ–ª–∏–∫–æ —ò–µ –ø–æ—Ä—É–∫–∞ –æ–±—Ä–∞—í–µ–Ω–æ —É —Å–≤–∞–∫–æ–º –ø–æ–∑–∏–≤—É —Ñ—É–Ω–∫—Ü–∏—ò–µ.

1. –£–≤–µ—Ä–∏—Ç–µ —Å–µ –¥–∞ –≤–∞—à IoT —É—Ä–µ—í–∞—ò —Ä–∞–¥–∏. –í–∏–¥–µ—õ–µ—Ç–µ –Ω–æ–≤–µ –ø–æ—Ä—É–∫–µ –æ –≤–ª–∞–∂–Ω–æ—Å—Ç–∏ –∑–µ–º—ô–∏—à—Ç–∞ –∫–æ—ò–µ —Å–µ –ø–æ—ò–∞–≤—ô—É—ò—É —É –∞–ø–ª–∏–∫–∞—Ü–∏—ò–∏ Functions.

1. –ó–∞—É—Å—Ç–∞–≤–∏—Ç–µ –∏ –ø–æ–Ω–æ–≤–æ –ø–æ–∫—Ä–µ–Ω–∏—Ç–µ –∞–ø–ª–∏–∫–∞—Ü–∏—ò—É Functions. –í–∏–¥–µ—õ–µ—Ç–µ –¥–∞ –Ω–µ—õ–µ –ø–æ–Ω–æ–≤–æ –æ–±—Ä–∞—í–∏–≤–∞—Ç–∏ –ø—Ä–µ—Ç—Ö–æ–¥–Ω–µ –ø–æ—Ä—É–∫–µ, –≤–µ—õ —Å–∞–º–æ –Ω–æ–≤–µ –ø–æ—Ä—É–∫–µ.

> üíÅ VS Code —Ç–∞–∫–æ—í–µ –ø–æ–¥—Ä–∂–∞–≤–∞ –¥–µ–±–∞–≥–æ–≤–∞—ö–µ –≤–∞—à–∏—Ö Functions. –ú–æ–∂–µ—Ç–µ –ø–æ—Å—Ç–∞–≤–∏—Ç–∏ —Ç–∞—á–∫–µ –ø—Ä–µ–∫–∏–¥–∞ –∫–ª–∏–∫–æ–º –Ω–∞ –≥—Ä–∞–Ω–∏—Ü—É –ø–æ—Ä–µ–¥ –ø–æ—á–µ—Ç–∫–∞ —Å–≤–∞–∫–µ –ª–∏–Ω–∏—ò–µ –∫–æ–¥–∞, –∏–ª–∏ –ø–æ—Å—Ç–∞–≤—ô–∞—ö–µ–º –∫—É—Ä—Å–æ—Ä–∞ –Ω–∞ –ª–∏–Ω–∏—ò—É –∫–æ–¥–∞ –∏ –∏–∑–±–æ—Ä–æ–º *Run -> Toggle breakpoint*, –∏–ª–∏ –ø—Ä–∏—Ç–∏—Å–∫–æ–º –Ω–∞ `F9`. –ú–æ–∂–µ—Ç–µ –ø–æ–∫—Ä–µ–Ω—É—Ç–∏ –¥–µ–±–∞–≥–µ—Ä –∏–∑–±–æ—Ä–æ–º *Run -> Start debugging*, –ø—Ä–∏—Ç–∏—Å–∫–æ–º –Ω–∞ `F5`, –∏–ª–∏ –∏–∑–±–æ—Ä–æ–º –ø–∞–Ω–µ–ª–∞ *Run and debug* –∏ –∏–∑–±–æ—Ä–æ–º –¥—É–≥–º–µ—Ç–∞ **Start debugging**. –ù–∞ –æ–≤–∞—ò –Ω–∞—á–∏–Ω –º–æ–∂–µ—Ç–µ –≤–∏–¥–µ—Ç–∏ –¥–µ—Ç–∞—ô–µ –æ –¥–æ–≥–∞—í–∞—ò–∏–º–∞ –∫–æ—ò–∏ —Å–µ –æ–±—Ä–∞—í—É—ò—É.

#### –†–µ—à–∞–≤–∞—ö–µ –ø—Ä–æ–±–ª–µ–º–∞

* –ê–∫–æ –¥–æ–±–∏—ò–µ—Ç–µ —Å–ª–µ–¥–µ—õ—É –≥—Ä–µ—à–∫—É:

    ```output
    The listener for function 'Functions.iot-hub-trigger' was unable to start. Microsoft.WindowsAzure.Storage: Connection refused. System.Net.Http: Connection refused. System.Private.CoreLib: Connection refused.
    ```

    –ü—Ä–æ–≤–µ—Ä–∏—Ç–µ –¥–∞ –ª–∏ —ò–µ Azurite –ø–æ–∫—Ä–µ–Ω—É—Ç –∏ –¥–∞ –ª–∏ —Å—Ç–µ –ø–æ—Å—Ç–∞–≤–∏–ª–∏ `AzureWebJobsStorage` —É –¥–∞—Ç–æ—Ç–µ—Ü–∏ `local.settings.json` –Ω–∞ `UseDevelopmentStorage=true`.

* –ê–∫–æ –¥–æ–±–∏—ò–µ—Ç–µ —Å–ª–µ–¥–µ—õ—É –≥—Ä–µ—à–∫—É:

    ```output
    System.Private.CoreLib: Exception while executing function: Functions.iot-hub-trigger. System.Private.CoreLib: Result: Failure Exception: AttributeError: 'list' object has no attribute 'get_body'
    ```

    –ü—Ä–æ–≤–µ—Ä–∏—Ç–µ –¥–∞ –ª–∏ —Å—Ç–µ –ø–æ—Å—Ç–∞–≤–∏–ª–∏ `cardinality` —É –¥–∞—Ç–æ—Ç–µ—Ü–∏ `function.json` –Ω–∞ `one`.

* –ê–∫–æ –¥–æ–±–∏—ò–µ—Ç–µ —Å–ª–µ–¥–µ—õ—É –≥—Ä–µ—à–∫—É:

    ```output
    Azure.Messaging.EventHubs: The path to an Event Hub may be specified as part of the connection string or as a separate value, but not both.  Please verify that your connection string does not have the `EntityPath` token if you are passing an explicit Event Hub name. (Parameter 'connectionString').
    ```

    –ü—Ä–æ–≤–µ—Ä–∏—Ç–µ –¥–∞ –ª–∏ —Å—Ç–µ –ø–æ—Å—Ç–∞–≤–∏–ª–∏ `eventHubName` —É –¥–∞—Ç–æ—Ç–µ—Ü–∏ `function.json` –Ω–∞ –ø—Ä–∞–∑–∞–Ω —Å—Ç—Ä–∏–Ω–≥.

## –°–ª–∞—ö–µ –∑–∞—Ö—Ç–µ–≤–∞ –∑–∞ –¥–∏—Ä–µ–∫—Ç–Ω–µ –º–µ—Ç–æ–¥–µ –∏–∑ —Å–µ—Ä–≤–µ—Ä–ª–µ—Å –∫–æ–¥–∞

–î–æ —Å–∞–¥–∞ –≤–∞—à–∞ –∞–ø–ª–∏–∫–∞—Ü–∏—ò–∞ Functions —Å–ª—É—à–∞ –ø–æ—Ä—É–∫–µ —Å–∞ IoT Hub-–∞ –∫–æ—Ä–∏—Å—Ç–µ—õ–∏ Event Hub compatible endpoint. –°–∞–¥–∞ —Ç—Ä–µ–±–∞ –¥–∞ —à–∞—ô–µ—Ç–µ –∫–æ–º–∞–Ω–¥–µ IoT —É—Ä–µ—í–∞—ò—É. –û–≤–æ —Å–µ —Ä–∞–¥–∏ –∫–æ—Ä–∏—à—õ–µ—ö–µ–º –¥—Ä—É–≥–∞—á–∏—ò–µ –≤–µ–∑–µ —Å–∞ IoT Hub-–æ–º –ø—Ä–µ–∫–æ *Registry Manager*-–∞. Registry Manager —ò–µ –∞–ª–∞—Ç –∫–æ—ò–∏ –≤–∞–º –æ–º–æ–≥—É—õ–∞–≤–∞ –¥–∞ –≤–∏–¥–∏—Ç–µ –∫–æ—ò–∏ —Å—É —É—Ä–µ—í–∞—ò–∏ —Ä–µ–≥–∏—Å—Ç—Ä–æ–≤–∞–Ω–∏ –Ω–∞ IoT Hub-—É –∏ –∫–æ–º—É–Ω–∏—Ü–∏—Ä–∞—Ç–µ —Å–∞ —Ç–∏–º —É—Ä–µ—í–∞—ò–∏–º–∞ —Å–ª–∞—ö–µ–º –ø–æ—Ä—É–∫–∞ –æ–¥ –æ–±–ª–∞–∫–∞ –∫–∞ —É—Ä–µ—í–∞—ò—É, –∑–∞—Ö—Ç–µ–≤–∞ –∑–∞ –¥–∏—Ä–µ–∫—Ç–Ω–µ –º–µ—Ç–æ–¥–µ –∏–ª–∏ –∞–∂—É—Ä–∏—Ä–∞—ö–µ–º device twin-–∞. –¢–∞–∫–æ—í–µ –≥–∞ –º–æ–∂–µ—Ç–µ –∫–æ—Ä–∏—Å—Ç–∏—Ç–∏ –∑–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—ò—É, –∞–∂—É—Ä–∏—Ä–∞—ö–µ –∏–ª–∏ –±—Ä–∏—Å–∞—ö–µ IoT —É—Ä–µ—í–∞—ò–∞ —Å–∞ IoT Hub-–∞.

–î–∞ –±–∏—Å—Ç–µ —Å–µ –ø–æ–≤–µ–∑–∞–ª–∏ —Å–∞ Registry Manager-–æ–º, –ø–æ—Ç—Ä–µ–±–∞–Ω –≤–∞–º —ò–µ —Å—Ç—Ä–∏–Ω–≥ –∑–∞ –ø–æ–≤–µ–∑–∏–≤–∞—ö–µ.

### –ó–∞–¥–∞—Ç–∞–∫ - –¥–æ–±–∏—ò–∞—ö–µ —Å—Ç—Ä–∏–Ω–≥–∞ –∑–∞ –ø–æ–≤–µ–∑–∏–≤–∞—ö–µ —Å–∞ Registry Manager-–æ–º

1. –î–∞ –±–∏—Å—Ç–µ –¥–æ–±–∏–ª–∏ —Å—Ç—Ä–∏–Ω–≥ –∑–∞ –ø–æ–≤–µ–∑–∏–≤–∞—ö–µ, –ø–æ–∫—Ä–µ–Ω–∏—Ç–µ —Å–ª–µ–¥–µ—õ—É –∫–æ–º–∞–Ω–¥—É:

    ```sh
    az iot hub connection-string show --policy-name service \
                                      --output table \
                                      --hub-name <hub_name>
    ```

    –ó–∞–º–µ–Ω–∏—Ç–µ `<hub_name>` –∏–º–µ–Ω–æ–º –∫–æ—ò–µ —Å—Ç–µ –∫–æ—Ä–∏—Å—Ç–∏–ª–∏ –∑–∞ –≤–∞—à IoT Hub.

    –°—Ç—Ä–∏–Ω–≥ –∑–∞ –ø–æ–≤–µ–∑–∏–≤–∞—ö–µ —Å–µ –∑–∞—Ö—Ç–µ–≤–∞ –∑–∞ *ServiceConnect* –ø–æ–ª–∏—Ç–∏–∫—É –∫–æ—Ä–∏—Å—Ç–µ—õ–∏ –ø–∞—Ä–∞–º–µ—Ç–∞—Ä `--policy-name service`. –ö–∞–¥–∞ –∑–∞—Ö—Ç–µ–≤–∞—Ç–µ —Å—Ç—Ä–∏–Ω–≥ –∑–∞ –ø–æ–≤–µ–∑–∏–≤–∞—ö–µ, –º–æ–∂–µ—Ç–µ –æ–¥—Ä–µ–¥–∏—Ç–∏ –∫–æ—ò–µ –¥–æ–∑–≤–æ–ª–µ —Ç–∞—ò —Å—Ç—Ä–∏–Ω–≥ –∑–∞ –ø–æ–≤–µ–∑–∏–≤–∞—ö–µ –æ–º–æ–≥—É—õ–∞–≤–∞. ServiceConnect –ø–æ–ª–∏—Ç–∏–∫–∞ –æ–º–æ–≥—É—õ–∞–≤–∞ –≤–∞—à–µ–º –∫–æ–¥—É –¥–∞ —Å–µ –ø–æ–≤–µ–∂–µ –∏ —à–∞—ô–µ –ø–æ—Ä—É–∫–µ IoT —É—Ä–µ—í–∞—ò–∏–º–∞.

    ‚úÖ –£—Ä–∞–¥–∏—Ç–µ –º–∞–ª–æ –∏—Å—Ç—Ä–∞–∂–∏–≤–∞—ö–∞: –ü—Ä–æ—á–∏—Ç–∞—ò—Ç–µ –æ —Ä–∞–∑–ª–∏—á–∏—Ç–∏–º –ø–æ–ª–∏—Ç–∏–∫–∞–º–∞ —É [–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—ò–∏ –æ –¥–æ–∑–≤–æ–ª–∞–º–∞ IoT Hub-–∞](https://docs.microsoft.com/azure/iot-hub/iot-hub-devguide-security#iot-hub-permissions?WT.mc_id=academic-17441-jabenn)

1. –£ VS Code-—É, –æ—Ç–≤–æ—Ä–∏—Ç–µ –¥–∞—Ç–æ—Ç–µ–∫—É `local.settings.json`. –î–æ–¥–∞—ò—Ç–µ —Å–ª–µ–¥–µ—õ—É –¥–æ–¥–∞—Ç–Ω—É –≤—Ä–µ–¥–Ω–æ—Å—Ç —É–Ω—É—Ç–∞—Ä —Å–µ–∫—Ü–∏—ò–µ `Values`:

    ```json
    "REGISTRY_MANAGER_CONNECTION_STRING": "<connection string>"
    ```

    –ó–∞–º–µ–Ω–∏—Ç–µ `<connection string>` –≤—Ä–µ–¥–Ω–æ—à—õ—É –∏–∑ –ø—Ä–µ—Ç—Ö–æ–¥–Ω–æ–≥ –∫–æ—Ä–∞–∫–∞. –ú–æ—Ä–∞—õ–µ—Ç–µ –¥–∞ –¥–æ–¥–∞—Ç–µ –∑–∞—Ä–µ–∑ –Ω–∞–∫–æ–Ω –ø—Ä–µ—Ç—Ö–æ–¥–Ω–µ –ª–∏–Ω–∏—ò–µ –¥–∞ –±–∏ –æ–≤–æ –±–∏–ª–æ –≤–∞–ª–∏–¥–∞–Ω JSON.

### –ó–∞–¥–∞—Ç–∞–∫ - —Å–ª–∞—ö–µ –∑–∞—Ö—Ç–µ–≤–∞ –∑–∞ –¥–∏—Ä–µ–∫—Ç–Ω—É –º–µ—Ç–æ–¥—É —É—Ä–µ—í–∞—ò—É

1. SDK –∑–∞ Registry Manager —ò–µ –¥–æ—Å—Ç—É–ø–∞–Ω –ø—Ä–µ–∫–æ Pip –ø–∞–∫–µ—Ç–∞. –î–æ–¥–∞—ò—Ç–µ —Å–ª–µ–¥–µ—õ—É –ª–∏–Ω–∏—ò—É —É –¥–∞—Ç–æ—Ç–µ–∫—É `requirements.txt` –¥–∞ –±–∏—Å—Ç–µ –¥–æ–¥–∞–ª–∏ –∑–∞–≤–∏—Å–Ω–æ—Å—Ç –æ–¥ –æ–≤–æ–≥ –ø–∞–∫–µ—Ç–∞:

    ```sh
    azure-iot-hub
    ```

1. –£–≤–µ—Ä–∏—Ç–µ —Å–µ –¥–∞ —ò–µ —Ç–µ—Ä–º–∏–Ω–∞–ª VS Code-–∞ –∞–∫—Ç–∏–≤–∏—Ä–∞–æ –≤–∏—Ä—Ç—É–µ–ª–Ω–æ –æ–∫—Ä—É–∂–µ—ö–µ –∏ –ø–æ–∫—Ä–µ–Ω–∏—Ç–µ —Å–ª–µ–¥–µ—õ—É –∫–æ–º–∞–Ω–¥—É –¥–∞ –±–∏—Å—Ç–µ –∏–Ω—Å—Ç–∞–ª–∏—Ä–∞–ª–∏ Pip –ø–∞–∫–µ—Ç–µ:

    ```sh
    pip install -r requirements.txt
    ```

1. –î–æ–¥–∞—ò—Ç–µ —Å–ª–µ–¥–µ—õ–µ —É–≤–æ–∑–µ —É –¥–∞—Ç–æ—Ç–µ–∫—É `__init__.py`:

    ```python
    import json
    import os
    from azure.iot.hub import IoTHubRegistryManager
    from azure.iot.hub.models import CloudToDeviceMethod
    ```

    –û–≤–æ —É–≤–æ–∑–∏ –Ω–µ–∫–µ —Å–∏—Å—Ç–µ–º—Å–∫–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–µ, –∫–∞–æ –∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–µ –∑–∞ –∏–Ω—Ç–µ—Ä–∞–∫—Ü–∏—ò—É —Å–∞ Registry Manager-–æ–º –∏ —Å–ª–∞—ö–µ –∑–∞—Ö—Ç–µ–≤–∞ –∑–∞ –¥–∏—Ä–µ–∫—Ç–Ω–µ –º–µ—Ç–æ–¥–µ.

1. –£–∫–ª–æ–Ω–∏—Ç–µ –∫–æ–¥ –∏–∑–Ω—É—Ç–∞—Ä –º–µ—Ç–æ–¥–µ `main`, –∞–ª–∏ –∑–∞–¥—Ä–∂–∏—Ç–µ —Å–∞–º—É –º–µ—Ç–æ–¥—É.

1. –£ –º–µ—Ç–æ–¥–∏ `main`, –¥–æ–¥–∞—ò—Ç–µ —Å–ª–µ–¥–µ—õ–∏ –∫–æ–¥:

    ```python
    body = json.loads(event.get_body().decode('utf-8'))
    device_id = event.iothub_metadata['connection-device-id']

    logging.info(f'Received message: {body} from {device_id}')
    ```

    –û–≤–∞—ò –∫–æ–¥ –∏–∑–≤–ª–∞—á–∏ —Ç–µ–ª–æ –¥–æ–≥–∞—í–∞—ò–∞ –∫–æ—ò–µ —Å–∞–¥—Ä–∂–∏ JSON –ø–æ—Ä—É–∫—É –ø–æ—Å–ª–∞—Ç—É –æ–¥ IoT —É—Ä–µ—í–∞—ò–∞.

    –ó–∞—Ç–∏–º –¥–æ–±–∏—ò–∞ ID —É—Ä–µ—í–∞—ò–∞ –∏–∑ –∞–Ω–æ—Ç–∞—Ü–∏—ò–∞ –ø—Ä–æ—Å–ª–µ—í–µ–Ω–∏—Ö —Å–∞ –ø–æ—Ä—É–∫–æ–º. –¢–µ–ª–æ –¥–æ–≥–∞—í–∞—ò–∞ —Å–∞–¥—Ä–∂–∏ –ø–æ—Ä—É–∫—É –ø–æ—Å–ª–∞—Ç—É –∫–∞–æ —Ç–µ–ª–µ–º–µ—Ç—Ä–∏—ò—É, –∞ —Ä–µ—á–Ω–∏–∫ `iothub_metadata` —Å–∞–¥—Ä–∂–∏ —Å–≤–æ—ò—Å—Ç–≤–∞ –ø–æ—Å—Ç–∞–≤—ô–µ–Ω–∞ –æ–¥ IoT Hub-–∞ –∫–∞–æ —à—Ç–æ —Å—É ID —É—Ä–µ—í–∞—ò–∞ –ø–æ—à–∏—ô–∞–æ—Ü–∞ –∏ –≤—Ä–µ–º–µ –∫–∞–¥–∞ —ò–µ –ø–æ—Ä—É–∫–∞ –ø–æ—Å–ª–∞—Ç–∞.

    –û–≤–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—ò–µ —Å–µ –∑–∞—Ç–∏–º –±–µ–ª–µ–∂–µ. –í–∏–¥–µ—õ–µ—Ç–µ –æ–≤–æ –±–µ–ª–µ–∂–µ—ö–µ —É —Ç–µ—Ä–º–∏–Ω–∞–ª—É –∫–∞–¥–∞ –ª–æ–∫–∞–ª–Ω–æ –ø–æ–∫—Ä–µ–Ω–µ—Ç–µ –∞–ø–ª–∏–∫–∞—Ü–∏—ò—É Function.

1. –ò—Å–ø–æ–¥ –æ–≤–æ–≥–∞, –¥–æ–¥–∞—ò—Ç–µ —Å–ª–µ–¥–µ—õ–∏ –∫–æ–¥:

    ```python
    soil_moisture = body['soil_moisture']

    if soil_moisture > 450:
        direct_method = CloudToDeviceMethod(method_name='relay_on', payload='{}')
    else:
        direct_method = CloudToDeviceMethod(method_name='relay_off', payload='{}')
    ```

    –û–≤–∞—ò –∫–æ–¥ –¥–æ–±–∏—ò–∞ –≤—Ä–µ–¥–Ω–æ—Å—Ç –≤–ª–∞–∂–Ω–æ—Å—Ç–∏ –∑–µ–º—ô–∏—à—Ç–∞ –∏–∑ –ø–æ—Ä—É–∫–µ. –ó–∞—Ç–∏–º –ø—Ä–æ–≤–µ—Ä–∞–≤–∞ –≤–ª–∞–∂–Ω–æ—Å—Ç –∑–µ–º—ô–∏—à—Ç–∞ –∏, —É –∑–∞–≤–∏—Å–Ω–æ—Å—Ç–∏ –æ–¥ –≤—Ä–µ–¥–Ω–æ—Å—Ç–∏, –∫—Ä–µ–∏—Ä–∞ –ø–æ–º–æ—õ–Ω—É –∫–ª–∞—Å—É –∑–∞ –∑–∞—Ö—Ç–µ–≤ –∑–∞ –¥–∏—Ä–µ–∫—Ç–Ω—É –º–µ—Ç–æ–¥—É `relay_on` –∏–ª–∏ `relay_off`. –ó–∞—Ö—Ç–µ–≤ –∑–∞ –º–µ—Ç–æ–¥—É –Ω–µ —Ç—Ä–µ–±–∞ payload, —Ç–∞–∫–æ –¥–∞ —Å–µ —à–∞—ô–µ –ø—Ä–∞–∑–∞–Ω JSON –¥–æ–∫—É–º–µ–Ω—Ç.

1. –ò—Å–ø–æ–¥ –æ–≤–æ–≥–∞ –¥–æ–¥–∞—ò—Ç–µ —Å–ª–µ–¥–µ—õ–∏ –∫–æ–¥:

    ```python
    logging.info(f'Sending direct method request for {direct_method.method_name} for device {device_id}')

    registry_manager_connection_string = os.environ['REGISTRY_MANAGER_CONNECTION_STRING']
    registry_manager = IoTHubRegistryManager(registry_manager_connection_string)
    ```
–û–≤–∞—ò –∫–æ–¥ —É—á–∏—Ç–∞–≤–∞ `REGISTRY_MANAGER_CONNECTION_STRING` –∏–∑ –¥–∞—Ç–æ—Ç–µ–∫–µ `local.settings.json`. –í—Ä–µ–¥–Ω–æ—Å—Ç–∏ —É –æ–≤–æ—ò –¥–∞—Ç–æ—Ç–µ—Ü–∏ —Å—É –¥–æ—Å—Ç—É–ø–Ω–µ –∫–∞–æ –ø—Ä–æ–º–µ–Ω—ô–∏–≤–µ –æ–∫—Ä—É–∂–µ—ö–∞, –∏ –º–æ–≥—É —Å–µ —á–∏—Ç–∞—Ç–∏ –ø–æ–º–æ—õ—É —Ñ—É–Ω–∫—Ü–∏—ò–µ `os.environ`, –∫–æ—ò–∞ –≤—Ä–∞—õ–∞ —Ä–µ—á–Ω–∏–∫ —Å–≤–∏—Ö –ø—Ä–æ–º–µ–Ω—ô–∏–≤–∏—Ö –æ–∫—Ä—É–∂–µ—ö–∞.

> üíÅ –ö–∞–¥–∞ —Å–µ –æ–≤–∞—ò –∫–æ–¥ –ø–æ—Å—Ç–∞–≤–∏ —É –æ–±–ª–∞–∫, –≤—Ä–µ–¥–Ω–æ—Å—Ç–∏ –∏–∑ –¥–∞—Ç–æ—Ç–µ–∫–µ `local.settings.json` –±–∏—õ–µ –ø–æ—Å—Ç–∞–≤—ô–µ–Ω–µ –∫–∞–æ *Application Settings*, –∏ –º–æ–≥—É —Å–µ —á–∏—Ç–∞—Ç–∏ –∏–∑ –ø—Ä–æ–º–µ–Ω—ô–∏–≤–∏—Ö –æ–∫—Ä—É–∂–µ—ö–∞.

–ö–æ–¥ –∑–∞—Ç–∏–º –∫—Ä–µ–∏—Ä–∞ –∏–Ω—Å—Ç–∞–Ω—Ü—É –ø–æ–º–æ—õ–Ω–µ –∫–ª–∞—Å–µ Registry Manager –∫–æ—Ä–∏—Å—Ç–µ—õ–∏ –∫–æ–Ω–µ–∫—Ü–∏–æ–Ω–∏ —Å—Ç—Ä–∏–Ω–≥.

1. –ò—Å–ø–æ–¥ –æ–≤–æ–≥–∞ –¥–æ–¥–∞—ò—Ç–µ —Å–ª–µ–¥–µ—õ–∏ –∫–æ–¥:

    ```python
    registry_manager.invoke_device_method(device_id, direct_method)

    logging.info('Direct method request sent!')
    ```

    –û–≤–∞—ò –∫–æ–¥ —É–ø—É—õ—É—ò–µ Registry Manager –¥–∞ –ø–æ—à–∞—ô–µ –¥–∏—Ä–µ–∫—Ç–∞–Ω –º–µ—Ç–æ–¥—Å–∫–∏ –∑–∞—Ö—Ç–µ–≤ —É—Ä–µ—í–∞—ò—É –∫–æ—ò–∏ —ò–µ –ø–æ—Å–ª–∞–æ —Ç–µ–ª–µ–º–µ—Ç—Ä–∏—ò—É.

    > üíÅ –£ –≤–µ—Ä–∑–∏—ò–∞–º–∞ –∞–ø–ª–∏–∫–∞—Ü–∏—ò–µ –∫–æ—ò–µ —Å—Ç–µ –∫—Ä–µ–∏—Ä–∞–ª–∏ —É –ø—Ä–µ—Ç—Ö–æ–¥–Ω–∏–º –ª–µ–∫—Ü–∏—ò–∞–º–∞ –∫–æ—Ä–∏—Å—Ç–µ—õ–∏ MQTT, –∫–æ–º–∞–Ω–¥–µ –∑–∞ –∫–æ–Ω—Ç—Ä–æ–ª—É —Ä–µ–ª–µ—ò–∞ —Å—É —Å–ª–∞—Ç–µ —Å–≤–∏–º —É—Ä–µ—í–∞—ò–∏–º–∞. –ö–æ–¥ —ò–µ –ø—Ä–µ—Ç–ø–æ—Å—Ç–∞–≤—ô–∞–æ –¥–∞ –∏–º–∞—Ç–µ —Å–∞–º–æ —ò–µ–¥–∞–Ω —É—Ä–µ—í–∞—ò. –û–≤–∞ –≤–µ—Ä–∑–∏—ò–∞ –∫–æ–¥–∞ —à–∞—ô–µ –º–µ—Ç–æ–¥—Å–∫–∏ –∑–∞—Ö—Ç–µ–≤ —Å–∞–º–æ —ò–µ–¥–Ω–æ–º —É—Ä–µ—í–∞—ò—É, —Ç–∞–∫–æ –¥–∞ –±–∏ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∏—Å–∞–ª–∞ –∞–∫–æ –∏–º–∞—Ç–µ –≤–∏—à–µ –ø–æ—Å—Ç–∞–≤–∫–∏ —Å–µ–Ω–∑–æ—Ä–∞ –≤–ª–∞–≥–µ –∏ —Ä–µ–ª–µ—ò–∞, —à–∞—ô—É—õ–∏ –ø—Ä–∞–≤–∏ –¥–∏—Ä–µ–∫—Ç–∞–Ω –º–µ—Ç–æ–¥—Å–∫–∏ –∑–∞—Ö—Ç–µ–≤ –ø—Ä–∞–≤–æ–º —É—Ä–µ—í–∞—ò—É.

1. –ü–æ–∫—Ä–µ–Ω–∏—Ç–µ –∞–ø–ª–∏–∫–∞—Ü–∏—ò—É Functions –∏ —É–≤–µ—Ä–∏—Ç–µ —Å–µ –¥–∞ –≤–∞—à IoT —É—Ä–µ—í–∞—ò —à–∞—ô–µ –ø–æ–¥–∞—Ç–∫–µ. –í–∏–¥–µ—õ–µ—Ç–µ –¥–∞ —Å–µ –ø–æ—Ä—É–∫–µ –æ–±—Ä–∞—í—É—ò—É –∏ –¥–∞ —Å–µ –¥–∏—Ä–µ–∫—Ç–Ω–∏ –º–µ—Ç–æ–¥—Å–∫–∏ –∑–∞—Ö—Ç–µ–≤–∏ —à–∞—ô—É. –ü–æ–º–µ—Ä–∏—Ç–µ —Å–µ–Ω–∑–æ—Ä –≤–ª–∞–≥–µ —É –∑–µ–º—ô—É –∏ –≤–∞–Ω —ö–µ –¥–∞ –±–∏—Å—Ç–µ –≤–∏–¥–µ–ª–∏ –ø—Ä–æ–º–µ–Ω—É –≤—Ä–µ–¥–Ω–æ—Å—Ç–∏ –∏ —É–∫—ô—É—á–∏–≤–∞—ö–µ –∏ –∏—Å–∫—ô—É—á–∏–≤–∞—ö–µ —Ä–µ–ª–µ—ò–∞.

> üíÅ –û–≤–∞—ò –∫–æ–¥ –º–æ–∂–µ—Ç–µ –ø—Ä–æ–Ω–∞—õ–∏ —É —Ñ–∞—Å—Ü–∏–∫–ª–∏ [code/functions](../../../../../2-farm/lessons/5-migrate-application-to-the-cloud/code/functions).

## –ü–æ—Å—Ç–∞–≤–∏—Ç–µ —Å–≤–æ—ò —Å–µ—Ä–≤–µ—Ä–ª–µ—Å –∫–æ–¥ —É –æ–±–ª–∞–∫

–í–∞—à –∫–æ–¥ —Å–∞–¥–∞ —Ä–∞–¥–∏ –ª–æ–∫–∞–ª–Ω–æ, –ø–∞ —ò–µ —Å–ª–µ–¥–µ—õ–∏ –∫–æ—Ä–∞–∫ –ø–æ—Å—Ç–∞–≤—ô–∞—ö–µ Functions –∞–ø–ª–∏–∫–∞—Ü–∏—ò–µ —É –æ–±–ª–∞–∫.

### –ó–∞–¥–∞—Ç–∞–∫ - –∫—Ä–µ–∏—Ä–∞—ò—Ç–µ —Ä–µ—Å—É—Ä—Å–µ —É –æ–±–ª–∞–∫—É

–í–∞—à–∞ Functions –∞–ø–ª–∏–∫–∞—Ü–∏—ò–∞ —Ç—Ä–µ–±–∞ –¥–∞ –±—É–¥–µ –ø–æ—Å—Ç–∞–≤—ô–µ–Ω–∞ —É Functions App —Ä–µ—Å—É—Ä—Å —É Azure-—É, –∫–æ—ò–∏ —Å–µ –Ω–∞–ª–∞–∑–∏ —É–Ω—É—Ç–∞—Ä Resource Group –∫–æ—ò—É —Å—Ç–µ –∫—Ä–µ–∏—Ä–∞–ª–∏ –∑–∞ –≤–∞—à IoT Hub. –¢–∞–∫–æ—í–µ —õ–µ –≤–∞–º –±–∏—Ç–∏ –ø–æ—Ç—Ä–µ–±–∞–Ω Storage Account –∫—Ä–µ–∏—Ä–∞–Ω —É Azure-—É –¥–∞ –∑–∞–º–µ–Ω–∏ –µ–º—É–ª–∏—Ä–∞–Ω–∏ –∫–æ—ò–∏ —Ç—Ä–µ–Ω—É—Ç–Ω–æ —Ä–∞–¥–∏ –ª–æ–∫–∞–ª–Ω–æ.

1. –ü–æ–∫—Ä–µ–Ω–∏—Ç–µ —Å–ª–µ–¥–µ—õ—É –∫–æ–º–∞–Ω–¥—É –¥–∞ –∫—Ä–µ–∏—Ä–∞—Ç–µ Storage Account:

    ```sh
    az storage account create --resource-group soil-moisture-sensor \
                              --sku Standard_LRS \
                              --name <storage_name> 
    ```

    –ó–∞–º–µ–Ω–∏—Ç–µ `<storage_name>` –∏–º–µ–Ω–æ–º –∑–∞ –≤–∞—à Storage Account. –û–≤–æ –∏–º–µ –º–æ—Ä–∞ –±–∏—Ç–∏ –≥–ª–æ–±–∞–ª–Ω–æ —ò–µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–æ —ò–µ—Ä —ò–µ –¥–µ–æ URL-–∞ –∫–æ—ò–∏ —Å–µ –∫–æ—Ä–∏—Å—Ç–∏ –∑–∞ –ø—Ä–∏—Å—Ç—É–ø Storage Account-—É. –ú–æ–∂–µ—Ç–µ –∫–æ—Ä–∏—Å—Ç–∏—Ç–∏ —Å–∞–º–æ –º–∞–ª–∞ —Å–ª–æ–≤–∞ –∏ –±—Ä–æ—ò–µ–≤–µ –∑–∞ –æ–≤–æ –∏–º–µ, –±–µ–∑ –¥—Ä—É–≥–∏—Ö –∫–∞—Ä–∞–∫—Ç–µ—Ä–∞, –∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–æ —ò–µ –Ω–∞ 24 –∫–∞—Ä–∞–∫—Ç–µ—Ä–∞. –ö–æ—Ä–∏—Å—Ç–∏—Ç–µ –Ω–µ—à—Ç–æ –ø–æ–ø—É—Ç `sms` –∏ –¥–æ–¥–∞—ò—Ç–µ —ò–µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–∏ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –Ω–∞ –∫—Ä–∞—ò, –∫–∞–æ —à—Ç–æ —Å—É –Ω–∞—Å—É–º–∏—á–Ω–µ —Ä–µ—á–∏ –∏–ª–∏ –≤–∞—à–µ –∏–º–µ.

    –û–ø—Ü–∏—ò–∞ `--sku Standard_LRS` –±–∏—Ä–∞ –Ω–∏–≤–æ —Ü–µ–Ω–∞, –±–∏—Ä–∞—ò—É—õ–∏ –Ω–∞—ò—ò–µ—Ñ—Ç–∏–Ω–∏—ò–∏ –æ–ø—à—Ç–∏ –Ω–∞–ª–æ–≥. –ù–µ –ø–æ—Å—Ç–æ—ò–∏ –±–µ—Å–ø–ª–∞—Ç–∞–Ω –Ω–∏–≤–æ —Å–∫–ª–∞–¥–∏—à—Ç–∞, –∏ –ø–ª–∞—õ–∞—Ç–µ –∑–∞ –æ–Ω–æ —à—Ç–æ –∫–æ—Ä–∏—Å—Ç–∏—Ç–µ. –¢—Ä–æ—à–∫–æ–≤–∏ —Å—É —Ä–µ–ª–∞—Ç–∏–≤–Ω–æ –Ω–∏—Å–∫–∏, —Å–∞ –Ω–∞—ò—Å–∫—É–ø—ô–∏–º —Å–∫–ª–∞–¥–∏—à—Ç–µ–º –º–∞—ö–µ –æ–¥ 0,05 –∞–º–µ—Ä–∏—á–∫–∏—Ö –¥–æ–ª–∞—Ä–∞ –º–µ—Å–µ—á–Ω–æ –ø–æ –≥–∏–≥–∞–±–∞—ò—Ç—É —Å–∫–ª–∞–¥–∏—à—Ç–µ–Ω–∏—Ö –ø–æ–¥–∞—Ç–∞–∫–∞.

    ‚úÖ –ü—Ä–æ—á–∏—Ç–∞—ò—Ç–µ –≤–∏—à–µ –æ —Ü–µ–Ω–∞–º–∞ –Ω–∞ [Azure Storage Account pricing page](https://azure.microsoft.com/pricing/details/storage/?WT.mc_id=academic-17441-jabenn)

1. –ü–æ–∫—Ä–µ–Ω–∏—Ç–µ —Å–ª–µ–¥–µ—õ—É –∫–æ–º–∞–Ω–¥—É –¥–∞ –∫—Ä–µ–∏—Ä–∞—Ç–µ Function App:

    ```sh
    az functionapp create --resource-group soil-moisture-sensor \
                          --runtime python \
                          --functions-version 3 \
                          --os-type Linux \
                          --consumption-plan-location <location> \
                          --storage-account <storage_name> \
                          --name <functions_app_name>
    ```

    –ó–∞–º–µ–Ω–∏—Ç–µ `<location>` –ª–æ–∫–∞—Ü–∏—ò–æ–º –∫–æ—ò—É —Å—Ç–µ –∫–æ—Ä–∏—Å—Ç–∏–ª–∏ –ø—Ä–∏–ª–∏–∫–æ–º –∫—Ä–µ–∏—Ä–∞—ö–∞ Resource Group —É –ø—Ä–µ—Ç—Ö–æ–¥–Ω–æ—ò –ª–µ–∫—Ü–∏—ò–∏.

    –ó–∞–º–µ–Ω–∏—Ç–µ `<storage_name>` –∏–º–µ–Ω–æ–º Storage Account-–∞ –∫–æ—ò–∏ —Å—Ç–µ –∫—Ä–µ–∏—Ä–∞–ª–∏ —É –ø—Ä–µ—Ç—Ö–æ–¥–Ω–æ–º –∫–æ—Ä–∞–∫—É.

    –ó–∞–º–µ–Ω–∏—Ç–µ `<functions_app_name>` —ò–µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–∏–º –∏–º–µ–Ω–æ–º –∑–∞ –≤–∞—à—É Functions App. –û–≤–æ –∏–º–µ –º–æ—Ä–∞ –±–∏—Ç–∏ –≥–ª–æ–±–∞–ª–Ω–æ —ò–µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–æ —ò–µ—Ä —ò–µ –¥–µ–æ URL-–∞ –∫–æ—ò–∏ —Å–µ –∫–æ—Ä–∏—Å—Ç–∏ –∑–∞ –ø—Ä–∏—Å—Ç—É–ø Functions App-—É. –ö–æ—Ä–∏—Å—Ç–∏—Ç–µ –Ω–µ—à—Ç–æ –ø–æ–ø—É—Ç `soil-moisture-sensor-` –∏ –¥–æ–¥–∞—ò—Ç–µ —ò–µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–∏ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –Ω–∞ –∫—Ä–∞—ò, –∫–∞–æ —à—Ç–æ —Å—É –Ω–∞—Å—É–º–∏—á–Ω–µ —Ä–µ—á–∏ –∏–ª–∏ –≤–∞—à–µ –∏–º–µ.

    –û–ø—Ü–∏—ò–∞ `--functions-version 3` –ø–æ—Å—Ç–∞–≤—ô–∞ –≤–µ—Ä–∑–∏—ò—É Azure Functions –∫–æ—ò–∞ —õ–µ —Å–µ –∫–æ—Ä–∏—Å—Ç–∏—Ç–∏. –í–µ—Ä–∑–∏—ò–∞ 3 —ò–µ –Ω–∞—ò–Ω–æ–≤–∏—ò–∞ –≤–µ—Ä–∑–∏—ò–∞.

    –û–ø—Ü–∏—ò–∞ `--os-type Linux` –≥–æ–≤–æ—Ä–∏ Functions runtime-—É –¥–∞ –∫–æ—Ä–∏—Å—Ç–∏ Linux –∫–∞–æ –æ–ø–µ—Ä–∞—Ç–∏–≤–Ω–∏ —Å–∏—Å—Ç–µ–º –∑–∞ —Ö–æ—Å—Ç–æ–≤–∞—ö–µ –æ–≤–∏—Ö —Ñ—É–Ω–∫—Ü–∏—ò–∞. Functions –º–æ–≥—É –±–∏—Ç–∏ —Ö–æ—Å—Ç–æ–≤–∞–Ω–µ –Ω–∞ Linux-—É –∏–ª–∏ Windows-—É, —É –∑–∞–≤–∏—Å–Ω–æ—Å—Ç–∏ –æ–¥ –ø—Ä–æ–≥—Ä–∞–º—Å–∫–æ–≥ —ò–µ–∑–∏–∫–∞ –∫–æ—ò–∏ —Å–µ –∫–æ—Ä–∏—Å—Ç–∏. Python –∞–ø–ª–∏–∫–∞—Ü–∏—ò–µ —Å—É –ø–æ–¥—Ä–∂–∞–Ω–µ —Å–∞–º–æ –Ω–∞ Linux-—É.

### –ó–∞–¥–∞—Ç–∞–∫ - –æ—Ç–ø—Ä–µ–º–∏—Ç–µ —Å–≤–æ—ò–∞ –ø–æ–¥–µ—à–∞–≤–∞—ö–∞ –∞–ø–ª–∏–∫–∞—Ü–∏—ò–µ

–ö–∞–¥–∞ —Å—Ç–µ —Ä–∞–∑–≤–∏—ò–∞–ª–∏ —Å–≤–æ—ò—É Functions App, —Å–∞—á—É–≤–∞–ª–∏ —Å—Ç–µ –Ω–µ–∫–∞ –ø–æ–¥–µ—à–∞–≤–∞—ö–∞ —É –¥–∞—Ç–æ—Ç–µ—Ü–∏ `local.settings.json` –∑–∞ –∫–æ–Ω–µ–∫—Ü–∏–æ–Ω–µ —Å—Ç—Ä–∏–Ω–≥–æ–≤–µ –∑–∞ –≤–∞—à IoT Hub. –û–≤–∞ –ø–æ–¥–µ—à–∞–≤–∞—ö–∞ —Ç—Ä–µ–±–∞ –¥–∞ –±—É–¥—É –Ω–∞–ø–∏—Å–∞–Ω–∞ —É Application Settings —É –≤–∞—à–æ—ò Functions App —É Azure-—É –∫–∞–∫–æ –±–∏ –∏—Ö –≤–∞—à –∫–æ–¥ –º–æ–≥–∞–æ –∫–æ—Ä–∏—Å—Ç–∏—Ç–∏.

> üéì –î–∞—Ç–æ—Ç–µ–∫–∞ `local.settings.json` —ò–µ —Å–∞–º–æ –∑–∞ –ª–æ–∫–∞–ª–Ω–∞ –ø–æ–¥–µ—à–∞–≤–∞—ö–∞ —Ä–∞–∑–≤–æ—ò–∞, –∏ –Ω–µ —Ç—Ä–µ–±–∞ –¥–∞ –±—É–¥–µ —É–∫—ô—É—á–µ–Ω–∞ —É –∫–æ–Ω—Ç—Ä–æ–ª—É –∏–∑–≤–æ—Ä–Ω–æ–≥ –∫–æ–¥–∞, –∫–∞–æ —à—Ç–æ —ò–µ GitHub. –ö–∞–¥–∞ —Å–µ –ø–æ—Å—Ç–∞–≤–∏ —É –æ–±–ª–∞–∫, –∫–æ—Ä–∏—Å—Ç–µ —Å–µ Application Settings. Application Settings —Å—É –ø–∞—Ä–æ–≤–∏ –∫—ô—É—á/–≤—Ä–µ–¥–Ω–æ—Å—Ç —Ö–æ—Å—Ç–æ–≤–∞–Ω–∏ —É –æ–±–ª–∞–∫—É –∏ —á–∏—Ç–∞—ò—É —Å–µ –∏–∑ –ø—Ä–æ–º–µ–Ω—ô–∏–≤–∏—Ö –æ–∫—Ä—É–∂–µ—ö–∞ –±–∏–ª–æ —É –≤–∞—à–µ–º –∫–æ–¥—É –∏–ª–∏ –æ–¥ —Å—Ç—Ä–∞–Ω–µ runtime-–∞ –∫–∞–¥–∞ –ø–æ–≤–µ–∑—É—ò–µ –≤–∞—à –∫–æ–¥ —Å–∞ IoT Hub-–æ–º.

1. –ü–æ–∫—Ä–µ–Ω–∏—Ç–µ —Å–ª–µ–¥–µ—õ—É –∫–æ–º–∞–Ω–¥—É –¥–∞ –ø–æ—Å—Ç–∞–≤–∏—Ç–µ `IOT_HUB_CONNECTION_STRING` –ø–æ–¥–µ—à–∞–≤–∞—ö–µ —É Application Settings Functions App-–∞:

    ```sh
    az functionapp config appsettings set --resource-group soil-moisture-sensor \
                                          --name <functions_app_name> \
                                          --settings "IOT_HUB_CONNECTION_STRING=<connection string>"
    ```

    –ó–∞–º–µ–Ω–∏—Ç–µ `<functions_app_name>` –∏–º–µ–Ω–æ–º –∫–æ—ò–µ —Å—Ç–µ –∫–æ—Ä–∏—Å—Ç–∏–ª–∏ –∑–∞ –≤–∞—à—É Functions App.

    –ó–∞–º–µ–Ω–∏—Ç–µ `<connection string>` –≤—Ä–µ–¥–Ω–æ—à—õ—É `IOT_HUB_CONNECTION_STRING` –∏–∑ –≤–∞—à–µ –¥–∞—Ç–æ—Ç–µ–∫–µ `local.settings.json`.

1. –ü–æ–Ω–æ–≤–∏—Ç–µ –≥–æ—Ä—ö–∏ –∫–æ—Ä–∞–∫, –∞–ª–∏ –ø–æ—Å—Ç–∞–≤–∏—Ç–µ –≤—Ä–µ–¥–Ω–æ—Å—Ç `REGISTRY_MANAGER_CONNECTION_STRING` –Ω–∞ –æ–¥–≥–æ–≤–∞—Ä–∞—ò—É—õ—É –≤—Ä–µ–¥–Ω–æ—Å—Ç –∏–∑ –≤–∞—à–µ –¥–∞—Ç–æ—Ç–µ–∫–µ `local.settings.json`.

–ö–∞–¥–∞ –ø–æ–∫—Ä–µ–Ω–µ—Ç–µ –æ–≤–µ –∫–æ–º–∞–Ω–¥–µ, –æ–Ω–µ —õ–µ —Ç–∞–∫–æ—í–µ –ø—Ä–∏–∫–∞–∑–∞—Ç–∏ –ª–∏—Å—Ç—É —Å–≤–∏—Ö Application Settings –∑–∞ —Ñ—É–Ω–∫—Ü–∏—ò—É –∞–ø–ª–∏–∫–∞—Ü–∏—ò–µ. –ú–æ–∂–µ—Ç–µ –∫–æ—Ä–∏—Å—Ç–∏—Ç–∏ –æ–≤–æ –¥–∞ –ø—Ä–æ–≤–µ—Ä–∏—Ç–µ –¥–∞ –ª–∏ —Å—É –≤–∞—à–µ –≤—Ä–µ–¥–Ω–æ—Å—Ç–∏ –ø—Ä–∞–≤–∏–ª–Ω–æ –ø–æ—Å—Ç–∞–≤—ô–µ–Ω–µ.

> üíÅ –í–∏–¥–µ—õ–µ—Ç–µ –≤—Ä–µ–¥–Ω–æ—Å—Ç –∫–æ—ò–∞ —ò–µ –≤–µ—õ –ø–æ—Å—Ç–∞–≤—ô–µ–Ω–∞ –∑–∞ `AzureWebJobsStorage`. –£ –≤–∞—à–æ—ò –¥–∞—Ç–æ—Ç–µ—Ü–∏ `local.settings.json`, –æ–≤–æ —ò–µ –±–∏–ª–æ –ø–æ—Å—Ç–∞–≤—ô–µ–Ω–æ –Ω–∞ –≤—Ä–µ–¥–Ω–æ—Å—Ç –∑–∞ –∫–æ—Ä–∏—à—õ–µ—ö–µ –ª–æ–∫–∞–ª–Ω–æ–≥ –µ–º—É–ª–∏—Ä–∞–Ω–æ–≥ —Å–∫–ª–∞–¥–∏—à—Ç–∞. –ö–∞–¥–∞ —Å—Ç–µ –∫—Ä–µ–∏—Ä–∞–ª–∏ Functions App, –ø—Ä–æ—Å–ª–µ—í—É—ò–µ—Ç–µ Storage Account –∫–∞–æ –ø–∞—Ä–∞–º–µ—Ç–∞—Ä, –∏ –æ–≤–æ —Å–µ –∞—É—Ç–æ–º–∞—Ç—Å–∫–∏ –ø–æ—Å—Ç–∞–≤—ô–∞ —É –æ–≤–æ –ø–æ–¥–µ—à–∞–≤–∞—ö–µ.

### –ó–∞–¥–∞—Ç–∞–∫ - –ø–æ—Å—Ç–∞–≤–∏—Ç–µ —Å–≤–æ—ò—É Functions App —É –æ–±–ª–∞–∫

–°–∞–¥–∞ –∫–∞–¥–∞ —ò–µ Functions App —Å–ø—Ä–µ–º–Ω–∞, –≤–∞—à –∫–æ–¥ –º–æ–∂–µ –±–∏—Ç–∏ –ø–æ—Å—Ç–∞–≤—ô–µ–Ω.

1. –ü–æ–∫—Ä–µ–Ω–∏—Ç–µ —Å–ª–µ–¥–µ—õ—É –∫–æ–º–∞–Ω–¥—É –∏–∑ —Ç–µ—Ä–º–∏–Ω–∞–ª–∞ —É VS Code-—É –¥–∞ –æ–±—ò–∞–≤–∏—Ç–µ —Å–≤–æ—ò—É Functions App:

    ```sh
    func azure functionapp publish <functions_app_name>
    ```

    –ó–∞–º–µ–Ω–∏—Ç–µ `<functions_app_name>` –∏–º–µ–Ω–æ–º –∫–æ—ò–µ —Å—Ç–µ –∫–æ—Ä–∏—Å—Ç–∏–ª–∏ –∑–∞ –≤–∞—à—É Functions App.

–ö–æ–¥ —õ–µ –±–∏—Ç–∏ —É–ø–∞–∫–æ–≤–∞–Ω –∏ –ø–æ—Å–ª–∞—Ç Functions App-—É, –≥–¥–µ —õ–µ –±–∏—Ç–∏ –ø–æ—Å—Ç–∞–≤—ô–µ–Ω –∏ –ø–æ–∫—Ä–µ–Ω—É—Ç. –ë–∏—õ–µ –ø—É–Ω–æ –∏–∑–ª–∞–∑–Ω–∏—Ö –ø–æ–¥–∞—Ç–∞–∫–∞ —É –∫–æ–Ω–∑–æ–ª–∏, –∫–æ—ò–∏ —Å–µ –∑–∞–≤—Ä—à–∞–≤–∞—ò—É –ø–æ—Ç–≤—Ä–¥–æ–º –æ –ø–æ—Å—Ç–∞–≤—ô–∞—ö—É –∏ –ª–∏—Å—Ç–æ–º –ø–æ—Å—Ç–∞–≤—ô–µ–Ω–∏—Ö —Ñ—É–Ω–∫—Ü–∏—ò–∞. –£ –æ–≤–æ–º —Å–ª—É—á–∞—ò—É –ª–∏—Å—Ç–∞ —õ–µ —Å–∞–¥—Ä–∂–∞—Ç–∏ —Å–∞–º–æ —Ç—Ä–∏–≥–µ—Ä.

```output
Deployment successful.
Remote build succeeded!
Syncing triggers...
Functions in soil-moisture-sensor:
    iot-hub-trigger - [eventHubTrigger]
```

–£–≤–µ—Ä–∏—Ç–µ —Å–µ –¥–∞ –≤–∞—à IoT —É—Ä–µ—í–∞—ò —Ä–∞–¥–∏. –ü—Ä–æ–º–µ–Ω–∏—Ç–µ –Ω–∏–≤–æ–µ –≤–ª–∞–≥–µ –ø–æ–¥–µ—à–∞–≤–∞—ö–µ–º –≤–ª–∞–≥–µ —É –∑–µ–º—ô–∏ –∏–ª–∏ –ø–æ–º–µ—Ä–∞—ö–µ–º —Å–µ–Ω–∑–æ—Ä–∞ —É –∑–µ–º—ô—É –∏ –≤–∞–Ω —ö–µ. –í–∏–¥–µ—õ–µ—Ç–µ –¥–∞ —Å–µ —Ä–µ–ª–µ—ò —É–∫—ô—É—á—É—ò–µ –∏ –∏—Å–∫—ô—É—á—É—ò–µ –∫–∞–∫–æ —Å–µ –Ω–∏–≤–æ –≤–ª–∞–≥–µ –º–µ—ö–∞.

---

## üöÄ –ò–∑–∞–∑–æ–≤

–£ –ø—Ä–µ—Ç—Ö–æ–¥–Ω–æ—ò –ª–µ–∫—Ü–∏—ò–∏, —É–ø—Ä–∞–≤—ô–∞–ª–∏ —Å—Ç–µ –≤—Ä–µ–º–µ–Ω–æ–º –∑–∞ —Ä–µ–ª–µ—ò —Ç–∞–∫–æ —à—Ç–æ —Å—Ç–µ —Å–µ –æ–¥—ò–∞–≤—ô–∏–≤–∞–ª–∏ —Å–∞ MQTT –ø–æ—Ä—É–∫–∞ –¥–æ–∫ —ò–µ —Ä–µ–ª–µ—ò –±–∏–æ —É–∫—ô—É—á–µ–Ω, –∏ –∫—Ä–∞—Ç–∫–æ –≤—Ä–µ–º–µ –Ω–∞–∫–æ–Ω —à—Ç–æ —ò–µ –∏—Å–∫—ô—É—á–µ–Ω. –û–≤–¥–µ –Ω–µ –º–æ–∂–µ—Ç–µ –∫–æ—Ä–∏—Å—Ç–∏—Ç–∏ –æ–≤–∞—ò –º–µ—Ç–æ–¥ - –Ω–µ –º–æ–∂–µ—Ç–µ —Å–µ –æ–¥—ò–∞–≤–∏—Ç–∏ —Å–∞ IoT Hub —Ç—Ä–∏–≥–µ—Ä–∞.

–†–∞–∑–º–∏—Å–ª–∏—Ç–µ –æ —Ä–∞–∑–ª–∏—á–∏—Ç–∏–º –Ω–∞—á–∏–Ω–∏–º–∞ –Ω–∞ –∫–æ—ò–µ –±–∏—Å—Ç–µ –º–æ–≥–ª–∏ –¥–∞ —Ä–µ—à–∏—Ç–µ –æ–≤–æ —É –≤–∞—à–æ—ò Functions App.

## –ö–≤–∏–∑ –Ω–∞–∫–æ–Ω –ø—Ä–µ–¥–∞–≤–∞—ö–∞

[–ö–≤–∏–∑ –Ω–∞–∫–æ–Ω –ø—Ä–µ–¥–∞–≤–∞—ö–∞](https://black-meadow-040d15503.1.azurestaticapps.net/quiz/18)

## –ü—Ä–µ–≥–ª–µ–¥ –∏ —Å–∞–º–æ—Å—Ç–∞–ª–Ω–æ —É—á–µ—ö–µ

* –ü—Ä–æ—á–∏—Ç–∞—ò—Ç–µ –≤–∏—à–µ –æ —Å–µ—Ä–≤–µ—Ä–ª–µ—Å —Ä–∞—á—É–Ω–∞—Ä—Å—Ç–≤—É –Ω–∞ [Serverless Computing —Å—Ç—Ä–∞–Ω–∏—Ü–∏ –Ω–∞ –í–∏–∫–∏–ø–µ–¥–∏—ò–∏](https://wikipedia.org/wiki/Serverless_computing)
* –ü—Ä–æ—á–∏—Ç–∞—ò—Ç–µ –æ –∫–æ—Ä–∏—à—õ–µ—ö—É —Å–µ—Ä–≤–µ—Ä–ª–µ—Å-–∞ —É Azure-—É, —É–∫—ô—É—á—É—ò—É—õ–∏ —ò–æ—à –Ω–µ–∫–µ –ø—Ä–∏–º–µ—Ä–µ, –Ω–∞ [Go serverless for your IoT needs Azure blog post](https://azure.microsoft.com/blog/go-serverless-for-your-iot-needs/?WT.mc_id=academic-17441-jabenn)
* –°–∞–∑–Ω–∞—ò—Ç–µ –≤–∏—à–µ –æ Azure Functions –Ω–∞ [Azure Functions YouTube –∫–∞–Ω–∞–ª—É](https://www.youtube.com/c/AzureFunctions)

## –ó–∞–¥–∞—Ç–∞–∫

[–î–æ–¥–∞—ò—Ç–µ —Ä—É—á–Ω—É –∫–æ–Ω—Ç—Ä–æ–ª—É —Ä–µ–ª–µ—ò–∞](assignment.md)

---

**–û–¥—Ä–∏—Ü–∞—ö–µ –æ–¥ –æ–¥–≥–æ–≤–æ—Ä–Ω–æ—Å—Ç–∏**:  
–û–≤–∞—ò –¥–æ–∫—É–º–µ–Ω—Ç —ò–µ –ø—Ä–µ–≤–µ–¥–µ–Ω –∫–æ—Ä–∏—à—õ–µ—ö–µ–º —É—Å–ª—É–≥–µ –∑–∞ –ø—Ä–µ–≤–æ—í–µ—ö–µ –ø–æ–º–æ—õ—É –≤–µ—à—Ç–∞—á–∫–µ –∏–Ω—Ç–µ–ª–∏–≥–µ–Ω—Ü–∏—ò–µ [Co-op Translator](https://github.com/Azure/co-op-translator). –ò–∞–∫–æ —Å–µ —Ç—Ä—É–¥–∏–º–æ –¥–∞ –æ–±–µ–∑–±–µ–¥–∏–º–æ —Ç–∞—á–Ω–æ—Å—Ç, –º–æ–ª–∏–º–æ –≤–∞—Å –¥–∞ –∏–º–∞—Ç–µ —É –≤–∏–¥—É –¥–∞ –∞—É—Ç–æ–º–∞—Ç—Å–∫–∏ –ø—Ä–µ–≤–æ–¥–∏ –º–æ–≥—É —Å–∞–¥—Ä–∂–∞—Ç–∏ –≥—Ä–µ—à–∫–µ –∏–ª–∏ –Ω–µ—Ç–∞—á–Ω–æ—Å—Ç–∏. –û—Ä–∏–≥–∏–Ω–∞–ª–Ω–∏ –¥–æ–∫—É–º–µ–Ω—Ç –Ω–∞ —ö–µ–≥–æ–≤–æ–º –∏–∑–≤–æ—Ä–Ω–æ–º —ò–µ–∑–∏–∫—É —Ç—Ä–µ–±–∞ —Å–º–∞—Ç—Ä–∞—Ç–∏ –∞—É—Ç–æ—Ä–∏—Ç–∞—Ç–∏–≤–Ω–∏–º –∏–∑–≤–æ—Ä–æ–º. –ó–∞ –∫—Ä–∏—Ç–∏—á–Ω–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—ò–µ –ø—Ä–µ–ø–æ—Ä—É—á—É—ò–µ —Å–µ –ø—Ä–æ—Ñ–µ—Å–∏–æ–Ω–∞–ª–Ω–∏ –ø—Ä–µ–≤–æ–¥ –æ–¥ —Å—Ç—Ä–∞–Ω–µ —ô—É–¥–∏. –ù–µ –ø—Ä–µ—É–∑–∏–º–∞–º–æ –æ–¥–≥–æ–≤–æ—Ä–Ω–æ—Å—Ç –∑–∞ –±–∏–ª–æ –∫–∞–∫–≤–∞ –ø–æ–≥—Ä–µ—à–Ω–∞ —Ç—É–º–∞—á–µ—ö–∞ –∏–ª–∏ –Ω–µ—Å–ø–æ—Ä–∞–∑—É–º–µ –∫–æ—ò–∏ –º–æ–≥—É –Ω–∞—Å—Ç–∞—Ç–∏ —É—Å–ª–µ–¥ –∫–æ—Ä–∏—à—õ–µ—ö–∞ –æ–≤–æ–≥ –ø—Ä–µ–≤–æ–¥–∞.