<!--
CO_OP_TRANSLATOR_METADATA:
{
  "original_hash": "160be8c0f558687f6686dca64f10f739",
  "translation_date": "2025-08-27T10:28:03+00:00",
  "source_file": "4-manufacturing/lessons/2-check-fruit-from-device/wio-terminal-camera.md",
  "language_code": "ne"
}
-->
# рддрд╕реНрдмрд┐рд░ рдЦрд┐рдЪреНрдиреБрд╣реЛрд╕реН - Wio Terminal

рдпрд╕ рдкрд╛рдардХреЛ рдпрд╕ рднрд╛рдЧрдорд╛, рддрдкрд╛рдИрдВ рдЖрдлреНрдиреЛ Wio Terminal рдорд╛ рдХреНрдпрд╛рдореЗрд░рд╛ рдердкреНрдиреБрд╣реБрдиреЗрдЫ рд░ рдпрд╕рдмрд╛рдЯ рддрд╕реНрдмрд┐рд░рд╣рд░реВ рдЦрд┐рдЪреНрдиреБрд╣реБрдиреЗрдЫред

## рд╣рд╛рд░реНрдбрд╡реЗрдпрд░

Wio Terminal рд▓рд╛рдИ рдХреНрдпрд╛рдореЗрд░рд╛ рдЪрд╛рд╣рд┐рдиреНрдЫред

рддрдкрд╛рдИрдВрд▓реЗ рдкреНрд░рдпреЛрдЧ рдЧрд░реНрдиреЗ рдХреНрдпрд╛рдореЗрд░рд╛ [ArduCam Mini 2MP Plus](https://www.arducam.com/product/arducam-2mp-spi-camera-b0067-arduino/) рд╣реЛред рдпреЛ реи рдореЗрдЧрд╛рдкрд┐рдХреНрд╕реЗрд▓ рдХреНрдпрд╛рдореЗрд░рд╛ рд╣реЛ рдЬреБрди OV2640 рдЗрдореЗрдЬ рд╕реЗрдиреНрд╕рд░рдорд╛ рдЖрдзрд╛рд░рд┐рдд рдЫред рдпрд╕рд▓реЗ SPI рдЗрдиреНрдЯрд░рдлреЗрд╕рдорд╛рд░реНрдлрдд рддрд╕реНрдмрд┐рд░рд╣рд░реВ рдЦрд┐рдЪреНрдЫ рд░ I2C рдорд╛рд░реНрдлрдд рд╕реЗрдиреНрд╕рд░рд▓рд╛рдИ рдХрдиреНрдлрд┐рдЧрд░ рдЧрд░реНрджрдЫред

## рдХреНрдпрд╛рдореЗрд░рд╛ рдЬрдбрд╛рди рдЧрд░реНрдиреБрд╣реЛрд╕реН

ArduCam рд╕рдБрдЧ Grove рд╕рдХреЗрдЯ рдЫреИрди, рдпрд╕рдХреЛ рд╕рдЯреНрдЯрд╛ рдпреЛ SPI рд░ I2C рдмрд╕рд╣рд░реВрд▓рд╛рдИ Wio Terminal рдХрд╛ GPIO рдкрд┐рдирд╣рд░реВ рдорд╛рд░реНрдлрдд рдЬрдбрд╛рди рдЧрд░реНрджрдЫред

### рдХрд╛рд░реНрдп - рдХреНрдпрд╛рдореЗрд░рд╛ рдЬрдбрд╛рди рдЧрд░реНрдиреБрд╣реЛрд╕реН

рдХреНрдпрд╛рдореЗрд░рд╛ рдЬрдбрд╛рди рдЧрд░реНрдиреБрд╣реЛрд╕реНред

![ArduCam рд╕реЗрдиреНрд╕рд░](../../../../../translated_images/arducam.20e4e4cbb268296570b5914e20d6c349fc42ddac9ed4e1b9deba2188204eebae.ne.png)

1. ArduCam рдХреЛ рдЖрдзрд╛рд░рдорд╛ рд░рд╣реЗрдХрд╛ рдкрд┐рдирд╣рд░реВ Wio Terminal рдХрд╛ GPIO рдкрд┐рдирд╣рд░реВрд╕рдБрдЧ рдЬрдбрд╛рди рдЧрд░реНрдиреБрдкрд░реНрдЫред рд╕рд╣реА рдкрд┐рдирд╣рд░реВ рдкрддреНрддрд╛ рд▓рдЧрд╛рдЙрди рд╕рдЬрд┐рд▓реЛ рдмрдирд╛рдЙрди, Wio Terminal рд╕рдБрдЧ рдЖрдЙрдиреЗ GPIO рдкрд┐рди рд╕реНрдЯрд┐рдХрд░рд▓рд╛рдИ рдкрд┐рдирд╣рд░реВрдХреЛ рд╡рд░рд┐рдкрд░рд┐ рдЯрд╛рдБрд╕реНрдиреБрд╣реЛрд╕реН:

    ![GPIO рдкрд┐рди рд╕реНрдЯрд┐рдХрд░ рднрдПрдХреЛ Wio Terminal](../../../../../translated_images/wio-terminal-pin-sticker.b90b1535937b84bd00d853f0004aea74fac2aec04b43f14b887796b2633f855e.ne.png)

1. рдЬрдореНрдкрд░ рддрд╛рд░рд╣рд░реВрдХреЛ рдкреНрд░рдпреЛрдЧ рдЧрд░реЗрд░, рдирд┐рдореНрди рдЬрдбрд╛рдирд╣рд░реВ рдЧрд░реНрдиреБрд╣реЛрд╕реН:

    | ArduCAM рдкрд┐рди | Wio Terminal рдкрд┐рди | рд╡рд┐рд╡рд░рдг                                  |
    | ----------- | ---------------- | --------------------------------------- |
    | CS          | 24 (SPI_CS)      | SPI рдЪрд┐рдк рдЪрдпрди                            |
    | MOSI        | 19 (SPI_MOSI)    | SPI рдХрдиреНрдЯреНрд░реЛрд▓рд░ рдЖрдЙрдЯрдкреБрдЯ, рдкреЗрд░рд┐рдлреЗрд░рд▓ рдЗрдирдкреБрдЯ  |
    | MISO        | 21 (SPI_MISO)    | SPI рдХрдиреНрдЯреНрд░реЛрд▓рд░ рдЗрдирдкреБрдЯ, рдкреЗрд░рд┐рдлреЗрд░рд▓ рдЖрдЙрдЯрдкреБрдЯ  |
    | SCK         | 23 (SPI_SCLK)    | SPI рд╕рд┐рд░рд┐рдпрд▓ рдХреНрд▓рдХ                        |
    | GND         | 6 (GND)          | рдЧреНрд░рд╛рдЙрдиреНрдб - 0V                          |
    | VCC         | 4 (5V)           | 5V рдкрд╛рд╡рд░ рд╕рдкреНрд▓рд╛рдИ                         |
    | SDA         | 3 (I2C1_SDA)     | I2C рд╕рд┐рд░рд┐рдпрд▓ рдбрд╛рдЯрд╛                        |
    | SCL         | 5 (I2C1_SCL)     | I2C рд╕рд┐рд░рд┐рдпрд▓ рдХреНрд▓рдХ                        |

    ![рдЬрдореНрдкрд░ рддрд╛рд░рд╣рд░реВрд╕рдБрдЧ Wio Terminal рд░ ArduCam рдЬрдбрд╛рди рдЧрд░рд┐рдПрдХреЛ](../../../../../translated_images/arducam-wio-terminal-connections.a4d5a4049bdb5ab800a2877389fc6ecf5e4ff307e6451ff56c517e6786467d0a.ne.png)

    GND рд░ VCC рдЬрдбрд╛рдирд╣рд░реВрд▓реЗ ArduCam рд▓рд╛рдИ 5V рдкрд╛рд╡рд░ рд╕рдкреНрд▓рд╛рдИ рдкреНрд░рджрд╛рди рдЧрд░реНрдЫред рдпреЛ 5V рдорд╛ рдЪрд▓реНрдЫ, рдЬрдмрдХрд┐ Grove рд╕реЗрдиреНрд╕рд░рд╣рд░реВ 3V рдорд╛ рдЪрд▓реНрдЫрдиреНред рдпреЛ рдкрд╛рд╡рд░ USB-C рдЬрдбрд╛рдирдмрд╛рдЯ рд╕рд┐рдзреИ рдЖрдЙрдБрдЫ рдЬрд╕рд▓реЗ рдЙрдкрдХрд░рдгрд▓рд╛рдИ рдкрд╛рд╡рд░ рджрд┐рдиреНрдЫред

    > ЁЯТБ SPI рдЬрдбрд╛рдирдХреЛ рд▓рд╛рдЧрд┐ ArduCam рд░ Wio Terminal рдкрд┐рди рдирд╛рдорд╣рд░реВ рдХреЛрдбрдорд╛ рдкреБрд░рд╛рдиреЛ рдирд╛рдордХрд░рдг рдкреНрд░рдгрд╛рд▓реА рдкреНрд░рдпреЛрдЧ рдЧрд░реНрдЫрдиреНред рдпрд╕ рдкрд╛рдардорд╛ рдирдпрд╛рдБ рдирд╛рдордХрд░рдг рдкреНрд░рдгрд╛рд▓реА рдкреНрд░рдпреЛрдЧ рдЧрд░рд┐рдиреЗрдЫ, рддрд░ рдХреЛрдбрдорд╛ рдкреНрд░рдпреЛрдЧ рдЧрд░рд┐рдПрдХрд╛ рдкрд┐рди рдирд╛рдорд╣рд░реВрдорд╛ рдкреБрд░рд╛рдиреЛ рдирд╛рдо рдиреИ рд░рд╣рдиреЗрдЫред

1. рдЕрдм рддрдкрд╛рдИрдВ Wio Terminal рд▓рд╛рдИ рдЖрдлреНрдиреЛ рдХрдореНрдкреНрдпреБрдЯрд░рд╕рдБрдЧ рдЬрдбрд╛рди рдЧрд░реНрди рд╕рдХреНрдиреБрд╣реБрдиреНрдЫред

## рдХреНрдпрд╛рдореЗрд░рд╛рд╕рдБрдЧ рдЬрдбрд╛рди рдЧрд░реНрди рдЙрдкрдХрд░рдгрд▓рд╛рдИ рдкреНрд░реЛрдЧреНрд░рд╛рдо рдЧрд░реНрдиреБрд╣реЛрд╕реН

рдЕрдм Wio Terminal рд▓рд╛рдИ рдЬрдбрд╛рди рдЧрд░рд┐рдПрдХреЛ ArduCAM рдХреНрдпрд╛рдореЗрд░рд╛ рдкреНрд░рдпреЛрдЧ рдЧрд░реНрди рдкреНрд░реЛрдЧреНрд░рд╛рдо рдЧрд░реНрди рд╕рдХрд┐рдиреНрдЫред

### рдХрд╛рд░реНрдп - рдХреНрдпрд╛рдореЗрд░рд╛рд╕рдБрдЧ рдЬрдбрд╛рди рдЧрд░реНрди рдЙрдкрдХрд░рдгрд▓рд╛рдИ рдкреНрд░реЛрдЧреНрд░рд╛рдо рдЧрд░реНрдиреБрд╣реЛрд╕реН

1. PlatformIO рдкреНрд░рдпреЛрдЧ рдЧрд░реЗрд░ рдирдпрд╛рдБ Wio Terminal рдкреНрд░реЛрдЬреЗрдХреНрдЯ рдмрдирд╛рдЙрдиреБрд╣реЛрд╕реНред рдпрд╕ рдкреНрд░реЛрдЬреЗрдХреНрдЯрд▓рд╛рдИ `fruit-quality-detector` рдирд╛рдо рджрд┐рдиреБрд╣реЛрд╕реНред `setup` рдлрдВрдХреНрд╢рдирдорд╛ рд╕рд┐рд░рд┐рдпрд▓ рдкреЛрд░реНрдЯ рдХрдиреНрдлрд┐рдЧрд░ рдЧрд░реНрди рдХреЛрдб рдердкреНрдиреБрд╣реЛрд╕реНред

1. WiFi рд╕рдБрдЧ рдЬрдбрд╛рди рдЧрд░реНрди рдХреЛрдб рдердкреНрдиреБрд╣реЛрд╕реН, рд░ рдЖрдлреНрдиреЛ WiFi рдкреНрд░рдорд╛рдгрдкрддреНрд░рд╣рд░реВ `config.h` рдирд╛рдордХ рдлрд╛рдЗрд▓рдорд╛ рд░рд╛рдЦреНрдиреБрд╣реЛрд╕реНред `platformio.ini` рдлрд╛рдЗрд▓рдорд╛ рдЖрд╡рд╢реНрдпрдХ рд▓рд╛рдЗрдмреНрд░реЗрд░реАрд╣рд░реВ рдердкреНрди рдирдмрд┐рд░реНрд╕рдиреБрд╣реЛрд╕реНред

1. ArduCam рд▓рд╛рдЗрдмреНрд░реЗрд░реА `platformio.ini` рдлрд╛рдЗрд▓рдмрд╛рдЯ рд╕рд┐рдзреИ рдЗрдиреНрд╕реНрдЯрд▓ рдЧрд░реНрди рдорд┐рд▓реНрджреИрдиред рдпрд╕рдХреЛ рд╕рдЯреНрдЯрд╛, рдпреЛ рд▓рд╛рдЗрдмреНрд░реЗрд░реА рдЙрдиреАрд╣рд░реВрдХреЛ GitHub рдкреЗрдЬрдмрд╛рдЯ рд╕реНрд░реЛрддрдмрд╛рдЯ рдЗрдиреНрд╕реНрдЯрд▓ рдЧрд░реНрдиреБрдкрд░реНрдЫред рддрдкрд╛рдИрдВ рдпрд╕рд▓рд╛рдИ рдирд┐рдореНрди рддрд░рд┐рдХрд╛рд╣рд░реВрдмрд╛рдЯ рдкреНрд░рд╛рдкреНрдд рдЧрд░реНрди рд╕рдХреНрдиреБрд╣реБрдиреНрдЫ:

    * [https://github.com/ArduCAM/Arduino.git](https://github.com/ArduCAM/Arduino.git) рдмрд╛рдЯ рд░рд┐рдкреЛрдЬрд┐рдЯрд░реА рдХреНрд▓реЛрди рдЧрд░реНрдиреБрд╣реЛрд╕реНред
    * GitHub рдорд╛ [github.com/ArduCAM/Arduino](https://github.com/ArduCAM/Arduino) рдорд╛ рдЧрдПрд░ **Code** рдмрдЯрдирдмрд╛рдЯ рдХреЛрдбрд▓рд╛рдИ zip рдлрд╛рдЗрд▓рдХреЛ рд░реВрдкрдорд╛ рдбрд╛рдЙрдирд▓реЛрдб рдЧрд░реНрдиреБрд╣реЛрд╕реНред

1. рддрдкрд╛рдИрдВрд▓рд╛рдИ рдХреЗрд╡рд▓ `ArduCAM` рдлреЛрд▓реНрдбрд░ рдЪрд╛рд╣рд┐рдиреНрдЫред рдпреЛ рдлреЛрд▓реНрдбрд░рд▓рд╛рдИ рддрдкрд╛рдИрдВрдХреЛ рдкреНрд░реЛрдЬреЗрдХреНрдЯрдХреЛ `lib` рдлреЛрд▓реНрдбрд░рдорд╛ рдкреВрд░реНрдг рд░реВрдкрдорд╛ рдХрдкреА рдЧрд░реНрдиреБрд╣реЛрд╕реНред

    > тЪая╕П рдкреВрд░рд╛ рдлреЛрд▓реНрдбрд░ рдХрдкреА рдЧрд░реНрдиреБрдкрд░реНрдЫ, рддрд╛рдХрд┐ рдХреЛрдб `lib/ArduCam` рдорд╛ рд╣реЛрд╕реНред `ArduCam` рдлреЛрд▓реНрдбрд░рдХреЛ рд╕рд╛рдордЧреНрд░реАрд▓рд╛рдИ рдорд╛рддреНрд░ `lib` рдлреЛрд▓реНрдбрд░рдорд╛ рдХрдкреА рдирдЧрд░реНрдиреБрд╣реЛрд╕реН, рдкреВрд░реИ рдлреЛрд▓реНрдбрд░ рдХрдкреА рдЧрд░реНрдиреБрд╣реЛрд╕реНред

1. ArduCam рд▓рд╛рдЗрдмреНрд░реЗрд░реА рдХреЛрдб рдзреЗрд░реИ рдкреНрд░рдХрд╛рд░рдХрд╛ рдХреНрдпрд╛рдореЗрд░рд╛рд╣рд░реВрдХрд╛ рд▓рд╛рдЧрд┐ рдХрд╛рдо рдЧрд░реНрдЫред рддрдкрд╛рдИрдВрд▓реЗ рдкреНрд░рдпреЛрдЧ рдЧрд░реНрди рдЪрд╛рд╣реЗрдХреЛ рдХреНрдпрд╛рдореЗрд░рд╛рдХреЛ рдкреНрд░рдХрд╛рд░ рдХрдореНрдкрд╛рдЗрд▓рд░ рдлреНрд▓реНрдпрд╛рдЧрд╣рд░реВ рдкреНрд░рдпреЛрдЧ рдЧрд░реЗрд░ рдХрдиреНрдлрд┐рдЧрд░ рдЧрд░рд┐рдиреНрдЫ - рдпрд╕рд▓реЗ рдкреНрд░рдпреЛрдЧ рдирдЧрд░рд┐рдПрдХрд╛ рдХреНрдпрд╛рдореЗрд░рд╛рд╣рд░реВрдХреЛ рдХреЛрдб рд╣рдЯрд╛рдПрд░ рд▓рд╛рдЗрдмреНрд░реЗрд░реАрд▓рд╛рдИ рд╕рд╛рдиреЛ рдмрдирд╛рдЙрдБрдЫред OV2640 рдХреНрдпрд╛рдореЗрд░рд╛рдХрд╛ рд▓рд╛рдЧрд┐ рд▓рд╛рдЗрдмреНрд░реЗрд░реА рдХрдиреНрдлрд┐рдЧрд░ рдЧрд░реНрди, `platformio.ini` рдлрд╛рдЗрд▓рдХреЛ рдЕрдиреНрддреНрдпрдорд╛ рдирд┐рдореНрди рдердкреНрдиреБрд╣реЛрд╕реН:

    ```ini
    build_flags =
        -DARDUCAM_SHIELD_V2
        -DOV2640_CAM
    ```

    рдпрд╕рд▓реЗ реи рдХрдореНрдкрд╛рдЗрд▓рд░ рдлреНрд▓реНрдпрд╛рдЧрд╣рд░реВ рд╕реЗрдЯ рдЧрд░реНрдЫ:

      * `ARDUCAM_SHIELD_V2` рд▓рд╛рдЗрдмреНрд░реЗрд░реАрд▓рд╛рдИ рдХреНрдпрд╛рдореЗрд░рд╛ Arduino рдмреЛрд░реНрдбрдорд╛ рдЫ рднрдиреЗрд░ рдмрддрд╛рдЙрдиред
      * `OV2640_CAM` рд▓рд╛рдЗрдмреНрд░реЗрд░реАрд▓рд╛рдИ рдХреЗрд╡рд▓ OV2640 рдХреНрдпрд╛рдореЗрд░рд╛рдХреЛ рдХреЛрдб рд╕рдорд╛рд╡реЗрд╢ рдЧрд░реНрди рдмрддрд╛рдЙрдиред

1. `src` рдлреЛрд▓реНрдбрд░рдорд╛ `camera.h` рдирд╛рдордХ рд╣реЗрдбрд░ рдлрд╛рдЗрд▓ рдердкреНрдиреБрд╣реЛрд╕реНред рдпрд╕рдорд╛ рдХреНрдпрд╛рдореЗрд░рд╛рд╕рдБрдЧ рд╕рдВрд╡рд╛рдж рдЧрд░реНрди рдХреЛрдб рд╣реБрдиреЗрдЫред рдпрд╕ рдлрд╛рдЗрд▓рдорд╛ рдирд┐рдореНрди рдХреЛрдб рдердкреНрдиреБрд╣реЛрд╕реН:

    ```cpp
    #pragma once
    
    #include <ArduCAM.h>
    #include <Wire.h>
    
    class Camera
    {
    public:
        Camera(int format, int image_size) : _arducam(OV2640, PIN_SPI_SS)
        {
            _format = format;
            _image_size = image_size;
        }
    
        bool init()
        {
            // Reset the CPLD
            _arducam.write_reg(0x07, 0x80);
            delay(100);
    
            _arducam.write_reg(0x07, 0x00);
            delay(100);
    
            // Check if the ArduCAM SPI bus is OK
            _arducam.write_reg(ARDUCHIP_TEST1, 0x55);
            if (_arducam.read_reg(ARDUCHIP_TEST1) != 0x55)
            {
                return false;
            }
                
            // Change MCU mode
            _arducam.set_mode(MCU2LCD_MODE);
    
            uint8_t vid, pid;
    
            // Check if the camera module type is OV2640
            _arducam.wrSensorReg8_8(0xff, 0x01);
            _arducam.rdSensorReg8_8(OV2640_CHIPID_HIGH, &vid);
            _arducam.rdSensorReg8_8(OV2640_CHIPID_LOW, &pid);
            if ((vid != 0x26) && ((pid != 0x41) || (pid != 0x42)))
            {
                return false;
            }
            
            _arducam.set_format(_format);
            _arducam.InitCAM();
            _arducam.OV2640_set_JPEG_size(_image_size);
            _arducam.OV2640_set_Light_Mode(Auto);
            _arducam.OV2640_set_Special_effects(Normal);
            delay(1000);
    
            return true;
        }
    
        void startCapture()
        {
            _arducam.flush_fifo();
            _arducam.clear_fifo_flag();
            _arducam.start_capture();
        }
    
        bool captureReady()
        {
            return _arducam.get_bit(ARDUCHIP_TRIG, CAP_DONE_MASK);
        }
    
        bool readImageToBuffer(byte **buffer, uint32_t &buffer_length)
        {
            if (!captureReady()) return false;
    
            // Get the image file length
            uint32_t length = _arducam.read_fifo_length();
            buffer_length = length;
    
            if (length >= MAX_FIFO_SIZE)
            {
                return false;
            }
            if (length == 0)
            {
                return false;
            }
    
            // create the buffer
            byte *buf = new byte[length];
    
            uint8_t temp = 0, temp_last = 0;
            int i = 0;
            uint32_t buffer_pos = 0;
            bool is_header = false;
    
            _arducam.CS_LOW();
            _arducam.set_fifo_burst();
            
            while (length--)
            {
                temp_last = temp;
                temp = SPI.transfer(0x00);
                //Read JPEG data from FIFO
                if ((temp == 0xD9) && (temp_last == 0xFF)) //If find the end ,break while,
                {
                    buf[buffer_pos] = temp;
    
                    buffer_pos++;
                    i++;
                    
                    _arducam.CS_HIGH();
                }
                if (is_header == true)
                {
                    //Write image data to buffer if not full
                    if (i < 256)
                    {
                        buf[buffer_pos] = temp;
                        buffer_pos++;
                        i++;
                    }
                    else
                    {
                        _arducam.CS_HIGH();
    
                        i = 0;
                        buf[buffer_pos] = temp;
    
                        buffer_pos++;
                        i++;
    
                        _arducam.CS_LOW();
                        _arducam.set_fifo_burst();
                    }
                }
                else if ((temp == 0xD8) & (temp_last == 0xFF))
                {
                    is_header = true;
    
                    buf[buffer_pos] = temp_last;
                    buffer_pos++;
                    i++;
    
                    buf[buffer_pos] = temp;
                    buffer_pos++;
                    i++;
                }
            }
            
            _arducam.clear_fifo_flag();
    
            _arducam.set_format(_format);
            _arducam.InitCAM();
            _arducam.OV2640_set_JPEG_size(_image_size);
    
            // return the buffer
            *buffer = buf;
        }
    
    private:
        ArduCAM _arducam;
        int _format;
        int _image_size;
    };
    ```

    рдпреЛ рдХрдо-рд╕реНрддрд░реАрдп рдХреЛрдб рд╣реЛ рдЬрд╕рд▓реЗ ArduCam рд▓рд╛рдЗрдмреНрд░реЗрд░реАрд╣рд░реВ рдкреНрд░рдпреЛрдЧ рдЧрд░реЗрд░ рдХреНрдпрд╛рдореЗрд░рд╛рд▓рд╛рдИ рдХрдиреНрдлрд┐рдЧрд░ рдЧрд░реНрдЫ рд░ рдЖрд╡рд╢реНрдпрдХ рдкрд░реНрджрд╛ SPI рдмрд╕ рдкреНрд░рдпреЛрдЧ рдЧрд░реЗрд░ рддрд╕реНрдмрд┐рд░рд╣рд░реВ рдирд┐рдХрд╛рд▓реНрдЫред рдпреЛ рдХреЛрдб ArduCam рдХрд╛ рд▓рд╛рдЧрд┐ рдзреЗрд░реИ рд╡рд┐рд╢рд┐рд╖реНрдЯ рдЫ, рддреНрдпрд╕реИрд▓реЗ рддрдкрд╛рдИрдВрд▓рд╛рдИ рдпрд╕рдмрд╛рд░реЗ рдЕрд╣рд┐рд▓реЗ рдЪрд┐рдиреНрддрд╛ рд▓рд┐рдиреБ рдкрд░реНрджреИрдиред

1. `main.cpp` рдорд╛, рдЕрдиреНрдп `include` рдХрдердирд╣рд░реВ рдореБрдирд┐ рдпреЛ рдирдпрд╛рдБ рдлрд╛рдЗрд▓ рд╕рдорд╛рд╡реЗрд╢ рдЧрд░реНрди рд░ рдХреНрдпрд╛рдореЗрд░рд╛ рдХреНрд▓рд╛рд╕рдХреЛ рдЙрджрд╛рд╣рд░рдг рд╕рд┐рд░реНрдЬрдирд╛ рдЧрд░реНрди рдирд┐рдореНрди рдХреЛрдб рдердкреНрдиреБрд╣реЛрд╕реН:

    ```cpp
    #include "camera.h"

    Camera camera = Camera(JPEG, OV2640_640x480);
    ```

    рдпрд╕рд▓реЗ JPEG рдлрд░реНрдореНрдпрд╛рдЯрдорд╛ 640x480 рд░рд┐рдЬреЛрд▓реНрдпреБрд╕рдирдорд╛ рддрд╕реНрдмрд┐рд░рд╣рд░реВ рдмрдЪрдд рдЧрд░реНрдиреЗ `Camera` рд╕рд┐рд░реНрдЬрдирд╛ рдЧрд░реНрдЫред рдпрджреНрдпрдкрд┐ рдЙрдЪреНрдЪ рд░рд┐рдЬреЛрд▓реНрдпреБрд╕рдирд╣рд░реВ рд╕рдорд░реНрдерд┐рдд рдЫрдиреН (3280x2464 рд╕рдореНрдо), рдЗрдореЗрдЬ рдХреНрд▓рд╛рд╕рд┐рдлрд╛рдпрд░рд▓реЗ рдзреЗрд░реИ рд╕рд╛рдирд╛ рддрд╕реНрдмрд┐рд░рд╣рд░реВ (227x227) рдорд╛ рдХрд╛рдо рдЧрд░реНрдЫ, рддреНрдпрд╕реИрд▓реЗ рдареВрд▓реЛ рддрд╕реНрдмрд┐рд░рд╣рд░реВ рдЦрд┐рдЪреНрди рд░ рдкрдард╛рдЙрди рдЖрд╡рд╢реНрдпрдХ рдЫреИрдиред

1. рдХреНрдпрд╛рдореЗрд░рд╛ рд╕реЗрдЯрдЕрдк рдЧрд░реНрди рдлрдВрдХреНрд╢рди рдкрд░рд┐рднрд╛рд╖рд┐рдд рдЧрд░реНрди рдирд┐рдореНрди рдХреЛрдб рдердкреНрдиреБрд╣реЛрд╕реН:

    ```cpp
    void setupCamera()
    {
        pinMode(PIN_SPI_SS, OUTPUT);
        digitalWrite(PIN_SPI_SS, HIGH);
    
        Wire.begin();
        SPI.begin();
    
        if (!camera.init())
        {
            Serial.println("Error setting up the camera!");
        }
    }
    ```

    рдпреЛ `setupCamera` рдлрдВрдХреНрд╢рдирд▓реЗ SPI рдЪрд┐рдк рдЪрдпрди рдкрд┐рди (`PIN_SPI_SS`) рд▓рд╛рдИ рдЙрдЪреНрдЪ рд░реВрдкрдорд╛ рдХрдиреНрдлрд┐рдЧрд░ рдЧрд░реЗрд░ рд╕реБрд░реБ рдЧрд░реНрдЫ, рдЬрд╕рд▓реЗ Wio Terminal рд▓рд╛рдИ SPI рдХрдиреНрдЯреНрд░реЛрд▓рд░ рдмрдирд╛рдЙрдБрдЫред рддреНрдпрд╕рдкрдЫрд┐ рдпреЛ I2C рд░ SPI рдмрд╕рд╣рд░реВ рд╕реБрд░реБ рдЧрд░реНрдЫред рдЕрдиреНрддрдорд╛, рдпреЛ рдХреНрдпрд╛рдореЗрд░рд╛ рдХреНрд▓рд╛рд╕рд▓рд╛рдИ рдЗрдирд┐рд╕рд┐рдпрд▓рд╛рдЗрдЬ рдЧрд░реНрдЫ, рдЬрд╕рд▓реЗ рдХреНрдпрд╛рдореЗрд░рд╛ рд╕реЗрдиреНрд╕рд░ рд╕реЗрдЯрд┐рдЩрд╣рд░реВ рдХрдиреНрдлрд┐рдЧрд░ рдЧрд░реНрдЫ рд░ рд╕рдмреИ рдХреБрд░рд╛ рд╕рд╣реА рд░реВрдкрдорд╛ рдЬрдбрд╛рди рднрдПрдХреЛ рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдЧрд░реНрдЫред

1. `setup` рдлрдВрдХреНрд╢рдирдХреЛ рдЕрдиреНрддреНрдпрдорд╛ рдпреЛ рдлрдВрдХреНрд╢рдирд▓рд╛рдИ рдХрд▓ рдЧрд░реНрдиреБрд╣реЛрд╕реН:

    ```cpp
    setupCamera();
    ```

1. рдпреЛ рдХреЛрдб рдирд┐рд░реНрдорд╛рдг рд░ рдЕрдкрд▓реЛрдб рдЧрд░реНрдиреБрд╣реЛрд╕реН, рд░ рд╕рд┐рд░рд┐рдпрд▓ рдордирд┐рдЯрд░рдмрд╛рдЯ рдЖрдЙрдЯрдкреБрдЯ рдЬрд╛рдБрдЪ рдЧрд░реНрдиреБрд╣реЛрд╕реНред рдпрджрд┐ рддрдкрд╛рдИрдВрд▓реЗ `Error setting up the camera!` рджреЗрдЦреНрдиреБрднрдпреЛ рднрдиреЗ, рддрд╛рд░рд╣рд░реВ рд╕рд╣реА рдкрд┐рдирд╣рд░реВрдорд╛ рдЬрдбрд╛рди рднрдПрдХреЛ рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдЧрд░реНрди рдЬрд╛рдБрдЪ рдЧрд░реНрдиреБрд╣реЛрд╕реН, рд░ рд╕рдмреИ рдЬрдореНрдкрд░ рддрд╛рд░рд╣рд░реВ рд╕рд╣реА рд░реВрдкрдорд╛ рдЬрдбрд╛рди рднрдПрдХреЛ рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдЧрд░реНрдиреБрд╣реЛрд╕реНред

## рддрд╕реНрдмрд┐рд░ рдЦрд┐рдЪреНрдиреБрд╣реЛрд╕реН

рдЕрдм Wio Terminal рд▓рд╛рдИ рдмрдЯрди рдерд┐рдЪреНрджрд╛ рддрд╕реНрдмрд┐рд░ рдЦрд┐рдЪреНрди рдкреНрд░реЛрдЧреНрд░рд╛рдо рдЧрд░реНрди рд╕рдХрд┐рдиреНрдЫред

### рдХрд╛рд░реНрдп - рддрд╕реНрдмрд┐рд░ рдЦрд┐рдЪреНрдиреБрд╣реЛрд╕реН

1. рдорд╛рдЗрдХреНрд░реЛрдХрдиреНрдЯреНрд░реЛрд▓рд░рд╣рд░реВрд▓реЗ рддрдкрд╛рдИрдВрдХреЛ рдХреЛрдб рдирд┐рд░рдиреНрддрд░ рдЪрд▓рд╛рдЙрдБрдЫрдиреН, рддреНрдпрд╕реИрд▓реЗ рддрд╕реНрдмрд┐рд░ рдЦрд┐рдЪреНрдиреЗ рдЬрд╕реНрддреЛ рдХрд╛рд░реНрдп рдЯреНрд░рд┐рдЧрд░ рдЧрд░реНрди рд╕реЗрдиреНрд╕рд░рдХреЛ рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛ рдЖрд╡рд╢реНрдпрдХ рдкрд░реНрдЫред Wio Terminal рд╕рдБрдЧ рдмрдЯрдирд╣рд░реВ рдЫрдиреН, рддреНрдпрд╕реИрд▓реЗ рдХреНрдпрд╛рдореЗрд░рд╛рд▓рд╛рдИ рдпреА рдмрдЯрдирд╣рд░реВрдордзреНрдпреЗ рдПрдХрд▓реЗ рдЯреНрд░рд┐рдЧрд░ рдЧрд░реНрди рд╕рдХрд┐рдиреНрдЫред `setup` рдлрдВрдХреНрд╢рдирдХреЛ рдЕрдиреНрддреНрдпрдорд╛ рдирд┐рдореНрди рдХреЛрдб рдердкреНрдиреБрд╣реЛрд╕реН:

    ![рдкрд╛рд╡рд░ рд╕реНрд╡рд┐рдЪ рдирдЬрд┐рдХрдХреЛ C рдмрдЯрди](../../../../../translated_images/wio-terminal-c-button.73df3cb1c1445ea07ee98316af0e7925fcb43135df0abed58d3d4822b2589c3b.ne.png)

    ```cpp
    pinMode(WIO_KEY_C, INPUT_PULLUP);
    ```

    `INPUT_PULLUP` рдореЛрдбрд▓реЗ рдЗрдирдкреБрдЯрд▓рд╛рдИ рдЙрд▓реНрдЯреЛ рдмрдирд╛рдЙрдБрдЫред рдЙрджрд╛рд╣рд░рдгрдХрд╛ рд▓рд╛рдЧрд┐, рд╕рд╛рдорд╛рдиреНрдпрддрдпрд╛ рдмрдЯрдирд▓реЗ рдерд┐рдЪрд┐рдПрдХреЛ рдЫреИрди рднрдиреЗ рдХрдо рд╕рд┐рдЧреНрдирд▓ рдкрдард╛рдЙрдБрдЫ, рд░ рдерд┐рдЪрд┐рдПрдХреЛ рдЫ рднрдиреЗ рдЙрдЪреНрдЪ рд╕рд┐рдЧреНрдирд▓ рдкрдард╛рдЙрдБрдЫред `INPUT_PULLUP` рдорд╛ рд╕реЗрдЯ рдЧрд░реНрджрд╛, рдмрдЯрдирд▓реЗ рдерд┐рдЪрд┐рдПрдХреЛ рдЫреИрди рднрдиреЗ рдЙрдЪреНрдЪ рд╕рд┐рдЧреНрдирд▓ рдкрдард╛рдЙрдБрдЫ, рд░ рдерд┐рдЪрд┐рдПрдХреЛ рдЫ рднрдиреЗ рдХрдо рд╕рд┐рдЧреНрдирд▓ рдкрдард╛рдЙрдБрдЫред

1. рдмрдЯрди рдерд┐рдЪреНрджрд╛ рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛ рджрд┐рди рдЦрд╛рд▓реА рдлрдВрдХреНрд╢рди `loop` рдлрдВрдХреНрд╢рдирднрдиреНрджрд╛ рдЕрдШрд┐ рдердкреНрдиреБрд╣реЛрд╕реН:

    ```cpp
    void buttonPressed()
    {
        
    }
    ```

1. `loop` рдлрдВрдХреНрд╢рдирдорд╛ рдмрдЯрди рдерд┐рдЪреНрджрд╛ рдпреЛ рдлрдВрдХреНрд╢рди рдХрд▓ рдЧрд░реНрдиреБрд╣реЛрд╕реН:

    ```cpp
    void loop()
    {
        if (digitalRead(WIO_KEY_C) == LOW)
        {
            buttonPressed();
            delay(2000);
        }
    
        delay(200);
    }
    ```

    рдпреЛ рдХреЛрдбрд▓реЗ рдмрдЯрди рдерд┐рдЪрд┐рдПрдХреЛ рдЫ рдХрд┐ рдЫреИрди рдЬрд╛рдБрдЪреНрдЫред рдпрджрд┐ рдерд┐рдЪрд┐рдПрдХреЛ рдЫ рднрдиреЗ, `buttonPressed` рдлрдВрдХреНрд╢рди рдХрд▓ рд╣реБрдиреНрдЫ, рд░ рд▓реВрдк реи рд╕реЗрдХреЗрдиреНрдбрдХреЛ рд▓рд╛рдЧрд┐ рд░реЛрдХреНрдЫред рдпреЛ рд▓рд╛рдореЛ рдкреНрд░реЗрд╕рд▓рд╛рдИ рджреБрдИ рдкрдЯрдХ рджрд░реНрддрд╛ рд╣реБрдирдмрд╛рдЯ рд░реЛрдХреНрдирдХреЛ рд▓рд╛рдЧрд┐ рд╣реЛред

    > ЁЯТБ Wio Terminal рдорд╛ рдмрдЯрди `INPUT_PULLUP` рдорд╛ рд╕реЗрдЯ рдЧрд░рд┐рдПрдХреЛ рдЫ, рддреНрдпрд╕реИрд▓реЗ рдерд┐рдЪрд┐рдПрдХреЛ рдЫреИрди рднрдиреЗ рдЙрдЪреНрдЪ рд╕рд┐рдЧреНрдирд▓ рдкрдард╛рдЙрдБрдЫ, рд░ рдерд┐рдЪрд┐рдПрдХреЛ рдЫ рднрдиреЗ рдХрдо рд╕рд┐рдЧреНрдирд▓ рдкрдард╛рдЙрдБрдЫред

1. `buttonPressed` рдлрдВрдХреНрд╢рдирдорд╛ рдирд┐рдореНрди рдХреЛрдб рдердкреНрдиреБрд╣реЛрд╕реН:

    ```cpp
    camera.startCapture();
 
    while (!camera.captureReady())
        delay(100);

    Serial.println("Image captured");

    byte *buffer;
    uint32_t length;

    if (camera.readImageToBuffer(&buffer, length))
    {
        Serial.print("Image read to buffer with length ");
        Serial.println(length);

        delete(buffer);
    }
    ```

    рдпреЛ рдХреЛрдбрд▓реЗ `startCapture` рдХрд▓ рдЧрд░реЗрд░ рдХреНрдпрд╛рдореЗрд░рд╛ рдХреНрдпрд╛рдкреНрдЪрд░ рд╕реБрд░реБ рдЧрд░реНрдЫред рдХреНрдпрд╛рдореЗрд░рд╛ рд╣рд╛рд░реНрдбрд╡реЗрдпрд░рд▓реЗ рддрдкрд╛рдИрдВрд▓реЗ рдЕрдиреБрд░реЛрдз рдЧрд░реНрджрд╛ рдбрд╛рдЯрд╛ рдлрд░реНрдХрд╛рдЙрдБрджреИрди, рдпрд╕рдХреЛ рд╕рдЯреНрдЯрд╛ рддрдкрд╛рдИрдВрд▓реЗ рдХреНрдпрд╛рдкреНрдЪрд░ рд╕реБрд░реБ рдЧрд░реНрди рдирд┐рд░реНрджреЗрд╢рди рджрд┐рдиреБрдкрд░реНрдЫ, рд░ рдХреНрдпрд╛рдореЗрд░рд╛ рдкреГрд╖реНрдарднреВрдорд┐рдорд╛ рдХрд╛рдо рдЧрд░реЗрд░ рддрд╕реНрдмрд┐рд░ рдЦрд┐рдЪреНрдЫ, рдпрд╕рд▓рд╛рдИ JPEG рдорд╛ рд░реВрдкрд╛рдиреНрддрд░рдг рдЧрд░реНрдЫ, рд░ рдХреНрдпрд╛рдореЗрд░рд╛рдХреЛ рд╕реНрдерд╛рдиреАрдп рдмрдлрд░рдорд╛ рднрдгреНрдбрд╛рд░рдг рдЧрд░реНрдЫред `captureReady` рдХрд▓рд▓реЗ рддрд╕реНрдмрд┐рд░ рдХреНрдпрд╛рдкреНрдЪрд░ рд╕рдорд╛рдкреНрдд рднрдПрдХреЛ рдЫ рдХрд┐ рдЫреИрди рдЬрд╛рдБрдЪреНрдЫред

    рдХреНрдпрд╛рдкреНрдЪрд░ рд╕рдорд╛рдкреНрдд рднрдПрдкрдЫрд┐, `readImageToBuffer` рдХрд▓рд▓реЗ рдХреНрдпрд╛рдореЗрд░рд╛рдХреЛ рдмрдлрд░рдмрд╛рдЯ рд╕реНрдерд╛рдиреАрдп рдмрдлрд░ (рдмрд╛рдЗрдЯрд╣рд░реВрдХреЛ рдПрд░реЗ) рдорд╛ рддрд╕реНрдмрд┐рд░ рдбрд╛рдЯрд╛ рдкреНрд░рддрд┐рд▓рд┐рдкрд┐ рдЧрд░реНрдЫред рдмрдлрд░рдХреЛ рд▓рдореНрдмрд╛рдЗ рддреНрдпрд╕рдкрдЫрд┐ рд╕рд┐рд░рд┐рдпрд▓ рдордирд┐рдЯрд░рдорд╛ рдкрдард╛рдЗрдиреНрдЫред

1. рдпреЛ рдХреЛрдб рдирд┐рд░реНрдорд╛рдг рд░ рдЕрдкрд▓реЛрдб рдЧрд░реНрдиреБрд╣реЛрд╕реН, рд░ рд╕рд┐рд░рд┐рдпрд▓ рдордирд┐рдЯрд░рдорд╛ рдЖрдЙрдЯрдкреБрдЯ рдЬрд╛рдБрдЪ рдЧрд░реНрдиреБрд╣реЛрд╕реНред рд╣рд░реЗрдХ рдкрдЯрдХ рддрдкрд╛рдИрдВрд▓реЗ C рдмрдЯрди рдерд┐рдЪреНрджрд╛, рддрд╕реНрдмрд┐рд░ рдЦрд┐рдЪрд┐рдиреЗрдЫ рд░ рддрд╕реНрдмрд┐рд░рдХреЛ рдЖрдХрд╛рд░ рд╕рд┐рд░рд┐рдпрд▓ рдордирд┐рдЯрд░рдорд╛ рджреЗрдЦрд┐рдиреЗрдЫред

    ```output
    Connecting to WiFi..
    Connected!
    Image captured
    Image read to buffer with length 9224
    Image captured
    Image read to buffer with length 11272
    ```

    рдлрд░рдХ рддрд╕реНрдмрд┐рд░рд╣рд░реВрдХреЛ рдлрд░рдХ рдЖрдХрд╛рд░ рд╣реБрдиреЗрдЫред рддрд┐рдиреАрд╣рд░реВ JPEG рд░реВрдкрдорд╛ рдХрдореНрдкреНрд░реЗрд╕ рдЧрд░рд┐рдПрдХрд╛ рдЫрдиреН, рд░ рдирд┐рд╢реНрдЪрд┐рдд рд░рд┐рдЬреЛрд▓реНрдпреБрд╕рдирдХреЛ JPEG рдлрд╛рдЗрд▓рдХреЛ рдЖрдХрд╛рд░ рддрд╕реНрдмрд┐рд░рдорд╛ рдХреЗ рдЫ рднрдиреНрдиреЗрдорд╛ рдирд┐рд░реНрднрд░ рдЧрд░реНрджрдЫред

> ЁЯТБ рддрдкрд╛рдИрдВ рдпреЛ рдХреЛрдб [code-camera/wio-terminal](../../../../../4-manufacturing/lessons/2-check-fruit-from-device/code-camera/wio-terminal) рдлреЛрд▓реНрдбрд░рдорд╛ рдлреЗрд▓рд╛ рдкрд╛рд░реНрди рд╕рдХреНрдиреБрд╣реБрдиреНрдЫред

ЁЯША рддрдкрд╛рдИрдВрд▓реЗ Wio Terminal рдкреНрд░рдпреЛрдЧ рдЧрд░реЗрд░ рд╕рдлрд▓рддрд╛рдкреВрд░реНрд╡рдХ рддрд╕реНрдмрд┐рд░ рдЦрд┐рдЪреНрдиреБрднрдпреЛред

## рд╡реИрдХрд▓реНрдкрд┐рдХ - рдХреНрдпрд╛рдореЗрд░рд╛ рддрд╕реНрдмрд┐рд░рд╣рд░реВ SD рдХрд╛рд░реНрдб рдкреНрд░рдпреЛрдЧ рдЧрд░реЗрд░ рдкреНрд░рдорд╛рдгрд┐рдд рдЧрд░реНрдиреБрд╣реЛрд╕реН

рдХреНрдпрд╛рдореЗрд░рд╛рд▓реЗ рдЦрд┐рдЪреЗрдХрд╛ рддрд╕реНрдмрд┐рд░рд╣рд░реВ рд╣реЗрд░реНрдирдХреЛ рд╕рдмреИрднрдиреНрджрд╛ рд╕рдЬрд┐рд▓реЛ рддрд░рд┐рдХрд╛ рднрдиреЗрдХреЛ рддрд┐рдиреАрд╣рд░реВрд▓рд╛рдИ Wio Terminal рдорд╛ SD рдХрд╛рд░реНрдбрдорд╛ рд▓реЗрдЦреНрдиреБ рд░ рддреНрдпрд╕рдкрдЫрд┐ рдЖрдлреНрдиреЛ рдХрдореНрдкреНрдпреБрдЯрд░рдорд╛ рд╣реЗрд░реНрдиреБ рд╣реЛред рдпрджрд┐ рддрдкрд╛рдИрдВрд╕рдБрдЧ рдЕрддрд┐рд░рд┐рдХреНрдд рдорд╛рдЗрдХреНрд░реЛSD рдХрд╛рд░реНрдб рд░ рдЖрдлреНрдиреЛ рдХрдореНрдкреНрдпреБрдЯрд░рдорд╛ рдорд╛рдЗрдХреНрд░реЛSD рдХрд╛рд░реНрдб рд╕рдХреЗрдЯ рд╡рд╛ рдПрдбрд╛рдкреНрдЯрд░ рдЫ рднрдиреЗ рдпреЛ рдЪрд░рдг рдЧрд░реНрдиреБрд╣реЛрд╕реНред

Wio Terminal рд▓реЗ 16GB рд╕рдореНрдордХрд╛ рдорд╛рдЗрдХреНрд░реЛSD рдХрд╛рд░реНрдбрд╣рд░реВ рдорд╛рддреНрд░ рд╕рдорд░реНрдерди рдЧрд░реНрджрдЫред рдпрджрд┐ рддрдкрд╛рдИрдВрд╕рдБрдЧ рдареВрд▓реЛ SD рдХрд╛рд░реНрдб рдЫ рднрдиреЗ рдпреЛ рдХрд╛рдо рдЧрд░реНрдиреЗрдЫреИрдиред

### рдХрд╛рд░реНрдп - SD рдХрд╛рд░реНрдб рдкреНрд░рдпреЛрдЧ рдЧрд░реЗрд░ рдХреНрдпрд╛рдореЗрд░рд╛ рддрд╕реНрдмрд┐рд░рд╣рд░реВ рдкреНрд░рдорд╛рдгрд┐рдд рдЧрд░реНрдиреБрд╣реЛрд╕реН

1. рдЖрдлреНрдиреЛ рдХрдореНрдкреНрдпреБрдЯрд░рдорд╛ рд╕рдореНрдмрдиреНрдзрд┐рдд рдПрдкреНрд▓рд┐рдХреЗрд╕рдирд╣рд░реВ (macOS рдорд╛ Disk Utility, Windows рдорд╛ File Explorer, рд╡рд╛ Linux рдорд╛ рдХрдорд╛рдгреНрдб рд▓рд╛рдЗрди рдЙрдкрдХрд░рдгрд╣рд░реВ) рдкреНрд░рдпреЛрдЧ рдЧрд░реЗрд░ рдорд╛рдЗрдХреНрд░реЛSD рдХрд╛рд░реНрдбрд▓рд╛рдИ FAT32 рд╡рд╛ exFAT рдорд╛ рдлрд░реНрдореНрдпрд╛рдЯ рдЧрд░реНрдиреБрд╣реЛрд╕реНред

1. рдорд╛рдЗрдХреНрд░реЛSD рдХрд╛рд░реНрдбрд▓рд╛рдИ рдкрд╛рд╡рд░ рд╕реНрд╡рд┐рдЪрдХреЛ рдареАрдХ рддрд▓ рд░рд╣реЗрдХреЛ рд╕рдХреЗрдЯрдорд╛ рд░рд╛рдЦреНрдиреБрд╣реЛрд╕реНред рдпреЛ рдХреНрд▓рд┐рдХ рдЧрд░реЗрд░ рдард╛рдЙрдБрдорд╛ рд░рд╣рдиреНрдЫ рднрдиреНрдиреЗ рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдЧрд░реНрдирдХрд╛ рд▓рд╛рдЧрд┐ рдпрд╕рд▓рд╛рдИ рдкреВрд░реНрдг рд░реВрдкрдорд╛ рднрд┐рддреНрд░ рдзрдХреЗрд▓реНрдиреБрд╣реЛрд╕реНред рддрдкрд╛рдИрдВрд▓рд╛рдИ рдпрд╕рд▓рд╛рдИ рдзрдХреЗрд▓реНрди рдирдЩ рд╡рд╛ рдкрд╛рддрд▓реЛ рдЙрдкрдХрд░рдгрдХреЛ рдЖрд╡рд╢реНрдпрдХрддрд╛ рдкрд░реНрди рд╕рдХреНрдЫред

1. `main.cpp` рдлрд╛рдЗрд▓рдХреЛ рд╢реАрд░реНрд╖рдорд╛ рдирд┐рдореНрди `include` рдХрдердирд╣рд░реВ рдердкреНрдиреБрд╣реЛрд╕реН:

    ```cpp
    #include "SD/Seeed_SD.h"
    #include <Seeed_FS.h>
    ```

1. `setup` рдлрдВрдХреНрд╢рдирднрдиреНрджрд╛ рдЕрдШрд┐ рдирд┐рдореНрди рдлрдВрдХреНрд╢рди рдердкреНрдиреБрд╣реЛрд╕реН:

    ```cpp
    void setupSDCard()
    {
        while (!SD.begin(SDCARD_SS_PIN, SDCARD_SPI))
        {
            Serial.println("SD Card Error");
        }
    }
    ```

    рдпрд╕рд▓реЗ SPI рдмрд╕ рдкреНрд░рдпреЛрдЧ рдЧрд░реЗрд░ SD рдХрд╛рд░реНрдбрд▓рд╛рдИ рдХрдиреНрдлрд┐рдЧрд░ рдЧрд░реНрдЫред

1. `setup` рдлрдВрдХреНрд╢рдирдмрд╛рдЯ рдпрд╕рд▓рд╛рдИ рдХрд▓ рдЧрд░реНрдиреБрд╣реЛрд╕реН:

    ```cpp
    setupSDCard();
    ```

1. `buttonPressed` рдлрдВрдХреНрд╢рдирднрдиреНрджрд╛ рдорд╛рдерд┐ рдирд┐рдореНрди рдХреЛрдб рдердкреНрдиреБрд╣реЛрд╕реН:

    ```cpp
    int fileNum = 1;

    void saveToSDCard(byte *buffer, uint32_t length)
    {
        char buff[16];
        sprintf(buff, "%d.jpg", fileNum);
        fileNum++;
    
        File outFile = SD.open(buff, FILE_WRITE );
        outFile.write(buffer, length);
        outFile.close();

        Serial.print("Image written to file ");
        Serial.println(buff);
    }
    ```

    рдпрд╕рд▓реЗ рдлрд╛рдЗрд▓ рдЧрдгрдирд╛рдХреЛ рд▓рд╛рдЧрд┐ рдЧреНрд▓реЛрдмрд▓ рднреЗрд░рд┐рдПрдмрд▓ рдкрд░рд┐рднрд╛рд╖рд┐рдд рдЧрд░реНрдЫред рдпреЛ рддрд╕реНрдмрд┐рд░ рдлрд╛рдЗрд▓ рдирд╛рдорд╣рд░реВрдХреЛ рд▓рд╛рдЧрд┐ рдкреНрд░рдпреЛрдЧ рдЧрд░рд┐рдиреНрдЫ рддрд╛рдХрд┐ рдзреЗрд░реИ рддрд╕реНрдмрд┐рд░рд╣рд░реВ рдХреНрд░рдорд┐рдХ рдлрд╛рдЗрд▓ рдирд╛рдорд╣рд░реВрд╕рдБрдЧ рдЦрд┐рдЪреНрди рд╕рдХрд┐рдиреНрдЫ - `1.jpg`, `2.jpg` рдЖрджрд┐ред

    рддреНрдпрд╕рдкрдЫрд┐ `saveToSDCard` рдлрдВрдХреНрд╢рди рдкрд░рд┐рднрд╛рд╖рд┐рдд рдЧрд░реНрдЫ, рдЬрд╕рд▓реЗ рдмрдлрд░рдХреЛ рдмрд╛рдЗрдЯ рдбрд╛рдЯрд╛ рд░ рдмрдлрд░рдХреЛ рд▓рдореНрдмрд╛рдЗ рд▓рд┐рдиреНрдЫред рдлрд╛рдЗрд▓ рдЧрдгрдирд╛рдХреЛ рдкреНрд░рдпреЛрдЧ рдЧрд░реЗрд░ рдлрд╛рдЗрд▓ рдирд╛рдо рд╕рд┐рд░реНрдЬрдирд╛ рдЧрд░рд┐рдиреНрдЫ, рд░ рдЕрд░реНрдХреЛ рдлрд╛рдЗрд▓рдХреЛ рд▓рд╛рдЧрд┐ рдлрд╛рдЗрд▓ рдЧрдгрдирд╛ рдмрдврд╛рдЗрдиреНрдЫред рдмрдлрд░рдмрд╛рдЯ рдмрд╛рдЗрдирд░реА рдбрд╛рдЯрд╛ рдлрд╛рдЗрд▓рдорд╛ рд▓реЗрдЦрд┐рдиреНрдЫред

1. `buttonPressed` рдлрдВрдХреНрд╢рдирдмрд╛рдЯ `saveToSDCard` рдлрдВрдХреНрд╢рдирд▓рд╛рдИ рдХрд▓ рдЧрд░реНрдиреБрд╣реЛрд╕реНред рдпреЛ рдХрд▓ рдмрдлрд░ рдореЗрдЯрд╛рдЙрдиреБ рдЕрдШрд┐ рд╣реБрдиреБрдкрд░реНрдЫ:

    ```cpp
    Serial.print("Image read to buffer with length ");
    Serial.println(length);

    saveToSDCard(buffer, length);
    
    delete(buffer);
    ```

1. рдпреЛ рдХреЛрдб рдирд┐рд░реНрдорд╛рдг рд░ рдЕрдкрд▓реЛрдб рдЧрд░реНрдиреБрд╣реЛрд╕реН, рд░ рд╕рд┐рд░рд┐рдпрд▓ рдордирд┐рдЯрд░рдорд╛ рдЖрдЙрдЯрдкреБрдЯ рдЬрд╛рдБрдЪ рдЧрд░реНрдиреБрд╣реЛрд╕реНред рд╣рд░реЗрдХ рдкрдЯрдХ рддрдкрд╛рдИрдВрд▓реЗ C рдмрдЯрди рдерд┐рдЪреНрджрд╛, рддрд╕реНрдмрд┐рд░ рдЦрд┐рдЪрд┐рдиреЗрдЫ рд░ SD рдХрд╛рд░реНрдбрдорд╛ рдмрдЪрдд рд╣реБрдиреЗрдЫред

    ```output
    Connecting to WiFi..
    Connected!
    Image captured
    Image read to buffer with length 16392
    Image written to file 1.jpg
    Image captured
    Image read to buffer with length 14344
    Image written to file 2.jpg
    ```

1. рдорд╛рдЗрдХреНрд░реЛSD рдХрд╛рд░реНрдбрд▓рд╛рдИ рдкрд╛рд╡рд░ рдЕрдл рдЧрд░реНрдиреБрд╣реЛрд╕реН рд░ рдпрд╕рд▓рд╛рдИ рд╣рд▓реНрдХрд╛ рдзрдХреЗрд▓реНрджреИ рд░ рдЫреЛрдбреЗрд░ рдмрд╛рд╣рд┐рд░ рдирд┐рдХрд╛рд▓реНрдиреБрд╣реЛрд╕реНред рдпрд╕рд▓реЗ рдмрд╛рд╣рд┐рд░ рдирд┐рд╕реНрдХрдиреЗрдЫред рддрдкрд╛рдИрдВрд▓рд╛рдИ рдпрд╕рд▓рд╛рдИ рдирд┐рдХрд╛рд▓реНрди рдкрд╛рддрд▓реЛ рдЙрдкрдХрд░рдгрдХреЛ рдЖрд╡рд╢реНрдпрдХрддрд╛ рдкрд░реНрди рд╕рдХреНрдЫред рдорд╛рдЗрдХреНрд░реЛSD рдХрд╛рд░реНрдбрд▓рд╛рдИ рдЖрдлреНрдиреЛ рдХрдореНрдкреНрдпреБрдЯрд░рдорд╛ рдкреНрд▓рдЧ рдЧрд░реЗрд░ рддрд╕реНрдмрд┐рд░рд╣рд░реВ рд╣реЗрд░реНрдиреБрд╣реЛрд╕реНред

    ![ArduCam рдкреНрд░рдпреЛрдЧ рдЧрд░реЗрд░ рдЦрд┐рдЪрд┐рдПрдХреЛ рдХреЗрд░рд╛](../../../../../translated_images/banana-arducam.be1b32d4267a8194b0fd042362e56faa431da9cd4af172051b37243ea9be0256.ne.jpg)
ЁЯТБ рдХреНрдпрд╛рдореЗрд░рд╛рдХреЛ рд╕реЗрддреЛ рд╕рдиреНрддреБрд▓рди рд╕рдорд╛рдпреЛрдЬрди рдЧрд░реНрди рдХреЗрд╣реА рддрд╕реНрд╡реАрд░рд╣рд░реВ рд▓рд╛рдЧреНрди рд╕рдХреНрдЫред рддрдкрд╛рдИрдВрд▓реЗ рдпреЛ рд╕рдорд╛рдпреЛрдЬрди рддрд╕реНрд╡реАрд░рд╣рд░реВрдХреЛ рд░рдВрдЧрдХреЛ рдЖрдзрд╛рд░рдорд╛ рджреЗрдЦреНрди рд╕рдХреНрдиреБрд╣реБрдиреНрдЫ, рдкрд╣рд┐рд▓реЛ рдХреЗрд╣реА рддрд╕реНрд╡реАрд░рд╣рд░реВ рд░рдВрдЧрдорд╛ рдлрд░рдХ рджреЗрдЦрд┐рди рд╕рдХреНрдЫред рддрдкрд╛рдИрдВрд▓реЗ рд╕рдзреИрдВ рдпрд╕рд▓рд╛рдИ рд╕рдорд╛рдпреЛрдЬрди рдЧрд░реНрди рдХреЛрдб рдкрд░рд┐рд╡рд░реНрддрди рдЧрд░реЗрд░ `setup` рдлрдЩреНрд╕рдирдорд╛ рдХреЗрд╣реА рддрд╕реНрд╡реАрд░рд╣рд░реВ рдХреИрдж рдЧрд░реНрди рд╕рдХреНрдиреБрд╣реБрдиреНрдЫ рдЬреБрди рдмреЗрд╡рд╛рд╕реНрддрд╛ рдЧрд░рд┐рдиреНрдЫред


---

**рдЕрд╕реНрд╡реАрдХрд░рдг**:  
рдпреЛ рджрд╕реНрддрд╛рд╡реЗрдЬрд╝ AI рдЕрдиреБрд╡рд╛рдж рд╕реЗрд╡рд╛ [Co-op Translator](https://github.com/Azure/co-op-translator) рдкреНрд░рдпреЛрдЧ рдЧрд░реЗрд░ рдЕрдиреБрд╡рд╛рдж рдЧрд░рд┐рдПрдХреЛ рдЫред рд╣рд╛рдореА рд╢реБрджреНрдзрддрд╛рдХреЛ рд▓рд╛рдЧрд┐ рдкреНрд░рдпрд╛рд╕ рдЧрд░реНрдЫреМрдВ, рддрд░ рдХреГрдкрдпрд╛ рдзреНрдпрд╛рди рджрд┐рдиреБрд╣реЛрд╕реН рдХрд┐ рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рдЕрдиреБрд╡рд╛рджрд╣рд░реВрдорд╛ рддреНрд░реБрдЯрд┐ рд╡рд╛ рдЕрд╢реБрджреНрдзрддрд╛ рд╣реБрди рд╕рдХреНрдЫред рдпрд╕рдХреЛ рдореВрд▓ рднрд╛рд╖рд╛ рдорд╛ рд░рд╣реЗрдХреЛ рдореВрд▓ рджрд╕реНрддрд╛рд╡реЗрдЬрд╝рд▓рд╛рдИ рдЖрдзрд┐рдХрд╛рд░рд┐рдХ рд╕реНрд░реЛрдд рдорд╛рдирд┐рдиреБрдкрд░реНрдЫред рдорд╣рддреНрд╡рдкреВрд░реНрдг рдЬрд╛рдирдХрд╛рд░реАрдХреЛ рд▓рд╛рдЧрд┐, рд╡реНрдпрд╛рд╡рд╕рд╛рдпрд┐рдХ рдорд╛рдирд╡ рдЕрдиреБрд╡рд╛рдж рд╕рд┐рдлрд╛рд░рд┐рд╕ рдЧрд░рд┐рдиреНрдЫред рдпрд╕ рдЕрдиреБрд╡рд╛рджрдХреЛ рдкреНрд░рдпреЛрдЧрдмрд╛рдЯ рдЙрддреНрдкрдиреНрди рд╣реБрдиреЗ рдХреБрдиреИ рдкрдирд┐ рдЧрд▓рддрдлрд╣рдореА рд╡рд╛ рдЧрд▓рдд рд╡реНрдпрд╛рдЦреНрдпрд╛рдХреЛ рд▓рд╛рдЧрд┐ рд╣рд╛рдореА рдЬрд┐рдореНрдореЗрд╡рд╛рд░ рд╣реБрдиреЗ рдЫреИрдиреМрдВред