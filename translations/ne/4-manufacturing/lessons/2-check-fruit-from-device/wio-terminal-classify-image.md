<!--
CO_OP_TRANSLATOR_METADATA:
{
  "original_hash": "32a1f23e7834fbe7715da8c4ebb450b9",
  "translation_date": "2025-08-27T10:24:22+00:00",
  "source_file": "4-manufacturing/lessons/2-check-fruit-from-device/wio-terminal-classify-image.md",
  "language_code": "ne"
}
-->
# рдХреНрдпрд╛рдореЗрд░рд╛рдмрд╛рдЯ рд▓рд┐рдЗрдПрдХреЛ рддрд╕реНрдмрд┐рд░ рд╡рд░реНрдЧреАрдХрд░рдг рдЧрд░реНрдиреБрд╣реЛрд╕реН - Wio Terminal

рдпрд╕ рдкрд╛рдардХреЛ рдпрд╕ рднрд╛рдЧрдорд╛, рддрдкрд╛рдИрдВ рдХреНрдпрд╛рдореЗрд░рд╛рд▓реЗ рд▓рд┐рдПрдХреЛ рддрд╕реНрдмрд┐рд░рд▓рд╛рдИ Custom Vision рд╕реЗрд╡рд╛рдорд╛ рдкрдард╛рдПрд░ рд╡рд░реНрдЧреАрдХрд░рдг рдЧрд░реНрдиреБрд╣реБрдиреЗрдЫред

## рддрд╕реНрдмрд┐рд░ рд╡рд░реНрдЧреАрдХрд░рдг рдЧрд░реНрдиреБрд╣реЛрд╕реН

Custom Vision рд╕реЗрд╡рд╛рдорд╛ REST API рдЫ, рдЬрд╕рд▓рд╛рдИ Wio Terminal рдмрд╛рдЯ рддрд╕реНрдмрд┐рд░ рд╡рд░реНрдЧреАрдХрд░рдг рдЧрд░реНрди рдХрд▓ рдЧрд░реНрди рд╕рдХрд┐рдиреНрдЫред рдпреЛ REST API HTTPS рдХрдиреЗрдХреНрд╢рдирдорд╛рд░реНрдлрдд рдкрд╣реБрдБрдЪ рдЧрд░рд┐рдиреНрдЫ - рд╕реБрд░рдХреНрд╖рд┐рдд HTTP рдХрдиреЗрдХреНрд╢рдиред

HTTPS рдЕрдиреНрддрд░реНрдХреНрд░рд┐рдпрд╛рдорд╛, рдХреНрд▓рд╛рдЗрдиреНрдЯ рдХреЛрдбрд▓реЗ рдкрд╣реБрдБрдЪ рдЧрд░рд┐рд░рд╣реЗрдХреЛ рд╕рд░реНрднрд░рдмрд╛рдЯ рд╕рд╛рд░реНрд╡рдЬрдирд┐рдХ рдХрд┐рдЬ рд╕рд░реНрдЯрд┐рдлрд┐рдХреЗрдЯ рдЕрдиреБрд░реЛрдз рдЧрд░реНрдиреБрдкрд░реНрдЫ, рд░ рддреНрдпрд╕рд▓рд╛рдИ рдкреНрд░рдпреЛрдЧ рдЧрд░реЗрд░ рдкрдард╛рдЗрдПрдХреЛ рдЯреНрд░рд╛рдлрд┐рдХрд▓рд╛рдИ рдЗрдиреНрдХреНрд░рд┐рдкреНрдЯ рдЧрд░реНрдиреБрдкрд░реНрдЫред рддрдкрд╛рдИрдВрдХреЛ рд╡реЗрдм рдмреНрд░рд╛рдЙрдЬрд░рд▓реЗ рдпреЛ рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рд░реВрдкрдорд╛ рдЧрд░реНрдЫ, рддрд░ рдорд╛рдЗрдХреНрд░реЛрдХрдиреНрдЯреНрд░реЛрд▓рд░рд▓реЗ рдЧрд░реНрджреИрдиред рддрдкрд╛рдИрдВрд▓реЗ рдпреЛ рд╕рд░реНрдЯрд┐рдлрд┐рдХреЗрдЯ рдореНрдпрд╛рдиреБрдЕрд▓реА рдЕрдиреБрд░реЛрдз рдЧрд░реНрдиреБрдкрд░реНрдЫ рд░ рдпрд╕рд▓рд╛рдИ REST API рд╕рдБрдЧ рд╕реБрд░рдХреНрд╖рд┐рдд рдХрдиреЗрдХреНрд╢рди рдмрдирд╛рдЙрди рдкреНрд░рдпреЛрдЧ рдЧрд░реНрдиреБрдкрд░реНрдЫред рдпреА рд╕рд░реНрдЯрд┐рдлрд┐рдХреЗрдЯрд╣рд░реВ рдкрд░рд┐рд╡рд░реНрддрди рд╣реБрдБрджреИрдирдиреН, рддреНрдпрд╕реИрд▓реЗ рдПрдХрдкрдЯрдХ рддрдкрд╛рдИрдВрд▓реЗ рд╕рд░реНрдЯрд┐рдлрд┐рдХреЗрдЯ рдкреНрд░рд╛рдкреНрдд рдЧрд░реЗрдкрдЫрд┐, рдпрд╕рд▓рд╛рдИ рддрдкрд╛рдИрдВрдХреЛ рдПрдкреНрд▓рд┐рдХреЗрд╕рдирдорд╛ рд╣рд╛рд░реНрдб рдХреЛрдб рдЧрд░реНрди рд╕рдХрд┐рдиреНрдЫред

рдпреА рд╕рд░реНрдЯрд┐рдлрд┐рдХреЗрдЯрд╣рд░реВрдорд╛ рд╕рд╛рд░реНрд╡рдЬрдирд┐рдХ рдХрд┐рдЬрд╣рд░реВ рд╣реБрдиреНрдЫрдиреН, рд░ рд╕реБрд░рдХреНрд╖рд┐рдд рд░рд╛рдЦреНрди рдЖрд╡рд╢реНрдпрдХ рдЫреИрдиред рддрдкрд╛рдИрдВрд▓реЗ рдпрд╕рд▓рд╛рдИ рдЖрдлреНрдиреЛ рд╕реЛрд░реНрд╕ рдХреЛрдбрдорд╛ рдкреНрд░рдпреЛрдЧ рдЧрд░реНрди рд╕рдХреНрдиреБрд╣реБрдиреНрдЫ рд░ GitHub рдЬрд╕реНрддрд╛ рд╕рд╛рд░реНрд╡рдЬрдирд┐рдХ рд╕реНрдерд╛рдирд╣рд░реВрдорд╛ рд╕рд╛рдЭрд╛ рдЧрд░реНрди рд╕рдХреНрдиреБрд╣реБрдиреНрдЫред

### рдХрд╛рд░реНрдп - SSL рдХреНрд▓рд╛рдЗрдиреНрдЯ рд╕реЗрдЯрдЕрдк рдЧрд░реНрдиреБрд╣реЛрд╕реН

1. рдпрджрд┐ `fruit-quality-detector` рдПрдк рдкреНрд░реЛрдЬреЗрдХреНрдЯ рдЦреБрд▓рд╛ рдЫреИрди рднрдиреЗ рдпрд╕рд▓рд╛рдИ рдЦреЛрд▓реНрдиреБрд╣реЛрд╕реНред

1. `config.h` рд╣реЗрдбрд░ рдлрд╛рдЗрд▓ рдЦреЛрд▓реНрдиреБрд╣реЛрд╕реН, рд░ рдирд┐рдореНрди рдердкреНрдиреБрд╣реЛрд╕реН:

    ```cpp
    const char *CERTIFICATE =
        "-----BEGIN CERTIFICATE-----\r\n"
        "MIIF8zCCBNugAwIBAgIQAueRcfuAIek/4tmDg0xQwDANBgkqhkiG9w0BAQwFADBh\r\n"
        "MQswCQYDVQQGEwJVUzEVMBMGA1UEChMMRGlnaUNlcnQgSW5jMRkwFwYDVQQLExB3\r\n"
        "d3cuZGlnaWNlcnQuY29tMSAwHgYDVQQDExdEaWdpQ2VydCBHbG9iYWwgUm9vdCBH\r\n"
        "MjAeFw0yMDA3MjkxMjMwMDBaFw0yNDA2MjcyMzU5NTlaMFkxCzAJBgNVBAYTAlVT\r\n"
        "MR4wHAYDVQQKExVNaWNyb3NvZnQgQ29ycG9yYXRpb24xKjAoBgNVBAMTIU1pY3Jv\r\n"
        "c29mdCBBenVyZSBUTFMgSXNzdWluZyBDQSAwNjCCAiIwDQYJKoZIhvcNAQEBBQAD\r\n"
        "ggIPADCCAgoCggIBALVGARl56bx3KBUSGuPc4H5uoNFkFH4e7pvTCxRi4j/+z+Xb\r\n"
        "wjEz+5CipDOqjx9/jWjskL5dk7PaQkzItidsAAnDCW1leZBOIi68Lff1bjTeZgMY\r\n"
        "iwdRd3Y39b/lcGpiuP2d23W95YHkMMT8IlWosYIX0f4kYb62rphyfnAjYb/4Od99\r\n"
        "ThnhlAxGtfvSbXcBVIKCYfZgqRvV+5lReUnd1aNjRYVzPOoifgSx2fRyy1+pO1Uz\r\n"
        "aMMNnIOE71bVYW0A1hr19w7kOb0KkJXoALTDDj1ukUEDqQuBfBxReL5mXiu1O7WG\r\n"
        "0vltg0VZ/SZzctBsdBlx1BkmWYBW261KZgBivrql5ELTKKd8qgtHcLQA5fl6JB0Q\r\n"
        "gs5XDaWehN86Gps5JW8ArjGtjcWAIP+X8CQaWfaCnuRm6Bk/03PQWhgdi84qwA0s\r\n"
        "sRfFJwHUPTNSnE8EiGVk2frt0u8PG1pwSQsFuNJfcYIHEv1vOzP7uEOuDydsmCjh\r\n"
        "lxuoK2n5/2aVR3BMTu+p4+gl8alXoBycyLmj3J/PUgqD8SL5fTCUegGsdia/Sa60\r\n"
        "N2oV7vQ17wjMN+LXa2rjj/b4ZlZgXVojDmAjDwIRdDUujQu0RVsJqFLMzSIHpp2C\r\n"
        "Zp7mIoLrySay2YYBu7SiNwL95X6He2kS8eefBBHjzwW/9FxGqry57i71c2cDAgMB\r\n"
        "AAGjggGtMIIBqTAdBgNVHQ4EFgQU1cFnOsKjnfR3UltZEjgp5lVou6UwHwYDVR0j\r\n"
        "BBgwFoAUTiJUIBiV5uNu5g/6+rkS7QYXjzkwDgYDVR0PAQH/BAQDAgGGMB0GA1Ud\r\n"
        "JQQWMBQGCCsGAQUFBwMBBggrBgEFBQcDAjASBgNVHRMBAf8ECDAGAQH/AgEAMHYG\r\n"
        "CCsGAQUFBwEBBGowaDAkBggrBgEFBQcwAYYYaHR0cDovL29jc3AuZGlnaWNlcnQu\r\n"
        "Y29tMEAGCCsGAQUFBzAChjRodHRwOi8vY2FjZXJ0cy5kaWdpY2VydC5jb20vRGln\r\n"
        "aUNlcnRHbG9iYWxSb290RzIuY3J0MHsGA1UdHwR0MHIwN6A1oDOGMWh0dHA6Ly9j\r\n"
        "cmwzLmRpZ2ljZXJ0LmNvbS9EaWdpQ2VydEdsb2JhbFJvb3RHMi5jcmwwN6A1oDOG\r\n"
        "MWh0dHA6Ly9jcmw0LmRpZ2ljZXJ0LmNvbS9EaWdpQ2VydEdsb2JhbFJvb3RHMi5j\r\n"
        "cmwwHQYDVR0gBBYwFDAIBgZngQwBAgEwCAYGZ4EMAQICMBAGCSsGAQQBgjcVAQQD\r\n"
        "AgEAMA0GCSqGSIb3DQEBDAUAA4IBAQB2oWc93fB8esci/8esixj++N22meiGDjgF\r\n"
        "+rA2LUK5IOQOgcUSTGKSqF9lYfAxPjrqPjDCUPHCURv+26ad5P/BYtXtbmtxJWu+\r\n"
        "cS5BhMDPPeG3oPZwXRHBJFAkY4O4AF7RIAAUW6EzDflUoDHKv83zOiPfYGcpHc9s\r\n"
        "kxAInCedk7QSgXvMARjjOqdakor21DTmNIUotxo8kHv5hwRlGhBJwps6fEVi1Bt0\r\n"
        "trpM/3wYxlr473WSPUFZPgP1j519kLpWOJ8z09wxay+Br29irPcBYv0GMXlHqThy\r\n"
        "8y4m/HyTQeI2IMvMrQnwqPpY+rLIXyviI2vLoI+4xKE4Rn38ZZ8m\r\n"
        "-----END CERTIFICATE-----\r\n";
    ```

    рдпреЛ *Microsoft Azure DigiCert Global Root G2 certificate* рд╣реЛ - рдпреЛ рдзреЗрд░реИ Azure рд╕реЗрд╡рд╛рд╣рд░реВрд▓реЗ рд╡рд┐рд╢реНрд╡рд╡реНрдпрд╛рдкреА рд░реВрдкрдорд╛ рдкреНрд░рдпреЛрдЧ рдЧрд░реНрдиреЗ рд╕рд░реНрдЯрд┐рдлрд┐рдХреЗрдЯ рд╣реЛред

    > ЁЯТБ рдпреЛ рд╕рд░реНрдЯрд┐рдлрд┐рдХреЗрдЯ рдкреНрд░рдпреЛрдЧ рдЧрд░реНрдиреБрдкрд░реНрдиреЗ рд╣реЛ рднрдиреЗрд░ рд╣реЗрд░реНрдирдХрд╛ рд▓рд╛рдЧрд┐, macOS рд╡рд╛ Linux рдорд╛ рдирд┐рдореНрди рдХрдорд╛рдгреНрдб рдЪрд▓рд╛рдЙрдиреБрд╣реЛрд╕реНред рдпрджрд┐ рддрдкрд╛рдИрдВ Windows рдкреНрд░рдпреЛрдЧ рдЧрд░реНрджреИ рд╣реБрдиреБрд╣реБрдиреНрдЫ рднрдиреЗ, рддрдкрд╛рдИрдВ рдпреЛ рдХрдорд╛рдгреНрдб [Windows Subsystem for Linux (WSL)](https://docs.microsoft.com/windows/wsl/?WT.mc_id=academic-17441-jabenn) рдкреНрд░рдпреЛрдЧ рдЧрд░реЗрд░ рдЪрд▓рд╛рдЙрди рд╕рдХреНрдиреБрд╣реБрдиреНрдЫ:
    >
    > ```sh
    > openssl s_client -showcerts -verify 5 -connect api.cognitive.microsoft.com:443
    > ```
    >
    > рдЖрдЙрдЯрдкреБрдЯрд▓реЗ DigiCert Global Root G2 рд╕рд░реНрдЯрд┐рдлрд┐рдХреЗрдЯ рд╕реВрдЪреАрдмрджреНрдз рдЧрд░реНрдиреЗрдЫред

1. `main.cpp` рдЦреЛрд▓реНрдиреБрд╣реЛрд╕реН рд░ рдирд┐рдореНрди рдЗрдирдХреНрд▓реБрдб рдбрд╛рдЗрд░реЗрдХреНрдЯрд┐рдн рдердкреНрдиреБрд╣реЛрд╕реН:

    ```cpp
    #include <WiFiClientSecure.h>
    ```

1. рдЗрдирдХреНрд▓реБрдб рдбрд╛рдЗрд░реЗрдХреНрдЯрд┐рднрд╣рд░реВ рддрд▓, `WifiClientSecure` рдХреЛ рдПрдХ рдЗрдиреНрд╕реНрдЯреНрдпрд╛рдиреНрд╕ рдШреЛрд╖рдгрд╛ рдЧрд░реНрдиреБрд╣реЛрд╕реН:

    ```cpp
    WiFiClientSecure client;
    ```

    рдпреЛ рдХреНрд▓рд╛рд╕рдорд╛ HTTPS рдорд╛рд░реНрдлрдд рд╡реЗрдм рдЕрдиреНрддрд░реНрдХреНрд░рд┐рдпрд╛рд╕рдБрдЧ рд╕рдВрд╡рд╛рдж рдЧрд░реНрди рдХреЛрдб рд╣реБрдиреНрдЫред

1. `connectWiFi` рдореЗрдердбрдорд╛, WiFiClientSecure рд▓рд╛рдИ DigiCert Global Root G2 рд╕рд░реНрдЯрд┐рдлрд┐рдХреЗрдЯ рдкреНрд░рдпреЛрдЧ рдЧрд░реНрди рд╕реЗрдЯ рдЧрд░реНрдиреБрд╣реЛрд╕реН:

    ```cpp
    client.setCACert(CERTIFICATE);
    ```

### рдХрд╛рд░реНрдп - рддрд╕реНрдмрд┐рд░ рд╡рд░реНрдЧреАрдХрд░рдг рдЧрд░реНрдиреБрд╣реЛрд╕реН

1. `platformio.ini` рдлрд╛рдЗрд▓рдХреЛ `lib_deps` рд╕реВрдЪреАрдорд╛ рдирд┐рдореНрди рдердкреНрдиреБрд╣реЛрд╕реН:

    ```ini
    bblanchon/ArduinoJson @ 6.17.3
    ```

    рдпрд╕рд▓реЗ [ArduinoJson](https://arduinojson.org), рдПрдХ Arduino JSON рд▓рд╛рдЗрдмреНрд░реЗрд░реА рдЖрдпрд╛рдд рдЧрд░реНрдЫ, рд░ REST API рдмрд╛рдЯ JSON рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛ рдбрд┐рдХреЛрдб рдЧрд░реНрди рдкреНрд░рдпреЛрдЧ рдЧрд░рд┐рдиреЗрдЫред

1. `config.h` рдорд╛, Custom Vision рд╕реЗрд╡рд╛рдмрд╛рдЯ рдкреНрд░рд┐рдбрд┐рдХреНрд╢рди URL рд░ Key рдХрд╛ рд▓рд╛рдЧрд┐ рдХрдиреНрд╕реНрдЯреНрдпрд╛рдиреНрдЯрд╣рд░реВ рдердкреНрдиреБрд╣реЛрд╕реН:

    ```cpp
    const char *PREDICTION_URL = "<PREDICTION_URL>";
    const char *PREDICTION_KEY = "<PREDICTION_KEY>";
    ```

    `<PREDICTION_URL>` рд▓рд╛рдИ Custom Vision рдмрд╛рдЯ рдкреНрд░рд┐рдбрд┐рдХреНрд╢рди URL рд▓реЗ рдкреНрд░рддрд┐рд╕реНрдерд╛рдкрди рдЧрд░реНрдиреБрд╣реЛрд╕реНред `<PREDICTION_KEY>` рд▓рд╛рдИ рдкреНрд░рд┐рдбрд┐рдХреНрд╢рди рдХреАрд▓реЗ рдкреНрд░рддрд┐рд╕реНрдерд╛рдкрди рдЧрд░реНрдиреБрд╣реЛрд╕реНред

1. `main.cpp` рдорд╛ ArduinoJson рд▓рд╛рдЗрдмреНрд░реЗрд░реАрдХреЛ рд▓рд╛рдЧрд┐ рдЗрдирдХреНрд▓реБрдб рдбрд╛рдЗрд░реЗрдХреНрдЯрд┐рдн рдердкреНрдиреБрд╣реЛрд╕реН:

    ```cpp
    #include <ArduinoJSON.h>
    ```

1. `main.cpp` рдорд╛, `buttonPressed` рдлрдВрдХреНрд╢рдирднрдиреНрджрд╛ рдорд╛рдерд┐ рдирд┐рдореНрди рдлрдВрдХреНрд╢рди рдердкреНрдиреБрд╣реЛрд╕реН:

    ```cpp
    void classifyImage(byte *buffer, uint32_t length)
    {
        HTTPClient httpClient;
        httpClient.begin(client, PREDICTION_URL);
        httpClient.addHeader("Content-Type", "application/octet-stream");
        httpClient.addHeader("Prediction-Key", PREDICTION_KEY);
    
        int httpResponseCode = httpClient.POST(buffer, length);
    
        if (httpResponseCode == 200)
        {
            String result = httpClient.getString();
    
            DynamicJsonDocument doc(1024);
            deserializeJson(doc, result.c_str());
    
            JsonObject obj = doc.as<JsonObject>();
            JsonArray predictions = obj["predictions"].as<JsonArray>();
    
            for(JsonVariant prediction : predictions) 
            {
                String tag = prediction["tagName"].as<String>();
                float probability = prediction["probability"].as<float>();
    
                char buff[32];
                sprintf(buff, "%s:\t%.2f%%", tag.c_str(), probability * 100.0);
                Serial.println(buff);
            }
        }
    
        httpClient.end();
    }
    ```

    рдпреЛ рдХреЛрдбрд▓реЗ `HTTPClient` рдШреЛрд╖рдгрд╛ рдЧрд░реЗрд░ рд╕реБрд░реБ рдЧрд░реНрдЫ - рдпреЛ рдХреНрд▓рд╛рд╕рдорд╛ REST API рд╕рдБрдЧ рдЕрдиреНрддрд░реНрдХреНрд░рд┐рдпрд╛ рдЧрд░реНрди рдореЗрдердбрд╣рд░реВ рд╣реБрдиреНрдЫрдиреНред рддреНрдпрд╕рдкрдЫрд┐ рдХреНрд▓рд╛рдЗрдиреНрдЯрд▓рд╛рдИ Azure рд╕рд╛рд░реНрд╡рдЬрдирд┐рдХ рдХрд┐рдЬрдХреЛ рд╕рд╛рде рд╕реЗрдЯрдЕрдк рдЧрд░рд┐рдПрдХреЛ `WiFiClientSecure` рдЗрдиреНрд╕реНрдЯреНрдпрд╛рдиреНрд╕ рдкреНрд░рдпреЛрдЧ рдЧрд░реЗрд░ рдкреНрд░рд┐рдбрд┐рдХреНрд╢рди URL рд╕рдБрдЧ рдЬрдбрд╛рди рдЧрд░реНрдЫред

    рдЬрдбрд╛рди рднрдПрдкрдЫрд┐, рдпреЛ рд╣реЗрдбрд░рд╣рд░реВ рдкрдард╛рдЙрдБрдЫ - REST API рд╡рд┐рд░реБрджреНрдз рдЧрд░рд┐рдиреЗ рдЕрдиреБрд░реЛрдзрдХреЛ рдмрд╛рд░реЗрдорд╛ рдЬрд╛рдирдХрд╛рд░реАред `Content-Type` рд╣реЗрдбрд░рд▓реЗ API рдХрд▓рд▓реЗ рдХрдЪреНрдЪрд╛ рдмрд╛рдЗрдирд░реА рдбрд╛рдЯрд╛ рдкрдард╛рдЙрдиреЗ рд╕рдВрдХреЗрдд рдЧрд░реНрдЫ, `Prediction-Key` рд╣реЗрдбрд░рд▓реЗ Custom Vision рдкреНрд░рд┐рдбрд┐рдХреНрд╢рди рдХреА рдкрд╛рд╕ рдЧрд░реНрдЫред

    рддреНрдпрд╕рдкрдЫрд┐ HTTP рдХреНрд▓рд╛рдЗрдиреНрдЯрдорд╛ POST рдЕрдиреБрд░реЛрдз рдЧрд░рд┐рдиреНрдЫ, рдЬрд╕рд▓реЗ рдмрд╛рдЗрдЯ рдПрд░реЗ рдЕрдкрд▓реЛрдб рдЧрд░реНрдЫред рдпреЛ рдХреНрдпрд╛рдореЗрд░рд╛рдмрд╛рдЯ рд▓рд┐рдЗрдПрдХреЛ JPEG рддрд╕реНрдмрд┐рд░ рд╕рдорд╛рд╡реЗрд╢ рдЧрд░реНрдиреЗрдЫ рдЬрдм рдпреЛ рдлрдВрдХреНрд╢рди рдХрд▓ рдЧрд░рд┐рдиреНрдЫред

    > ЁЯТБ POST рдЕрдиреБрд░реЛрдз рдбрд╛рдЯрд╛ рдкрдард╛рдЙрди рд░ рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛ рдкреНрд░рд╛рдкреНрдд рдЧрд░реНрдирдХрд╛ рд▓рд╛рдЧрд┐ рд╣реЛред рдЕрдиреНрдп рдЕрдиреБрд░реЛрдз рдкреНрд░рдХрд╛рд░рд╣рд░реВ рдЬрд╕реНрддреИ GET рдЕрдиреБрд░реЛрдзрд╣рд░реВ рдбрд╛рдЯрд╛ рдкреНрд░рд╛рдкреНрдд рдЧрд░реНрдирдХрд╛ рд▓рд╛рдЧрд┐ рдкреНрд░рдпреЛрдЧ рдЧрд░рд┐рдиреНрдЫред GET рдЕрдиреБрд░реЛрдзрд╣рд░реВ рддрдкрд╛рдИрдВрдХреЛ рд╡реЗрдм рдмреНрд░рд╛рдЙрдЬрд░рд▓реЗ рд╡реЗрдм рдкреЗрдЬ рд▓реЛрдб рдЧрд░реНрди рдкреНрд░рдпреЛрдЧ рдЧрд░реНрдЫред

    POST рдЕрдиреБрд░реЛрдзрд▓реЗ рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛ рд╕реНрдЯрд╛рдЯрд╕ рдХреЛрдб рдлрд░реНрдХрд╛рдЙрдБрдЫред рдпреА рд░рд╛рдореНрд░реЛрд╕рдБрдЧ рдкрд░рд┐рднрд╛рд╖рд┐рдд рдорд╛рдирд╣рд░реВ рд╣реБрдиреН, рдЬрд╣рд╛рдБ 200 рдХреЛ рдЕрд░реНрде **OK** рд╣реЛ - POST рдЕрдиреБрд░реЛрдз рд╕рдлрд▓ рднрдпреЛред

    > ЁЯТБ рддрдкрд╛рдИрдВ рд╕рдмреИ рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛ рд╕реНрдЯрд╛рдЯрд╕ рдХреЛрдбрд╣рд░реВ [List of HTTP status codes page on Wikipedia](https://wikipedia.org/wiki/List_of_HTTP_status_codes) рдорд╛ рд╣реЗрд░реНрди рд╕рдХреНрдиреБрд╣реБрдиреНрдЫред

    рдпрджрд┐ 200 рдлрд░реНрдХрд╛рдЗрдиреНрдЫ рднрдиреЗ, рдкрд░рд┐рдгрд╛рдо HTTP рдХреНрд▓рд╛рдЗрдиреНрдЯрдмрд╛рдЯ рдкрдврд┐рдиреНрдЫред рдпреЛ REST API рдмрд╛рдЯ JSON рдбрдХреБрдореЗрдиреНрдЯрдХреЛ рд░реВрдкрдорд╛ рдкреНрд░рд┐рдбрд┐рдХреНрд╢рдирдХреЛ рд╕рд╛рде рдЯреЗрдХреНрд╕реНрдЯ рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛ рд╣реЛред JSON рдирд┐рдореНрди рд╕реНрд╡рд░реВрдкрдорд╛ рд╣реБрдиреНрдЫ:

    ```jSON
    {
        "id":"45d614d3-7d6f-47e9-8fa2-04f237366a16",
        "project":"135607e5-efac-4855-8afb-c93af3380531",
        "iteration":"04f1c1fa-11ec-4e59-bb23-4c7aca353665",
        "created":"2021-06-10T17:58:58.959Z",
        "predictions":[
            {
                "probability":0.5582016,
                "tagId":"05a432ea-9718-4098-b14f-5f0688149d64",
                "tagName":"ripe"
            },
            {
                "probability":0.44179836,
                "tagId":"bb091037-16e5-418e-a9ea-31c6a2920f17",
                "tagName":"unripe"
            }
        ]
    }
    ```

    рдпрд╣рд╛рдБ рдорд╣рддреНрддреНрд╡рдкреВрд░реНрдг рднрд╛рдЧ `predictions` рдПрд░реЗ рд╣реЛред рдпрд╕рдорд╛ рдкреНрд░рд┐рдбрд┐рдХреНрд╢рдирд╣рд░реВ рд╕рдорд╛рд╡реЗрд╢ рдЫрдиреН, рдкреНрд░рддреНрдпреЗрдХ рдЯреНрдпрд╛рдЧрдХреЛ рд▓рд╛рдЧрд┐ рдПрдХ рдкреНрд░рд╡рд┐рд╖реНрдЯрд┐ рдЯреНрдпрд╛рдЧ рдирд╛рдо рд░ рд╕рдореНрднрд╛рд╡реНрдпрддрд╛ рд╕рд╣рд┐рддред рдлрд░реНрдХрд╛рдЗрдПрдХрд╛ рд╕рдореНрднрд╛рд╡реНрдпрддрд╛ 0-1 рдмреАрдЪрдХрд╛ рдлреНрд▓реЛрдЯрд┐рдЩ рдкреЛрдЗрдиреНрдЯ рдирдореНрдмрд░рд╣рд░реВ рд╣реБрдиреН, рдЬрд╣рд╛рдБ 0 рдХреЛ рдЕрд░реНрде 0% рд╕рдореНрднрд╛рд╡реНрдпрддрд╛ рд░ 1 рдХреЛ рдЕрд░реНрде 100% рд╕рдореНрднрд╛рд╡реНрдпрддрд╛ рд╣реЛред

    > ЁЯТБ рдЗрдореЗрдЬ рдХреНрд▓рд╛рд╕рд┐рдлрд╛рдпрд░рд╣рд░реВрд▓реЗ рдкреНрд░рдпреЛрдЧ рдЧрд░рд┐рдПрдХрд╛ рд╕рдмреИ рдЯреНрдпрд╛рдЧрд╣рд░реВрдХреЛ рдкреНрд░рддрд┐рд╢рдд рдлрд░реНрдХрд╛рдЙрдБрдЫрдиреНред рдкреНрд░рддреНрдпреЗрдХ рдЯреНрдпрд╛рдЧрд╕рдБрдЧ рддрд╕реНрдмрд┐рд░рд▓реЗ рдЙрдХреНрдд рдЯреНрдпрд╛рдЧрд╕рдБрдЧ рдореЗрд▓ рдЦрд╛рдиреЗ рд╕рдореНрднрд╛рд╡реНрдпрддрд╛ рд╣реБрдиреНрдЫред

    рдпреЛ JSON рдбрд┐рдХреЛрдб рдЧрд░рд┐рдиреНрдЫ, рд░ рдкреНрд░рддреНрдпреЗрдХ рдЯреНрдпрд╛рдЧрдХреЛ рд╕рдореНрднрд╛рд╡реНрдпрддрд╛ рд╕рд┐рд░рд┐рдпрд▓ рдореЛрдирд┐рдЯрд░рдорд╛ рдкрдард╛рдЗрдиреНрдЫред

1. `buttonPressed` рдлрдВрдХреНрд╢рдирдорд╛, SD рдХрд╛рд░реНрдбрдорд╛ рдмрдЪрдд рдЧрд░реНрдиреЗ рдХреЛрдбрд▓рд╛рдИ `classifyImage` рдХрд▓рд▓реЗ рдкреНрд░рддрд┐рд╕реНрдерд╛рдкрди рдЧрд░реНрдиреБрд╣реЛрд╕реН, рд╡рд╛ рддрд╕реНрдмрд┐рд░ рд▓реЗрдЦрд┐рдПрдХреЛ рднрдП рдкрдирд┐ **рдмрдлрд░ рдореЗрдЯрд╛рдЙрдиреБ рдЕрдШрд┐** рдпрд╕рд▓рд╛рдИ рдердкреНрдиреБрд╣реЛрд╕реН:

    ```cpp
    classifyImage(buffer, length);
    ```

    > ЁЯТБ рдпрджрд┐ рддрдкрд╛рдИрдВ SD рдХрд╛рд░реНрдбрдорд╛ рдмрдЪрдд рдЧрд░реНрдиреЗ рдХреЛрдб рдкреНрд░рддрд┐рд╕реНрдерд╛рдкрди рдЧрд░реНрдиреБрд╣реБрдиреНрдЫ рднрдиреЗ, рддрдкрд╛рдИрдВ рдЖрдлреНрдиреЛ рдХреЛрдб рд╕рдлрд╛ рдЧрд░реНрди `setupSDCard` рд░ `saveToSDCard` рдлрдВрдХреНрд╢рдирд╣рд░реВ рд╣рдЯрд╛рдЙрди рд╕рдХреНрдиреБрд╣реБрдиреНрдЫред

1. рдЖрдлреНрдиреЛ рдХреЛрдб рдЕрдкрд▓реЛрдб рд░ рдЪрд▓рд╛рдЙрдиреБрд╣реЛрд╕реНред рдХреНрдпрд╛рдореЗрд░рд╛рд▓рд╛рдИ рдХреЗрд╣реА рдлрд▓рдлреВрд▓рддрд░реНрдл рд╕реЛрдЭреНрдпрд╛рдЙрдиреБрд╣реЛрд╕реН рд░ C рдмрдЯрди рдерд┐рдЪреНрдиреБрд╣реЛрд╕реНред рддрдкрд╛рдИрдВ рд╕рд┐рд░рд┐рдпрд▓ рдореЛрдирд┐рдЯрд░рдорд╛ рдЖрдЙрдЯрдкреБрдЯ рджреЗрдЦреНрдиреБрд╣реБрдиреЗрдЫ:

    ```output
    Connecting to WiFi..
    Connected!
    Image captured
    Image read to buffer with length 8200
    ripe:   56.84%
    unripe: 43.16%
    ```

    рддрдкрд╛рдИрдВрд▓реЗ рд▓рд┐рдПрдХреЛ рддрд╕реНрдмрд┐рд░ рд░ рдпреА рдорд╛рдирд╣рд░реВ Custom Vision рдХреЛ **Predictions** рдЯреНрдпрд╛рдмрдорд╛ рджреЗрдЦреНрди рд╕рдХреНрдиреБрд╣реБрдиреНрдЫред

    ![Custom Vision рдорд╛ рдПрдЙрдЯрд╛ рдХреЗрд░рд╛, 56.8% рдорд╛ рдкрд╛рдХреЛ рд░ 43.1% рдорд╛ рдЕрдкрд╛рдХреЛ рднрдиреЗрд░ рдкреНрд░рд┐рдбрд┐рдХреНрдЯ рдЧрд░рд┐рдПрдХреЛ](../../../../../translated_images/custom-vision-banana-prediction.30cdff4e1d72db5d9a0be0193790a47c2b387da034e12dc1314dd57ca2131b59.ne.png)

> ЁЯТБ рддрдкрд╛рдИрдВ рдпреЛ рдХреЛрдб [code-classify/wio-terminal](../../../../../4-manufacturing/lessons/2-check-fruit-from-device/code-classify/wio-terminal) рдлреЛрд▓реНрдбрд░рдорд╛ рдкрд╛рдЙрди рд╕рдХреНрдиреБрд╣реБрдиреНрдЫред

ЁЯША рддрдкрд╛рдИрдВрдХреЛ рдлрд▓рдлреВрд▓ рдЧреБрдгрд╕реНрддрд░ рд╡рд░реНрдЧреАрдХрд░рдг рдХрд╛рд░реНрдпрдХреНрд░рдо рд╕рдлрд▓ рднрдпреЛ!

---

**рдЕрд╕реНрд╡реАрдХрд░рдг**:  
рдпреЛ рджрд╕реНрддрд╛рд╡реЗрдЬрд╝ AI рдЕрдиреБрд╡рд╛рдж рд╕реЗрд╡рд╛ [Co-op Translator](https://github.com/Azure/co-op-translator) рдкреНрд░рдпреЛрдЧ рдЧрд░реЗрд░ рдЕрдиреБрд╡рд╛рдж рдЧрд░рд┐рдПрдХреЛ рдЫред рд╣рд╛рдореА рд╢реБрджреНрдзрддрд╛рдХреЛ рд▓рд╛рдЧрд┐ рдкреНрд░рдпрд╛рд╕ рдЧрд░реНрдЫреМрдВ, рддрд░ рдХреГрдкрдпрд╛ рдзреНрдпрд╛рди рджрд┐рдиреБрд╣реЛрд╕реН рдХрд┐ рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рдЕрдиреБрд╡рд╛рджрд╣рд░реВрдорд╛ рддреНрд░реБрдЯрд┐ рд╡рд╛ рдЕрд╢реБрджреНрдзрддрд╛ рд╣реБрди рд╕рдХреНрдЫред рдпрд╕рдХреЛ рдореВрд▓ рднрд╛рд╖рд╛ рдорд╛ рд░рд╣реЗрдХреЛ рдореВрд▓ рджрд╕реНрддрд╛рд╡реЗрдЬрд╝рд▓рд╛рдИ рдЖрдзрд┐рдХрд╛рд░рд┐рдХ рд╕реНрд░реЛрдд рдорд╛рдирд┐рдиреБрдкрд░реНрдЫред рдорд╣рддреНрд╡рдкреВрд░реНрдг рдЬрд╛рдирдХрд╛рд░реАрдХреЛ рд▓рд╛рдЧрд┐, рд╡реНрдпрд╛рд╡рд╕рд╛рдпрд┐рдХ рдорд╛рдирд╡ рдЕрдиреБрд╡рд╛рдж рд╕рд┐рдлрд╛рд░рд┐рд╕ рдЧрд░рд┐рдиреНрдЫред рдпрд╕ рдЕрдиреБрд╡рд╛рджрдХреЛ рдкреНрд░рдпреЛрдЧрдмрд╛рдЯ рдЙрддреНрдкрдиреНрди рд╣реБрдиреЗ рдХреБрдиреИ рдкрдирд┐ рдЧрд▓рддрдлрд╣рдореА рд╡рд╛ рдЧрд▓рдд рд╡реНрдпрд╛рдЦреНрдпрд╛рдХреЛ рд▓рд╛рдЧрд┐ рд╣рд╛рдореА рдЬрд┐рдореНрдореЗрд╡рд╛рд░ рд╣реБрдиреЗ рдЫреИрдиреМрдВред