<!--
CO_OP_TRANSLATOR_METADATA:
{
  "original_hash": "e5896207b304ce1abaf065b8acc0cc79",
  "translation_date": "2025-08-27T10:22:59+00:00",
  "source_file": "4-manufacturing/lessons/2-check-fruit-from-device/single-board-computer-classify-image.md",
  "language_code": "ne"
}
-->
# рдЫрд╡рд┐ рд╡рд░реНрдЧреАрдХрд░рдг рдЧрд░реНрдиреБрд╣реЛрд╕реН - рднрд░реНрдЪреБрдЕрд▓ IoT рд╣рд╛рд░реНрдбрд╡реЗрдпрд░ рд░ рд░рд╛рд╕реНрдкрдмреЗрд░реА рдкрд╛рдИ

рдпрд╕ рдкрд╛рдардХреЛ рдпрд╕ рднрд╛рдЧрдорд╛, рддрдкрд╛рдИрдВрд▓реЗ рдХреНрдпрд╛рдореЗрд░рд╛рд▓реЗ рдЦрд┐рдЪреЗрдХреЛ рдЫрд╡рд┐ Custom Vision рд╕реЗрд╡рд╛рдорд╛ рдкрдард╛рдПрд░ рд╡рд░реНрдЧреАрдХрд░рдг рдЧрд░реНрдиреБрд╣реБрдиреЗрдЫред

## Custom Vision рдорд╛ рдЫрд╡рд┐рд╣рд░реВ рдкрдард╛рдЙрдиреБрд╣реЛрд╕реН

Custom Vision рд╕реЗрд╡рд╛рдорд╛ рдЫрд╡рд┐рд╣рд░реВ рд╡рд░реНрдЧреАрдХрд░рдг рдЧрд░реНрди Python SDK рдЙрдкрд▓рдмреНрдз рдЫ, рдЬрд╕рд▓рд╛рдИ рддрдкрд╛рдИрдВ рдкреНрд░рдпреЛрдЧ рдЧрд░реНрди рд╕рдХреНрдиреБрд╣реБрдиреНрдЫред

### рдХрд╛рд░реНрдп - Custom Vision рдорд╛ рдЫрд╡рд┐рд╣рд░реВ рдкрдард╛рдЙрдиреБрд╣реЛрд╕реН

1. VS Code рдорд╛ `fruit-quality-detector` рдлреЛрд▓реНрдбрд░ рдЦреЛрд▓реНрдиреБрд╣реЛрд╕реНред рдпрджрд┐ рддрдкрд╛рдИрдВ рднрд░реНрдЪреБрдЕрд▓ IoT рдЙрдкрдХрд░рдг рдкреНрд░рдпреЛрдЧ рдЧрд░реНрджреИ рд╣реБрдиреБрд╣реБрдиреНрдЫ рднрдиреЗ, рдЯрд░реНрдорд┐рдирд▓рдорд╛ рднрд░реНрдЪреБрдЕрд▓ рд╡рд╛рддрд╛рд╡рд░рдг рдЪрд▓рд┐рд░рд╣реЗрдХреЛ рдЫ рднрдиреЗрд░ рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдЧрд░реНрдиреБрд╣реЛрд╕реНред

1. Custom Vision рдорд╛ рдЫрд╡рд┐рд╣рд░реВ рдкрдард╛рдЙрди Python SDK Pip рдкреНрдпрд╛рдХреЗрдЬрдХреЛ рд░реВрдкрдорд╛ рдЙрдкрд▓рдмреНрдз рдЫред рдпрд╕рд▓рд╛рдИ рдирд┐рдореНрди рдЖрджреЗрд╢ рдкреНрд░рдпреЛрдЧ рдЧрд░реЗрд░ рдЗрдиреНрд╕реНрдЯрд▓ рдЧрд░реНрдиреБрд╣реЛрд╕реН:

    ```sh
    pip3 install azure-cognitiveservices-vision-customvision
    ```

1. `app.py` рдлрд╛рдЗрд▓рдХреЛ рдорд╛рдерд┐рд▓реНрд▓реЛ рднрд╛рдЧрдорд╛ рдирд┐рдореНрди рдЗрдореНрдкреЛрд░реНрдЯ рд╕реНрдЯреЗрдЯрдореЗрдиреНрдЯрд╣рд░реВ рдердкреНрдиреБрд╣реЛрд╕реН:

    ```python
    from msrest.authentication import ApiKeyCredentials
    from azure.cognitiveservices.vision.customvision.prediction import CustomVisionPredictionClient
    ```

    рдпрд╕рд▓реЗ Custom Vision рдкреБрд╕реНрддрдХрд╛рд▓рдпрдХрд╛ рдХреЗрд╣реА рдореЛрдбреНрдпреБрд▓рд╣рд░реВ рд▓реНрдпрд╛рдЙрдБрдЫ, рдЬрд╕рдорд╛ рднрд╡рд┐рд╖реНрдпрд╡рд╛рдгреА рдХреБрдЮреНрдЬреАрдХреЛ рд╕рд╛рде рдкреНрд░рдорд╛рдгрд┐рдХрд░рдг рдЧрд░реНрди рд░ Custom Vision рдХрд▓ рдЧрд░реНрди рд╕рдХреНрдиреЗ рднрд╡рд┐рд╖реНрдпрд╡рд╛рдгреА рдХреНрд▓рд╛рдЗрдиреНрдЯ рд╡рд░реНрдЧ рдкреНрд░рджрд╛рди рдЧрд░реНрди рд╕рдорд╛рд╡реЗрд╢ рдЫред

1. рдлрд╛рдЗрд▓рдХреЛ рдЕрдиреНрддреНрдпрдорд╛ рдирд┐рдореНрди рдХреЛрдб рдердкреНрдиреБрд╣реЛрд╕реН:

    ```python
    prediction_url = '<prediction_url>'
    prediction_key = '<prediction key>'
    ```

    `<prediction_url>` рд▓рд╛рдИ рдпрд╕ рдкрд╛рдардХреЛ рдкрд╣рд┐рд▓реЗрдХреЛ *Prediction URL* рд╕рдВрд╡рд╛рджрдмрд╛рдЯ рдкреНрд░рддрд┐рд▓рд┐рдкрд┐ рдЧрд░рд┐рдПрдХреЛ URL рд▓реЗ рдкреНрд░рддрд┐рд╕реНрдерд╛рдкрди рдЧрд░реНрдиреБрд╣реЛрд╕реНред `<prediction key>` рд▓рд╛рдИ рд╕реЛрд╣реА рд╕рдВрд╡рд╛рджрдмрд╛рдЯ рдкреНрд░рддрд┐рд▓рд┐рдкрд┐ рдЧрд░рд┐рдПрдХреЛ рднрд╡рд┐рд╖реНрдпрд╡рд╛рдгреА рдХреБрдЮреНрдЬреАрд▓реЗ рдкреНрд░рддрд┐рд╕реНрдерд╛рдкрди рдЧрд░реНрдиреБрд╣реЛрд╕реНред

1. *Prediction URL* рд╕рдВрд╡рд╛рджрд▓реЗ рдкреНрд░рджрд╛рди рдЧрд░реЗрдХреЛ рднрд╡рд┐рд╖реНрдпрд╡рд╛рдгреА URL рд╕рд┐рдзреИ REST рдЕрдиреНрддрд░реНрдХреНрд░рд┐рдпрд╛рдорд╛ рдХрд▓ рдЧрд░реНрджрд╛ рдкреНрд░рдпреЛрдЧ рдЧрд░реНрди рдбрд┐рдЬрд╛рдЗрди рдЧрд░рд┐рдПрдХреЛ рд╣реЛред Python SDK рд▓реЗ URL рдХрд╛ рдХреЗрд╣реА рднрд╛рдЧрд╣рд░реВ рдлрд░рдХ рдард╛рдЙрдБрдорд╛ рдкреНрд░рдпреЛрдЧ рдЧрд░реНрджрдЫред рдпреЛ URL рдЯреБрдХреНрд░реНрдпрд╛рдЙрди рдирд┐рдореНрди рдХреЛрдб рдердкреНрдиреБрд╣реЛрд╕реН:

    ```python
    parts = prediction_url.split('/')
    endpoint = 'https://' + parts[2]
    project_id = parts[6]
    iteration_name = parts[9]
    ```

    рдпрд╕рд▓реЗ URL рд▓рд╛рдИ рдЯреБрдХреНрд░реНрдпрд╛рдЙрдБрдЫ, `https://<location>.api.cognitive.microsoft.com` рдХреЛ рдЕрдиреНрддрд░реНрдХреНрд░рд┐рдпрд╛рд▓рд╛рдИ, рдкреНрд░реЛрдЬреЗрдХреНрдЯ ID, рд░ рдкреНрд░рдХрд╛рд╢рд┐рдд рд╕рдВрд╕реНрдХрд░рдгрдХреЛ рдирд╛рдо рдирд┐рдХрд╛рд▓реНрдЫред

1. рднрд╡рд┐рд╖реНрдпрд╡рд╛рдгреА рдЧрд░реНрди predictor рд╡рд╕реНрддреБ рдирд┐рдореНрди рдХреЛрдб рдкреНрд░рдпреЛрдЧ рдЧрд░реЗрд░ рд╕рд┐рд░реНрдЬрдирд╛ рдЧрд░реНрдиреБрд╣реЛрд╕реН:

    ```python
    prediction_credentials = ApiKeyCredentials(in_headers={"Prediction-key": prediction_key})
    predictor = CustomVisionPredictionClient(endpoint, prediction_credentials)
    ```

    `prediction_credentials` рд▓реЗ рднрд╡рд┐рд╖реНрдпрд╡рд╛рдгреА рдХреБрдЮреНрдЬреАрд▓рд╛рдИ рд╕рдореЗрдЯреНрдЫред рдпреА рдЕрдиреНрддрд░реНрдХреНрд░рд┐рдпрд╛рдорд╛ рд╕рдВрдХреЗрдд рдЧрд░реНрдиреЗ рднрд╡рд┐рд╖реНрдпрд╡рд╛рдгреА рдХреНрд▓рд╛рдЗрдиреНрдЯ рд╡рд╕реНрддреБ рд╕рд┐рд░реНрдЬрдирд╛ рдЧрд░реНрди рдкреНрд░рдпреЛрдЧ рдЧрд░рд┐рдиреНрдЫред

1. рдирд┐рдореНрди рдХреЛрдб рдкреНрд░рдпреЛрдЧ рдЧрд░реЗрд░ рдЫрд╡рд┐ Custom Vision рдорд╛ рдкрдард╛рдЙрдиреБрд╣реЛрд╕реН:

    ```python
    image.seek(0)
    results = predictor.classify_image(project_id, iteration_name, image)
    ```

    рдпрд╕рд▓реЗ рдЫрд╡рд┐рд▓рд╛рдИ рд╕реБрд░реБрдорд╛ рдлрд░реНрдХрд╛рдЙрдБрдЫ, рддреНрдпрд╕рдкрдЫрд┐ рднрд╡рд┐рд╖реНрдпрд╡рд╛рдгреА рдХреНрд▓рд╛рдЗрдиреНрдЯрдорд╛ рдкрдард╛рдЙрдБрдЫред

1. рдЕрдиреНрддрддрдГ, рдкрд░рд┐рдгрд╛рдорд╣рд░реВ рдирд┐рдореНрди рдХреЛрдб рдкреНрд░рдпреЛрдЧ рдЧрд░реЗрд░ рджреЗрдЦрд╛рдЙрдиреБрд╣реЛрд╕реН:

    ```python
    for prediction in results.predictions:
        print(f'{prediction.tag_name}:\t{prediction.probability * 100:.2f}%')
    ```

    рдпрд╕рд▓реЗ рдлрд░реНрдХрд╛рдЗрдПрдХрд╛ рд╕рдмреИ рднрд╡рд┐рд╖реНрдпрд╡рд╛рдгреАрд╣рд░реВрдорд╛ рд▓реВрдк рдЧрд░реНрдЫ рд░ рдЯрд░реНрдорд┐рдирд▓рдорд╛ рджреЗрдЦрд╛рдЙрдБрдЫред рдлрд░реНрдХрд╛рдЗрдПрдХрд╛ рд╕рдореНрднрд╛рд╡рдирд╛рд╣рд░реВ 0-1 рдХреЛ рдлреНрд▓реЛрдЯрд┐рдЩ рдкреЛрдЗрдиреНрдЯ рдирдореНрдмрд░рд╣рд░реВ рд╣реБрдиреНрдЫрдиреН, рдЬрд╣рд╛рдБ 0 рд▓реЗ 0% рд╕рдореНрднрд╛рд╡рдирд╛ рдЬрдирд╛рдЙрдБрдЫ рд░ 1 рд▓реЗ 100% рд╕рдореНрднрд╛рд╡рдирд╛ рдЬрдирд╛рдЙрдБрдЫред

    > ЁЯТБ рдЫрд╡рд┐ рд╡рд░реНрдЧреАрдХрд░рдгрдХрд░реНрддрд╛рд╣рд░реВрд▓реЗ рдкреНрд░рдпреЛрдЧ рдЧрд░рд┐рдПрдХрд╛ рд╕рдмреИ рдЯреНрдпрд╛рдЧрд╣рд░реВрдХреЛ рдкреНрд░рддрд┐рд╢рдд рдлрд░реНрдХрд╛рдЙрдБрдЫрдиреНред рдкреНрд░рддреНрдпреЗрдХ рдЯреНрдпрд╛рдЧрд╕рдБрдЧ рдЫрд╡рд┐рд▓реЗ рд╕реЛ рдЯреНрдпрд╛рдЧрд╕рдБрдЧ рдореЗрд▓ рдЦрд╛рдиреЗ рд╕рдореНрднрд╛рд╡рдирд╛ рд╣реБрдиреНрдЫред

1. рдЖрдлреНрдиреЛ рдХреЛрдб рдЪрд▓рд╛рдЙрдиреБрд╣реЛрд╕реН, рдХреНрдпрд╛рдореЗрд░рд╛ рдлрд▓рддрд┐рд░ рд╕рдВрдХреЗрдд рдЧрд░реНрджреИ, рд╡рд╛ рдЙрдкрдпреБрдХреНрдд рдЫрд╡рд┐ рд╕реЗрдЯ, рд╡рд╛ рднрд░реНрдЪреБрдЕрд▓ IoT рд╣рд╛рд░реНрдбрд╡реЗрдпрд░ рдкреНрд░рдпреЛрдЧ рдЧрд░реНрджрд╛ рд╡реЗрдмрдХреНрдпрд╛рдордорд╛ рджреЗрдЦрд┐рдиреЗ рдлрд▓ред рддрдкрд╛рдИрдВрд▓реЗ рдХрдиреНрд╕реЛрд▓рдорд╛ рдЖрдЙрдЯрдкреБрдЯ рджреЗрдЦреНрдиреБрд╣реБрдиреЗрдЫ:

    ```output
    (.venv) тЮЬ  fruit-quality-detector python app.py
    ripe:   56.84%
    unripe: 43.16%
    ```

    рддрдкрд╛рдИрдВрд▓реЗ рдЦрд┐рдЪрд┐рдПрдХреЛ рдЫрд╡рд┐ рджреЗрдЦреНрди рд╕рдХреНрдиреБрд╣реБрдиреЗрдЫ, рд░ рдпреА рдорд╛рдирд╣рд░реВ Custom Vision рдХреЛ **Predictions** рдЯреНрдпрд╛рдмрдорд╛ рджреЗрдЦреНрди рд╕рдХреНрдиреБрд╣реБрдиреЗрдЫред

    ![Custom Vision рдорд╛ рдПрдЙрдЯрд╛ рдХреЗрд░рд╛, 56.8% рдорд╛ рдкрд╛рдХреЛ рд░ 43.1% рдорд╛ рдХрд╛рдБрдЪреЛ рднрд╡рд┐рд╖реНрдпрд╡рд╛рдгреА рдЧрд░рд┐рдПрдХреЛ](../../../../../translated_images/custom-vision-banana-prediction.30cdff4e1d72db5d9a0be0193790a47c2b387da034e12dc1314dd57ca2131b59.ne.png)

> ЁЯТБ рддрдкрд╛рдИрдВрд▓реЗ рдпреЛ рдХреЛрдб [code-classify/pi](../../../../../4-manufacturing/lessons/2-check-fruit-from-device/code-classify/pi) рд╡рд╛ [code-classify/virtual-iot-device](../../../../../4-manufacturing/lessons/2-check-fruit-from-device/code-classify/virtual-iot-device) рдлреЛрд▓реНрдбрд░рдорд╛ рдлреЗрд▓рд╛ рдкрд╛рд░реНрди рд╕рдХреНрдиреБрд╣реБрдиреНрдЫред

ЁЯША рддрдкрд╛рдИрдВрдХреЛ рдлрд▓ рдЧреБрдгрд╕реНрддрд░ рд╡рд░реНрдЧреАрдХрд░рдгрдХрд░реНрддрд╛ рдХрд╛рд░реНрдпрдХреНрд░рдо рд╕рдлрд▓ рднрдпреЛ!

---

**рдЕрд╕реНрд╡реАрдХрд░рдг**:  
рдпреЛ рджрд╕реНрддрд╛рд╡реЗрдЬрд╝ AI рдЕрдиреБрд╡рд╛рдж рд╕реЗрд╡рд╛ [Co-op Translator](https://github.com/Azure/co-op-translator) рдкреНрд░рдпреЛрдЧ рдЧрд░реЗрд░ рдЕрдиреБрд╡рд╛рдж рдЧрд░рд┐рдПрдХреЛ рдЫред рд╣рд╛рдореА рд╢реБрджреНрдзрддрд╛рдХреЛ рд▓рд╛рдЧрд┐ рдкреНрд░рдпрд╛рд╕ рдЧрд░реНрдЫреМрдВ, рддрд░ рдХреГрдкрдпрд╛ рдзреНрдпрд╛рди рджрд┐рдиреБрд╣реЛрд╕реН рдХрд┐ рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рдЕрдиреБрд╡рд╛рджрдорд╛ рддреНрд░реБрдЯрд┐рд╣рд░реВ рд╡рд╛ рдЕрд╢реБрджреНрдзрддрд╛рд╣рд░реВ рд╣реБрди рд╕рдХреНрдЫред рдпрд╕рдХреЛ рдореВрд▓ рднрд╛рд╖рд╛ рдорд╛ рд░рд╣реЗрдХреЛ рдореВрд▓ рджрд╕реНрддрд╛рд╡реЗрдЬрд╝рд▓рд╛рдИ рдЖрдзрд┐рдХрд╛рд░рд┐рдХ рд╕реНрд░реЛрдд рдорд╛рдирд┐рдиреБрдкрд░реНрдЫред рдорд╣рддреНрд╡рдкреВрд░реНрдг рдЬрд╛рдирдХрд╛рд░реАрдХреЛ рд▓рд╛рдЧрд┐, рд╡реНрдпрд╛рд╡рд╕рд╛рдпрд┐рдХ рдорд╛рдирд╡ рдЕрдиреБрд╡рд╛рдж рд╕рд┐рдлрд╛рд░рд┐рд╕ рдЧрд░рд┐рдиреНрдЫред рдпрд╕ рдЕрдиреБрд╡рд╛рджрдХреЛ рдкреНрд░рдпреЛрдЧрдмрд╛рдЯ рдЙрддреНрдкрдиреНрди рд╣реБрдиреЗ рдХреБрдиреИ рдкрдирд┐ рдЧрд▓рддрдлрд╣рдореА рд╡рд╛ рдЧрд▓рдд рд╡реНрдпрд╛рдЦреНрдпрд╛рдХреЛ рд▓рд╛рдЧрд┐ рд╣рд╛рдореА рдЬрд┐рдореНрдореЗрд╡рд╛рд░ рд╣реБрдиреЗ рдЫреИрдиреМрдВред