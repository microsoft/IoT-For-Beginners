<!--
CO_OP_TRANSLATOR_METADATA:
{
  "original_hash": "64ad4ddb4de81a18b7252e968f10b404",
  "translation_date": "2025-08-27T13:46:02+00:00",
  "source_file": "6-consumer/lessons/3-spoken-feedback/single-board-computer-set-timer.md",
  "language_code": "ne"
}
-->
# рдЯрд╛рдЗрдорд░ рд╕реЗрдЯ рдЧрд░реНрдиреБрд╣реЛрд╕реН - рднрд░реНрдЪреБрдЕрд▓ IoT рд╣рд╛рд░реНрдбрд╡реЗрдпрд░ рд░ рд░рд╛рд╕реНрдкрдмреЗрд░реА рдкрд╛рдИ

рдпрд╕ рдкрд╛рдардХреЛ рдпрд╕ рднрд╛рдЧрдорд╛, рддрдкрд╛рдИрдВрд▓реЗ рдЖрдлреНрдиреЛ serverless рдХреЛрдбрд▓рд╛рдИ рдХрд▓ рдЧрд░реЗрд░ рднрд╛рд╖рдгрд▓рд╛рдИ рдмреБрдЭреНрдиреЗ рдкреНрд░рдпрд╛рд╕ рдЧрд░реНрдиреБрд╣реБрдиреЗрдЫ, рд░ рдкрд░рд┐рдгрд╛рдордХреЛ рдЖрдзрд╛рд░рдорд╛ рдЖрдлреНрдиреЛ рднрд░реНрдЪреБрдЕрд▓ IoT рдЙрдкрдХрд░рдг рд╡рд╛ рд░рд╛рд╕реНрдкрдмреЗрд░реА рдкрд╛рдИрдорд╛ рдЯрд╛рдЗрдорд░ рд╕реЗрдЯ рдЧрд░реНрдиреБрд╣реБрдиреЗрдЫред

## рдЯрд╛рдЗрдорд░ рд╕реЗрдЯ рдЧрд░реНрдиреБрд╣реЛрд╕реН

рднрд╛рд╖рдгрд▓рд╛рдИ рдкрд╛рдардорд╛ рд░реВрдкрд╛рдиреНрддрд░рдг рдЧрд░реНрдиреЗ рдХрд▓рдмрд╛рдЯ рдлрд░реНрдХрд┐рдПрдХреЛ рдкрд╛рдард▓рд╛рдИ рддрдкрд╛рдИрдВрдХреЛ serverless рдХреЛрдбрдорд╛ рдкрдард╛рдЙрди рдЖрд╡рд╢реНрдпрдХ рдЫ, рдЬрд╕рд▓реЗ LUIS рдорд╛рд░реНрдлрдд рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдЧрд░реЗрд░ рдЯрд╛рдЗрдорд░рдХрд╛ рд▓рд╛рдЧрд┐ рд╕реЗрдХреЗрдиреНрдбрдХреЛ рд╕рдВрдЦреНрдпрд╛ рдлрд┐рд░реНрддрд╛ рд▓реНрдпрд╛рдЙрдБрдЫред рдпреЛ рд╕реЗрдХреЗрдиреНрдбрдХреЛ рд╕рдВрдЦреНрдпрд╛ рдЯрд╛рдЗрдорд░ рд╕реЗрдЯ рдЧрд░реНрди рдкреНрд░рдпреЛрдЧ рдЧрд░реНрди рд╕рдХрд┐рдиреНрдЫред

рдЯрд╛рдЗрдорд░рд╣рд░реВ Python рдХреЛ `threading.Timer` рдХреНрд▓рд╛рд╕ рдкреНрд░рдпреЛрдЧ рдЧрд░реЗрд░ рд╕реЗрдЯ рдЧрд░реНрди рд╕рдХрд┐рдиреНрдЫред рдпреЛ рдХреНрд▓рд╛рд╕рд▓реЗ рдврд┐рд▓рд╛рдЗ рд╕рдордп рд░ рдПрдЙрдЯрд╛ рдлрдЩреНрд╕рди рд▓рд┐рдиреНрдЫ, рд░ рдврд┐рд▓рд╛рдЗ рд╕рдордпрдкрдЫрд┐ рдлрдЩреНрд╕рди рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди рд╣реБрдиреНрдЫред

### рдХрд╛рд░реНрдп - рдкрд╛рдард▓рд╛рдИ serverless рдлрдЩреНрд╕рдирдорд╛ рдкрдард╛рдЙрдиреБрд╣реЛрд╕реН

1. VS Code рдорд╛ `smart-timer` рдкреНрд░реЛрдЬреЗрдХреНрдЯ рдЦреЛрд▓реНрдиреБрд╣реЛрд╕реН, рд░ рдпрджрд┐ рддрдкрд╛рдИрдВ рднрд░реНрдЪреБрдЕрд▓ IoT рдЙрдкрдХрд░рдг рдкреНрд░рдпреЛрдЧ рдЧрд░реНрджреИ рд╣реБрдиреБрд╣реБрдиреНрдЫ рднрдиреЗ рдЯрд░реНрдорд┐рдирд▓рдорд╛ рднрд░реНрдЪреБрдЕрд▓ рд╡рд╛рддрд╛рд╡рд░рдг рд▓реЛрдб рднрдПрдХреЛ рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдЧрд░реНрдиреБрд╣реЛрд╕реНред

1. `process_text` рдлрдЩреНрд╕рдирдХреЛ рдорд╛рдерд┐, `get_timer_time` рдирд╛рдордХ рдлрдЩреНрд╕рди рдШреЛрд╖рдгрд╛ рдЧрд░реНрдиреБрд╣реЛрд╕реН, рдЬрд╕рд▓реЗ рддрдкрд╛рдИрдВрд▓реЗ рдмрдирд╛рдПрдХреЛ REST endpoint рдХрд▓ рдЧрд░реНрдиреЗрдЫ:

    ```python
    def get_timer_time(text):
    ```

1. рдпреЛ рдлрдЩреНрд╕рдирдорд╛ рдХрд▓ рдЧрд░реНрдирдХреЛ рд▓рд╛рдЧрд┐ URL рдкрд░рд┐рднрд╛рд╖рд┐рдд рдЧрд░реНрди рдирд┐рдореНрди рдХреЛрдб рдердкреНрдиреБрд╣реЛрд╕реН:

    ```python
    url = '<URL>'
    ```

    `<URL>` рд▓рд╛рдИ рддрдкрд╛рдИрдВрд▓реЗ рдЕрдШрд┐рд▓реНрд▓реЛ рдкрд╛рдардорд╛ рдирд┐рд░реНрдорд╛рдг рдЧрд░реНрдиреБрднрдПрдХреЛ REST endpoint рдХреЛ URL рд▓реЗ рдкреНрд░рддрд┐рд╕реНрдерд╛рдкрди рдЧрд░реНрдиреБрд╣реЛрд╕реН, рдЪрд╛рд╣реЗ рддреНрдпреЛ рддрдкрд╛рдИрдВрдХреЛ рдХрдореНрдкреНрдпреБрдЯрд░рдорд╛ рд╣реЛрд╕реН рд╡рд╛ рдХреНрд▓рд╛рдЙрдбрдорд╛ред

1. рдкрд╛рдард▓рд╛рдИ JSON рдХреЛ рд░реВрдкрдорд╛ рдХрд▓рдорд╛ рдкрдард╛рдЙрдирдХреЛ рд▓рд╛рдЧрд┐ рдЧреБрдгрдХреЛ рд░реВрдкрдорд╛ рд╕реЗрдЯ рдЧрд░реНрди рдирд┐рдореНрди рдХреЛрдб рдердкреНрдиреБрд╣реЛрд╕реН:

    ```python
    body = {
        'text': text
    }
    
    response = requests.post(url, json=body)
    ```

1. рдпрд╕рдХреЛ рддрд▓, рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛ рдкреЗрд▓реЛрдбрдмрд╛рдЯ `seconds` рдкреБрдирдГрдкреНрд░рд╛рдкреНрдд рдЧрд░реНрдиреБрд╣реЛрд╕реН, рд░ рдпрджрд┐ рдХрд▓ рдЕрд╕рдлрд▓ рднрдпреЛ рднрдиреЗ 0 рдлрд┐рд░реНрддрд╛ рдЧрд░реНрдиреБрд╣реЛрд╕реН:

    ```python
    if response.status_code != 200:
        return 0
    
    payload = response.json()
    return payload['seconds']
    ```

    рд╕рдлрд▓ HTTP рдХрд▓рд╣рд░реВрд▓реЗ 200 рджрд╛рдпрд░рд╛рдорд╛ рд╕реНрдЯрд╛рдЯрд╕ рдХреЛрдб рдлрд┐рд░реНрддрд╛ рдЧрд░реНрдЫрдиреН, рд░ рддрдкрд╛рдИрдВрдХреЛ serverless рдХреЛрдбрд▓реЗ рдкрд╛рдард▓рд╛рдИ рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдЧрд░реЗрд░ рд╕реЗрдЯ рдЯрд╛рдЗрдорд░ рдЖрд╢рдпрдХреЛ рд░реВрдкрдорд╛ рдкрд╣рд┐рдЪрд╛рди рдЧрд░реЗрдорд╛ 200 рдлрд┐рд░реНрддрд╛ рдЧрд░реНрдЫред

### рдХрд╛рд░реНрдп - рдкреГрд╖реНрдарднреВрдорд┐ рдереНрд░реЗрдбрдорд╛ рдЯрд╛рдЗрдорд░ рд╕реЗрдЯ рдЧрд░реНрдиреБрд╣реЛрд╕реН

1. Python рдХреЛ threading рд▓рд╛рдЗрдмреНрд░реЗрд░реА рдЖрдпрд╛рдд рдЧрд░реНрди рдлрд╛рдЗрд▓рдХреЛ рдорд╛рдерд┐ рдирд┐рдореНрди рдЖрдпрд╛рдд рд╡рдХреНрддрд╡реНрдп рдердкреНрдиреБрд╣реЛрд╕реН:

    ```python
    import threading
    ```

1. `process_text` рдлрдЩреНрд╕рдирдХреЛ рдорд╛рдерд┐, рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛ рдмреЛрд▓реНрдирдХреЛ рд▓рд╛рдЧрд┐ рдПрдЙрдЯрд╛ рдлрдЩреНрд╕рди рдердкреНрдиреБрд╣реЛрд╕реНред рдЕрд╣рд┐рд▓реЗрдХрд╛ рд▓рд╛рдЧрд┐ рдпрд╕рд▓реЗ рдХреЗрд╡рд▓ рдХрдиреНрд╕реЛрд▓рдорд╛ рд▓реЗрдЦреНрдиреЗрдЫ, рддрд░ рдпрд╕ рдкрд╛рдардХреЛ рдкрдЫрд┐ рдпреЛ рдкрд╛рда рдмреЛрд▓реНрдиреЗрдЫред

    ```python
    def say(text):
        print(text)
    ```

1. рдпрд╕рдХреЛ рддрд▓, рдЯрд╛рдЗрдорд░ рдкреВрд░рд╛ рднрдПрдХреЛ рдШреЛрд╖рдгрд╛ рдЧрд░реНрди рдЯрд╛рдЗрдорд░рд▓реЗ рдХрд▓ рдЧрд░реНрдиреЗ рдлрдЩреНрд╕рди рдердкреНрдиреБрд╣реЛрд╕реН:

    ```python
    def announce_timer(minutes, seconds):
        announcement = 'Times up on your '
        if minutes > 0:
            announcement += f'{minutes} minute '
        if seconds > 0:
            announcement += f'{seconds} second '
        announcement += 'timer.'
        say(announcement)
    ```

    рдпреЛ рдлрдЩреНрд╕рдирд▓реЗ рдЯрд╛рдЗрдорд░рдХрд╛ рд▓рд╛рдЧрд┐ рдорд┐рдиреЗрдЯ рд░ рд╕реЗрдХреЗрдиреНрдбрдХреЛ рд╕рдВрдЦреНрдпрд╛ рд▓рд┐рдиреНрдЫ, рд░ рдЯрд╛рдЗрдорд░ рдкреВрд░рд╛ рднрдПрдХреЛ рдмрддрд╛рдЙрдиреЗ рд╡рд╛рдХреНрдп рдирд┐рд░реНрдорд╛рдг рдЧрд░реНрдЫред рдпреЛ рдорд┐рдиреЗрдЯ рд░ рд╕реЗрдХреЗрдиреНрдбрдХреЛ рд╕рдВрдЦреНрдпрд╛ рдЬрд╛рдБрдЪ рдЧрд░реНрдЫ, рд░ рдкреНрд░рддреНрдпреЗрдХ рд╕рдордп рдЗрдХрд╛рдИрд▓рд╛рдИ рдорд╛рддреНрд░ рд╕рдорд╛рд╡реЗрд╢ рдЧрд░реНрдЫ рдпрджрд┐ рдпрд╕рдХреЛ рдХреБрдиреИ рдорд╛рди рдЫ рднрдиреЗред рдЙрджрд╛рд╣рд░рдгрдХрд╛ рд▓рд╛рдЧрд┐, рдпрджрд┐ рдорд┐рдиреЗрдЯрдХреЛ рд╕рдВрдЦреНрдпрд╛ 0 рдЫ рднрдиреЗ рдХреЗрд╡рд▓ рд╕реЗрдХреЗрдиреНрдбрд▓рд╛рдИ рд╕рдиреНрджреЗрд╢рдорд╛ рд╕рдорд╛рд╡реЗрд╢ рдЧрд░рд┐рдиреНрдЫред рдпреЛ рд╡рд╛рдХреНрдп `say` рдлрдЩреНрд╕рдирдорд╛ рдкрдард╛рдЗрдиреНрдЫред

1. рдпрд╕рдХреЛ рддрд▓, рдЯрд╛рдЗрдорд░ рд╕рд┐рд░реНрдЬрдирд╛ рдЧрд░реНрди рдирд┐рдореНрди `create_timer` рдлрдЩреНрд╕рди рдердкреНрдиреБрд╣реЛрд╕реН:

    ```python
    def create_timer(total_seconds):
        minutes, seconds = divmod(total_seconds, 60)
        threading.Timer(total_seconds, announce_timer, args=[minutes, seconds]).start()
    ```

    рдпреЛ рдлрдЩреНрд╕рдирд▓реЗ рдЖрджреЗрд╢рдорд╛ рдкрдард╛рдЗрдиреЗ рдЯрд╛рдЗрдорд░рдХрд╛ рд▓рд╛рдЧрд┐ рдХреБрд▓ рд╕реЗрдХреЗрдиреНрдб рд▓рд┐рдиреНрдЫ, рд░ рдпрд╕рд▓рд╛рдИ рдорд┐рдиреЗрдЯ рд░ рд╕реЗрдХреЗрдиреНрдбрдорд╛ рд░реВрдкрд╛рдиреНрддрд░рдг рдЧрд░реНрдЫред рддреНрдпрд╕рдкрдЫрд┐ рдпреЛ рдХреБрд▓ рд╕реЗрдХреЗрдиреНрдб рдкреНрд░рдпреЛрдЧ рдЧрд░реЗрд░ рдЯрд╛рдЗрдорд░ рд╡рд╕реНрддреБ рд╕рд┐рд░реНрдЬрдирд╛ рд░ рд╕реБрд░реБ рдЧрд░реНрдЫ, `announce_timer` рдлрдЩреНрд╕рди рд░ рдорд┐рдиреЗрдЯ рд░ рд╕реЗрдХреЗрдиреНрдб рд╕рдорд╛рд╡реЗрд╢ рднрдПрдХреЛ рд╕реВрдЪреА рдкрд╛рд╕ рдЧрд░реНрджреИред рдЬрдм рдЯрд╛рдЗрдорд░ рд╕рдорд╛рдкреНрдд рд╣реБрдиреНрдЫ, рдпрд╕рд▓реЗ `announce_timer` рдлрдЩреНрд╕рдирд▓рд╛рдИ рдХрд▓ рдЧрд░реНрдЫ, рд░ рдпреЛ рд╕реВрдЪреАрдХреЛ рд╕рд╛рдордЧреНрд░реАрд▓рд╛рдИ рдкреНрдпрд╛рд░рд╛рдорд┐рдЯрд░рдХреЛ рд░реВрдкрдорд╛ рдкрд╛рд╕ рдЧрд░реНрдЫ - рддреНрдпрд╕реИрд▓реЗ рд╕реВрдЪреАрдХреЛ рдкрд╣рд┐рд▓реЛ рд╡рд╕реНрддреБ `minutes` рдкреНрдпрд╛рд░рд╛рдорд┐рдЯрд░рдХреЛ рд░реВрдкрдорд╛ рдкрд╛рд╕ рд╣реБрдиреНрдЫ, рд░ рджреЛрд╕реНрд░реЛ рд╡рд╕реНрддреБ `seconds` рдкреНрдпрд╛рд░рд╛рдорд┐рдЯрд░рдХреЛ рд░реВрдкрдорд╛ред

1. `create_timer` рдлрдЩреНрд╕рдирдХреЛ рдЕрдиреНрддреНрдпрдорд╛, рдкреНрд░рдпреЛрдЧрдХрд░реНрддрд╛рд▓рд╛рдИ рдЯрд╛рдЗрдорд░ рд╕реБрд░реБ рднрдПрдХреЛ рдШреЛрд╖рдгрд╛ рдЧрд░реНрди рдмреЛрд▓рд┐рдиреЗ рд╕рдиреНрджреЗрд╢ рдирд┐рд░реНрдорд╛рдг рдЧрд░реНрди рдХреЗрд╣реА рдХреЛрдб рдердкреНрдиреБрд╣реЛрд╕реН:

    ```python
    announcement = ''
    if minutes > 0:
        announcement += f'{minutes} minute '
    if seconds > 0:
        announcement += f'{seconds} second '    
    announcement += 'timer started.'
    say(announcement)
    ```

    рдлреЗрд░рд┐, рдпрд╕рд▓реЗ рдХреЗрд╡рд▓ рдорд╛рди рднрдПрдХреЛ рд╕рдордп рдЗрдХрд╛рдИ рд╕рдорд╛рд╡реЗрд╢ рдЧрд░реНрдЫред рдпреЛ рд╡рд╛рдХреНрдп `say` рдлрдЩреНрд╕рдирдорд╛ рдкрдард╛рдЗрдиреНрдЫред

1. `process_text` рдлрдЩреНрд╕рдирдХреЛ рдЕрдиреНрддреНрдпрдорд╛ рдирд┐рдореНрди рдердкреНрдиреБрд╣реЛрд╕реН, рдкрд╛рдардмрд╛рдЯ рдЯрд╛рдЗрдорд░рдХреЛ рд╕рдордп рдкреНрд░рд╛рдкреНрдд рдЧрд░реНрди, рддреНрдпрд╕рдкрдЫрд┐ рдЯрд╛рдЗрдорд░ рд╕рд┐рд░реНрдЬрдирд╛ рдЧрд░реНрди:

    ```python
    seconds = get_timer_time(text)
    if seconds > 0:
        create_timer(seconds)
    ```

    рдЯрд╛рдЗрдорд░ рдХреЗрд╡рд▓ рддрдм рд╕рд┐рд░реНрдЬрдирд╛ рд╣реБрдиреНрдЫ рдЬрдм рд╕реЗрдХреЗрдиреНрдбрдХреЛ рд╕рдВрдЦреНрдпрд╛ 0 рднрдиреНрджрд╛ рдмрдвреА рд╣реБрдиреНрдЫред

1. рдПрдк рдЪрд▓рд╛рдЙрдиреБрд╣реЛрд╕реН, рд░ рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдЧрд░реНрдиреБрд╣реЛрд╕реН рдХрд┐ рдлрдЩреНрд╕рди рдПрдк рдкрдирд┐ рдЪрд▓рд┐рд░рд╣реЗрдХреЛ рдЫред рдХреЗрд╣реА рдЯрд╛рдЗрдорд░рд╣рд░реВ рд╕реЗрдЯ рдЧрд░реНрдиреБрд╣реЛрд╕реН, рд░ рдЖрдЙрдЯрдкреБрдЯрд▓реЗ рдЯрд╛рдЗрдорд░ рд╕реЗрдЯ рднрдЗрд░рд╣реЗрдХреЛ рджреЗрдЦрд╛рдЙрдиреЗрдЫ, рд░ рддреНрдпрд╕рдкрдЫрд┐ рдЯрд╛рдЗрдорд░ рд╕рдорд╛рдкреНрдд рд╣реБрдБрджрд╛ рджреЗрдЦрд╛рдЙрдиреЗрдЫ:

    ```output
    pi@raspberrypi:~/smart-timer $ python3 app.py 
    Set a two minute 27 second timer.
    2 minute 27 second timer started.
    Times up on your 2 minute 27 second timer.
    ```

> ЁЯТБ рддрдкрд╛рдИрдВрд▓реЗ рдпреЛ рдХреЛрдб [code-timer/pi](../../../../../6-consumer/lessons/3-spoken-feedback/code-timer/pi) рд╡рд╛ [code-timer/virtual-iot-device](../../../../../6-consumer/lessons/3-spoken-feedback/code-timer/virtual-iot-device) рдлреЛрд▓реНрдбрд░рдорд╛ рдлреЗрд▓рд╛ рдкрд╛рд░реНрди рд╕рдХреНрдиреБрд╣реБрдиреНрдЫред

ЁЯША рддрдкрд╛рдИрдВрдХреЛ рдЯрд╛рдЗрдорд░ рдкреНрд░реЛрдЧреНрд░рд╛рдо рд╕рдлрд▓ рднрдпреЛ!

---

**рдЕрд╕реНрд╡реАрдХрд░рдг**:  
рдпреЛ рджрд╕реНрддрд╛рд╡реЗрдЬрд╝ AI рдЕрдиреБрд╡рд╛рдж рд╕реЗрд╡рд╛ [Co-op Translator](https://github.com/Azure/co-op-translator) рдкреНрд░рдпреЛрдЧ рдЧрд░реЗрд░ рдЕрдиреБрд╡рд╛рдж рдЧрд░рд┐рдПрдХреЛ рдЫред рд╣рд╛рдореА рд╢реБрджреНрдзрддрд╛рдХреЛ рд▓рд╛рдЧрд┐ рдкреНрд░рдпрд╛рд╕ рдЧрд░реНрдЫреМрдВ, рддрд░ рдХреГрдкрдпрд╛ рдзреНрдпрд╛рди рджрд┐рдиреБрд╣реЛрд╕реН рдХрд┐ рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рдЕрдиреБрд╡рд╛рджрдорд╛ рддреНрд░реБрдЯрд┐рд╣рд░реВ рд╡рд╛ рдЕрд╢реБрджреНрдзрддрд╛рд╣рд░реВ рд╣реБрди рд╕рдХреНрдЫред рдпрд╕рдХреЛ рдореВрд▓ рднрд╛рд╖рд╛ рдорд╛ рд░рд╣реЗрдХреЛ рдореВрд▓ рджрд╕реНрддрд╛рд╡реЗрдЬрд╝рд▓рд╛рдИ рдЖрдзрд┐рдХрд╛рд░рд┐рдХ рд╕реНрд░реЛрдд рдорд╛рдирд┐рдиреБрдкрд░реНрдЫред рдорд╣рддреНрд╡рдкреВрд░реНрдг рдЬрд╛рдирдХрд╛рд░реАрдХреЛ рд▓рд╛рдЧрд┐, рд╡реНрдпрд╛рд╡рд╕рд╛рдпрд┐рдХ рдорд╛рдирд╡ рдЕрдиреБрд╡рд╛рдж рд╕рд┐рдлрд╛рд░рд┐рд╕ рдЧрд░рд┐рдиреНрдЫред рдпрд╕ рдЕрдиреБрд╡рд╛рджрдХреЛ рдкреНрд░рдпреЛрдЧрдмрд╛рдЯ рдЙрддреНрдкрдиреНрди рд╣реБрдиреЗ рдХреБрдиреИ рдкрдирд┐ рдЧрд▓рддрдлрд╣рдореА рд╡рд╛ рдЧрд▓рдд рд╡реНрдпрд╛рдЦреНрдпрд╛рдХреЛ рд▓рд╛рдЧрд┐ рд╣рд╛рдореА рдЬрд┐рдореНрдореЗрд╡рд╛рд░ рд╣реБрдиреЗ рдЫреИрдиреМрдВред