<!--
CO_OP_TRANSLATOR_METADATA:
{
  "original_hash": "5f6c164e349f8989959e02a90f37908d",
  "translation_date": "2025-08-27T13:25:02+00:00",
  "source_file": "6-consumer/lessons/4-multiple-language-support/wio-terminal-translate-speech.md",
  "language_code": "ne"
}
-->
# рднрд╛рд╖рдг рдЕрдиреБрд╡рд╛рдж рдЧрд░реНрдиреБрд╣реЛрд╕реН - Wio Terminal

рдпрд╕ рдкрд╛рдардХреЛ рдпрд╕ рднрд╛рдЧрдорд╛, рддрдкрд╛рдИрдВ рдЕрдиреБрд╡рд╛рджрдХ рд╕реЗрд╡рд╛рдХреЛ рдкреНрд░рдпреЛрдЧ рдЧрд░реЗрд░ рдкрд╛рда рдЕрдиреБрд╡рд╛рдж рдЧрд░реНрди рдХреЛрдб рд▓реЗрдЦреНрдиреБрд╣реБрдиреЗрдЫред

## рдЕрдиреБрд╡рд╛рджрдХ рд╕реЗрд╡рд╛рдХреЛ рдкреНрд░рдпреЛрдЧ рдЧрд░реЗрд░ рдкрд╛рдард▓рд╛рдИ рднрд╛рд╖рдгрдорд╛ рд░реВрдкрд╛рдиреНрддрд░рдг рдЧрд░реНрдиреБрд╣реЛрд╕реН

рд╕реНрдкреАрдЪ рд╕реЗрд╡рд╛ REST API рд▓реЗ рдкреНрд░рддреНрдпрдХреНрд╖ рдЕрдиреБрд╡рд╛рджрд▓рд╛рдИ рд╕рдорд░реНрдерди рдЧрд░реНрджреИрдиред рдпрд╕рдХреЛ рд╕рдЯреНрдЯрд╛, рддрдкрд╛рдИрдВ рд╕реНрдкреАрдЪ рдЯреБ рдЯреЗрдХреНрд╕реНрдЯ рд╕реЗрд╡рд╛рд▓реЗ рдЙрддреНрдкрдиреНрди рдЧрд░реЗрдХреЛ рдкрд╛рда рд░ рдмреЛрд▓реЗрдХреЛ рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛рдХреЛ рдкрд╛рда рдЕрдиреБрд╡рд╛рдж рдЧрд░реНрди рдЕрдиреБрд╡рд╛рджрдХ рд╕реЗрд╡рд╛рдХреЛ рдкреНрд░рдпреЛрдЧ рдЧрд░реНрди рд╕рдХреНрдиреБрд╣реБрдиреНрдЫред рдпреЛ рд╕реЗрд╡рд╛рд▓реЗ рдкрд╛рда рдЕрдиреБрд╡рд╛рдж рдЧрд░реНрди REST API рдкреНрд░рджрд╛рди рдЧрд░реНрджрдЫ, рддрд░ рдпрд╕рд▓рд╛рдИ рдкреНрд░рдпреЛрдЧ рдЧрд░реНрди рд╕рдЬрд┐рд▓реЛ рдмрдирд╛рдЙрди, рдпреЛ рддрдкрд╛рдИрдВрдХреЛ рдлрдЩреНрдХреНрд╕рди рдПрдкрдорд╛ рдЕрд░реНрдХреЛ HTTP рдЯреНрд░рд┐рдЧрд░рдорд╛ рд╕рдореЗрдЯрд┐рдиреЗрдЫред

### рдХрд╛рд░реНрдп - рдкрд╛рда рдЕрдиреБрд╡рд╛рдж рдЧрд░реНрди рдПрдХ рд╕рд░реНрднрд░рд▓реЗрд╕ рдлрдЩреНрдХреНрд╕рди рдмрдирд╛рдЙрдиреБрд╣реЛрд╕реН

1. рдЖрдлреНрдиреЛ `smart-timer-trigger` рдкреНрд░реЛрдЬреЗрдХреНрдЯрд▓рд╛рдИ VS Code рдорд╛ рдЦреЛрд▓реНрдиреБрд╣реЛрд╕реН, рд░ рдЯрд░реНрдорд┐рдирд▓ рдЦреЛрд▓реНрдиреБрд╣реЛрд╕реН рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдЧрд░реНрджреИ рдХрд┐ рднрд░реНрдЪреБрдЕрд▓ рд╡рд╛рддрд╛рд╡рд░рдг рд╕рдХреНрд░рд┐рдп рдЫред рдпрджрд┐ рдЫреИрди рднрдиреЗ, рдЯрд░реНрдорд┐рдирд▓ рдмрдиреНрдж рдЧрд░реЗрд░ рдкреБрдирдГ рд╕рд┐рд░реНрдЬрдирд╛ рдЧрд░реНрдиреБрд╣реЛрд╕реНред

1. `local.settings.json` рдлрд╛рдЗрд▓ рдЦреЛрд▓реНрдиреБрд╣реЛрд╕реН рд░ рдЕрдиреБрд╡рд╛рджрдХ API рдХреБрдЮреНрдЬреА рд░ рд╕реНрдерд╛рдирдХреЛ рд▓рд╛рдЧрд┐ рд╕реЗрдЯрд┐рдЩрд╣рд░реВ рдердкреНрдиреБрд╣реЛрд╕реН:

    ```json
    "TRANSLATOR_KEY": "<key>",
    "TRANSLATOR_LOCATION": "<location>"
    ```

    `<key>` рд▓рд╛рдИ рддрдкрд╛рдИрдВрдХреЛ рдЕрдиреБрд╡рд╛рджрдХ рд╕реЗрд╡рд╛ рд╕реНрд░реЛрддрдХреЛ рд▓рд╛рдЧрд┐ API рдХреБрдЮреНрдЬреАрд▓реЗ рдкреНрд░рддрд┐рд╕реНрдерд╛рдкрди рдЧрд░реНрдиреБрд╣реЛрд╕реНред `<location>` рд▓рд╛рдИ рддрдкрд╛рдИрдВрд▓реЗ рдЕрдиреБрд╡рд╛рджрдХ рд╕реЗрд╡рд╛ рд╕реНрд░реЛрдд рд╕рд┐рд░реНрдЬрдирд╛ рдЧрд░реНрджрд╛ рдкреНрд░рдпреЛрдЧ рдЧрд░реЗрдХреЛ рд╕реНрдерд╛рдирд▓реЗ рдкреНрд░рддрд┐рд╕реНрдерд╛рдкрди рдЧрд░реНрдиреБрд╣реЛрд╕реНред

1. рдпрд╕ рдПрдкрдорд╛ `translate-text` рдирд╛рдордХреЛ рдирдпрд╛рдБ HTTP рдЯреНрд░рд┐рдЧрд░ рдердкреНрдиреБрд╣реЛрд╕реНред рдпрд╕рдХрд╛ рд▓рд╛рдЧрд┐, VS Code рдЯрд░реНрдорд┐рдирд▓рдорд╛ рдлрдЩреНрдХреНрд╕рди рдПрдк рдкреНрд░реЛрдЬреЗрдХреНрдЯрдХреЛ рдореВрд▓ рдлреЛрд▓реНрдбрд░рднрд┐рддреНрд░ рдирд┐рдореНрди рдЖрджреЗрд╢ рдЪрд▓рд╛рдЙрдиреБрд╣реЛрд╕реН:

    ```sh
    func new --name translate-text --template "HTTP trigger"
    ```

    рдпрд╕рд▓реЗ `translate-text` рдирд╛рдордХреЛ HTTP рдЯреНрд░рд┐рдЧрд░ рд╕рд┐рд░реНрдЬрдирд╛ рдЧрд░реНрдиреЗрдЫред

1. `translate-text` рдлреЛрд▓реНрдбрд░рдХреЛ `__init__.py` рдлрд╛рдЗрд▓рдХреЛ рд╕рд╛рдордЧреНрд░реАрд▓рд╛рдИ рдирд┐рдореНрдирд╕рдБрдЧ рдкреНрд░рддрд┐рд╕реНрдерд╛рдкрди рдЧрд░реНрдиреБрд╣реЛрд╕реН:

    ```python
    import logging
    import os
    import requests
    
    import azure.functions as func
    
    location = os.environ['TRANSLATOR_LOCATION']
    translator_key = os.environ['TRANSLATOR_KEY']
    
    def main(req: func.HttpRequest) -> func.HttpResponse:
        req_body = req.get_json()
        from_language = req_body['from_language']
        to_language = req_body['to_language']
        text = req_body['text']
        
        logging.info(f'Translating {text} from {from_language} to {to_language}')
    
        url = f'https://api.cognitive.microsofttranslator.com/translate?api-version=3.0'
    
        headers = {
            'Ocp-Apim-Subscription-Key': translator_key,
            'Ocp-Apim-Subscription-Region': location,
            'Content-type': 'application/json'
        }
    
        params = {
            'from': from_language,
            'to': to_language
        }
    
        body = [{
            'text' : text
        }]
        
        response = requests.post(url, headers=headers, params=params, json=body)
        return func.HttpResponse(response.json()[0]['translations'][0]['text'])
    ```

    рдпреЛ рдХреЛрдбрд▓реЗ HTTP рдЕрдиреБрд░реЛрдзрдмрд╛рдЯ рдкрд╛рда рд░ рднрд╛рд╖рд╛рд╣рд░реВ рдирд┐рдХрд╛рд▓реНрдЫред рддреНрдпрд╕рдкрдЫрд┐ рдпреЛ рдЕрдиреБрд╡рд╛рджрдХ REST API рдорд╛ рдЕрдиреБрд░реЛрдз рдЧрд░реНрдЫ, URL рдХреЛ рд▓рд╛рдЧрд┐ рднрд╛рд╖рд╛рд╣рд░реВрд▓рд╛рдИ рдкреНрдпрд╛рд░рд╛рдорд┐рдЯрд░рдХреЛ рд░реВрдкрдорд╛ рд░ рдЕрдиреБрд╡рд╛рдж рдЧрд░реНрди рдкрд╛рдард▓рд╛рдИ рдмрдбреАрдХреЛ рд░реВрдкрдорд╛ рдкрд╛рд╕ рдЧрд░реНрджреИред рдЕрдиреНрддрддрдГ, рдЕрдиреБрд╡рд╛рдж рдлрд░реНрдХрд╛рдЗрдиреНрдЫред

1. рдЖрдлреНрдиреЛ рдлрдЩреНрдХреНрд╕рди рдПрдкрд▓рд╛рдИ рд╕реНрдерд╛рдиреАрдп рд░реВрдкрдорд╛ рдЪрд▓рд╛рдЙрдиреБрд╣реЛрд╕реНред рддреНрдпрд╕рдкрдЫрд┐ рддрдкрд╛рдИрдВ рдпрд╕рд▓рд╛рдИ curl рдЬрд╕реНрддреЛ рдЙрдкрдХрд░рдг рдкреНрд░рдпреЛрдЧ рдЧрд░реЗрд░ рдкрд░реАрдХреНрд╖рдг рдЧрд░реНрди рд╕рдХреНрдиреБрд╣реБрдиреНрдЫ, рдареАрдХ рддреНрдпрд╕реНрддреИ рдЬрд╕рд░реА рддрдкрд╛рдИрдВрд▓реЗ `text-to-timer` HTTP рдЯреНрд░рд┐рдЧрд░ рдкрд░реАрдХреНрд╖рдг рдЧрд░реНрдиреБрднрдпреЛред рдЕрдиреБрд╡рд╛рдж рдЧрд░реНрди рдкрд╛рда рд░ рднрд╛рд╖рд╛рд╣рд░реВ JSON рдмрдбреАрдХреЛ рд░реВрдкрдорд╛ рдкрд╛рд╕ рдЧрд░реНрди рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдЧрд░реНрдиреБрд╣реЛрд╕реН:

    ```json
    {
        "text": "D├йfinir une minuterie de 30 secondes",
        "from_language": "fr-FR",
        "to_language": "en-US"
    }
    ```

    рдпреЛ рдЙрджрд╛рд╣рд░рдгрд▓реЗ *D├йfinir une minuterie de 30 secondes* рд▓рд╛рдИ рдлреНрд░реЗрдиреНрдЪрдмрд╛рдЯ рдЕрдореЗрд░рд┐рдХреА рдЕрдВрдЧреНрд░реЗрдЬреАрдорд╛ рдЕрдиреБрд╡рд╛рдж рдЧрд░реНрджрдЫред рдпрд╕рд▓реЗ *Set a 30-second timer* рдлрд░реНрдХрд╛рдЙрдиреЗрдЫред

> ЁЯТБ рддрдкрд╛рдИрдВ рдпреЛ рдХреЛрдб [code/functions](../../../../../6-consumer/lessons/4-multiple-language-support/code/functions) рдлреЛрд▓реНрдбрд░рдорд╛ рдкрд╛рдЙрди рд╕рдХреНрдиреБрд╣реБрдиреНрдЫред

### рдХрд╛рд░реНрдп - рдЕрдиреБрд╡рд╛рджрдХ рдлрдЩреНрдХреНрд╕рди рдкреНрд░рдпреЛрдЧ рдЧрд░реЗрд░ рдкрд╛рда рдЕрдиреБрд╡рд╛рдж рдЧрд░реНрдиреБрд╣реЛрд╕реН

1. рдпрджрд┐ `smart-timer` рдкреНрд░реЛрдЬреЗрдХреНрдЯ VS Code рдорд╛ рдЦреБрд▓рд╛ рдЫреИрди рднрдиреЗ рдпрд╕рд▓рд╛рдИ рдЦреЛрд▓реНрдиреБрд╣реЛрд╕реНред

1. рддрдкрд╛рдИрдВрдХреЛ рд╕реНрдорд╛рд░реНрдЯ рдЯрд╛рдЗрдорд░рдорд╛ 2 рднрд╛рд╖рд╛ рд╕реЗрдЯ рд╣реБрдиреЗрдЫ - LUIS рдкреНрд░рд╢рд┐рдХреНрд╖рдг рдЧрд░реНрди рдкреНрд░рдпреЛрдЧ рдЧрд░рд┐рдПрдХреЛ рд╕рд░реНрднрд░рдХреЛ рднрд╛рд╖рд╛ (рдЙрд╣реА рднрд╛рд╖рд╛ рдкреНрд░рдпреЛрдЧрдХрд░реНрддрд╛рд╕рдБрдЧ рдмреЛрд▓реНрди рд╕рдиреНрджреЗрд╢ рдирд┐рд░реНрдорд╛рдг рдЧрд░реНрди рдкреНрд░рдпреЛрдЧ рдЧрд░рд┐рдиреНрдЫ), рд░ рдкреНрд░рдпреЛрдЧрдХрд░реНрддрд╛рд▓реЗ рдмреЛрд▓реЗрдХреЛ рднрд╛рд╖рд╛ред `config.h` рд╣реЗрдбрд░ рдлрд╛рдЗрд▓рдорд╛ `LANGUAGE` рд╕реНрдерд┐рд░рд╛рдВрдХрд▓рд╛рдИ рдкреНрд░рдпреЛрдЧрдХрд░реНрддрд╛рд▓реЗ рдмреЛрд▓реНрдиреЗ рднрд╛рд╖рд╛рдорд╛ рдЕрдкрдбреЗрдЯ рдЧрд░реНрдиреБрд╣реЛрд╕реН, рд░ `SERVER_LANGUAGE` рдирд╛рдордХреЛ рдирдпрд╛рдБ рд╕реНрдерд┐рд░рд╛рдВрдХ рдердкреНрдиреБрд╣реЛрд╕реН рдЬреБрди LUIS рдкреНрд░рд╢рд┐рдХреНрд╖рдг рдЧрд░реНрди рдкреНрд░рдпреЛрдЧ рдЧрд░рд┐рдПрдХреЛ рднрд╛рд╖рд╛рдХреЛ рд▓рд╛рдЧрд┐ рд╣реЛ:

    ```cpp
    const char *LANGUAGE = "<user language>";
    const char *SERVER_LANGUAGE = "<server language>";
    ```

    `<user language>` рд▓рд╛рдИ рддрдкрд╛рдИрдВ рдмреЛрд▓реНрдиреЗ рднрд╛рд╖рд╛рдХреЛ рд▓реЛрдХреЗрд▓ рдирд╛рдорд▓реЗ рдкреНрд░рддрд┐рд╕реНрдерд╛рдкрди рдЧрд░реНрдиреБрд╣реЛрд╕реН, рдЙрджрд╛рд╣рд░рдгрдХрд╛ рд▓рд╛рдЧрд┐ рдлреНрд░реЗрдиреНрдЪрдХреЛ рд▓рд╛рдЧрд┐ `fr-FR`, рд╡рд╛ рдХреНрдпрд╛рдиреНрдЯреЛрдирд┐рдЬрдХреЛ рд▓рд╛рдЧрд┐ `zn-HK`ред

    `<server language>` рд▓рд╛рдИ LUIS рдкреНрд░рд╢рд┐рдХреНрд╖рдг рдЧрд░реНрди рдкреНрд░рдпреЛрдЧ рдЧрд░рд┐рдПрдХреЛ рднрд╛рд╖рд╛рдХреЛ рд▓реЛрдХреЗрд▓ рдирд╛рдорд▓реЗ рдкреНрд░рддрд┐рд╕реНрдерд╛рдкрди рдЧрд░реНрдиреБрд╣реЛрд╕реНред

    рддрдкрд╛рдИрдВ рд╕рдорд░реНрдерд┐рдд рднрд╛рд╖рд╛рд╣рд░реВ рд░ рддрд┐рдирдХрд╛ рд▓реЛрдХреЗрд▓ рдирд╛рдорд╣рд░реВрдХреЛ рд╕реВрдЪреА [Microsoft docs рдорд╛ рднрд╛рд╖рд╛рдХреЛ рд╕рдорд░реНрдерди](https://docs.microsoft.com/azure/cognitive-services/speech-service/language-support?WT.mc_id=academic-17441-jabenn#speech-to-text) рдорд╛ рдкрд╛рдЙрди рд╕рдХреНрдиреБрд╣реБрдиреНрдЫред

    > ЁЯТБ рдпрджрд┐ рддрдкрд╛рдИрдВ рдзреЗрд░реИ рднрд╛рд╖рд╛рд╣рд░реВ рдмреЛрд▓реНрди рд╕рдХреНрдиреБрд╣реБрдиреНрди рднрдиреЗ, рддрдкрд╛рдИрдВ [Bing Translate](https://www.bing.com/translator) рд╡рд╛ [Google Translate](https://translate.google.com) рдЬрд╕реНрддрд╛ рд╕реЗрд╡рд╛рд╣рд░реВ рдкреНрд░рдпреЛрдЧ рдЧрд░реНрди рд╕рдХреНрдиреБрд╣реБрдиреНрдЫред рдпреА рд╕реЗрд╡рд╛рд╣рд░реВрд▓реЗ рдЕрдиреБрд╡рд╛рджрд┐рдд рдкрд╛рдардХреЛ рдЕрдбрд┐рдпреЛ рдкрдирд┐ рдмрдЬрд╛рдЙрди рд╕рдХреНрдЫред
    >
    > рдЙрджрд╛рд╣рд░рдгрдХрд╛ рд▓рд╛рдЧрд┐, рдпрджрд┐ рддрдкрд╛рдИрдВрд▓реЗ LUIS рд▓рд╛рдИ рдЕрдВрдЧреНрд░реЗрдЬреАрдорд╛ рдкреНрд░рд╢рд┐рдХреНрд╖рдг рдЧрд░реНрдиреБрднрдпреЛ, рддрд░ рдкреНрд░рдпреЛрдЧрдХрд░реНрддрд╛ рднрд╛рд╖рд╛ рдлреНрд░реЗрдиреНрдЪ рдкреНрд░рдпреЛрдЧ рдЧрд░реНрди рдЪрд╛рд╣рдиреБрд╣реБрдиреНрдЫ рднрдиреЗ, рддрдкрд╛рдИрдВ Bing Translate рдкреНрд░рдпреЛрдЧ рдЧрд░реЗрд░ "set a 2 minute and 27 second timer" рд▓рд╛рдИ рдЕрдВрдЧреНрд░реЗрдЬреАрдмрд╛рдЯ рдлреНрд░реЗрдиреНрдЪрдорд╛ рдЕрдиреБрд╡рд╛рдж рдЧрд░реНрди рд╕рдХреНрдиреБрд╣реБрдиреНрдЫред рддреНрдпрд╕рдкрдЫрд┐ **Listen translation** рдмрдЯрди рдкреНрд░рдпреЛрдЧ рдЧрд░реЗрд░ рдЕрдиреБрд╡рд╛рджрд▓рд╛рдИ рдЖрдлреНрдиреЛ рдорд╛рдЗрдХреНрд░реЛрдлреЛрдирдорд╛ рдмреЛрд▓реНрди рд╕рдХреНрдиреБрд╣реБрдиреНрдЫред
    >
    > ![Bing Translate рдорд╛ Listen translation рдмрдЯрди](../../../../../translated_images/bing-translate.348aa796d6efe2a92f41ea74a5cf42bb4c63d6faaa08e7f46924e072a35daa48.ne.png)

1. `SPEECH_LOCATION` рддрд▓ рдЕрдиреБрд╡рд╛рджрдХ API рдХреБрдЮреНрдЬреА рд░ рд╕реНрдерд╛рди рдердкреНрдиреБрд╣реЛрд╕реН:

    ```cpp
    const char *TRANSLATOR_API_KEY = "<KEY>";
    const char *TRANSLATOR_LOCATION = "<LOCATION>";
    ```

    `<KEY>` рд▓рд╛рдИ рддрдкрд╛рдИрдВрдХреЛ рдЕрдиреБрд╡рд╛рджрдХ рд╕реЗрд╡рд╛ рд╕реНрд░реЛрддрдХреЛ рд▓рд╛рдЧрд┐ API рдХреБрдЮреНрдЬреАрд▓реЗ рдкреНрд░рддрд┐рд╕реНрдерд╛рдкрди рдЧрд░реНрдиреБрд╣реЛрд╕реНред `<LOCATION>` рд▓рд╛рдИ рддрдкрд╛рдИрдВрд▓реЗ рдЕрдиреБрд╡рд╛рджрдХ рд╕реЗрд╡рд╛ рд╕реНрд░реЛрдд рд╕рд┐рд░реНрдЬрдирд╛ рдЧрд░реНрджрд╛ рдкреНрд░рдпреЛрдЧ рдЧрд░реЗрдХреЛ рд╕реНрдерд╛рдирд▓реЗ рдкреНрд░рддрд┐рд╕реНрдерд╛рдкрди рдЧрд░реНрдиреБрд╣реЛрд╕реНред

1. `VOICE_URL` рддрд▓ рдЕрдиреБрд╡рд╛рджрдХ рдЯреНрд░рд┐рдЧрд░ URL рдердкреНрдиреБрд╣реЛрд╕реН:

    ```cpp
    const char *TRANSLATE_FUNCTION_URL = "<URL>";
    ```

    `<URL>` рд▓рд╛рдИ рддрдкрд╛рдИрдВрдХреЛ рдлрдЩреНрдХреНрд╕рди рдПрдкрдорд╛ `translate-text` HTTP рдЯреНрд░рд┐рдЧрд░рдХреЛ URL рд▓реЗ рдкреНрд░рддрд┐рд╕реНрдерд╛рдкрди рдЧрд░реНрдиреБрд╣реЛрд╕реНред рдпреЛ `TEXT_TO_TIMER_FUNCTION_URL` рдХреЛ рдорд╛рдирд╕рдБрдЧ рд╕рдорд╛рди рд╣реБрдиреЗрдЫ, рддрд░ `text-to-timer` рдХреЛ рд╕рдЯреНрдЯрд╛ `translate-text` рдлрдЩреНрдХреНрд╕рди рдирд╛рдо рд╣реБрдиреЗрдЫред

1. `src` рдлреЛрд▓реНрдбрд░рдорд╛ `text_translator.h` рдирд╛рдордХреЛ рдирдпрд╛рдБ рдлрд╛рдЗрд▓ рдердкреНрдиреБрд╣реЛрд╕реНред

1. рдпреЛ рдирдпрд╛рдБ `text_translator.h` рд╣реЗрдбрд░ рдлрд╛рдЗрд▓рдорд╛ рдкрд╛рда рдЕрдиреБрд╡рд╛рдж рдЧрд░реНрди рдХрдХреНрд╖рд╛ рд╕рдорд╛рд╡реЗрд╢ рд╣реБрдиреЗрдЫред рдпреЛ рдХрдХреНрд╖рд╛ рдШреЛрд╖рдгрд╛ рдЧрд░реНрди рдирд┐рдореНрди рдердкреНрдиреБрд╣реЛрд╕реН:

    ```cpp
    #pragma once
    
    #include <Arduino.h>
    #include <ArduinoJson.h>
    #include <HTTPClient.h>
    #include <WiFiClient.h>
    
    #include "config.h"
    
    class TextTranslator
    {
    public:   
    private:
        WiFiClient _client;
    };
    
    TextTranslator textTranslator;
    ```

    рдпрд╕рд▓реЗ `TextTranslator` рдХрдХреНрд╖рд╛ рдШреЛрд╖рдгрд╛ рдЧрд░реНрджрдЫ, рд╕рд╛рдереИ рдпрд╕ рдХрдХреНрд╖рд╛рдХреЛ рдПрдХ рдЙрджрд╛рд╣рд░рдгред рдХрдХреНрд╖рд╛рдорд╛ WiFi рдХреНрд▓рд╛рдЗрдиреНрдЯрдХреЛ рд▓рд╛рдЧрд┐ рдПрдХ рдорд╛рддреНрд░ рдлрд┐рд▓реНрдб рдЫред

1. рдХрдХреНрд╖рд╛рдХреЛ `public` рднрд╛рдЧрдорд╛ рдкрд╛рда рдЕрдиреБрд╡рд╛рдж рдЧрд░реНрди рд╡рд┐рдзрд┐ рдердкреНрдиреБрд╣реЛрд╕реН:

    ```cpp
    String translateText(String text, String from_language, String to_language)
    {
    }
    ```

    рдпреЛ рд╡рд┐рдзрд┐рд▓реЗ рдЕрдиреБрд╡рд╛рдж рдЧрд░реНрди рднрд╛рд╖рд╛ рд░ рдЕрдиреБрд╡рд╛рдж рдЧрд░реНрди рднрд╛рд╖рд╛ рд▓рд┐рдиреНрдЫред рдЬрдм рднрд╛рд╖рдг рд╣реНрдпрд╛рдиреНрдбрд▓ рдЧрд░рд┐рдиреНрдЫ, рднрд╛рд╖рдг рдкреНрд░рдпреЛрдЧрдХрд░реНрддрд╛ рднрд╛рд╖рд╛рдмрд╛рдЯ LUIS рд╕рд░реНрднрд░ рднрд╛рд╖рд╛рдорд╛ рдЕрдиреБрд╡рд╛рдж рдЧрд░рд┐рдиреНрдЫ, рд░ рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛ рджрд┐рдиреЗ рдмреЗрд▓рд╛ рдпреЛ LUIS рд╕рд░реНрднрд░ рднрд╛рд╖рд╛рдмрд╛рдЯ рдкреНрд░рдпреЛрдЧрдХрд░реНрддрд╛ рднрд╛рд╖рд╛рдорд╛ рдЕрдиреБрд╡рд╛рдж рдЧрд░рд┐рдиреНрдЫред

1. рдпрд╕ рд╡рд┐рдзрд┐рдорд╛, рдЕрдиреБрд╡рд╛рдж рдЧрд░реНрди рдкрд╛рда рд░ рднрд╛рд╖рд╛рд╣рд░реВ рд╕рдорд╛рд╡реЗрд╢ рдЧрд░реНрдиреЗ JSON рдмрдбреА рдирд┐рд░реНрдорд╛рдг рдЧрд░реНрди рдХреЛрдб рдердкреНрдиреБрд╣реЛрд╕реН:

    ```cpp
    DynamicJsonDocument doc(1024);
    doc["text"] = text;
    doc["from_language"] = from_language;
    doc["to_language"] = to_language;

    String body;
    serializeJson(doc, body);

    Serial.print("Translating ");
    Serial.print(text);
    Serial.print(" from ");
    Serial.print(from_language);
    Serial.print(" to ");
    Serial.print(to_language);
    ```

1. рдпрд╕рдХреЛ рддрд▓, рд╕рд░реНрднрд░рд▓реЗрд╕ рдлрдЩреНрдХреНрд╕рди рдПрдкрдорд╛ рдмрдбреА рдкрдард╛рдЙрди рдирд┐рдореНрди рдХреЛрдб рдердкреНрдиреБрд╣реЛрд╕реН:

    ```cpp
    HTTPClient httpClient;
    httpClient.begin(_client, TRANSLATE_FUNCTION_URL);

    int httpResponseCode = httpClient.POST(body);
    ```

1. рддреНрдпрд╕рдкрдЫрд┐, рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛ рдкреНрд░рд╛рдкреНрдд рдЧрд░реНрди рдХреЛрдб рдердкреНрдиреБрд╣реЛрд╕реН:

    ```cpp
    String translated_text = "";

    if (httpResponseCode == 200)
    {
        translated_text = httpClient.getString();
        Serial.print("Translated: ");
        Serial.println(translated_text);
    }
    else
    {
        Serial.print("Failed to translate text - error ");
        Serial.println(httpResponseCode);
    }
    ```

1. рдЕрдиреНрддрддрдГ, рдХрдиреЗрдХреНрд╢рди рдмрдиреНрдж рдЧрд░реНрди рд░ рдЕрдиреБрд╡рд╛рджрд┐рдд рдкрд╛рда рдлрд░реНрдХрд╛рдЙрди рдХреЛрдб рдердкреНрдиреБрд╣реЛрд╕реН:

    ```cpp
    httpClient.end();

    return translated_text;
    ```

### рдХрд╛рд░реНрдп - рдкрд╣рд┐рдЪрд╛рди рдЧрд░рд┐рдПрдХреЛ рднрд╛рд╖рдг рд░ рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛рд╣рд░реВ рдЕрдиреБрд╡рд╛рдж рдЧрд░реНрдиреБрд╣реЛрд╕реН

1. `main.cpp` рдлрд╛рдЗрд▓ рдЦреЛрд▓реНрдиреБрд╣реЛрд╕реНред

1. рдлрд╛рдЗрд▓рдХреЛ рд╢реАрд░реНрд╖рдорд╛ `TextTranslator` рдХрдХреНрд╖рд╛ рд╣реЗрдбрд░ рдлрд╛рдЗрд▓рдХреЛ рд▓рд╛рдЧрд┐ рд╕рдорд╛рд╡реЗрд╢ рдирд┐рд░реНрджреЗрд╢рди рдердкреНрдиреБрд╣реЛрд╕реН:

    ```cpp
    #include "text_translator.h"
    ```

1. рдЯрд╛рдЗрдорд░ рд╕реЗрдЯ рдЧрд░реНрджрд╛ рд╡рд╛ рд╕рдорд╛рдкреНрдд рд╣реБрдБрджрд╛ рднрдирд┐рдПрдХреЛ рдкрд╛рда рдЕрдиреБрд╡рд╛рдж рдЧрд░реНрди рдЖрд╡рд╢реНрдпрдХ рдЫред рдпрд╕рдХрд╛ рд▓рд╛рдЧрд┐, `say` рдлрдЩреНрдХреНрд╕рдирдХреЛ рдкрд╣рд┐рд▓реЛ рд▓рд╛рдЗрдирдХреЛ рд░реВрдкрдорд╛ рдирд┐рдореНрди рдердкреНрдиреБрд╣реЛрд╕реН:

    ```cpp
    text = textTranslator.translateText(text, LANGUAGE, SERVER_LANGUAGE);
    ```

    рдпрд╕рд▓реЗ рдкрд╛рдард▓рд╛рдИ рдкреНрд░рдпреЛрдЧрдХрд░реНрддрд╛ рднрд╛рд╖рд╛рдорд╛ рдЕрдиреБрд╡рд╛рдж рдЧрд░реНрдиреЗрдЫред

1. `processAudio` рдлрдЩреНрдХреНрд╕рдирдорд╛, `String text = speechToText.convertSpeechToText();` рдХрд▓рдХреЛ рд╕рд╛рде рдЕрдбрд┐рдпреЛрдмрд╛рдЯ рдкрд╛рда рдкреНрд░рд╛рдкреНрдд рдЧрд░рд┐рдиреНрдЫред рдпрд╕ рдХрд▓рдкрдЫрд┐, рдкрд╛рда рдЕрдиреБрд╡рд╛рдж рдЧрд░реНрдиреБрд╣реЛрд╕реН:

    ```cpp
    String text = speechToText.convertSpeechToText();
    text = textTranslator.translateText(text, LANGUAGE, SERVER_LANGUAGE);
    ```

    рдпрд╕рд▓реЗ рдкрд╛рдард▓рд╛рдИ рдкреНрд░рдпреЛрдЧрдХрд░реНрддрд╛ рднрд╛рд╖рд╛рдмрд╛рдЯ рд╕рд░реНрднрд░рдорд╛ рдкреНрд░рдпреЛрдЧ рдЧрд░рд┐рдПрдХреЛ рднрд╛рд╖рд╛рдорд╛ рдЕрдиреБрд╡рд╛рдж рдЧрд░реНрдиреЗрдЫред

1. рдпреЛ рдХреЛрдб рдирд┐рд░реНрдорд╛рдг рдЧрд░реНрдиреБрд╣реЛрд╕реН, рдпрд╕рд▓рд╛рдИ рдЖрдлреНрдиреЛ Wio Terminal рдорд╛ рдЕрдкрд▓реЛрдб рдЧрд░реНрдиреБрд╣реЛрд╕реН рд░ рд╕рд┐рд░рд┐рдпрд▓ рдореЛрдирд┐рдЯрд░ рдорд╛рд░реНрдлрдд рдкрд░реАрдХреНрд╖рдг рдЧрд░реНрдиреБрд╣реЛрд╕реНред рдЬрдм рд╕рд┐рд░рд┐рдпрд▓ рдореЛрдирд┐рдЯрд░рдорд╛ `Ready` рджреЗрдЦреНрдиреБрд╣реБрдиреНрдЫ, C рдмрдЯрди рдерд┐рдЪреНрдиреБрд╣реЛрд╕реН (рдмрд╛рдпрд╛рдБрддрд┐рд░рдХреЛ, рдкрд╛рд╡рд░ рд╕реНрд╡рд┐рдЪрдХреЛ рдирдЬрд┐рдХ), рд░ рдмреЛрд▓реНрдиреБрд╣реЛрд╕реНред рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдЧрд░реНрдиреБрд╣реЛрд╕реН рдХрд┐ рддрдкрд╛рдИрдВрдХреЛ рдлрдЩреНрдХреНрд╕рди рдПрдк рдЪрд▓рд┐рд░рд╣реЗрдХреЛ рдЫ, рд░ рдкреНрд░рдпреЛрдЧрдХрд░реНрддрд╛ рднрд╛рд╖рд╛рдорд╛ рдЯрд╛рдЗрдорд░ рдЕрдиреБрд░реЛрдз рдЧрд░реНрдиреБрд╣реЛрд╕реН, рдЪрд╛рд╣реЗ рдЖрдлреИрдВрд▓реЗ рддреНрдпреЛ рднрд╛рд╖рд╛ рдмреЛрд▓реНрджреИ, рд╡рд╛ рдЕрдиреБрд╡рд╛рдж рдПрдк рдкреНрд░рдпреЛрдЧ рдЧрд░реЗрд░ред

    ```output
    Connecting to WiFi..
    Connected!
    Got access token.
    Ready.
    Starting recording...
    Finished recording
    Sending speech...
    Speech sent!
    {"RecognitionStatus":"Success","DisplayText":"D├йfinir une minuterie de 2 minutes 27 secondes.","Offset":9600000,"Duration":40400000}
    Translating D├йfinir une minuterie de 2 minutes 27 secondes. from fr-FR to en-US
    Translated: Set a timer of 2 minutes 27 seconds.
    Set a timer of 2 minutes 27 seconds.
    {"seconds": 147}
    Translating 2 minute 27 second timer started. from en-US to fr-FR
    Translated: 2 minute 27 seconde minute a commenc├й.
    2 minute 27 seconde minute a commenc├й.
    Translating Times up on your 2 minute 27 second timer. from en-US to fr-FR
    Translated: Chronom├йtrant votre minuterie de 2 minutes 27 secondes.
    Chronom├йtrant votre minuterie de 2 minutes 27 secondes.
    ```

> ЁЯТБ рддрдкрд╛рдИрдВ рдпреЛ рдХреЛрдб [code/wio-terminal](../../../../../6-consumer/lessons/4-multiple-language-support/code/wio-terminal) рдлреЛрд▓реНрдбрд░рдорд╛ рдкрд╛рдЙрди рд╕рдХреНрдиреБрд╣реБрдиреНрдЫред

ЁЯША рддрдкрд╛рдИрдВрдХреЛ рдмрд╣реБрднрд╛рд╖реА рдЯрд╛рдЗрдорд░ рдХрд╛рд░реНрдпрдХреНрд░рдо рд╕рдлрд▓ рднрдпреЛ!

---

**рдЕрд╕реНрд╡реАрдХрд░рдг**:  
рдпреЛ рджрд╕реНрддрд╛рд╡реЗрдЬрд╝ AI рдЕрдиреБрд╡рд╛рдж рд╕реЗрд╡рд╛ [Co-op Translator](https://github.com/Azure/co-op-translator) рдкреНрд░рдпреЛрдЧ рдЧрд░реЗрд░ рдЕрдиреБрд╡рд╛рдж рдЧрд░рд┐рдПрдХреЛ рдЫред рд╣рд╛рдореА рд╢реБрджреНрдзрддрд╛рдХреЛ рд▓рд╛рдЧрд┐ рдкреНрд░рдпрд╛рд╕ рдЧрд░реНрдЫреМрдВ, рддрд░ рдХреГрдкрдпрд╛ рдзреНрдпрд╛рди рджрд┐рдиреБрд╣реЛрд╕реН рдХрд┐ рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рдЕрдиреБрд╡рд╛рджрд╣рд░реВрдорд╛ рддреНрд░реБрдЯрд┐ рд╡рд╛ рдЕрд╢реБрджреНрдзрддрд╛ рд╣реБрди рд╕рдХреНрдЫред рдпрд╕рдХреЛ рдореВрд▓ рднрд╛рд╖рд╛ рдорд╛ рд░рд╣реЗрдХреЛ рдореВрд▓ рджрд╕реНрддрд╛рд╡реЗрдЬрд╝рд▓рд╛рдИ рдЖрдзрд┐рдХрд╛рд░рд┐рдХ рд╕реНрд░реЛрдд рдорд╛рдирд┐рдиреБрдкрд░реНрдЫред рдорд╣рддреНрд╡рдкреВрд░реНрдг рдЬрд╛рдирдХрд╛рд░реАрдХреЛ рд▓рд╛рдЧрд┐, рд╡реНрдпрд╛рд╡рд╕рд╛рдпрд┐рдХ рдорд╛рдирд╡ рдЕрдиреБрд╡рд╛рдж рд╕рд┐рдлрд╛рд░рд┐рд╕ рдЧрд░рд┐рдиреНрдЫред рдпрд╕ рдЕрдиреБрд╡рд╛рджрдХреЛ рдкреНрд░рдпреЛрдЧрдмрд╛рдЯ рдЙрддреНрдкрдиреНрди рд╣реБрдиреЗ рдХреБрдиреИ рдкрдирд┐ рдЧрд▓рддрдлрд╣рдореА рд╡рд╛ рдЧрд▓рдд рд╡реНрдпрд╛рдЦреНрдпрд╛рдХреЛ рд▓рд╛рдЧрд┐ рд╣рд╛рдореА рдЬрд┐рдореНрдореЗрд╡рд╛рд░ рд╣реБрдиреЗ рдЫреИрдиреМрдВред