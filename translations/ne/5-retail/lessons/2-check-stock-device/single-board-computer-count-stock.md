<!--
CO_OP_TRANSLATOR_METADATA:
{
  "original_hash": "9c4320311c0f2c1884a6a21265d98a51",
  "translation_date": "2025-08-27T09:57:44+00:00",
  "source_file": "5-retail/lessons/2-check-stock-device/single-board-computer-count-stock.md",
  "language_code": "ne"
}
-->
# рддрдкрд╛рдИрдВрдХреЛ IoT рдЙрдкрдХрд░рдгрдмрд╛рдЯ рд╕реНрдЯрдХ рдЧрдиреНрдиреБрд╣реЛрд╕реН - рднрд░реНрдЪреБрдЕрд▓ IoT рд╣рд╛рд░реНрдбрд╡реЗрдпрд░ рд░ рд░рд╛рд╕реНрдкрдмреЗрд░реА рдкрд╛рдИ

рдкреВрд░реНрд╡рд╛рдиреБрдорд╛рдирд╣рд░реВ рд░ рддрд┐рдирдХрд╛ рдмрд╛рдЙрдиреНрдбрд┐рдЩ рдмрдХреНрд╕рд╣рд░реВрдХреЛ рд╕рдВрдпреЛрдЬрди рдкреНрд░рдпреЛрдЧ рдЧрд░реЗрд░ рдЫрд╡рд┐рдорд╛ рд╕реНрдЯрдХ рдЧрдиреНрди рд╕рдХрд┐рдиреНрдЫред

## рдмрд╛рдЙрдиреНрдбрд┐рдЩ рдмрдХреНрд╕рд╣рд░реВ рджреЗрдЦрд╛рдЙрдиреБрд╣реЛрд╕реН

рдбрд┐рдмрдЧрд┐рдЩрдХреЛ рд▓рд╛рдЧрд┐ рдЙрдкрдпреЛрдЧреА рдХрджрдордХреЛ рд░реВрдкрдорд╛, рддрдкрд╛рдИрдВ рдмрд╛рдЙрдиреНрдбрд┐рдЩ рдмрдХреНрд╕рд╣рд░реВ рдкреНрд░рд┐рдиреНрдЯ рдорд╛рддреНрд░ рдЧрд░реНрди рд╕рдХреНрдиреБрд╣реБрдиреНрди, рддрд░ рдЫрд╡рд┐ рдбрд┐рд╕реНрдХрдорд╛ рд▓реЗрдЦрд┐рдПрдХреЛ рдмреЗрд▓рд╛ рддрд┐рдирд▓рд╛рдИ рдЫрд╡рд┐рдорд╛ рдкрдирд┐ рдХреЛрд░реНрди рд╕рдХреНрдиреБрд╣реБрдиреНрдЫред

### рдХрд╛рд░реНрдп - рдмрд╛рдЙрдиреНрдбрд┐рдЩ рдмрдХреНрд╕рд╣рд░реВ рдкреНрд░рд┐рдиреНрдЯ рдЧрд░реНрдиреБрд╣реЛрд╕реН

1. рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдЧрд░реНрдиреБрд╣реЛрд╕реН рдХрд┐ `stock-counter` рдкреНрд░реЛрдЬреЗрдХреНрдЯ VS Code рдорд╛ рдЦреБрд▓рд╛ рдЫ, рд░ рдпрджрд┐ рддрдкрд╛рдИрдВ рднрд░реНрдЪреБрдЕрд▓ IoT рдЙрдкрдХрд░рдг рдкреНрд░рдпреЛрдЧ рдЧрд░реНрджреИ рд╣реБрдиреБрд╣реБрдиреНрдЫ рднрдиреЗ рднрд░реНрдЪреБрдЕрд▓ рд╡рд╛рддрд╛рд╡рд░рдг рд╕рдХреНрд░рд┐рдп рдЫред

1. `for` рд▓реВрдкрдорд╛ рд░рд╣реЗрдХреЛ `print` рд╕реНрдЯреЗрдЯрдореЗрдиреНрдЯрд▓рд╛рдИ рдирд┐рдореНрдирдорд╛ рдкрд░рд┐рд╡рд░реНрддрди рдЧрд░реНрдиреБрд╣реЛрд╕реН рддрд╛рдХрд┐ рдмрд╛рдЙрдиреНрдбрд┐рдЩ рдмрдХреНрд╕рд╣рд░реВ рдХрдиреНрд╕реЛрд▓рдорд╛ рдкреНрд░рд┐рдиреНрдЯ рд╣реЛрд╕реН:

    ```python
    print(f'{prediction.tag_name}:\t{prediction.probability * 100:.2f}%\t{prediction.bounding_box}')
    ```

1. рдПрдк рдЪрд▓рд╛рдЙрдиреБрд╣реЛрд╕реН рд░ рдХреНрдпрд╛рдореЗрд░рд╛рд▓рд╛рдИ рд╢реЗрд▓реНрдлрдорд╛ рд░рд╣реЗрдХреЛ рдХреЗрд╣реА рд╕реНрдЯрдХрддрд░реНрдл рд╕реЛрдЭреНрдпрд╛рдЙрдиреБрд╣реЛрд╕реНред рдмрд╛рдЙрдиреНрдбрд┐рдЩ рдмрдХреНрд╕рд╣рд░реВ рдХрдиреНрд╕реЛрд▓рдорд╛ рдкреНрд░рд┐рдиреНрдЯ рд╣реБрдиреЗрдЫрдиреН, рдЬрд╕рдорд╛ 0-1 рдХреЛ рджрд╛рдпрд░рд╛ рднрд┐рддреНрд░рдХрд╛ left, top, width, рд░ height рдорд╛рдирд╣рд░реВ рд╣реБрдиреЗрдЫрдиреНред

    ```output
    pi@raspberrypi:~/stock-counter $ python3 app.py 
    tomato paste:   33.42%  {'additional_properties': {}, 'left': 0.3455171, 'top': 0.09916268, 'width': 0.14175442, 'height': 0.29405564}
    tomato paste:   34.41%  {'additional_properties': {}, 'left': 0.48283678, 'top': 0.10242918, 'width': 0.11782813, 'height': 0.27467814}
    tomato paste:   31.25%  {'additional_properties': {}, 'left': 0.4923783, 'top': 0.35007596, 'width': 0.13668466, 'height': 0.28304994}
    tomato paste:   31.05%  {'additional_properties': {}, 'left': 0.36416405, 'top': 0.37494493, 'width': 0.14024884, 'height': 0.26880276}
    ```

### рдХрд╛рд░реНрдп - рдЫрд╡рд┐рдорд╛ рдмрд╛рдЙрдиреНрдбрд┐рдЩ рдмрдХреНрд╕рд╣рд░реВ рдХреЛрд░реНрдиреБрд╣реЛрд╕реН

1. [Pillow](https://pypi.org/project/Pillow/) рдирд╛рдордХ Pip рдкреНрдпрд╛рдХреЗрдЬ рдЫрд╡рд┐рдорд╛ рдХреЛрд░реНрди рдкреНрд░рдпреЛрдЧ рдЧрд░реНрди рд╕рдХрд┐рдиреНрдЫред рдпрд╕рд▓рд╛рдИ рдирд┐рдореНрди рдЖрджреЗрд╢ рдкреНрд░рдпреЛрдЧ рдЧрд░реЗрд░ рдЗрдиреНрд╕реНрдЯрд▓ рдЧрд░реНрдиреБрд╣реЛрд╕реН:

    ```sh
    pip3 install pillow
    ```

    рдпрджрд┐ рддрдкрд╛рдИрдВ рднрд░реНрдЪреБрдЕрд▓ IoT рдЙрдкрдХрд░рдг рдкреНрд░рдпреЛрдЧ рдЧрд░реНрджреИ рд╣реБрдиреБрд╣реБрдиреНрдЫ рднрдиреЗ, рдпреЛ рд╕рдХреНрд░рд┐рдп рднрд░реНрдЪреБрдЕрд▓ рд╡рд╛рддрд╛рд╡рд░рдгрднрд┐рддреНрд░рдмрд╛рдЯ рдЪрд▓рд╛рдЙрдиреБрд╣реЛрд╕реНред

1. `app.py` рдлрд╛рдЗрд▓рдХреЛ рдорд╛рдерд┐рд▓реНрд▓реЛ рднрд╛рдЧрдорд╛ рдирд┐рдореНрди рдЗрдореНрдкреЛрд░реНрдЯ рд╕реНрдЯреЗрдЯрдореЗрдиреНрдЯ рдердкреНрдиреБрд╣реЛрд╕реН:

    ```python
    from PIL import Image, ImageDraw, ImageColor
    ```

    рдпреЛ рдХреЛрдб рдЫрд╡рд┐ рд╕рдореНрдкрд╛рджрди рдЧрд░реНрди рдЖрд╡рд╢реНрдпрдХ рдХреЛрдб рдЗрдореНрдкреЛрд░реНрдЯ рдЧрд░реНрджрдЫред

1. `app.py` рдлрд╛рдЗрд▓рдХреЛ рдЕрдиреНрддреНрдпрдорд╛ рдирд┐рдореНрди рдХреЛрдб рдердкреНрдиреБрд╣реЛрд╕реН:

    ```python
    with Image.open('image.jpg') as im:
        draw = ImageDraw.Draw(im)
    
        for prediction in predictions:
            scale_left = prediction.bounding_box.left
            scale_top = prediction.bounding_box.top
            scale_right = prediction.bounding_box.left + prediction.bounding_box.width
            scale_bottom = prediction.bounding_box.top + prediction.bounding_box.height
            
            left = scale_left * im.width
            top = scale_top * im.height
            right = scale_right * im.width
            bottom = scale_bottom * im.height
    
            draw.rectangle([left, top, right, bottom], outline=ImageColor.getrgb('red'), width=2)
    
        im.save('image.jpg')
    ```

    рдпреЛ рдХреЛрдб рдкрд╣рд┐рд▓реЗ рдмрдЪрдд рдЧрд░рд┐рдПрдХреЛ рдЫрд╡рд┐рд▓рд╛рдИ рд╕рдореНрдкрд╛рджрди рдЧрд░реНрди рдЦреЛрд▓реНрдЫред рддреНрдпрд╕рдкрдЫрд┐ рдпреЛ рдкреВрд░реНрд╡рд╛рдиреБрдорд╛рдирд╣рд░реВрдХреЛ рдмрд╛рдЙрдиреНрдбрд┐рдЩ рдмрдХреНрд╕рд╣рд░реВ рд▓реВрдк рдЧрд░реНрдЫ, рд░ рдмрд╛рдЙрдиреНрдбрд┐рдЩ рдмрдХреНрд╕ рдорд╛рдирд╣рд░реВ (0-1) рдкреНрд░рдпреЛрдЧ рдЧрд░реЗрд░ рддрд▓реНрд▓реЛ рджрд╛рдпрд╛рдБ рд╕рдордиреНрд╡рдп рдЧрдгрдирд╛ рдЧрд░реНрдЫред рдпреА рдорд╛рдирд╣рд░реВ рдЫрд╡рд┐рдХреЛ рд╕рдореНрдмрдиреНрдзрд┐рдд рдЖрдпрд╛рдорд╕рдБрдЧ рдЧреБрдгрд╛ рдЧрд░реЗрд░ рдЫрд╡рд┐ рд╕рдордиреНрд╡рдпрдорд╛ рд░реВрдкрд╛рдиреНрддрд░рдг рдЧрд░рд┐рдиреНрдЫред рдЙрджрд╛рд╣рд░рдгрдХрд╛ рд▓рд╛рдЧрд┐, рдпрджрд┐ left рдорд╛рди 0.5 рдЫрд╡рд┐ 600 рдкрд┐рдХреНрд╕реЗрд▓ рдЪреМрдбрд╛рдЗ рднрдПрдХреЛ рдЫ рднрдиреЗ, рдпреЛ 300 рдорд╛ рд░реВрдкрд╛рдиреНрддрд░рдг рд╣реБрдиреНрдЫ (0.5 x 600 = 300)ред

    рдкреНрд░рддреНрдпреЗрдХ рдмрд╛рдЙрдиреНрдбрд┐рдЩ рдмрдХреНрд╕ рдЫрд╡рд┐рдорд╛ рд░рд╛рддреЛ рд░реЗрдЦрд╛ рдкреНрд░рдпреЛрдЧ рдЧрд░реЗрд░ рдХреЛрд░рд┐рдиреНрдЫред рдЕрдиреНрддрддрдГ рд╕рдореНрдкрд╛рджрд┐рдд рдЫрд╡рд┐ рдмрдЪрдд рдЧрд░рд┐рдиреНрдЫ, рдореВрд▓ рдЫрд╡рд┐рд▓рд╛рдИ рдУрднрд░рд░рд╛рдЗрдЯ рдЧрд░реНрджреИред

1. рдПрдк рдЪрд▓рд╛рдЙрдиреБрд╣реЛрд╕реН рд░ рдХреНрдпрд╛рдореЗрд░рд╛рд▓рд╛рдИ рд╢реЗрд▓реНрдлрдорд╛ рд░рд╣реЗрдХреЛ рдХреЗрд╣реА рд╕реНрдЯрдХрддрд░реНрдл рд╕реЛрдЭреНрдпрд╛рдЙрдиреБрд╣реЛрд╕реНред рддрдкрд╛рдИрдВ VS Code рдПрдХреНрд╕рдкреНрд▓реЛрд░рд░рдорд╛ `image.jpg` рдлрд╛рдЗрд▓ рджреЗрдЦреНрдиреБрд╣реБрдиреЗрдЫ, рд░ рдпрд╕рд▓рд╛рдИ рдЪрдпрди рдЧрд░реЗрд░ рдмрд╛рдЙрдиреНрдбрд┐рдЩ рдмрдХреНрд╕рд╣рд░реВ рд╣реЗрд░реНрди рд╕рдХреНрдиреБрд╣реБрдиреНрдЫред

    ![рдЯрдорд╛рдЯрд░ рдкреЗрд╕реНрдЯрдХрд╛ рек рдХреНрдпрд╛рдирд╣рд░реВ, рдкреНрд░рддреНрдпреЗрдХ рдХреНрдпрд╛рди рд╡рд░рд┐рдкрд░рд┐ рдмрд╛рдЙрдиреНрдбрд┐рдЩ рдмрдХреНрд╕рд╣рд░реВ](../../../../../translated_images/rpi-stock-with-bounding-boxes.b5540e2ecb7cd49f1271828d3be412671d950e87625c5597ea97c90f11e01097.ne.jpg)

## рд╕реНрдЯрдХ рдЧрдиреНрдиреБрд╣реЛрд╕реН

рдорд╛рдерд┐ рджреЗрдЦрд╛рдЗрдПрдХреЛ рдЫрд╡рд┐рдорд╛, рдмрд╛рдЙрдиреНрдбрд┐рдЩ рдмрдХреНрд╕рд╣рд░реВрдорд╛ рд╕рд╛рдиреЛ рдУрднрд░рд▓реНрдпрд╛рдк рдЫред рдпрджрд┐ рдпреЛ рдУрднрд░рд▓реНрдпрд╛рдк рдзреЗрд░реИ рдареВрд▓реЛ рднрдПрдорд╛, рдмрд╛рдЙрдиреНрдбрд┐рдЩ рдмрдХреНрд╕рд╣рд░реВрд▓реЗ рдПрдЙрдЯреИ рд╡рд╕реНрддреБ рд╕рдВрдХреЗрдд рдЧрд░реНрди рд╕рдХреНрдЫред рд╡рд╕реНрддреБрд╣рд░реВ рд╕рд╣реА рд░реВрдкрдорд╛ рдЧрдиреНрди, рддрдкрд╛рдИрдВрд▓реЗ рдорд╣рддреНрддреНрд╡рдкреВрд░реНрдг рдУрднрд░рд▓реНрдпрд╛рдк рднрдПрдХрд╛ рдмрдХреНрд╕рд╣рд░реВрд▓рд╛рдИ рдмреЗрд╡рд╛рд╕реНрддрд╛ рдЧрд░реНрди рдЖрд╡рд╢реНрдпрдХ рдЫред

### рдХрд╛рд░реНрдп - рдУрднрд░рд▓реНрдпрд╛рдк рдмреЗрд╡рд╛рд╕реНрддрд╛ рдЧрд░реНрджреИ рд╕реНрдЯрдХ рдЧрдиреНрдиреБрд╣реЛрд╕реН

1. [Shapely](https://pypi.org/project/Shapely/) рдирд╛рдордХ Pip рдкреНрдпрд╛рдХреЗрдЬ рдкреНрд░рдпреЛрдЧ рдЧрд░реЗрд░ рдЗрдиреНрдЯрд░рд╕реЗрдХреНрд╕рди рдЧрдгрдирд╛ рдЧрд░реНрди рд╕рдХрд┐рдиреНрдЫред рдпрджрд┐ рддрдкрд╛рдИрдВ рд░рд╛рд╕реНрдкрдмреЗрд░реА рдкрд╛рдИ рдкреНрд░рдпреЛрдЧ рдЧрд░реНрджреИ рд╣реБрдиреБрд╣реБрдиреНрдЫ рднрдиреЗ, рдкрд╣рд┐рд▓реЗ рдкреБрд╕реНрддрдХрд╛рд▓рдп рдирд┐рд░реНрднрд░рддрд╛ рдЗрдиреНрд╕реНрдЯрд▓ рдЧрд░реНрдиреБрд╣реЛрд╕реН:

    ```sh
    sudo apt install libgeos-dev
    ```

1. Shapely Pip рдкреНрдпрд╛рдХреЗрдЬ рдЗрдиреНрд╕реНрдЯрд▓ рдЧрд░реНрдиреБрд╣реЛрд╕реН:

    ```sh
    pip3 install shapely
    ```

    рдпрджрд┐ рддрдкрд╛рдИрдВ рднрд░реНрдЪреБрдЕрд▓ IoT рдЙрдкрдХрд░рдг рдкреНрд░рдпреЛрдЧ рдЧрд░реНрджреИ рд╣реБрдиреБрд╣реБрдиреНрдЫ рднрдиреЗ, рдпреЛ рд╕рдХреНрд░рд┐рдп рднрд░реНрдЪреБрдЕрд▓ рд╡рд╛рддрд╛рд╡рд░рдгрднрд┐рддреНрд░рдмрд╛рдЯ рдЪрд▓рд╛рдЙрдиреБрд╣реЛрд╕реНред

1. `app.py` рдлрд╛рдЗрд▓рдХреЛ рдорд╛рдерд┐рд▓реНрд▓реЛ рднрд╛рдЧрдорд╛ рдирд┐рдореНрди рдЗрдореНрдкреЛрд░реНрдЯ рд╕реНрдЯреЗрдЯрдореЗрдиреНрдЯ рдердкреНрдиреБрд╣реЛрд╕реН:

    ```python
    from shapely.geometry import Polygon
    ```

    рдпреЛ рдХреЛрдб рдУрднрд░рд▓реНрдпрд╛рдк рдЧрдгрдирд╛ рдЧрд░реНрди рдмрд╣реБрднреБрдЬрд╣рд░реВ рдмрдирд╛рдЙрди рдЖрд╡рд╢реНрдпрдХ рдХреЛрдб рдЗрдореНрдкреЛрд░реНрдЯ рдЧрд░реНрджрдЫред

1. рдмрд╛рдЙрдиреНрдбрд┐рдЩ рдмрдХреНрд╕рд╣рд░реВ рдХреЛрд░реНрдиреЗ рдХреЛрдбрднрдиреНрджрд╛ рдорд╛рдерд┐ рдирд┐рдореНрди рдХреЛрдб рдердкреНрдиреБрд╣реЛрд╕реН:

    ```python
    overlap_threshold = 0.20
    ```

    рдпреЛ рдмрд╛рдЙрдиреНрдбрд┐рдЩ рдмрдХреНрд╕рд╣рд░реВ рдПрдЙрдЯреИ рд╡рд╕реНрддреБ рдорд╛рдирд┐рдиреЗ рдУрднрд░рд▓реНрдпрд╛рдкрдХреЛ рдкреНрд░рддрд┐рд╢рдд рдкрд░рд┐рднрд╛рд╖рд┐рдд рдЧрд░реНрджрдЫред 0.20 рд▓реЗ 20% рдУрднрд░рд▓реНрдпрд╛рдкрд▓рд╛рдИ рдЬрдирд╛рдЙрдБрдЫред

1. Shapely рдкреНрд░рдпреЛрдЧ рдЧрд░реЗрд░ рдУрднрд░рд▓реНрдпрд╛рдк рдЧрдгрдирд╛ рдЧрд░реНрди, рдмрд╛рдЙрдиреНрдбрд┐рдЩ рдмрдХреНрд╕рд╣рд░реВрд▓рд╛рдИ Shapely рдмрд╣реБрднреБрдЬрд╣рд░реВрдорд╛ рд░реВрдкрд╛рдиреНрддрд░рдг рдЧрд░реНрди рдЖрд╡рд╢реНрдпрдХ рдЫред рдпреЛ рдЧрд░реНрди рдирд┐рдореНрди рдХрд╛рд░реНрдп рдердкреНрдиреБрд╣реЛрд╕реН:

    ```python
    def create_polygon(prediction):
        scale_left = prediction.bounding_box.left
        scale_top = prediction.bounding_box.top
        scale_right = prediction.bounding_box.left + prediction.bounding_box.width
        scale_bottom = prediction.bounding_box.top + prediction.bounding_box.height
    
        return Polygon([(scale_left, scale_top), (scale_right, scale_top), (scale_right, scale_bottom), (scale_left, scale_bottom)])
    ```

    рдпреЛ рдкреВрд░реНрд╡рд╛рдиреБрдорд╛рдирдХреЛ рдмрд╛рдЙрдиреНрдбрд┐рдЩ рдмрдХреНрд╕ рдкреНрд░рдпреЛрдЧ рдЧрд░реЗрд░ рдмрд╣реБрднреБрдЬ рдмрдирд╛рдЙрдБрдЫред

1. рдУрднрд░рд▓реНрдпрд╛рдк рднрдПрдХрд╛ рд╡рд╕реНрддреБрд╣рд░реВ рд╣рдЯрд╛рдЙрдиреЗ рддрд░реНрдХрд▓реЗ рд╕рдмреИ рдмрд╛рдЙрдиреНрдбрд┐рдЩ рдмрдХреНрд╕рд╣рд░реВрдХреЛ рддреБрд▓рдирд╛ рд╕рдорд╛рд╡реЗрд╢ рдЧрд░реНрджрдЫред рдпрджрд┐ рдХреБрдиреИ рдЬреЛрдбреАрдХреЛ рдмрд╛рдЙрдиреНрдбрд┐рдЩ рдмрдХреНрд╕рд╣рд░реВ рдУрднрд░рд▓реНрдпрд╛рдк рдереНрд░реЗрд╕рд╣реЛрд▓реНрдбрднрдиреНрджрд╛ рдмрдвреА рдЫ рднрдиреЗ, рддреАрдордзреНрдпреЗ рдПрдЙрдЯрд╛ рдкреВрд░реНрд╡рд╛рдиреБрдорд╛рди рдореЗрдЯрд╛рдЗрдиреНрдЫред рдпреЛ рдЧрд░реНрди рдирд┐рдореНрди рдХреЛрдб рдкреНрд░рдпреЛрдЧ рдЧрд░реНрдиреБрд╣реЛрд╕реН:

    ```python
    to_delete = []

    for i in range(0, len(predictions)):
        polygon_1 = create_polygon(predictions[i])
    
        for j in range(i+1, len(predictions)):
            polygon_2 = create_polygon(predictions[j])
            overlap = polygon_1.intersection(polygon_2).area

            smallest_area = min(polygon_1.area, polygon_2.area)
    
            if overlap > (overlap_threshold * smallest_area):
                to_delete.append(predictions[i])
                break
    
    for d in to_delete:
        predictions.remove(d)

    print(f'Counted {len(predictions)} stock items')
    ```

    рдУрднрд░рд▓реНрдпрд╛рдк Shapely рдХреЛ `Polygon.intersection` рд╡рд┐рдзрд┐ рдкреНрд░рдпреЛрдЧ рдЧрд░реЗрд░ рдЧрдгрдирд╛ рдЧрд░рд┐рдиреНрдЫ, рдЬрд╕рд▓реЗ рдУрднрд░рд▓реНрдпрд╛рдк рднрдПрдХреЛ рдмрд╣реБрднреБрдЬ рдлрд┐рд░реНрддрд╛ рдЧрд░реНрдЫред рддреНрдпрд╕рдкрдЫрд┐ рдпрд╕ рдмрд╣реБрднреБрдЬрдмрд╛рдЯ рдХреНрд╖реЗрддреНрд░рдлрд▓ рдЧрдгрдирд╛ рдЧрд░рд┐рдиреНрдЫред рдпреЛ рдУрднрд░рд▓реНрдпрд╛рдк рдереНрд░реЗрд╕рд╣реЛрд▓реНрдб рдкреВрд░реНрдг рдорд╛рди рд╣реЛрдЗрди, рддрд░ рдпреЛ рдмрд╛рдЙрдиреНрдбрд┐рдЩ рдмрдХреНрд╕рдХреЛ рдкреНрд░рддрд┐рд╢рдд рд╣реБрдиреБрдкрд░реНрдЫред рддреНрдпрд╕реИрд▓реЗ рд╕рд╛рдиреЛ рдмрд╛рдЙрдиреНрдбрд┐рдЩ рдмрдХреНрд╕ рдлреЗрд▓рд╛ рдкрд╛рд░рд┐рдиреНрдЫ, рд░ рдУрднрд░рд▓реНрдпрд╛рдк рдереНрд░реЗрд╕рд╣реЛрд▓реНрдб рдкреНрд░рдпреЛрдЧ рдЧрд░реЗрд░ рдХреНрд╖реЗрддреНрд░рдлрд▓ рдЧрдгрдирд╛ рдЧрд░рд┐рдиреНрдЫред рдпрджрд┐ рдУрднрд░рд▓реНрдпрд╛рдк рдпрд╕рд▓рд╛рдИ рдирд╛рдШреНрдЫ рднрдиреЗ, рдкреВрд░реНрд╡рд╛рдиреБрдорд╛рди рдореЗрдЯрд╛рдЙрди рдЪрд┐рдиреНрд╣ рд▓рдЧрд╛рдЗрдиреНрдЫред

    рдПрдХ рдкрдЯрдХ рдкреВрд░реНрд╡рд╛рдиреБрдорд╛рди рдореЗрдЯрд╛рдЙрди рдЪрд┐рдиреНрд╣ рд▓рдЧрд╛рдЗрдПрдкрдЫрд┐, рдпрд╕рд▓рд╛рдИ рдлреЗрд░рд┐ рдЬрд╛рдБрдЪ рдЧрд░реНрди рдЖрд╡рд╢реНрдпрдХ рдкрд░реНрджреИрди, рддреНрдпрд╕реИрд▓реЗ рднрд┐рддреНрд░реА рд▓реВрдк рдЕрд░реНрдХреЛ рдкреВрд░реНрд╡рд╛рдиреБрдорд╛рди рдЬрд╛рдБрдЪ рдЧрд░реНрди рдмреНрд░реЗрдХ рд╣реБрдиреНрдЫред рд╕реВрдЪреАрдмрд╛рдЯ рд╡рд╕реНрддреБрд╣рд░реВ рдореЗрдЯрд╛рдЙрди рд▓реВрдк рдЪрд▓рд╛рдЙрдБрджрд╛ рд╕рдХрд┐рдБрджреИрди, рддреНрдпрд╕реИрд▓реЗ рдереНрд░реЗрд╕рд╣реЛрд▓реНрдбрднрдиреНрджрд╛ рдмрдвреА рдУрднрд░рд▓реНрдпрд╛рдк рднрдПрдХрд╛ рдмрд╛рдЙрдиреНрдбрд┐рдЩ рдмрдХреНрд╕рд╣рд░реВ `to_delete` рд╕реВрдЪреАрдорд╛ рдердкрд┐рдиреНрдЫрдиреН, рд░ рдЕрдиреНрддреНрдпрдорд╛ рдореЗрдЯрд╛рдЗрдиреНрдЫред

    рдЕрдиреНрддрддрдГ рд╕реНрдЯрдХ рдЧрдгрдирд╛ рдХрдиреНрд╕реЛрд▓рдорд╛ рдкреНрд░рд┐рдиреНрдЯ рдЧрд░рд┐рдиреНрдЫред рдпрд╕рд▓рд╛рдИ IoT рд╕реЗрд╡рд╛рдорд╛ рдкрдард╛рдЙрди рд╕рдХрд┐рдиреНрдЫ рддрд╛рдХрд┐ рд╕реНрдЯрдХ рд╕реНрддрд░ рдХрдо рднрдПрдорд╛ рд╕рддрд░реНрдХ рдЧрд░рд╛рдЙрди рд╕рдХрд┐рдпреЛрд╕реНред рдпреЛ рд╕рдмреИ рдХреЛрдб рдмрд╛рдЙрдиреНрдбрд┐рдЩ рдмрдХреНрд╕рд╣рд░реВ рдХреЛрд░реНрдиреЗ рдХреЛрдбрднрдиреНрджрд╛ рдЕрдШрд┐ рдЫ, рддреНрдпрд╕реИрд▓реЗ рддрдкрд╛рдИрдВрд▓реЗ рдУрднрд░рд▓реНрдпрд╛рдк рдмрд┐рдирд╛ рд╕реНрдЯрдХ рдкреВрд░реНрд╡рд╛рдиреБрдорд╛рдирд╣рд░реВ рдЙрддреНрдкрдиреНрди рдЫрд╡рд┐рд╣рд░реВрдорд╛ рджреЗрдЦреНрдиреБрд╣реБрдиреЗрдЫред

    > ЁЯТБ рдпреЛ рдУрднрд░рд▓реНрдпрд╛рдк рд╣рдЯрд╛рдЙрдиреЗ рдзреЗрд░реИ рд╕рд╛рдзрд╛рд░рдг рддрд░рд┐рдХрд╛ рд╣реЛ, рдЬрд╕рд▓реЗ рдУрднрд░рд▓реНрдпрд╛рдк рднрдПрдХреЛ рдЬреЛрдбреАрдорд╛ рдкрд╣рд┐рд▓реЛрд▓рд╛рдИ рдорд╛рддреНрд░ рд╣рдЯрд╛рдЙрдБрдЫред рдЙрддреНрдкрд╛рджрди рдХреЛрдбрдХрд╛ рд▓рд╛рдЧрд┐, рддрдкрд╛рдИрдВрд▓реЗ рдпрд╣рд╛рдБ рдердк рддрд░реНрдХ рд░рд╛рдЦреНрди рдЪрд╛рд╣рдиреБрд╣реБрдиреЗрдЫ, рдЬрд╕реНрддреИ рдзреЗрд░реИ рд╡рд╕реНрддреБрд╣рд░реВ рдмреАрдЪрдХреЛ рдУрднрд░рд▓реНрдпрд╛рдк рд╡рд┐рдЪрд╛рд░ рдЧрд░реНрдиреБ, рд╡рд╛ рдпрджрд┐ рдПрдЙрдЯрд╛ рдмрд╛рдЙрдиреНрдбрд┐рдЩ рдмрдХреНрд╕ рдЕрд░реНрдХреЛрдорд╛ рд╕рдорд╛рд╡реЗрд╢ рдЫ рднрдиреЗред

1. рдПрдк рдЪрд▓рд╛рдЙрдиреБрд╣реЛрд╕реН рд░ рдХреНрдпрд╛рдореЗрд░рд╛рд▓рд╛рдИ рд╢реЗрд▓реНрдлрдорд╛ рд░рд╣реЗрдХреЛ рдХреЗрд╣реА рд╕реНрдЯрдХрддрд░реНрдл рд╕реЛрдЭреНрдпрд╛рдЙрдиреБрд╣реЛрд╕реНред рдЖрдЙрдЯрдкреБрдЯрд▓реЗ рдереНрд░реЗрд╕рд╣реЛрд▓реНрдб рдирд╛рдШреНрдиреЗ рдУрднрд░рд▓реНрдпрд╛рдк рдмрд┐рдирд╛ рдмрд╛рдЙрдиреНрдбрд┐рдЩ рдмрдХреНрд╕рд╣рд░реВрдХреЛ рд╕рдВрдЦреНрдпрд╛ рджреЗрдЦрд╛рдЙрдиреЗрдЫред `overlap_threshold` рдорд╛рди рд╕рдорд╛рдпреЛрдЬрди рдЧрд░реЗрд░ рдкреВрд░реНрд╡рд╛рдиреБрдорд╛рдирд╣рд░реВ рдмреЗрд╡рд╛рд╕реНрддрд╛ рднрдЗрд░рд╣реЗрдХреЛ рд╣реЗрд░реНрди рдкреНрд░рдпрд╛рд╕ рдЧрд░реНрдиреБрд╣реЛрд╕реНред

> ЁЯТБ рддрдкрд╛рдИрдВ рдпреЛ рдХреЛрдб [code-count/pi](../../../../../5-retail/lessons/2-check-stock-device/code-count/pi) рд╡рд╛ [code-count/virtual-iot-device](../../../../../5-retail/lessons/2-check-stock-device/code-count/virtual-iot-device) рдлреЛрд▓реНрдбрд░рдорд╛ рдлреЗрд▓рд╛ рдкрд╛рд░реНрди рд╕рдХреНрдиреБрд╣реБрдиреНрдЫред

ЁЯША рддрдкрд╛рдИрдВрдХреЛ рд╕реНрдЯрдХ рдХрд╛рдЙрдиреНрдЯрд░ рдкреНрд░реЛрдЧреНрд░рд╛рдо рд╕рдлрд▓ рднрдпреЛ!

---

**рдЕрд╕реНрд╡реАрдХрд░рдг**:  
рдпреЛ рджрд╕реНрддрд╛рд╡реЗрдЬрд╝ AI рдЕрдиреБрд╡рд╛рдж рд╕реЗрд╡рд╛ [Co-op Translator](https://github.com/Azure/co-op-translator) рдкреНрд░рдпреЛрдЧ рдЧрд░реЗрд░ рдЕрдиреБрд╡рд╛рдж рдЧрд░рд┐рдПрдХреЛ рд╣реЛред рд╣рд╛рдореА рд╢реБрджреНрдзрддрд╛рдХреЛ рд▓рд╛рдЧрд┐ рдкреНрд░рдпрд╛рд╕ рдЧрд░реНрдЫреМрдВ, рддрд░ рдХреГрдкрдпрд╛ рдзреНрдпрд╛рди рджрд┐рдиреБрд╣реЛрд╕реН рдХрд┐ рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рдЕрдиреБрд╡рд╛рджрд╣рд░реВрдорд╛ рддреНрд░реБрдЯрд┐ рд╡рд╛ рдЕрд╢реБрджреНрдзрддрд╛ рд╣реБрди рд╕рдХреНрдЫред рдпрд╕рдХреЛ рдореВрд▓ рднрд╛рд╖рд╛ рдорд╛ рд░рд╣реЗрдХреЛ рдореВрд▓ рджрд╕реНрддрд╛рд╡реЗрдЬрд╝рд▓рд╛рдИ рдЖрдзрд┐рдХрд╛рд░рд┐рдХ рд╕реНрд░реЛрдд рдорд╛рдирд┐рдиреБрдкрд░реНрдЫред рдорд╣рддреНрд╡рдкреВрд░реНрдг рдЬрд╛рдирдХрд╛рд░реАрдХреЛ рд▓рд╛рдЧрд┐, рд╡реНрдпрд╛рд╡рд╕рд╛рдпрд┐рдХ рдорд╛рдирд╡ рдЕрдиреБрд╡рд╛рдж рд╕рд┐рдлрд╛рд░рд┐рд╕ рдЧрд░рд┐рдиреНрдЫред рдпрд╕ рдЕрдиреБрд╡рд╛рджрдХреЛ рдкреНрд░рдпреЛрдЧрдмрд╛рдЯ рдЙрддреНрдкрдиреНрди рд╣реБрдиреЗ рдХреБрдиреИ рдкрдирд┐ рдЧрд▓рддрдлрд╣рдореА рд╡рд╛ рдЧрд▓рдд рд╡реНрдпрд╛рдЦреНрдпрд╛рдХреЛ рд▓рд╛рдЧрд┐ рд╣рд╛рдореА рдЬрд┐рдореНрдореЗрд╡рд╛рд░ рд╣реБрдиреЗ рдЫреИрдиреМрдВред