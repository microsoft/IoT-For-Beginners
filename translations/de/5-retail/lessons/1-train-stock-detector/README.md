<!--
CO_OP_TRANSLATOR_METADATA:
{
  "original_hash": "8df310a42f902139a01417dacb1ffbef",
  "translation_date": "2025-08-25T20:49:56+00:00",
  "source_file": "5-retail/lessons/1-train-stock-detector/README.md",
  "language_code": "de"
}
-->
# Trainiere einen Lagerbestand-Detektor

![Eine Sketchnote-√úbersicht dieser Lektion](../../../../../translated_images/lesson-19.cf6973cecadf080c4b526310620dc4d6f5994c80fb0139c6f378cc9ca2d435cd.de.jpg)

> Sketchnote von [Nitya Narasimhan](https://github.com/nitya). Klicken Sie auf das Bild f√ºr eine gr√∂√üere Version.

Dieses Video gibt einen √úberblick √ºber die Objekterkennung mit dem Azure Custom Vision Service, einem Dienst, der in dieser Lektion behandelt wird.

[![Custom Vision 2 - Objekterkennung leicht gemacht | The Xamarin Show](https://img.youtube.com/vi/wtTYSyBUpFc/0.jpg)](https://www.youtube.com/watch?v=wtTYSyBUpFc)

> üé• Klicken Sie auf das Bild oben, um das Video anzusehen.

## Quiz vor der Vorlesung

[Quiz vor der Vorlesung](https://black-meadow-040d15503.1.azurestaticapps.net/quiz/37)

## Einf√ºhrung

Im vorherigen Projekt haben Sie KI verwendet, um einen Bildklassifikator zu trainieren ‚Äì ein Modell, das erkennen kann, ob ein Bild etwas enth√§lt, wie z. B. reife oder unreife Fr√ºchte. Eine andere Art von KI-Modell, die mit Bildern verwendet werden kann, ist die Objekterkennung. Diese Modelle klassifizieren ein Bild nicht anhand von Tags, sondern werden darauf trainiert, Objekte zu erkennen und sie in Bildern zu finden. Sie erkennen nicht nur, dass das Objekt vorhanden ist, sondern auch, wo es sich im Bild befindet. Dies erm√∂glicht das Z√§hlen von Objekten in Bildern.

In dieser Lektion lernen Sie die Objekterkennung kennen, einschlie√ülich ihrer Anwendung im Einzelhandel. Au√üerdem erfahren Sie, wie Sie einen Objekterkenner in der Cloud trainieren k√∂nnen.

In dieser Lektion behandeln wir:

* [Objekterkennung](../../../../../5-retail/lessons/1-train-stock-detector)
* [Objekterkennung im Einzelhandel einsetzen](../../../../../5-retail/lessons/1-train-stock-detector)
* [Einen Objekterkenner trainieren](../../../../../5-retail/lessons/1-train-stock-detector)
* [Den Objekterkenner testen](../../../../../5-retail/lessons/1-train-stock-detector)
* [Den Objekterkenner erneut trainieren](../../../../../5-retail/lessons/1-train-stock-detector)

## Objekterkennung

Die Objekterkennung umfasst das Erkennen von Objekten in Bildern mithilfe von KI. Im Gegensatz zum Bildklassifikator, den Sie im letzten Projekt trainiert haben, geht es bei der Objekterkennung nicht darum, das beste Tag f√ºr ein Bild als Ganzes vorherzusagen, sondern darum, ein oder mehrere Objekte in einem Bild zu finden.

### Objekterkennung vs. Bildklassifikation

Die Bildklassifikation dient dazu, ein Bild als Ganzes zu klassifizieren ‚Äì welche Wahrscheinlichkeiten bestehen, dass das gesamte Bild mit jedem Tag √ºbereinstimmt. Sie erhalten Wahrscheinlichkeiten f√ºr jedes Tag, das zum Trainieren des Modells verwendet wurde.

![Bildklassifikation von Cashewkernen und Tomatenmark](../../../../../translated_images/image-classifier-cashews-tomato.bc2e16ab8f05cf9ac0f59f73e32efc4227f9a5b601b90b2c60f436694547a965.de.png)

Im obigen Beispiel werden zwei Bilder mit einem Modell klassifiziert, das darauf trainiert wurde, Dosen mit Cashewkernen oder Tomatenmark zu klassifizieren. Das erste Bild zeigt eine Dose Cashewkerne und hat zwei Ergebnisse vom Bildklassifikator:

| Tag            | Wahrscheinlichkeit |
| -------------- | ------------------: |
| `Cashewkerne`  | 98,4%              |
| `Tomatenmark`  | 1,6%               |

Das zweite Bild zeigt eine Dose Tomatenmark, und die Ergebnisse sind:

| Tag            | Wahrscheinlichkeit |
| -------------- | ------------------: |
| `Cashewkerne`  | 0,7%               |
| `Tomatenmark`  | 99,3%              |

Sie k√∂nnten diese Werte mit einem Schwellenwert verwenden, um vorherzusagen, was im Bild enthalten ist. Aber was, wenn ein Bild mehrere Dosen Tomatenmark oder sowohl Cashewkerne als auch Tomatenmark enth√§lt? Die Ergebnisse w√ºrden wahrscheinlich nicht das liefern, was Sie m√∂chten. Hier kommt die Objekterkennung ins Spiel.

Die Objekterkennung umfasst das Trainieren eines Modells, um Objekte zu erkennen. Anstatt ihm Bilder mit dem Objekt zu geben und ihm zu sagen, dass jedes Bild ein Tag oder ein anderes ist, markieren Sie den Abschnitt eines Bildes, der das spezifische Objekt enth√§lt, und taggen diesen. Sie k√∂nnen ein einzelnes Objekt in einem Bild oder mehrere taggen. Auf diese Weise lernt das Modell, wie das Objekt selbst aussieht, nicht nur, wie Bilder aussehen, die das Objekt enthalten.

Wenn Sie es dann zur Vorhersage von Bildern verwenden, erhalten Sie anstelle einer Liste von Tags und Prozents√§tzen eine Liste von erkannten Objekten mit ihrem Begrenzungsrahmen und der Wahrscheinlichkeit, dass das Objekt mit dem zugewiesenen Tag √ºbereinstimmt.

> üéì *Begrenzungsrahmen* sind die Rahmen um ein Objekt.

![Objekterkennung von Cashewkernen und Tomatenmark](../../../../../translated_images/object-detector-cashews-tomato.1af7c26686b4db0e709754aeb196f4e73271f54e2085db3bcccb70d4a0d84d97.de.png)

Das obige Bild enth√§lt sowohl eine Dose Cashewkerne als auch drei Dosen Tomatenmark. Der Objekterkenner hat die Cashewkerne erkannt und den Begrenzungsrahmen zur√ºckgegeben, der die Cashewkerne mit der prozentualen Wahrscheinlichkeit enth√§lt, dass der Begrenzungsrahmen das Objekt enth√§lt, in diesem Fall 97,6%. Der Objekterkenner hat auch drei Dosen Tomatenmark erkannt und liefert drei separate Begrenzungsrahmen, einen f√ºr jede erkannte Dose, und jeder hat eine prozentuale Wahrscheinlichkeit, dass der Begrenzungsrahmen eine Dose Tomatenmark enth√§lt.

‚úÖ √úberlegen Sie sich einige verschiedene Szenarien, f√ºr die Sie bildbasierte KI-Modelle verwenden m√∂chten. Welche w√ºrden eine Klassifikation ben√∂tigen und welche eine Objekterkennung?

### Wie funktioniert die Objekterkennung?

Die Objekterkennung verwendet komplexe ML-Modelle. Diese Modelle funktionieren, indem sie das Bild in mehrere Zellen unterteilen und dann √ºberpr√ºfen, ob das Zentrum des Begrenzungsrahmens das Zentrum eines Bildes ist, das mit einem der Bilder √ºbereinstimmt, die zum Trainieren des Modells verwendet wurden. Sie k√∂nnen sich das wie eine Art Bildklassifikator vorstellen, der √ºber verschiedene Teile des Bildes l√§uft, um √úbereinstimmungen zu finden.

> üíÅ Dies ist eine drastische Vereinfachung. Es gibt viele Techniken zur Objekterkennung, und Sie k√∂nnen mehr dar√ºber auf der [Wikipedia-Seite zur Objekterkennung](https://wikipedia.org/wiki/Object_detection) lesen.

Es gibt eine Reihe verschiedener Modelle, die Objekterkennung durchf√ºhren k√∂nnen. Ein besonders bekanntes Modell ist [YOLO (You only look once)](https://pjreddie.com/darknet/yolo/), das unglaublich schnell ist und 20 verschiedene Objektklassen erkennen kann, wie Personen, Hunde, Flaschen und Autos.

‚úÖ Lesen Sie mehr √ºber das YOLO-Modell auf [pjreddie.com/darknet/yolo/](https://pjreddie.com/darknet/yolo/)

Objekterkennungsmodelle k√∂nnen mithilfe von Transfer-Learning neu trainiert werden, um benutzerdefinierte Objekte zu erkennen.

## Objekterkennung im Einzelhandel einsetzen

Die Objekterkennung hat viele Einsatzm√∂glichkeiten im Einzelhandel. Einige davon sind:

* **Bestandspr√ºfung und Z√§hlung** ‚Äì Erkennen, wenn der Bestand in den Regalen niedrig ist. Wenn der Bestand zu niedrig ist, k√∂nnen Benachrichtigungen an Mitarbeiter oder Roboter gesendet werden, um die Regale wieder aufzuf√ºllen.
* **Maskenerkennung** ‚Äì In Gesch√§ften mit Maskenpflicht w√§hrend gesundheitlicher Ereignisse kann die Objekterkennung Personen mit und ohne Masken erkennen.
* **Automatisierte Abrechnung** ‚Äì Erkennen von Artikeln, die aus Regalen genommen werden, in automatisierten Gesch√§ften und entsprechende Abrechnung der Kunden.
* **Gefahrenerkennung** ‚Äì Erkennen von zerbrochenen Gegenst√§nden auf B√∂den oder versch√ºtteten Fl√ºssigkeiten und Benachrichtigung von Reinigungsteams.

‚úÖ Recherchieren Sie: Welche weiteren Anwendungsf√§lle f√ºr die Objekterkennung im Einzelhandel gibt es?

## Einen Objekterkenner trainieren

Sie k√∂nnen einen Objekterkenner mit Custom Vision trainieren, √§hnlich wie Sie einen Bildklassifikator trainiert haben.

### Aufgabe ‚Äì einen Objekterkenner erstellen

1. Erstellen Sie eine Ressourcengruppe f√ºr dieses Projekt mit dem Namen `stock-detector`.

1. Erstellen Sie eine kostenlose Custom Vision Trainingsressource und eine kostenlose Custom Vision Vorhersageressource in der Ressourcengruppe `stock-detector`. Nennen Sie sie `stock-detector-training` und `stock-detector-prediction`.

    > üíÅ Sie k√∂nnen nur eine kostenlose Trainings- und Vorhersageressource haben, stellen Sie also sicher, dass Sie Ihr Projekt aus den vorherigen Lektionen bereinigt haben.

    > ‚ö†Ô∏è Sie k√∂nnen [die Anweisungen zum Erstellen von Trainings- und Vorhersageressourcen aus Projekt 4, Lektion 1 bei Bedarf](../../../4-manufacturing/lessons/1-train-fruit-detector/README.md#task---create-a-cognitive-services-resource) nachlesen.

1. Starten Sie das Custom Vision-Portal unter [CustomVision.ai](https://customvision.ai) und melden Sie sich mit dem Microsoft-Konto an, das Sie f√ºr Ihr Azure-Konto verwendet haben.

1. Folgen Sie dem Abschnitt [Ein neues Projekt erstellen im Quickstart f√ºr den Aufbau eines Objekterkenners in den Microsoft-Dokumenten](https://docs.microsoft.com/azure/cognitive-services/custom-vision-service/get-started-build-detector?WT.mc_id=academic-17441-jabenn#create-a-new-project), um ein neues Custom Vision-Projekt zu erstellen. Die Benutzeroberfl√§che kann sich √§ndern, und diese Dokumente sind immer die aktuellste Referenz.

    Nennen Sie Ihr Projekt `stock-detector`.

    Wenn Sie Ihr Projekt erstellen, stellen Sie sicher, dass Sie die zuvor erstellte Ressource `stock-detector-training` verwenden. Verwenden Sie den Projekttyp *Objekterkennung* und die Dom√§ne *Produkte in Regalen*.

    ![Die Einstellungen f√ºr das Custom Vision-Projekt mit dem Namen fruit-quality-detector, keine Beschreibung, die Ressource auf fruit-quality-detector-training gesetzt, der Projekttyp auf Klassifikation gesetzt, die Klassifikationstypen auf Multi-Klasse gesetzt und die Dom√§nen auf Lebensmittel gesetzt](../../../../../translated_images/custom-vision-create-object-detector-project.32d4fb9aa8e7e7375f8a799bfce517aca970f2cb65e42d4245c5e635c734ab29.de.png)

    ‚úÖ Die Dom√§ne "Produkte in Regalen" ist speziell darauf ausgerichtet, Best√§nde in Ladenregalen zu erkennen. Lesen Sie mehr √ºber die verschiedenen Dom√§nen in der [Dokumentation zur Auswahl einer Dom√§ne auf Microsoft Docs](https://docs.microsoft.com/azure/cognitive-services/custom-vision-service/select-domain?WT.mc_id=academic-17441-jabenn#object-detection).

‚úÖ Nehmen Sie sich Zeit, um die Benutzeroberfl√§che von Custom Vision f√ºr Ihren Objekterkenner zu erkunden.

### Aufgabe ‚Äì Ihren Objekterkenner trainieren

Um Ihr Modell zu trainieren, ben√∂tigen Sie eine Reihe von Bildern, die die Objekte enthalten, die Sie erkennen m√∂chten.

1. Sammeln Sie Bilder, die das zu erkennende Objekt enthalten. Sie ben√∂tigen mindestens 15 Bilder, die jedes zu erkennende Objekt aus verschiedenen Blickwinkeln und unter unterschiedlichen Lichtbedingungen zeigen, aber je mehr, desto besser. Dieser Objekterkenner verwendet die Dom√§ne *Produkte in Regalen*, versuchen Sie also, die Objekte so zu arrangieren, als ob sie in einem Ladenregal w√§ren. Sie ben√∂tigen auch einige Bilder, um das Modell zu testen. Wenn Sie mehr als ein Objekt erkennen, sollten einige Testbilder alle Objekte enthalten.

    > üíÅ Bilder mit mehreren verschiedenen Objekten z√§hlen zu den 15 Mindestbildern f√ºr alle Objekte im Bild.

    Ihre Bilder sollten PNG oder JPEG sein, kleiner als 6 MB. Wenn Sie sie beispielsweise mit einem iPhone erstellen, k√∂nnen sie hochaufl√∂sende HEIC-Bilder sein, die konvertiert und m√∂glicherweise verkleinert werden m√ºssen. Je mehr Bilder, desto besser, und Sie sollten eine √§hnliche Anzahl von reifen und unreifen Objekten haben.

    Das Modell ist f√ºr Produkte in Regalen konzipiert, versuchen Sie also, die Fotos der Objekte in Regalen zu machen.

    Sie finden einige Beispielbilder, die Sie verwenden k√∂nnen, im [images](../../../../../5-retail/lessons/1-train-stock-detector/images)-Ordner von Cashewkernen und Tomatenmark, die Sie verwenden k√∂nnen.

1. Folgen Sie dem Abschnitt [Bilder hochladen und taggen im Quickstart f√ºr den Aufbau eines Objekterkenners in den Microsoft-Dokumenten](https://docs.microsoft.com/azure/cognitive-services/custom-vision-service/get-started-build-detector?WT.mc_id=academic-17441-jabenn#upload-and-tag-images), um Ihre Trainingsbilder hochzuladen. Erstellen Sie relevante Tags je nach den Arten von Objekten, die Sie erkennen m√∂chten.

    ![Die Upload-Dialoge zeigen den Upload von Bildern reifer und unreifer Bananen](../../../../../translated_images/image-upload-object-detector.77c7892c3093cb59b79018edecd678749a75d71a099bc8a2d2f2f76320f88a5b.de.png)

    Wenn Sie Begrenzungsrahmen f√ºr Objekte zeichnen, halten Sie sie sch√∂n eng um das Objekt. Es kann eine Weile dauern, alle Bilder zu umrei√üen, aber das Tool erkennt, was es f√ºr Begrenzungsrahmen h√§lt, was es schneller macht.

    ![Taggen von Tomatenmark](../../../../../translated_images/object-detector-tag-tomato-paste.f47c362fb0f0eb582f3bc68cf3855fb43a805106395358d41896a269c210b7b4.de.png)

    > üíÅ Wenn Sie mehr als 15 Bilder f√ºr jedes Objekt haben, k√∂nnen Sie nach 15 trainieren und dann die Funktion **Vorgeschlagene Tags** verwenden. Dies wird das trainierte Modell verwenden, um die Objekte in den nicht getaggten Bildern zu erkennen. Sie k√∂nnen dann die erkannten Objekte best√§tigen oder ablehnen und die Begrenzungsrahmen neu zeichnen. Dies kann eine *Menge* Zeit sparen.

1. Folgen Sie dem Abschnitt [Den Erkenner trainieren im Quickstart f√ºr den Aufbau eines Objekterkenners in den Microsoft-Dokumenten](https://docs.microsoft.com/azure/cognitive-services/custom-vision-service/get-started-build-detector?WT.mc_id=academic-17441-jabenn#train-the-detector), um den Objekterkenner mit Ihren getaggten Bildern zu trainieren.

    Sie haben die Wahl zwischen verschiedenen Trainingsarten. W√§hlen Sie **Schnelles Training**.

Der Objekterkenner wird dann trainiert. Es dauert einige Minuten, bis das Training abgeschlossen ist.

## Den Objekterkenner testen

Sobald Ihr Objekterkenner trainiert ist, k√∂nnen Sie ihn testen, indem Sie ihm neue Bilder geben, um Objekte darin zu erkennen.

### Aufgabe ‚Äì Ihren Objekterkenner testen

1. Verwenden Sie die Schaltfl√§che **Schneller Test**, um Testbilder hochzuladen und zu √ºberpr√ºfen, ob die Objekte erkannt werden. Verwenden Sie die Testbilder, die Sie zuvor erstellt haben, nicht die Bilder, die Sie zum Trainieren verwendet haben.

    ![3 Dosen Tomatenmark erkannt mit Wahrscheinlichkeiten von 38%, 35,5% und 34,6%](../../../../../translated_images/object-detector-detected-tomato-paste.52656fe87af4c37b4ee540526d63e73ed075da2e54a9a060aa528e0c562fb1b6.de.png)

1. Testen Sie alle Testbilder, die Ihnen zur Verf√ºgung stehen, und beobachten Sie die Wahrscheinlichkeiten.

## Den Objekterkenner erneut trainieren

Wenn Sie Ihren Objekterkenner testen, liefert er m√∂glicherweise nicht die erwarteten Ergebnisse, √§hnlich wie bei Bildklassifikatoren im vorherigen Projekt. Sie k√∂nnen Ihren Objekterkenner verbessern, indem Sie ihn mit Bildern erneut trainieren, bei denen er Fehler macht.

Jedes Mal, wenn Sie eine Vorhersage mit der Option "Schneller Test" machen, werden das Bild und die Ergebnisse gespeichert. Sie k√∂nnen diese Bilder verwenden, um Ihr Modell erneut zu trainieren.

1. Verwenden Sie die Registerkarte **Vorhersagen**, um die Bilder zu finden, die Sie f√ºr Tests verwendet haben.

1. Best√§tigen Sie alle genauen Erkennungen, l√∂schen Sie falsche und f√ºgen Sie fehlende Objekte hinzu.

1. Trainieren und testen Sie das Modell erneut.

---

## üöÄ Herausforderung

Was w√ºrde passieren, wenn Sie den Objekterkenner mit √§hnlich aussehenden Artikeln verwenden, wie z. B. Dosen derselben Marke mit Tomatenmark und gehackten Tomaten?

Wenn Sie √§hnliche Artikel haben, testen Sie es aus, indem Sie Bilder davon zu Ihrem Objekterkenner hinzuf√ºgen.

## Quiz nach der Vorlesung
[Quiz nach der Vorlesung](https://black-meadow-040d15503.1.azurestaticapps.net/quiz/38)

## √úberpr√ºfung & Selbststudium

* Beim Training deines Objekterkennungsmodells hast du Werte f√ºr *Precision*, *Recall* und *mAP* gesehen, die die Qualit√§t des erstellten Modells bewerten. Lies nach, was diese Werte bedeuten, indem du den [Abschnitt "Evaluate the detector" im Schnellstart zur Erstellung eines Objekterkennungsmodells in der Microsoft-Dokumentation](https://docs.microsoft.com/azure/cognitive-services/custom-vision-service/get-started-build-detector?WT.mc_id=academic-17441-jabenn#evaluate-the-detector) durchgehst.
* Erfahre mehr √ºber Objekterkennung auf der [Wikipedia-Seite zur Objekterkennung](https://wikipedia.org/wiki/Object_detection).

## Aufgabe

[Dom√§nen vergleichen](assignment.md)

**Haftungsausschluss**:  
Dieses Dokument wurde mit dem KI-√úbersetzungsdienst [Co-op Translator](https://github.com/Azure/co-op-translator) √ºbersetzt. Obwohl wir uns um Genauigkeit bem√ºhen, beachten Sie bitte, dass automatisierte √úbersetzungen Fehler oder Ungenauigkeiten enthalten k√∂nnen. Das Originaldokument in seiner urspr√ºnglichen Sprache sollte als ma√ügebliche Quelle betrachtet werden. F√ºr kritische Informationen wird eine professionelle menschliche √úbersetzung empfohlen. Wir √ºbernehmen keine Haftung f√ºr Missverst√§ndnisse oder Fehlinterpretationen, die sich aus der Nutzung dieser √úbersetzung ergeben.