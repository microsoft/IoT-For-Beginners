<!--
CO_OP_TRANSLATOR_METADATA:
{
  "original_hash": "8df310a42f902139a01417dacb1ffbef",
  "translation_date": "2025-10-11T12:52:20+00:00",
  "source_file": "5-retail/lessons/1-train-stock-detector/README.md",
  "language_code": "et"
}
-->
# Treeni varude detektorit

![Selle √µppetunni visuaalne √ºlevaade](../../../../../translated_images/lesson-19.cf6973cecadf080c4b526310620dc4d6f5994c80fb0139c6f378cc9ca2d435cd.et.jpg)

> Visuaalne √ºlevaade: [Nitya Narasimhan](https://github.com/nitya). Kl√µpsa pildil, et n√§ha suuremat versiooni.

See video annab √ºlevaate objektide tuvastamisest Azure Custom Vision teenuse abil, mis on selle √µppetunni teema.

[![Custom Vision 2 - Objektide tuvastamine lihtsaks | The Xamarin Show](https://img.youtube.com/vi/wtTYSyBUpFc/0.jpg)](https://www.youtube.com/watch?v=wtTYSyBUpFc)

> üé• Kl√µpsa √ºlaloleval pildil, et vaadata videot

## Eel-loengu viktoriin

[Eel-loengu viktoriin](https://black-meadow-040d15503.1.azurestaticapps.net/quiz/37)

## Sissejuhatus

Eelmises projektis kasutasite tehisintellekti, et treenida pildiklassifikaatorit ‚Äì mudelit, mis suudab tuvastada, kas pilt sisaldab midagi, n√§iteks k√ºpset v√µi toorest vilja. Teine tehisintellekti mudel, mida saab piltidega kasutada, on objektide tuvastamine. Need mudelid ei klassifitseeri pilti siltide j√§rgi, vaid on treenitud objekte √§ra tundma ja neid piltides leidma, tuvastades mitte ainult objekti olemasolu, vaid ka selle asukoha pildil. See v√µimaldab lugeda objekte piltidel.

Selles √µppetunnis √µpite objektide tuvastamist, sealhulgas selle kasutamist jaem√º√ºgis. Samuti √µpite, kuidas treenida objektide detektorit pilves.

Selles √µppetunnis k√§sitleme:

* [Objektide tuvastamine](../../../../../5-retail/lessons/1-train-stock-detector)
* [Objektide tuvastamine jaem√º√ºgis](../../../../../5-retail/lessons/1-train-stock-detector)
* [Objektide detektori treenimine](../../../../../5-retail/lessons/1-train-stock-detector)
* [Objektide detektori testimine](../../../../../5-retail/lessons/1-train-stock-detector)
* [Objektide detektori uuesti treenimine](../../../../../5-retail/lessons/1-train-stock-detector)

## Objektide tuvastamine

Objektide tuvastamine h√µlmab objektide tuvastamist piltidel tehisintellekti abil. Erinevalt eelmises projektis treenitud pildiklassifikaatorist ei ole objektide tuvastamine seotud pildi parima sildi ennustamisega tervikuna, vaid √ºhe v√µi mitme objekti leidmisega pildil.

### Objektide tuvastamine vs pildiklassifikatsioon

Pildiklassifikatsioon seisneb pildi tervikuna klassifitseerimises ‚Äì millised on t√µen√§osused, et kogu pilt vastab igale sildile. Tagastatakse t√µen√§osused iga sildi kohta, mida mudeli treenimiseks kasutati.

![Pildiklassifikatsioon india p√§hklite ja tomatipasta kohta](../../../../../translated_images/image-classifier-cashews-tomato.bc2e16ab8f05cf9ac0f59f73e32efc4227f9a5b601b90b2c60f436694547a965.et.png)

√úlaltoodud n√§ites klassifitseeritakse kaks pilti mudeli abil, mis on treenitud klassifitseerima india p√§hklite karpe v√µi tomatipasta purke. Esimene pilt on india p√§hklite karp ja sellel on kaks tulemust pildiklassifikaatorist:

| Silt            | T√µen√§osus |
| --------------- | --------: |
| `india p√§hklid` | 98.4%     |
| `tomatipasta`   | 1.6%      |

Teine pilt on tomatipasta purk ja tulemused on:

| Silt            | T√µen√§osus |
| --------------- | --------: |
| `india p√§hklid` | 0.7%      |
| `tomatipasta`   | 99.3%     |

V√µiksite kasutada neid v√§√§rtusi koos protsendilise l√§vega, et ennustada, mis pildil on. Aga mis juhtub, kui pilt sisaldab mitut tomatipasta purki v√µi nii india p√§hkleid kui ka tomatipastat? Tulemused ei pruugi anda soovitud tulemust. Siin tuleb appi objektide tuvastamine.

Objektide tuvastamine h√µlmab mudeli treenimist objektide √§ratundmiseks. Selle asemel, et anda mudelile pilte, mis sisaldavad objekti, ja √∂elda, et iga pilt on √ºks v√µi teine silt, t√µstate esile pildi osa, mis sisaldab konkreetset objekti, ja m√§rgistate selle. V√µite m√§rgistada √ºhe objekti pildil v√µi mitu. Nii √µpib mudel √§ra tundma, milline objekt ise v√§lja n√§eb, mitte ainult millised pildid, mis objekti sisaldavad, v√§lja n√§evad.

Kui kasutate seda piltide ennustamiseks, ei saa te tagasi siltide ja protsentide loendit, vaid tuvastatud objektide loendi koos nende piirdekastide ja t√µen√§osusega, et objekt vastab m√§√§ratud sildile.

> üéì *Piirdekastid* on kastid objekti √ºmber.

![Objektide tuvastamine india p√§hklite ja tomatipasta kohta](../../../../../translated_images/object-detector-cashews-tomato.1af7c26686b4db0e709754aeb196f4e73271f54e2085db3bcccb70d4a0d84d97.et.png)

√úlaltoodud pilt sisaldab nii india p√§hklite karpi kui ka kolme tomatipasta purki. Objektide detektor tuvastas india p√§hklid, tagastades piirdekasti, mis sisaldab india p√§hkleid koos protsendilise t√µen√§osusega, et piirdekast sisaldab objekti, antud juhul 97.6%. Objektide detektor tuvastas ka kolm tomatipasta purki ja annab kolm eraldi piirdekasti, √ºks iga tuvastatud purgi kohta, ning iga√ºhel on protsendiline t√µen√§osus, et piirdekast sisaldab tomatipasta purki.

‚úÖ M√µelge erinevatele stsenaariumidele, kus v√µiksite kasutada pildip√µhiseid tehisintellekti mudeleid. Millised vajaksid klassifikatsiooni ja millised objektide tuvastamist?

### Kuidas objektide tuvastamine t√∂√∂tab

Objektide tuvastamine kasutab keerulisi masin√µppe mudeleid. Need mudelid t√∂√∂tavad, jagades pildi mitmeks lahtriks ja kontrollides, kas piirdekasti keskpunkt on pildi keskpunkt, mis vastab √ºhele mudeli treenimiseks kasutatud pildile. V√µite m√µelda sellele kui pildiklassifikaatori k√§ivitamisele pildi erinevates osades, et otsida vasteid.

> üíÅ See on drastiline lihtsustus. Objektide tuvastamiseks on palju tehnikaid, ja nende kohta saate rohkem lugeda [Wikipedia objektide tuvastamise lehelt](https://wikipedia.org/wiki/Object_detection).

Objektide tuvastamiseks on mitmeid erinevaid mudeleid. √úks eriti kuulus mudel on [YOLO (You only look once)](https://pjreddie.com/darknet/yolo/), mis on uskumatult kiire ja suudab tuvastada 20 erinevat objekti klassi, nagu inimesed, koerad, pudelid ja autod.

‚úÖ Lugege YOLO mudeli kohta aadressil [pjreddie.com/darknet/yolo/](https://pjreddie.com/darknet/yolo/)

Objektide tuvastamise mudeleid saab uuesti treenida, kasutades √ºlekande√µpet, et tuvastada kohandatud objekte.

## Objektide tuvastamine jaem√º√ºgis

Objektide tuvastamisel on jaem√º√ºgis mitmeid kasutusv√µimalusi. M√µned neist on:

* **Varude kontroll ja loendamine** ‚Äì tuvastamine, kui riiulitel on v√§he kaupa. Kui varud on liiga madalad, saab t√∂√∂tajatele v√µi robotitele saata teateid riiulite t√§iendamiseks.
* **Maskide tuvastamine** ‚Äì poodides, kus on maskipoliitika rahvatervise s√ºndmuste ajal, saab objektide tuvastamine tuvastada inimesi maskidega ja ilma.
* **Automaatne arveldamine** ‚Äì tuvastamine, milliseid esemeid riiulitelt v√µetakse, ja klientide vastav arveldamine.
* **Ohtude tuvastamine** ‚Äì tuvastamine, kui p√µrandal on katkiseid esemeid v√µi lekkinud vedelikke, ja koristusmeeskondade teavitamine.

‚úÖ Tehke veidi uurimist√∂√∂d: Millised on veel objektide tuvastamise kasutusv√µimalused jaem√º√ºgis?

## Objektide detektori treenimine

Objektide detektorit saab treenida Custom Visioni abil, sarnaselt sellele, kuidas treenisite pildiklassifikaatorit.

### √úlesanne ‚Äì looge objektide detektor

1. Looge selle projekti jaoks ressursigrupp nimega `stock-detector`.

1. Looge tasuta Custom Vision treenimisressurss ja tasuta Custom Vision ennustusressurss `stock-detector` ressursigrupis. Nimetage need `stock-detector-training` ja `stock-detector-prediction`.

    > üíÅ Teil v√µib olla ainult √ºks tasuta treenimis- ja ennustusressurss, seega veenduge, et olete varasemate √µppetundide projekti puhastanud.

    > ‚ö†Ô∏è Vajadusel saate viidata [juhistele treenimis- ja ennustusressursside loomiseks projektist 4, √µppetund 1](../../../4-manufacturing/lessons/1-train-fruit-detector/README.md#task---create-a-cognitive-services-resource).

1. K√§ivitage Custom Vision portaal aadressil [CustomVision.ai](https://customvision.ai) ja logige sisse Microsofti kontoga, mida kasutasite oma Azure'i konto jaoks.

1. J√§rgige [Microsofti dokumentatsiooni kiirjuhendi "Objektide detektori loomine" jaotist](https://docs.microsoft.com/azure/cognitive-services/custom-vision-service/get-started-build-detector?WT.mc_id=academic-17441-jabenn#create-a-new-project), et luua uus Custom Vision projekt. Kasutage alati k√µige ajakohasemaid dokumente, kuna kasutajaliides v√µib muutuda.

    Nimetage oma projekt `stock-detector`.

    Projekti loomisel veenduge, et kasutate varem loodud `stock-detector-training` ressurssi. Kasutage *Object Detection* projekti t√º√ºpi ja *Products on Shelves* domeeni.

    ![Custom Vision projekti seaded, kus nimi on fruit-quality-detector, kirjeldust pole, ressurss on fruit-quality-detector-training, projekti t√º√ºp on klassifikatsioon, klassifikatsiooni t√º√ºbid on multi class ja domeenid on food](../../../../../translated_images/custom-vision-create-object-detector-project.32d4fb9aa8e7e7375f8a799bfce517aca970f2cb65e42d4245c5e635c734ab29.et.png)

    ‚úÖ *Products on Shelves* domeen on spetsiaalselt suunatud varude tuvastamiseks poe riiulitel. Lugege rohkem erinevate domeenide kohta [Microsofti dokumentatsiooni domeeni valimise jaotisest](https://docs.microsoft.com/azure/cognitive-services/custom-vision-service/select-domain?WT.mc_id=academic-17441-jabenn#object-detection).

‚úÖ V√µtke aega, et uurida Custom Vision kasutajaliidest oma objektide detektori jaoks.

### √úlesanne ‚Äì treenige oma objektide detektorit

Mudeli treenimiseks vajate pilte, mis sisaldavad tuvastatavaid objekte.

1. Koguge pilte, mis sisaldavad tuvastatavat objekti. Teil on vaja v√§hemalt 15 pilti, mis sisaldavad iga tuvastatavat objekti erinevatest nurkadest ja erinevates valgustingimustes, kuid mida rohkem, seda parem. See objektide detektor kasutab *Products on Shelves* domeeni, seega proovige paigutada objektid nii, nagu need oleksid poe riiulil. Teil on vaja ka m√µningaid pilte mudeli testimiseks. Kui tuvastate rohkem kui √ºhe objekti, vajate testimiseks pilte, mis sisaldavad k√µiki objekte.

    > üíÅ Pildid, mis sisaldavad mitut erinevat objekti, arvestatakse 15 pildi miinimumi hulka k√µigi pildil olevate objektide jaoks.

    Teie pildid peaksid olema png v√µi jpeg formaadis, v√§iksemad kui 6MB. Kui loote need n√§iteks iPhone'iga, v√µivad need olla k√µrge eraldusv√µimega HEIC-pildid, mis tuleb konverteerida ja v√µib-olla v√§hendada. Mida rohkem pilte, seda parem, ja teil peaks olema sarnane arv k√ºpseid ja tooreid objekte.

    Mudel on m√µeldud toodete jaoks riiulitel, seega proovige teha fotod objektidest riiulitel.

    N√§idispilte, mida saate kasutada, leiate [piltide](../../../../../5-retail/lessons/1-train-stock-detector/images) kaustast, kus on india p√§hklid ja tomatipasta.

1. J√§rgige [Microsofti dokumentatsiooni kiirjuhendi "Piltide √ºleslaadimine ja m√§rgistamine" jaotist](https://docs.microsoft.com/azure/cognitive-services/custom-vision-service/get-started-build-detector?WT.mc_id=academic-17441-jabenn#upload-and-tag-images), et laadida √ºles oma treeningpildid. Looge asjakohased sildid s√µltuvalt tuvastatavate objektide t√º√ºbist.

    ![√úleslaadimise dialoogid, mis n√§itavad k√ºpsete ja toorete banaanipiltide √ºleslaadimist](../../../../../translated_images/image-upload-object-detector.77c7892c3093cb59b79018edecd678749a75d71a099bc8a2d2f2f76320f88a5b.et.png)

    Kui joonistate objektide piirdekaste, hoidke need tihedalt objekti √ºmber. K√µigi piltide kontuuride joonistamine v√µib v√µtta aega, kuid t√∂√∂riist tuvastab, mida ta arvab olevat piirdekastid, muutes selle kiiremaks.

    ![Tomatipasta m√§rgistamine](../../../../../translated_images/object-detector-tag-tomato-paste.f47c362fb0f0eb582f3bc68cf3855fb43a805106395358d41896a269c210b7b4.et.png)

    > üíÅ Kui teil on iga objekti jaoks rohkem kui 15 pilti, saate treenida p√§rast 15 pilti ja kasutada **Suggested tags** funktsiooni. See kasutab treenitud mudelit objektide tuvastamiseks m√§rgistamata pildil. Seej√§rel saate tuvastatud objektid kinnitada v√µi tagasi l√ºkata ja piirdekastid uuesti joonistada. See v√µib s√§√§sta *palju* aega.

1. J√§rgige [Microsofti dokumentatsiooni kiirjuhendi "Detektori treenimine" jaotist](https://docs.microsoft.com/azure/cognitive-services/custom-vision-service/get-started-build-detector?WT.mc_id=academic-17441-jabenn#train-the-detector), et treenida objektide detektorit oma m√§rgistatud piltide p√µhjal.

    Teile antakse valik treeningt√º√ºbi osas. Valige **Quick Training**.

Objektide detektor hakkab treenima. Treenimine v√µtab paar minutit.

## Testige oma objektide detektorit

Kui teie objektide detektor on treenitud, saate seda testida, andes sellele uusi pilte, et tuvastada objekte.

### √úlesanne ‚Äì testige oma objektide detektorit

1. Kasutage **Quick Test** nuppu, et √ºles laadida testimispildid ja kontrollida, kas objektid tuvastatakse. Kasutage varem loodud testimispilte, mitte treeningpilte.

    ![3 tomatipasta purki tuvastatud t√µen√§osustega 38%, 35.5% ja 34.6%](../../../../../translated_images/object-detector-detected-tomato-paste.52656fe87af4c37b4ee540526d63e73ed075da2e54a9a060aa528e0c562fb1b6.et.png)

1. Proovige k√µiki testimispilte, mis teil on, ja j√§lgige t√µen√§osusi.

## Treenige oma objektide detektorit uuesti

Kui testite oma objektide detektorit, ei pruugi see anda oodatud tulemusi, nagu ka pildiklassifikaatoritega eelmises projektis. Saate oma objektide detektorit parandada, treenides seda uuesti piltidega, mille puhul see eksib.

Iga kord, kui teete ennustuse kiirtesti valiku abil, salvestatakse pilt ja tulemused. Saate kasutada neid pilte oma mudeli uuesti treenimiseks.

1. Kasutage **Predictions** vahekaarti, et leida testimiseks kasutatud pildid.

1. Kinnitage k√µik t√§psed tuvastused, kustutage valed ja lisage puuduolevad objektid.

1. Treenige mudel uuesti ja testige seda uuesti.

---

## üöÄ V√§ljakutse
Mis juhtub, kui kasutate objektidetektorit sarnaste v√§limustega esemete puhul, n√§iteks sama br√§ndi tomatipasta ja hakitud tomatite purkide puhul?

Kui teil on sarnase v√§limusega esemeid, katsetage neid, lisades nende pilte oma objektidetektorisse.

## Loengu j√§rgne viktoriin

[Loengu j√§rgne viktoriin](https://black-meadow-040d15503.1.azurestaticapps.net/quiz/38)

## √úlevaade ja iseseisev √µppimine

* Kui treenisite oma objektidetektorit, n√§gite *T√§psuse* (Precision), *Leidmise* (Recall) ja *mAP* v√§√§rtusi, mis hindavad loodud mudelit. Lugege, mida need v√§√§rtused t√§hendavad, kasutades [Microsofti dokumentatsiooni kiirjuhendi "Ehita objektidetektor" hindamise sektsiooni](https://docs.microsoft.com/azure/cognitive-services/custom-vision-service/get-started-build-detector?WT.mc_id=academic-17441-jabenn#evaluate-the-detector).
* Lugege rohkem objektituvastuse kohta [Wikipedia objektituvastuse lehelt](https://wikipedia.org/wiki/Object_detection).

## √úlesanne

[V√µrdle domeene](assignment.md)

---

**Lahti√ºtlus**:  
See dokument on t√µlgitud AI t√µlketeenuse [Co-op Translator](https://github.com/Azure/co-op-translator) abil. Kuigi p√º√ºame tagada t√§psust, palume arvestada, et automaatsed t√µlked v√µivad sisaldada vigu v√µi ebat√§psusi. Algne dokument selle algses keeles tuleks pidada autoriteetseks allikaks. Olulise teabe puhul soovitame kasutada professionaalset inimt√µlget. Me ei vastuta selle t√µlke kasutamisest tulenevate arusaamatuste v√µi valesti t√µlgenduste eest.