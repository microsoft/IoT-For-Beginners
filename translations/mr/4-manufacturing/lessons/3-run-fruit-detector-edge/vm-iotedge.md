<!--
CO_OP_TRANSLATOR_METADATA:
{
  "original_hash": "24dc783a600e20251211987b36370e93",
  "translation_date": "2025-08-27T10:42:07+00:00",
  "source_file": "4-manufacturing/lessons/3-run-fruit-detector-edge/vm-iotedge.md",
  "language_code": "mr"
}
-->
# IoT Edge рдЪрд╛рд▓рд╡рдгрд╛рд░реА рд╡реНрд╣рд░реНрдЪреНрдпреБрдЕрд▓ рдорд╢реАрди рддрдпрд╛рд░ рдХрд░рд╛

Azure рдордзреНрдпреЗ, рддреБрдореНрд╣реА рдПрдХ рд╡реНрд╣рд░реНрдЪреНрдпреБрдЕрд▓ рдорд╢реАрди рддрдпрд╛рд░ рдХрд░реВ рд╢рдХрддрд╛ - рдХреНрд▓рд╛рдЙрдбрдордзреАрд▓ рдПрдХ рд╕рдВрдЧрдгрдХ рдЬреНрдпрд╛рд▓рд╛ рддреБрдореНрд╣реА рддреБрдордЪреНрдпрд╛ рдЗрдЪреНрдЫреЗрдиреБрд╕рд╛рд░ рдХреЙрдиреНрдлрд┐рдЧрд░ рдХрд░реВ рд╢рдХрддрд╛ рдЖрдгрд┐ рддреНрдпрд╛рд╡рд░ рддреБрдордЪреЗ рд╕реНрд╡рддрдГрдЪреЗ рд╕реЙрдлреНрдЯрд╡реЗрдЕрд░ рдЪрд╛рд▓рд╡реВ рд╢рдХрддрд╛.

> ЁЯТБ рд╡реНрд╣рд░реНрдЪреНрдпреБрдЕрд▓ рдорд╢реАрдирдмрджреНрджрд▓ рдЕрдзрд┐рдХ рд╡рд╛рдЪрдгреНрдпрд╛рд╕рд╛рдареА [рд╡рд┐рдХрд┐рдкреАрдбрд┐рдпрд╛рд╡рд░реАрд▓ рд╡реНрд╣рд░реНрдЪреНрдпреБрдЕрд▓ рдорд╢реАрди рдкреГрд╖реНрда](https://wikipedia.org/wiki/Virtual_machine) рдкрд╣рд╛.

## рдХрд╛рд░реНрдп - IoT Edge рд╡реНрд╣рд░реНрдЪреНрдпреБрдЕрд▓ рдорд╢реАрди рд╕реЗрдЯ рдЕрдк рдХрд░рд╛

1. Azure IoT Edge рдЖрдзреАрдЪ рдкреНрд░реА-рдЗрдВрд╕реНрдЯреЙрд▓ рдХреЗрд▓реЗрд▓реЗ рдЕрд╕рд▓реЗрд▓реЗ VM рддрдпрд╛рд░ рдХрд░рдгреНрдпрд╛рд╕рд╛рдареА рдЦрд╛рд▓реАрд▓ рдХрдорд╛рдВрдб рдЪрд╛рд▓рд╡рд╛:

    ```sh
    az deployment group create \
                --resource-group fruit-quality-detector \
                --template-uri https://raw.githubusercontent.com/Azure/iotedge-vm-deploy/1.2.0/edgeDeploy.json \
                --parameters dnsLabelPrefix=<vm_name> \
                --parameters adminUsername=<username> \
                --parameters deviceConnectionString="<connection_string>" \
                --parameters authenticationType=password \
                --parameters adminPasswordOrKey="<password>"
    ```

    `<vm_name>` рд▓рд╛ рдпрд╛ рд╡реНрд╣рд░реНрдЪреНрдпреБрдЕрд▓ рдорд╢реАрдирд╕рд╛рдареА рдирд╛рд╡рд╛рдиреЗ рдмрджрд▓рд╛. рд╣реЗ рдирд╛рд╡ рдЬрд╛рдЧрддрд┐рдХ рд╕реНрддрд░рд╛рд╡рд░ рдЕрджреНрд╡рд┐рддреАрдп рдЕрд╕рд▓реЗ рдкрд╛рд╣рд┐рдЬреЗ, рдореНрд╣рдгреВрди рддреБрдордЪреЗ рдирд╛рд╡ рдХрд┐рдВрд╡рд╛ рдЗрддрд░ рдХрд╛рд╣реА рдореВрд▓реНрдп рд╢реЗрд╡рдЯреА рдЬреЛрдбреВрди `fruit-quality-detector-vm-` рд╕рд╛рд░рдЦреЗ рдХрд╛рд╣реАрддрд░реА рд╡рд╛рдкрд░рд╛.

    `<username>` рдЖрдгрд┐ `<password>` рд▓рд╛ VM рдордзреНрдпреЗ рд▓реЙрдЧ рдЗрди рдХрд░рдгреНрдпрд╛рд╕рд╛рдареА рд╡рд╛рдкрд░рдгреНрдпрд╛рд╕рд╛рдареА рдпреБрдЬрд░рдиреЗрдо рдЖрдгрд┐ рдкрд╛рд╕рд╡рд░реНрдбрдиреЗ рдмрджрд▓рд╛. рд╣реЗ рддреБрд▓рдиреЗрдиреЗ рд╕реБрд░рдХреНрд╖рд┐рдд рдЕрд╕рд▓реЗ рдкрд╛рд╣рд┐рдЬреЗ, рддреНрдпрд╛рдореБрд│реЗ admin/password рд╡рд╛рдкрд░рддрд╛ рдпреЗрдгрд╛рд░ рдирд╛рд╣реА.

    `<connection_string>` рд▓рд╛ рддреБрдордЪреНрдпрд╛ `fruit-quality-detector-edge` IoT Edge рдбрд┐рд╡реНрд╣рд╛рдЗрд╕рдЪреНрдпрд╛ рдХрдиреЗрдХреНрд╢рди рд╕реНрдЯреНрд░рд┐рдВрдЧрдиреЗ рдмрджрд▓рд╛.

    рд╣реЗ `DS1 v2` рд╡реНрд╣рд░реНрдЪреНрдпреБрдЕрд▓ рдорд╢реАрди рдореНрд╣рдгреВрди рдХреЙрдиреНрдлрд┐рдЧрд░ рдХреЗрд▓реЗрд▓реЗ VM рддрдпрд╛рд░ рдХрд░реЗрд▓. рдпрд╛ рд╢реНрд░реЗрдгреНрдпрд╛ рдорд╢реАрди рдХрд┐рддреА рд╢рдХреНрддрд┐рд╢рд╛рд▓реА рдЖрд╣реЗ рдЖрдгрд┐ рддреНрдпрд╛рдиреБрд╕рд╛рд░ рддреНрдпрд╛рдЪрд╛ рдЦрд░реНрдЪ рдХрд┐рддреА рдЖрд╣реЗ рд╣реЗ рджрд░реНрд╢рд╡рддрд╛рдд. рдпрд╛ VM рдордзреНрдпреЗ 1 CPU рдЖрдгрд┐ 3.5GB RAM рдЖрд╣реЗ.

    > ЁЯТ░ рдпрд╛ VM рдЪреНрдпрд╛ рд╕рдзреНрдпрд╛рдЪреНрдпрд╛ рдХрд┐рдВрдорддреА [Azure Virtual Machine рдХрд┐рдВрдордд рдорд╛рд░реНрдЧрджрд░реНрд╢рдХ](https://azure.microsoft.com/pricing/details/virtual-machines/linux/?WT.mc_id=academic-17441-jabenn) рд╡рд░ рдкрд╛рд╣реВ рд╢рдХрддрд╛.

    VM рддрдпрд╛рд░ рдЭрд╛рд▓реНрдпрд╛рд╡рд░, IoT Edge рд░рдирдЯрд╛рдЗрдо рдЖрдкреЛрдЖрдк рдЗрдиреНрд╕реНрдЯреЙрд▓ рд╣реЛрдИрд▓ рдЖрдгрд┐ рддреБрдордЪреНрдпрд╛ `fruit-quality-detector-edge` рдбрд┐рд╡реНрд╣рд╛рдЗрд╕рд╕рд╛рдареА IoT Hub рд╢реА рдХрдиреЗрдХреНрдЯ рд╣реЛрдгреНрдпрд╛рд╕рд╛рдареА рдХреЙрдиреНрдлрд┐рдЧрд░ рдХреЗрд▓реЗ рдЬрд╛рдИрд▓.

1. рддреБрдореНрд╣рд╛рд▓рд╛ рдЗрдореЗрдЬ рдХреНрд▓рд╛рд╕рд┐рдлрд╛рдпрд░ рдХреЙрд▓ рдХрд░рдгреНрдпрд╛рд╕рд╛рдареА VM рдЪрд╛ IP рдкрддреНрддрд╛ рдХрд┐рдВрд╡рд╛ DNS рдирд╛рд╡ рдЖрд╡рд╢реНрдпрдХ рдЕрд╕реЗрд▓. рд╣реЗ рдорд┐рд│рд╡рдгреНрдпрд╛рд╕рд╛рдареА рдЦрд╛рд▓реАрд▓ рдХрдорд╛рдВрдб рдЪрд╛рд▓рд╡рд╛:

    ```sh
    az vm list --resource-group fruit-quality-detector \
               --output table \
               --show-details
    ```

    `PublicIps` рдлреАрд▓реНрдб рдХрд┐рдВрд╡рд╛ `Fqdns` рдлреАрд▓реНрдб рдпрд╛рдкреИрдХреА рдПрдХрд╛рдЪреА рдкреНрд░рдд рдШреНрдпрд╛.

1. VM рд╕рд╛рдареА рдкреИрд╕реЗ рд▓рд╛рдЧрддрд╛рдд. рд▓реЗрдЦрдирд╛рдЪреНрдпрд╛ рд╡реЗрд│реА, DS1 VM рд╕реБрдорд╛рд░реЗ $0.06 рдкреНрд░рддрд┐ рддрд╛рд╕ рдЦрд░реНрдЪ рдХрд░рддреЛ. рдЦрд░реНрдЪ рдХрдореА рдареЗрд╡рдгреНрдпрд╛рд╕рд╛рдареА, рддреБрдореНрд╣реА VM рд╡рд╛рдкрд░рдд рдирд╕рддрд╛рдирд╛ рддреЗ рдмрдВрдж рдХрд░рд╛рд╡реЗ рдЖрдгрд┐ рдкреНрд░рдХрд▓реНрдк рд╕рдВрдкрд▓реНрдпрд╛рдирдВрддрд░ рддреЗ рд╣рдЯрд╡рд╛рд╡реЗ.

    рддреБрдореНрд╣реА рддреБрдордЪреНрдпрд╛ VM рд▓рд╛ рджрд░рд░реЛрдЬ рдПрдХрд╛ рд╡рд┐рд╢рд┐рд╖реНрдЯ рд╡реЗрд│реА рдЖрдкреЛрдЖрдк рдмрдВрдж рд╣реЛрдгреНрдпрд╛рд╕рд╛рдареА рдХреЙрдиреНрдлрд┐рдЧрд░ рдХрд░реВ рд╢рдХрддрд╛. рдпрд╛рдЪрд╛ рдЕрд░реНрде рдЕрд╕рд╛ рдХреА рдЬрд░ рддреБрдореНрд╣реА рддреЗ рдмрдВрдж рдХрд░рд╛рдпрд▓рд╛ рд╡рд┐рд╕рд░рд▓рд╛рдд, рддрд░ рд╕реНрд╡рдпрдВрдЪрд▓рд┐рдд рд╢рдЯрдбрд╛рдЙрди рд╣реЛрдИрдкрд░реНрдпрдВрддрдЪреНрдпрд╛ рд╡реЗрд│реЗрд╕рд╛рдареАрдЪ рддреБрдордЪреНрдпрд╛рдХрдбреВрди рд╢реБрд▓реНрдХ рдЖрдХрд╛рд░рд▓реЗ рдЬрд╛рдИрд▓. рд╣реЗ рд╕реЗрдЯ рдХрд░рдгреНрдпрд╛рд╕рд╛рдареА рдЦрд╛рд▓реАрд▓ рдХрдорд╛рдВрдб рд╡рд╛рдкрд░рд╛:

    ```sh
    az vm auto-shutdown --resource-group fruit-quality-detector \
                        --name <vm_name> \
                        --time <shutdown_time_utc>
    ```

    `<vm_name>` рд▓рд╛ рддреБрдордЪреНрдпрд╛ рд╡реНрд╣рд░реНрдЪреНрдпреБрдЕрд▓ рдорд╢реАрдирдЪреНрдпрд╛ рдирд╛рд╡рд╛рдиреЗ рдмрджрд▓рд╛.

    `<shutdown_time_utc>` рд▓рд╛ UTC рд╡реЗрд│реЗрд╕рд╣ рдмрджрд▓рд╛ рдЬреНрдпрд╛рд╡реЗрд│реА рддреБрдореНрд╣рд╛рд▓рд╛ VM рдмрдВрдж рдХрд░рд╛рдпрдЪреЗ рдЖрд╣реЗ, HHMM рдпрд╛ рд╕реНрд╡рд░реВрдкрд╛рдд 4 рдЕрдВрдХ рд╡рд╛рдкрд░реВрди. рдЙрджрд╛рд╣рд░рдгрд╛рд░реНрде, рдЬрд░ рддреБрдореНрд╣рд╛рд▓рд╛ рдордзреНрдпрд░рд╛рддреНрд░реА UTC рд▓рд╛ рд╢рдЯрдбрд╛рдЙрди рдХрд░рд╛рдпрдЪреЗ рдЕрд╕реЗрд▓, рддрд░ рддреБрдореНрд╣реА рд╣реЗ `0000` рд╕реЗрдЯ рдХрд░рд╛рд▓. USA рдЪреНрдпрд╛ рдкрд╢реНрдЪрд┐рдо рдХрд┐рдирд╛рд▒реНрдпрд╛рд╡рд░ 7:30PM рд╕рд╛рдареА, рддреБрдореНрд╣реА 0230 рд╡рд╛рдкрд░рд╛рд▓ (USA рдкрд╢реНрдЪрд┐рдо рдХрд┐рдирд╛рд▒реНрдпрд╛рд╡рд░реАрд▓ 7:30PM рдореНрд╣рдгрдЬреЗ UTC рд╡реЗрд│реЗрдиреБрд╕рд╛рд░ 2:30AM).

1. рддреБрдордЪрд╛ рдЗрдореЗрдЬ рдХреНрд▓рд╛рд╕рд┐рдлрд╛рдпрд░ рдпрд╛ рдПрдЬ рдбрд┐рд╡реНрд╣рд╛рдЗрд╕рд╡рд░ рдЪрд╛рд▓реВ рдЕрд╕реЗрд▓, рдЬреЛ рдкреЛрд░реНрдЯ 80 (рдорд╛рдирдХ HTTP рдкреЛрд░реНрдЯ) рд╡рд░ рдРрдХрдд рдЕрд╕реЗрд▓. рдбреАрдлреЙрд▓реНрдЯрдиреБрд╕рд╛рд░, рд╡реНрд╣рд░реНрдЪреНрдпреБрдЕрд▓ рдорд╢реАрдирдордзреНрдпреЗ рдЗрдирдмрд╛рдЙрдВрдб рдкреЛрд░реНрдЯ рдмреНрд▓реЙрдХ рдХреЗрд▓реЗрд▓реЗ рдЕрд╕рддрд╛рдд, рддреНрдпрд╛рдореБрд│реЗ рддреБрдореНрд╣рд╛рд▓рд╛ рдкреЛрд░реНрдЯ 80 рд╕рдХреНрд╖рдо рдХрд░рд╛рд╡рд╛ рд▓рд╛рдЧреЗрд▓. рдкреЛрд░реНрдЯреНрд╕ рдиреЗрдЯрд╡рд░реНрдХ рд╕реБрд░рдХреНрд╖рд╛ рдЧрдЯрд╛рдВрд╡рд░ рд╕рдХреНрд╖рдо рдХреЗрд▓реЗ рдЬрд╛рддрд╛рдд, рддреНрдпрд╛рдореБрд│реЗ рдкреНрд░рдердо рддреБрдореНрд╣рд╛рд▓рд╛ рддреБрдордЪреНрдпрд╛ VM рд╕рд╛рдареА рдиреЗрдЯрд╡рд░реНрдХ рд╕реБрд░рдХреНрд╖рд╛ рдЧрдЯрд╛рдЪреЗ рдирд╛рд╡ рдорд╛рд╣рд┐рдд рдЕрд╕рдгреЗ рдЖрд╡рд╢реНрдпрдХ рдЖрд╣реЗ, рдЬреЗ рддреБрдореНрд╣реА рдЦрд╛рд▓реАрд▓ рдХрдорд╛рдВрдбрдиреЗ рд╢реЛрдзреВ рд╢рдХрддрд╛:

    ```sh
    az network nsg list --resource-group fruit-quality-detector \
                        --output table
    ```

    `Name` рдлреАрд▓реНрдбрдЪреЗ рдореВрд▓реНрдп рдХреЙрдкреА рдХрд░рд╛.

1. рдиреЗрдЯрд╡рд░реНрдХ рд╕реБрд░рдХреНрд╖рд╛ рдЧрдЯрд╛рд╡рд░ рдкреЛрд░реНрдЯ 80 рдЙрдШрдбрдгреНрдпрд╛рд╕рд╛рдареА рдирд┐рдпрдо рдЬреЛрдбрдгреНрдпрд╛рд╕рд╛рдареА рдЦрд╛рд▓реАрд▓ рдХрдорд╛рдВрдб рдЪрд╛рд▓рд╡рд╛:

    ```sh
    az network nsg rule create \
                        --resource-group fruit-quality-detector \
                        --name Port_80 \
                        --protocol tcp \
                        --priority 1010 \
                        --destination-port-range 80 \
                        --nsg-name <nsg name>
    ```

    `<nsg name>` рд▓рд╛ рдорд╛рдЧреАрд▓ рдЯрдкреНрдкреНрдпрд╛рддреАрд▓ рдиреЗрдЯрд╡рд░реНрдХ рд╕реБрд░рдХреНрд╖рд╛ рдЧрдЯрд╛рдЪреНрдпрд╛ рдирд╛рд╡рд╛рдиреЗ рдмрджрд▓рд╛.

### рдХрд╛рд░реНрдп - рдЦрд░реНрдЪ рдХрдореА рдХрд░рдгреНрдпрд╛рд╕рд╛рдареА рддреБрдордЪреЗ VM рд╡реНрдпрд╡рд╕реНрдерд╛рдкрд┐рдд рдХрд░рд╛

1. рдЬреЗрд╡реНрд╣рд╛ рддреБрдореНрд╣реА рддреБрдордЪреЗ VM рд╡рд╛рдкрд░рдд рдирд╕рддрд╛, рддреЗрд╡реНрд╣рд╛ рддреБрдореНрд╣реА рддреЗ рдмрдВрдж рдХреЗрд▓реЗ рдкрд╛рд╣рд┐рдЬреЗ. VM рдмрдВрдж рдХрд░рдгреНрдпрд╛рд╕рд╛рдареА рдЦрд╛рд▓реАрд▓ рдХрдорд╛рдВрдб рд╡рд╛рдкрд░рд╛:

    ```sh
    az vm deallocate --resource-group fruit-quality-detector \
                     --name <vm_name>
    ```

    `<vm_name>` рд▓рд╛ рддреБрдордЪреНрдпрд╛ рд╡реНрд╣рд░реНрдЪреНрдпреБрдЕрд▓ рдорд╢реАрдирдЪреНрдпрд╛ рдирд╛рд╡рд╛рдиреЗ рдмрджрд▓рд╛.

    > ЁЯТБ `az vm stop` рдирд╛рд╡рд╛рдЪреА рдПрдХ рдХрдорд╛рдВрдб рдЖрд╣реЗ рдЬреА VM рдерд╛рдВрдмрд╡реЗрд▓, рдкрд░рдВрддреБ рддреА рд╕рдВрдЧрдгрдХ рддреБрдордЪреНрдпрд╛рд╕рд╛рдареА рд░рд╛рдЦреВрди рдареЗрд╡рддреЗ, рддреНрдпрд╛рдореБрд│реЗ рддреБрдореНрд╣рд╛рд▓рд╛ рддреЗ рдЪрд╛рд▓реВ рдЕрд╕рд▓реНрдпрд╛рд╕рд╛рд░рдЦреЗрдЪ рдкреИрд╕реЗ рджреНрдпрд╛рд╡реЗ рд▓рд╛рдЧрддрд╛рдд.

1. VM рдкреБрдиреНрд╣рд╛ рд╕реБрд░реВ рдХрд░рдгреНрдпрд╛рд╕рд╛рдареА рдЦрд╛рд▓реАрд▓ рдХрдорд╛рдВрдб рд╡рд╛рдкрд░рд╛:

    ```sh
    az vm start --resource-group fruit-quality-detector \
                --name <vm_name>
    ```

    `<vm_name>` рд▓рд╛ рддреБрдордЪреНрдпрд╛ рд╡реНрд╣рд░реНрдЪреНрдпреБрдЕрд▓ рдорд╢реАрдирдЪреНрдпрд╛ рдирд╛рд╡рд╛рдиреЗ рдмрджрд▓рд╛.

---

**рдЕрд╕реНрд╡реАрдХрд░рдг**:  
рд╣рд╛ рджрд╕реНрддрдРрд╡рдЬ AI рднрд╛рд╖рд╛рдВрддрд░ рд╕реЗрд╡рд╛ [Co-op Translator](https://github.com/Azure/co-op-translator) рдЪрд╛ рд╡рд╛рдкрд░ рдХрд░реВрди рднрд╛рд╖рд╛рдВрддрд░рд┐рдд рдХрд░рдгреНрдпрд╛рдд рдЖрд▓рд╛ рдЖрд╣реЗ. рдЖрдореНрд╣реА рдЕрдЪреВрдХрддреЗрд╕рд╛рдареА рдкреНрд░рдпрддреНрдирд╢реАрд▓ рдЕрд╕рд▓реЛ рддрд░реА, рдХреГрдкрдпрд╛ рд▓рдХреНрд╖рд╛рдд рдШреНрдпрд╛ рдХреА рд╕реНрд╡рдпрдВрдЪрд▓рд┐рдд рднрд╛рд╖рд╛рдВрддрд░рд╛рдВрдордзреНрдпреЗ рддреНрд░реБрдЯреА рдХрд┐рдВрд╡рд╛ рдЕрдЪреВрдХрддреЗрдЪрд╛ рдЕрднрд╛рд╡ рдЕрд╕реВ рд╢рдХрддреЛ. рдореВрд│ рднрд╛рд╖реЗрддреАрд▓ рдореВрд│ рджрд╕реНрддрдРрд╡рдЬ рд╣рд╛ рдЕрдзрд┐рдХреГрдд рд╕реНрд░реЛрдд рдорд╛рдирд▓рд╛ рдЬрд╛рд╡рд╛. рдорд╣рддреНрддреНрд╡рд╛рдЪреНрдпрд╛ рдорд╛рд╣рд┐рддреАрд╕рд╛рдареА, рд╡реНрдпрд╛рд╡рд╕рд╛рдпрд┐рдХ рдорд╛рдирд╡реА рднрд╛рд╖рд╛рдВрддрд░рд╛рдЪреА рд╢рд┐рдлрд╛рд░рд╕ рдХреЗрд▓реА рдЬрд╛рддреЗ. рдпрд╛ рднрд╛рд╖рд╛рдВрддрд░рд╛рдЪрд╛ рд╡рд╛рдкрд░ рдХрд░реВрди рдЙрджреНрднрд╡рд▓реЗрд▓реНрдпрд╛ рдХреЛрдгрддреНрдпрд╛рд╣реА рдЧреИрд░рд╕рдордЬрд╛рдВрдХрд░рд┐рддрд╛ рдХрд┐рдВрд╡рд╛ рдЪреБрдХреАрдЪреНрдпрд╛ рдЕрд░реНрде рд▓рд╛рд╡рдгреНрдпрд╛рдХрд░рд┐рддрд╛ рдЖрдореНрд╣реА рдЬрдмрд╛рдмрджрд╛рд░ рд░рд╛рд╣рдгрд╛рд░ рдирд╛рд╣реА.