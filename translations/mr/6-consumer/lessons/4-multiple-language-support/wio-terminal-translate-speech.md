<!--
CO_OP_TRANSLATOR_METADATA:
{
  "original_hash": "5f6c164e349f8989959e02a90f37908d",
  "translation_date": "2025-08-27T13:24:37+00:00",
  "source_file": "6-consumer/lessons/4-multiple-language-support/wio-terminal-translate-speech.md",
  "language_code": "mr"
}
-->
# рднрд╛рд╖рдг рдЕрдиреБрд╡рд╛рдж рдХрд░рд╛ - Wio Terminal

рдпрд╛ рдзрдбреНрдпрд╛рдЪреНрдпрд╛ рднрд╛рдЧрд╛рдд, рддреБрдореНрд╣реА рдЕрдиреБрд╡рд╛рджрдХ рд╕реЗрд╡реЗрд╕рд╛рдареА рдХреЛрдб рд▓рд┐рд╣реВрди рдордЬрдХреВрд░ рдЕрдиреБрд╡рд╛рджрд┐рдд рдХрд░рд╛рд▓.

## рдЕрдиреБрд╡рд╛рджрдХ рд╕реЗрд╡реЗрд╕рд╛рдареА рдордЬрдХреВрд░ рднрд╛рд╖рдгрд╛рдд рд░реВрдкрд╛рдВрддрд░рд┐рдд рдХрд░рд╛

рд╕реНрдкреАрдЪ рд╕реЗрд╡рд╛ REST API рдереЗрдЯ рдЕрдиреБрд╡рд╛рджрд╛рдВрдирд╛ рд╕рдорд░реНрдерди рджреЗрдд рдирд╛рд╣реА, рдкрд░рдВрддреБ рддреБрдореНрд╣реА рд╕реНрдкреАрдЪ рдЯреВ рдЯреЗрдХреНрд╕реНрдЯ рд╕реЗрд╡реЗрджреНрд╡рд╛рд░реЗ рддрдпрд╛рд░ рдХреЗрд▓реЗрд▓реНрдпрд╛ рдордЬрдХреВрд░рд╛рдЪрд╛ рдЖрдгрд┐ рдмреЛрд▓рд▓реНрдпрд╛ рдкреНрд░рддрд┐рд╕рд╛рджрд╛рдЪрд╛ рдордЬрдХреВрд░ рдЕрдиреБрд╡рд╛рджрд┐рдд рдХрд░рдгреНрдпрд╛рд╕рд╛рдареА рдЕрдиреБрд╡рд╛рджрдХ рд╕реЗрд╡рд╛ рд╡рд╛рдкрд░реВ рд╢рдХрддрд╛. рдпрд╛ рд╕реЗрд╡реЗрд╕рд╛рдареА REST API рдЙрдкрд▓рдмреНрдз рдЖрд╣реЗ, рдкрд░рдВрддреБ рд╡рд╛рдкрд░рдгреНрдпрд╛рд╕ рд╕реБрд▓рдн рдХрд░рдгреНрдпрд╛рд╕рд╛рдареА рд╣реЗ рддреБрдордЪреНрдпрд╛ рдлрдВрдХреНрд╢рдиреНрд╕ рдЕтАНреЕрдкрдордзреНрдпреЗ рдЖрдгрдЦреА рдПрдХрд╛ HTTP рдЯреНрд░рд┐рдЧрд░рдордзреНрдпреЗ рдЧреБрдВрдбрд╛рд│рд▓реЗ рдЬрд╛рдИрд▓.

### рдХрд╛рд░реНрдп - рдордЬрдХреВрд░ рдЕрдиреБрд╡рд╛рдж рдХрд░рдгреНрдпрд╛рд╕рд╛рдареА рд╕рд░реНрд╡реНрд╣рд░рд▓реЗрд╕ рдлрдВрдХреНрд╢рди рддрдпрд╛рд░ рдХрд░рд╛

1. рддреБрдордЪрд╛ `smart-timer-trigger` рдкреНрд░рдХрд▓реНрдк VS Code рдордзреНрдпреЗ рдЙрдШрдбрд╛ рдЖрдгрд┐ рдЯрд░реНрдорд┐рдирд▓ рдЙрдШрдбрд╛, рдпрд╛рдЪреА рдЦрд╛рддреНрд░реА рдХрд░рд╛ рдХреА рд╡рд░реНрдЪреНрдпреБрдЕрд▓ рд╡рд╛рддрд╛рд╡рд░рдг рд╕рдХреНрд░рд┐рдп рдЖрд╣реЗ. рдирд╕рд▓реНрдпрд╛рд╕, рдЯрд░реНрдорд┐рдирд▓ рдмрдВрдж рдХрд░рд╛ рдЖрдгрд┐ рдкреБрдиреНрд╣рд╛ рддрдпрд╛рд░ рдХрд░рд╛.

1. `local.settings.json` рдлрд╛рдЗрд▓ рдЙрдШрдбрд╛ рдЖрдгрд┐ рдЕрдиреБрд╡рд╛рджрдХ API рдХреА рдЖрдгрд┐ рд╕реНрдерд╛рдирд╛рд╕рд╛рдареА рд╕реЗрдЯрд┐рдВрдЧреНрдЬ рдЬреЛрдбрд╛:

    ```json
    "TRANSLATOR_KEY": "<key>",
    "TRANSLATOR_LOCATION": "<location>"
    ```

    `<key>` рд▓рд╛ рддреБрдордЪреНрдпрд╛ рдЕрдиреБрд╡рд╛рджрдХ рд╕реЗрд╡рд╛ рд╕рдВрд╕рд╛рдзрдирд╛рд╕рд╛рдареА API рдХреАрдиреЗ рдмрджрд▓рд╛. `<location>` рд▓рд╛ рддреБрдореНрд╣реА рдЕрдиреБрд╡рд╛рджрдХ рд╕реЗрд╡рд╛ рд╕рдВрд╕рд╛рдзрди рддрдпрд╛рд░ рдХрд░рддрд╛рдирд╛ рд╡рд╛рдкрд░рд▓реЗрд▓реНрдпрд╛ рд╕реНрдерд╛рдирд╛рдиреЗ рдмрджрд▓рд╛.

1. рдпрд╛ рдЕтАНреЕрдкрдордзреНрдпреЗ `translate-text` рдирд╛рд╡рд╛рдЪрд╛ рдирд╡реАрди HTTP рдЯреНрд░рд┐рдЧрд░ рдЦрд╛рд▓реАрд▓ рдХрдорд╛рдВрдб рд╡рд╛рдкрд░реВрди рддрдпрд╛рд░ рдХрд░рд╛, рдЬреЛ VS Code рдЯрд░реНрдорд┐рдирд▓рдордзреНрдпреЗ рдлрдВрдХреНрд╢рдиреНрд╕ рдЕтАНреЕрдк рдкреНрд░рдХрд▓реНрдкрд╛рдЪреНрдпрд╛ рдореВрд│ рдлреЛрд▓реНрдбрд░рдордзреНрдпреЗ рдЖрд╣реЗ:

    ```sh
    func new --name translate-text --template "HTTP trigger"
    ```

    рдпрд╛рдореБрд│реЗ `translate-text` рдирд╛рд╡рд╛рдЪрд╛ HTTP рдЯреНрд░рд┐рдЧрд░ рддрдпрд╛рд░ рд╣реЛрдИрд▓.

1. `translate-text` рдлреЛрд▓реНрдбрд░рдордзреАрд▓ `__init__.py` рдлрд╛рдЗрд▓рдЪреА рд╕рд╛рдордЧреНрд░реА рдЦрд╛рд▓реАрд▓рдкреНрд░рдорд╛рдгреЗ рдмрджрд▓рд╛:

    ```python
    import logging
    import os
    import requests
    
    import azure.functions as func
    
    location = os.environ['TRANSLATOR_LOCATION']
    translator_key = os.environ['TRANSLATOR_KEY']
    
    def main(req: func.HttpRequest) -> func.HttpResponse:
        req_body = req.get_json()
        from_language = req_body['from_language']
        to_language = req_body['to_language']
        text = req_body['text']
        
        logging.info(f'Translating {text} from {from_language} to {to_language}')
    
        url = f'https://api.cognitive.microsofttranslator.com/translate?api-version=3.0'
    
        headers = {
            'Ocp-Apim-Subscription-Key': translator_key,
            'Ocp-Apim-Subscription-Region': location,
            'Content-type': 'application/json'
        }
    
        params = {
            'from': from_language,
            'to': to_language
        }
    
        body = [{
            'text' : text
        }]
        
        response = requests.post(url, headers=headers, params=params, json=body)
        return func.HttpResponse(response.json()[0]['translations'][0]['text'])
    ```

    рд╣рд╛ рдХреЛрдб HTTP рд╡рд┐рдирдВрддреАрдордзреВрди рдордЬрдХреВрд░ рдЖрдгрд┐ рднрд╛рд╖рд╛рдВрдЪрд╛ рдЕрд░реНрдХ рдХрд╛рдврддреЛ. рддреНрдпрд╛рдирдВрддрд░, рднрд╛рд╖рд╛рдВрдирд╛ URL рд╕рд╛рдареА рдкреЕрд░рд╛рдореАрдЯрд░реНрд╕ рдореНрд╣рдгреВрди рдЖрдгрд┐ рдЕрдиреБрд╡рд╛рджрд┐рдд рдХрд░рдгреНрдпрд╛рд╕рд╛рдареА рдордЬрдХреВрд░ рд╢рд░реАрд░ рдореНрд╣рдгреВрди рдкрд╛рд╕ рдХрд░рдд рдЕрдиреБрд╡рд╛рджрдХ REST API рд▓рд╛ рд╡рд┐рдирдВрддреА рдХрд░рддреЛ. рд╢реЗрд╡рдЯреА, рдЕрдиреБрд╡рд╛рдж рдкрд░рдд рдХреЗрд▓рд╛ рдЬрд╛рддреЛ.

1. рддреБрдордЪреЗ рдлрдВрдХреНрд╢рди рдЕтАНреЕрдк рд╕реНрдерд╛рдирд┐рдХ рд╕реНрддрд░рд╛рд╡рд░ рдЪрд╛рд▓рд╡рд╛. рддреБрдореНрд╣реА рд╣реЗ curl рд╕рд╛рд░рдЦреНрдпрд╛ рдЯреВрд▓рдЪрд╛ рд╡рд╛рдкрд░ рдХрд░реВрди рдХреЙрд▓ рдХрд░реВ рд╢рдХрддрд╛, рдЬрд╕реЗ рддреБрдореНрд╣реА `text-to-timer` HTTP рдЯреНрд░рд┐рдЧрд░рдЪреА рдЪрд╛рдЪрдгреА рдХреЗрд▓реА рд╣реЛрддреА. рдЕрдиреБрд╡рд╛рджрд┐рдд рдХрд░рдгреНрдпрд╛рд╕рд╛рдареА рдордЬрдХреВрд░ рдЖрдгрд┐ рднрд╛рд╖рд╛рдВрдирд╛ JSON рд╢рд░реАрд░ рдореНрд╣рдгреВрди рдкрд╛рд╕ рдХрд░рд╛:

    ```json
    {
        "text": "D├йfinir une minuterie de 30 secondes",
        "from_language": "fr-FR",
        "to_language": "en-US"
    }
    ```

    рд╣рд╛ рдЙрджрд╛рд╣рд░рдг рдлреНрд░реЗрдВрдЪрдордзреАрд▓ *D├йfinir une minuterie de 30 secondes* рд▓рд╛ рдпреВрдПрд╕ рдЗрдВрдЧреНрд░рдЬреАрдордзреНрдпреЗ рдЕрдиреБрд╡рд╛рджрд┐рдд рдХрд░рддреЛ. рдпрд╛рдореБрд│реЗ *Set a 30-second timer* рдкрд░рдд рдорд┐рд│реЗрд▓.

> ЁЯТБ рддреБрдореНрд╣реА рд╣рд╛ рдХреЛрдб [code/functions](../../../../../6-consumer/lessons/4-multiple-language-support/code/functions) рдлреЛрд▓реНрдбрд░рдордзреНрдпреЗ рд╢реЛрдзреВ рд╢рдХрддрд╛.

### рдХрд╛рд░реНрдп - рдЕрдиреБрд╡рд╛рджрдХ рдлрдВрдХреНрд╢рди рд╡рд╛рдкрд░реВрди рдордЬрдХреВрд░ рдЕрдиреБрд╡рд╛рджрд┐рдд рдХрд░рд╛

1. `smart-timer` рдкреНрд░рдХрд▓реНрдк VS Code рдордзреНрдпреЗ рдЙрдШрдбрд╛, рдЬрд░ рддреЛ рдЖрдзреАрдЪ рдЙрдШрдбрд▓реЗрд▓рд╛ рдирд╕реЗрд▓.

1. рддреБрдордЪреНрдпрд╛ рд╕реНрдорд╛рд░реНрдЯ рдЯрд╛рдЗрдорд░рдордзреНрдпреЗ 2 рднрд╛рд╖рд╛ рд╕реЗрдЯ рдЕрд╕рддреАрд▓ - LUIS рдкреНрд░рд╢рд┐рдХреНрд╖рдгрд╛рд╕рд╛рдареА рд╡рд╛рдкрд░рд▓реЗрд▓реА рд╕рд░реНрд╡реНрд╣рд░рдЪреА рднрд╛рд╖рд╛ (рд╣реАрдЪ рднрд╛рд╖рд╛ рд╡рд╛рдкрд░рдХрд░реНрддреНрдпрд╛рд╢реА рд╕рдВрд╡рд╛рдж рд╕рд╛рдзрдгреНрдпрд╛рд╕рд╛рдареА рд╕рдВрджреЗрд╢ рддрдпрд╛рд░ рдХрд░рдгреНрдпрд╛рд╕рд╛рдареА рд╡рд╛рдкрд░рд▓реА рдЬрд╛рддреЗ), рдЖрдгрд┐ рд╡рд╛рдкрд░рдХрд░реНрддреНрдпрд╛рдиреЗ рдмреЛрд▓рд▓реЗрд▓реА рднрд╛рд╖рд╛. `config.h` рд╣реЗрдбрд░ рдлрд╛рдЗрд▓рдордзреАрд▓ `LANGUAGE` рд╕реНрдерд┐рд░рд╛рдВрдХ рд╡рд╛рдкрд░рдХрд░реНрддреНрдпрд╛рдиреЗ рдмреЛрд▓рд▓реА рдЬрд╛рдгрд╛рд░реА рднрд╛рд╖рд╛ рдореНрд╣рдгреВрди рдЕрдкрдбреЗрдЯ рдХрд░рд╛ рдЖрдгрд┐ LUIS рдкреНрд░рд╢рд┐рдХреНрд╖рдгрд╛рд╕рд╛рдареА рд╡рд╛рдкрд░рд▓реЗрд▓реНрдпрд╛ рднрд╛рд╖реЗрд╕рд╛рдареА `SERVER_LANGUAGE` рдирд╛рд╡рд╛рдЪрд╛ рдирд╡реАрди рд╕реНрдерд┐рд░рд╛рдВрдХ рдЬреЛрдбрд╛:

    ```cpp
    const char *LANGUAGE = "<user language>";
    const char *SERVER_LANGUAGE = "<server language>";
    ```

    `<user language>` рд▓рд╛ рддреБрдореНрд╣реА рдмреЛрд▓рдд рдЕрд╕рд▓реЗрд▓реНрдпрд╛ рднрд╛рд╖реЗрд╕рд╛рдареА рд╕реНрдерд╛рдирд┐рдХ рдирд╛рд╡рд╛рдиреЗ рдмрджрд▓рд╛, рдЙрджрд╛рд╣рд░рдгрд╛рд░реНрде рдлреНрд░реЗрдВрдЪрд╕рд╛рдареА `fr-FR`, рдХрд┐рдВрд╡рд╛ рдХреЕрдВрдЯреЛрдиреАрдЬрд╕рд╛рдареА `zn-HK`.

    `<server language>` рд▓рд╛ LUIS рдкреНрд░рд╢рд┐рдХреНрд╖рдгрд╛рд╕рд╛рдареА рд╡рд╛рдкрд░рд▓реЗрд▓реНрдпрд╛ рднрд╛рд╖реЗрдЪреНрдпрд╛ рд╕реНрдерд╛рдирд┐рдХ рдирд╛рд╡рд╛рдиреЗ рдмрджрд▓рд╛.

    рддреБрдореНрд╣реА рд╕рдорд░реНрдерд┐рдд рднрд╛рд╖рд╛рдВрдЪреА рдпрд╛рджреА рдЖрдгрд┐ рддреНрдпрд╛рдВрдЪреА рд╕реНрдерд╛рдирд┐рдХ рдирд╛рд╡реЗ [Microsoft docs рд╡рд░ рднрд╛рд╖реЗрдЪреЗ рдЖрдгрд┐ рдЖрд╡рд╛рдЬрд╛рдЪреЗ рд╕рдорд░реНрдерди рджрд╕реНрддрдРрд╡рдЬ](https://docs.microsoft.com/azure/cognitive-services/speech-service/language-support?WT.mc_id=academic-17441-jabenn#speech-to-text) рдордзреНрдпреЗ рд╢реЛрдзреВ рд╢рдХрддрд╛.

    > ЁЯТБ рдЬрд░ рддреБрдореНрд╣реА рдЕрдиреЗрдХ рднрд╛рд╖рд╛ рдмреЛрд▓рдд рдирд╕рд╛рд▓ рддрд░ рддреБрдореНрд╣реА [Bing Translate](https://www.bing.com/translator) рдХрд┐рдВрд╡рд╛ [Google Translate](https://translate.google.com) рд╕рд╛рд░рдЦреНрдпрд╛ рд╕реЗрд╡рд╛рдВрдЪрд╛ рд╡рд╛рдкрд░ рдХрд░реВрди рддреБрдордЪреНрдпрд╛ рдкрд╕рдВрддреАрдЪреНрдпрд╛ рднрд╛рд╖реЗрддреВрди рджреБрд╕рд▒реНрдпрд╛ рднрд╛рд╖реЗрдд рдЕрдиреБрд╡рд╛рдж рдХрд░реВ рд╢рдХрддрд╛. рдпрд╛ рд╕реЗрд╡рд╛ рдЕрдиреБрд╡рд╛рджрд┐рдд рдордЬрдХреВрд░рд╛рдЪреЗ рдСрдбрд┐рдУ рдкреНрд▓реЗ рдХрд░реВ рд╢рдХрддрд╛рдд.
    >
    > рдЙрджрд╛рд╣рд░рдгрд╛рд░реНрде, рдЬрд░ рддреБрдореНрд╣реА LUIS рдЗрдВрдЧреНрд░рдЬреАрдордзреНрдпреЗ рдкреНрд░рд╢рд┐рдХреНрд╖рд┐рдд рдХреЗрд▓реЗ рдЕрд╕реЗрд▓, рдкрд░рдВрддреБ рд╡рд╛рдкрд░рдХрд░реНрддрд╛ рднрд╛рд╖рд╛ рдореНрд╣рдгреВрди рдлреНрд░реЗрдВрдЪ рд╡рд╛рдкрд░рд╛рдпрдЪреЗ рдЕрд╕реЗрд▓, рддрд░ рддреБрдореНрд╣реА Bing Translate рд╡рд╛рдкрд░реВрди "set a 2 minute and 27 second timer" рд╕рд╛рд░рдЦреНрдпрд╛ рд╡рд╛рдХреНрдпрд╛рдВрдЪреЗ рдЗрдВрдЧреНрд░рдЬреАрдордзреВрди рдлреНрд░реЗрдВрдЪрдордзреНрдпреЗ рдЕрдиреБрд╡рд╛рдж рдХрд░реВ рд╢рдХрддрд╛, рдЖрдгрд┐ рдирдВрддрд░ **Listen translation** рдмрдЯрдг рд╡рд╛рдкрд░реВрди рдЕрдиреБрд╡рд╛рджрд┐рдд рдордЬрдХреВрд░ рддреБрдордЪреНрдпрд╛ рдорд╛рдпрдХреНрд░реЛрдлреЛрдирдордзреНрдпреЗ рдмреЛрд▓реВ рд╢рдХрддрд╛.
    >
    > ![Bing Translate рд╡рд░ Listen translation рдмрдЯрдг](../../../../../translated_images/bing-translate.348aa796d6efe2a92f41ea74a5cf42bb4c63d6faaa08e7f46924e072a35daa48.mr.png)

1. `SPEECH_LOCATION` рдЦрд╛рд▓реА рдЕрдиреБрд╡рд╛рджрдХ API рдХреА рдЖрдгрд┐ рд╕реНрдерд╛рди рдЬреЛрдбрд╛:

    ```cpp
    const char *TRANSLATOR_API_KEY = "<KEY>";
    const char *TRANSLATOR_LOCATION = "<LOCATION>";
    ```

    `<KEY>` рд▓рд╛ рддреБрдордЪреНрдпрд╛ рдЕрдиреБрд╡рд╛рджрдХ рд╕реЗрд╡рд╛ рд╕рдВрд╕рд╛рдзрдирд╛рд╕рд╛рдареА API рдХреАрдиреЗ рдмрджрд▓рд╛. `<LOCATION>` рд▓рд╛ рддреБрдореНрд╣реА рдЕрдиреБрд╡рд╛рджрдХ рд╕реЗрд╡рд╛ рд╕рдВрд╕рд╛рдзрди рддрдпрд╛рд░ рдХрд░рддрд╛рдирд╛ рд╡рд╛рдкрд░рд▓реЗрд▓реНрдпрд╛ рд╕реНрдерд╛рдирд╛рдиреЗ рдмрджрд▓рд╛.

1. `VOICE_URL` рдЦрд╛рд▓реА рдЕрдиреБрд╡рд╛рджрдХ рдЯреНрд░рд┐рдЧрд░ URL рдЬреЛрдбрд╛:

    ```cpp
    const char *TRANSLATE_FUNCTION_URL = "<URL>";
    ```

    `<URL>` рд▓рд╛ рддреБрдордЪреНрдпрд╛ рдлрдВрдХреНрд╢рди рдЕтАНреЕрдкрд╡рд░реАрд▓ `translate-text` HTTP рдЯреНрд░рд┐рдЧрд░рдЪрд╛ URL рдмрджрд▓рд╛. рд╣реЗ `TEXT_TO_TIMER_FUNCTION_URL` рдЪреНрдпрд╛ рдореВрд▓реНрдпрд╛рд╕рд╛рд░рдЦреЗрдЪ рдЕрд╕реЗрд▓, рдлрдХреНрдд рдлрдВрдХреНрд╢рди рдирд╛рд╡ `text-to-timer` рдРрд╡рдЬреА `translate-text` рдЕрд╕реЗрд▓.

1. `src` рдлреЛрд▓реНрдбрд░рдордзреНрдпреЗ `text_translator.h` рдирд╛рд╡рд╛рдЪреА рдирд╡реАрди рдлрд╛рдЗрд▓ рдЬреЛрдбрд╛.

1. рд╣реА рдирд╡реАрди `text_translator.h` рд╣реЗрдбрд░ рдлрд╛рдЗрд▓ рдордЬрдХреВрд░ рдЕрдиреБрд╡рд╛рджрд┐рдд рдХрд░рдгреНрдпрд╛рд╕рд╛рдареА рдПрдХ рд╡рд░реНрдЧ рд╕рдорд╛рд╡рд┐рд╖реНрдЯ рдХрд░реЗрд▓. рдпрд╛ рдлрд╛рдЗрд▓рдордзреНрдпреЗ рдЦрд╛рд▓реАрд▓рдкреНрд░рдорд╛рдгреЗ рд╣рд╛ рд╡рд░реНрдЧ рдШреЛрд╖рд┐рдд рдХрд░рд╛:

    ```cpp
    #pragma once
    
    #include <Arduino.h>
    #include <ArduinoJson.h>
    #include <HTTPClient.h>
    #include <WiFiClient.h>
    
    #include "config.h"
    
    class TextTranslator
    {
    public:   
    private:
        WiFiClient _client;
    };
    
    TextTranslator textTranslator;
    ```

    рд╣реЗ `TextTranslator` рд╡рд░реНрдЧ рдШреЛрд╖рд┐рдд рдХрд░рддреЗ, рддрд╕реЗрдЪ рдпрд╛ рд╡рд░реНрдЧрд╛рдЪреА рдПрдХ рдЙрджрд╛рд╣рд░рдг. рд╡рд░реНрдЧрд╛рдордзреНрдпреЗ WiFi рдХреНрд▓рд╛рдпрдВрдЯрд╕рд╛рдареА рдПрдХ рдлреАрд▓реНрдб рдЖрд╣реЗ.

1. рдпрд╛ рд╡рд░реНрдЧрд╛рдЪреНрдпрд╛ `public` рд╡рд┐рднрд╛рдЧрд╛рдд, рдордЬрдХреВрд░ рдЕрдиреБрд╡рд╛рджрд┐рдд рдХрд░рдгреНрдпрд╛рд╕рд╛рдареА рдПрдХ рдкрджреНрдзрдд рдЬреЛрдбрд╛:

    ```cpp
    String translateText(String text, String from_language, String to_language)
    {
    }
    ```

    рд╣реА рдкрджреНрдзрдд рдЕрдиреБрд╡рд╛рджрд┐рдд рдХрд░рдгреНрдпрд╛рд╕рд╛рдареА рднрд╛рд╖рд╛ рдШреЗрддреЗ. рднрд╛рд╖рдг рд╣рд╛рддрд╛рд│рддрд╛рдирд╛, рднрд╛рд╖рдг рд╡рд╛рдкрд░рдХрд░реНрддреНрдпрд╛рдЪреНрдпрд╛ рднрд╛рд╖реЗрддреВрди LUIS рд╕рд░реНрд╡реНрд╣рд░ рднрд╛рд╖реЗрдд рдЕрдиреБрд╡рд╛рджрд┐рдд рдХреЗрд▓реЗ рдЬрд╛рдИрд▓, рдЖрдгрд┐ рдкреНрд░рддрд┐рд╕рд╛рдж рджреЗрддрд╛рдирд╛ LUIS рд╕рд░реНрд╡реНрд╣рд░ рднрд╛рд╖реЗрддреВрди рд╡рд╛рдкрд░рдХрд░реНрддреНрдпрд╛рдЪреНрдпрд╛ рднрд╛рд╖реЗрдд рдЕрдиреБрд╡рд╛рджрд┐рдд рдХреЗрд▓реЗ рдЬрд╛рдИрд▓.

1. рдпрд╛ рдкрджреНрдзрддреАрдордзреНрдпреЗ, рдЕрдиреБрд╡рд╛рджрд┐рдд рдХрд░рдгреНрдпрд╛рд╕рд╛рдареА рдордЬрдХреВрд░ рдЖрдгрд┐ рднрд╛рд╖рд╛рдВрдЪрд╛ рд╕рдорд╛рд╡реЗрд╢ рдЕрд╕рд▓реЗрд▓реЗ JSON рд╢рд░реАрд░ рддрдпрд╛рд░ рдХрд░рдгреНрдпрд╛рд╕рд╛рдареА рдХреЛрдб рдЬреЛрдбрд╛:

    ```cpp
    DynamicJsonDocument doc(1024);
    doc["text"] = text;
    doc["from_language"] = from_language;
    doc["to_language"] = to_language;

    String body;
    serializeJson(doc, body);

    Serial.print("Translating ");
    Serial.print(text);
    Serial.print(" from ");
    Serial.print(from_language);
    Serial.print(" to ");
    Serial.print(to_language);
    ```

1. рдпрд╛рдЦрд╛рд▓реА, рд╕рд░реНрд╡реНрд╣рд░рд▓реЗрд╕ рдлрдВрдХреНрд╢рди рдЕтАНреЕрдкрд▓рд╛ рд╢рд░реАрд░ рдкрд╛рдард╡рдгреНрдпрд╛рд╕рд╛рдареА рдЦрд╛рд▓реАрд▓ рдХреЛрдб рдЬреЛрдбрд╛:

    ```cpp
    HTTPClient httpClient;
    httpClient.begin(_client, TRANSLATE_FUNCTION_URL);

    int httpResponseCode = httpClient.POST(body);
    ```

1. рдкреБрдвреЗ, рдкреНрд░рддрд┐рд╕рд╛рдж рдорд┐рд│рд╡рдгреНрдпрд╛рд╕рд╛рдареА рдХреЛрдб рдЬреЛрдбрд╛:

    ```cpp
    String translated_text = "";

    if (httpResponseCode == 200)
    {
        translated_text = httpClient.getString();
        Serial.print("Translated: ");
        Serial.println(translated_text);
    }
    else
    {
        Serial.print("Failed to translate text - error ");
        Serial.println(httpResponseCode);
    }
    ```

1. рд╢реЗрд╡рдЯреА, рдХрдиреЗрдХреНрд╢рди рдмрдВрдж рдХрд░рдгреНрдпрд╛рд╕рд╛рдареА рдЖрдгрд┐ рдЕрдиреБрд╡рд╛рджрд┐рдд рдордЬрдХреВрд░ рдкрд░рдд рдХрд░рдгреНрдпрд╛рд╕рд╛рдареА рдХреЛрдб рдЬреЛрдбрд╛:

    ```cpp
    httpClient.end();

    return translated_text;
    ```

### рдХрд╛рд░реНрдп - рдУрд│рдЦрд▓реЗрд▓реЗ рднрд╛рд╖рдг рдЖрдгрд┐ рдкреНрд░рддрд┐рд╕рд╛рдж рдЕрдиреБрд╡рд╛рджрд┐рдд рдХрд░рд╛

1. `main.cpp` рдлрд╛рдЗрд▓ рдЙрдШрдбрд╛.

1. `TextTranslator` рд╡рд░реНрдЧ рд╣реЗрдбрд░ рдлрд╛рдЗрд▓рд╕рд╛рдареА рдлрд╛рдЗрд▓рдЪреНрдпрд╛ рд╢реАрд░реНрд╖рд╕реНрдерд╛рдиреА рдПрдХ рд╕рдорд╛рд╡рд┐рд╖реНрдЯ рдирд┐рд░реНрджреЗрд╢ рдЬреЛрдбрд╛:

    ```cpp
    #include "text_translator.h"
    ```

1. рдЯрд╛рдЗрдорд░ рд╕реЗрдЯ рдХрд┐рдВрд╡рд╛ рд╕рдВрдкрд▓реНрдпрд╛рд╡рд░ рдореНрд╣рдЯрд▓реЗ рдЬрд╛рдгрд╛рд░реЗ рдордЬрдХреВрд░ рдЕрдиреБрд╡рд╛рджрд┐рдд рдХрд░рдгреЗ рдЖрд╡рд╢реНрдпрдХ рдЖрд╣реЗ. рд╣реЗ рдХрд░рдгреНрдпрд╛рд╕рд╛рдареА, `say` рдлрдВрдХреНрд╢рдирдЪреНрдпрд╛ рдкрд╣рд┐рд▓реНрдпрд╛ рдУрд│реАрдд рдЦрд╛рд▓реАрд▓рдкреНрд░рдорд╛рдгреЗ рдЬреЛрдбрд╛:

    ```cpp
    text = textTranslator.translateText(text, LANGUAGE, SERVER_LANGUAGE);
    ```

    рд╣реЗ рдордЬрдХреВрд░ рд╡рд╛рдкрд░рдХрд░реНрддреНрдпрд╛рдЪреНрдпрд╛ рднрд╛рд╖реЗрдд рдЕрдиреБрд╡рд╛рджрд┐рдд рдХрд░реЗрд▓.

1. `processAudio` рдлрдВрдХреНрд╢рдирдордзреНрдпреЗ, `String text = speechToText.convertSpeechToText();` рдХреЙрд▓рд╕рд╣ рдХреЕрдкреНрдЪрд░ рдХреЗрд▓реЗрд▓реНрдпрд╛ рдСрдбрд┐рдУрдордзреВрди рдордЬрдХреВрд░ рдорд┐рд│рд╡рд▓рд╛ рдЬрд╛рддреЛ. рдпрд╛ рдХреЙрд▓рдирдВрддрд░, рдордЬрдХреВрд░ рдЕрдиреБрд╡рд╛рджрд┐рдд рдХрд░рд╛:

    ```cpp
    String text = speechToText.convertSpeechToText();
    text = textTranslator.translateText(text, LANGUAGE, SERVER_LANGUAGE);
    ```

    рд╣реЗ рдордЬрдХреВрд░ рд╡рд╛рдкрд░рдХрд░реНрддреНрдпрд╛рдЪреНрдпрд╛ рднрд╛рд╖реЗрддреВрди рд╕рд░реНрд╡реНрд╣рд░рд╡рд░ рд╡рд╛рдкрд░рд▓реНрдпрд╛ рдЬрд╛рдгрд╛рд▒реНрдпрд╛ рднрд╛рд╖реЗрдд рдЕрдиреБрд╡рд╛рджрд┐рдд рдХрд░реЗрд▓.

1. рд╣рд╛ рдХреЛрдб рддрдпрд╛рд░ рдХрд░рд╛, Wio Terminal рд╡рд░ рдЕрдкрд▓реЛрдб рдХрд░рд╛ рдЖрдгрд┐ рд╕реАрд░рд┐рдпрд▓ рдореЙрдирд┐рдЯрд░рджреНрд╡рд╛рд░реЗ рдЪрд╛рдЪрдгреА рдХрд░рд╛. рдПрдХрджрд╛ рддреБрдореНрд╣рд╛рд▓рд╛ рд╕реАрд░рд┐рдпрд▓ рдореЙрдирд┐рдЯрд░рдордзреНрдпреЗ `Ready` рджрд┐рд╕рд▓реНрдпрд╛рд╡рд░, C рдмрдЯрдг (рдбрд╛рд╡реНрдпрд╛ рдмрд╛рдЬреВрд▓рд╛, рдкреЙрд╡рд░ рд╕реНрд╡рд┐рдЪрдЪреНрдпрд╛ рдЬрд╡рд│) рджрд╛рдмрд╛ рдЖрдгрд┐ рдмреЛрд▓рд╛. рддреБрдордЪреЗ рдлрдВрдХреНрд╢рди рдЕтАНреЕрдк рдЪрд╛рд▓реВ рдЕрд╕рд▓реНрдпрд╛рдЪреА рдЦрд╛рддреНрд░реА рдХрд░рд╛ рдЖрдгрд┐ рд╡рд╛рдкрд░рдХрд░реНрддреНрдпрд╛рдЪреНрдпрд╛ рднрд╛рд╖реЗрдд рдЯрд╛рдЗрдорд░рдЪреА рд╡рд┐рдирдВрддреА рдХрд░рд╛, рд╕реНрд╡рддрдГ рддреА рднрд╛рд╖рд╛ рдмреЛрд▓реВрди рдХрд┐рдВрд╡рд╛ рдЕрдиреБрд╡рд╛рдж рдЕтАНреЕрдк рд╡рд╛рдкрд░реВрди.

    ```output
    Connecting to WiFi..
    Connected!
    Got access token.
    Ready.
    Starting recording...
    Finished recording
    Sending speech...
    Speech sent!
    {"RecognitionStatus":"Success","DisplayText":"D├йfinir une minuterie de 2 minutes 27 secondes.","Offset":9600000,"Duration":40400000}
    Translating D├йfinir une minuterie de 2 minutes 27 secondes. from fr-FR to en-US
    Translated: Set a timer of 2 minutes 27 seconds.
    Set a timer of 2 minutes 27 seconds.
    {"seconds": 147}
    Translating 2 minute 27 second timer started. from en-US to fr-FR
    Translated: 2 minute 27 seconde minute a commenc├й.
    2 minute 27 seconde minute a commenc├й.
    Translating Times up on your 2 minute 27 second timer. from en-US to fr-FR
    Translated: Chronom├йtrant votre minuterie de 2 minutes 27 secondes.
    Chronom├йtrant votre minuterie de 2 minutes 27 secondes.
    ```

> ЁЯТБ рддреБрдореНрд╣реА рд╣рд╛ рдХреЛрдб [code/wio-terminal](../../../../../6-consumer/lessons/4-multiple-language-support/code/wio-terminal) рдлреЛрд▓реНрдбрд░рдордзреНрдпреЗ рд╢реЛрдзреВ рд╢рдХрддрд╛.

ЁЯША рддреБрдордЪрд╛ рдмрд╣реБрднрд╛рд╖рд┐рдХ рдЯрд╛рдЗрдорд░ рдкреНрд░реЛрдЧреНрд░рд╛рдо рдпрд╢рд╕реНрд╡реА рдЭрд╛рд▓рд╛!

---

**рдЕрд╕реНрд╡реАрдХрд░рдг**:  
рд╣рд╛ рджрд╕реНрддрдРрд╡рдЬ [Co-op Translator](https://github.com/Azure/co-op-translator) рдпрд╛ рдПрдЖрдп рднрд╛рд╖рд╛рдВрддрд░ рд╕реЗрд╡реЗрдЪрд╛ рд╡рд╛рдкрд░ рдХрд░реВрди рднрд╛рд╖рд╛рдВрддрд░рд┐рдд рдХрд░рдгреНрдпрд╛рдд рдЖрд▓рд╛ рдЖрд╣реЗ. рдЖрдореНрд╣реА рдЕрдЪреВрдХрддреЗрд╕рд╛рдареА рдкреНрд░рдпрддреНрдирд╢реАрд▓ рдЕрд╕рд▓реЛ рддрд░реА, рдХреГрдкрдпрд╛ рд▓рдХреНрд╖рд╛рдд рдШреНрдпрд╛ рдХреА рд╕реНрд╡рдпрдВрдЪрд▓рд┐рдд рднрд╛рд╖рд╛рдВрддрд░рд╛рдВрдордзреНрдпреЗ рддреНрд░реБрдЯреА рдХрд┐рдВрд╡рд╛ рдЕрдЪреВрдХрддреЗрдЪрд╛ рдЕрднрд╛рд╡ рдЕрд╕реВ рд╢рдХрддреЛ. рдореВрд│ рднрд╛рд╖реЗрддреАрд▓ рджрд╕реНрддрдРрд╡рдЬ рд╣рд╛ рдЕрдзрд┐рдХреГрдд рд╕реНрд░реЛрдд рдорд╛рдирд▓рд╛ рдЬрд╛рд╡рд╛. рдорд╣рддреНрддреНрд╡рд╛рдЪреНрдпрд╛ рдорд╛рд╣рд┐рддреАрд╕рд╛рдареА рд╡реНрдпрд╛рд╡рд╕рд╛рдпрд┐рдХ рдорд╛рдирд╡реА рднрд╛рд╖рд╛рдВрддрд░рд╛рдЪреА рд╢рд┐рдлрд╛рд░рд╕ рдХреЗрд▓реА рдЬрд╛рддреЗ. рдпрд╛ рднрд╛рд╖рд╛рдВрддрд░рд╛рдЪрд╛ рд╡рд╛рдкрд░ рдХреЗрд▓реНрдпрд╛рдореБрд│реЗ рдЙрджреНрднрд╡рд▓реЗрд▓реНрдпрд╛ рдХреЛрдгрддреНрдпрд╛рд╣реА рдЧреИрд░рд╕рдордЬ рдХрд┐рдВрд╡рд╛ рдЪреБрдХреАрдЪреНрдпрд╛ рдЕрд░реНрдерд╛рд╕рд╛рдареА рдЖрдореНрд╣реА рдЬрдмрд╛рдмрджрд╛рд░ рд░рд╛рд╣рдгрд╛рд░ рдирд╛рд╣реА.