<!--
CO_OP_TRANSLATOR_METADATA:
{
  "original_hash": "d620a470d9dd8614d99824832978360a",
  "translation_date": "2025-08-27T13:33:31+00:00",
  "source_file": "6-consumer/lessons/4-multiple-language-support/virtual-device-translate-speech.md",
  "language_code": "mr"
}
-->
# рднрд╛рд╖рдг рдЕрдиреБрд╡рд╛рдж - рдЖрднрд╛рд╕реА IoT рдбрд┐рд╡реНрд╣рд╛рдЗрд╕

рдпрд╛ рдзрдбреНрдпрд╛рдЪреНрдпрд╛ рднрд╛рдЧрд╛рдордзреНрдпреЗ, рддреБрдореНрд╣реА рднрд╛рд╖рдг рд╕реЗрд╡рд╛ рд╡рд╛рдкрд░реВрди рднрд╛рд╖рдгрд╛рдЪреЗ рдордЬрдХреВрд░рд╛рдд рд░реВрдкрд╛рдВрддрд░ рдХрд░рддрд╛рдирд╛ рдЕрдиреБрд╡рд╛рдж рдХрд░рдгреНрдпрд╛рд╕рд╛рдареА рдХреЛрдб рд▓рд┐рд╣рд╛рд▓, рдирдВрддрд░ Translator рд╕реЗрд╡рд╛ рд╡рд╛рдкрд░реВрди рдордЬрдХреВрд░рд╛рдЪрд╛ рдЕрдиреБрд╡рд╛рдж рдХрд░реВрди рдмреЛрд▓рдгреНрдпрд╛рдЪрд╛ рдкреНрд░рддрд┐рд╕рд╛рдж рддрдпрд╛рд░ рдХрд░рд╛рд▓.

## рднрд╛рд╖рдг рд╕реЗрд╡рд╛ рд╡рд╛рдкрд░реВрди рднрд╛рд╖рдгрд╛рдЪрд╛ рдЕрдиреБрд╡рд╛рдж рдХрд░рд╛

рднрд╛рд╖рдг рд╕реЗрд╡рд╛ рднрд╛рд╖рдгрд╛рдЪреЗ рд░реВрдкрд╛рдВрддрд░ рдХреЗрд╡рд│ рддреНрдпрд╛рдЪ рднрд╛рд╖реЗрддреАрд▓ рдордЬрдХреВрд░рд╛рддрдЪ рдирд╛рд╣реА рддрд░ рдЗрддрд░ рднрд╛рд╖рд╛рдВрдордзреНрдпреЗ рдЕрдиреБрд╡рд╛рджрд┐рдд рдЖрдЙрдЯрдкреБрдЯ рддрдпрд╛рд░ рдХрд░рдгреНрдпрд╛рд╕рд╛рдареА рджреЗрдЦреАрд▓ рдХрд░реВ рд╢рдХрддреЗ.

### рдХрд╛рд░реНрдп - рднрд╛рд╖рдг рд╕реЗрд╡рд╛ рд╡рд╛рдкрд░реВрди рднрд╛рд╖рдгрд╛рдЪрд╛ рдЕрдиреБрд╡рд╛рдж рдХрд░рд╛

1. VS Code рдордзреНрдпреЗ `smart-timer` рдкреНрд░рдХрд▓реНрдк рдЙрдШрдбрд╛ рдЖрдгрд┐ рдЯрд░реНрдорд┐рдирд▓рдордзреНрдпреЗ рдЖрднрд╛рд╕реА рд╡рд╛рддрд╛рд╡рд░рдг рд▓реЛрдб рдЕрд╕рд▓реНрдпрд╛рдЪреА рдЦрд╛рддреНрд░реА рдХрд░рд╛.

1. рд╡рд┐рджреНрдпрдорд╛рди рдЖрдпрд╛рддрд╛рдВрдЦрд╛рд▓реАрд▓ рдЦрд╛рд▓реАрд▓ рдЖрдпрд╛рдд рд╡рд┐рдзрд╛рди рдЬреЛрдбрд╛:

    ```python
    from azure.cognitiveservices import speech
    from azure.cognitiveservices.speech.translation import SpeechTranslationConfig, TranslationRecognizer
    import requests
    ```

    рд╣реЗ рднрд╛рд╖рдг рдЕрдиреБрд╡рд╛рдж рдХрд░рдгреНрдпрд╛рд╕рд╛рдареА рд╡рд╛рдкрд░рд▓реНрдпрд╛ рдЬрд╛рдгрд╛рд▒реНрдпрд╛ рд╡рд░реНрдЧрд╛рдВрдЪреЗ рдЖрдпрд╛рдд рдХрд░рддреЗ рдЖрдгрд┐ `requests` рд▓рд╛рдпрдмреНрд░рд░реА рдЖрдпрд╛рдд рдХрд░рддреЗ рдЬреА рдирдВрддрд░ рдпрд╛ рдзрдбреНрдпрд╛рдд Translator рд╕реЗрд╡реЗрд▓рд╛ рдХреЙрд▓ рдХрд░рдгреНрдпрд╛рд╕рд╛рдареА рд╡рд╛рдкрд░рд▓реА рдЬрд╛рдИрд▓.

1. рддреБрдордЪреНрдпрд╛ рд╕реНрдорд╛рд░реНрдЯ рдЯрд╛рдЗрдорд░рдордзреНрдпреЗ 2 рднрд╛рд╖рд╛ рд╕реЗрдЯ рдЕрд╕рддреАрд▓ - LUIS рдкреНрд░рд╢рд┐рдХреНрд╖рдгрд╛рд╕рд╛рдареА рд╡рд╛рдкрд░рд▓реЗрд▓реА рд╕рд░реНрд╡реНрд╣рд░ рднрд╛рд╖рд╛ (рд╕рд░реНрд╡реНрд╣рд░ рднрд╛рд╖рд╛рдЪ рд╡рд╛рдкрд░реВрди рд╡рд╛рдкрд░рдХрд░реНрддреНрдпрд╛рд╢реА рд╕рдВрд╡рд╛рдж рд╕рд╛рдзрдгреНрдпрд╛рд╕рд╛рдареА рд╕рдВрджреЗрд╢ рддрдпрд╛рд░ рдХреЗрд▓реЗ рдЬрд╛рддрд╛рдд) рдЖрдгрд┐ рд╡рд╛рдкрд░рдХрд░реНрддреНрдпрд╛рдиреЗ рдмреЛрд▓рд▓реЗрд▓реА рднрд╛рд╖рд╛. `language` рд╡реНрд╣реЗрд░рд┐рдПрдмрд▓рд▓рд╛ рд╡рд╛рдкрд░рдХрд░реНрддреНрдпрд╛рдиреЗ рдмреЛрд▓рд▓реНрдпрд╛ рдЬрд╛рдгрд╛рд▒реНрдпрд╛ рднрд╛рд╖реЗрд╕рд╛рдареА рдЕрдкрдбреЗрдЯ рдХрд░рд╛ рдЖрдгрд┐ LUIS рдкреНрд░рд╢рд┐рдХреНрд╖рдгрд╛рд╕рд╛рдареА рд╡рд╛рдкрд░рд▓реЗрд▓реНрдпрд╛ рднрд╛рд╖реЗрд╕рд╛рдареА `server_language` рдирд╛рд╡рд╛рдЪрд╛ рдирд╡реАрди рд╡реНрд╣реЗрд░рд┐рдПрдмрд▓ рдЬреЛрдбрд╛:

    ```python
    language = '<user language>'
    server_language = '<server language>'
    ```

    `<user language>` рд▓рд╛ рддреБрдореНрд╣реА рдмреЛрд▓рдд рдЕрд╕рд▓реЗрд▓реНрдпрд╛ рднрд╛рд╖реЗрд╕рд╛рдареА рд╕реНрдерд╛рдирд┐рдХ рдирд╛рд╡рд╛рдиреЗ рдмрджрд▓рд╛, рдЙрджрд╛рд╣рд░рдгрд╛рд░реНрде рдлреНрд░реЗрдВрдЪрд╕рд╛рдареА `fr-FR`, рдХрд┐рдВрд╡рд╛ рдХреЕрдВрдЯреЛрдиреАрдЬрд╕рд╛рдареА `zn-HK`.

    `<server language>` рд▓рд╛ LUIS рдкреНрд░рд╢рд┐рдХреНрд╖рдгрд╛рд╕рд╛рдареА рд╡рд╛рдкрд░рд▓реЗрд▓реНрдпрд╛ рднрд╛рд╖реЗрдЪреНрдпрд╛ рд╕реНрдерд╛рдирд┐рдХ рдирд╛рд╡рд╛рдиреЗ рдмрджрд▓рд╛.

    Microsoft Docs рд╡рд░ [Language and voice support documentation](https://docs.microsoft.com/azure/cognitive-services/speech-service/language-support?WT.mc_id=academic-17441-jabenn#speech-to-text) рдордзреНрдпреЗ рд╕рдорд░реНрдерд┐рдд рднрд╛рд╖рд╛рдВрдЪреА рдпрд╛рджреА рдЖрдгрд┐ рддреНрдпрд╛рдВрдЪреА рд╕реНрдерд╛рдирд┐рдХ рдирд╛рд╡реЗ рд╢реЛрдзреВ рд╢рдХрддрд╛.

    > ЁЯТБ рдЬрд░ рддреБрдореНрд╣рд╛рд▓рд╛ рдЕрдиреЗрдХ рднрд╛рд╖рд╛ рдмреЛрд▓рддрд╛ рдпреЗрдд рдирд╕рддреАрд▓ рддрд░ рддреБрдореНрд╣реА [Bing Translate](https://www.bing.com/translator) рдХрд┐рдВрд╡рд╛ [Google Translate](https://translate.google.com) рд╕рд╛рд░рдЦреНрдпрд╛ рд╕реЗрд╡рд╛рдВрдЪрд╛ рд╡рд╛рдкрд░ рдХрд░реВрди рддреБрдордЪреНрдпрд╛ рдкрд╕рдВрддреАрдЪреНрдпрд╛ рднрд╛рд╖реЗрддреВрди рджреБрд╕рд▒реНрдпрд╛ рднрд╛рд╖реЗрдд рдЕрдиреБрд╡рд╛рдж рдХрд░реВ рд╢рдХрддрд╛. рдпрд╛ рд╕реЗрд╡рд╛ рдЕрдиреБрд╡рд╛рджрд┐рдд рдордЬрдХреВрд░рд╛рдЪреЗ рдСрдбрд┐рдУ рджреЗрдЦреАрд▓ рдкреНрд▓реЗ рдХрд░реВ рд╢рдХрддрд╛рдд. рд▓рдХреНрд╖рд╛рдд рдареЗрд╡рд╛ рдХреА рднрд╛рд╖рдг рдУрд│рдЦрдгрд╛рд░рд╛ рддреБрдордЪреНрдпрд╛ рдбрд┐рд╡реНрд╣рд╛рдЗрд╕рд╡рд░реВрди рдХрд╛рд╣реА рдСрдбрд┐рдУ рдЖрдЙрдЯрдкреБрдЯ рджреБрд░реНрд▓рдХреНрд╖рд┐рдд рдХрд░реВ рд╢рдХрддреЛ, рддреНрдпрд╛рдореБрд│реЗ рддреБрдореНрд╣рд╛рд▓рд╛ рдЕрдиреБрд╡рд╛рджрд┐рдд рдордЬрдХреВрд░ рдкреНрд▓реЗ рдХрд░рдгреНрдпрд╛рд╕рд╛рдареА рдЕрддрд┐рд░рд┐рдХреНрдд рдбрд┐рд╡реНрд╣рд╛рдЗрд╕рдЪреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рдЕрд╕реВ рд╢рдХрддреЗ.
    >
    > рдЙрджрд╛рд╣рд░рдгрд╛рд░реНрде, рдЬрд░ рддреБрдореНрд╣реА LUIS рдЗрдВрдЧреНрд░рдЬреАрдд рдкреНрд░рд╢рд┐рдХреНрд╖рдг рджрд┐рд▓реЗ рдЕрд╕реЗрд▓, рдкрдг рд╡рд╛рдкрд░рдХрд░реНрддреНрдпрд╛рдЪреА рднрд╛рд╖рд╛ рдореНрд╣рдгреВрди рдлреНрд░реЗрдВрдЪ рд╡рд╛рдкрд░рд╛рдпрдЪреА рдЕрд╕реЗрд▓, рддрд░ рддреБрдореНрд╣реА Bing Translate рд╡рд╛рдкрд░реВрди "set a 2 minute and 27 second timer" рд╕рд╛рд░рдЦреНрдпрд╛ рд╡рд╛рдХреНрдпрд╛рдВрдЪреЗ рдЗрдВрдЧреНрд░рдЬреАрддреВрди рдлреНрд░реЗрдВрдЪрдордзреНрдпреЗ рдЕрдиреБрд╡рд╛рдж рдХрд░реВ рд╢рдХрддрд╛, рдирдВрддрд░ **Listen translation** рдмрдЯрдг рд╡рд╛рдкрд░реВрди рдЕрдиреБрд╡рд╛рджрд┐рдд рдордЬрдХреВрд░ рддреБрдордЪреНрдпрд╛ рдорд╛рдпрдХреНрд░реЛрдлреЛрдирдордзреНрдпреЗ рдмреЛрд▓реВ рд╢рдХрддрд╛.
    >
    > ![Bing Translate рд╡рд░ Listen translation рдмрдЯрдг](../../../../../translated_images/bing-translate.348aa796d6efe2a92f41ea74a5cf42bb4c63d6faaa08e7f46924e072a35daa48.mr.png)

1. `recognizer_config` рдЖрдгрд┐ `recognizer` рдШреЛрд╖рдгрд╛рдВрдирд╛ рдЦрд╛рд▓реАрд▓рдкреНрд░рдорд╛рдгреЗ рдмрджрд▓рд╛:

    ```python
    translation_config = SpeechTranslationConfig(subscription=speech_api_key,
                                                 region=location,
                                                 speech_recognition_language=language,
                                                 target_languages=(language, server_language))
    
    recognizer = TranslationRecognizer(translation_config=translation_config)
    ```

    рд╣реЗ рд╡рд╛рдкрд░рдХрд░реНрддреНрдпрд╛рдЪреНрдпрд╛ рднрд╛рд╖реЗрдд рднрд╛рд╖рдг рдУрд│рдЦрдгреНрдпрд╛рд╕рд╛рдареА рдЕрдиреБрд╡рд╛рдж рдХреЙрдиреНрдлрд┐рдЧ рддрдпрд╛рд░ рдХрд░рддреЗ рдЖрдгрд┐ рд╡рд╛рдкрд░рдХрд░реНрддрд╛ рдЖрдгрд┐ рд╕рд░реНрд╡реНрд╣рд░ рднрд╛рд╖реЗрдд рдЕрдиреБрд╡рд╛рдж рддрдпрд╛рд░ рдХрд░рддреЗ. рдирдВрддрд░ рд╣реЗ рдХреЙрдиреНрдлрд┐рдЧ рд╡рд╛рдкрд░реВрди рднрд╛рд╖рдг рдУрд│рдЦрдгрд╛рд░рд╛ рддрдпрд╛рд░ рдХреЗрд▓рд╛ рдЬрд╛рддреЛ - рднрд╛рд╖рдг рдУрд│рдЦрдгрд╛рд░рд╛ рдЬреЛ рднрд╛рд╖рдг рдУрд│рдЦрдгреНрдпрд╛рдЪреНрдпрд╛ рдЖрдЙрдЯрдкреБрдЯрдЪрд╛ рдЕрдиреЗрдХ рднрд╛рд╖рд╛рдВрдордзреНрдпреЗ рдЕрдиреБрд╡рд╛рдж рдХрд░реВ рд╢рдХрддреЛ.

    > ЁЯТБ рдореВрд│ рднрд╛рд╖рд╛ `target_languages` рдордзреНрдпреЗ рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдХрд░рдгреЗ рдЖрд╡рд╢реНрдпрдХ рдЖрд╣реЗ, рдЕрдиреНрдпрдерд╛ рддреБрдореНрд╣рд╛рд▓рд╛ рдХреЛрдгрддреЗрд╣реА рдЕрдиреБрд╡рд╛рдж рдорд┐рд│рдгрд╛рд░ рдирд╛рд╣реАрдд.

1. `recognized` рдлрдВрдХреНрд╢рди рдЕрдкрдбреЗрдЯ рдХрд░рд╛, рдлрдВрдХреНрд╢рдирдЪреНрдпрд╛ рд╕рдВрдкреВрд░реНрдг рд╕рд╛рдордЧреНрд░реАрд▓рд╛ рдЦрд╛рд▓реАрд▓рдкреНрд░рдорд╛рдгреЗ рдмрджрд▓рд╛:

    ```python
    if args.result.reason == speech.ResultReason.TranslatedSpeech:
        language_match = next(l for l in args.result.translations if server_language.lower().startswith(l.lower()))
        text = args.result.translations[language_match]
        if (len(text) > 0):
            print(f'Translated text: {text}')
    
            message = Message(json.dumps({ 'speech': text }))
            device_client.send_message(message)
    ```

    рд╣реЗ рдХреЛрдб рддрдкрд╛рд╕рддреЗ рдХреА рдУрд│рдЦрд▓реЗрд▓реЗ рдЗрд╡реНрд╣реЗрдВрдЯ рднрд╛рд╖рдг рдЕрдиреБрд╡рд╛рджрд┐рдд рдЭрд╛рд▓реНрдпрд╛рдореБрд│реЗ рдлрд╛рдпрд░ рдЭрд╛рд▓реЗ рдЖрд╣реЗ рдХрд╛ (рд╣реЗ рдЗрд╡реНрд╣реЗрдВрдЯ рдЗрддрд░ рд╡реЗрд│реА рджреЗрдЦреАрд▓ рдлрд╛рдпрд░ рд╣реЛрдК рд╢рдХрддреЗ, рдЬрд╕реЗ рдХреА рднрд╛рд╖рдг рдУрд│рдЦрд▓реЗ рдЧреЗрд▓реЗ рдкрдг рдЕрдиреБрд╡рд╛рджрд┐рдд рдЭрд╛рд▓реЗ рдирд╛рд╣реА). рдЬрд░ рднрд╛рд╖рдг рдЕрдиреБрд╡рд╛рджрд┐рдд рдЭрд╛рд▓реЗ рдЕрд╕реЗрд▓, рддрд░ рддреЗ `args.result.translations` рдбрд┐рдХреНрд╢рдирд░реАрдордзреНрдпреЗ рд╕рд░реНрд╡реНрд╣рд░ рднрд╛рд╖реЗрд╢реА рдЬреБрд│рдгрд╛рд░рд╛ рдЕрдиреБрд╡рд╛рдж рд╢реЛрдзрддреЗ.

    `args.result.translations` рдбрд┐рдХреНрд╢рдирд░реА рд╕реНрдерд╛рдирд┐рдХ рд╕реЗрдЯрд┐рдВрдЧрдЪреНрдпрд╛ рд╕рдВрдкреВрд░реНрдг рд╕реЗрдЯрд┐рдВрдЧрдРрд╡рдЬреА рднрд╛рд╖реЗрдЪреНрдпрд╛ рднрд╛рдЧрд╛рд╡рд░ рдЖрдзрд╛рд░рд┐рдд рдЕрд╕рддреЗ. рдЙрджрд╛рд╣рд░рдгрд╛рд░реНрде, рдЬрд░ рддреБрдореНрд╣реА рдлреНрд░реЗрдВрдЪрд╕рд╛рдареА `fr-FR` рдордзреНрдпреЗ рдЕрдиреБрд╡рд╛рджрд╛рдЪреА рд╡рд┐рдирдВрддреА рдХреЗрд▓реА, рддрд░ рдбрд┐рдХреНрд╢рдирд░реАрдордзреНрдпреЗ `fr` рд╕рд╛рдареА рдПрдХ рдПрдВрдЯреНрд░реА рдЕрд╕реЗрд▓, `fr-FR` рд╕рд╛рдареА рдирд╛рд╣реА.

    рдЕрдиреБрд╡рд╛рджрд┐рдд рдордЬрдХреВрд░ IoT Hub рд▓рд╛ рдкрд╛рдард╡рд▓рд╛ рдЬрд╛рддреЛ.

1. рд╣рд╛ рдХреЛрдб рдЪрд╛рд▓рд╡рд╛ рдЖрдгрд┐ рдЕрдиреБрд╡рд╛рджрд╛рдВрдЪреА рдЪрд╛рдЪрдгреА рдХрд░рд╛. рддреБрдордЪреЗ рдлрдВрдХреНрд╢рди рдЕреЕрдк рдЪрд╛рд▓реВ рдЕрд╕рд▓реНрдпрд╛рдЪреА рдЦрд╛рддреНрд░реА рдХрд░рд╛ рдЖрдгрд┐ рд╡рд╛рдкрд░рдХрд░реНрддреНрдпрд╛рдЪреНрдпрд╛ рднрд╛рд╖реЗрдд рдЯрд╛рдЗрдорд░рдЪреА рд╡рд┐рдирдВрддреА рдХрд░рд╛, рд╕реНрд╡рддрдГ рддреА рднрд╛рд╖рд╛ рдмреЛрд▓реВрди рдХрд┐рдВрд╡рд╛ рдЕрдиреБрд╡рд╛рдж рдЕреЕрдк рд╡рд╛рдкрд░реВрди.

    ```output
    (.venv) тЮЬ  smart-timer python app.py
    Connecting
    Connected
    Translated text: Set a timer of 2 minutes and 27 seconds.
    ```

## Translator рд╕реЗрд╡рд╛ рд╡рд╛рдкрд░реВрди рдордЬрдХреВрд░рд╛рдЪрд╛ рдЕрдиреБрд╡рд╛рдж рдХрд░рд╛

рднрд╛рд╖рдг рд╕реЗрд╡рд╛ рдордЬрдХреВрд░рд╛рдЪрд╛ рдкреБрдиреНрд╣рд╛ рднрд╛рд╖рдгрд╛рдд рдЕрдиреБрд╡рд╛рдж рдХрд░рдгреНрдпрд╛рд╕ рд╕рдорд░реНрдерди рджреЗрдд рдирд╛рд╣реА, рддреНрдпрд╛рдРрд╡рдЬреА рддреБрдореНрд╣реА Translator рд╕реЗрд╡рд╛ рд╡рд╛рдкрд░реВрди рдордЬрдХреВрд░рд╛рдЪрд╛ рдЕрдиреБрд╡рд╛рдж рдХрд░реВ рд╢рдХрддрд╛. рдпрд╛ рд╕реЗрд╡реЗрд╕рд╛рдареА REST API рдЖрд╣реЗ рдЬреНрдпрд╛рдЪрд╛ рд╡рд╛рдкрд░ рддреБрдореНрд╣реА рдордЬрдХреВрд░ рдЕрдиреБрд╡рд╛рдж рдХрд░рдгреНрдпрд╛рд╕рд╛рдареА рдХрд░реВ рд╢рдХрддрд╛.

### рдХрд╛рд░реНрдп - Translator рд╕рдВрд╕рд╛рдзрди рд╡рд╛рдкрд░реВрди рдордЬрдХреВрд░рд╛рдЪрд╛ рдЕрдиреБрд╡рд╛рдж рдХрд░рд╛

1. `speech_api_key` рдЦрд╛рд▓реА Translator API рдХреА рдЬреЛрдбрд╛:

    ```python
    translator_api_key = '<key>'
    ```

    `<key>` рд▓рд╛ рддреБрдордЪреНрдпрд╛ Translator рд╕реЗрд╡рд╛ рд╕рдВрд╕рд╛рдзрдирд╛рд╕рд╛рдареА API рдХреАрдиреЗ рдмрджрд▓рд╛.

1. `say` рдлрдВрдХреНрд╢рдирдЪреНрдпрд╛ рд╡рд░, `translate_text` рдирд╛рд╡рд╛рдЪреЗ рдлрдВрдХреНрд╢рди рдкрд░рд┐рднрд╛рд╖рд┐рдд рдХрд░рд╛ рдЬреЗ рд╕рд░реНрд╡реНрд╣рд░ рднрд╛рд╖реЗрддреВрди рд╡рд╛рдкрд░рдХрд░реНрддреНрдпрд╛рдЪреНрдпрд╛ рднрд╛рд╖реЗрдд рдордЬрдХреВрд░ рдЕрдиреБрд╡рд╛рджрд┐рдд рдХрд░реЗрд▓:

    ```python
    def translate_text(text):
    ```

1. рдпрд╛ рдлрдВрдХреНрд╢рдирдордзреНрдпреЗ REST API рдХреЙрд▓рд╕рд╛рдареА URL рдЖрдгрд┐ рд╣реЗрдбрд░реНрд╕ рдкрд░рд┐рднрд╛рд╖рд┐рдд рдХрд░рд╛:

    ```python
    url = f'https://api.cognitive.microsofttranslator.com/translate?api-version=3.0'

    headers = {
        'Ocp-Apim-Subscription-Key': translator_api_key,
        'Ocp-Apim-Subscription-Region': location,
        'Content-type': 'application/json'
    }
    ```

    рдпрд╛ API рд╕рд╛рдареА URL рд╕реНрдерд╛рди-рд╡рд┐рд╢рд┐рд╖реНрдЯ рдирд╛рд╣реА, рддреНрдпрд╛рдРрд╡рдЬреА рд╕реНрдерд╛рди рд╣реЗрдбрд░ рдореНрд╣рдгреВрди рдкрд╛рд╕ рдХреЗрд▓реЗ рдЬрд╛рддреЗ. API рдХреА рдереЗрдЯ рд╡рд╛рдкрд░рд▓реА рдЬрд╛рддреЗ, рддреНрдпрд╛рдореБрд│реЗ рднрд╛рд╖рдг рд╕реЗрд╡реЗрд╕рд╛рд░рдЦреЗ рдЯреЛрдХрди рдЬрд╛рд░реА рдХрд░рдгрд╛рд▒реНрдпрд╛ API рдХрдбреВрди рдкреНрд░рд╡реЗрд╢ рдЯреЛрдХрди рдорд┐рд│рд╡рдгреНрдпрд╛рдЪреА рдЧрд░рдЬ рдирд╛рд╣реА.

1. рдпрд╛рдЦрд╛рд▓реА рдХреЙрд▓рд╕рд╛рдареА рдкреЕрд░рд╛рдореАрдЯрд░реНрд╕ рдЖрдгрд┐ рдмреЙрдбреА рдкрд░рд┐рднрд╛рд╖рд┐рдд рдХрд░рд╛:

    ```python
    params = {
        'from': server_language,
        'to': language
    }

    body = [{
        'text' : text
    }]
    ```

    `params` API рдХреЙрд▓рд╕рд╛рдареА рдкрд╛рд╕ рдХрд░рд╛рдпрдЪреЗ рдкреЕрд░рд╛рдореАрдЯрд░реНрд╕ рдкрд░рд┐рднрд╛рд╖рд┐рдд рдХрд░рддреЗ, `from` рдЖрдгрд┐ `to` рднрд╛рд╖рд╛ рдкрд╛рд╕ рдХрд░рддреЗ. рд╣рд╛ рдХреЙрд▓ `from` рднрд╛рд╖реЗрддреАрд▓ рдордЬрдХреВрд░ `to` рднрд╛рд╖реЗрдд рдЕрдиреБрд╡рд╛рджрд┐рдд рдХрд░реЗрд▓.

    `body` рдЕрдиреБрд╡рд╛рдж рдХрд░рдгреНрдпрд╛рд╕рд╛рдареА рдордЬрдХреВрд░ рдареЗрд╡рддреЗ. рд╣реЗ рдПрдХ рдЕреЕрд░реЗ рдЖрд╣реЗ, рдХрд╛рд░рдг рдПрдХрд╛ рдХреЙрд▓рдордзреНрдпреЗ рдЕрдиреЗрдХ рдордЬрдХреВрд░ рдмреНрд▓реЙрдХреНрд╕ рдЕрдиреБрд╡рд╛рджрд┐рдд рдХреЗрд▓реЗ рдЬрд╛рдК рд╢рдХрддрд╛рдд.

1. REST API рд▓рд╛ рдХреЙрд▓ рдХрд░рд╛ рдЖрдгрд┐ рдкреНрд░рддрд┐рд╕рд╛рдж рдорд┐рд│рд╡рд╛:

    ```python
    response = requests.post(url, headers=headers, params=params, json=body)
    ```

    рдкрд░рдд рдЖрд▓реЗрд▓рд╛ рдкреНрд░рддрд┐рд╕рд╛рдж JSON рдЕреЕрд░реЗ рдЖрд╣реЗ, рдЬреНрдпрд╛рдордзреНрдпреЗ рдПрдХ рдЖрдпрдЯрдо рдЖрд╣реЗ рдЬреНрдпрд╛рдордзреНрдпреЗ рдЕрдиреБрд╡рд╛рдж рдЖрд╣реЗрдд. рдпрд╛ рдЖрдпрдЯрдордордзреНрдпреЗ рдмреЙрдбреАрдордзреНрдпреЗ рдкрд╛рд╕ рдХреЗрд▓реЗрд▓реНрдпрд╛ рд╕рд░реНрд╡ рдЖрдпрдЯрдореНрд╕рдЪреНрдпрд╛ рдЕрдиреБрд╡рд╛рджрд╛рдВрд╕рд╛рдареА рдЕреЕрд░реЗ рдЖрд╣реЗ.

    ```json
    [
        {
            "translations": [
                {
                    "text": "Chronom├йtrant votre minuterie de 2 minutes 27 secondes.",
                    "to": "fr"
                }
            ]
        }
    ]
    ```

1. рдЕреЕрд░реЗрдордзреАрд▓ рдкрд╣рд┐рд▓реНрдпрд╛ рдЖрдпрдЯрдордордзреАрд▓ рдкрд╣рд┐рд▓реНрдпрд╛ рдЕрдиреБрд╡рд╛рджрд╛рддреВрди `text` рдкреНрд░реЙрдкрд░реНрдЯреА рдкрд░рдд рдХрд░рд╛:

    ```python
    return response.json()[0]['translations'][0]['text']
    ```

1. SSML рддрдпрд╛рд░ рд╣реЛрдгреНрдпрд╛рдкреВрд░реНрд╡реА `say` рдлрдВрдХреНрд╢рдирдордзреНрдпреЗ рдмреЛрд▓рд╛рдпрдЪрд╛ рдордЬрдХреВрд░ рдЕрдиреБрд╡рд╛рджрд┐рдд рдХрд░рдгреНрдпрд╛рд╕рд╛рдареА рдЕрдкрдбреЗрдЯ рдХрд░рд╛:

    ```python
    print('Original:', text)
    text = translate_text(text)
    print('Translated:', text)
    ```

    рд╣реЗ рдХреЛрдб рдореВрд│ рдЖрдгрд┐ рдЕрдиреБрд╡рд╛рджрд┐рдд рдордЬрдХреВрд░ рдХрдиреНрд╕реЛрд▓рд╡рд░ рдкреНрд░рд┐рдВрдЯ рдХрд░рддреЗ.

1. рддреБрдордЪрд╛ рдХреЛрдб рдЪрд╛рд▓рд╡рд╛. рддреБрдордЪреЗ рдлрдВрдХреНрд╢рди рдЕреЕрдк рдЪрд╛рд▓реВ рдЕрд╕рд▓реНрдпрд╛рдЪреА рдЦрд╛рддреНрд░реА рдХрд░рд╛ рдЖрдгрд┐ рд╡рд╛рдкрд░рдХрд░реНрддреНрдпрд╛рдЪреНрдпрд╛ рднрд╛рд╖реЗрдд рдЯрд╛рдЗрдорд░рдЪреА рд╡рд┐рдирдВрддреА рдХрд░рд╛, рд╕реНрд╡рддрдГ рддреА рднрд╛рд╖рд╛ рдмреЛрд▓реВрди рдХрд┐рдВрд╡рд╛ рдЕрдиреБрд╡рд╛рдж рдЕреЕрдк рд╡рд╛рдкрд░реВрди.

    ```output
    (.venv) тЮЬ  smart-timer python app.py
    Connecting
    Connected
    Translated text: Set a timer of 2 minutes and 27 seconds.
    Original: 2 minute 27 second timer started.
    Translated: 2 minute 27 seconde minute a commenc├й.
    Original: Times up on your 2 minute 27 second timer.
    Translated: Chronom├йtrant votre minuterie de 2 minutes 27 secondes.
    ```

    > ЁЯТБ рд╡реЗрдЧрд╡реЗрдЧрд│реНрдпрд╛ рднрд╛рд╖рд╛рдВрдордзреНрдпреЗ рдХрд╛рд╣реАрддрд░реА рд╕рд╛рдВрдЧрдгреНрдпрд╛рдЪреНрдпрд╛ рд╡реЗрдЧрд╡реЗрдЧрд│реНрдпрд╛ рдкрджреНрдзрддреАрдВрдореБрд│реЗ, рддреБрдореНрд╣рд╛рд▓рд╛ рджрд┐рд▓реЗрд▓реНрдпрд╛ рдЙрджрд╛рд╣рд░рдгрд╛рдВрдкреЗрдХреНрд╖рд╛ рдереЛрдбреЗ рд╡реЗрдЧрд│реЗ рдЕрдиреБрд╡рд╛рдж рдорд┐рд│реВ рд╢рдХрддрд╛рдд. рдЬрд░ рдЕрд╕реЗ рдЭрд╛рд▓реЗ рддрд░ LUIS рдордзреНрдпреЗ рдЕрдзрд┐рдХ рдЙрджрд╛рд╣рд░рдгреЗ рдЬреЛрдбрд╛, рдкреБрдиреНрд╣рд╛ рдкреНрд░рд╢рд┐рдХреНрд╖рдг рджреНрдпрд╛ рдЖрдгрд┐ рдирдВрддрд░ рдореЙрдбреЗрд▓ рдкреБрдиреНрд╣рд╛ рдкреНрд░рдХрд╛рд╢рд┐рдд рдХрд░рд╛.

> ЁЯТБ рддреБрдореНрд╣рд╛рд▓рд╛ рд╣рд╛ рдХреЛрдб [code/virtual-iot-device](../../../../../6-consumer/lessons/4-multiple-language-support/code/virtual-iot-device) рдлреЛрд▓реНрдбрд░рдордзреНрдпреЗ рд╕рд╛рдкрдбреЗрд▓.

ЁЯША рддреБрдордЪрд╛ рдмрд╣реБрднрд╛рд╖рд┐рдХ рдЯрд╛рдЗрдорд░ рдкреНрд░реЛрдЧреНрд░рд╛рдо рдпрд╢рд╕реНрд╡реА рдЭрд╛рд▓рд╛!

---

**рдЕрд╕реНрд╡реАрдХрд░рдг**:  
рд╣рд╛ рджрд╕реНрддрдРрд╡рдЬ AI рднрд╛рд╖рд╛рдВрддрд░ рд╕реЗрд╡рд╛ [Co-op Translator](https://github.com/Azure/co-op-translator) рд╡рд╛рдкрд░реВрди рднрд╛рд╖рд╛рдВрддрд░рд┐рдд рдХрд░рдгреНрдпрд╛рдд рдЖрд▓рд╛ рдЖрд╣реЗ. рдЖрдореНрд╣реА рдЕрдЪреВрдХрддреЗрд╕рд╛рдареА рдкреНрд░рдпрддреНрдирд╢реАрд▓ рдЕрд╕рд▓реЛ рддрд░реА, рдХреГрдкрдпрд╛ рд▓рдХреНрд╖рд╛рдд рдареЗрд╡рд╛ рдХреА рд╕реНрд╡рдпрдВрдЪрд▓рд┐рдд рднрд╛рд╖рд╛рдВрддрд░реЗ рддреНрд░реБрдЯреА рдХрд┐рдВрд╡рд╛ рдЕрдЪреВрдХрддреЗрдЪреНрдпрд╛ рдЕрднрд╛рд╡рд╛рдиреЗ рдпреБрдХреНрдд рдЕрд╕реВ рд╢рдХрддрд╛рдд. рдореВрд│ рднрд╛рд╖реЗрддреАрд▓ рджрд╕реНрддрдРрд╡рдЬ рд╣рд╛ рдЕрдзрд┐рдХреГрдд рд╕реНрд░реЛрдд рдорд╛рдирд▓рд╛ рдЬрд╛рд╡рд╛. рдорд╣рддреНрддреНрд╡рд╛рдЪреНрдпрд╛ рдорд╛рд╣рд┐рддреАрд╕рд╛рдареА, рд╡реНрдпрд╛рд╡рд╕рд╛рдпрд┐рдХ рдорд╛рдирд╡реА рднрд╛рд╖рд╛рдВрддрд░рд╛рдЪреА рд╢рд┐рдлрд╛рд░рд╕ рдХреЗрд▓реА рдЬрд╛рддреЗ. рдпрд╛ рднрд╛рд╖рд╛рдВрддрд░рд╛рдЪрд╛ рд╡рд╛рдкрд░ рдХрд░реВрди рдЙрджреНрднрд╡рд▓реЗрд▓реНрдпрд╛ рдХреЛрдгрддреНрдпрд╛рд╣реА рдЧреИрд░рд╕рдордЬ рдХрд┐рдВрд╡рд╛ рдЪреБрдХреАрдЪреНрдпрд╛ рдЕрд░реНрдерд╛рд╕рд╛рдареА рдЖрдореНрд╣реА рдЬрдмрд╛рдмрджрд╛рд░ рд░рд╛рд╣рдгрд╛рд░ рдирд╛рд╣реА.