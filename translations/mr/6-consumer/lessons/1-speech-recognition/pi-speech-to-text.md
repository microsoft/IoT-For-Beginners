<!--
CO_OP_TRANSLATOR_METADATA:
{
  "original_hash": "af249a24d4fe4f4de4806adbc3bc9d86",
  "translation_date": "2025-08-27T14:22:54+00:00",
  "source_file": "6-consumer/lessons/1-speech-recognition/pi-speech-to-text.md",
  "language_code": "mr"
}
-->
# рднрд╛рд╖рдг рддреЗ рдордЬрдХреВрд░ - рд░рд╛рд╕реНрдкрдмреЗрд░реА рдкрд╛рдп

рдпрд╛ рдзрдбреНрдпрд╛рдЪреНрдпрд╛ рдпрд╛ рднрд╛рдЧрд╛рдд, рддреБрдореНрд╣реА рдХреЕрдкреНрдЪрд░ рдХреЗрд▓реЗрд▓реНрдпрд╛ рдСрдбрд┐рдУрдордзреАрд▓ рднрд╛рд╖рдг рдордЬрдХреВрд░рд╛рдд рд░реВрдкрд╛рдВрддрд░рд┐рдд рдХрд░рдгреНрдпрд╛рд╕рд╛рдареА рднрд╛рд╖рдг рд╕реЗрд╡реЗрд╕рд╛рдареА рдХреЛрдб рд▓рд┐рд╣рд╛рд▓.

## рдСрдбрд┐рдУ рднрд╛рд╖рдг рд╕реЗрд╡реЗрд▓рд╛ рдкрд╛рдард╡рд╛

рдСрдбрд┐рдУ REST API рдЪрд╛ рд╡рд╛рдкрд░ рдХрд░реВрди рднрд╛рд╖рдг рд╕реЗрд╡реЗрд▓рд╛ рдкрд╛рдард╡рддрд╛ рдпреЗрддреЛ. рднрд╛рд╖рдг рд╕реЗрд╡рд╛ рд╡рд╛рдкрд░рдгреНрдпрд╛рд╕рд╛рдареА, рдкреНрд░рдердо рддреБрдореНрд╣рд╛рд▓рд╛ рдкреНрд░рд╡реЗрд╢ рдЯреЛрдХрдирдЪреА рд╡рд┐рдирдВрддреА рдХрд░рд╛рд╡реА рд▓рд╛рдЧреЗрд▓, рдЖрдгрд┐ рдирдВрддрд░ рддреНрдпрд╛ рдЯреЛрдХрдирдЪрд╛ рд╡рд╛рдкрд░ REST API рд╕рд╛рдареА рдХрд░рд╛рд╡рд╛ рд▓рд╛рдЧреЗрд▓. рд╣реЗ рдкреНрд░рд╡реЗрд╢ рдЯреЛрдХрди 10 рдорд┐рдирд┐рдЯрд╛рдВрдирдВрддрд░ рдХрд╛рд▓рдмрд╛рд╣реНрдп рд╣реЛрддрд╛рдд, рддреНрдпрд╛рдореБрд│реЗ рддреБрдордЪреНрдпрд╛ рдХреЛрдбрдиреЗ рдирд┐рдпрдорд┐рддрдкрдгреЗ рдЯреЛрдХрдирдЪреА рд╡рд┐рдирдВрддреА рдХреЗрд▓реА рдкрд╛рд╣рд┐рдЬреЗ рдЬреЗрдгреЗрдХрд░реВрди рддреЗ рдиреЗрд╣рдореА рдЕрджреНрдпрдпрд╛рд╡рдд рд░рд╛рд╣рддреАрд▓.

### рдХрд╛рд░реНрдп - рдкреНрд░рд╡реЗрд╢ рдЯреЛрдХрди рдорд┐рд│рд╡рд╛

1. рддреБрдордЪреНрдпрд╛ рдкрд╛рдпрд╡рд░реАрд▓ `smart-timer` рдкреНрд░рдХрд▓реНрдк рдЙрдШрдбрд╛.

1. `play_audio` рдлрдВрдХреНрд╢рди рдХрд╛рдвреВрди рдЯрд╛рдХрд╛. рд╣реЗ рдЖрддрд╛ рдЧрд░рдЬреЗрдЪреЗ рдирд╛рд╣реА рдХрд╛рд░рдг рддреБрдореНрд╣рд╛рд▓рд╛ рд╕реНрдорд╛рд░реНрдЯ рдЯрд╛рдЗрдорд░рдиреЗ рддреБрдореНрд╣реА рдХрд╛рдп рдореНрд╣рдЯрд▓реЗ рддреЗ рдкрд░рдд рдРрдХрд╡рд╛рдпрдЪреЗ рдирд╛рд╣реА.

1. `app.py` рдлрд╛рдИрд▓рдЪреНрдпрд╛ рд╢реАрд░реНрд╖рд╕реНрдерд╛рдиреА рдЦрд╛рд▓реАрд▓ рдЖрдпрд╛рдд рдЬреЛрдбрд╛:

    ```python
    import requests
    ```

1. `while True` рд▓реВрдкрдЪреНрдпрд╛ рд╡рд░ рдЦрд╛рд▓реАрд▓ рдХреЛрдб рдЬреЛрдбрд╛, рднрд╛рд╖рдг рд╕реЗрд╡реЗрд╕рд╛рдареА рдХрд╛рд╣реА рд╕реЗрдЯрд┐рдВрдЧреНрдЬ рдШреЛрд╖рд┐рдд рдХрд░рдгреНрдпрд╛рд╕рд╛рдареА:

    ```python
    speech_api_key = '<key>'
    location = '<location>'
    language = '<language>'
    ```

    `<key>` рд▓рд╛ рддреБрдордЪреНрдпрд╛ рднрд╛рд╖рдг рд╕реЗрд╡рд╛ рд╕реНрддреНрд░реЛрддрд╛рд╕рд╛рдареА API рдХреАрдиреЗ рдмрджрд▓рд╛. `<location>` рд▓рд╛ рддреБрдореНрд╣реА рднрд╛рд╖рдг рд╕реЗрд╡рд╛ рд╕реНрддреНрд░реЛрдд рддрдпрд╛рд░ рдХрд░рддрд╛рдирд╛ рд╡рд╛рдкрд░рд▓реЗрд▓реНрдпрд╛ рд╕реНрдерд╛рдирд╛рдиреЗ рдмрджрд▓рд╛.

    `<language>` рд▓рд╛ рддреБрдореНрд╣реА рдЬреНрдпрд╛ рднрд╛рд╖реЗрдд рдмреЛрд▓рдгрд╛рд░ рдЖрд╣рд╛рдд рддреНрдпрд╛ рднрд╛рд╖реЗрдЪреНрдпрд╛ рд╕реНрдерд╛рдирд┐рдХ рдирд╛рд╡рд╛рдиреЗ рдмрджрд▓рд╛, рдЙрджрд╛рд╣рд░рдгрд╛рд░реНрде рдЗрдВрдЧреНрд░рдЬреАрд╕рд╛рдареА `en-GB`, рдХрд┐рдВрд╡рд╛ рдХреЕрдиреНрдЯреЛрдиреАрдЬрд╕рд╛рдареА `zn-HK`. рддреБрдореНрд╣реА рд╕рдорд░реНрдерд┐рдд рднрд╛рд╖рд╛рдВрдЪреА рдЖрдгрд┐ рддреНрдпрд╛рдВрдЪреНрдпрд╛ рд╕реНрдерд╛рдирд┐рдХ рдирд╛рд╡рд╛рдВрдЪреА рдпрд╛рджреА [Microsoft Docs рд╡рд░реАрд▓ рднрд╛рд╖рд╛ рдЖрдгрд┐ рдЖрд╡рд╛рдЬ рд╕рдорд░реНрдерди рджрд╕реНрддрдРрд╡рдЬ](https://docs.microsoft.com/azure/cognitive-services/speech-service/language-support?WT.mc_id=academic-17441-jabenn#speech-to-text) рдордзреНрдпреЗ рдкрд╛рд╣реВ рд╢рдХрддрд╛.

1. рдпрд╛рдЦрд╛рд▓реА, рдкреНрд░рд╡реЗрд╢ рдЯреЛрдХрди рдорд┐рд│рд╡рдгреНрдпрд╛рд╕рд╛рдареА рдЦрд╛рд▓реАрд▓ рдлрдВрдХреНрд╢рди рдЬреЛрдбрд╛:

    ```python
    def get_access_token():
        headers = {
            'Ocp-Apim-Subscription-Key': speech_api_key
        }
    
        token_endpoint = f'https://{location}.api.cognitive.microsoft.com/sts/v1.0/issuetoken'
        response = requests.post(token_endpoint, headers=headers)
        return str(response.text)
    ```

    рд╣реЗ рдЯреЛрдХрди рдЬрд╛рд░реА рдХрд░рдгрд╛рд▒реНрдпрд╛ рдПрдиреНрдбрдкреЙрдЗрдВрдЯрд▓рд╛ рдХреЙрд▓ рдХрд░рддреЗ, API рдХреА рд╣реЗрдбрд░ рдореНрд╣рдгреВрди рдкрд╛рд╕ рдХрд░рддреЗ. рд╣рд╛ рдХреЙрд▓ рдкреНрд░рд╡реЗрд╢ рдЯреЛрдХрди рдкрд░рдд рдХрд░рддреЛ, рдЬреЗ рднрд╛рд╖рдг рд╕реЗрд╡рд╛рдВрдирд╛ рдХреЙрд▓ рдХрд░рдгреНрдпрд╛рд╕рд╛рдареА рд╡рд╛рдкрд░рд▓реЗ рдЬрд╛рдК рд╢рдХрддреЗ.

1. рдпрд╛рдЦрд╛рд▓реА, REST API рдЪрд╛ рд╡рд╛рдкрд░ рдХрд░реВрди рдХреЕрдкреНрдЪрд░ рдХреЗрд▓реЗрд▓реНрдпрд╛ рдСрдбрд┐рдУрдордзреАрд▓ рднрд╛рд╖рдг рдордЬрдХреВрд░рд╛рдд рд░реВрдкрд╛рдВрддрд░рд┐рдд рдХрд░рдгреНрдпрд╛рд╕рд╛рдареА рдлрдВрдХреНрд╢рди рдШреЛрд╖рд┐рдд рдХрд░рд╛:

    ```python
    def convert_speech_to_text(buffer):
    ```

1. рдпрд╛ рдлрдВрдХреНрд╢рдирдЪреНрдпрд╛ рдЖрдд, REST API URL рдЖрдгрд┐ рд╣реЗрдбрд░реНрд╕ рд╕реЗрдЯ рдХрд░рд╛:

    ```python
    url = f'https://{location}.stt.speech.microsoft.com/speech/recognition/conversation/cognitiveservices/v1'

    headers = {
        'Authorization': 'Bearer ' + get_access_token(),
        'Content-Type': f'audio/wav; codecs=audio/pcm; samplerate={rate}',
        'Accept': 'application/json;text/xml'
    }

    params = {
        'language': language
    }
    ```

    рд╣реЗ рднрд╛рд╖рдг рд╕реЗрд╡рд╛ рд╕реНрддреНрд░реЛрддрд╛рдЪреНрдпрд╛ рд╕реНрдерд╛рдирд╛рдЪрд╛ рд╡рд╛рдкрд░ рдХрд░реВрди URL рддрдпрд╛рд░ рдХрд░рддреЗ. рдирдВрддрд░ рд╣реЗрдбрд░реНрд╕рдордзреНрдпреЗ `get_access_token` рдлрдВрдХреНрд╢рдирдордзреВрди рдорд┐рд│рд╛рд▓реЗрд▓реНрдпрд╛ рдкреНрд░рд╡реЗрд╢ рдЯреЛрдХрдирд╕рд╣ рдСрдбрд┐рдУ рдХреЕрдкреНрдЪрд░ рдХрд░рдгреНрдпрд╛рд╕рд╛рдареА рд╡рд╛рдкрд░рд▓реЗрд▓рд╛ рд╕реЕрдореНрдкрд▓ рд░реЗрдЯ рднрд░рддреЛ. рд╢реЗрд╡рдЯреА, рдСрдбрд┐рдУрдордзреАрд▓ рднрд╛рд╖реЗрдЪрд╛ рд╕рдорд╛рд╡реЗрд╢ рдЕрд╕рд▓реЗрд▓реНрдпрд╛ URL рд╕рд╣ рдХрд╛рд╣реА рдкреЕрд░рд╛рдореАрдЯрд░реНрд╕ рдкрд░рд┐рднрд╛рд╖рд┐рдд рдХрд░рддреЛ.

1. рдпрд╛рдЦрд╛рд▓реА, REST API рдХреЙрд▓ рдХрд░рдгреНрдпрд╛рд╕рд╛рдареА рдЖрдгрд┐ рдордЬрдХреВрд░ рдкрд░рдд рдорд┐рд│рд╡рдгреНрдпрд╛рд╕рд╛рдареА рдЦрд╛рд▓реАрд▓ рдХреЛрдб рдЬреЛрдбрд╛:

    ```python
    response = requests.post(url, headers=headers, params=params, data=buffer)
    response_json = response.json()

    if response_json['RecognitionStatus'] == 'Success':
        return response_json['DisplayText']
    else:
        return ''
    ```

    рд╣реЗ URL рдХреЙрд▓ рдХрд░рддреЗ рдЖрдгрд┐ рдкреНрд░рддрд┐рд╕рд╛рджрд╛рдд рдЖрд▓реЗрд▓реНрдпрд╛ JSON рдореВрд▓реНрдпрд╛рдЪреЗ рдбрд┐рдХреЛрдбрд┐рдВрдЧ рдХрд░рддреЗ. рдкреНрд░рддрд┐рд╕рд╛рджрд╛рддреАрд▓ `RecognitionStatus` рдореВрд▓реНрдп рд╣реЗ рдХреЙрд▓ рднрд╛рд╖рдг рдордЬрдХреВрд░рд╛рдд рдпрд╢рд╕реНрд╡реАрд░рд┐рддреНрдпрд╛ рд░реВрдкрд╛рдВрддрд░рд┐рдд рдХрд░реВ рд╢рдХрд▓реЗ рдХрд╛ рд╣реЗ рджрд░реНрд╢рд╡рддреЗ, рдЖрдгрд┐ рдЬрд░ рддреЗ `Success` рдЕрд╕реЗрд▓ рддрд░ рдордЬрдХреВрд░ рдлрдВрдХреНрд╢рдирдордзреВрди рдкрд░рдд рдХреЗрд▓рд╛ рдЬрд╛рддреЛ, рдЕрдиреНрдпрдерд╛ рд░рд┐рдХрд╛рдореА рд╕реНрдЯреНрд░рд┐рдВрдЧ рдкрд░рдд рдХреЗрд▓реА рдЬрд╛рддреЗ.

1. `while True:` рд▓реВрдкрдЪреНрдпрд╛ рд╡рд░, рднрд╛рд╖рдг рддреЗ рдордЬрдХреВрд░ рд╕реЗрд╡реЗрдордзреВрди рдкрд░рдд рдЖрд▓реЗрд▓реНрдпрд╛ рдордЬрдХреВрд░рд╛рд╡рд░ рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдХрд░рдгреНрдпрд╛рд╕рд╛рдареА рдлрдВрдХреНрд╢рди рдкрд░рд┐рднрд╛рд╖рд┐рдд рдХрд░рд╛. рд╣реЗ рдлрдВрдХреНрд╢рди рд╕рдзреНрдпрд╛ рдлрдХреНрдд рдордЬрдХреВрд░ рдХрдиреНрд╕реЛрд▓рд╡рд░ рдкреНрд░рд┐рдВрдЯ рдХрд░реЗрд▓.

    ```python
    def process_text(text):
        print(text)
    ```

1. рд╢реЗрд╡рдЯреА, `while True` рд▓реВрдкрдордзреАрд▓ `play_audio` рдХреЙрд▓ `convert_speech_to_text` рдлрдВрдХреНрд╢рдирдиреЗ рдмрджрд▓рд╛, рдЖрдгрд┐ рдордЬрдХреВрд░ `process_text` рдлрдВрдХреНрд╢рдирд▓рд╛ рдкрд╛рд╕ рдХрд░рд╛:

    ```python
    text = convert_speech_to_text(buffer)
    process_text(text)
    ```

1. рдХреЛрдб рдЪрд╛рд▓рд╡рд╛. рдмрдЯрдг рджрд╛рдмрд╛ рдЖрдгрд┐ рдорд╛рдпрдХреНрд░реЛрдлреЛрдирдордзреНрдпреЗ рдмреЛрд▓рд╛. рддреБрдореНрд╣реА рдмреЛрд▓реВрди рдЭрд╛рд▓реНрдпрд╛рд╡рд░ рдмрдЯрдг рд╕реЛрдбрд╛, рдЖрдгрд┐ рдСрдбрд┐рдУ рдордЬрдХреВрд░рд╛рдд рд░реВрдкрд╛рдВрддрд░рд┐рдд рд╣реЛрдИрд▓ рдЖрдгрд┐ рдХрдиреНрд╕реЛрд▓рд╡рд░ рдкреНрд░рд┐рдВрдЯ рд╣реЛрдИрд▓.

    ```output
    pi@raspberrypi:~/smart-timer $ python3 app.py 
    Hello world.
    Welcome to IoT for beginners.
    ```

    рд╡реЗрдЧрд╡реЗрдЧрд│реНрдпрд╛ рдкреНрд░рдХрд╛рд░рдЪреНрдпрд╛ рд╡рд╛рдХреНрдпрд╛рдВрдЪрд╛ рдкреНрд░рдпрддреНрди рдХрд░рд╛, рддрд╕реЗрдЪ рдЬреНрдпрд╛ рд╡рд╛рдХреНрдпрд╛рдВрдордзреНрдпреЗ рд╢рдмреНрджрд╛рдВрдЪреЗ рдЙрдЪреНрдЪрд╛рд░ рд╕рд╛рд░рдЦреЗ рдЕрд╕рддрд╛рдд рдкрдг рдЕрд░реНрде рд╡реЗрдЧрд│реЗ рдЕрд╕рддрд╛рдд рдЕрд╢рд╛ рд╡рд╛рдХреНрдпрд╛рдВрдЪрд╛ рдкреНрд░рдпрддреНрди рдХрд░рд╛. рдЙрджрд╛рд╣рд░рдгрд╛рд░реНрде, рдЬрд░ рддреБрдореНрд╣реА рдЗрдВрдЧреНрд░рдЬреАрдд рдмреЛрд▓рдд рдЕрд╕рд╛рд▓, рддрд░ 'I want to buy two bananas and an apple too' рдЕрд╕реЗ рдореНрд╣рдгрд╛, рдЖрдгрд┐ рддреЗ рдХрд╕реЗ рдпреЛрдЧреНрдп to, two рдЖрдгрд┐ too рд╡рд╛рдкрд░рддреЗ рд╣реЗ рд▓рдХреНрд╖рд╛рдд рдШреНрдпрд╛, рдлрдХреНрдд рдЖрд╡рд╛рдЬрд╛рд╡рд░ рдЖрдзрд╛рд░рд┐рдд рдирд╛рд╣реА рддрд░ рд╢рдмреНрджрд╛рдЪреНрдпрд╛ рд╕рдВрджрд░реНрднрд╛рд╡рд░ рдЖрдзрд╛рд░рд┐рдд.

> ЁЯТБ рддреБрдореНрд╣рд╛рд▓рд╛ рд╣рд╛ рдХреЛрдб [code-speech-to-text/pi](../../../../../6-consumer/lessons/1-speech-recognition/code-speech-to-text/pi) рдлреЛрд▓реНрдбрд░рдордзреНрдпреЗ рд╕рд╛рдкрдбреЗрд▓.

ЁЯША рддреБрдордЪрд╛ рднрд╛рд╖рдг рддреЗ рдордЬрдХреВрд░ рдкреНрд░реЛрдЧреНрд░рд╛рдо рдпрд╢рд╕реНрд╡реА рдЭрд╛рд▓рд╛!

---

**рдЕрд╕реНрд╡реАрдХрд░рдг**:  
рд╣рд╛ рджрд╕реНрддрдРрд╡рдЬ AI рднрд╛рд╖рд╛рдВрддрд░ рд╕реЗрд╡рд╛ [Co-op Translator](https://github.com/Azure/co-op-translator) рдЪрд╛ рд╡рд╛рдкрд░ рдХрд░реВрди рднрд╛рд╖рд╛рдВрддрд░рд┐рдд рдХрд░рдгреНрдпрд╛рдд рдЖрд▓рд╛ рдЖрд╣реЗ. рдЖрдореНрд╣реА рдЕрдЪреВрдХрддреЗрд╕рд╛рдареА рдкреНрд░рдпрддреНрдирд╢реАрд▓ рдЕрд╕рд▓реЛ рддрд░реА, рдХреГрдкрдпрд╛ рд▓рдХреНрд╖рд╛рдд рдШреНрдпрд╛ рдХреА рд╕реНрд╡рдпрдВрдЪрд▓рд┐рдд рднрд╛рд╖рд╛рдВрддрд░рд╛рдВрдордзреНрдпреЗ рддреНрд░реБрдЯреА рдХрд┐рдВрд╡рд╛ рдЕрдЪреВрдХрддреЗрдЪрд╛ рдЕрднрд╛рд╡ рдЕрд╕реВ рд╢рдХрддреЛ. рдореВрд│ рднрд╛рд╖реЗрддреАрд▓ рджрд╕реНрддрдРрд╡рдЬ рд╣рд╛ рдЕрдзрд┐рдХреГрдд рд╕реНрд░реЛрдд рдорд╛рдирд▓рд╛ рдЬрд╛рд╡рд╛. рдорд╣рддреНрддреНрд╡рд╛рдЪреНрдпрд╛ рдорд╛рд╣рд┐рддреАрд╕рд╛рдареА рд╡реНрдпрд╛рд╡рд╕рд╛рдпрд┐рдХ рдорд╛рдирд╡реА рднрд╛рд╖рд╛рдВрддрд░рд╛рдЪреА рд╢рд┐рдлрд╛рд░рд╕ рдХреЗрд▓реА рдЬрд╛рддреЗ. рдпрд╛ рднрд╛рд╖рд╛рдВрддрд░рд╛рдЪрд╛ рд╡рд╛рдкрд░ рдХреЗрд▓реНрдпрд╛рдореБрд│реЗ рдЙрджреНрднрд╡рдгрд╛рд▒реНрдпрд╛ рдХреЛрдгрддреНрдпрд╛рд╣реА рдЧреИрд░рд╕рдордЬ рдХрд┐рдВрд╡рд╛ рдЪреБрдХреАрдЪреНрдпрд╛ рдЕрд░реНрдерд╛рд╕рд╛рдареА рдЖрдореНрд╣реА рдЬрдмрд╛рдмрджрд╛рд░ рд░рд╛рд╣рдгрд╛рд░ рдирд╛рд╣реА.