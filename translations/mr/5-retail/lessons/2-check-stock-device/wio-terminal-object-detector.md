<!--
CO_OP_TRANSLATOR_METADATA:
{
  "original_hash": "4cf1421420a6fab9ab4f2c391bd523b7",
  "translation_date": "2025-08-27T09:59:04+00:00",
  "source_file": "5-retail/lessons/2-check-stock-device/wio-terminal-object-detector.md",
  "language_code": "mr"
}
-->
# рдЖрдкрд▓реНрдпрд╛ IoT рдбрд┐рд╡реНрд╣рд╛рдЗрд╕рд╡рд░реВрди рдСрдмреНрдЬреЗрдХреНрдЯ рдбрд┐рдЯреЗрдХреНрдЯрд░ рдХреЙрд▓ рдХрд░рд╛ - Wio Terminal

рдПрдХрджрд╛ рддреБрдордЪрд╛ рдСрдмреНрдЬреЗрдХреНрдЯ рдбрд┐рдЯреЗрдХреНрдЯрд░ рдкреНрд░рдХрд╛рд╢рд┐рдд рдЭрд╛рд▓реНрдпрд╛рд╡рд░, рддреЛ рддреБрдордЪреНрдпрд╛ IoT рдбрд┐рд╡реНрд╣рд╛рдЗрд╕рд╡рд░реВрди рд╡рд╛рдкрд░рддрд╛ рдпреЗрдИрд▓.

## рдЗрдореЗрдЬ рдХреНрд▓рд╛рд╕рд┐рдлрд╛рдпрд░ рдкреНрд░реЛрдЬреЗрдХреНрдЯ рдХреЙрдкреА рдХрд░рд╛

рддреБрдордЪрд╛ рд╕реНрдЯреЙрдХ рдбрд┐рдЯреЗрдХреНрдЯрд░ рдореБрдЦреНрдпрддрдГ рддреНрдпрд╛ рдЗрдореЗрдЬ рдХреНрд▓рд╛рд╕рд┐рдлрд╛рдпрд░рд╕рд╛рд░рдЦрд╛рдЪ рдЖрд╣реЗ рдЬреЛ рддреБрдореНрд╣реА рдорд╛рдЧреАрд▓ рдзрдбреНрдпрд╛рдд рддрдпрд╛рд░ рдХреЗрд▓рд╛ рд╣реЛрддрд╛.

### рдХрд╛рд░реНрдп - рдЗрдореЗрдЬ рдХреНрд▓рд╛рд╕рд┐рдлрд╛рдпрд░ рдкреНрд░реЛрдЬреЗрдХреНрдЯ рдХреЙрдкреА рдХрд░рд╛

1. рддреБрдордЪрд╛ ArduCam Wio Terminal рд╢реА рдХрдиреЗрдХреНрдЯ рдХрд░рд╛, [рдореЕрдиреНрдпреБрдлреЕрдХреНрдЪрд░рд┐рдВрдЧ рдкреНрд░реЛрдЬреЗрдХреНрдЯрдЪреНрдпрд╛ рдзрдбрд╛ 2](../../../4-manufacturing/lessons/2-check-fruit-from-device/wio-terminal-camera.md#task---connect-the-camera) рдордзреАрд▓ рд╕реНрдЯреЗрдкреНрд╕ рдлреЙрд▓реЛ рдХрд░рд╛.

    рддреБрдореНрд╣рд╛рд▓рд╛ рдХреЕрдореЗрд░рд╛ рдПрдХрд╛ рд╕реНрдерд┐рд░ рд╕реНрдерд┐рддреАрдд рдареЗрд╡рд╛рдпрдЪрд╛ рдЕрд╕реЗрд▓, рдЙрджрд╛рд╣рд░рдгрд╛рд░реНрде, рдХреЗрдмрд▓ рдмреЙрдХреНрд╕ рдХрд┐рдВрд╡рд╛ рдХреЕрдирд╡рд░ рдЯрд╛рдВрдЧреВрди рдареЗрд╡рдгреЗ рдХрд┐рдВрд╡рд╛ рдбрдмрд▓-рд╕рд╛рдЗрдб рдЯреЗрдкрдиреЗ рдХреЕрдореЗрд░рд╛ рдмреЙрдХреНрд╕рд▓рд╛ рдЬреЛрдбрдгреЗ.

1. PlatformIO рд╡рд╛рдкрд░реВрди рдПрдХ рдирд╡реАрди Wio Terminal рдкреНрд░реЛрдЬреЗрдХреНрдЯ рддрдпрд╛рд░ рдХрд░рд╛. рдпрд╛ рдкреНрд░реЛрдЬреЗрдХреНрдЯрдЪреЗ рдирд╛рд╡ `stock-counter` рдареЗрд╡рд╛.

1. [рдореЕрдиреНрдпреБрдлреЕрдХреНрдЪрд░рд┐рдВрдЧ рдкреНрд░реЛрдЬреЗрдХреНрдЯрдЪреНрдпрд╛ рдзрдбрд╛ 2](../../../4-manufacturing/lessons/2-check-fruit-from-device/README.md#task---capture-an-image-using-an-iot-device) рдордзреАрд▓ рд╕реНрдЯреЗрдкреНрд╕ рдХреЙрдкреА рдХрд░рд╛, рдЬреНрдпрд╛рдореБрд│реЗ рдХреЕрдореЗрд░рд╛рдордзреВрди рдЗрдореЗрдЬреЗрд╕ рдХреЕрдкреНрдЪрд░ рдХрд░рддрд╛ рдпреЗрддреАрд▓.

1. [рдореЕрдиреНрдпреБрдлреЕрдХреНрдЪрд░рд┐рдВрдЧ рдкреНрд░реЛрдЬреЗрдХреНрдЯрдЪреНрдпрд╛ рдзрдбрд╛ 2](../../../4-manufacturing/lessons/2-check-fruit-from-device/README.md#task---classify-images-from-your-iot-device) рдордзреАрд▓ рд╕реНрдЯреЗрдкреНрд╕ рдХреЙрдкреА рдХрд░рд╛, рдЬреНрдпрд╛рдореБрд│реЗ рдЗрдореЗрдЬ рдХреНрд▓рд╛рд╕рд┐рдлрд╛рдпрд░ рдХреЙрд▓ рдХрд░рддрд╛ рдпреЗрдИрд▓. рдпрд╛ рдХреЛрдбрдЪрд╛ рдореЛрдард╛ рднрд╛рдЧ рдСрдмреНрдЬреЗрдХреНрдЯреНрд╕ рдбрд┐рдЯреЗрдХреНрдЯ рдХрд░рдгреНрдпрд╛рд╕рд╛рдареА рдкреБрдиреНрд╣рд╛ рд╡рд╛рдкрд░рд▓рд╛ рдЬрд╛рдИрд▓.

## рдХреЛрдб рдХреНрд▓рд╛рд╕рд┐рдлрд╛рдпрд░рд╡рд░реВрди рдЗрдореЗрдЬ рдбрд┐рдЯреЗрдХреНрдЯрд░рдордзреНрдпреЗ рдмрджрд▓рд╛

рддреБрдореНрд╣реА рдЗрдореЗрдЬреЗрд╕ рдХреНрд▓рд╛рд╕рд┐рдлрд╛рдп рдХрд░рдгреНрдпрд╛рд╕рд╛рдареА рд╡рд╛рдкрд░рд▓реЗрд▓рд╛ рдХреЛрдб рдСрдмреНрдЬреЗрдХреНрдЯреНрд╕ рдбрд┐рдЯреЗрдХреНрдЯ рдХрд░рдгреНрдпрд╛рд╕рд╛рдареА рд╡рд╛рдкрд░рд▓реНрдпрд╛ рдЬрд╛рдгрд╛рд▒реНрдпрд╛ рдХреЛрдбрд╕рд╛рд░рдЦрд╛рдЪ рдЖрд╣реЗ. рдореБрдЦреНрдп рдлрд░рдХ рдореНрд╣рдгрдЬреЗ Custom Vision рдХрдбреВрди рдорд┐рд│рд╛рд▓реЗрд▓рд╛ URL рдЖрдгрд┐ рдХреЙрд▓рдЪреЗ рдкрд░рд┐рдгрд╛рдо.

### рдХрд╛рд░реНрдп - рдХреЛрдб рдХреНрд▓рд╛рд╕рд┐рдлрд╛рдпрд░рд╡рд░реВрди рдЗрдореЗрдЬ рдбрд┐рдЯреЗрдХреНрдЯрд░рдордзреНрдпреЗ рдмрджрд▓рд╛

1. `main.cpp` рдлрд╛рдИрд▓рдЪреНрдпрд╛ рд╡рд░рдЪреНрдпрд╛ рднрд╛рдЧрд╛рдд рдЦрд╛рд▓реАрд▓ include directive рдЬреЛрдбрд╛:

    ```cpp
    #include <vector>
    ```

1. `classifyImage` рдлрдВрдХреНрд╢рдирдЪреЗ рдирд╛рд╡ рдмрджрд▓реВрди `detectStock` рдХрд░рд╛, рдлрдВрдХреНрд╢рдирдЪреЗ рдирд╛рд╡ рдЖрдгрд┐ `buttonPressed` рдлрдВрдХреНрд╢рдирдордзреАрд▓ рдХреЙрд▓ рджреЛрдиреНрд╣реА.

1. `detectStock` рдлрдВрдХреНрд╢рдирдЪреНрдпрд╛ рд╡рд░ рдПрдХ threshold рдбрд┐рдХреНрд▓реЗрдЕрд░ рдХрд░рд╛, рдЬреНрдпрд╛рдореБрд│реЗ рдХрдореА probability рдЕрд╕рд▓реЗрд▓реНрдпрд╛ рдбрд┐рдЯреЗрдХреНрд╢рдиреНрд╕ рдлрд┐рд▓реНрдЯрд░ рдХрд░рддрд╛ рдпреЗрддреАрд▓:

    ```cpp
    const float threshold = 0.3f;
    ```

    рдЗрдореЗрдЬ рдХреНрд▓рд╛рд╕рд┐рдлрд╛рдпрд░ рдлрдХреНрдд рдкреНрд░рддреНрдпреЗрдХ рдЯреЕрдЧрд╕рд╛рдареА рдПрдХрдЪ рдкрд░рд┐рдгрд╛рдо рдкрд░рдд рдХрд░рддреЛ, рдкрд░рдВрддреБ рдСрдмреНрдЬреЗрдХреНрдЯ рдбрд┐рдЯреЗрдХреНрдЯрд░ рдЕрдиреЗрдХ рдкрд░рд┐рдгрд╛рдо рдкрд░рдд рдХрд░рддреЛ, рддреНрдпрд╛рдореБрд│реЗ рдХрдореА probability рдЕрд╕рд▓реЗрд▓реЗ рдкрд░рд┐рдгрд╛рдо рдлрд┐рд▓реНрдЯрд░ рдХрд░рдгреЗ рдЖрд╡рд╢реНрдпрдХ рдЖрд╣реЗ.

1. `detectStock` рдлрдВрдХреНрд╢рдирдЪреНрдпрд╛ рд╡рд░ рдПрдХ рдлрдВрдХреНрд╢рди рдбрд┐рдХреНрд▓реЗрдЕрд░ рдХрд░рд╛, рдЬреНрдпрд╛рдореБрд│реЗ predictions process рдХрд░рддрд╛ рдпреЗрддреАрд▓:

    ```cpp
    void processPredictions(std::vector<JsonVariant> &predictions)
    {
        for(JsonVariant prediction : predictions)
        {
            String tag = prediction["tagName"].as<String>();
            float probability = prediction["probability"].as<float>();
    
            char buff[32];
            sprintf(buff, "%s:\t%.2f%%", tag.c_str(), probability * 100.0);
            Serial.println(buff);
        }
    }
    ```

    рд╣реЗ predictions рдЪреА рдпрд╛рджреА рдШреЗрддреЗ рдЖрдгрд┐ рддреА serial monitor рд╡рд░ рдкреНрд░рд┐рдВрдЯ рдХрд░рддреЗ.

1. `detectStock` рдлрдВрдХреНрд╢рдирдордзреНрдпреЗ, predictions рд╡рд░ рд▓реВрдк рдХрд░рдгрд╛рд▒реНрдпрд╛ `for` рд▓реВрдкрдЪреНрдпрд╛ рдХрдВрдЯреЗрдВрдЯрд▓рд╛ рдЦрд╛рд▓реАрд▓ рдХреЛрдбрдиреЗ рдмрджрд▓рд╛:

    ```cpp
    std::vector<JsonVariant> passed_predictions;

    for(JsonVariant prediction : predictions) 
    {
        float probability = prediction["probability"].as<float>();
        if (probability > threshold)
        {
            passed_predictions.push_back(prediction);
        }
    }

    processPredictions(passed_predictions);
    ```

    рд╣реЗ predictions рд╡рд░ рд▓реВрдк рдХрд░рддреЗ, probability threshold рд╢реА рддреБрд▓рдирд╛ рдХрд░рддреЗ. рдЬреНрдпрд╛ predictions рдЪреА probability threshold рдкреЗрдХреНрд╖рд╛ рдЬрд╛рд╕реНрдд рдЖрд╣реЗ, рддреНрдпрд╛ `list` рдордзреНрдпреЗ рдЬреЛрдбрд▓реНрдпрд╛ рдЬрд╛рддрд╛рдд рдЖрдгрд┐ `processPredictions` рдлрдВрдХреНрд╢рдирд▓рд╛ рдкрд╛рд╕ рдХреЗрд▓реНрдпрд╛ рдЬрд╛рддрд╛рдд.

1. рддреБрдордЪрд╛ рдХреЛрдб рдЕрдкрд▓реЛрдб рдХрд░рд╛ рдЖрдгрд┐ рдЪрд╛рд▓рд╡рд╛. рдХреЕрдореЗрд░рд╛ рд╢реЗрд▓реНрдлрд╡рд░реАрд▓ рд╡рд╕реНрддреВрдВрд╡рд░ рдкреЙрдЗрдВрдЯ рдХрд░рд╛ рдЖрдгрд┐ C рдмрдЯрдг рджрд╛рдмрд╛. рддреБрдореНрд╣рд╛рд▓рд╛ serial monitor рдордзреНрдпреЗ рдЖрдЙрдЯрдкреБрдЯ рджрд┐рд╕реЗрд▓:

    ```output
    Connecting to WiFi..
    Connected!
    Image captured
    Image read to buffer with length 17416
    tomato paste:   35.84%
    tomato paste:   35.87%
    tomato paste:   34.11%
    tomato paste:   35.16%
    ```

    > ЁЯТБ рддреБрдореНрд╣рд╛рд▓рд╛ рддреБрдордЪреНрдпрд╛ рдЗрдореЗрдЬреЗрд╕рд╕рд╛рдареА рдпреЛрдЧреНрдп threshold рд╕реЗрдЯ рдХрд░рд╛рд╡рд╛ рд▓рд╛рдЧреЗрд▓.

    рддреБрдореНрд╣реА рдШреЗрддрд▓реЗрд▓реА рдЗрдореЗрдЬ рдЖрдгрд┐ **Predictions** рдЯреЕрдмрдордзреНрдпреЗ Custom Vision рдордзреНрдпреЗ рд╣реЗ рдореВрд▓реНрдпреЗ рдкрд╛рд╣реВ рд╢рдХрддрд╛.

    ![рд╢реЗрд▓реНрдлрд╡рд░ рдареЗрд╡рд▓реЗрд▓реНрдпрд╛ рдЯреЛрдореЕрдЯреЛ рдкреЗрд╕реНрдЯрдЪреНрдпрд╛ 4 рдХреЕрдиреНрд╕рд╕рд╛рдареА 35.8%, 33.5%, 25.7% рдЖрдгрд┐ 16.6% рдЪреНрдпрд╛ рдбрд┐рдЯреЗрдХреНрд╢рдирд╕рд╛рдареА predictions](../../../../../translated_images/custom-vision-stock-prediction.942266ab1bcca3410ecdf23643b9f5f570cfab2345235074e24c51f285777613.mr.png)

> ЁЯТБ рддреБрдореНрд╣реА рд╣рд╛ рдХреЛрдб [code-detect/wio-terminal](../../../../../5-retail/lessons/2-check-stock-device/code-detect/wio-terminal) рдлреЛрд▓реНрдбрд░рдордзреНрдпреЗ рд╢реЛрдзреВ рд╢рдХрддрд╛.

ЁЯША рддреБрдордЪрд╛ рд╕реНрдЯреЙрдХ рдХрд╛рдЙрдВрдЯрд░ рдкреНрд░реЛрдЧреНрд░рд╛рдо рдпрд╢рд╕реНрд╡реА рдЭрд╛рд▓рд╛!

---

**рдЕрд╕реНрд╡реАрдХрд░рдг**:  
рд╣рд╛ рджрд╕реНрддрдРрд╡рдЬ AI рднрд╛рд╖рд╛рдВрддрд░ рд╕реЗрд╡рд╛ [Co-op Translator](https://github.com/Azure/co-op-translator) рд╡рд╛рдкрд░реВрди рднрд╛рд╖рд╛рдВрддрд░рд┐рдд рдХрд░рдгреНрдпрд╛рдд рдЖрд▓рд╛ рдЖрд╣реЗ. рдЖрдореНрд╣реА рдЕрдЪреВрдХрддреЗрд╕рд╛рдареА рдкреНрд░рдпрддреНрдирд╢реАрд▓ рдЕрд╕рд▓реЛ рддрд░реА рдХреГрдкрдпрд╛ рд▓рдХреНрд╖рд╛рдд рдареЗрд╡рд╛ рдХреА рд╕реНрд╡рдпрдВрдЪрд▓рд┐рдд рднрд╛рд╖рд╛рдВрддрд░рд╛рдВрдордзреНрдпреЗ рддреНрд░реБрдЯреА рдХрд┐рдВрд╡рд╛ рдЕрдЪреВрдХрддреЗрдЪрд╛ рдЕрднрд╛рд╡ рдЕрд╕реВ рд╢рдХрддреЛ. рдореВрд│ рднрд╛рд╖реЗрддреАрд▓ рджрд╕реНрддрдРрд╡рдЬ рд╣рд╛ рдЕрдзрд┐рдХреГрдд рд╕реНрд░реЛрдд рдорд╛рдирд▓рд╛ рдЬрд╛рд╡рд╛. рдорд╣рддреНрддреНрд╡рд╛рдЪреНрдпрд╛ рдорд╛рд╣рд┐рддреАрд╕рд╛рдареА рд╡реНрдпрд╛рд╡рд╕рд╛рдпрд┐рдХ рдорд╛рдирд╡реА рднрд╛рд╖рд╛рдВрддрд░рд╛рдЪреА рд╢рд┐рдлрд╛рд░рд╕ рдХреЗрд▓реА рдЬрд╛рддреЗ. рдпрд╛ рднрд╛рд╖рд╛рдВрддрд░рд╛рдЪрд╛ рд╡рд╛рдкрд░ рдХрд░реВрди рдирд┐рд░реНрдорд╛рдг рд╣реЛрдгрд╛рд▒реНрдпрд╛ рдХреЛрдгрддреНрдпрд╛рд╣реА рдЧреИрд░рд╕рдордЬ рдХрд┐рдВрд╡рд╛ рдЪреБрдХреАрдЪреНрдпрд╛ рдЕрд░реНрдерд╛рд╕рд╛рдареА рдЖрдореНрд╣реА рдЬрдмрд╛рдмрджрд╛рд░ рд░рд╛рд╣рдгрд╛рд░ рдирд╛рд╣реА.