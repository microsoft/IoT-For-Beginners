<!--
CO_OP_TRANSLATOR_METADATA:
{
  "original_hash": "0b2ae20b0fc8e73c9598dea937cac038",
  "translation_date": "2025-08-27T09:55:31+00:00",
  "source_file": "5-retail/lessons/2-check-stock-device/wio-terminal-count-stock.md",
  "language_code": "mr"
}
-->
# рдЖрдкрд▓реНрдпрд╛ IoT рдбрд┐рд╡реНрд╣рд╛рдЗрд╕рд╡рд░реВрди рд╕реНрдЯреЙрдХ рдореЛрдЬрд╛ - Wio Terminal

рднрд╛рдХреАрдд рдЖрдгрд┐ рддреНрдпрд╛рдВрдЪреЗ рдмреЙрдХреНрд╕рд┐рдВрдЧ рдмреЙрдХреНрд╕реЗрд╕ рдпрд╛рдВрдЪреЗ рд╕рдВрдпреЛрдЬрди рдкреНрд░рддрд┐рдореЗрдордзреНрдпреЗ рд╕реНрдЯреЙрдХ рдореЛрдЬрдгреНрдпрд╛рд╕рд╛рдареА рд╡рд╛рдкрд░рд▓реЗ рдЬрд╛рдК рд╢рдХрддреЗ.

## рд╕реНрдЯреЙрдХ рдореЛрдЬрд╛

![4 рдЯреЛрдореЕрдЯреЛ рдкреЗрд╕реНрдЯрдЪреЗ рдХреЕрди, рдкреНрд░рддреНрдпреЗрдХ рдХреЕрдирднреЛрд╡рддреА рдмреЙрдХреНрд╕рд┐рдВрдЧ рдмреЙрдХреНрд╕реЗрд╕](../../../../../translated_images/rpi-stock-with-bounding-boxes.b5540e2ecb7cd49f1271828d3be412671d950e87625c5597ea97c90f11e01097.mr.jpg)

рд╡рд░ рджрд╛рдЦрд╡рд▓реЗрд▓реНрдпрд╛ рдкреНрд░рддрд┐рдореЗрдордзреНрдпреЗ рдмреЙрдХреНрд╕рд┐рдВрдЧ рдмреЙрдХреНрд╕реЗрд╕ рдереЛрдбреЗрд╕реЗ рдУрд╡реНрд╣рд░рд▓реЕрдк рдЭрд╛рд▓реЗ рдЖрд╣реЗрдд. рдЬрд░ рд╣реЗ рдУрд╡реНрд╣рд░рд▓реЕрдк рдЦреВрдк рдореЛрдареЗ рдЕрд╕рддреЗ, рддрд░ рдмреЙрдХреНрд╕рд┐рдВрдЧ рдмреЙрдХреНрд╕реЗрд╕ рдПрдХрд╛рдЪ рд╡рд╕реНрддреВрд▓рд╛ рд╕реВрдЪрд┐рдд рдХрд░реВ рд╢рдХрддрд╛рдд. рд╡рд╕реНрддреВ рдпреЛрдЧреНрдп рдкреНрд░рдХрд╛рд░реЗ рдореЛрдЬрдгреНрдпрд╛рд╕рд╛рдареА, рддреБрдореНрд╣рд╛рд▓рд╛ рдорд╣рддреНрддреНрд╡рдкреВрд░реНрдг рдУрд╡реНрд╣рд░рд▓реЕрдк рдЕрд╕рд▓реЗрд▓реНрдпрд╛ рдмреЙрдХреНрд╕реЗрд╕рдХрдбреЗ рджреБрд░реНрд▓рдХреНрд╖ рдХрд░рдгреЗ рдЖрд╡рд╢реНрдпрдХ рдЖрд╣реЗ.

### рдХрд╛рд░реНрдп - рдУрд╡реНрд╣рд░рд▓реЕрдк рджреБрд░реНрд▓рдХреНрд╖рд┐рдд рдХрд░реВрди рд╕реНрдЯреЙрдХ рдореЛрдЬрд╛

1. рддреБрдордЪрд╛ `stock-counter` рдкреНрд░рдХрд▓реНрдк рдЙрдШрдбрд╛, рдЬрд░ рддреЛ рдЖрдзреАрдЪ рдЙрдШрдбрд▓реЗрд▓рд╛ рдирд╕реЗрд▓.

1. `processPredictions` рдлрдВрдХреНрд╢рдирдЪреНрдпрд╛ рд╡рд░ рдЦрд╛рд▓реАрд▓ рдХреЛрдб рдЬреЛрдбрд╛:

    ```cpp
    const float overlap_threshold = 0.20f;
    ```

    рд╣реЗ рдмреЙрдХреНрд╕рд┐рдВрдЧ рдмреЙрдХреНрд╕реЗрд╕ рдПрдХрд╛рдЪ рд╡рд╕реНрддреВ рдорд╛рдирд▓реЗ рдЬрд╛рдгреНрдпрд╛рдкреВрд░реНрд╡реА рдкрд░рд╡рд╛рдирдЧреА рджрд┐рд▓реЗрд▓реНрдпрд╛ рдЯрдХреНрдХреЗрд╡рд╛рд░реА рдУрд╡реНрд╣рд░рд▓реЕрдкрдЪреА рд╡реНрдпрд╛рдЦреНрдпрд╛ рдХрд░рддреЗ. 0.20 рдореНрд╣рдгрдЬреЗ 20% рдУрд╡реНрд╣рд░рд▓реЕрдк.

1. рдпрд╛рдЦрд╛рд▓реА, рдЖрдгрд┐ `processPredictions` рдлрдВрдХреНрд╢рдирдЪреНрдпрд╛ рд╡рд░, рджреЛрди рдЖрдпрддрд╛рдВрдордзреАрд▓ рдУрд╡реНрд╣рд░рд▓реЕрдкрдЪреА рдЧрдгрдирд╛ рдХрд░рдгреНрдпрд╛рд╕рд╛рдареА рдЦрд╛рд▓реАрд▓ рдХреЛрдб рдЬреЛрдбрд╛:

    ```cpp
    struct Point {
        float x, y;
    };

    struct Rect {
        Point topLeft, bottomRight;
    };

    float area(Rect rect)
    {
        return abs(rect.bottomRight.x - rect.topLeft.x) * abs(rect.bottomRight.y - rect.topLeft.y);
    }
     
    float overlappingArea(Rect rect1, Rect rect2)
    {
        float left = max(rect1.topLeft.x, rect2.topLeft.x);
        float right = min(rect1.bottomRight.x, rect2.bottomRight.x);
        float top = max(rect1.topLeft.y, rect2.topLeft.y);
        float bottom = min(rect1.bottomRight.y, rect2.bottomRight.y);
    
    
        if ( right > left && bottom > top )
        {
            return (right-left)*(bottom-top);
        }
        
        return 0.0f;
    }
    ```

    рд╣рд╛ рдХреЛрдб рдкреНрд░рддрд┐рдореЗрд╡рд░реАрд▓ рдкреЙрдЗрдВрдЯреНрд╕ рд╕рд╛рдард╡рдгреНрдпрд╛рд╕рд╛рдареА `Point` рд╕реНрдЯреНрд░рдХреНрдЯ рдкрд░рд┐рднрд╛рд╖рд┐рдд рдХрд░рддреЛ рдЖрдгрд┐ рд╡рд░рдЪреНрдпрд╛ рдбрд╛рд╡реНрдпрд╛ рдЖрдгрд┐ рдЦрд╛рд▓рдЪреНрдпрд╛ рдЙрдЬрд╡реНрдпрд╛ рд╕рдордиреНрд╡рдпрд╛рдЪрд╛ рд╡рд╛рдкрд░ рдХрд░реВрди рдЖрдпрдд рдкрд░рд┐рднрд╛рд╖рд┐рдд рдХрд░рдгреНрдпрд╛рд╕рд╛рдареА `Rect` рд╕реНрдЯреНрд░рдХреНрдЯ рдкрд░рд┐рднрд╛рд╖рд┐рдд рдХрд░рддреЛ. рддреНрдпрд╛рдирдВрддрд░ `area` рдлрдВрдХреНрд╢рди рдкрд░рд┐рднрд╛рд╖рд┐рдд рдХрд░рддреЗ рдЬреЗ рд╡рд░рдЪреНрдпрд╛ рдбрд╛рд╡реНрдпрд╛ рдЖрдгрд┐ рдЦрд╛рд▓рдЪреНрдпрд╛ рдЙрдЬрд╡реНрдпрд╛ рд╕рдордиреНрд╡рдпрд╛рд╡рд░реВрди рдЖрдпрддрд╛рдЪреЗ рдХреНрд╖реЗрддреНрд░рдлрд│ рдЧрдгрдирд╛ рдХрд░рддреЗ.

    рдкреБрдвреЗ, `overlappingArea` рдлрдВрдХреНрд╢рди рдкрд░рд┐рднрд╛рд╖рд┐рдд рдХрд░рддреЗ рдЬреЗ 2 рдЖрдпрддрд╛рдВрдЪреЗ рдУрд╡реНрд╣рд░рд▓реЕрдкрд┐рдВрдЧ рдХреНрд╖реЗрддреНрд░рдлрд│ рдЧрдгрдирд╛ рдХрд░рддреЗ. рдЬрд░ рддреЗ рдУрд╡реНрд╣рд░рд▓реЕрдк рдХрд░рдд рдирд╕рддреАрд▓, рддрд░ рддреЗ 0 рдкрд░рдд рдХрд░рддреЗ.

1. `overlappingArea` рдлрдВрдХреНрд╢рдирдЪреНрдпрд╛ рдЦрд╛рд▓реА, рдмреЙрдХреНрд╕рд┐рдВрдЧ рдмреЙрдХреНрд╕рд▓рд╛ `Rect` рдордзреНрдпреЗ рд░реВрдкрд╛рдВрддрд░рд┐рдд рдХрд░рдгреНрдпрд╛рд╕рд╛рдареА рдПрдХ рдлрдВрдХреНрд╢рди рдШреЛрд╖рд┐рдд рдХрд░рд╛:

    ```cpp
    Rect rectFromBoundingBox(JsonVariant prediction)
    {
        JsonObject bounding_box = prediction["boundingBox"].as<JsonObject>();
    
        float left = bounding_box["left"].as<float>();
        float top = bounding_box["top"].as<float>();
        float width = bounding_box["width"].as<float>();
        float height = bounding_box["height"].as<float>();
    
        Point topLeft = {left, top};
        Point bottomRight = {left + width, top + height};
    
        return {topLeft, bottomRight};
    }
    ```

    рд╣реЗ рдСрдмреНрдЬреЗрдХреНрдЯ рдбрд┐рдЯреЗрдХреНрдЯрд░рдордзреВрди рднрд╛рдХреАрдд рдШреЗрддреЛ, рдмреЙрдХреНрд╕рд┐рдВрдЧ рдмреЙрдХреНрд╕ рдХрд╛рдврддреЛ рдЖрдгрд┐ рдмреЙрдХреНрд╕рд┐рдВрдЧ рдмреЙрдХреНрд╕рд╡рд░реАрд▓ рдореВрд▓реНрдпрд╛рдВрдЪрд╛ рд╡рд╛рдкрд░ рдХрд░реВрди рдЖрдпрдд рдкрд░рд┐рднрд╛рд╖рд┐рдд рдХрд░рддреЛ. рдЙрдЬрд╡реНрдпрд╛ рдмрд╛рдЬреВрдЪреА рдЧрдгрдирд╛ рдбрд╛рд╡реАрдХрдбреВрди рд░реБрдВрджреА рдЬреЛрдбреВрди рдХреЗрд▓реА рдЬрд╛рддреЗ. рддрд│рд╛рдЪреА рдЧрдгрдирд╛ рд╡рд░реВрди рдЙрдВрдЪреА рдЬреЛрдбреВрди рдХреЗрд▓реА рдЬрд╛рддреЗ.

1. рднрд╛рдХреАрдд рдПрдХрдореЗрдХрд╛рдВрд╢реА рддреБрд▓рдирд╛ рдХрд░рдгреЗ рдЖрд╡рд╢реНрдпрдХ рдЖрд╣реЗ, рдЖрдгрд┐ рдЬрд░ 2 рднрд╛рдХреАрддрд╛рдВрдордзреНрдпреЗ рджрд┐рд▓реЗрд▓реНрдпрд╛ рдЯрдХреНрдХреЗрд╡рд╛рд░реАрдкреЗрдХреНрд╖рд╛ рдЬрд╛рд╕реНрдд рдУрд╡реНрд╣рд░рд▓реЕрдк рдЕрд╕реЗрд▓, рддрд░ рддреНрдпрд╛рдкреИрдХреА рдПрдХ рд╣рдЯрд╡рд▓реЗ рдкрд╛рд╣рд┐рдЬреЗ. рдУрд╡реНрд╣рд░рд▓реЕрдк рдереНрд░реЗрд╢реЛрд▓реНрдб рдЯрдХреНрдХреЗрд╡рд╛рд░реА рдЖрд╣реЗ, рддреНрдпрд╛рдореБрд│реЗ рдмреЙрдХреНрд╕рд┐рдВрдЧ рдмреЙрдХреНрд╕рдЪреНрдпрд╛ рд╕рд░реНрд╡рд╛рдд рд▓рд╣рд╛рди рдЖрдХрд╛рд░рд╛рдЪреНрдпрд╛ рдЯрдХреНрдХреЗрд╡рд╛рд░реАрдиреЗ рдЧреБрдгрд╛рдХрд╛рд░ рдХрд░рдгреЗ рдЖрд╡рд╢реНрдпрдХ рдЖрд╣реЗ, рдЬреЗрдгреЗрдХрд░реВрди рдУрд╡реНрд╣рд░рд▓реЕрдк рджрд┐рд▓реЗрд▓реНрдпрд╛ рдЯрдХреНрдХреЗрд╡рд╛рд░реАрдкреЗрдХреНрд╖рд╛ рдЬрд╛рд╕реНрдд рдЖрд╣реЗ рдХрд╛ рд╣реЗ рддрдкрд╛рд╕рддрд╛ рдпреЗрдИрд▓. `processPredictions` рдлрдВрдХреНрд╢рдирдЪреА рд╕рд╛рдордЧреНрд░реА рд╣рдЯрд╡реВрди рд╕реБрд░реБрд╡рд╛рдд рдХрд░рд╛.

1. рд░рд┐рдХрд╛рдореНрдпрд╛ `processPredictions` рдлрдВрдХреНрд╢рдирдордзреНрдпреЗ рдЦрд╛рд▓реАрд▓ рдХреЛрдб рдЬреЛрдбрд╛:

    ```cpp
    std::vector<JsonVariant> passed_predictions;

    for (int i = 0; i < predictions.size(); ++i)
    {
        Rect prediction_1_rect = rectFromBoundingBox(predictions[i]);
        float prediction_1_area = area(prediction_1_rect);
        bool passed = true;

        for (int j = i + 1; j < predictions.size(); ++j)
        {
            Rect prediction_2_rect = rectFromBoundingBox(predictions[j]);
            float prediction_2_area = area(prediction_2_rect);

            float overlap = overlappingArea(prediction_1_rect, prediction_2_rect);
            float smallest_area = min(prediction_1_area, prediction_2_area);

            if (overlap > (overlap_threshold * smallest_area))
            {
                passed = false;
                break;
            }
        }

        if (passed)
        {
            passed_predictions.push_back(predictions[i]);
        }
    }
    ```

    рд╣рд╛ рдХреЛрдб рдУрд╡реНрд╣рд░рд▓реЕрдк рди рдХрд░рдгрд╛рд▒реНрдпрд╛ рднрд╛рдХреАрдд рд╕рд╛рдард╡рдгреНрдпрд╛рд╕рд╛рдареА рдПрдХ рд╡реНрд╣реЗрдХреНрдЯрд░ рдШреЛрд╖рд┐рдд рдХрд░рддреЛ. рддреНрдпрд╛рдирдВрддрд░ рд╕рд░реНрд╡ рднрд╛рдХреАрддрд╛рдВрдордзреВрди рд▓реВрдк рдХрд░рддреЛ, рдмреЙрдХреНрд╕рд┐рдВрдЧ рдмреЙрдХреНрд╕рдордзреВрди `Rect` рддрдпрд╛рд░ рдХрд░рддреЛ.

    рдкреБрдвреЗ, рд╣рд╛ рдХреЛрдб рдЙрд░реНрд╡рд░рд┐рдд рднрд╛рдХреАрддрд╛рдВрдордзреВрди рд▓реВрдк рдХрд░рддреЛ, рд╕рдзреНрдпрд╛рдЪреНрдпрд╛ рднрд╛рдХреАрддрд╛рдирдВрддрд░ рд╕реБрд░реВ рд╣реЛрддреЛ. рдпрд╛рдореБрд│реЗ рднрд╛рдХреАрдд рдПрдХрд╛рдкреЗрдХреНрд╖рд╛ рдЬрд╛рд╕реНрдд рд╡реЗрд│рд╛ рддреБрд▓рдирд╛ рд╣реЛрдгреНрдпрд╛рдкрд╛рд╕реВрди рдерд╛рдВрдмрддреЗ - рдПрдХрджрд╛ 1 рдЖрдгрд┐ 2 рдЪреА рддреБрд▓рдирд╛ рдЭрд╛рд▓реА рдХреА, 2 рдЪреА 1 рд╕реЛрдмрдд рддреБрд▓рдирд╛ рдХрд░рдгреНрдпрд╛рдЪреА рдЧрд░рдЬ рдирд╛рд╣реА, рдлрдХреНрдд 3, 4, рдЗрддреНрдпрд╛рджреАрдВрд╕реЛрдмрдд.

    рдкреНрд░рддреНрдпреЗрдХ рднрд╛рдХреАрдд рдЬреЛрдбреАрдд рдУрд╡реНрд╣рд░рд▓реЕрдкрд┐рдВрдЧ рдХреНрд╖реЗрддреНрд░рдлрд│ рдЧрдгрдирд╛ рдХреЗрд▓реА рдЬрд╛рддреЗ. рддреНрдпрд╛рдирдВрддрд░ рд╣реЗ рд╕рд░реНрд╡рд╛рдд рд▓рд╣рд╛рди рдмреЙрдХреНрд╕рд┐рдВрдЧ рдмреЙрдХреНрд╕рдЪреНрдпрд╛ рдХреНрд╖реЗрддреНрд░рдлрд│рд╛рд╢реА рддреБрд▓рдирд╛ рдХреЗрд▓реЗ рдЬрд╛рддреЗ - рдЬрд░ рдУрд╡реНрд╣рд░рд▓реЕрдк рдмреЙрдХреНрд╕рд┐рдВрдЧ рдмреЙрдХреНрд╕рдЪреНрдпрд╛ рджрд┐рд▓реЗрд▓реНрдпрд╛ рдЯрдХреНрдХреЗрд╡рд╛рд░реАрдкреЗрдХреНрд╖рд╛ рдЬрд╛рд╕реНрдд рдЕрд╕реЗрд▓, рддрд░ рднрд╛рдХреАрдд рдкрд╛рд╕ рдЭрд╛рд▓реЗрд▓реЗ рдирд╛рд╣реА рдЕрд╕реЗ рдЪрд┐рдиреНрд╣рд╛рдВрдХрд┐рдд рдХреЗрд▓реЗ рдЬрд╛рддреЗ. рдЬрд░ рд╕рд░реНрд╡ рдУрд╡реНрд╣рд░рд▓реЕрдкреНрд╕рдЪреА рддреБрд▓рдирд╛ рдХреЗрд▓реНрдпрд╛рдирдВрддрд░ рднрд╛рдХреАрдд рддрдкрд╛рд╕ рдкрд╛рд╕ рдХрд░рдд рдЕрд╕реЗрд▓, рддрд░ рддреЗ `passed_predictions` рд╕рдВрдЧреНрд░рд╣рд╛рдд рдЬреЛрдбрд▓реЗ рдЬрд╛рддреЗ.

    > ЁЯТБ рд╣реЗ рдУрд╡реНрд╣рд░рд▓реЕрдкреНрд╕ рдХрд╛рдвреВрди рдЯрд╛рдХрдгреНрдпрд╛рдЪрд╛ рдЕрддрд┐рд╢рдп рд╕рд╛рдзрд╛ рдорд╛рд░реНрдЧ рдЖрд╣реЗ, рдлрдХреНрдд рдУрд╡реНрд╣рд░рд▓реЕрдкрд┐рдВрдЧ рдЬреЛрдбреАрдд рдкрд╣рд┐рд▓рд╛ рдХрд╛рдвреВрди рдЯрд╛рдХрдгреЗ. рдЙрддреНрдкрд╛рджрди рдХреЛрдбрд╕рд╛рдареА, рддреБрдореНрд╣рд╛рд▓рд╛ рдпреЗрдереЗ рдЕрдзрд┐рдХ рд▓реЙрдЬрд┐рдХ рдареЗрд╡рд╛рдпрдЪреЗ рдЕрд╕реЗрд▓, рдЬрд╕реЗ рдХреА рдЕрдиреЗрдХ рд╡рд╕реНрддреВрдВрдЪреНрдпрд╛ рдУрд╡реНрд╣рд░рд▓реЕрдкреНрд╕рдЪрд╛ рд╡рд┐рдЪрд╛рд░ рдХрд░рдгреЗ, рдХрд┐рдВрд╡рд╛ рдПрдХ рдмреЙрдХреНрд╕рд┐рдВрдЧ рдмреЙрдХреНрд╕ рджреБрд╕рд▒реНрдпрд╛рдиреЗ рд╕рдорд╛рд╡рд┐рд╖реНрдЯ рдХреЗрд▓рд╛ рдЕрд╕рд▓реНрдпрд╛рд╕.

1. рдпрд╛рдирдВрддрд░, рдкрд╛рд╕ рдЭрд╛рд▓реЗрд▓реНрдпрд╛ рднрд╛рдХреАрддрд╛рдВрдЪрд╛ рддрдкрд╢реАрд▓ рд╕реАрд░рд┐рдпрд▓ рдореЙрдирд┐рдЯрд░рд╡рд░ рдкрд╛рдард╡рдгреНрдпрд╛рд╕рд╛рдареА рдЦрд╛рд▓реАрд▓ рдХреЛрдб рдЬреЛрдбрд╛:

    ```cpp
    for(JsonVariant prediction : passed_predictions)
    {
        String boundingBox = prediction["boundingBox"].as<String>();
        String tag = prediction["tagName"].as<String>();
        float probability = prediction["probability"].as<float>();

        char buff[32];
        sprintf(buff, "%s:\t%.2f%%\t%s", tag.c_str(), probability * 100.0, boundingBox.c_str());
        Serial.println(buff);
    }
    ```

    рд╣рд╛ рдХреЛрдб рдкрд╛рд╕ рдЭрд╛рд▓реЗрд▓реНрдпрд╛ рднрд╛рдХреАрддрд╛рдВрдордзреВрди рд▓реВрдк рдХрд░рддреЛ рдЖрдгрд┐ рддреНрдпрд╛рдВрдЪрд╛ рддрдкрд╢реАрд▓ рд╕реАрд░рд┐рдпрд▓ рдореЙрдирд┐рдЯрд░рд╡рд░ рдкреНрд░рд┐рдВрдЯ рдХрд░рддреЛ.

1. рдпрд╛рдЦрд╛рд▓реА, рдореЛрдЬрд▓реЗрд▓реНрдпрд╛ рд╡рд╕реНрддреВрдВрдЪреА рд╕рдВрдЦреНрдпрд╛ рд╕реАрд░рд┐рдпрд▓ рдореЙрдирд┐рдЯрд░рд╡рд░ рдкреНрд░рд┐рдВрдЯ рдХрд░рдгреНрдпрд╛рд╕рд╛рдареА рдХреЛрдб рдЬреЛрдбрд╛:

    ```cpp
    Serial.print("Counted ");
    Serial.print(passed_predictions.size());
    Serial.println(" stock items.");
    ```

    рд╣реЗ рдирдВрддрд░ IoT рд╕реЗрд╡реЗрд▓рд╛ рдкрд╛рдард╡рд▓реЗ рдЬрд╛рдК рд╢рдХрддреЗ, рдЬреЗрдгреЗрдХрд░реВрди рд╕реНрдЯреЙрдХ рд╕реНрддрд░ рдХрдореА рдЕрд╕рд▓реНрдпрд╛рд╕ рдЕрд▓рд░реНрдЯ рдкрд╛рдард╡рддрд╛ рдпреЗрдИрд▓.

1. рддреБрдордЪрд╛ рдХреЛрдб рдЕрдкрд▓реЛрдб рдХрд░рд╛ рдЖрдгрд┐ рдЪрд╛рд▓рд╡рд╛. рд╢реЗрд▓реНрдлрд╡рд░реАрд▓ рд╡рд╕реНрддреВрдВрд╡рд░ рдХреЕрдореЗрд░рд╛ рдкреЙрдЗрдВрдЯ рдХрд░рд╛ рдЖрдгрд┐ C рдмрдЯрдг рджрд╛рдмрд╛. `overlap_threshold` рдореВрд▓реНрдп рд╕рдорд╛рдпреЛрдЬрд┐рдд рдХрд░реВрди рднрд╛рдХреАрдд рджреБрд░реНрд▓рдХреНрд╖рд┐рдд рд╣реЛрдд рдЕрд╕рд▓реНрдпрд╛рдЪреЗ рдкрд╣рд╛.

    ```output
    Connecting to WiFi..
    Connected!
    Image captured
    Image read to buffer with length 17416
    tomato paste:   35.84%  {"left":0.395631,"top":0.215897,"width":0.180768,"height":0.359364}
    tomato paste:   35.87%  {"left":0.378554,"top":0.583012,"width":0.14824,"height":0.359382}
    tomato paste:   34.11%  {"left":0.699024,"top":0.592617,"width":0.124411,"height":0.350456}
    tomato paste:   35.16%  {"left":0.513006,"top":0.647853,"width":0.187472,"height":0.325817}
    Counted 4 stock items.
    ```

> ЁЯТБ рддреБрдореНрд╣реА рд╣рд╛ рдХреЛрдб [code-count/wio-terminal](../../../../../5-retail/lessons/2-check-stock-device/code-count/wio-terminal) рдлреЛрд▓реНрдбрд░рдордзреНрдпреЗ рд╢реЛрдзреВ рд╢рдХрддрд╛.

ЁЯША рддреБрдордЪрд╛ рд╕реНрдЯреЙрдХ рдХрд╛рдЙрдВрдЯрд░ рдкреНрд░реЛрдЧреНрд░рд╛рдо рдпрд╢рд╕реНрд╡реА рдЭрд╛рд▓рд╛!

---

**рдЕрд╕реНрд╡реАрдХрд░рдг**:  
рд╣рд╛ рджрд╕реНрддрдРрд╡рдЬ AI рднрд╛рд╖рд╛рдВрддрд░ рд╕реЗрд╡рд╛ [Co-op Translator](https://github.com/Azure/co-op-translator) рдЪрд╛ рд╡рд╛рдкрд░ рдХрд░реВрди рднрд╛рд╖рд╛рдВрддрд░рд┐рдд рдХрд░рдгреНрдпрд╛рдд рдЖрд▓рд╛ рдЖрд╣реЗ. рдЖрдореНрд╣реА рдЕрдЪреВрдХрддреЗрд╕рд╛рдареА рдкреНрд░рдпрддреНрдирд╢реАрд▓ рдЕрд╕рд▓реЛ рддрд░реА, рдХреГрдкрдпрд╛ рд▓рдХреНрд╖рд╛рдд рдШреНрдпрд╛ рдХреА рд╕реНрд╡рдпрдВрдЪрд▓рд┐рдд рднрд╛рд╖рд╛рдВрддрд░рд╛рдВрдордзреНрдпреЗ рддреНрд░реБрдЯреА рдХрд┐рдВрд╡рд╛ рдЕрдЪреВрдХрддреЗрдЪрд╛ рдЕрднрд╛рд╡ рдЕрд╕реВ рд╢рдХрддреЛ. рдореВрд│ рднрд╛рд╖реЗрддреАрд▓ рдореВрд│ рджрд╕реНрддрдРрд╡рдЬ рд╣рд╛ рдЕрдзрд┐рдХреГрдд рд╕реНрд░реЛрдд рдорд╛рдирд▓рд╛ рдЬрд╛рд╡рд╛. рдорд╣рддреНрддреНрд╡рд╛рдЪреНрдпрд╛ рдорд╛рд╣рд┐рддреАрд╕рд╛рдареА рд╡реНрдпрд╛рд╡рд╕рд╛рдпрд┐рдХ рдорд╛рдирд╡реА рднрд╛рд╖рд╛рдВрддрд░рд╛рдЪреА рд╢рд┐рдлрд╛рд░рд╕ рдХреЗрд▓реА рдЬрд╛рддреЗ. рдпрд╛ рднрд╛рд╖рд╛рдВрддрд░рд╛рдЪрд╛ рд╡рд╛рдкрд░ рдХреЗрд▓реНрдпрд╛рдореБрд│реЗ рдЙрджреНрднрд╡рдгрд╛рд▒реНрдпрд╛ рдХреЛрдгрддреНрдпрд╛рд╣реА рдЧреИрд░рд╕рдордЬ рдХрд┐рдВрд╡рд╛ рдЪреБрдХреАрдЪреНрдпрд╛ рдЕрд░реНрдерд╛рд╕рд╛рдареА рдЖрдореНрд╣реА рдЬрдмрд╛рдмрджрд╛рд░ рд░рд╛рд╣рдгрд╛рд░ рдирд╛рд╣реА.