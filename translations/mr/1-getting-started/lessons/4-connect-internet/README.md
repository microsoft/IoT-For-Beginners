<!--
CO_OP_TRANSLATOR_METADATA:
{
  "original_hash": "71b5040e0b3472f1c0949c9b55f224c0",
  "translation_date": "2025-08-27T12:23:28+00:00",
  "source_file": "1-getting-started/lessons/4-connect-internet/README.md",
  "language_code": "mr"
}
-->
# рддреБрдордЪрдВ рдбрд┐рд╡реНрд╣рд╛рдЗрд╕ рдЗрдВрдЯрд░рдиреЗрдЯрд▓рд╛ рдХрд╕рдВ рдЬреЛрдбрд╛рдпрдЪрдВ

![рдпрд╛ рдзрдбреНрдпрд╛рдЪрдВ рд╕реНрдХреЗрдЪ рдиреЛрдЯ](../../../../../translated_images/lesson-4.7344e074ea68fa545fd320b12dce36d72dd62d28c3b4596cb26cf315f434b98f.mr.jpg)

> рд╕реНрдХреЗрдЪ рдиреЛрдЯ [рдирд┐рддреНрдп рдирд░рд╕рд┐рдВрд╣рди](https://github.com/nitya) рдпрд╛рдВрдиреА рддрдпрд╛рд░ рдХреЗрд▓реЗ рдЖрд╣реЗ. рдореЛрдареНрдпрд╛ рдЖрд╡реГрддреНрддреАрд╕рд╛рдареА рдкреНрд░рддрд┐рдореЗрд╡рд░ рдХреНрд▓рд┐рдХ рдХрд░рд╛.

рд╣рд╛ рдзрдбрд╛ [Hello IoT рдорд╛рд▓рд┐рдХрд╛](https://youtube.com/playlist?list=PLmsFUfdnGr3xRts0TIwyaHyQuHaNQcb6-) рдЪрд╛ рднрд╛рдЧ рдореНрд╣рдгреВрди [Microsoft Reactor](https://developer.microsoft.com/reactor/?WT.mc_id=academic-17441-jabenn) рдордзреНрдпреЗ рд╢рд┐рдХрд╡рд▓рд╛ рдЧреЗрд▓рд╛. рд╣рд╛ рдзрдбрд╛ рджреЛрди рд╡реНрд╣рд┐рдбрд┐рдУрдВрдордзреНрдпреЗ рд╢рд┐рдХрд╡рд▓рд╛ рдЧреЗрд▓рд╛ - рдПрдХ рддрд╛рд╕рд╛рдЪрд╛ рдзрдбрд╛ рдЖрдгрд┐ рдПрдХ рддрд╛рд╕рд╛рдЪреА рдСрдлрд┐рд╕ рдЖрд╡рд░рд╛рдЪреА рд╕рддреНрд░ рдЬреНрдпрд╛рдордзреНрдпреЗ рдзрдбреНрдпрд╛рдЪреЗ рднрд╛рдЧ рдЕрдзрд┐рдХ рд╕рдЦреЛрд▓рдкрдгреЗ рд╕рдордЬрд╛рд╡реВрди рд╕рд╛рдВрдЧрд┐рддрд▓реЗ рдЖрдгрд┐ рдкреНрд░рд╢реНрдирд╛рдВрдЪреА рдЙрддреНрддрд░реЗ рджрд┐рд▓реА.

[![рдзрдбрд╛ 4: рддреБрдордЪрдВ рдбрд┐рд╡реНрд╣рд╛рдЗрд╕ рдЗрдВрдЯрд░рдиреЗрдЯрд▓рд╛ рдХрд╕рдВ рдЬреЛрдбрд╛рдпрдЪрдВ](https://img.youtube.com/vi/O4dd172mZhs/0.jpg)](https://youtu.be/O4dd172mZhs)

[![рдзрдбрд╛ 4: рддреБрдордЪрдВ рдбрд┐рд╡реНрд╣рд╛рдЗрд╕ рдЗрдВрдЯрд░рдиреЗрдЯрд▓рд╛ рдХрд╕рдВ рдЬреЛрдбрд╛рдпрдЪрдВ - рдСрдлрд┐рд╕ рдЖрд╡рд░](https://img.youtube.com/vi/j-cVCzRDE2Q/0.jpg)](https://youtu.be/j-cVCzRDE2Q)

> ЁЯОе рд╡рд░ рджрд┐рд▓реЗрд▓реНрдпрд╛ рдкреНрд░рддрд┐рдорд╛рдВрд╡рд░ рдХреНрд▓рд┐рдХ рдХрд░реВрди рд╡реНрд╣рд┐рдбрд┐рдУ рдкрд╛рд╣рд╛

## рдзрдбреНрдпрд╛рдкреВрд░реНрд╡реАрдЪрд╛ рдкреНрд░рд╢реНрдирдордВрдЬреВрд╖рд╛

[рдзрдбреНрдпрд╛рдкреВрд░реНрд╡реАрдЪрд╛ рдкреНрд░рд╢реНрдирдордВрдЬреВрд╖рд╛](https://black-meadow-040d15503.1.azurestaticapps.net/quiz/7)

## рдкрд░рд┐рдЪрдп

IoT рдордзреАрд▓ **I** рдореНрд╣рдгрдЬреЗ **Internet** - рдХреНрд▓рд╛рдЙрдб рдХрдиреЗрдХреНрдЯрд┐рд╡реНрд╣рд┐рдЯреА рдЖрдгрд┐ рд╕реЗрд╡рд╛ рдЬреНрдпрд╛рдореБрд│реЗ IoT рдбрд┐рд╡реНрд╣рд╛рдЗрд╕рдЪреА рдЕрдиреЗрдХ рд╡реИрд╢рд┐рд╖реНрдЯреНрдпреЗ рд╢рдХреНрдп рд╣реЛрддрд╛рдд, рдЬрд╕реЗ рдХреА рдбрд┐рд╡реНрд╣рд╛рдЗрд╕рд╢реА рдЬреЛрдбрд▓реЗрд▓реНрдпрд╛ рд╕реЗрдиреНрд╕рд░реНрд╕рдордзреВрди рдореЛрдЬрдорд╛рдк рдЧреЛрд│рд╛ рдХрд░рдгреЗ рдХрд┐рдВрд╡рд╛ рдЕреЕрдХреНрдЪреНрдпреБрдПрдЯрд░реНрд╕ рдирд┐рдпрдВрддреНрд░рд┐рдд рдХрд░рдгреНрдпрд╛рд╕рд╛рдареА рд╕рдВрджреЗрд╢ рдкрд╛рдард╡рдгреЗ. IoT рдбрд┐рд╡реНрд╣рд╛рдЗрд╕ рд╕рд╛рдорд╛рдиреНрдпрддрдГ рдПрдХрд╛рдЪ рдХреНрд▓рд╛рдЙрдб IoT рд╕реЗрд╡реЗрд╢реА рдорд╛рдирдХ рд╕рдВрдкреНрд░реЗрд╖рдг рдкреНрд░реЛрдЯреЛрдХреЙрд▓ рд╡рд╛рдкрд░реВрди рдЬреЛрдбрд▓реЗ рдЬрд╛рддрд╛рдд, рдЖрдгрд┐ рддреА рд╕реЗрд╡рд╛ рддреБрдордЪреНрдпрд╛ IoT рдЕреЕрдкреНрд▓рд┐рдХреЗрд╢рдирд╢реА рдЬреЛрдбрд▓реЗрд▓реА рдЕрд╕рддреЗ, рдЬрд╕реЗ рдХреА AI рд╕реЗрд╡рд╛ рдбреЗрдЯрд╛ рдЖрдзрд╛рд░рд┐рдд рд╕реНрдорд╛рд░реНрдЯ рдирд┐рд░реНрдгрдп рдШреЗрдгреНрдпрд╛рд╕рд╛рдареА рдХрд┐рдВрд╡рд╛ рдирд┐рдпрдВрддреНрд░рдг рдЖрдгрд┐ рдЕрд╣рд╡рд╛рд▓рд╛рд╕рд╛рдареА рд╡реЗрдм рдЕреЕрдкреНрд╕.

> ЁЯОУ рд╕реЗрдиреНрд╕рд░реНрд╕рдордзреВрди рдЧреЛрд│рд╛ рдХреЗрд▓реЗрд▓рд╛ рдбреЗрдЯрд╛ рдЖрдгрд┐ рдХреНрд▓рд╛рдЙрдбрд▓рд╛ рдкрд╛рдард╡рд▓реЗрд▓рд╛ рдбреЗрдЯрд╛ рдЯреЗрд▓рд┐рдореЗрдЯреНрд░реА рдореНрд╣рдгреВрди рдУрд│рдЦрд▓рд╛ рдЬрд╛рддреЛ.

IoT рдбрд┐рд╡реНрд╣рд╛рдЗрд╕ рдХреНрд▓рд╛рдЙрдбрдордзреВрди рд╕рдВрджреЗрд╢ рдкреНрд░рд╛рдкреНрдд рдХрд░реВ рд╢рдХрддрд╛рдд. рд╣реЗ рд╕рдВрджреЗрд╢ рд╕рд╣рд╕рд╛ рдЖрджреЗрд╢ рдЕрд╕рддрд╛рдд - рдореНрд╣рдгрдЬреЗ рдПрдЦрд╛рджреА рдХреГрддреА рдХрд░рдгреНрдпрд╛рд╕рд╛рдареА рд╕реВрдЪрдирд╛, рдЕрдВрддрд░реНрдЧрдд (рдЬрд╕реЗ рдХреА рд░реАрдмреВрдЯ рдХрд┐рдВрд╡рд╛ рдлрд░реНрдорд╡реЗрдЕрд░ рдЕрдкрдбреЗрдЯ) рдХрд┐рдВрд╡рд╛ рдЕреЕрдХреНрдЪреНрдпреБрдПрдЯрд░ рд╡рд╛рдкрд░реВрди (рдЬрд╕реЗ рдХреА рджрд┐рд╡рд╛ рдЪрд╛рд▓реВ рдХрд░рдгреЗ).

рдпрд╛ рдзрдбреНрдпрд╛рдд IoT рдбрд┐рд╡реНрд╣рд╛рдЗрд╕ рдХреНрд▓рд╛рдЙрдбрд╢реА рдХрдиреЗрдХреНрдЯ рд╣реЛрдгреНрдпрд╛рд╕рд╛рдареА рд╡рд╛рдкрд░реВ рд╢рдХрдгрд╛рд▒реНрдпрд╛ рдХрд╛рд╣реА рд╕рдВрдкреНрд░реЗрд╖рдг рдкреНрд░реЛрдЯреЛрдХреЙрд▓реНрд╕рдЪреА рдУрд│рдЦ рдХрд░реВрди рджрд┐рд▓реА рдЬрд╛рдИрд▓, рдЖрдгрд┐ рддреЗ рдкрд╛рдард╡реВ рдХрд┐рдВрд╡рд╛ рдкреНрд░рд╛рдкреНрдд рдХрд░реВ рд╢рдХрдгрд╛рд▒реНрдпрд╛ рдбреЗрдЯрд╛рдЪреНрдпрд╛ рдкреНрд░рдХрд╛рд░рд╛рдВрдмрджреНрджрд▓ рдЪрд░реНрдЪрд╛ рдХреЗрд▓реА рдЬрд╛рдИрд▓. рддреБрдореНрд╣реА рдпрд╛рд╡рд░ рдкреНрд░рддреНрдпрдХреНрд╖ рдХрд╛рдо рдХрд░рд╛рд▓, рддреБрдордЪреНрдпрд╛ рдирд╛рдИрдЯрд▓рд╛рдЗрдЯрдордзреНрдпреЗ рдЗрдВрдЯрд░рдиреЗрдЯ рдирд┐рдпрдВрддреНрд░рдг рдЬреЛрдбрд╛рд▓, LED рдирд┐рдпрдВрддреНрд░рдг рд▓реЙрдЬрд┐рдХ 'рд╕рд░реНрд╡реНрд╣рд░' рдХреЛрдбрдордзреНрдпреЗ рд╣рд▓рд╡реВрди рдЬреЛ рд╕реНрдерд╛рдирд┐рдХ рдкрд╛рддрд│реАрд╡рд░ рдЪрд╛рд▓рддреЛ.

рдпрд╛ рдзрдбреНрдпрд╛рдд рдЖрдкрдг рдХрд╡реНрд╣рд░ рдХрд░реВ:

* [рд╕рдВрдкреНрд░реЗрд╖рдг рдкреНрд░реЛрдЯреЛрдХреЙрд▓реНрд╕](../../../../../1-getting-started/lessons/4-connect-internet)
* [Message Queueing Telemetry Transport (MQTT)](../../../../../1-getting-started/lessons/4-connect-internet)
* [рдЯреЗрд▓рд┐рдореЗрдЯреНрд░реА](../../../../../1-getting-started/lessons/4-connect-internet)
* [рдЖрджреЗрд╢](../../../../../1-getting-started/lessons/4-connect-internet)

## рд╕рдВрдкреНрд░реЗрд╖рдг рдкреНрд░реЛрдЯреЛрдХреЙрд▓реНрд╕

IoT рдбрд┐рд╡реНрд╣рд╛рдЗрд╕ рдЗрдВрдЯрд░рдиреЗрдЯрд╢реА рд╕рдВрд╡рд╛рдж рд╕рд╛рдзрдгреНрдпрд╛рд╕рд╛рдареА рдЕрдиреЗрдХ рд▓реЛрдХрдкреНрд░рд┐рдп рд╕рдВрдкреНрд░реЗрд╖рдг рдкреНрд░реЛрдЯреЛрдХреЙрд▓реНрд╕ рд╡рд╛рдкрд░рддрд╛рдд. рд╕рд░реНрд╡рд╛рдд рд▓реЛрдХрдкреНрд░рд┐рдп рдкреНрд░реЛрдЯреЛрдХреЙрд▓реНрд╕ рдХрд╛рд╣реА рдкреНрд░рдХрд╛рд░рдЪреНрдпрд╛ рдмреНрд░реЛрдХрд░рджреНрд╡рд╛рд░реЗ рдкреНрд░рдХрд╛рд╢рд┐рдд/рд╕рджрд╕реНрдпрддрд╛ рдШреЗрдгреНрдпрд╛рдЪреНрдпрд╛ рд╕рдВрджреЗрд╢рд╛рдВрд╡рд░ рдЖрдзрд╛рд░рд┐рдд рдЕрд╕рддрд╛рдд. IoT рдбрд┐рд╡реНрд╣рд╛рдЗрд╕ рдмреНрд░реЛрдХрд░рд╢реА рдХрдиреЗрдХреНрдЯ рд╣реЛрддрд╛рдд рдЖрдгрд┐ рдЯреЗрд▓рд┐рдореЗрдЯреНрд░реА рдкреНрд░рдХрд╛рд╢рд┐рдд рдХрд░рддрд╛рдд рдЖрдгрд┐ рдЖрджреЗрд╢рд╛рдВрд╕рд╛рдареА рд╕рджрд╕реНрдпрддрд╛ рдШреЗрддрд╛рдд. рдХреНрд▓рд╛рдЙрдб рд╕реЗрд╡рд╛ рджреЗрдЦреАрд▓ рдмреНрд░реЛрдХрд░рд╢реА рдХрдиреЗрдХреНрдЯ рд╣реЛрддрд╛рдд рдЖрдгрд┐ рд╕рд░реНрд╡ рдЯреЗрд▓рд┐рдореЗрдЯреНрд░реА рд╕рдВрджреЗрд╢рд╛рдВрд╕рд╛рдареА рд╕рджрд╕реНрдпрддрд╛ рдШреЗрддрд╛рдд рдЖрдгрд┐ рд╡рд┐рд╢рд┐рд╖реНрдЯ рдбрд┐рд╡реНрд╣рд╛рдЗрд╕ рдХрд┐рдВрд╡рд╛ рдбрд┐рд╡реНрд╣рд╛рдЗрд╕рдЪреНрдпрд╛ рдЧрдЯрд╛рдВрдирд╛ рдЖрджреЗрд╢ рдкреНрд░рдХрд╛рд╢рд┐рдд рдХрд░рддрд╛рдд.

![IoT рдбрд┐рд╡реНрд╣рд╛рдЗрд╕ рдмреНрд░реЛрдХрд░рд╢реА рдХрдиреЗрдХреНрдЯ рд╣реЛрддрд╛рдд, рдЯреЗрд▓рд┐рдореЗрдЯреНрд░реА рдкреНрд░рдХрд╛рд╢рд┐рдд рдХрд░рддрд╛рдд рдЖрдгрд┐ рдЖрджреЗрд╢рд╛рдВрд╕рд╛рдареА рд╕рджрд╕реНрдпрддрд╛ рдШреЗрддрд╛рдд. рдХреНрд▓рд╛рдЙрдб рд╕реЗрд╡рд╛ рдмреНрд░реЛрдХрд░рд╢реА рдХрдиреЗрдХреНрдЯ рд╣реЛрддрд╛рдд, рд╕рд░реНрд╡ рдЯреЗрд▓рд┐рдореЗрдЯреНрд░реАрд╕рд╛рдареА рд╕рджрд╕реНрдпрддрд╛ рдШреЗрддрд╛рдд рдЖрдгрд┐ рд╡рд┐рд╢рд┐рд╖реНрдЯ рдбрд┐рд╡реНрд╣рд╛рдЗрд╕рд▓рд╛ рдЖрджреЗрд╢ рдкрд╛рдард╡рддрд╛рдд.](../../../../../translated_images/pub-sub.7c7ed43fe9fd15d4e1f81a3fd95440413c457acd9bcbe9a43341e30e88db5264.mr.png)

MQTT рд╣рд╛ IoT рдбрд┐рд╡реНрд╣рд╛рдЗрд╕рд╕рд╛рдареА рд╕рд░реНрд╡рд╛рдд рд▓реЛрдХрдкреНрд░рд┐рдп рд╕рдВрдкреНрд░реЗрд╖рдг рдкреНрд░реЛрдЯреЛрдХреЙрд▓ рдЖрд╣реЗ рдЖрдгрд┐ рддреЛ рдпрд╛ рдзрдбреНрдпрд╛рдд рдХрд╡реНрд╣рд░ рдХреЗрд▓рд╛ рдЖрд╣реЗ. рдЗрддрд░ рдкреНрд░реЛрдЯреЛрдХреЙрд▓реНрд╕рдордзреНрдпреЗ AMQP рдЖрдгрд┐ HTTP/HTTPS рдпрд╛рдВрдЪрд╛ рд╕рдорд╛рд╡реЗрд╢ рдЖрд╣реЗ.

## Message Queueing Telemetry Transport (MQTT)

[MQTT](http://mqtt.org) рд╣рд╛ рд╣рд▓рдХрд╛, рдУрдкрди рд╕реНрдЯрдБрдбрд░реНрдб рдореЗрд╕реЗрдЬрд┐рдВрдЧ рдкреНрд░реЛрдЯреЛрдХреЙрд▓ рдЖрд╣реЗ рдЬреЛ рдбрд┐рд╡реНрд╣рд╛рдЗрд╕ рджрд░рдореНрдпрд╛рди рд╕рдВрджреЗрд╢ рдкрд╛рдард╡реВ рд╢рдХрддреЛ. 1999 рдордзреНрдпреЗ рддреЗрд▓рд╛рдЪреНрдпрд╛ рдкрд╛рдЗрдкрд▓рд╛рдЗрдиреНрд╕рдЪреЗ рдирд┐рд░реАрдХреНрд╖рдг рдХрд░рдгреНрдпрд╛рд╕рд╛рдареА рдпрд╛рдЪреА рд░рдЪрдирд╛ рдХрд░рдгреНрдпрд╛рдд рдЖрд▓реА рд╣реЛрддреА, рдЖрдгрд┐ 15 рд╡рд░реНрд╖рд╛рдВрдирдВрддрд░ IBM рдиреЗ рдпрд╛рд▓рд╛ рдУрдкрди рд╕реНрдЯрдБрдбрд░реНрдб рдореНрд╣рдгреВрди рд░рд┐рд▓реАрдЬ рдХреЗрд▓реЗ.

MQTT рдордзреНрдпреЗ рдПрдХ рдмреНрд░реЛрдХрд░ рдЖрдгрд┐ рдЕрдиреЗрдХ рдХреНрд▓рд╛рдпрдВрдЯреНрд╕ рдЕрд╕рддрд╛рдд. рд╕рд░реНрд╡ рдХреНрд▓рд╛рдпрдВрдЯреНрд╕ рдмреНрд░реЛрдХрд░рд╢реА рдХрдиреЗрдХреНрдЯ рд╣реЛрддрд╛рдд, рдЖрдгрд┐ рдмреНрд░реЛрдХрд░ рд╕рдВрдмрдВрдзрд┐рдд рдХреНрд▓рд╛рдпрдВрдЯреНрд╕рдХрдбреЗ рд╕рдВрджреЗрд╢ рд░реВрдЯ рдХрд░рддреЛ. рд╕рдВрджреЗрд╢ рдереЗрдЯ рдПрдЦрд╛рджреНрдпрд╛ рдХреНрд▓рд╛рдпрдВрдЯрд▓рд╛ рдкрд╛рдард╡рдгреНрдпрд╛рдРрд╡рдЬреА рдирд╛рдорд╛рдВрдХрд┐рдд рдЯреЙрдкрд┐рдХреНрд╕ рд╡рд╛рдкрд░реВрди рд░реВрдЯ рдХреЗрд▓реЗ рдЬрд╛рддрд╛рдд. рдХреНрд▓рд╛рдпрдВрдЯ рдПрдЦрд╛рджреНрдпрд╛ рдЯреЙрдкрд┐рдХрд╡рд░ рдкреНрд░рдХрд╛рд╢рд┐рдд рдХрд░реВ рд╢рдХрддреЛ, рдЖрдгрд┐ рддреНрдпрд╛ рдЯреЙрдкрд┐рдХрд╕рд╛рдареА рд╕рджрд╕реНрдпрддрд╛ рдШреЗрддрд▓реЗрд▓реНрдпрд╛ рдХреЛрдгрддреНрдпрд╛рд╣реА рдХреНрд▓рд╛рдпрдВрдЯрд▓рд╛ рд╕рдВрджреЗрд╢ рдкреНрд░рд╛рдкреНрдд рд╣реЛрддреЛ.

![IoT рдбрд┐рд╡реНрд╣рд╛рдЗрд╕ /telemetry рдЯреЙрдкрд┐рдХрд╡рд░ рдЯреЗрд▓рд┐рдореЗрдЯреНрд░реА рдкреНрд░рдХрд╛рд╢рд┐рдд рдХрд░рдд рдЖрд╣реЗ, рдЖрдгрд┐ рдХреНрд▓рд╛рдЙрдб рд╕реЗрд╡рд╛ рддреНрдпрд╛ рдЯреЙрдкрд┐рдХрд╕рд╛рдареА рд╕рджрд╕реНрдпрддрд╛ рдШреЗрдд рдЖрд╣реЗ](../../../../../translated_images/mqtt.cbf7f21d9adc3e17548b359444cc11bb4bf2010543e32ece9a47becf54438c23.mr.png)

тЬЕ рд╕рдВрд╢реЛрдзрди рдХрд░рд╛. рдЬрд░ рддреБрдордЪреНрдпрд╛рдХрдбреЗ рдЕрдиреЗрдХ IoT рдбрд┐рд╡реНрд╣рд╛рдЗрд╕ рдЕрд╕рддреАрд▓, рддрд░ рддреБрдореНрд╣реА рддреБрдордЪрд╛ MQTT рдмреНрд░реЛрдХрд░ рд╕рд░реНрд╡ рд╕рдВрджреЗрд╢ рд╣рд╛рддрд╛рд│рдгреНрдпрд╛рд╕рд╛рдареА рдХрд╕рд╛ рд╕рдХреНрд╖рдо рдХрд░реВ рд╢рдХрддрд╛?

### рддреБрдордЪрдВ IoT рдбрд┐рд╡реНрд╣рд╛рдЗрд╕ MQTT рд╢реА рдХрдиреЗрдХреНрдЯ рдХрд░рд╛

рддреБрдордЪреНрдпрд╛ рдирд╛рдИрдЯрд▓рд╛рдЗрдЯрдордзреНрдпреЗ рдЗрдВрдЯрд░рдиреЗрдЯ рдирд┐рдпрдВрддреНрд░рдг рдЬреЛрдбрдгреНрдпрд╛рдЪрд╛ рдкрд╣рд┐рд▓рд╛ рднрд╛рдЧ рдореНрд╣рдгрдЬреЗ MQTT рдмреНрд░реЛрдХрд░рд╢реА рдХрдиреЗрдХреНрдЯ рдХрд░рдгреЗ.

#### рдХрд╛рд░реНрдп

рддреБрдордЪрдВ рдбрд┐рд╡реНрд╣рд╛рдЗрд╕ MQTT рдмреНрд░реЛрдХрд░рд╢реА рдХрдиреЗрдХреНрдЯ рдХрд░рд╛.

рдпрд╛ рдзрдбреНрдпрд╛рдЪреНрдпрд╛ рдпрд╛ рднрд╛рдЧрд╛рдд, рддреБрдореНрд╣реА рддреБрдордЪрдВ IoT рдирд╛рдИрдЯрд▓рд╛рдЗрдЯ рдЗрдВрдЯрд░рдиреЗрдЯрд╢реА рдХрдиреЗрдХреНрдЯ рдХрд░рд╛рд▓ рдЬреЗрдгреЗрдХрд░реВрди рддреЗ рджреВрд░рд╕реНрдердкрдгреЗ рдирд┐рдпрдВрддреНрд░рд┐рдд рдХрд░рддрд╛ рдпреЗрдИрд▓. рдпрд╛ рдзрдбреНрдпрд╛рдЪреНрдпрд╛ рдкреБрдвреАрд▓ рднрд╛рдЧрд╛рдд, рддреБрдордЪрдВ IoT рдбрд┐рд╡реНрд╣рд╛рдЗрд╕ MQTT рд╡рд░ рдПрдХ рдЯреЗрд▓рд┐рдореЗрдЯреНрд░реА рд╕рдВрджреЗрд╢ рд╕рд╛рд░реНрд╡рдЬрдирд┐рдХ MQTT рдмреНрд░реЛрдХрд░рд▓рд╛ рдкреНрд░рдХрд╛рд╢ рдкрд╛рддрд│реАрд╕рд╣ рдкрд╛рдард╡реЗрд▓, рдЬрд┐рдереЗ рддреЛ рддреБрдореНрд╣реА рд▓рд┐рд╣рд┐рд▓реЗрд▓реНрдпрд╛ рдХрд╛рд╣реА рд╕рд░реНрд╡реНрд╣рд░ рдХреЛрдбрджреНрд╡рд╛рд░реЗ рдЙрдЪрд▓рд▓рд╛ рдЬрд╛рдИрд▓. рд╣рд╛ рдХреЛрдб рдкреНрд░рдХрд╛рд╢ рдкрд╛рддрд│реА рддрдкрд╛рд╕реЗрд▓ рдЖрдгрд┐ рдбрд┐рд╡реНрд╣рд╛рдЗрд╕рд▓рд╛ LED рдЪрд╛рд▓реВ рдХрд┐рдВрд╡рд╛ рдмрдВрдж рдХрд░рдгреНрдпрд╛рд╕рд╛рдареА рд╕рд╛рдВрдЧрдгрд╛рд░рд╛ рдЖрджреЗрд╢ рд╕рдВрджреЗрд╢ рдкрд░рдд рдкрд╛рдард╡реЗрд▓.

рдЕрд╢рд╛ рд╕реЗрдЯрдЕрдкрд╕рд╛рдареА рд╡рд╛рд╕реНрддрд╡рд┐рдХ рдЬрдЧрд╛рддреАрд▓ рдЙрдкрдпреЛрдЧ рдкреНрд░рдХрд░рдг рдореНрд╣рдгрдЬреЗ рдЕрдиреЗрдХ рдкреНрд░рдХрд╛рд╢ рд╕реЗрдиреНрд╕рд░реНрд╕рдордзреВрди рдбреЗрдЯрд╛ рдЧреЛрд│рд╛ рдХрд░рдгреЗ рдЖрдгрд┐ рдирдВрддрд░ рдкреНрд░рдХрд╛рд╢ рдЪрд╛рд▓реВ рдХрд░рдгреНрдпрд╛рдЪрд╛ рдирд┐рд░реНрдгрдп рдШреЗрдгреЗ, рдЕрд╢рд╛ рдард┐рдХрд╛рдгреА рдЬрд┐рдереЗ рдЕрдиреЗрдХ рджрд┐рд╡реЗ рдЕрд╕рддрд╛рдд, рдЬрд╕реЗ рдХреА рд╕реНрдЯреЗрдбрд┐рдпрдо. рд╣реЗ рджрд┐рд╡реЗ рдЪрд╛рд▓реВ рд╣реЛрдгреНрдпрд╛рдкрд╛рд╕реВрди рд░реЛрдЦреВ рд╢рдХрддреЗ рдЬрд░ рдлрдХреНрдд рдПрдХ рд╕реЗрдиреНрд╕рд░ рдврдЧ рдХрд┐рдВрд╡рд╛ рдкрдХреНрд╖реНрдпрд╛рдВрдореБрд│реЗ рдЭрд╛рдХрд▓реЗрд▓рд╛ рдЕрд╕реЗрд▓, рдкрдг рдЗрддрд░ рд╕реЗрдиреНрд╕рд░реНрд╕ рдкреБрд░реЗрд╕рд╛ рдкреНрд░рдХрд╛рд╢ рд╢реЛрдзрдд рдЕрд╕рддреАрд▓.

тЬЕ рдХреЛрдгрддреНрдпрд╛ рдкрд░рд┐рд╕реНрдерд┐рддреАрдд рдЕрдиреЗрдХ рд╕реЗрдиреНрд╕рд░реНрд╕рдордзреВрди рдбреЗрдЯрд╛ рдЧреЛрд│рд╛ рдХрд░рдгреЗ рдЖрдгрд┐ рдЖрджреЗрд╢ рдкрд╛рдард╡рдгреНрдпрд╛рдкреВрд░реНрд╡реА рддреНрдпрд╛рдЪреЗ рдореВрд▓реНрдпрд╛рдВрдХрди рдХрд░рдгреЗ рдЖрд╡рд╢реНрдпрдХ рдЖрд╣реЗ?

рдпрд╛ рдЕрд╕рд╛рдЗрдирдореЗрдВрдЯрдЪрд╛ рднрд╛рдЧ рдореНрд╣рдгреВрди MQTT рдмреНрд░реЛрдХрд░ рд╕реЗрдЯ рдХрд░рдгреНрдпрд╛рдЪреНрдпрд╛ рдХреНрд▓рд┐рд╖реНрдЯрддреЗрд╢реА рд╡реНрдпрд╡рд╣рд╛рд░ рдХрд░рдгреНрдпрд╛рдРрд╡рдЬреА, рддреБрдореНрд╣реА [Eclipse Mosquitto](https://www.mosquitto.org) рдЪрд╛рд▓рд╡рдгрд╛рд▒реНрдпрд╛ рд╕рд╛рд░реНрд╡рдЬрдирд┐рдХ рдЪрд╛рдЪрдгреА рд╕рд░реНрд╡реНрд╣рд░рдЪрд╛ рд╡рд╛рдкрд░ рдХрд░реВ рд╢рдХрддрд╛, рдЬреЛ рдПрдХ рдУрдкрди-рд╕реЛрд░реНрд╕ MQTT рдмреНрд░реЛрдХрд░ рдЖрд╣реЗ. рд╣рд╛ рдЪрд╛рдЪрдгреА рдмреНрд░реЛрдХрд░ [test.mosquitto.org](https://test.mosquitto.org) рдпреЗрдереЗ рд╕рд╛рд░реНрд╡рдЬрдирд┐рдХрдкрдгреЗ рдЙрдкрд▓рдмреНрдз рдЖрд╣реЗ, рдЖрдгрд┐ рдЦрд╛рддреЗ рд╕реЗрдЯ рдХрд░рдгреНрдпрд╛рдЪреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рдирд╛рд╣реА, рдЬреНрдпрд╛рдореБрд│реЗ рддреЛ MQTT рдХреНрд▓рд╛рдпрдВрдЯреНрд╕ рдЖрдгрд┐ рд╕рд░реНрд╡реНрд╣рд░реНрд╕рдЪреА рдЪрд╛рдЪрдгреА рдХрд░рдгреНрдпрд╛рд╕рд╛рдареА рдПрдХ рдЙрддреНрдХреГрд╖реНрдЯ рд╕рд╛рдзрди рдмрдирддреЛ.

> ЁЯТБ рд╣рд╛ рдЪрд╛рдЪрдгреА рдмреНрд░реЛрдХрд░ рд╕рд╛рд░реНрд╡рдЬрдирд┐рдХ рдЖрдгрд┐ рдЕрд╕реБрд░рдХреНрд╖рд┐рдд рдЖрд╣реЗ. рддреБрдореНрд╣реА рдкреНрд░рдХрд╛рд╢рд┐рдд рдХрд░рдд рдЕрд╕рд▓реЗрд▓реНрдпрд╛ рдЧреЛрд╖реНрдЯреА рдРрдХрдгрд╛рд░рд╛ рдХреЛрдгреАрд╣реА рдЕрд╕реВ рд╢рдХрддреЛ, рддреНрдпрд╛рдореБрд│реЗ рддреЛ рдХреЛрдгрддреНрдпрд╛рд╣реА рдЦрд╛рдЬрдЧреА рдареЗрд╡рдгреНрдпрд╛рдпреЛрдЧреНрдп рдбреЗрдЯрд╛рд╕рд╣ рд╡рд╛рдкрд░реВ рдирдпреЗ.

![рдЕрд╕рд╛рдЗрдирдореЗрдВрдЯрдЪрд╛ рдлреНрд▓реЛ рдЪрд╛рд░реНрдЯ рдЬреЛ рдкреНрд░рдХрд╛рд╢ рдкрд╛рддрд│реА рд╡рд╛рдЪрдгреЗ рдЖрдгрд┐ рддрдкрд╛рд╕рдгреЗ, рдЖрдгрд┐ LED рдирд┐рдпрдВрддреНрд░рд┐рдд рдХрд░рдгреЗ рджрд░реНрд╢рд╡рддреЛ](../../../../../translated_images/assignment-1-internet-flow.3256feab5f052fd273bf4e331157c574c2c3fa42e479836fc9c3586f41db35a5.mr.png)

рддреБрдордЪрдВ рдбрд┐рд╡реНрд╣рд╛рдЗрд╕ MQTT рдмреНрд░реЛрдХрд░рд╢реА рдХрдиреЗрдХреНрдЯ рдХрд░рдгреНрдпрд╛рд╕рд╛рдареА рдЦрд╛рд▓реАрд▓ рд╕рдВрдмрдВрдзрд┐рдд рдЪрд░рдгрд╛рдВрдЪреЗ рдЕрдиреБрд╕рд░рдг рдХрд░рд╛:

* [Arduino - Wio Terminal](wio-terminal-mqtt.md)
* [Single-board computer - Raspberry Pi/Virtual IoT device](single-board-computer-mqtt.md)

### MQTT рдЪрд╛ рд╕рдЦреЛрд▓ рдЕрднреНрдпрд╛рд╕

рдЯреЙрдкрд┐рдХреНрд╕рдордзреНрдпреЗ рд╢реНрд░реЗрдгреА рдЕрд╕реВ рд╢рдХрддреЗ, рдЖрдгрд┐ рдХреНрд▓рд╛рдпрдВрдЯреНрд╕ рд╡рд╛рдЗрд▓реНрдбрдХрд╛рд░реНрдбреНрд╕ рд╡рд╛рдкрд░реВрди рд╢реНрд░реЗрдгреАрдЪреНрдпрд╛ рд╡реЗрдЧрд╡реЗрдЧрд│реНрдпрд╛ рд╕реНрддрд░рд╛рдВрд╕рд╛рдареА рд╕рджрд╕реНрдпрддрд╛ рдШреЗрдК рд╢рдХрддрд╛рдд. рдЙрджрд╛рд╣рд░рдгрд╛рд░реНрде, рддреБрдореНрд╣реА рддрд╛рдкрдорд╛рди рдЯреЗрд▓рд┐рдореЗрдЯреНрд░реА рд╕рдВрджреЗрд╢ `/telemetry/temperature` рдЯреЙрдкрд┐рдХрд╡рд░ рдкрд╛рдард╡реВ рд╢рдХрддрд╛ рдЖрдгрд┐ рдЖрд░реНрджреНрд░рддрд╛ рд╕рдВрджреЗрд╢ `/telemetry/humidity` рдЯреЙрдкрд┐рдХрд╡рд░ рдкрд╛рдард╡реВ рд╢рдХрддрд╛, рдирдВрддрд░ рддреБрдордЪреНрдпрд╛ рдХреНрд▓рд╛рдЙрдб рдЕреЕрдкрдордзреНрдпреЗ `/telemetry/*` рдЯреЙрдкрд┐рдХрд╕рд╛рдареА рд╕рджрд╕реНрдпрддрд╛ рдШреЗрдКрди рддрд╛рдкрдорд╛рди рдЖрдгрд┐ рдЖрд░реНрджреНрд░рддрд╛ рдЯреЗрд▓рд┐рдореЗрдЯреНрд░реА рд╕рдВрджреЗрд╢ рдкреНрд░рд╛рдкреНрдд рдХрд░реВ рд╢рдХрддрд╛.

рд╕рдВрджреЗрд╢ рдЧреБрдгрд╡рддреНрддрд╛ рд╕реЗрд╡рд╛ (QoS) рд╕рд╣ рдкрд╛рдард╡рд▓реЗ рдЬрд╛рдК рд╢рдХрддрд╛рдд, рдЬреЗ рд╕рдВрджреЗрд╢ рдкреНрд░рд╛рдкреНрдд рд╣реЛрдгреНрдпрд╛рдЪреА рд╣рдореА рдард░рд╡рддреЗ.

* рдПрдХрджрд╛рдЪ - рд╕рдВрджреЗрд╢ рдлрдХреНрдд рдПрдХрджрд╛рдЪ рдкрд╛рдард╡рд▓рд╛ рдЬрд╛рддреЛ рдЖрдгрд┐ рдХреНрд▓рд╛рдпрдВрдЯ рдЖрдгрд┐ рдмреНрд░реЛрдХрд░ рд╡рд┐рддрд░рдгрд╛рдЪреА рдкреБрд╖реНрдЯреА рдХрд░рдгреНрдпрд╛рд╕рд╛рдареА рдХреЛрдгрддреЗрд╣реА рдЕрддрд┐рд░рд┐рдХреНрдд рдкрд╛рдКрд▓ рдЙрдЪрд▓рдд рдирд╛рд╣реАрдд (рдлрд╛рдпрд░ рдЕрдБрдб рдлреЙрд░рдЧреЗрдЯ).
* рдХрд┐рдорд╛рди рдПрдХрджрд╛рдЪ - рд╕рдВрджреЗрд╢ рдкрд╛рдард╡рдгрд╛рд░рд╛ рдкреБрд╖реНрдЯреА рдорд┐рд│реЗрдкрд░реНрдпрдВрдд рдЕрдиреЗрдХ рд╡реЗрд│рд╛ рдкреБрдиреНрд╣рд╛ рдкреНрд░рдпрддреНрди рдХрд░рддреЛ (рдкреБрд╖реНрдЯреА рджрд┐рд▓реЗрд▓реЗ рд╡рд┐рддрд░рдг).
* рдЕрдЪреВрдХ рдПрдХрджрд╛рдЪ - рдкрд╛рдард╡рдгрд╛рд░рд╛ рдЖрдгрд┐ рдкреНрд░рд╛рдкреНрдд рдХрд░рдгрд╛рд░рд╛ рджреЛрди-рд╕реНрддрд░реАрдп рд╣рдБрдбрд╢реЗрдХрдордзреНрдпреЗ рдЧреБрдВрддрддреЛ рдЬреЗрдгреЗрдХрд░реВрди рд╕рдВрджреЗрд╢рд╛рдЪреА рдлрдХреНрдд рдПрдХ рдкреНрд░рдд рдкреНрд░рд╛рдкреНрдд рд╣реЛрдИрд▓ (рдЖрд╢реНрд╡рд╛рд╕рд┐рдд рд╡рд┐рддрд░рдг).

тЬЕ рдХреЛрдгрддреНрдпрд╛ рдкрд░рд┐рд╕реНрдерд┐рддреАрдд рдлрд╛рдпрд░ рдЕрдБрдб рдлреЙрд░рдЧреЗрдЯ рд╕рдВрджреЗрд╢рд╛рдРрд╡рдЬреА рдЖрд╢реНрд╡рд╛рд╕рд┐рдд рд╡рд┐рддрд░рдг рд╕рдВрджреЗрд╢ рдЖрд╡рд╢реНрдпрдХ рдЖрд╣реЗ?

MQTT рдордзреНрдпреЗ Message Queueing (MQTT рдордзреАрд▓ рдЖрджреНрдпрд╛рдХреНрд╖рд░реЗ) рдирд╛рд╡ рдЕрд╕рд▓реЗ рддрд░реА, рдкреНрд░рддреНрдпрдХреНрд╖рд╛рдд рддреЗ рд╕рдВрджреЗрд╢ рд░рд╛рдВрдЧрд╛ рд╕рдорд░реНрдерд┐рдд рдХрд░рдд рдирд╛рд╣реА. рдпрд╛рдЪрд╛ рдЕрд░реНрде рдЕрд╕рд╛ рдХреА рдЬрд░ рдХреНрд▓рд╛рдпрдВрдЯ рдбрд┐рд╕реНрдХрдиреЗрдХреНрдЯ рдЭрд╛рд▓рд╛, рдирдВрддрд░ рдкреБрдиреНрд╣рд╛ рдХрдиреЗрдХреНрдЯ рдЭрд╛рд▓рд╛ рддрд░ рдбрд┐рд╕реНрдХрдиреЗрдХреНрд╢рди рджрд░рдореНрдпрд╛рди рдкрд╛рдард╡рд▓реЗрд▓реЗ рд╕рдВрджреЗрд╢ рдкреНрд░рд╛рдкреНрдд рд╣реЛрдгрд╛рд░ рдирд╛рд╣реАрдд, рдлрдХреНрдд рддреЗ рд╕рдВрджреЗрд╢ рдЬреЗ QoS рдкреНрд░рдХреНрд░рд┐рдпреЗрджреНрд╡рд╛рд░реЗ рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдХрд░рдгреНрдпрд╛рд╕ рд╕реБрд░реБрд╡рд╛рдд рдХреЗрд▓реА рд╣реЛрддреА. рд╕рдВрджреЗрд╢рд╛рдВрд╡рд░ рд░рд┐рдЯреЗрдиреНрдб рдлреНрд▓реЕрдЧ рд╕реЗрдЯ рдХреЗрд▓рд╛ рдЬрд╛рдК рд╢рдХрддреЛ. рдЬрд░ рд╣реЗ рд╕реЗрдЯ рдХреЗрд▓реЗ рдЕрд╕реЗрд▓, рддрд░ MQTT рдмреНрд░реЛрдХрд░ рдЯреЙрдкрд┐рдХрд╡рд░ рдкрд╛рдард╡рд▓реЗрд▓рд╛ рд╢реЗрд╡рдЯрдЪрд╛ рд╕рдВрджреЗрд╢ рдпрд╛ рдлреНрд▓реЕрдЧрд╕рд╣ рд╕рдВрдЧреНрд░рд╣рд┐рдд рдХрд░реЗрд▓, рдЖрдгрд┐ рдирдВрддрд░ рдЯреЙрдкрд┐рдХрд╕рд╛рдареА рд╕рджрд╕реНрдпрддрд╛ рдШреЗрдгрд╛рд▒реНрдпрд╛ рдХреЛрдгрддреНрдпрд╛рд╣реА рдХреНрд▓рд╛рдпрдВрдЯрд▓рд╛ рддреЛ рдкрд╛рдард╡реЗрд▓. рдЕрд╢рд╛ рдкреНрд░рдХрд╛рд░реЗ, рдХреНрд▓рд╛рдпрдВрдЯреНрд╕ рдиреЗрд╣рдореА рдирд╡реАрдирддрдо рд╕рдВрджреЗрд╢ рдкреНрд░рд╛рдкреНрдд рдХрд░рддреАрд▓.

MQTT рджреАрд░реНрдШ рдЕрдВрддрд░рд╛рдиреЗ рд╕рдВрджреЗрд╢рд╛рдВрдордзреНрдпреЗ рдХрдиреЗрдХреНрд╢рди рдЕрджреНрдпрд╛рдк рдЬрд┐рд╡рдВрдд рдЖрд╣реЗ рдХреА рдирд╛рд╣реА рд╣реЗ рддрдкрд╛рд╕рдгреНрдпрд╛рд╕рд╛рдареА рдХреАрдк рдЕрд▓рд╛рдЗрд╡реНрд╣ рдлрдВрдХреНрд╢рдирд▓рд╛ рд╕рдорд░реНрдерди рджреЗрддреЗ.

> ЁЯжЯ [Eclipse Foundation рдХрдбреВрди Mosquitto](https://mosquitto.org) рддреБрдореНрд╣рд╛рд▓рд╛ MQTT рдЪрд╛ рдкреНрд░рдпреЛрдЧ рдХрд░рдгреНрдпрд╛рд╕рд╛рдареА рд╕реНрд╡рддрдГрдЪрд╛ MQTT рдмреНрд░реЛрдХрд░ рдЪрд╛рд▓рд╡рдгреНрдпрд╛рдЪреА рдкрд░рд╡рд╛рдирдЧреА рджреЗрддреЗ, рддрд╕реЗрдЪ рддреБрдордЪрд╛ рдХреЛрдб рдЪрд╛рдЪрдгреА рдХрд░рдгреНрдпрд╛рд╕рд╛рдареА рд╕рд╛рд░реНрд╡рдЬрдирд┐рдХ MQTT рдмреНрд░реЛрдХрд░ рдкреНрд░рджрд╛рди рдХрд░рддреЗ, рдЬреЛ [test.mosquitto.org](https://test.mosquitto.org) рдпреЗрдереЗ рд╣реЛрд╕реНрдЯ рдХреЗрд▓рд╛ рдЖрд╣реЗ.

MQTT рдХрдиреЗрдХреНрд╢рди рд╕рд╛рд░реНрд╡рдЬрдирд┐рдХ рдЖрдгрд┐ рдЦреБрд▓реЗ рдЕрд╕реВ рд╢рдХрддрд╛рдд, рдХрд┐рдВрд╡рд╛ рд╡рд╛рдкрд░рдХрд░реНрддрд╛рдирд╛рд╡ рдЖрдгрд┐ рдкрд╛рд╕рд╡рд░реНрдб рдХрд┐рдВрд╡рд╛ рдкреНрд░рдорд╛рдгрдкрддреНрд░реЗ рд╡рд╛рдкрд░реВрди рдПрдиреНрдХреНрд░рд┐рдкреНрдЯ рдЖрдгрд┐ рд╕реБрд░рдХреНрд╖рд┐рдд рдХреЗрд▓реЗ рдЬрд╛рдК рд╢рдХрддрд╛рдд.

> ЁЯТБ MQTT TCP/IP рд╡рд░ рд╕рдВрд╡рд╛рдж рд╕рд╛рдзрддреЗ, рдЬреЛ HTTP рд╕рд╛рд░рдЦрд╛рдЪ рдЕрдВрддрд░реНрдирд┐рд╣рд┐рдд рдиреЗрдЯрд╡рд░реНрдХ рдкреНрд░реЛрдЯреЛрдХреЙрд▓ рдЖрд╣реЗ, рдкрдг рд╡реЗрдЧрд│реНрдпрд╛ рдкреЛрд░реНрдЯрд╡рд░. рддреБрдореНрд╣реА рд╡реЗрдм рдЕреЕрдкреНрд╕рд╕рд╣ рд╕рдВрд╡рд╛рдж рд╕рд╛рдзрдгреНрдпрд╛рд╕рд╛рдареА MQTT рд╡реЗрдм рд╕реЙрдХреЗрдЯреНрд╕рд╡рд░ рджреЗрдЦреАрд▓ рд╡рд╛рдкрд░реВ рд╢рдХрддрд╛ рдЬреЗ рдмреНрд░рд╛рдЙрдЭрд░рдордзреНрдпреЗ рдЪрд╛рд▓рдд рдЖрд╣реЗрдд, рдХрд┐рдВрд╡рд╛ рдЬрд┐рдереЗ рдлрд╛рдпрд░рд╡реЙрд▓ рдХрд┐рдВрд╡рд╛ рдЗрддрд░ рдиреЗрдЯрд╡рд░реНрдХрд┐рдВрдЧ рдирд┐рдпрдо рдорд╛рдирдХ MQTT рдХрдиреЗрдХреНрд╢рди рдмреНрд▓реЙрдХ рдХрд░рддрд╛рдд.

## рдЯреЗрд▓рд┐рдореЗрдЯреНрд░реА

рдЯреЗрд▓рд┐рдореЗрдЯреНрд░реА рд╣рд╛ рд╢рдмреНрдж рдЧреНрд░реАрдХ рдореВрд│ рд╢рдмреНрджрд╛рдВрдкрд╛рд╕реВрди рдШреЗрддрд▓рд╛ рдЖрд╣реЗ рдЬреНрдпрд╛рдЪрд╛ рдЕрд░реНрде рджреВрд░рд╕реНрдердкрдгреЗ рдореЛрдЬрдгреЗ рдЖрд╣реЗ. рдЯреЗрд▓рд┐рдореЗрдЯреНрд░реА рдореНрд╣рдгрдЬреЗ рд╕реЗрдиреНрд╕рд░реНрд╕рдордзреВрди рдбреЗрдЯрд╛ рдЧреЛрд│рд╛ рдХрд░рдгреЗ рдЖрдгрд┐ рдХреНрд▓рд╛рдЙрдбрд▓рд╛ рдкрд╛рдард╡рдгреЗ.

> ЁЯТБ рд╕рд░реНрд╡рд╛рдд рдЬреБрдиреЗ рдЯреЗрд▓рд┐рдореЗрдЯреНрд░реА рдбрд┐рд╡реНрд╣рд╛рдЗрд╕ 1874 рдордзреНрдпреЗ рдлреНрд░рд╛рдиреНрд╕рдордзреНрдпреЗ рд╢реЛрдзрд▓реЗ рдЧреЗрд▓реЗ рд╣реЛрддреЗ рдЖрдгрд┐ рдореЙрдВрдЯ рдмреНрд▓рдБрдХрд╡рд░реВрди рдкреЕрд░рд┐рд╕рд▓рд╛ рд░рд┐рдЕрд▓-рдЯрд╛рдЗрдо рд╣рд╡рд╛рдорд╛рди рдЖрдгрд┐ рдмрд░реНрдлрд╛рдЪреА рдЦреЛрд▓реА рдкрд╛рдард╡рд▓реА рд╣реЛрддреА. рддреНрдпрд╛рдиреЗ рднреМрддрд┐рдХ рддрд╛рд░рд╛ рд╡рд╛рдкрд░рд▓реЗ рдХрд╛рд░рдг рд╡рд╛рдпрд░рд▓реЗрд╕ рддрдВрддреНрд░рдЬреНрдЮрд╛рди рддреНрдпрд╛ рд╡реЗрд│реА рдЙрдкрд▓рдмреНрдз рдирд╡реНрд╣рддреЗ.

рдзрдбрд╛ 1 рдордзреАрд▓ рд╕реНрдорд╛рд░реНрдЯ рдерд░реНрдореЛрд╕реНрдЯреЕрдЯрдЪреНрдпрд╛ рдЙрджрд╛рд╣рд░рдгрд╛рдХрдбреЗ рдкрд░рдд рдкрд╛рд╣реВрдпрд╛.

![рдЕрдиреЗрдХ рд░реВрдо рд╕реЗрдиреНрд╕рд░реНрд╕ рд╡рд╛рдкрд░рдгрд╛рд░рд╛ рдЗрдВрдЯрд░рдиреЗрдЯрд╢реА рдЬреЛрдбрд▓реЗрд▓рд╛ рдерд░реНрдореЛрд╕реНрдЯреЕрдЯ](../../../../../translated_images/telemetry.21e5d8b97649d2ebeb0f68d4b9691ab2d1f7bd629338e131465aff8a614e4d4a.mr.png)

рдерд░реНрдореЛрд╕реНрдЯреЕрдЯрдордзреНрдпреЗ рдЯреЗрд▓рд┐рдореЗрдЯреНрд░реА рдЧреЛрд│рд╛ рдХрд░рдгреНрдпрд╛рд╕рд╛рдареА рддрд╛рдкрдорд╛рди рд╕реЗрдиреНрд╕рд░реНрд╕ рдЕрд╕рддрд╛рдд. рддреНрдпрд╛рдд рдПрдХ рддрд╛рдкрдорд╛рди рд╕реЗрдиреНрд╕рд░ рдЕрдВрдЧрднреВрдд рдЕрд╕рдгреНрдпрд╛рдЪреА рд╢рдХреНрдпрддрд╛ рдЖрд╣реЗ, рдЖрдгрд┐ рддреЛ [Bluetooth Low Energy](https://wikipedia.org/wiki/Bluetooth_Low_Energy) (BLE) рд╕рд╛рд░рдЦреНрдпрд╛ рд╡рд╛рдпрд░рд▓реЗрд╕ рдкреНрд░реЛрдЯреЛрдХреЙрд▓рджреНрд╡рд╛рд░реЗ рдЕрдиреЗрдХ рдмрд╛рд╣реНрдп рддрд╛рдкрдорд╛рди рд╕реЗрдиреНрд╕рд░реНрд╕рд╢реА рдХрдиреЗрдХреНрдЯ рд╣реЛрдК рд╢рдХрддреЛ.

рддреЛ рдкрд╛рдард╡реВ рд╢рдХрдгрд╛рд▒реНрдпрд╛ рдЯреЗрд▓рд┐рдореЗрдЯреНрд░реА рдбреЗрдЯрд╛рдЪреЗ рдЙрджрд╛рд╣рд░рдг рдЕрд╕реЗ рдЕрд╕реВ рд╢рдХрддреЗ:

| рдирд╛рд╡ | рдореВрд▓реНрдп | рд╡рд░реНрдгрди |
| ---- | ----- | ----------- |
| `thermostat_temperature` | 18┬░C | рдерд░реНрдореЛрд╕реНрдЯреЕрдЯрдЪреНрдпрд╛ рдЕрдВрдЧрднреВрдд рддрд╛рдкрдорд╛рди рд╕реЗрдиреНрд╕рд░рдиреЗ рдореЛрдЬрд▓реЗрд▓реЗ рддрд╛рдкрдорд╛рди |
| `livingroom_temperature` | 19┬░C | рджреВрд░рд╕реНрде рддрд╛рдкрдорд╛рди рд╕реЗрдиреНрд╕рд░рдиреЗ рдореЛрдЬрд▓реЗрд▓реЗ рддрд╛рдкрдорд╛рди рдЬреНрдпрд╛рд▓рд╛ `livingroom` рдЕрд╕реЗ рдирд╛рд╡ рджреЗрдгреНрдпрд╛рдд рдЖрд▓реЗ рдЖрд╣реЗ рдЬреЗрдгреЗрдХрд░реВрди рддреЗ рдЕрд╕рд▓реЗрд▓реНрдпрд╛ рдЦреЛрд▓реАрдЪреА рдУрд│рдЦ рдкрдЯреЗрд▓ |
| `bedroom_temperature` | 21┬░C | рджреВрд░рд╕реНрде рддрд╛рдкрдорд╛рди рд╕реЗрдиреНрд╕рд░рдиреЗ рдореЛрдЬрд▓реЗрд▓реЗ рддрд╛рдкрдорд╛рди рдЬреНрдпрд╛рд▓рд╛ `bedroom` рдЕрд╕реЗ рдирд╛рд╡ рджреЗрдгреНрдпрд╛рдд рдЖрд▓реЗ рдЖрд╣реЗ рдЬреЗрдгреЗрдХрд░реВрди рддреЗ рдЕрд╕рд▓реЗрд▓реНрдпрд╛ рдЦреЛрд▓реАрдЪреА рдУрд│рдЦ рдкрдЯреЗрд▓ |

рдХреНрд▓рд╛рдЙрдб рд╕реЗрд╡рд╛ рдирдВрддрд░ рд╣реА рдЯреЗрд▓рд┐рдореЗрдЯреНрд░реА рдбреЗрдЯрд╛ рд╡рд╛рдкрд░реВрди рд╣реАрдЯрд┐рдВрдЧ рдирд┐рдпрдВрддреНрд░рд┐рдд рдХрд░рдгреНрдпрд╛рд╕рд╛рдареА рдХреЛрдгрддреЗ рдЖрджреЗрд╢ рдкрд╛рдард╡рд╛рдпрдЪреЗ рддреЗ рдард░рд╡реВ рд╢рдХрддреЗ.

### рддреБрдордЪреНрдпрд╛ IoT рдбрд┐рд╡реНрд╣рд╛рдЗрд╕рд╡рд░реВрди рдЯреЗрд▓рд┐рдореЗрдЯреНрд░реА рдкрд╛рдард╡рд╛

рддреБрдордЪреНрдпрд╛ рдирд╛рдИрдЯрд▓рд╛рдЗрдЯрдордзреНрдпреЗ рдЗрдВрдЯрд░рдиреЗрдЯ рдирд┐рдпрдВрддреНрд░рдг рдЬреЛрдбрдгреНрдпрд╛рдЪрд╛ рдкреБрдвреАрд▓ рднрд╛рдЧ рдореНрд╣рдгрдЬреЗ рдкреНрд░рдХрд╛рд╢ рдкрд╛рддрд│реА рдЯреЗрд▓рд┐рдореЗрдЯреНрд░реА MQTT рдмреНрд░реЛрдХрд░рд▓рд╛ рдЯреЗрд▓рд┐рдореЗрдЯреНрд░реА рдЯреЙрдкрд┐рдХрд╡рд░ рдкрд╛рдард╡рдгреЗ.

#### рдХрд╛рд░реНрдп - рддреБрдордЪреНрдпрд╛ IoT рдбрд┐рд╡реНрд╣рд╛рдЗрд╕рд╡рд░реВрди рдЯреЗрд▓рд┐рдореЗрдЯреНрд░реА рдкрд╛рдард╡рд╛

рдкреНрд░рдХрд╛рд╢ рдкрд╛рддрд│реА рдЯреЗрд▓рд┐рдореЗрдЯреНрд░реА MQTT рдмреНрд░реЛрдХрд░рд▓рд╛ рдкрд╛рдард╡рд╛.

рдбреЗрдЯрд╛ JSON рдореНрд╣рдгреВрди рдПрдиреНрдХреЛрдб рдХреЗрд▓рд╛ рдЬрд╛рддреЛ - JavaScript Object Notation рдЪреЗ рд╕рдВрдХреНрд╖рд┐рдкреНрдд рд░реВрдк, рдХреА/рдореВрд▓реНрдп рдЬреЛрдбреНрдпрд╛ рд╡рд╛рдкрд░реВрди рдордЬрдХреВрд░рд╛рдд рдбреЗрдЯрд╛ рдПрдиреНрдХреЛрдб рдХрд░рдгреНрдпрд╛рд╕рд╛рдареА рдПрдХ рдорд╛рдирдХ.

тЬЕ рдЬрд░ рддреБрдореНрд╣реА JSON рдмрджреНрджрд▓ рдРрдХрд▓реЗ рдирд╕реЗрд▓, рддрд░ рддреБрдореНрд╣реА [JSON.org рджрд╕реНрддрдРрд╡рдЬ](https://www.json.org/) рд╡рд░ рдЕрдзрд┐рдХ рдЬрд╛рдгреВрди рдШреЗрдК рд╢рдХрддрд╛.

рддреБрдордЪреНрдпрд╛ рдбрд┐рд╡реНрд╣рд╛рдЗрд╕рд╡рд░реВрди MQTT рдмреНрд░реЛрдХрд░рд▓рд╛ рдЯреЗрд▓рд┐рдореЗрдЯреНрд░реА рдкрд╛рдард╡рдгреНрдпрд╛рд╕рд╛рдареА рдЦрд╛рд▓реАрд▓ рд╕рдВрдмрдВрдзрд┐рдд рдЪрд░рдгрд╛рдВрдЪреЗ рдЕрдиреБрд╕рд░рдг рдХрд░рд╛:

* [Arduino - Wio Terminal](wio-terminal-telemetry.md)
* [Single-board computer - Raspberry Pi/Virtual IoT device](single-board-computer-telemetry.md)

### MQTT рдмреНрд░реЛрдХрд░рдХрдбреВрди рдЯреЗрд▓рд┐рдореЗрдЯреНрд░реА рдкреНрд░рд╛рдкреНрдд рдХрд░рд╛

рдЯреЗрд▓рд┐рдореЗрдЯреНрд░реА рдкрд╛рдард╡рдгреНрдпрд╛рдд рдХрд╛рд╣реА рдЙрдкрдпреЛрдЧ рдирд╛рд╣реА рдЬрд░ рджреБрд╕рд▒реНрдпрд╛ рдмрд╛рдЬреВрд▓рд╛ рдРрдХрдгрд╛рд░реЗ рдХрд╛рд╣реА рдирд╕реЗрд▓. рдкреНрд░рдХрд╛рд╢ рдкрд╛рддрд│реА рдЯреЗрд▓рд┐рдореЗрдЯреНрд░реАрд▓рд╛ рдбреЗрдЯрд╛ рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдХрд░рдгреНрдпрд╛рд╕рд╛рдареА рдХрд╛рд╣реАрддрд░реА рдРрдХрдгреЗ рдЖрд╡рд╢реНрдпрдХ рдЖрд╣реЗ. рд╣рд╛ 'рд╕рд░реНрд╡реНрд╣рд░' рдХреЛрдб рдореЛрдареНрдпрд╛ IoT рдЕреЕрдкреНрд▓рд┐рдХреЗрд╢рдирдЪрд╛ рднрд╛рдЧ рдореНрд╣рдгреВрди рдХреНрд▓рд╛рдЙрдб рд╕реЗрд╡реЗрд▓рд╛ рддреИрдирд╛рдд рдХрд░рдгреНрдпрд╛рдЪрд╛ рдкреНрд░рдХрд╛рд░ рдЖрд╣реЗ, рдкрдг рдпреЗрдереЗ рддреБрдореНрд╣реА рд╣рд╛ рдХреЛрдб рддреБрдордЪреНрдпрд╛ рд╕рдВрдЧрдгрдХрд╛рд╡рд░ рд╕реНрдерд╛рдирд┐рдХ рдкрд╛рддрд│реАрд╡рд░ рдЪрд╛рд▓рд╡рдгрд╛рд░ рдЖрд╣рд╛рдд (рдХрд┐рдВрд╡рд╛ рддреБрдордЪреНрдпрд╛ Pi рд╡рд░ рдЬрд░ рддреБрдореНрд╣реА рдереЗрдЯ рддреНрдпрд╛рд╡рд░ рдХреЛрдбрд┐рдВрдЧ рдХрд░рдд рдЕрд╕рд╛рд▓). рд╕рд░реНрд╡реНрд╣рд░ рдХреЛрдбрдордзреНрдпреЗ Python рдЕреЕрдк рдЖрд╣реЗ рдЬреЛ рдкреНрд░рдХрд╛рд╢ рдкрд╛рддрд│реА рдЕрд╕рд▓реЗрд▓реНрдпрд╛ MQTT рд╡рд░ рдЯреЗрд▓рд┐рдореЗрдЯреНрд░реА рд╕рдВрджреЗрд╢ рдРрдХрддреЛ. рдпрд╛ рдзрдбреНрдпрд╛рдЪреНрдпрд╛ рдкреБрдвреАрд▓ рднрд╛рдЧрд╛рдд рддреБрдореНрд╣реА LED рдЪрд╛рд▓реВ рдХрд┐рдВрд╡рд╛ рдмрдВрдж рдХрд░рдгреНрдпрд╛рдЪреНрдпрд╛ рд╕реВрдЪрдирд╛ рдЕрд╕рд▓реЗрд▓реНрдпрд╛ рдЖрджреЗрд╢ рд╕рдВрджреЗрд╢рд╛рд╕рд╣ рдЙрддреНрддрд░ рджреЗрдгреНрдпрд╛рд╕рд╛рдареА рддреЗ рддрдпрд╛рд░ рдХрд░рд╛рд▓.

тЬЕ рд╕рдВрд╢реЛрдзрди рдХрд░рд╛: рдЬрд░ рдХреЛрдгрддрд╛рд╣реА рдРрдХрдгрд╛рд░рд╛ рдирд╕реЗрд▓ рддрд░ MQTT рд╕рдВрджреЗрд╢рд╛рдВрдЪреЗ рдХрд╛рдп рд╣реЛрддреЗ?

#### Python рдЖрдгрд┐ VS Code рд╕реНрдерд╛рдкрд┐рдд рдХрд░рд╛

рдЬрд░ рддреБрдордЪреНрдпрд╛рдХрдбреЗ рд╕реНрдерд╛рдирд┐рдХ рдкрд╛рддрд│реАрд╡рд░ Python рдЖрдгрд┐ VS Code рд╕реНрдерд╛рдкрд┐рдд рдирд╕реЗрд▓, рддрд░ рддреБрдореНрд╣рд╛рд▓рд╛ рджреЛрдиреНрд╣реА рд╕реНрдерд╛рдкрд┐рдд рдХрд░рд╛рд╡реЗ рд▓рд╛рдЧрддреАрд▓ рдЬреЗрдгреЗрдХрд░реВрди рддреБрдореНрд╣реА рд╕рд░реНрд╡реНрд╣рд░ рдХреЛрдб рд▓рд┐рд╣реВ рд╢рдХрддрд╛. рдЬрд░ рддреБрдореНрд╣реА рд╡реНрд╣рд░реНрдЪреНрдпреБрдЕрд▓ IoT рдбрд┐рд╡реНрд╣рд╛рдЗрд╕ рд╡рд╛рдкрд░рдд рдЕрд╕рд╛рд▓, рдХрд┐рдВрд╡рд╛ рддреБрдордЪреНрдпрд╛ Raspberry Pi рд╡рд░ рдХрд╛рдо рдХрд░рдд рдЕрд╕рд╛рд▓ рддрд░ рддреБрдореНрд╣реА рд╣рд╛ рдЪрд░рдг рд╡рдЧрд│реВ рд╢рдХрддрд╛ рдХрд╛рд░рдг рддреЗ рдЖрдзреАрдЪ рд╕реНрдерд╛рдкрд┐рдд рдЖрдгрд┐ рдХреЙрдиреНрдлрд┐рдЧрд░ рдХреЗрд▓реЗрд▓реЗ рдЕрд╕рд╛рд╡реЗ.

##### рдХрд╛рд░реНрдп - Python рдЖрдгрд┐ VS Code рд╕реНрдерд╛рдкрд┐рдд рдХрд░рд╛

Python рдЖрдгрд┐ VS Code рд╕реНрдерд╛рдкрд┐рдд рдХрд░рд╛.

1
ЁЯТБ рддреБрдореНрд╣реА рдпрд╛ рдзрдбреНрдпрд╛рдВрд╕рд╛рдареА рддреБрдордЪреНрдпрд╛ рдЖрд╡рдбреАрдЪреНрдпрд╛ рдХреЛрдгрддреНрдпрд╛рд╣реА Python IDE рдХрд┐рдВрд╡рд╛ рд╕рдВрдкрд╛рджрдХрд╛рдЪрд╛ рд╡рд╛рдкрд░ рдХрд░реВ рд╢рдХрддрд╛, рдкрд░рдВрддреБ рдзрдбреЗ рдореБрдЦреНрдпрддрдГ VS Code рд╡рд╛рдкрд░рдгреНрдпрд╛рдЪреНрдпрд╛ рд╕реВрдЪрдирд╛рдВрд╡рд░ рдЖрдзрд╛рд░рд┐рдд рдЕрд╕рддреАрд▓.
1. VS Code рд╕рд╛рдареА Pylance рд╡рд┐рд╕реНрддрд╛рд░ рд╕реНрдерд╛рдкрд┐рдд рдХрд░рд╛. рд╣рд╛ VS Code рд╕рд╛рдареА рдПрдХ рд╡рд┐рд╕реНрддрд╛рд░ рдЖрд╣реЗ рдЬреЛ Python рднрд╛рд╖рд╛ рд╕рдорд░реНрдерди рдкреНрд░рджрд╛рди рдХрд░рддреЛ. VS Code рдордзреНрдпреЗ рд╣рд╛ рд╡рд┐рд╕реНрддрд╛рд░ рдХрд╕рд╛ рд╕реНрдерд╛рдкрд┐рдд рдХрд░рд╛рдпрдЪрд╛ рдпрд╛рд╕рд╛рдареА [Pylance рд╡рд┐рд╕реНрддрд╛рд░ рджрд╕реНрддрдРрд╡рдЬ](https://marketplace.visualstudio.com/items?WT.mc_id=academic-17441-jabenn&itemName=ms-python.vscode-pylance) рдкрд╣рд╛.

#### Python рд╡реНрд╣рд░реНрдЪреНрдпреБрдЕрд▓ рд╡рд╛рддрд╛рд╡рд░рдг рдХреЙрдиреНрдлрд┐рдЧрд░ рдХрд░рд╛

Python рдЪреА рдПрдХ рд╢рдХреНрддрд┐рд╢рд╛рд▓реА рд╡реИрд╢рд┐рд╖реНрдЯреНрдп рдореНрд╣рдгрдЬреЗ [pip рдкреЕрдХреЗрдЬреЗрд╕](https://pypi.org) рд╕реНрдерд╛рдкрд┐рдд рдХрд░рдгреНрдпрд╛рдЪреА рдХреНрд╖рдорддрд╛ - рд╣реА рдЗрддрд░ рд▓реЛрдХрд╛рдВрдиреА рд▓рд┐рд╣рд┐рд▓реЗрд▓реА рдЖрдгрд┐ рдЗрдВрдЯрд░рдиреЗрдЯрд╡рд░ рдкреНрд░рдХрд╛рд╢рд┐рдд рдХреЗрд▓реЗрд▓реА рдХреЛрдб рдкреЕрдХреЗрдЬреЗрд╕ рдЖрд╣реЗрдд. рддреБрдореНрд╣реА рдПрдХрд╛ рдХрдорд╛рдВрдбрд╕рд╣ рддреБрдордЪреНрдпрд╛ рд╕рдВрдЧрдгрдХрд╛рд╡рд░ pip рдкреЕрдХреЗрдЬ рд╕реНрдерд╛рдкрд┐рдд рдХрд░реВ рд╢рдХрддрд╛ рдЖрдгрд┐ рдирдВрддрд░ рддреБрдордЪреНрдпрд╛ рдХреЛрдбрдордзреНрдпреЗ рддреЗ рдкреЕрдХреЗрдЬ рд╡рд╛рдкрд░реВ рд╢рдХрддрд╛. рддреБрдореНрд╣реА MQTT рд╡рд░ рд╕рдВрд╡рд╛рдж рд╕рд╛рдзрдгреНрдпрд╛рд╕рд╛рдареА рдкреЕрдХреЗрдЬ рд╕реНрдерд╛рдкрд┐рдд рдХрд░рдгреНрдпрд╛рд╕рд╛рдареА pip рд╡рд╛рдкрд░рдгрд╛рд░ рдЖрд╣рд╛рдд.

рдбрд┐рдлреЙрд▓реНрдЯрдиреБрд╕рд╛рд░, рдЬреЗрд╡реНрд╣рд╛ рддреБрдореНрд╣реА рдкреЕрдХреЗрдЬ рд╕реНрдерд╛рдкрд┐рдд рдХрд░рддрд╛ рддреЗрд╡реНрд╣рд╛ рддреЗ рддреБрдордЪреНрдпрд╛ рд╕рдВрдЧрдгрдХрд╛рд╡рд░ рд╕рд░реНрд╡рддреНрд░ рдЙрдкрд▓рдмреНрдз рдЕрд╕рддреЗ, рдЖрдгрд┐ рдпрд╛рдореБрд│реЗ рдкреЕрдХреЗрдЬ рдЖрд╡реГрддреНрддреНрдпрд╛рдВрд╕рд╣ рд╕рдорд╕реНрдпрд╛ рдирд┐рд░реНрдорд╛рдг рд╣реЛрдК рд╢рдХрддрд╛рдд - рдЬрд╕реЗ рдХреА рдПрдХрд╛ рдЕрдиреБрдкреНрд░рдпреЛрдЧрд╛рд▓рд╛ рдкреЕрдХреЗрдЬрдЪреНрдпрд╛ рдПрдХрд╛ рдЖрд╡реГрддреНрддреАрд╡рд░ рдЕрд╡рд▓рдВрдмреВрди рд░рд╛рд╣рд╛рд╡реЗ рд▓рд╛рдЧрддреЗ рдЬреА рджреБрд╕рд▒реНрдпрд╛ рдЕрдиреБрдкреНрд░рдпреЛрдЧрд╛рд╕рд╛рдареА рдирд╡реАрди рдЖрд╡реГрддреНрддреА рд╕реНрдерд╛рдкрд┐рдд рдХреЗрд▓реНрдпрд╛рд╡рд░ рдЦрд░рд╛рдм рд╣реЛрддреЗ. рдпрд╛ рд╕рдорд╕реНрдпреЗрд╡рд░ рдЙрдкрд╛рдп рдореНрд╣рдгреВрди, рддреБрдореНрд╣реА [Python рд╡реНрд╣рд░реНрдЪреНрдпреБрдЕрд▓ рд╡рд╛рддрд╛рд╡рд░рдг](https://docs.python.org/3/library/venv.html) рд╡рд╛рдкрд░реВ рд╢рдХрддрд╛, рдЬреЗ рдореВрд▓рдд: Python рдЪреА рдПрдХ рд╕рдорд░реНрдкрд┐рдд рдлреЛрд▓реНрдбрд░рдордзреАрд▓ рдкреНрд░рдд рдЖрд╣реЗ, рдЖрдгрд┐ рдЬреЗрд╡реНрд╣рд╛ рддреБрдореНрд╣реА pip рдкреЕрдХреЗрдЬреЗрд╕ рд╕реНрдерд╛рдкрд┐рдд рдХрд░рддрд╛ рддреЗрд╡реНрд╣рд╛ рддреА рдлрдХреНрдд рддреНрдпрд╛ рдлреЛрд▓реНрдбрд░рдордзреНрдпреЗ рд╕реНрдерд╛рдкрд┐рдд рд╣реЛрддрд╛рдд.

##### рдХрд╛рд░реНрдп - Python рд╡реНрд╣рд░реНрдЪреНрдпреБрдЕрд▓ рд╡рд╛рддрд╛рд╡рд░рдг рдХреЙрдиреНрдлрд┐рдЧрд░ рдХрд░рд╛

Python рд╡реНрд╣рд░реНрдЪреНрдпреБрдЕрд▓ рд╡рд╛рддрд╛рд╡рд░рдг рдХреЙрдиреНрдлрд┐рдЧрд░ рдХрд░рд╛ рдЖрдгрд┐ MQTT pip рдкреЕрдХреЗрдЬреЗрд╕ рд╕реНрдерд╛рдкрд┐рдд рдХрд░рд╛.

1. рддреБрдордЪреНрдпрд╛ рдЯрд░реНрдорд┐рдирд▓ рдХрд┐рдВрд╡рд╛ рдХрдорд╛рдВрдб рд▓рд╛рдЗрдирд╡рд░реВрди, рдирд╡реАрди рдбрд┐рд░реЗрдХреНрдЯрд░реА рддрдпрд╛рд░ рдХрд░рдгреНрдпрд╛рд╕рд╛рдареА рдЖрдгрд┐ рддреНрдпрд╛рдд рдиреЗрд╡реНрд╣рд┐рдЧреЗрдЯ рдХрд░рдгреНрдпрд╛рд╕рд╛рдареА рдЦрд╛рд▓реАрд▓ рдХрдорд╛рдВрдб рдЪрд╛рд▓рд╡рд╛:

    ```sh
    mkdir nightlight-server
    cd nightlight-server
    ```

1. рдЖрддрд╛ `.venv` рдлреЛрд▓реНрдбрд░рдордзреНрдпреЗ рд╡реНрд╣рд░реНрдЪреНрдпреБрдЕрд▓ рд╡рд╛рддрд╛рд╡рд░рдг рддрдпрд╛рд░ рдХрд░рдгреНрдпрд╛рд╕рд╛рдареА рдЦрд╛рд▓реАрд▓ рдХрдорд╛рдВрдб рдЪрд╛рд▓рд╡рд╛:

    ```sh
    python3 -m venv .venv
    ```

    > ЁЯТБ рддреБрдореНрд╣рд╛рд▓рд╛ `python3` рд╕реНрдкрд╖реНрдЯрдкрдгреЗ рдХреЙрд▓ рдХрд░рдгреЗ рдЖрд╡рд╢реНрдпрдХ рдЖрд╣реЗ рдЬреЗрдгреЗрдХрд░реВрди рддреБрдореНрд╣реА Python 2 рд╕реНрдерд╛рдкрд┐рдд рдХреЗрд▓реЗ рдЕрд╕рд▓реНрдпрд╛рд╕ Python 3 (рдирд╡реАрдирддрдо рдЖрд╡реГрддреНрддреА) рд╡рд╛рдкрд░реВрди рд╡реНрд╣рд░реНрдЪреНрдпреБрдЕрд▓ рд╡рд╛рддрд╛рд╡рд░рдг рддрдпрд╛рд░ рдХрд░рддрд╛ рдпреЗрдИрд▓. рдЬрд░ рддреБрдореНрд╣реА Python 2 рд╕реНрдерд╛рдкрд┐рдд рдХреЗрд▓реЗ рдЕрд╕реЗрд▓ рддрд░ `python` рдХреЙрд▓ рдХреЗрд▓реНрдпрд╛рд╡рд░ Python 2 рд╡рд╛рдкрд░рд▓реЗ рдЬрд╛рдИрд▓.

1. рд╡реНрд╣рд░реНрдЪреНрдпреБрдЕрд▓ рд╡рд╛рддрд╛рд╡рд░рдг рд╕рдХреНрд░рд┐рдп рдХрд░рд╛:

    * Windows рд╡рд░:
        * рдЬрд░ рддреБрдореНрд╣реА рдХрдорд╛рдВрдб рдкреНрд░реЙрдореНрдкреНрдЯ рдХрд┐рдВрд╡рд╛ Windows рдЯрд░реНрдорд┐рдирд▓рдордзреАрд▓ рдХрдорд╛рдВрдб рдкреНрд░реЙрдореНрдкреНрдЯ рд╡рд╛рдкрд░рдд рдЕрд╕рд╛рд▓, рддрд░ рдЦрд╛рд▓реАрд▓ рдЪрд╛рд▓рд╡рд╛:

            ```cmd
            .venv\Scripts\activate.bat
            ```

        * рдЬрд░ рддреБрдореНрд╣реА PowerShell рд╡рд╛рдкрд░рдд рдЕрд╕рд╛рд▓, рддрд░ рдЦрд╛рд▓реАрд▓ рдЪрд╛рд▓рд╡рд╛:

            ```powershell
            .\.venv\Scripts\Activate.ps1
            ```

    * macOS рдХрд┐рдВрд╡рд╛ Linux рд╡рд░, рдЦрд╛рд▓реАрд▓ рдЪрд╛рд▓рд╡рд╛:

        ```cmd
        source ./.venv/bin/activate
        ```

    > ЁЯТБ рд╣реЗ рдХрдорд╛рдВрдб рддреБрдореНрд╣реА рд╡реНрд╣рд░реНрдЪреНрдпреБрдЕрд▓ рд╡рд╛рддрд╛рд╡рд░рдг рддрдпрд╛рд░ рдХрд░рдгреНрдпрд╛рд╕рд╛рдареА рдЪрд╛рд▓рд╡рд▓реЗрд▓реНрдпрд╛ рдард┐рдХрд╛рдгрд╛рд╣реВрди рдЪрд╛рд▓рд╡рд▓реЗ рдкрд╛рд╣рд┐рдЬреЗрдд. рддреБрдореНрд╣рд╛рд▓рд╛ `.venv` рдлреЛрд▓реНрдбрд░рдордзреНрдпреЗ рдиреЗрд╡реНрд╣рд┐рдЧреЗрдЯ рдХрд░рдгреНрдпрд╛рдЪреА рдХрдзреАрдЪ рдЧрд░рдЬ рдирд╛рд╣реА, рддреБрдореНрд╣реА рдиреЗрд╣рдореА рд╕рдХреНрд░рд┐рдп рдХрдорд╛рдВрдб рдЖрдгрд┐ рдкреЕрдХреЗрдЬреЗрд╕ рд╕реНрдерд╛рдкрд┐рдд рдХрд░рдгреНрдпрд╛рд╕рд╛рдареА рдХрд┐рдВрд╡рд╛ рдХреЛрдб рдЪрд╛рд▓рд╡рдгреНрдпрд╛рд╕рд╛рдареА рддреБрдореНрд╣реА рд╡реНрд╣рд░реНрдЪреНрдпреБрдЕрд▓ рд╡рд╛рддрд╛рд╡рд░рдг рддрдпрд╛рд░ рдХреЗрд▓реЗрд▓реНрдпрд╛ рдлреЛрд▓реНрдбрд░рдордзреВрди рдХрдорд╛рдВрдб рдЪрд╛рд▓рд╡рд▓реА рдкрд╛рд╣рд┐рдЬреЗ.

1. рдПрдХрджрд╛ рд╡реНрд╣рд░реНрдЪреНрдпреБрдЕрд▓ рд╡рд╛рддрд╛рд╡рд░рдг рд╕рдХреНрд░рд┐рдп рдЭрд╛рд▓реНрдпрд╛рд╡рд░, рдбрд┐рдлреЙрд▓реНрдЯ `python` рдХрдорд╛рдВрдб рд╡реНрд╣рд░реНрдЪреНрдпреБрдЕрд▓ рд╡рд╛рддрд╛рд╡рд░рдг рддрдпрд╛рд░ рдХрд░рдгреНрдпрд╛рд╕рд╛рдареА рд╡рд╛рдкрд░рд▓реЗрд▓реНрдпрд╛ Python рдЪреА рдЖрд╡реГрддреНрддреА рдЪрд╛рд▓рд╡реЗрд▓. рдЖрд╡реГрддреНрддреА рдорд┐рд│рд╡рдгреНрдпрд╛рд╕рд╛рдареА рдЦрд╛рд▓реАрд▓ рдЪрд╛рд▓рд╡рд╛:

    ```sh
    python --version
    ```

    рдЖрдЙрдЯрдкреБрдЯ рдЦрд╛рд▓реАрд▓рдкреНрд░рдорд╛рдгреЗ рдЕрд╕реЗрд▓:

    ```output
    (.venv) тЮЬ  nightlight-server python --version
    Python 3.9.1
    ```

    > ЁЯТБ рддреБрдордЪреА Python рдЖрд╡реГрддреНрддреА рд╡реЗрдЧрд│реА рдЕрд╕реВ рд╢рдХрддреЗ - рдЬреЛрдкрд░реНрдпрдВрдд рддреА рдЖрд╡реГрддреНрддреА 3.6 рдХрд┐рдВрд╡рд╛ рддреНрдпрд╛рд╣реВрди рдЕрдзрд┐рдХ рдЖрд╣реЗ, рддреБрдореНрд╣реА рдЪрд╛рдВрдЧрд▓реЗ рдЖрд╣рд╛рдд. рдЬрд░ рддрд╕реЗ рдирд╕реЗрд▓, рддрд░ рд╣рд╛ рдлреЛрд▓реНрдбрд░ рд╣рдЯрд╡рд╛, Python рдЪреА рдирд╡реАрди рдЖрд╡реГрддреНрддреА рд╕реНрдерд╛рдкрд┐рдд рдХрд░рд╛ рдЖрдгрд┐ рдкреБрдиреНрд╣рд╛ рдкреНрд░рдпрддреНрди рдХрд░рд╛.

1. [Paho-MQTT](https://pypi.org/project/paho-mqtt/) рд╕рд╛рдареА pip рдкреЕрдХреЗрдЬ рд╕реНрдерд╛рдкрд┐рдд рдХрд░рдгреНрдпрд╛рд╕рд╛рдареА рдЦрд╛рд▓реАрд▓ рдХрдорд╛рдВрдб рдЪрд╛рд▓рд╡рд╛, рдЬреЗ рдПрдХ рд▓реЛрдХрдкреНрд░рд┐рдп MQTT рд▓рд╛рдпрдмреНрд░рд░реА рдЖрд╣реЗ.

    ```sh
    pip install paho-mqtt
    ```

    рд╣реЗ pip рдкреЕрдХреЗрдЬ рдлрдХреНрдд рд╡реНрд╣рд░реНрдЪреНрдпреБрдЕрд▓ рд╡рд╛рддрд╛рд╡рд░рдгрд╛рдд рд╕реНрдерд╛рдкрд┐рдд рдХреЗрд▓реЗ рдЬрд╛рдИрд▓ рдЖрдгрд┐ рддреНрдпрд╛рдЪреНрдпрд╛ рдмрд╛рд╣реЗрд░ рдЙрдкрд▓рдмреНрдз рд╣реЛрдгрд╛рд░ рдирд╛рд╣реА.

#### рд╕рд░реНрд╡реНрд╣рд░ рдХреЛрдб рд▓рд┐рд╣рд╛

рдЖрддрд╛ Python рдордзреНрдпреЗ рд╕рд░реНрд╡реНрд╣рд░ рдХреЛрдб рд▓рд┐рд╣рд┐рддрд╛ рдпреЗрдИрд▓.

##### рдХрд╛рд░реНрдп - рд╕рд░реНрд╡реНрд╣рд░ рдХреЛрдб рд▓рд┐рд╣рд╛

рд╕рд░реНрд╡реНрд╣рд░ рдХреЛрдб рд▓рд┐рд╣рд╛.

1. рд╡реНрд╣рд░реНрдЪреНрдпреБрдЕрд▓ рд╡рд╛рддрд╛рд╡рд░рдгрд╛рдд Python рдлрд╛рдЗрд▓ `app.py` рддрдпрд╛рд░ рдХрд░рдгреНрдпрд╛рд╕рд╛рдареА рддреБрдордЪреНрдпрд╛ рдЯрд░реНрдорд┐рдирд▓ рдХрд┐рдВрд╡рд╛ рдХрдорд╛рдВрдб рд▓рд╛рдЗрдирд╡рд░реВрди рдЦрд╛рд▓реАрд▓ рдЪрд╛рд▓рд╡рд╛:

    * Windows рд╡рд░реВрди рдЪрд╛рд▓рд╡рд╛:

        ```cmd
        type nul > app.py
        ```

    * macOS рдХрд┐рдВрд╡рд╛ Linux рд╡рд░ рдЪрд╛рд▓рд╡рд╛:

        ```cmd
        touch app.py
        ```

1. рд╡рд░реНрддрдорд╛рди рдлреЛрд▓реНрдбрд░ VS Code рдордзреНрдпреЗ рдЙрдШрдбрд╛:

    ```sh
    code .
    ```

1. рдЬреЗрд╡реНрд╣рд╛ VS Code рд╕реБрд░реВ рд╣реЛрддреЗ, рддреЗрд╡реНрд╣рд╛ рддреЗ Python рд╡реНрд╣рд░реНрдЪреНрдпреБрдЕрд▓ рд╡рд╛рддрд╛рд╡рд░рдг рд╕рдХреНрд░рд┐рдп рдХрд░реЗрд▓. рд╣реЗ рддрд│рд╛рдЪреНрдпрд╛ рд╕реНрдЯреЗрдЯрд╕ рдмрд╛рд░рдордзреНрдпреЗ рдиреЛрдВрджрд╡рд▓реЗ рдЬрд╛рдИрд▓:

    ![VS Code рдирд┐рд╡рдбрд▓реЗрд▓реЗ рд╡реНрд╣рд░реНрдЪреНрдпреБрдЕрд▓ рд╡рд╛рддрд╛рд╡рд░рдг рджрд░реНрд╢рд╡рд┐рдд рдЖрд╣реЗ](../../../../../translated_images/vscode-virtual-env.8ba42e04c3d533cf677e16cbe5ed9a3b80f62c6964472dc84b6f940800f0909f.mr.png)

1. рдЬрд░ VS Code рдЯрд░реНрдорд┐рдирд▓ VS Code рд╕реБрд░реВ рдЭрд╛рд▓реНрдпрд╛рд╡рд░ рдЖрдзреАрдЪ рдЪрд╛рд▓реВ рдЕрд╕реЗрд▓, рддрд░ рддреНрдпрд╛рдд рд╡реНрд╣рд░реНрдЪреНрдпреБрдЕрд▓ рд╡рд╛рддрд╛рд╡рд░рдг рд╕рдХреНрд░рд┐рдп рдХреЗрд▓реЗрд▓реЗ рдирд╕реЗрд▓. рд╕рд░реНрд╡рд╛рдд рд╕реЛрдкреА рдЧреЛрд╖реНрдЯ рдореНрд╣рдгрдЬреЗ **Kill the active terminal instance** рдмрдЯрдг рд╡рд╛рдкрд░реВрди рдЯрд░реНрдорд┐рдирд▓ рдмрдВрдж рдХрд░рдгреЗ:

    ![VS Code Kill the active terminal instance рдмрдЯрдг](../../../../../translated_images/vscode-kill-terminal.1cc4de7c6f25ee08f423f0ead714e61d069fac1eb2089e97b8a7bbcb3d45fe5e.mr.png)

1. *Terminal -> New Terminal* рдирд┐рд╡рдбреВрди рдХрд┐рдВрд╡рд╛ `` CTRL+` `` рджрд╛рдмреВрди рдирд╡реАрди VS Code рдЯрд░реНрдорд┐рдирд▓ рд╕реБрд░реВ рдХрд░рд╛. рдирд╡реАрди рдЯрд░реНрдорд┐рдирд▓ рд╡реНрд╣рд░реНрдЪреНрдпреБрдЕрд▓ рд╡рд╛рддрд╛рд╡рд░рдг рд▓реЛрдб рдХрд░реЗрд▓, рдЯрд░реНрдорд┐рдирд▓рдордзреНрдпреЗ рд╣реЗ рд╕рдХреНрд░рд┐рдп рдХрд░рдгреНрдпрд╛рд╕рд╛рдареА рдХреЙрд▓ рджрд┐рд╕реЗрд▓. рд╡реНрд╣рд░реНрдЪреНрдпреБрдЕрд▓ рд╡рд╛рддрд╛рд╡рд░рдгрд╛рдЪреЗ рдирд╛рд╡ (`.venv`) рдкреНрд░реЙрдореНрдкреНрдЯрдордзреНрдпреЗ рджреЗрдЦреАрд▓ рдЕрд╕реЗрд▓:

    ```output
    тЮЬ  nightlight-server source .venv/bin/activate
    (.venv) тЮЬ  nightlight 
    ```

1. VS Code рдПрдХреНрд╕рдкреНрд▓реЛрд░рд░рдордзреВрди `app.py` рдлрд╛рдЗрд▓ рдЙрдШрдбрд╛ рдЖрдгрд┐ рдЦрд╛рд▓реАрд▓ рдХреЛрдб рдЬреЛрдбрд╛:

    ```python
    import json
    import time
    
    import paho.mqtt.client as mqtt
    
    id = '<ID>'
    
    client_telemetry_topic = id + '/telemetry'
    client_name = id + 'nightlight_server'
    
    mqtt_client = mqtt.Client(client_name)
    mqtt_client.connect('test.mosquitto.org')
    
    mqtt_client.loop_start()
    
    def handle_telemetry(client, userdata, message):
        payload = json.loads(message.payload.decode())
        print("Message received:", payload)
    
    mqtt_client.subscribe(client_telemetry_topic)
    mqtt_client.on_message = handle_telemetry
    
    while True:
        time.sleep(2)
    ```

    рдУрд│ 6 рд╡рд░ `<ID>` рдмрджрд▓реВрди рддреБрдордЪреНрдпрд╛ рдбрд┐рд╡реНрд╣рд╛рдЗрд╕ рдХреЛрдб рддрдпрд╛рд░ рдХрд░рддрд╛рдирд╛ рд╡рд╛рдкрд░рд▓реЗрд▓рд╛ рдЕрджреНрд╡рд┐рддреАрдп ID рдареЗрд╡рд╛.

    тЪая╕П рд╣рд╛ **рдЕрдЪреВрдХ** ID рдЕрд╕рд▓рд╛ рдкрд╛рд╣рд┐рдЬреЗ рдЬреЛ рддреБрдореНрд╣реА рддреБрдордЪреНрдпрд╛ рдбрд┐рд╡реНрд╣рд╛рдЗрд╕рд╡рд░ рд╡рд╛рдкрд░рд▓рд╛ рд╣реЛрддрд╛, рдЕрдиреНрдпрдерд╛ рд╕рд░реНрд╡реНрд╣рд░ рдХреЛрдб рдпреЛрдЧреНрдп рдЯреЙрдкрд┐рдХрд╡рд░ рд╕рдмрд╕реНрдХреНрд░рд╛рдЗрдм рдХрд┐рдВрд╡рд╛ рдкреНрд░рдХрд╛рд╢рд┐рдд рдХрд░рдгрд╛рд░ рдирд╛рд╣реА.

    рд╣рд╛ рдХреЛрдб рдЕрджреНрд╡рд┐рддреАрдп рдирд╛рд╡рд╛рд╕рд╣ MQTT рдХреНрд▓рд╛рдпрдВрдЯ рддрдпрд╛рд░ рдХрд░рддреЛ рдЖрдгрд┐ *test.mosquitto.org* рдмреНрд░реЛрдХрд░реНрд╕рд╢реА рдХрдиреЗрдХреНрдЯ рдХрд░рддреЛ. рдирдВрддрд░ рддреЛ рдПрдХ рдкреНрд░реЛрд╕реЗрд╕рд┐рдВрдЧ рд▓реВрдк рд╕реБрд░реВ рдХрд░рддреЛ рдЬреЛ рдмреЕрдХрдЧреНрд░рд╛рдЙрдВрдб рдереНрд░реЗрдбрд╡рд░ рдЪрд╛рд▓рддреЛ рдЖрдгрд┐ рд╕рдмрд╕реНрдХреНрд░рд╛рдЗрдм рдХреЗрд▓реЗрд▓реНрдпрд╛ рдЯреЙрдкрд┐рдХреНрд╕рд╡рд░реАрд▓ рд╕рдВрджреЗрд╢ рдРрдХрддреЛ.

    рдХреНрд▓рд╛рдпрдВрдЯ рдирдВрддрд░ рдЯреЗрд▓реАрдореЗрдЯреНрд░реА рдЯреЙрдкрд┐рдХрд╡рд░реАрд▓ рд╕рдВрджреЗрд╢рд╛рдВрд╡рд░ рд╕рдмрд╕реНрдХреНрд░рд╛рдЗрдм рдХрд░рддреЛ рдЖрдгрд┐ рд╕рдВрджреЗрд╢ рдкреНрд░рд╛рдкреНрдд рдЭрд╛рд▓реНрдпрд╛рд╡рд░ рдХреЙрд▓ рд╣реЛрдгрд╛рд░реЗ рдлрдВрдХреНрд╢рди рдкрд░рд┐рднрд╛рд╖рд┐рдд рдХрд░рддреЛ. рдЬреЗрд╡реНрд╣рд╛ рдЯреЗрд▓реАрдореЗрдЯреНрд░реА рд╕рдВрджреЗрд╢ рдкреНрд░рд╛рдкреНрдд рд╣реЛрддреЛ, рддреЗрд╡реНрд╣рд╛ `handle_telemetry` рдлрдВрдХреНрд╢рди рдХреЙрд▓ рд╣реЛрддреЛ, рдЬреЛ рдкреНрд░рд╛рдкреНрдд рдЭрд╛рд▓реЗрд▓рд╛ рд╕рдВрджреЗрд╢ рдХрдиреНрд╕реЛрд▓рд╡рд░ рдкреНрд░рд┐рдВрдЯ рдХрд░рддреЛ.

    рд╢реЗрд╡рдЯреА, рдПрдХ рдЕрдирдВрдд рд▓реВрдк рдЕрдиреБрдкреНрд░рдпреЛрдЧ рдЪрд╛рд▓реВ рдареЗрд╡рддреЛ. MQTT рдХреНрд▓рд╛рдпрдВрдЯ рдмреЕрдХрдЧреНрд░рд╛рдЙрдВрдб рдереНрд░реЗрдбрд╡рд░ рд╕рдВрджреЗрд╢ рдРрдХрдд рдЖрд╣реЗ рдЖрдгрд┐ рдореБрдЦреНрдп рдЕрдиреБрдкреНрд░рдпреЛрдЧ рдЪрд╛рд▓реВ рдЕрд╕рддрд╛рдирд╛ рд╕рддрдд рдЪрд╛рд▓рддреЛ.

1. VS Code рдЯрд░реНрдорд┐рдирд▓рдордзреВрди, рддреБрдордЪрд╛ Python рдЕреЕрдк рдЪрд╛рд▓рд╡рдгреНрдпрд╛рд╕рд╛рдареА рдЦрд╛рд▓реАрд▓ рдЪрд╛рд▓рд╡рд╛:

    ```sh
    python app.py
    ```

    рдЕреЕрдк IoT рдбрд┐рд╡реНрд╣рд╛рдЗрд╕рдХрдбреВрди рд╕рдВрджреЗрд╢ рдРрдХрдгреНрдпрд╛рд╕ рд╕реБрд░реБрд╡рд╛рдд рдХрд░реЗрд▓.

1. рддреБрдордЪреЗ рдбрд┐рд╡реНрд╣рд╛рдЗрд╕ рдЪрд╛рд▓реВ рдЕрд╕рд▓реНрдпрд╛рдЪреА рдЦрд╛рддреНрд░реА рдХрд░рд╛ рдЖрдгрд┐ рдЯреЗрд▓реАрдореЗрдЯреНрд░реА рд╕рдВрджреЗрд╢ рдкрд╛рдард╡рдд рдЖрд╣реЗ. рддреБрдордЪреНрдпрд╛ рднреМрддрд┐рдХ рдХрд┐рдВрд╡рд╛ рдЖрднрд╛рд╕реА рдбрд┐рд╡реНрд╣рд╛рдЗрд╕рджреНрд╡рд╛рд░реЗ рд╢реЛрдзрд▓реЗрд▓реЗ рдкреНрд░рдХрд╛рд╢ рд╕реНрддрд░ рд╕рдорд╛рдпреЛрдЬрд┐рдд рдХрд░рд╛. рдкреНрд░рд╛рдкреНрдд рд╣реЛрдгрд╛рд░реЗ рд╕рдВрджреЗрд╢ рдЯрд░реНрдорд┐рдирд▓рд╡рд░ рдкреНрд░рд┐рдВрдЯ рдХреЗрд▓реЗ рдЬрд╛рддреАрд▓.

    ```output
    (.venv) тЮЬ  nightlight-server python app.py
    Message received: {'light': 0}
    Message received: {'light': 400}
    ```

    nightlight рд╡реНрд╣рд░реНрдЪреНрдпреБрдЕрд▓ рд╡рд╛рддрд╛рд╡рд░рдгрд╛рддреАрд▓ app.py рдлрд╛рдЗрд▓ рдЪрд╛рд▓реВ рдЕрд╕рдгреЗ рдЖрд╡рд╢реНрдпрдХ рдЖрд╣реЗ рдЬреЗрдгреЗрдХрд░реВрди nightlight-server рд╡реНрд╣рд░реНрдЪреНрдпреБрдЕрд▓ рд╡рд╛рддрд╛рд╡рд░рдгрд╛рддреАрд▓ app.py рдлрд╛рдЗрд▓ рдкрд╛рдард╡рд▓реЗрд▓реЗ рд╕рдВрджреЗрд╢ рдкреНрд░рд╛рдкреНрдд рдХрд░реВ рд╢рдХреЗрд▓.

> ЁЯТБ рддреБрдореНрд╣реА рд╣рд╛ рдХреЛрдб [code-server/server](../../../../../1-getting-started/lessons/4-connect-internet/code-server/server) рдлреЛрд▓реНрдбрд░рдордзреНрдпреЗ рд╢реЛрдзреВ рд╢рдХрддрд╛.

### рдЯреЗрд▓реАрдореЗрдЯреНрд░реА рдХрд┐рддреА рд╡реЗрд│рд╛ рдкрд╛рдард╡рд╛рд╡реА?

рдЯреЗрд▓реАрдореЗрдЯреНрд░реАрд╕рд╣ рдПрдХ рдорд╣рддреНрддреНрд╡рд╛рдЪрд╛ рд╡рд┐рдЪрд╛рд░ рдореНрд╣рдгрдЬреЗ рдбреЗрдЯрд╛ рдХрд┐рддреА рд╡реЗрд│рд╛ рдореЛрдЬрд╛рд╡рд╛ рдЖрдгрд┐ рдкрд╛рдард╡рд╛рд╡рд╛? рдЙрддреНрддрд░ рдЖрд╣реЗ - рддреЗ рдкрд░рд┐рд╕реНрдерд┐рддреАрд╡рд░ рдЕрд╡рд▓рдВрдмреВрди рдЖрд╣реЗ. рдЬрд░ рддреБрдореНрд╣реА рд╡рд╛рд░рдВрд╡рд╛рд░ рдореЛрдЬрд▓реЗ рддрд░ рддреБрдореНрд╣реА рдореЛрдЬрдорд╛рдкрд╛рдВрдордзреАрд▓ рдмрджрд▓рд╛рдВрдирд╛ рдЬрд▓рдж рдкреНрд░рддрд┐рд╕рд╛рдж рджреЗрдК рд╢рдХрддрд╛, рдкрд░рдВрддреБ рддреБрдореНрд╣реА рдЕрдзрд┐рдХ рдКрд░реНрдЬрд╛, рдЕрдзрд┐рдХ рдмрдБрдбрд╡рд┐рдбреНрде рд╡рд╛рдкрд░рддрд╛, рдЕрдзрд┐рдХ рдбреЗрдЯрд╛ рддрдпрд╛рд░ рдХрд░рддрд╛ рдЖрдгрд┐ рддреНрдпрд╛рд╡рд░ рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдХрд░рдгреНрдпрд╛рд╕рд╛рдареА рдЕрдзрд┐рдХ рдХреНрд▓рд╛рдЙрдб рд╕рдВрд╕рд╛рдзрдирд╛рдВрдЪреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рдЕрд╕рддреЗ. рддреБрдореНрд╣рд╛рд▓рд╛ рдкреБрд░реЗрд╕реЗ рд╡рд╛рд░рдВрд╡рд╛рд░ рдореЛрдЬрд╛рд╡реЗ рд▓рд╛рдЧреЗрд▓, рдкрд░рдВрддреБ рдЦреВрдк рд╡рд╛рд░рдВрд╡рд╛рд░ рдирд╛рд╣реА.

рдерд░реНрдореЛрд╕реНрдЯреЕрдЯрд╕рд╛рдареА, рджрд░ рдХрд╛рд╣реА рдорд┐рдирд┐рдЯрд╛рдВрдиреА рдореЛрдЬрдгреЗ рдХрджрд╛рдЪрд┐рдд рдкреБрд░реЗрд╕реЗ рдЖрд╣реЗ рдХрд╛рд░рдг рддрд╛рдкрдорд╛рди рд╡рд╛рд░рдВрд╡рд╛рд░ рдмрджрд▓рдд рдирд╛рд╣реА. рдЬрд░ рддреБрдореНрд╣реА рджрд┐рд╡рд╕рд╛рддреВрди рдПрдХрджрд╛рдЪ рдореЛрдЬрд▓реЗ рддрд░ рддреБрдореНрд╣реА рдЙрдиреНрд╣рд╛рд│реНрдпрд╛рдЪреНрдпрд╛ рдордзреНрдпрднрд╛рдЧреА рд░рд╛рддреНрд░реАрдЪреНрдпрд╛ рддрд╛рдкрдорд╛рдирд╛рд╕рд╛рдареА рддреБрдордЪреЗ рдШрд░ рдЧрд░рдо рдХрд░реВ рд╢рдХрддрд╛, рддрд░ рдЬрд░ рддреБрдореНрд╣реА рдкреНрд░рддреНрдпреЗрдХ рд╕реЗрдХрдВрджрд╛рд▓рд╛ рдореЛрдЬрд▓реЗ рддрд░ рддреБрдореНрд╣рд╛рд▓рд╛ рд╣рдЬрд╛рд░реЛ рдЕрдирд╛рд╡рд╢реНрдпрдХ рдбреБрдкреНрд▓рд┐рдХреЗрдЯ рддрд╛рдкрдорд╛рди рдореЛрдЬрдорд╛рдк рдорд┐рд│рддреАрд▓ рдЬреЗ рд╡рд╛рдкрд░рдХрд░реНрддреНрдпрд╛рдЪреНрдпрд╛ рдЗрдВрдЯрд░рдиреЗрдЯ рдЧрддреА рдЖрдгрд┐ рдмрдБрдбрд╡рд┐рдбреНрдердордзреНрдпреЗ рдЦрд╛рдКрди рдЬрд╛рддреАрд▓ (рдорд░реНрдпрд╛рджрд┐рдд рдмрдБрдбрд╡рд┐рдбреНрде рдпреЛрдЬрдирд╛ рдЕрд╕рд▓реЗрд▓реНрдпрд╛ рд▓реЛрдХрд╛рдВрд╕рд╛рдареА рд╕рдорд╕реНрдпрд╛), рдЕрдзрд┐рдХ рдКрд░реНрдЬрд╛ рд╡рд╛рдкрд░рд╛ рдЬреЗ рд░рд┐рдореЛрдЯ рд╕реЗрдиреНрд╕рд░реНрд╕рд╕рд╛рд░рдЦреНрдпрд╛ рдмреЕрдЯрд░реАрд╡рд░ рдЪрд╛рд▓рдгрд╛рд▒реНрдпрд╛ рдбрд┐рд╡реНрд╣рд╛рдЗрд╕рд╕рд╛рдареА рд╕рдорд╕реНрдпрд╛ рдЕрд╕реВ рд╢рдХрддреЗ рдЖрдгрд┐ рдкреНрд░рджрд╛рддреНрдпрд╛рдЪреНрдпрд╛ рдХреНрд▓рд╛рдЙрдб рд╕рдВрдЧрдгрди рд╕рдВрд╕рд╛рдзрдирд╛рдВрдЪреНрдпрд╛ рдЦрд░реНрдЪрд╛рдд рд╡рд╛рдв рдХрд░рд╛.

рдЬрд░ рддреБрдореНрд╣реА рдЕрд╢рд╛ рдХрд╛рд░рдЦрд╛рдиреНрдпрд╛рддреАрд▓ рдпрдВрддреНрд░рд╕рд╛рдордЧреНрд░реАрднреЛрд╡рддреА рдбреЗрдЯрд╛ рдореЙрдирд┐рдЯрд░ рдХрд░рдд рдЕрд╕рд╛рд▓ рдХреА рдЬрд░ рддреЗ рдЦрд░рд╛рдм рдЭрд╛рд▓реЗ рддрд░ рд╡рд┐рдирд╛рд╢рдХрд╛рд░реА рдиреБрдХрд╕рд╛рди рдЖрдгрд┐ рд▓рд╛рдЦреЛ рдбреЙрд▓рд░реНрд╕рдЪреЗ рдиреБрдХрд╕рд╛рди рд╣реЛрдК рд╢рдХрддреЗ, рддрд░ рд╕реЗрдХрдВрджрд╛рд▓рд╛ рдЕрдиреЗрдХ рд╡реЗрд│рд╛ рдореЛрдЬрдгреЗ рдЖрд╡рд╢реНрдпрдХ рдЕрд╕реВ рд╢рдХрддреЗ. рдмрдБрдбрд╡рд┐рдбреНрде рд╡рд╛рдпрд╛ рдШрд╛рд▓рд╡рдгреЗ рдЪрд╛рдВрдЧрд▓реЗ рдЖрд╣реЗ рдЬреЗрдгреЗрдХрд░реВрди рдЯреЗрд▓реАрдореЗрдЯреНрд░реА рдЧрдорд╛рд╡рд▓реА рдЬрд╛рдК рдирдпреЗ рдЬреА рд╕реВрдЪрд┐рдд рдХрд░рддреЗ рдХреА рдорд╢реАрди рдерд╛рдВрдмрд╡реВрди рджреБрд░реБрд╕реНрдд рдХрд░рдгреЗ рдЖрд╡рд╢реНрдпрдХ рдЖрд╣реЗ.

> ЁЯТБ рдЕрд╢рд╛ рдкрд░рд┐рд╕реНрдерд┐рддреАрдд, рддреБрдореНрд╣реА рдЗрдВрдЯрд░рдиреЗрдЯрд╡рд░реАрд▓ рдЕрд╡рд▓рдВрдмрд┐рддреНрд╡ рдХрдореА рдХрд░рдгреНрдпрд╛рд╕рд╛рдареА рдЯреЗрд▓реАрдореЗрдЯреНрд░реА рдкреНрд░рдердо рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдХрд░рдгреНрдпрд╛рд╕рд╛рдареА рдПрдЬ рдбрд┐рд╡реНрд╣рд╛рдЗрд╕ рдЕрд╕рдгреНрдпрд╛рдЪрд╛ рд╡рд┐рдЪрд╛рд░ рдХрд░реВ рд╢рдХрддрд╛.

### рдХрдиреЗрдХреНрдЯрд┐рд╡реНрд╣рд┐рдЯреА рдЧрдорд╛рд╡рдгреЗ

рдЗрдВрдЯрд░рдиреЗрдЯ рдХрдиреЗрдХреНрд╢рди рдЕрд╡рд┐рд╢реНрд╡рд╕рдиреАрдп рдЕрд╕реВ рд╢рдХрддреЗ, рдЖрдЙрдЯреЗрдЬ рд╕рд╛рдорд╛рдиреНрдп рдЖрд╣реЗрдд. рдЕрд╢рд╛ рдкрд░рд┐рд╕реНрдерд┐рддреАрдд IoT рдбрд┐рд╡реНрд╣рд╛рдЗрд╕рдиреЗ рдХрд╛рдп рдХрд░рд╛рд╡реЗ - рдбреЗрдЯрд╛ рдЧрдорд╡рд╛рд╡рд╛ рдХреА рдХрдиреЗрдХреНрдЯрд┐рд╡реНрд╣рд┐рдЯреА рдкреБрдиреНрд╣рд╛ рд╕реНрдерд╛рдкрд┐рдд рд╣реЛрдИрдкрд░реНрдпрдВрдд рддреЛ рд╕рдВрдЧреНрд░рд╣рд┐рдд рдХрд░рд╛рд╡рд╛? рдкреБрдиреНрд╣рд╛, рдЙрддреНрддрд░ рдЖрд╣реЗ рддреЗ рдкрд░рд┐рд╕реНрдерд┐рддреАрд╡рд░ рдЕрд╡рд▓рдВрдмреВрди рдЖрд╣реЗ.

рдерд░реНрдореЛрд╕реНрдЯреЕрдЯрд╕рд╛рдареА рдбреЗрдЯрд╛ рдХрджрд╛рдЪрд┐рдд рдирд╡реАрди рддрд╛рдкрдорд╛рди рдореЛрдЬрдорд╛рдк рдШреЗрддрд▓реНрдпрд╛рд╡рд░ рдЧрдорд╛рд╡рд▓рд╛ рдЬрд╛рдК рд╢рдХрддреЛ. рд╣реАрдЯрд┐рдВрдЧ рд╕рд┐рд╕реНрдЯрдорд▓рд╛ 20 рдорд┐рдирд┐рдЯрд╛рдВрдкреВрд░реНрд╡реА 20.5┬░C рд╣реЛрддреЗ рд╣реЗ рдорд╣рддреНрддреНрд╡рд╛рдЪреЗ рдирд╛рд╣реА рдЬрд░ рддрд╛рдкрдорд╛рди рдЖрддрд╛ 19┬░C рдЕрд╕реЗрд▓, рддрд░ рд╣реАрдЯрд┐рдВрдЧ рдЪрд╛рд▓реВ рдХрд┐рдВрд╡рд╛ рдмрдВрдж рдЕрд╕рд╛рд╡реЗ рд╣реЗ рдард░рд╡рдгреНрдпрд╛рд╕рд╛рдареА рд╕рдзреНрдпрд╛рдЪреЗ рддрд╛рдкрдорд╛рди рдорд╣рддреНрддреНрд╡рд╛рдЪреЗ рдЖрд╣реЗ.

рдпрдВрддреНрд░рд╕рд╛рдордЧреНрд░реАрд╕рд╛рдареА рддреБрдореНрд╣рд╛рд▓рд╛ рдбреЗрдЯрд╛ рдареЗрд╡рд╛рдпрдЪрд╛ рдЕрд╕реЗрд▓, рд╡рд┐рд╢реЗрд╖рддрдГ рдЬрд░ рддреЛ рдЯреНрд░реЗрдВрдб рд╢реЛрдзрдгреНрдпрд╛рд╕рд╛рдареА рд╡рд╛рдкрд░рд▓рд╛ рдЬрд╛рдд рдЕрд╕реЗрд▓. рдорд╢реАрди рд▓рд░реНрдирд┐рдВрдЧ рдореЙрдбреЗрд▓реНрд╕ рдЖрд╣реЗрдд рдЬреЗ рдкрд░рд┐рднрд╛рд╖рд┐рдд рдХрд╛рд▓рд╛рд╡рдзреА (рдЬрд╕реЗ рдХреА рдЧреЗрд▓реНрдпрд╛ рддрд╛рд╕рд╛рдЪрд╛) рдбреЗрдЯрд╛ рдкрд╛рд╣реВрди рдЖрдгрд┐ рдЕрд╕рд╛рдорд╛рдиреНрдп рдбреЗрдЯрд╛ рд╢реЛрдзреВрди рдбреЗрдЯрд╛ рдкреНрд░рд╡рд╛рд╣рд╛рдВрдордзреНрдпреЗ рд╡рд┐рд╕рдВрдЧрддреА рд╢реЛрдзреВ рд╢рдХрддрд╛рдд. рд╣реЗ рдкреНрд░реЗрдбрд┐рдХреНрдЯрд┐рд╡ рдореЗрдВрдЯреЗрдирдиреНрд╕рд╕рд╛рдареА рд╡рд╛рдкрд░рд▓реЗ рдЬрд╛рддреЗ, рдЕрд╕реЗ рд╕рдВрдХреЗрдд рд╢реЛрдзрдгреНрдпрд╛рд╕рд╛рдареА рдХреА рдХрд╛рд╣реАрддрд░реА рд▓рд╡рдХрд░рдЪ рдЦрд░рд╛рдм рд╣реЛрдК рд╢рдХрддреЗ рдЬреЗрдгреЗрдХрд░реВрди рддреЗ рдЦрд░рд╛рдм рд╣реЛрдгреНрдпрд╛рдкреВрд░реНрд╡реА рддреБрдореНрд╣реА рджреБрд░реБрд╕реНрдд рдХрд┐рдВрд╡рд╛ рдмрджрд▓реВ рд╢рдХрддрд╛. рддреБрдореНрд╣рд╛рд▓рд╛ рдорд╢реАрдирд╕рд╛рдареА рдкреНрд░рддреНрдпреЗрдХ рдЯреЗрд▓реАрдореЗрдЯреНрд░реА рдкрд╛рдард╡рд╛рдпрдЪреА рдЕрд╕реВ рд╢рдХрддреЗ рдЬреЗрдгреЗрдХрд░реВрди рддреА рд╡рд┐рд╕рдВрдЧрддреА рд╢реЛрдзрдгреНрдпрд╛рд╕рд╛рдареА рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдХреЗрд▓реА рдЬрд╛рдК рд╢рдХрддреЗ, рддреНрдпрд╛рдореБрд│реЗ рдПрдХрджрд╛ IoT рдбрд┐рд╡реНрд╣рд╛рдЗрд╕ рдкреБрдиреНрд╣рд╛ рдХрдиреЗрдХреНрдЯ рд╣реЛрдК рд╢рдХрд▓реЗ рдХреА рддреЗ рдЗрдВрдЯрд░рдиреЗрдЯ рдЖрдЙрдЯреЗрдЬ рджрд░рдореНрдпрд╛рди рддрдпрд╛рд░ рдХреЗрд▓реЗрд▓реА рд╕рд░реНрд╡ рдЯреЗрд▓реАрдореЗрдЯреНрд░реА рдкрд╛рдард╡реЗрд▓.

IoT рдбрд┐рд╡реНрд╣рд╛рдЗрд╕ рдбрд┐рдЭрд╛рдЗрдирд░реНрд╕рдиреЗ рд╡рд┐рдЪрд╛рд░ рдХреЗрд▓рд╛ рдкрд╛рд╣рд┐рдЬреЗ рдХреА IoT рдбрд┐рд╡реНрд╣рд╛рдЗрд╕ рдЗрдВрдЯрд░рдиреЗрдЯ рдЖрдЙрдЯреЗрдЬ рдХрд┐рдВрд╡рд╛ рд╕реНрдерд╛рдирд╛рдореБрд│реЗ рд╕рд┐рдЧреНрдирд▓ рдЧрдорд╛рд╡рд▓реНрдпрд╛рд╡рд░ рд╡рд╛рдкрд░рд▓реЗ рдЬрд╛рдК рд╢рдХрддреЗ рдХрд╛. рд╕реНрдорд╛рд░реНрдЯ рдерд░реНрдореЛрд╕реНрдЯреЕрдЯрдиреЗ рдХрд╛рд╣реА рдорд░реНрдпрд╛рджрд┐рдд рдирд┐рд░реНрдгрдп рдШреЗрдКрди рд╣реАрдЯрд┐рдВрдЧ рдирд┐рдпрдВрддреНрд░рд┐рдд рдХрд░рдгреЗ рд╢рдХреНрдп рдЕрд╕рд╛рд╡реЗ рдЬрд░ рддреЗ рдЖрдЙрдЯреЗрдЬрдореБрд│реЗ рдХреНрд▓рд╛рдЙрдбрд▓рд╛ рдЯреЗрд▓реАрдореЗрдЯреНрд░реА рдкрд╛рдард╡реВ рд╢рдХрдд рдирд╕реЗрд▓.

[![рдХреЛрдгреАрддрд░реА рд╕реЗрд▓ рд░рд┐рд╕реЗрдкреНрд╢рди рдирд╕рд▓реЗрд▓реНрдпрд╛ рднреВрдорд┐рдЧрдд рдард┐рдХрд╛рдгреА рдлреЗрд░рд╛рд░реА рдЕрдкрдбреЗрдЯ рдХрд░рдгреНрдпрд╛рдЪрд╛ рдкреНрд░рдпрддреНрди рдХреЗрд▓реНрдпрд╛рдореБрд│реЗ рд╣реЗ рдлреЗрд░рд╛рд░реА рдЦрд░рд╛рдм рдЭрд╛рд▓реЗ](../../../../../translated_images/bricked-car.dc38f8efadc6c59d76211f981a521efb300939283dee468f79503aae3ec67615.mr.png)](https://twitter.com/internetofshit/status/1315736960082808832)

MQTT рдХрдиреЗрдХреНрдЯрд┐рд╡реНрд╣рд┐рдЯреА рдЧрдорд╛рд╡рдгреНрдпрд╛рдЪреЗ рд╡реНрдпрд╡рд╕реНрдерд╛рдкрди рдХрд░рдгреНрдпрд╛рд╕рд╛рдареА, рдбрд┐рд╡реНрд╣рд╛рдЗрд╕ рдЖрдгрд┐ рд╕рд░реНрд╡реНрд╣рд░ рдХреЛрдбрд▓рд╛ рд╕рдВрджреЗрд╢ рд╡рд┐рддрд░рдг рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдХрд░рдгреНрдпрд╛рд╕рд╛рдареА рдЬрдмрд╛рдмрджрд╛рд░ рдЕрд╕рдгреЗ рдЖрд╡рд╢реНрдпрдХ рдЖрд╣реЗ, рдЙрджрд╛рд╣рд░рдгрд╛рд░реНрде рд╕рд░реНрд╡ рд╕рдВрджреЗрд╢ рдкрд╛рдард╡рд▓реЗ рдЬрд╛рдд рдЕрд╕рд▓реНрдпрд╛рдЪреА рдЦрд╛рддреНрд░реА рдХрд░рдгреНрдпрд╛рд╕рд╛рдареА рд░рд┐рдкреНрд▓рд╛рдп рдЯреЙрдкрд┐рдХрд╡рд░реАрд▓ рдЕрддрд┐рд░рд┐рдХреНрдд рд╕рдВрджреЗрд╢рд╛рдВрджреНрд╡рд╛рд░реЗ рдЙрддреНрддрд░ рджрд┐рд▓реЗ рдЬрд╛рддреЗ рдЖрдгрд┐ рдЬрд░ рддрд╕реЗ рдирд╕реЗрд▓ рддрд░ рддреЗ рдирдВрддрд░ рдкреБрдирд░реБрддреНрдкрд╛рджрд┐рдд рдХрд░рдгреНрдпрд╛рд╕рд╛рдареА рдореЕрдиреНрдпреБрдЕрд▓реА рд░рд╛рдВрдЧреЗрдд рдареЗрд╡рд▓реЗ рдЬрд╛рддрд╛рдд.

## рдХрдорд╛рдВрдбреНрд╕

рдХрдорд╛рдВрдбреНрд╕ рдореНрд╣рдгрдЬреЗ рдХреНрд▓рд╛рдЙрдбрдиреЗ рдбрд┐рд╡реНрд╣рд╛рдЗрд╕рд▓рд╛ рдХрд╛рд╣реАрддрд░реА рдХрд░рдгреНрдпрд╛рдЪреЗ рдирд┐рд░реНрджреЗрд╢ рджреЗрдгреНрдпрд╛рд╕рд╛рдареА рдкрд╛рдард╡рд▓реЗрд▓реЗ рд╕рдВрджреЗрд╢. рдмрд╣реБрддреЗрдХ рд╡реЗрд│рд╛ рдпрд╛рдордзреНрдпреЗ рдЕреЕрдХреНрдЪреНрдпреБрдПрдЯрд░рджреНрд╡рд╛рд░реЗ рдХрд╛рд╣реА рдкреНрд░рдХрд╛рд░рдЪреЗ рдЖрдЙрдЯрдкреБрдЯ рджреЗрдгреЗ рд╕рдорд╛рд╡рд┐рд╖реНрдЯ рдЕрд╕рддреЗ, рдкрд░рдВрддреБ рддреЗ рдбрд┐рд╡реНрд╣рд╛рдЗрд╕рд╕рд╛рдареА рд╕реНрд╡рддрдГрдЪ рд╕реВрдЪрдирд╛ рдЕрд╕реВ рд╢рдХрддреЗ, рдЬрд╕реЗ рдХреА рд░реАрдмреВрдЯ рдХрд░рдгреЗ рдХрд┐рдВрд╡рд╛ рдЕрддрд┐рд░рд┐рдХреНрдд рдЯреЗрд▓реАрдореЗрдЯреНрд░реА рдЧреЛрд│рд╛ рдХрд░рдгреЗ рдЖрдгрд┐ рдХрдорд╛рдВрдбрдЪреНрдпрд╛ рдкреНрд░рддрд┐рд╕рд╛рджрд╛рдд рдкрд░рдд рдХрд░рдгреЗ.

![рдЗрдВрдЯрд░рдиреЗрдЯрд╢реА рдЬреЛрдбрд▓реЗрд▓рд╛ рдерд░реНрдореЛрд╕реНрдЯреЕрдЯ рд╣реАрдЯрд┐рдВрдЧ рдЪрд╛рд▓реВ рдХрд░рдгреНрдпрд╛рд╕рд╛рдареА рдХрдорд╛рдВрдб рдкреНрд░рд╛рдкреНрдд рдХрд░рдд рдЖрд╣реЗ](../../../../../translated_images/commands.d6c06bbbb3a02cce95f2831a1c331daf6dedd4e470c4aa2b0ae54f332016e504.mr.png)

рдерд░реНрдореЛрд╕реНрдЯреЕрдЯрд▓рд╛ рд╣реАрдЯрд┐рдВрдЧ рдЪрд╛рд▓реВ рдХрд░рдгреНрдпрд╛рд╕рд╛рдареА рдХреНрд▓рд╛рдЙрдбрдХрдбреВрди рдХрдорд╛рдВрдб рдкреНрд░рд╛рдкреНрдд рд╣реЛрдК рд╢рдХрддреЗ. рд╕рд░реНрд╡ рд╕реЗрдиреНрд╕рд░реНрд╕рдордзреАрд▓ рдЯреЗрд▓реАрдореЗрдЯреНрд░реА рдбреЗрдЯрд╛рдЪреНрдпрд╛ рдЖрдзрд╛рд░реЗ, рдЬрд░ рдХреНрд▓рд╛рдЙрдб рд╕рд░реНрд╡реНрд╣рд┐рд╕рдиреЗ рдард░рд╡рд▓реЗ рдХреА рд╣реАрдЯрд┐рдВрдЧ рдЪрд╛рд▓реВ рдЕрд╕рд╛рд╡реЗ, рддрд░ рддреЗ рд╕рдВрдмрдВрдзрд┐рдд рдХрдорд╛рдВрдб рдкрд╛рдард╡рддреЗ.

### MQTT рдмреНрд░реЛрдХрд░реНрд╕рд╡рд░ рдХрдорд╛рдВрдбреНрд╕ рдкрд╛рдард╡рд╛

рдЖрдордЪреНрдпрд╛ рдЗрдВрдЯрд░рдиреЗрдЯ рдирд┐рдпрдВрддреНрд░рд┐рдд рдирд╛рдЗрдЯрд▓рд╛рдЗрдЯрд╕рд╛рдареА рдкреБрдвреАрд▓ рдкрд╛рдпрд░реА рдореНрд╣рдгрдЬреЗ рдкреНрд░рдХрд╛рд╢ рдкрд╛рддрд│реАрд╡рд░ рдЖрдзрд╛рд░рд┐рдд рдкреНрд░рдХрд╛рд╢ рдирд┐рдпрдВрддреНрд░рд┐рдд рдХрд░рдгреНрдпрд╛рд╕рд╛рдареА IoT рдбрд┐рд╡реНрд╣рд╛рдЗрд╕рд▓рд╛ рдХрдорд╛рдВрдб рдкрд╛рдард╡рдгреНрдпрд╛рд╕рд╛рдареА рд╕рд░реНрд╡реНрд╣рд░ рдХреЛрдб.

1. VS Code рдордзреНрдпреЗ рд╕рд░реНрд╡реНрд╣рд░ рдХреЛрдб рдЙрдШрдбрд╛

1. `client_telemetry_topic` рдЪреНрдпрд╛ рдШреЛрд╖рдгреЗрдирдВрддрд░ рдЦрд╛рд▓реАрд▓ рдУрд│ рдЬреЛрдбрд╛ рдЬреЗрдгреЗрдХрд░реВрди рдХреЛрдгрддреНрдпрд╛ рдЯреЙрдкрд┐рдХрд╡рд░ рдХрдорд╛рдВрдбреНрд╕ рдкрд╛рдард╡рд╛рдпрдЪреНрдпрд╛ рддреЗ рдкрд░рд┐рднрд╛рд╖рд┐рдд рдХрд░рддрд╛ рдпреЗрдИрд▓:

    ```python
    server_command_topic = id + '/commands'
    ```

1. `handle_telemetry` рдлрдВрдХреНрд╢рдирдЪреНрдпрд╛ рд╢реЗрд╡рдЯреА рдЦрд╛рд▓реАрд▓ рдХреЛрдб рдЬреЛрдбрд╛:

    ```python
    command = { 'led_on' : payload['light'] < 300 }
    print("Sending message:", command)
    
    client.publish(server_command_topic, json.dumps(command))
    ```

    рд╣реЗ JSON рд╕рдВрджреЗрд╢ рдХрдорд╛рдВрдб рдЯреЙрдкрд┐рдХрд╡рд░ рдкрд╛рдард╡рддреЗ рдЬреНрдпрд╛рдордзреНрдпреЗ `led_on` рдЪреЗ рдореВрд▓реНрдп рдЦрд░реЗ рдХрд┐рдВрд╡рд╛ рдЦреЛрдЯреЗ рд╕реЗрдЯ рдХреЗрд▓реЗ рдЬрд╛рддреЗ, рдкреНрд░рдХрд╛рд╢ 300 рдкреЗрдХреНрд╖рд╛ рдХрдореА рдЖрд╣реЗ рдХреА рдирд╛рд╣реА рдпрд╛рд╡рд░ рдЖрдзрд╛рд░рд┐рдд. рдЬрд░ рдкреНрд░рдХрд╛рд╢ 300 рдкреЗрдХреНрд╖рд╛ рдХрдореА рдЕрд╕реЗрд▓, рддрд░ рдбрд┐рд╡реНрд╣рд╛рдЗрд╕рд▓рд╛ LED рдЪрд╛рд▓реВ рдХрд░рдгреНрдпрд╛рдЪрд╛ рдирд┐рд░реНрджреЗрд╢ рджреЗрдгреНрдпрд╛рд╕рд╛рдареА рдЦрд░реЗ рдкрд╛рдард╡рд▓реЗ рдЬрд╛рддреЗ.

1. рдкреВрд░реНрд╡реАрдкреНрд░рдорд╛рдгреЗ рдХреЛрдб рдЪрд╛рд▓рд╡рд╛

1. рддреБрдордЪреНрдпрд╛ рднреМрддрд┐рдХ рдХрд┐рдВрд╡рд╛ рдЖрднрд╛рд╕реА рдбрд┐рд╡реНрд╣рд╛рдЗрд╕рджреНрд╡рд╛рд░реЗ рд╢реЛрдзрд▓реЗрд▓реЗ рдкреНрд░рдХрд╛рд╢ рд╕реНрддрд░ рд╕рдорд╛рдпреЛрдЬрд┐рдд рдХрд░рд╛. рдкреНрд░рд╛рдкреНрдд рд╣реЛрдгрд╛рд░реЗ рд╕рдВрджреЗрд╢ рдЖрдгрд┐ рдкрд╛рдард╡рд▓реЗрд▓реЗ рдХрдорд╛рдВрдбреНрд╕ рдЯрд░реНрдорд┐рдирд▓рд╡рд░ рд▓рд┐рд╣рд┐рд▓реЗ рдЬрд╛рддреАрд▓:

    ```output
    (.venv) тЮЬ  nightlight-server python app.py
    Message received: {'light': 0}
    Sending message: {'led_on': True}
    Message received: {'light': 400}
    Sending message: {'led_on': False}
    ```

> ЁЯТБ рдЯреЗрд▓реАрдореЗрдЯреНрд░реА рдЖрдгрд┐ рдХрдорд╛рдВрдбреНрд╕ рдПрдХрд╛рдЪ рдЯреЙрдкрд┐рдХрд╡рд░ рдкрд╛рдард╡рд▓реЗ рдЬрд╛рдд рдЖрд╣реЗрдд. рдпрд╛рдЪрд╛ рдЕрд░реНрде рдЕрдиреЗрдХ рдбрд┐рд╡реНрд╣рд╛рдЗрд╕рдХрдбреВрди рдЯреЗрд▓реАрдореЗрдЯреНрд░реА рдПрдХрд╛рдЪ рдЯреЗрд▓реАрдореЗрдЯреНрд░реА рдЯреЙрдкрд┐рдХрд╡рд░ рджрд┐рд╕реЗрд▓ рдЖрдгрд┐ рдЕрдиреЗрдХ рдбрд┐рд╡реНрд╣рд╛рдЗрд╕рд╕рд╛рдареА рдХрдорд╛рдВрдбреНрд╕ рдПрдХрд╛рдЪ рдХрдорд╛рдВрдбреНрд╕ рдЯреЙрдкрд┐рдХрд╡рд░ рджрд┐рд╕рддреАрд▓. рдЬрд░ рддреБрдореНрд╣рд╛рд▓рд╛ рд╡рд┐рд╢рд┐рд╖реНрдЯ рдбрд┐рд╡реНрд╣рд╛рдЗрд╕рд▓рд╛ рдХрдорд╛рдВрдб рдкрд╛рдард╡рд╛рдпрдЪреА рдЕрд╕реЗрд▓, рддрд░ рддреБрдореНрд╣реА рдЕрджреНрд╡рд┐рддреАрдп рдбрд┐рд╡реНрд╣рд╛рдЗрд╕ рдЖрдпрдбреАрд╕рд╣ рдирд╛рд╡ рджрд┐рд▓реЗрд▓реЗ рдЕрдиреЗрдХ рдЯреЙрдкрд┐рдХреНрд╕ рд╡рд╛рдкрд░реВ рд╢рдХрддрд╛, рдЬрд╕реЗ рдХреА `/commands/device1`, `/commands/device2`. рдЕрд╢рд╛ рдкреНрд░рдХрд╛рд░реЗ рдбрд┐рд╡реНрд╣рд╛рдЗрд╕ рдлрдХреНрдд рддреНрдпрд╛ рдПрдХрд╛ рдбрд┐рд╡реНрд╣рд╛рдЗрд╕рд╕рд╛рдареА рдЕрд╕рд▓реЗрд▓реНрдпрд╛ рд╕рдВрджреЗрд╢рд╛рдВрд╡рд░ рдРрдХреВ рд╢рдХрддреЗ.

> ЁЯТБ рддреБрдореНрд╣реА рд╣рд╛ рдХреЛрдб [code-commands/server](../../../../../1-getting-started/lessons/4-connect-internet/code-commands/server) рдлреЛрд▓реНрдбрд░рдордзреНрдпреЗ рд╢реЛрдзреВ рд╢рдХрддрд╛.

### IoT рдбрд┐рд╡реНрд╣рд╛рдЗрд╕рд╡рд░ рдХрдорд╛рдВрдбреНрд╕ рд╣рд╛рддрд╛рд│рд╛

рдЖрддрд╛ рд╕рд░реНрд╡реНрд╣рд░рдХрдбреВрди рдХрдорд╛рдВрдбреНрд╕ рдкрд╛рдард╡рд▓реЗ рдЬрд╛рдд рдЖрд╣реЗрдд, рддреБрдореНрд╣реА рдЖрддрд╛ рдбрд┐рд╡реНрд╣рд╛рдЗрд╕рд╡рд░ рдХреЛрдб рдЬреЛрдбреВ рд╢рдХрддрд╛ рдЬреЗрдгреЗрдХрд░реВрди рддреЗ рдХрдорд╛рдВрдбреНрд╕ рд╣рд╛рддрд╛рд│рддреАрд▓ рдЖрдгрд┐ LED рдирд┐рдпрдВрддреНрд░рд┐рдд рдХрд░рддреАрд▓.

MQTT рдмреНрд░реЛрдХрд░реНрд╕рдХрдбреВрди рдХрдорд╛рдВрдбреНрд╕ рдРрдХрдгреНрдпрд╛рд╕рд╛рдареА рдЦрд╛рд▓реАрд▓ рд╕рдВрдмрдВрдзрд┐рдд рдЪрд░рдг рдЕрдиреБрд╕рд░рдг рдХрд░рд╛:

* [Arduino - Wio Terminal](wio-terminal-commands.md)
* [Single-board computer - Raspberry Pi/Virtual IoT device](single-board-computer-commands.md)

рдПрдХрджрд╛ рд╣рд╛ рдХреЛрдб рд▓рд┐рд╣реВрди рдЪрд╛рд▓реВ рдЭрд╛рд▓реНрдпрд╛рд╡рд░, рдкреНрд░рдХрд╛рд╢ рдкрд╛рддрд│реА рдмрджрд▓реВрди рдкреНрд░рдпреЛрдЧ рдХрд░рд╛. рд╕рд░реНрд╡реНрд╣рд░ рдЖрдгрд┐ рдбрд┐рд╡реНрд╣рд╛рдЗрд╕рдХрдбреВрди рдЖрдЙрдЯрдкреБрдЯ рдкрд╣рд╛ рдЖрдгрд┐ рдкреНрд░рдХрд╛рд╢ рдкрд╛рддрд│реА рдмрджрд▓рд▓реНрдпрд╛рд╡рд░ LED рдкрд╣рд╛.

### рдХрдиреЗрдХреНрдЯрд┐рд╡реНрд╣рд┐рдЯреА рдЧрдорд╛рд╡рдгреЗ

рдХреНрд▓рд╛рдЙрдб рд╕рд░реНрд╡реНрд╣рд┐рд╕рдиреЗ рдСрдлрд▓рд╛рдЗрди рдЕрд╕рд▓реЗрд▓реНрдпрд╛ IoT рдбрд┐рд╡
рдпрд╛ рдЙрдкрдХрд░рдгрд╛рдВрдмрджреНрджрд▓ рд╡рд┐рдЪрд╛рд░ рдХрд░рд╛, рддреЗ рдХреЛрдгрддреЗ рд╕рдВрджреЗрд╢ рдкрд╛рдард╡рдд рдХрд┐рдВрд╡рд╛ рдкреНрд░рд╛рдкреНрдд рдХрд░рдд рдЕрд╕рддреАрд▓? рддреЗ рдХреЛрдгрддреЗ рдЯреЗрд▓реАрдореЗрдЯреНрд░реА рдкрд╛рдард╡рддрд╛рдд? рддреЗ рдХреЛрдгрддреЗ рд╕рдВрджреЗрд╢ рдХрд┐рдВрд╡рд╛ рдЖрджреЗрд╢ рдкреНрд░рд╛рдкреНрдд рдХрд░рдд рдЕрд╕рддреАрд▓? рддреБрдореНрд╣рд╛рд▓рд╛ рд╡рд╛рдЯрддреЗ рдХрд╛ рдХреА рддреЗ рд╕реБрд░рдХреНрд╖рд┐рдд рдЖрд╣реЗрдд?

## рд╡реНрдпрд╛рдЦреНрдпрд╛рдирд╛рдирдВрддрд░рдЪрд╛ рдкреНрд░рд╢реНрдирдордВрдЬреВрд╖рд╛

[рд╡реНрдпрд╛рдЦреНрдпрд╛рдирд╛рдирдВрддрд░рдЪрд╛ рдкреНрд░рд╢реНрдирдордВрдЬреВрд╖рд╛](https://black-meadow-040d15503.1.azurestaticapps.net/quiz/8)

## рдкреБрдирд░рд╛рд╡рд▓реЛрдХрди рдЖрдгрд┐ рд╕реНрд╡-рдЕрднреНрдпрд╛рд╕

MQTT рдмрджреНрджрд▓ рдЕрдзрд┐рдХ рд╡рд╛рдЪрд╛ [MQTT Wikipedia рдкреГрд╖реНрдард╛рд╡рд░](https://wikipedia.org/wiki/MQTT).

рд╕реНрд╡рддрдГ MQTT рдмреНрд░реЛрдХрд░ рдЪрд╛рд▓рд╡реВрди рдкрд╛рд╣рд╛ [Mosquitto](https://www.mosquitto.org) рд╡рд╛рдкрд░реВрди рдЖрдгрд┐ рддреБрдордЪреНрдпрд╛ IoT рдЙрдкрдХрд░рдг рдЖрдгрд┐ рд╕рд░реНрд╡реНрд╣рд░ рдХреЛрдбрдордзреВрди рддреНрдпрд╛рд▓рд╛ рдХрдиреЗрдХреНрдЯ рдХрд░рд╛.

> ЁЯТБ рдЯрд┐рдк - Mosquitto рдбреАрдлреЙрд▓реНрдЯрдиреБрд╕рд╛рд░ рдЕрдирд╛рдорд┐рдХ рдХрдиреЗрдХреНрд╢рди (рдореНрд╣рдгрдЬреЗ рд╡рд╛рдкрд░рдХрд░реНрддрд╛рдирд╛рд╡ рдЖрдгрд┐ рдкрд╛рд╕рд╡рд░реНрдбрд╢рд┐рд╡рд╛рдп рдХрдиреЗрдХреНрдЯ рдХрд░рдгреЗ) рдкрд░рд╡рд╛рдирдЧреА рджреЗрдд рдирд╛рд╣реА, рдЖрдгрд┐ рддреЗ рдЪрд╛рд▓рдд рдЕрд╕рд▓реЗрд▓реНрдпрд╛ рд╕рдВрдЧрдгрдХрд╛рдЪреНрдпрд╛ рдмрд╛рд╣реЗрд░реВрди рдХрдиреЗрдХреНрд╢рди рдкрд░рд╡рд╛рдирдЧреА рджреЗрдд рдирд╛рд╣реА.
> рддреБрдореНрд╣реА рд╣реЗ [`mosquitto.conf` рдХреЙрдиреНрдлрд┐рдЧ рдлрд╛рдЗрд▓](https://www.mosquitto.org/man/mosquitto-conf-5.html) рд╡рд╛рдкрд░реВрди рд╕реБрдзрд╛рд░реВ рд╢рдХрддрд╛, рдЬреНрдпрд╛рдордзреНрдпреЗ рдЦрд╛рд▓реАрд▓рдкреНрд░рдорд╛рдгреЗ рдЖрд╣реЗ:
>
> ```sh
> listener 1883 0.0.0.0
> allow_anonymous true
> ```

## рдЕрд╕рд╛рдЗрдирдореЗрдВрдЯ

[MQTT рдЗрддрд░ рд╕рдВрд╡рд╛рдж рдкреНрд░реЛрдЯреЛрдХреЙрд▓реНрд╕рд╢реА рддреБрд▓рдирд╛ рдХрд░рд╛ рдЖрдгрд┐ рддреНрдпрд╛рдордзреАрд▓ рдлрд░рдХ рд╢реЛрдзрд╛](assignment.md)

---

**рдЕрд╕реНрд╡реАрдХрд░рдг**:  
рд╣рд╛ рджрд╕реНрддрдРрд╡рдЬ AI рднрд╛рд╖рд╛рдВрддрд░ рд╕реЗрд╡рд╛ [Co-op Translator](https://github.com/Azure/co-op-translator) рд╡рд╛рдкрд░реВрди рднрд╛рд╖рд╛рдВрддрд░рд┐рдд рдХрд░рдгреНрдпрд╛рдд рдЖрд▓рд╛ рдЖрд╣реЗ. рдЖрдореНрд╣реА рдЕрдЪреВрдХрддреЗрд╕рд╛рдареА рдкреНрд░рдпрддреНрдирд╢реАрд▓ рдЕрд╕рд▓реЛ рддрд░реА рдХреГрдкрдпрд╛ рд▓рдХреНрд╖рд╛рдд рдареЗрд╡рд╛ рдХреА рд╕реНрд╡рдпрдВрдЪрд▓рд┐рдд рднрд╛рд╖рд╛рдВрддрд░рд╛рдВрдордзреНрдпреЗ рддреНрд░реБрдЯреА рдХрд┐рдВрд╡рд╛ рдЕрдЪреВрдХрддреЗрдЪрд╛ рдЕрднрд╛рд╡ рдЕрд╕реВ рд╢рдХрддреЛ. рдореВрд│ рднрд╛рд╖реЗрддреАрд▓ рджрд╕реНрддрдРрд╡рдЬ рд╣рд╛ рдЕрдзрд┐рдХреГрдд рд╕реНрд░реЛрдд рдорд╛рдирд▓рд╛ рдЬрд╛рд╡рд╛. рдорд╣рддреНрддреНрд╡рд╛рдЪреНрдпрд╛ рдорд╛рд╣рд┐рддреАрд╕рд╛рдареА рд╡реНрдпрд╛рд╡рд╕рд╛рдпрд┐рдХ рдорд╛рдирд╡реА рднрд╛рд╖рд╛рдВрддрд░рд╛рдЪреА рд╢рд┐рдлрд╛рд░рд╕ рдХреЗрд▓реА рдЬрд╛рддреЗ. рдпрд╛ рднрд╛рд╖рд╛рдВрддрд░рд╛рдЪрд╛ рд╡рд╛рдкрд░ рдХрд░реВрди рдирд┐рд░реНрдорд╛рдг рд╣реЛрдгрд╛рд▒реНрдпрд╛ рдХреЛрдгрддреНрдпрд╛рд╣реА рдЧреИрд░рд╕рдордЬ рдХрд┐рдВрд╡рд╛ рдЪреБрдХреАрдЪреНрдпрд╛ рдЕрд░реНрдерд╛рд╕рд╛рдареА рдЖрдореНрд╣реА рдЬрдмрд╛рдмрджрд╛рд░ рд░рд╛рд╣рдгрд╛рд░ рдирд╛рд╣реА.