<!--
CO_OP_TRANSLATOR_METADATA:
{
  "original_hash": "f8f541ee945545017a51aaf309aa37c3",
  "translation_date": "2025-08-27T11:24:26+00:00",
  "source_file": "2-farm/lessons/3-automated-plant-watering/virtual-device-relay.md",
  "language_code": "mr"
}
-->
# рд░рд┐рд▓реЗ рдирд┐рдпрдВрддреНрд░рд┐рдд рдХрд░рд╛ - рдЖрднрд╛рд╕реА IoT рд╣рд╛рд░реНрдбрд╡реЗрдЕрд░

рдпрд╛ рдзрдбреНрдпрд╛рдЪреНрдпрд╛ рднрд╛рдЧрд╛рдд, рддреБрдореНрд╣реА рдорд╛рддреАрддреАрд▓ рдЖрд░реНрджреНрд░рддрд╛ рд╕реЗрдиреНрд╕рд░рд╢рд┐рд╡рд╛рдп рддреБрдордЪреНрдпрд╛ рдЖрднрд╛рд╕реА IoT рдбрд┐рд╡реНрд╣рд╛рдЗрд╕рд╡рд░ рдПрдХ рд░рд┐рд▓реЗ рдЬреЛрдбрд╛рд▓ рдЖрдгрд┐ рдорд╛рддреАрддреАрд▓ рдЖрд░реНрджреНрд░рддрд╛ рдкрд╛рддрд│реАрд╡рд░ рдЖрдзрд╛рд░рд┐рдд рддреНрдпрд╛рдЪреЗ рдирд┐рдпрдВрддреНрд░рдг рдХрд░рд╛рд▓.

## рдЖрднрд╛рд╕реА рд╣рд╛рд░реНрдбрд╡реЗрдЕрд░

рдЖрднрд╛рд╕реА IoT рдбрд┐рд╡реНрд╣рд╛рдЗрд╕ рд╕рд┐рдореНрдпреБрд▓реЗрдЯреЗрдб Grove рд░рд┐рд▓реЗ рд╡рд╛рдкрд░реЗрд▓. рд╣реЗ рдкреНрд░рдпреЛрдЧрд╢рд╛рд│рд╛ Raspberry Pi рдЖрдгрд┐ рднреМрддрд┐рдХ Grove рд░рд┐рд▓реЗ рд╡рд╛рдкрд░рдгреНрдпрд╛рд╕рд╛рд░рдЦреЗрдЪ рдареЗрд╡рддреЗ.

рднреМрддрд┐рдХ IoT рдбрд┐рд╡реНрд╣рд╛рдЗрд╕рдордзреНрдпреЗ, рд░рд┐рд▓реЗ рд╕рд╛рдорд╛рдиреНрдпрддрдГ рдЙрдШрдбреНрдпрд╛ рд╕реНрдерд┐рддреАрдд рдЕрд╕рддреЛ (рдпрд╛рдЪрд╛ рдЕрд░реНрде рдЖрдЙрдЯрдкреБрдЯ рд╕рд░реНрдХрд┐рдЯ рдЙрдШрдбреЗ рдХрд┐рдВрд╡рд╛ рдбрд┐рд╕реНрдХрдиреЗрдХреНрдЯ рдЕрд╕рддреЗ рдЬреЗрд╡реНрд╣рд╛ рд░рд┐рд▓реЗрд▓рд╛ рдХреЛрдгрддрд╛рд╣реА рд╕рд┐рдЧреНрдирд▓ рдкрд╛рдард╡рд▓рд╛ рдЬрд╛рдд рдирд╛рд╣реА). рдЕрд╕реЗ рд░рд┐рд▓реЗ 250V рдЖрдгрд┐ 10A рдкрд░реНрдпрдВрдд рдЖрдЙрдЯрдкреБрдЯ рд╕рд░реНрдХрд┐рдЯ рд╣рд╛рддрд╛рд│реВ рд╢рдХрддреЗ.

### CounterFit рдордзреНрдпреЗ рд░рд┐рд▓реЗ рдЬреЛрдбрд╛

рдЖрднрд╛рд╕реА рд░рд┐рд▓реЗ рд╡рд╛рдкрд░рдгреНрдпрд╛рд╕рд╛рдареА, рддреБрдореНрд╣рд╛рд▓рд╛ рддреЗ CounterFit рдЕреЕрдкрдордзреНрдпреЗ рдЬреЛрдбрд╛рд╡реЗ рд▓рд╛рдЧреЗрд▓.

#### рдХрд╛рд░реНрдп

CounterFit рдЕреЕрдкрдордзреНрдпреЗ рд░рд┐рд▓реЗ рдЬреЛрдбрд╛.

1. VS Code рдордзреНрдпреЗ рдорд╛рдЧреАрд▓ рдзрдбрд╛рддреАрд▓ `soil-moisture-sensor` рдкреНрд░рдХрд▓реНрдк рдЙрдШрдбрд╛, рдЬрд░ рддреЛ рдЖрдзреАрдЪ рдЙрдШрдбрд▓реЗрд▓рд╛ рдирд╕реЗрд▓. рддреБрдореНрд╣реА рдпрд╛ рдкреНрд░рдХрд▓реНрдкрд╛рдд рдмрджрд▓ рдХрд░рдгрд╛рд░ рдЖрд╣рд╛рдд.

1. CounterFit рд╡реЗрдм рдЕреЕрдк рдЪрд╛рд▓реВ рдЕрд╕рд▓реНрдпрд╛рдЪреА рдЦрд╛рддреНрд░реА рдХрд░рд╛.

1. рд░рд┐рд▓реЗ рддрдпрд╛рд░ рдХрд░рд╛:

    1. *Actuators* рдкреЕрдирдордзреАрд▓ *Create actuator* рдмреЙрдХреНрд╕рдордзреНрдпреЗ, *Actuator type* рдбреНрд░реЙрдкрдбрд╛рдЙрди рдХрд░рд╛ рдЖрдгрд┐ *Relay* рдирд┐рд╡рдбрд╛.

    1. *Pin* рд▓рд╛ *5* рд╕реЗрдЯ рдХрд░рд╛.

    1. **Add** рдмрдЯрдг рдирд┐рд╡рдбрд╛, рдЬреЗрдгреЗрдХрд░реВрди Pin 5 рд╡рд░ рд░рд┐рд▓реЗ рддрдпрд╛рд░ рд╣реЛрдИрд▓.

    ![рд░рд┐рд▓реЗ рд╕реЗрдЯрд┐рдВрдЧреНрдЬ](../../../../../translated_images/counterfit-create-relay.fa7c40fd0f2f6afc33b35ea94fcb235085be4861e14e3fe6b9b7bcfc82d1c888.mr.png)

    рд░рд┐рд▓реЗ рддрдпрд╛рд░ рд╣реЛрдИрд▓ рдЖрдгрд┐ actuators рдпрд╛рджреАрдд рджрд┐рд╕реЗрд▓.

    ![рддрдпрд╛рд░ рдХреЗрд▓реЗрд▓рд╛ рд░рд┐рд▓реЗ](../../../../../translated_images/counterfit-relay.bbf74c1dbdc8b9acd983367fcbd06703a402aefef6af54ddb28e11307ba8a12c.mr.png)

## рд░рд┐рд▓реЗ рдкреНрд░реЛрдЧреНрд░рд╛рдо рдХрд░рд╛

рдЖрддрд╛ рдорд╛рддреАрддреАрд▓ рдЖрд░реНрджреНрд░рддрд╛ рд╕реЗрдиреНрд╕рд░ рдЕреЕрдк рдЖрднрд╛рд╕реА рд░рд┐рд▓реЗ рд╡рд╛рдкрд░рдгреНрдпрд╛рд╕рд╛рдареА рдкреНрд░реЛрдЧреНрд░рд╛рдо рдХреЗрд▓рд╛ рдЬрд╛рдК рд╢рдХрддреЛ.

### рдХрд╛рд░реНрдп

рдЖрднрд╛рд╕реА рдбрд┐рд╡реНрд╣рд╛рдЗрд╕ рдкреНрд░реЛрдЧреНрд░рд╛рдо рдХрд░рд╛.

1. VS Code рдордзреНрдпреЗ рдорд╛рдЧреАрд▓ рдзрдбрд╛рддреАрд▓ `soil-moisture-sensor` рдкреНрд░рдХрд▓реНрдк рдЙрдШрдбрд╛, рдЬрд░ рддреЛ рдЖрдзреАрдЪ рдЙрдШрдбрд▓реЗрд▓рд╛ рдирд╕реЗрд▓. рддреБрдореНрд╣реА рдпрд╛ рдкреНрд░рдХрд▓реНрдкрд╛рдд рдмрджрд▓ рдХрд░рдгрд╛рд░ рдЖрд╣рд╛рдд.

1. `app.py` рдлрд╛рдЗрд▓рдордзреНрдпреЗ рд╡рд┐рджреНрдпрдорд╛рди рдЖрдпрд╛рддрд╛рдВрдЦрд╛рд▓реАрд▓ рдЦрд╛рд▓реАрд▓ рдХреЛрдб рдЬреЛрдбрд╛:

    ```python
    from counterfit_shims_grove.grove_relay import GroveRelay
    ```

    рд╣реА рд╕реНрдЯреЗрдЯрдореЗрдВрдЯ Grove Python shim рд▓рд╛рдпрдмреНрд░рд░реАрдордзреВрди `GroveRelay` рдЖрдпрд╛рдд рдХрд░рддреЗ, рдЬреЗрдгреЗрдХрд░реВрди рдЖрднрд╛рд╕реА Grove рд░рд┐рд▓реЗрд╢реА рд╕рдВрд╡рд╛рдж рд╕рд╛рдзрддрд╛ рдпреЗрдИрд▓.

1. `ADC` рд╡рд░реНрдЧрд╛рдЪреНрдпрд╛ рдШреЛрд╖рдгреЗрдЦрд╛рд▓реАрд▓ рдЦрд╛рд▓реАрд▓ рдХреЛрдб рдЬреЛрдбрд╛, рдЬреЗрдгреЗрдХрд░реВрди `GroveRelay` рдЙрджрд╛рд╣рд░рдг рддрдпрд╛рд░ рд╣реЛрдИрд▓:

    ```python
    relay = GroveRelay(5)
    ```

    рд╣реЗ Pin **5** рд╡рд╛рдкрд░реВрди рд░рд┐рд▓реЗ рддрдпрд╛рд░ рдХрд░рддреЗ, рдЬреНрдпрд╛рд╡рд░ рддреБрдореНрд╣реА рд░рд┐рд▓реЗ рдЬреЛрдбрд▓рд╛ рдЖрд╣реЗ.

1. рд░рд┐рд▓реЗ рдХрд╛рд░реНрдпрд░рдд рдЖрд╣реЗ рдХрд╛ рд╣реЗ рддрдкрд╛рд╕рдгреНрдпрд╛рд╕рд╛рдареА, `while True:` рд▓реВрдкрдордзреНрдпреЗ рдЦрд╛рд▓реАрд▓ рдХреЛрдб рдЬреЛрдбрд╛:

    ```python
    relay.on()
    time.sleep(.5)
    relay.off()
    ```

    рд╣рд╛ рдХреЛрдб рд░рд┐рд▓реЗ рдЪрд╛рд▓реВ рдХрд░рддреЛ, 0.5 рд╕реЗрдХрдВрдж рдерд╛рдВрдмрддреЛ, рдЖрдгрд┐ рдирдВрддрд░ рд░рд┐рд▓реЗ рдмрдВрдж рдХрд░рддреЛ.

1. Python рдЕреЕрдк рдЪрд╛рд▓рд╡рд╛. рд░рд┐рд▓реЗ рдкреНрд░рддреНрдпреЗрдХ 10 рд╕реЗрдХрдВрджрд╛рдВрдиреА рдЪрд╛рд▓реВ рдЖрдгрд┐ рдмрдВрдж рд╣реЛрдИрд▓, рдЪрд╛рд▓реВ рдЖрдгрд┐ рдмрдВрдж рд╣реЛрдгреНрдпрд╛рдордзреНрдпреЗ рдЕрд░реНрдзрд╛ рд╕реЗрдХрдВрджрд╛рдЪрд╛ рд╡рд┐рд▓рдВрдм рдЕрд╕реЗрд▓. CounterFit рдЕреЕрдкрдордзреНрдпреЗ рддреБрдореНрд╣реА рдЖрднрд╛рд╕реА рд░рд┐рд▓реЗ рдмрдВрдж рдЖрдгрд┐ рдЙрдШрдбрддрд╛рдирд╛ рдкрд╛рд╣реВ рд╢рдХрддрд╛.

    ![рдЖрднрд╛рд╕реА рд░рд┐рд▓реЗ рдЪрд╛рд▓реВ рдЖрдгрд┐ рдмрдВрдж рд╣реЛрдд рдЖрд╣реЗ](../../../../../images/virtual-relay-turn-on-off.gif)

## рдорд╛рддреАрддреАрд▓ рдЖрд░реНрджреНрд░рддреЗрд╡рд░реВрди рд░рд┐рд▓реЗ рдирд┐рдпрдВрддреНрд░рд┐рдд рдХрд░рд╛

рдЖрддрд╛ рд░рд┐рд▓реЗ рдХрд╛рд░реНрдпрд░рдд рдЖрд╣реЗ, рддреЗ рдорд╛рддреАрддреАрд▓ рдЖрд░реНрджреНрд░рддрд╛ рд╡рд╛рдЪрдирд╛рдВрдиреБрд╕рд╛рд░ рдирд┐рдпрдВрддреНрд░рд┐рдд рдХреЗрд▓реЗ рдЬрд╛рдК рд╢рдХрддреЗ.

### рдХрд╛рд░реНрдп

рд░рд┐рд▓реЗ рдирд┐рдпрдВрддреНрд░рд┐рдд рдХрд░рд╛.

1. рд░рд┐рд▓реЗ рддрдкрд╛рд╕рдгреНрдпрд╛рд╕рд╛рдареА рдЬреЛрдбрд▓реЗрд▓реА 3 рдУрд│реАрдВрдЪрд╛ рдХреЛрдб рд╣рдЯрд╡рд╛. рддреНрдпрд╛рдРрд╡рдЬреА рдЦрд╛рд▓реАрд▓ рдХреЛрдб рдЬреЛрдбрд╛:

    ```python
    if soil_moisture > 450:
        print("Soil Moisture is too low, turning relay on.")
        relay.on()
    else:
        print("Soil Moisture is ok, turning relay off.")
        relay.off()
    ```

    рд╣рд╛ рдХреЛрдб рдорд╛рддреАрддреАрд▓ рдЖрд░реНрджреНрд░рддрд╛ рд╕реЗрдиреНрд╕рд░рдордзреВрди рдорд╛рддреАрддреАрд▓ рдЖрд░реНрджреНрд░рддрд╛ рдкрд╛рддрд│реА рддрдкрд╛рд╕рддреЛ. рдЬрд░ рддреА 450 рдкреЗрдХреНрд╖рд╛ рдЬрд╛рд╕реНрдд рдЕрд╕реЗрд▓, рддрд░ рд░рд┐рд▓реЗ рдЪрд╛рд▓реВ рдХрд░рддреЗ, рдЖрдгрд┐ 450 рдкреЗрдХреНрд╖рд╛ рдХрдореА рдЭрд╛рд▓реНрдпрд╛рд╕ рдмрдВрдж рдХрд░рддреЗ.

    > ЁЯТБ рд▓рдХреНрд╖рд╛рдд рдареЗрд╡рд╛, рдХреЕрдкреЗрд╕рд┐рдЯрд┐рд╡ рдорд╛рддреАрддреАрд▓ рдЖрд░реНрджреНрд░рддрд╛ рд╕реЗрдиреНрд╕рд░ рд╡рд╛рдЪрддреЛ рдХреА рдорд╛рддреАрддреАрд▓ рдЖрд░реНрджреНрд░рддрд╛ рдкрд╛рддрд│реА рдЬрд┐рддрдХреА рдХрдореА рдЕрд╕реЗрд▓, рддрд┐рддрдХреА рдорд╛рддреА рдЬрд╛рд╕реНрдд рдУрд▓рд╕рд░ рдЕрд╕реЗрд▓ рдЖрдгрд┐ рдЙрд▓рдЯ.

1. Python рдЕреЕрдк рдЪрд╛рд▓рд╡рд╛. рддреБрдореНрд╣реА рдорд╛рддреАрддреАрд▓ рдЖрд░реНрджреНрд░рддрд╛ рдкрд╛рддрд│реАрд╡рд░ рдЖрдзрд╛рд░рд┐рдд рд░рд┐рд▓реЗ рдЪрд╛рд▓реВ рдХрд┐рдВрд╡рд╛ рдмрдВрдж рд╣реЛрддрд╛рдирд╛ рдкрд╛рд╣реВ рд╢рдХрддрд╛. рдорд╛рддреАрддреАрд▓ рдЖрд░реНрджреНрд░рддрд╛ рд╕реЗрдиреНрд╕рд░рд╕рд╛рдареА *Value* рдХрд┐рдВрд╡рд╛ *Random* рд╕реЗрдЯрд┐рдВрдЧреНрдЬ рдмрджрд▓рд╛ рдЖрдгрд┐ рдореВрд▓реНрдп рдмрджрд▓рддрд╛рдирд╛ рдкрд╛рд╣рд╛.

    ```output
    Soil Moisture: 638
    Soil Moisture is too low, turning relay on.
    Soil Moisture: 452
    Soil Moisture is too low, turning relay on.
    Soil Moisture: 347
    Soil Moisture is ok, turning relay off.
    ```

> ЁЯТБ рддреБрдореНрд╣реА рд╣рд╛ рдХреЛрдб [code-relay/virtual-device](../../../../../2-farm/lessons/3-automated-plant-watering/code-relay/virtual-device) рдлреЛрд▓реНрдбрд░рдордзреНрдпреЗ рд╢реЛрдзреВ рд╢рдХрддрд╛.

ЁЯША рддреБрдордЪрд╛ рдЖрднрд╛рд╕реА рдорд╛рддреАрддреАрд▓ рдЖрд░реНрджреНрд░рддрд╛ рд╕реЗрдиреНрд╕рд░ рд░рд┐рд▓реЗ рдирд┐рдпрдВрддреНрд░рд┐рдд рдХрд░рдгрд╛рд░рд╛ рдкреНрд░реЛрдЧреНрд░рд╛рдо рдпрд╢рд╕реНрд╡реА рдЭрд╛рд▓рд╛!

---

**рдЕрд╕реНрд╡реАрдХрд░рдг**:  
рд╣рд╛ рджрд╕реНрддрдРрд╡рдЬ AI рднрд╛рд╖рд╛рдВрддрд░ рд╕реЗрд╡рд╛ [Co-op Translator](https://github.com/Azure/co-op-translator) рд╡рд╛рдкрд░реВрди рднрд╛рд╖рд╛рдВрддрд░рд┐рдд рдХрд░рдгреНрдпрд╛рдд рдЖрд▓рд╛ рдЖрд╣реЗ. рдЖрдореНрд╣реА рдЕрдЪреВрдХрддреЗрд╕рд╛рдареА рдкреНрд░рдпрддреНрдирд╢реАрд▓ рдЕрд╕рд▓реЛ рддрд░реА, рдХреГрдкрдпрд╛ рд▓рдХреНрд╖рд╛рдд рдареЗрд╡рд╛ рдХреА рд╕реНрд╡рдпрдВрдЪрд▓рд┐рдд рднрд╛рд╖рд╛рдВрддрд░рд╛рдВрдордзреНрдпреЗ рддреНрд░реБрдЯреА рдХрд┐рдВрд╡рд╛ рдЕрдЪреВрдХрддреЗрдЪрд╛ рдЕрднрд╛рд╡ рдЕрд╕реВ рд╢рдХрддреЛ. рдореВрд│ рднрд╛рд╖реЗрддреАрд▓ рджрд╕реНрддрдРрд╡рдЬ рд╣рд╛ рдЕрдзрд┐рдХреГрдд рд╕реНрд░реЛрдд рдорд╛рдирд▓рд╛ рдЬрд╛рд╡рд╛. рдорд╣рддреНрддреНрд╡рд╛рдЪреНрдпрд╛ рдорд╛рд╣рд┐рддреАрд╕рд╛рдареА, рд╡реНрдпрд╛рд╡рд╕рд╛рдпрд┐рдХ рдорд╛рдирд╡реА рднрд╛рд╖рд╛рдВрддрд░рд╛рдЪреА рд╢рд┐рдлрд╛рд░рд╕ рдХреЗрд▓реА рдЬрд╛рддреЗ. рдпрд╛ рднрд╛рд╖рд╛рдВрддрд░рд╛рдЪрд╛ рд╡рд╛рдкрд░ рдХрд░реВрди рдЙрджреНрднрд╡рд▓реЗрд▓реНрдпрд╛ рдХреЛрдгрддреНрдпрд╛рд╣реА рдЧреИрд░рд╕рдордЬ рдХрд┐рдВрд╡рд╛ рдЪреБрдХреАрдЪреНрдпрд╛ рдЕрд░реНрдерд╛рд╕рд╛рдареА рдЖрдореНрд╣реА рдЬрдмрд╛рдмрджрд╛рд░ рд░рд╛рд╣рдгрд╛рд░ рдирд╛рд╣реА.