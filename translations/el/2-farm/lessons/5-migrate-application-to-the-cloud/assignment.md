<!--
CO_OP_TRANSLATOR_METADATA:
{
  "original_hash": "c24b6e4d90501c9199f2ceb6a648a337",
  "translation_date": "2025-08-27T21:52:44+00:00",
  "source_file": "2-farm/lessons/5-migrate-application-to-the-cloud/assignment.md",
  "language_code": "el"
}
-->
# Προσθήκη χειροκίνητου ελέγχου ρελέ

## Οδηγίες

Ο κώδικας χωρίς διακομιστή μπορεί να ενεργοποιηθεί από διάφορα πράγματα, συμπεριλαμβανομένων των αιτημάτων HTTP. Μπορείτε να χρησιμοποιήσετε ενεργοποιήσεις HTTP για να προσθέσετε μια χειροκίνητη παράκαμψη στον έλεγχο του ρελέ, επιτρέποντας σε κάποιον να ενεργοποιήσει ή να απενεργοποιήσει το ρελέ μέσω μιας αίτησης ιστού.

Για αυτήν την εργασία, πρέπει να προσθέσετε δύο ενεργοποιήσεις HTTP στην εφαρμογή Functions App σας για να ενεργοποιήσετε και να απενεργοποιήσετε το ρελέ, επαναχρησιμοποιώντας όσα έχετε μάθει από αυτό το μάθημα για να στείλετε εντολές στη συσκευή.

Μερικές συμβουλές:

* Μπορείτε να προσθέσετε μια ενεργοποίηση HTTP στην υπάρχουσα εφαρμογή Functions App σας με την ακόλουθη εντολή:

    ```sh
    func new --name <trigger name> --template "HTTP trigger"
    ```

    Αντικαταστήστε το `<trigger name>` με το όνομα για την ενεργοποίηση HTTP. Χρησιμοποιήστε κάτι όπως `relay_on` και `relay_off`.

* Οι ενεργοποιήσεις HTTP μπορούν να έχουν έλεγχο πρόσβασης. Από προεπιλογή, απαιτούν ένα API key συγκεκριμένο για τη λειτουργία να περάσει με τη διεύθυνση URL για να εκτελεστούν. Για αυτήν την εργασία, μπορείτε να αφαιρέσετε αυτόν τον περιορισμό ώστε οποιοσδήποτε να μπορεί να εκτελέσει τη λειτουργία. Για να το κάνετε αυτό, ενημερώστε τη ρύθμιση `authLevel` στο αρχείο `function.json` για τις ενεργοποιήσεις HTTP ως εξής:

    ```json
    "authLevel": "anonymous"
    ```

    > 💁 Μπορείτε να διαβάσετε περισσότερα για αυτόν τον έλεγχο πρόσβασης στην [τεκμηρίωση για τα κλειδιά πρόσβασης λειτουργιών](https://docs.microsoft.com/azure/azure-functions/functions-bindings-http-webhook-trigger?WT.mc_id=academic-17441-jabenn#authorization-keys).

* Οι ενεργοποιήσεις HTTP από προεπιλογή υποστηρίζουν αιτήματα GET και POST. Αυτό σημαίνει ότι μπορείτε να τις καλέσετε χρησιμοποιώντας τον περιηγητή σας - οι περιηγητές ιστού κάνουν αιτήματα GET.

    Όταν εκτελείτε την εφαρμογή Functions App τοπικά, θα δείτε τη διεύθυνση URL της ενεργοποίησης:

    ```output
    Functions:

        relay_off: [GET,POST] http://localhost:7071/api/relay_off

        relay_on: [GET,POST] http://localhost:7071/api/relay_on

        iot-hub-trigger: eventHubTrigger
    ```

    Επικολλήστε τη διεύθυνση URL στον περιηγητή σας και πατήστε `return`, ή `Ctrl+click` (`Cmd+click` σε macOS) τον σύνδεσμο στο παράθυρο τερματικού στο VS Code για να τον ανοίξετε στον προεπιλεγμένο περιηγητή σας. Αυτό θα εκτελέσει την ενεργοποίηση.

    > 💁 Παρατηρήστε ότι η διεύθυνση URL έχει `/api` μέσα της - οι ενεργοποιήσεις HTTP βρίσκονται από προεπιλογή στον υποτομέα `api`.

* Όταν αναπτύξετε την εφαρμογή Functions App, η διεύθυνση URL της ενεργοποίησης HTTP θα είναι:

    `https://<functions app name>.azurewebsites.net/api/<trigger name>`

    Όπου το `<functions app name>` είναι το όνομα της εφαρμογής Functions App σας, και το `<trigger name>` είναι το όνομα της ενεργοποίησής σας.

## Κριτήρια Αξιολόγησης

| Κριτήριο | Εξαιρετικό | Επαρκές | Χρειάζεται Βελτίωση |
| -------- | --------- | -------- | ----------------- |
| Δημιουργία ενεργοποιήσεων HTTP | Δημιουργήθηκαν 2 ενεργοποιήσεις για την ενεργοποίηση και απενεργοποίηση του ρελέ, με κατάλληλα ονόματα | Δημιουργήθηκε μία ενεργοποίηση με κατάλληλο όνομα | Δεν ήταν δυνατή η δημιουργία ενεργοποιήσεων |
| Έλεγχος του ρελέ από τις ενεργοποιήσεις HTTP | Ήταν δυνατή η σύνδεση και των δύο ενεργοποιήσεων με το IoT Hub και ο κατάλληλος έλεγχος του ρελέ | Ήταν δυνατή η σύνδεση μίας ενεργοποίησης με το IoT Hub και ο κατάλληλος έλεγχος του ρελέ | Δεν ήταν δυνατή η σύνδεση των ενεργοποιήσεων με το IoT Hub |

---

**Αποποίηση Ευθύνης**:  
Αυτό το έγγραφο έχει μεταφραστεί χρησιμοποιώντας την υπηρεσία αυτόματης μετάφρασης [Co-op Translator](https://github.com/Azure/co-op-translator). Παρόλο που καταβάλλουμε προσπάθειες για ακρίβεια, παρακαλούμε να έχετε υπόψη ότι οι αυτόματες μεταφράσεις ενδέχεται να περιέχουν σφάλματα ή ανακρίβειες. Το πρωτότυπο έγγραφο στη μητρική του γλώσσα θα πρέπει να θεωρείται η αυθεντική πηγή. Για κρίσιμες πληροφορίες, συνιστάται επαγγελματική ανθρώπινη μετάφραση. Δεν φέρουμε ευθύνη για τυχόν παρεξηγήσεις ή εσφαλμένες ερμηνείες που προκύπτουν από τη χρήση αυτής της μετάφρασης.