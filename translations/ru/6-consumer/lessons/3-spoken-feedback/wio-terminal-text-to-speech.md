<!--
CO_OP_TRANSLATOR_METADATA:
{
  "original_hash": "a202fa5889790a3777bfc33dd9f4b459",
  "translation_date": "2025-08-27T00:13:31+00:00",
  "source_file": "6-consumer/lessons/3-spoken-feedback/wio-terminal-text-to-speech.md",
  "language_code": "ru"
}
-->
# –¢–µ–∫—Å—Ç –≤ —Ä–µ—á—å - Wio Terminal

–í —ç—Ç–æ–π —á–∞—Å—Ç–∏ —É—Ä–æ–∫–∞ –≤—ã –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç–µ —Ç–µ–∫—Å—Ç –≤ —Ä–µ—á—å, —á—Ç–æ–±—ã –æ–±–µ—Å–ø–µ—á–∏—Ç—å –≥–æ–ª–æ—Å–æ–≤—É—é –æ–±—Ä–∞—Ç–Ω—É—é —Å–≤—è–∑—å.

## –¢–µ–∫—Å—Ç –≤ —Ä–µ—á—å

SDK —Å–µ—Ä–≤–∏—Å–æ–≤ —Ä–µ—á–∏, –∫–æ—Ç–æ—Ä—ã–π –≤—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏ –≤ –ø—Ä–æ—à–ª–æ–º —É—Ä–æ–∫–µ –¥–ª—è –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è —Ä–µ—á–∏ –≤ —Ç–µ–∫—Å—Ç, —Ç–∞–∫–∂–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω –¥–ª—è –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è —Ç–µ–∫—Å—Ç–∞ –æ–±—Ä–∞—Ç–Ω–æ –≤ —Ä–µ—á—å.

## –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –≥–æ–ª–æ—Å–æ–≤

–ü—Ä–∏ –∑–∞–ø—Ä–æ—Å–µ —Ä–µ—á–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —É–∫–∞–∑–∞—Ç—å –≥–æ–ª–æ—Å, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è, —Ç–∞–∫ –∫–∞–∫ —Ä–µ—á—å –º–æ–∂–µ—Ç –±—ã—Ç—å —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–∞ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –≥–æ–ª–æ—Å–æ–≤. –ö–∞–∂–¥—ã–π —è–∑—ã–∫ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –º–Ω–æ–∂–µ—Å—Ç–≤–æ –≥–æ–ª–æ—Å–æ–≤, –∏ –≤—ã –º–æ–∂–µ—Ç–µ –ø–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã—Ö –≥–æ–ª–æ—Å–æ–≤ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —è–∑—ã–∫–∞ —á–µ—Ä–µ–∑ SDK —Å–µ—Ä–≤–∏—Å–æ–≤ —Ä–µ—á–∏. –ó–¥–µ—Å—å –≤—Å—Ç—É–ø–∞—é—Ç –≤ —Å–∏–ª—É –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –º–∏–∫—Ä–æ–∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–æ–≤ ‚Äî –≤—ã–∑–æ–≤ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Å–ø–∏—Å–∫–∞ –≥–æ–ª–æ—Å–æ–≤, –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã—Ö —Å–µ—Ä–≤–∏—Å–∞–º–∏ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è —Ç–µ–∫—Å—Ç–∞ –≤ —Ä–µ—á—å, –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π JSON-–¥–æ–∫—É–º–µ–Ω—Ç —Ä–∞–∑–º–µ—Ä–æ–º –±–æ–ª–µ–µ 77 –ö–ë, —á—Ç–æ —Å–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –Ω–∞ Wio Terminal. –ù–∞ –º–æ–º–µ–Ω—Ç –Ω–∞–ø–∏—Å–∞–Ω–∏—è –ø–æ–ª–Ω—ã–π —Å–ø–∏—Å–æ–∫ —Å–æ–¥–µ—Ä–∂–∏—Ç 215 –≥–æ–ª–æ—Å–æ–≤, –∫–∞–∂–¥—ã–π –∏–∑ –∫–æ—Ç–æ—Ä—ã—Ö –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω JSON-–¥–æ–∫—É–º–µ–Ω—Ç–æ–º, –ø–æ–¥–æ–±–Ω—ã–º —Å–ª–µ–¥—É—é—â–µ–º—É:

```json
{
    "Name": "Microsoft Server Speech Text to Speech Voice (en-US, AriaNeural)",
    "DisplayName": "Aria",
    "LocalName": "Aria",
    "ShortName": "en-US-AriaNeural",
    "Gender": "Female",
    "Locale": "en-US",
    "StyleList": [
        "chat",
        "customerservice",
        "narration-professional",
        "newscast-casual",
        "newscast-formal",
        "cheerful",
        "empathetic"
    ],
    "SampleRateHertz": "24000",
    "VoiceType": "Neural",
    "Status": "GA"
}
```

–≠—Ç–æ—Ç JSON –æ—Ç–Ω–æ—Å–∏—Ç—Å—è –∫ –≥–æ–ª–æ—Å—É **Aria**, –∫–æ—Ç–æ—Ä—ã–π –∏–º–µ–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å—Ç–∏–ª–µ–π. –í—Å–µ, —á—Ç–æ –Ω—É–∂–Ω–æ –¥–ª—è –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è —Ç–µ–∫—Å—Ç–∞ –≤ —Ä–µ—á—å, ‚Äî —ç—Ç–æ –∫–æ—Ä–æ—Ç–∫–æ–µ –∏–º—è, `en-US-AriaNeural`.

–í–º–µ—Å—Ç–æ –∑–∞–≥—Ä—É–∑–∫–∏ –∏ –¥–µ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è –≤—Å–µ–≥–æ —Å–ø–∏—Å–∫–∞ –Ω–∞ –≤–∞—à–µ–º –º–∏–∫—Ä–æ–∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–µ, –≤–∞–º –Ω—É–∂–Ω–æ –Ω–∞–ø–∏—Å–∞—Ç—å –Ω–µ–º–Ω–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–Ω–æ–≥–æ –∫–æ–¥–∞, —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –≥–æ–ª–æ—Å–æ–≤ –¥–ª—è –∏—Å–ø–æ–ª—å–∑—É–µ–º–æ–≥–æ –≤–∞–º–∏ —è–∑—ã–∫–∞, –∏ –≤—ã–∑–≤–∞—Ç—å –µ–≥–æ —Å –≤–∞—à–µ–≥–æ Wio Terminal. –í–∞—à –∫–æ–¥ –∑–∞—Ç–µ–º –º–æ–∂–µ—Ç –≤—ã–±—Ä–∞—Ç—å –ø–æ–¥—Ö–æ–¥—è—â–∏–π –≥–æ–ª–æ—Å –∏–∑ —Å–ø–∏—Å–∫–∞, –Ω–∞–ø—Ä–∏–º–µ—Ä, –ø–µ—Ä–≤—ã–π –Ω–∞–π–¥–µ–Ω–Ω—ã–π.

### –ó–∞–¥–∞—á–∞ - —Å–æ–∑–¥–∞—Ç—å —Å–µ—Ä–≤–µ—Ä–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Å–ø–∏—Å–∫–∞ –≥–æ–ª–æ—Å–æ–≤

1. –û—Ç–∫—Ä–æ–π—Ç–µ –≤–∞—à –ø—Ä–æ–µ–∫—Ç `smart-timer-trigger` –≤ VS Code –∏ –æ—Ç–∫—Ä–æ–π—Ç–µ —Ç–µ—Ä–º–∏–Ω–∞–ª, —É–±–µ–¥–∏–≤—à–∏—Å—å, —á—Ç–æ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–∞—è —Å—Ä–µ–¥–∞ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω–∞. –ï—Å–ª–∏ –Ω–µ—Ç, –∑–∞–≤–µ—Ä—à–∏—Ç–µ –∏ —Å–æ–∑–¥–∞–π—Ç–µ —Ç–µ—Ä–º–∏–Ω–∞–ª –∑–∞–Ω–æ–≤–æ.

1. –û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª `local.settings.json` –∏ –¥–æ–±–∞–≤—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è –∫–ª—é—á–∞ API —Å–µ—Ä–≤–∏—Å–∞ —Ä–µ—á–∏ –∏ –µ–≥–æ —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏—è:

    ```json
    "SPEECH_KEY": "<key>",
    "SPEECH_LOCATION": "<location>"
    ```

    –ó–∞–º–µ–Ω–∏—Ç–µ `<key>` –Ω–∞ –∫–ª—é—á API –¥–ª—è –≤–∞—à–µ–≥–æ —Ä–µ—Å—É—Ä—Å–∞ —Å–µ—Ä–≤–∏—Å–∞ —Ä–µ—á–∏. –ó–∞–º–µ–Ω–∏—Ç–µ `<location>` –Ω–∞ —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ –≤—ã —É–∫–∞–∑–∞–ª–∏ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ —Ä–µ—Å—É—Ä—Å–∞ —Å–µ—Ä–≤–∏—Å–∞ —Ä–µ—á–∏.

1. –î–æ–±–∞–≤—å—Ç–µ –Ω–æ–≤—ã–π HTTP-—Ç—Ä–∏–≥–≥–µ—Ä –≤ —ç—Ç–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø–æ–¥ –Ω–∞–∑–≤–∞–Ω–∏–µ–º `get-voices`, –∏—Å–ø–æ–ª—å–∑—É—è —Å–ª–µ–¥—É—é—â—É—é –∫–æ–º–∞–Ω–¥—É –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ VS Code –≤ –∫–æ—Ä–Ω–µ–≤–æ–π –ø–∞–ø–∫–µ –ø—Ä–æ–µ–∫—Ç–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–π:

    ```sh
    func new --name get-voices --template "HTTP trigger"
    ```

    –≠—Ç–æ —Å–æ–∑–¥–∞—Å—Ç HTTP-—Ç—Ä–∏–≥–≥–µ—Ä –ø–æ–¥ –Ω–∞–∑–≤–∞–Ω–∏–µ–º `get-voices`.

1. –ó–∞–º–µ–Ω–∏—Ç–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–∞–π–ª–∞ `__init__.py` –≤ –ø–∞–ø–∫–µ `get-voices` —Å–ª–µ–¥—É—é—â–∏–º:

    ```python
    import json
    import os
    import requests
    
    import azure.functions as func
    
    def main(req: func.HttpRequest) -> func.HttpResponse:
        location = os.environ['SPEECH_LOCATION']
        speech_key = os.environ['SPEECH_KEY']
    
        req_body = req.get_json()
        language = req_body['language']
    
        url = f'https://{location}.tts.speech.microsoft.com/cognitiveservices/voices/list'
    
        headers = {
            'Ocp-Apim-Subscription-Key': speech_key
        }
    
        response = requests.get(url, headers=headers)
        voices_json = json.loads(response.text)
    
        voices = filter(lambda x: x['Locale'].lower() == language.lower(), voices_json)
        voices = map(lambda x: x['ShortName'], voices)
    
        return func.HttpResponse(json.dumps(list(voices)), status_code=200)
    ```

    –≠—Ç–æ—Ç –∫–æ–¥ –≤—ã–ø–æ–ª–Ω—è–µ—Ç HTTP-–∑–∞–ø—Ä–æ—Å –∫ –∫–æ–Ω–µ—á–Ω–æ–π —Ç–æ—á–∫–µ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –≥–æ–ª–æ—Å–æ–≤. –°–ø–∏—Å–æ–∫ –≥–æ–ª–æ—Å–æ–≤ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π –±–æ–ª—å—à–æ–π –±–ª–æ–∫ JSON —Å –≥–æ–ª–æ—Å–∞–º–∏ –¥–ª—è –≤—Å–µ—Ö —è–∑—ã–∫–æ–≤, –ø–æ—ç—Ç–æ–º—É –≥–æ–ª–æ—Å–∞ –¥–ª—è —è–∑—ã–∫–∞, –ø–µ—Ä–µ–¥–∞–Ω–Ω–æ–≥–æ –≤ —Ç–µ–ª–µ –∑–∞–ø—Ä–æ—Å–∞, —Ñ–∏–ª—å—Ç—Ä—É—é—Ç—Å—è, –∑–∞—Ç–µ–º –∏–∑–≤–ª–µ–∫–∞–µ—Ç—Å—è –∫–æ—Ä–æ—Ç–∫–æ–µ –∏–º—è –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –≤ –≤–∏–¥–µ JSON-—Å–ø–∏—Å–∫–∞. –ö–æ—Ä–æ—Ç–∫–æ–µ –∏–º—è ‚Äî —ç—Ç–æ –∑–Ω–∞—á–µ–Ω–∏–µ, –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ–µ –¥–ª—è –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è —Ç–µ–∫—Å—Ç–∞ –≤ —Ä–µ—á—å, –ø–æ—ç—Ç–æ–º—É –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –æ–Ω–æ.

    > üíÅ –í—ã –º–æ–∂–µ—Ç–µ –∏–∑–º–µ–Ω–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä –ø–æ –º–µ—Ä–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏, —á—Ç–æ–±—ã –≤—ã–±—Ä–∞—Ç—å —Ç–æ–ª—å–∫–æ —Ç–µ –≥–æ–ª–æ—Å–∞, –∫–æ—Ç–æ—Ä—ã–µ –≤–∞–º –Ω—É–∂–Ω—ã.

    –≠—Ç–æ —É–º–µ–Ω—å—à–∞–µ—Ç —Ä–∞–∑–º–µ—Ä –¥–∞–Ω–Ω—ã—Ö —Å 77 –ö–ë (–Ω–∞ –º–æ–º–µ–Ω—Ç –Ω–∞–ø–∏—Å–∞–Ω–∏—è) –¥–æ –≥–æ—Ä–∞–∑–¥–æ –º–µ–Ω—å—à–µ–≥–æ JSON-–¥–æ–∫—É–º–µ–Ω—Ç–∞. –ù–∞–ø—Ä–∏–º–µ—Ä, –¥–ª—è –≥–æ–ª–æ—Å–æ–≤ –°–®–ê —ç—Ç–æ 408 –±–∞–π—Ç.

1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –≤–∞—à–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–π –ª–æ–∫–∞–ª—å–Ω–æ. –ó–∞—Ç–µ–º –≤—ã –º–æ–∂–µ—Ç–µ –≤—ã–∑–≤–∞—Ç—å –µ–≥–æ —Å –ø–æ–º–æ—â—å—é –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞, —Ç–∞–∫–æ–≥–æ –∫–∞–∫ curl, —Ç–∞–∫ –∂–µ, –∫–∞–∫ –≤—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–ª–∏ HTTP-—Ç—Ä–∏–≥–≥–µ—Ä `text-to-timer`. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—ã –ø–µ—Ä–µ–¥–∞–µ—Ç–µ –≤–∞—à —è–∑—ã–∫ –≤ —Ç–µ–ª–µ JSON:

    ```json
    {
        "language":"<language>"
    }
    ```

    –ó–∞–º–µ–Ω–∏—Ç–µ `<language>` –Ω–∞ –≤–∞—à —è–∑—ã–∫, –Ω–∞–ø—Ä–∏–º–µ—Ä, `en-GB` –∏–ª–∏ `zh-CN`.

> üíÅ –í—ã –º–æ–∂–µ—Ç–µ –Ω–∞–π—Ç–∏ —ç—Ç–æ—Ç –∫–æ–¥ –≤ –ø–∞–ø–∫–µ [code-spoken-response/functions](../../../../../6-consumer/lessons/3-spoken-feedback/code-spoken-response/functions).

### –ó–∞–¥–∞—á–∞ - –ø–æ–ª—É—á–∏—Ç—å –≥–æ–ª–æ—Å —Å –≤–∞—à–µ–≥–æ Wio Terminal

1. –û—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–æ–µ–∫—Ç `smart-timer` –≤ VS Code, –µ—Å–ª–∏ –æ–Ω –µ—â–µ –Ω–µ –æ—Ç–∫—Ä—ã—Ç.

1. –û—Ç–∫—Ä–æ–π—Ç–µ –∑–∞–≥–æ–ª–æ–≤–æ—á–Ω—ã–π —Ñ–∞–π–ª `config.h` –∏ –¥–æ–±–∞–≤—å—Ç–µ URL –¥–ª—è –≤–∞—à–µ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–π:

    ```cpp
    const char *GET_VOICES_FUNCTION_URL = "<URL>";
    ```

    –ó–∞–º–µ–Ω–∏—Ç–µ `<URL>` –Ω–∞ URL –¥–ª—è HTTP-—Ç—Ä–∏–≥–≥–µ—Ä–∞ `get-voices` –≤–∞—à–µ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–π. –≠—Ç–æ –±—É–¥–µ—Ç —Ç–æ –∂–µ –∑–Ω–∞—á–µ–Ω–∏–µ, —á—Ç–æ –∏ –¥–ª—è `TEXT_TO_TIMER_FUNCTION_URL`, –∑–∞ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ–º –∏–º–µ–Ω–∏ —Ñ—É–Ω–∫—Ü–∏–∏ `get-voices` –≤–º–µ—Å—Ç–æ `text-to-timer`.

1. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π —Ñ–∞–π–ª –≤ –ø–∞–ø–∫–µ `src` –ø–æ–¥ –Ω–∞–∑–≤–∞–Ω–∏–µ–º `text_to_speech.h`. –≠—Ç–æ—Ç —Ñ–∞–π–ª –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –∫–ª–∞—Å—Å–∞, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç —Ç–µ–∫—Å—Ç –≤ —Ä–µ—á—å.

1. –î–æ–±–∞–≤—å—Ç–µ —Å–ª–µ–¥—É—é—â–∏–µ –¥–∏—Ä–µ–∫—Ç–∏–≤—ã include –≤ –Ω–∞—á–∞–ª–æ –Ω–æ–≤–æ–≥–æ —Ñ–∞–π–ª–∞ `text_to_speech.h`:

    ```cpp
    #pragma once

    #include <Arduino.h>
    #include <ArduinoJson.h>
    #include <HTTPClient.h>
    #include <Seeed_FS.h>
    #include <SD/Seeed_SD.h>
    #include <WiFiClient.h>
    #include <WiFiClientSecure.h>
    
    #include "config.h"
    #include "speech_to_text.h"
    ```

1. –î–æ–±–∞–≤—å—Ç–µ —Å–ª–µ–¥—É—é—â–∏–π –∫–æ–¥ –Ω–∏–∂–µ, —á—Ç–æ–±—ã –æ–±—ä—è–≤–∏—Ç—å –∫–ª–∞—Å—Å `TextToSpeech`, –∞ —Ç–∞–∫–∂–µ —ç–∫–∑–µ–º–ø–ª—è—Ä, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ –æ—Å—Ç–∞–ª—å–Ω–æ–π —á–∞—Å—Ç–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:

    ```cpp
    class TextToSpeech
    {
    public:
    private:
    };
    
    TextToSpeech textToSpeech;
    ```

1. –ß—Ç–æ–±—ã –≤—ã–∑–≤–∞—Ç—å –≤–∞—à–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–π, –≤–∞–º –Ω—É–∂–Ω–æ –æ–±—ä—è–≤–∏—Ç—å WiFi-–∫–ª–∏–µ–Ω—Ç. –î–æ–±–∞–≤—å—Ç–µ —Å–ª–µ–¥—É—é—â–µ–µ –≤ —Å–µ–∫—Ü–∏—é `private` –∫–ª–∞—Å—Å–∞:

    ```cpp
    WiFiClient _client;
    ```

1. –í —Å–µ–∫—Ü–∏–∏ `private` –¥–æ–±–∞–≤—å—Ç–µ –ø–æ–ª–µ –¥–ª—è –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ –≥–æ–ª–æ—Å–∞:

    ```cpp
    String _voice;
    ```

1. –í —Å–µ–∫—Ü–∏–∏ `public` –¥–æ–±–∞–≤—å—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é `init`, –∫–æ—Ç–æ—Ä–∞—è –±—É–¥–µ—Ç –ø–æ–ª—É—á–∞—Ç—å –ø–µ—Ä–≤—ã–π –≥–æ–ª–æ—Å:

    ```cpp
    void init()
    {
    }
    ```

1. –ß—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å –≥–æ–ª–æ—Å–∞, –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å JSON-–¥–æ–∫—É–º–µ–Ω—Ç –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–π —Å —É–∫–∞–∑–∞–Ω–∏–µ–º —è–∑—ã–∫–∞. –î–æ–±–∞–≤—å—Ç–µ —Å–ª–µ–¥—É—é—â–∏–π –∫–æ–¥ –≤ —Ñ—É–Ω–∫—Ü–∏—é `init`, —á—Ç–æ–±—ã —Å–æ–∑–¥–∞—Ç—å —ç—Ç–æ—Ç JSON-–¥–æ–∫—É–º–µ–Ω—Ç:

    ```cpp
    DynamicJsonDocument doc(1024);
    doc["language"] = LANGUAGE;

    String body;
    serializeJson(doc, body);
    ```

1. –ó–∞—Ç–µ–º —Å–æ–∑–¥–∞–π—Ç–µ `HTTPClient`, –∞ –∑–∞—Ç–µ–º –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –µ–≥–æ –¥–ª—è –≤—ã–∑–æ–≤–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–π, –æ—Ç–ø—Ä–∞–≤–ª—è—è JSON-–¥–æ–∫—É–º–µ–Ω—Ç:

    ```cpp
    HTTPClient httpClient;
    httpClient.begin(_client, GET_VOICES_FUNCTION_URL);

    int httpResponseCode = httpClient.POST(body);
    ```

1. –ù–∏–∂–µ –¥–æ–±–∞–≤—å—Ç–µ –∫–æ–¥ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –∫–æ–¥–∞ –æ—Ç–≤–µ—Ç–∞, –∏ –µ—Å–ª–∏ —ç—Ç–æ 200 (—É—Å–ø–µ—Ö), —Ç–æ –∏–∑–≤–ª–µ–∫–∏—Ç–µ —Å–ø–∏—Å–æ–∫ –≥–æ–ª–æ—Å–æ–≤, –ø–æ–ª—É—á–∞—è –ø–µ—Ä–≤—ã–π –∏–∑ —Å–ø–∏—Å–∫–∞:

    ```cpp
    if (httpResponseCode == 200)
    {
        String result = httpClient.getString();
        Serial.println(result);

        DynamicJsonDocument doc(1024);
        deserializeJson(doc, result.c_str());

        JsonArray obj = doc.as<JsonArray>();
        _voice = obj[0].as<String>();

        Serial.print("Using voice ");
        Serial.println(_voice);
    }
    else
    {
        Serial.print("Failed to get voices - error ");
        Serial.println(httpResponseCode);
    }
    ```

1. –ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ –∑–∞–≤–µ—Ä—à–∏—Ç–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ HTTP-–∫–ª–∏–µ–Ω—Ç–∞:

    ```cpp
    httpClient.end();
    ```

1. –û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª `main.cpp` –∏ –¥–æ–±–∞–≤—å—Ç–µ —Å–ª–µ–¥—É—é—â—É—é –¥–∏—Ä–µ–∫—Ç–∏–≤—É include –≤ –Ω–∞—á–∞–ª–æ, —á—Ç–æ–±—ã –≤–∫–ª—é—á–∏—Ç—å —ç—Ç–æ—Ç –Ω–æ–≤—ã–π –∑–∞–≥–æ–ª–æ–≤–æ—á–Ω—ã–π —Ñ–∞–π–ª:

    ```cpp
    #include "text_to_speech.h"
    ```

1. –í —Ñ—É–Ω–∫—Ü–∏–∏ `setup`, –ø–æ–¥ –≤—ã–∑–æ–≤–æ–º `speechToText.init();`, –¥–æ–±–∞–≤—å—Ç–µ —Å–ª–µ–¥—É—é—â–µ–µ –¥–ª—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –∫–ª–∞—Å—Å–∞ `TextToSpeech`:

    ```cpp
    textToSpeech.init();
    ```

1. –°–æ–±–µ—Ä–∏—Ç–µ —ç—Ç–æ—Ç –∫–æ–¥, –∑–∞–≥—Ä—É–∑–∏—Ç–µ –µ–≥–æ –Ω–∞ –≤–∞—à Wio Terminal –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ —á–µ—Ä–µ–∑ –º–æ–Ω–∏—Ç–æ—Ä –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ–≥–æ –ø–æ—Ä—Ç–∞. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤–∞—à–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–π –∑–∞–ø—É—â–µ–Ω–æ.

    –í—ã —É–≤–∏–¥–∏—Ç–µ —Å–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –≥–æ–ª–æ—Å–æ–≤, –≤–æ–∑–≤—Ä–∞—â–µ–Ω–Ω—ã—Ö –∏–∑ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–π, –≤–º–µ—Å—Ç–µ —Å –≤—ã–±—Ä–∞–Ω–Ω—ã–º –≥–æ–ª–æ—Å–æ–º.

    ```output
    --- Available filters and text transformations: colorize, debug, default, direct, hexlify, log2file, nocontrol, printable, send_on_enter, time
    --- More details at http://bit.ly/pio-monitor-filters
    --- Miniterm on /dev/cu.usbmodem1101  9600,8,N,1 ---
    --- Quit: Ctrl+C | Menu: Ctrl+T | Help: Ctrl+T followed by Ctrl+H ---
    Connecting to WiFi..
    Connected!
    Got access token.
    ["en-US-JennyNeural", "en-US-JennyMultilingualNeural", "en-US-GuyNeural", "en-US-AriaNeural", "en-US-AmberNeural", "en-US-AnaNeural", "en-US-AshleyNeural", "en-US-BrandonNeural", "en-US-ChristopherNeural", "en-US-CoraNeural", "en-US-ElizabethNeural", "en-US-EricNeural", "en-US-JacobNeural", "en-US-MichelleNeural", "en-US-MonicaNeural", "en-US-AriaRUS", "en-US-BenjaminRUS", "en-US-GuyRUS", "en-US-ZiraRUS"]
    Using voice en-US-JennyNeural
    Ready.
    ```

## –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ –≤ —Ä–µ—á—å

–ö–∞–∫ —Ç–æ–ª—å–∫–æ —É –≤–∞—Å –µ—Å—Ç—å –≥–æ–ª–æ—Å –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è, –µ–≥–æ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è —Ç–µ–∫—Å—Ç–∞ –≤ —Ä–µ—á—å. –¢–µ –∂–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –ø–∞–º—è—Ç–∏, —á—Ç–æ –∏ –¥–ª—è –≥–æ–ª–æ—Å–æ–≤, —Ç–∞–∫–∂–µ –ø—Ä–∏–º–µ–Ω–∏–º—ã –ø—Ä–∏ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–∏ —Ç–µ–∫—Å—Ç–∞ –≤ —Ä–µ—á—å, –ø–æ—ç—Ç–æ–º—É –≤–∞–º –Ω—É–∂–Ω–æ –±—É–¥–µ—Ç –∑–∞–ø–∏—Å–∞—Ç—å —Ä–µ—á—å –Ω–∞ SD-–∫–∞—Ä—Ç—É, —á—Ç–æ–±—ã –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ—Å—Ç–∏ –µ–µ —á–µ—Ä–µ–∑ ReSpeaker.

> üíÅ –í –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö —É—Ä–æ–∫–∞—Ö —ç—Ç–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞ –≤—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏ —Ñ–ª—ç—à-–ø–∞–º—è—Ç—å –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —Ä–µ—á–∏, –∑–∞–ø–∏—Å–∞–Ω–Ω–æ–π —Å –º–∏–∫—Ä–æ—Ñ–æ–Ω–∞. –í —ç—Ç–æ–º —É—Ä–æ–∫–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è SD-–∫–∞—Ä—Ç–∞, —Ç–∞–∫ –∫–∞–∫ —Å –Ω–µ–π –ø—Ä–æ—â–µ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç—å –∞—É–¥–∏–æ, –∏—Å–ø–æ–ª—å–∑—É—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ Seeed.

–¢–∞–∫–∂–µ –µ—Å—Ç—å –µ—â–µ –æ–¥–Ω–æ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ –Ω—É–∂–Ω–æ —É—á–∏—Ç—ã–≤–∞—Ç—å ‚Äî –¥–æ—Å—Ç—É–ø–Ω—ã–µ –∞—É–¥–∏–æ–¥–∞–Ω–Ω—ã–µ –æ—Ç —Å–µ—Ä–≤–∏—Å–∞ —Ä–µ—á–∏ –∏ —Ñ–æ—Ä–º–∞—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç Wio Terminal. –í –æ—Ç–ª–∏—á–∏–µ –æ—Ç –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã—Ö –∫–æ–º–ø—å—é—Ç–µ—Ä–æ–≤, –∞—É–¥–∏–æ–±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –¥–ª—è –º–∏–∫—Ä–æ–∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–æ–≤ –º–æ–≥—É—Ç –±—ã—Ç—å –æ—á–µ–Ω—å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω—ã –≤ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã—Ö –∞—É–¥–∏–æ—Ñ–æ—Ä–º–∞—Ç–∞—Ö. –ù–∞–ø—Ä–∏–º–µ—Ä, –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ Seeed Arduino Audio, –∫–æ—Ç–æ—Ä–∞—è –º–æ–∂–µ—Ç –≤–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç—å –∑–≤—É–∫ —á–µ—Ä–µ–∑ ReSpeaker, –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Ç–æ–ª—å–∫–æ –∞—É–¥–∏–æ —Å —á–∞—Å—Ç–æ—Ç–æ–π –¥–∏—Å–∫—Ä–µ—Ç–∏–∑–∞—Ü–∏–∏ 44.1 –∫–ì—Ü. –°–µ—Ä–≤–∏—Å—ã —Ä–µ—á–∏ Azure –º–æ–≥—É—Ç –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—Ç—å –∞—É–¥–∏–æ –≤ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Ñ–æ—Ä–º–∞—Ç–∞—Ö, –Ω–æ –Ω–∏ –æ–¥–∏–Ω –∏–∑ –Ω–∏—Ö –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —ç—Ç—É —á–∞—Å—Ç–æ—Ç—É –¥–∏—Å–∫—Ä–µ—Ç–∏–∑–∞—Ü–∏–∏, –æ–Ω–∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—é—Ç —Ç–æ–ª—å–∫–æ 8 –∫–ì—Ü, 16 –∫–ì—Ü, 24 –∫–ì—Ü –∏ 48 –∫–ì—Ü. –≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –∞—É–¥–∏–æ –Ω—É–∂–Ω–æ –ø–µ—Ä–µ—Å—ç–º–ø–ª–∏—Ä–æ–≤–∞—Ç—å –¥–æ 44.1 –∫–ì—Ü, —á—Ç–æ –ø–æ—Ç—Ä–µ–±—É–µ—Ç –±–æ–ª—å—à–µ —Ä–µ—Å—É—Ä—Å–æ–≤, —á–µ–º –µ—Å—Ç—å —É Wio Terminal, –æ—Å–æ–±–µ–Ω–Ω–æ –ø–∞–º—è—Ç–∏.

–ö–æ–≥–¥–∞ —Ç—Ä–µ–±—É–µ—Ç—Å—è –º–∞–Ω–∏–ø—É–ª–∏—Ä–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–º–∏ —Ç–∞–∫–æ–≥–æ —Ä–æ–¥–∞, —á–∞—Å—Ç–æ –ª—É—á—à–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–µ—Ä–≤–µ—Ä–Ω—ã–π –∫–æ–¥, –æ—Å–æ–±–µ–Ω–Ω–æ –µ—Å–ª–∏ –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—É—á–µ–Ω—ã —á–µ—Ä–µ–∑ –≤–µ–±-–∑–∞–ø—Ä–æ—Å. Wio Terminal –º–æ–∂–µ—Ç –≤—ã–∑–≤–∞—Ç—å —Å–µ—Ä–≤–µ—Ä–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é, –ø–µ—Ä–µ–¥–∞–≤ —Ç–µ–∫—Å—Ç –¥–ª—è –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è, –∞ —Å–µ—Ä–≤–µ—Ä–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –º–æ–∂–µ—Ç –∫–∞–∫ –≤—ã–∑–≤–∞—Ç—å —Å–µ—Ä–≤–∏—Å —Ä–µ—á–∏ –¥–ª—è –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è —Ç–µ–∫—Å—Ç–∞ –≤ —Ä–µ—á—å, —Ç–∞–∫ –∏ –ø–µ—Ä–µ—Å—ç–º–ø–ª–∏—Ä–æ–≤–∞—Ç—å –∞—É–¥–∏–æ –¥–æ –Ω—É–∂–Ω–æ–π —á–∞—Å—Ç–æ—Ç—ã –¥–∏—Å–∫—Ä–µ—Ç–∏–∑–∞—Ü–∏–∏. –ó–∞—Ç–µ–º –æ–Ω–∞ –º–æ–∂–µ—Ç –≤–µ—Ä–Ω—É—Ç—å –∞—É–¥–∏–æ –≤ —Ñ–æ—Ä–º–∞—Ç–µ, –∫–æ—Ç–æ—Ä—ã–π –Ω—É–∂–µ–Ω Wio Terminal, —á—Ç–æ–±—ã —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –µ–≥–æ –Ω–∞ SD-–∫–∞—Ä—Ç–µ –∏ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ—Å—Ç–∏ —á–µ—Ä–µ–∑ ReSpeaker.

### –ó–∞–¥–∞—á–∞ - —Å–æ–∑–¥–∞—Ç—å —Å–µ—Ä–≤–µ—Ä–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é –¥–ª—è –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è —Ç–µ–∫—Å—Ç–∞ –≤ —Ä–µ—á—å

1. –û—Ç–∫—Ä–æ–π—Ç–µ –≤–∞—à –ø—Ä–æ–µ–∫—Ç `smart-timer-trigger` –≤ VS Code –∏ –æ—Ç–∫—Ä–æ–π—Ç–µ —Ç–µ—Ä–º–∏–Ω–∞–ª, —É–±–µ–¥–∏–≤—à–∏—Å—å, —á—Ç–æ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–∞—è —Å—Ä–µ–¥–∞ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω–∞. –ï—Å–ª–∏ –Ω–µ—Ç, –∑–∞–≤–µ—Ä—à–∏—Ç–µ –∏ —Å–æ–∑–¥–∞–π—Ç–µ —Ç–µ—Ä–º–∏–Ω–∞–ª –∑–∞–Ω–æ–≤–æ.

1. –î–æ–±–∞–≤—å—Ç–µ –Ω–æ–≤—ã–π HTTP-—Ç—Ä–∏–≥–≥–µ—Ä –≤ —ç—Ç–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø–æ–¥ –Ω–∞–∑–≤–∞–Ω–∏–µ–º `text-to-speech`, –∏—Å–ø–æ–ª—å–∑—É—è —Å–ª–µ–¥—É—é—â—É—é –∫–æ–º–∞–Ω–¥—É –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ VS Code –≤ –∫–æ—Ä–Ω–µ–≤–æ–π –ø–∞–ø–∫–µ –ø—Ä–æ–µ–∫—Ç–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–π:

    ```sh
    func new --name text-to-speech --template "HTTP trigger"
    ```

    –≠—Ç–æ —Å–æ–∑–¥–∞—Å—Ç HTTP-—Ç—Ä–∏–≥–≥–µ—Ä –ø–æ–¥ –Ω–∞–∑–≤–∞–Ω–∏–µ–º `text-to-speech`.

1. –ü–∞–∫–µ—Ç Pip [librosa](https://librosa.org) —Å–æ–¥–µ—Ä–∂–∏—Ç —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è –ø–µ—Ä–µ—Å—ç–º–ø–ª–∏—Ä–æ–≤–∞–Ω–∏—è –∞—É–¥–∏–æ, –ø–æ—ç—Ç–æ–º—É –¥–æ–±–∞–≤—å—Ç–µ –µ–≥–æ –≤ —Ñ–∞–π–ª `requirements.txt`:

    ```sh
    librosa
    ```

    –ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø–∞–∫–µ—Ç—ã Pip, –∏—Å–ø–æ–ª—å–∑—É—è —Å–ª–µ–¥—É—é—â—É—é –∫–æ–º–∞–Ω–¥—É –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ VS Code:

    ```sh
    pip install -r requirements.txt
    ```

    > ‚ö†Ô∏è –ï—Å–ª–∏ –≤—ã –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ Linux, –≤–∫–ª—é—á–∞—è Raspberry Pi OS, –≤–∞–º –º–æ–∂–µ—Ç –ø–æ–Ω–∞–¥–æ–±–∏—Ç—å—Å—è —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å `libsndfile` —Å –ø–æ–º–æ—â—å—é —Å–ª–µ–¥—É—é—â–µ–π –∫–æ–º–∞–Ω–¥—ã:
    >
    > ```sh
    > sudo apt update
    > sudo apt install libsndfile1-dev
    > ```

1. –î–ª—è –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è —Ç–µ–∫—Å—Ç–∞ –≤ —Ä–µ—á—å –≤—ã –Ω–µ –º–æ–∂–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–ª—é—á API —Å–µ—Ä–≤–∏—Å–∞ —Ä–µ—á–∏ –Ω–∞–ø—Ä—è–º—É—é, –≤–º–µ—Å—Ç–æ —ç—Ç–æ–≥–æ –≤–∞–º –Ω—É–∂–Ω–æ –∑–∞–ø—Ä–æ—Å–∏—Ç—å —Ç–æ–∫–µ–Ω –¥–æ—Å—Ç—É–ø–∞, –∏—Å–ø–æ–ª—å–∑—É—è –∫–ª—é—á API –¥–ª—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –∑–∞–ø—Ä–æ—Å–∞ —Ç–æ–∫–µ–Ω–∞ –¥–æ—Å—Ç—É–ø–∞. –û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª `__init__.py` –∏–∑ –ø–∞–ø–∫–∏ `text-to-speech` –∏ –∑–∞–º–µ–Ω–∏—Ç–µ –≤–µ—Å—å –∫–æ–¥ –≤ –Ω–µ–º —Å–ª–µ–¥—É—é—â–∏–º:

    ```python
    import io
    import os
    import requests
    
    import librosa
    import soundfile as sf
    import azure.functions as func
    
    location = os.environ['SPEECH_LOCATION']
    speech_key = os.environ['SPEECH_KEY']
    
    def get_access_token():
        headers = {
            'Ocp-Apim-Subscription-Key': speech_key
        }
    
        token_endpoint = f'https://{location}.api.cognitive.microsoft.com/sts/v1.0/issuetoken'
        response = requests.post(token_endpoint, headers=headers)
        return str(response.text)
    ```

    –≠—Ç–æ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã –¥–ª—è —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏—è –∏ –∫–ª—é—á–∞ —Ä–µ—á–∏, –∫–æ—Ç–æ—Ä—ã–µ –±—É–¥—É—Ç —Å—á–∏—Ç–∞–Ω—ã –∏–∑ –Ω–∞—Å—Ç—Ä–æ–µ–∫. –ó–∞—Ç–µ–º –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è —Ñ—É–Ω–∫—Ü–∏—è `get_access_token`, –∫–æ—Ç–æ—Ä–∞—è –±—É–¥–µ—Ç –ø–æ–ª—É—á–∞—Ç—å —Ç–æ–∫–µ–Ω –¥–æ—Å—Ç—É–ø–∞ –¥–ª—è —Å–µ—Ä–≤–∏—Å–∞ —Ä–µ—á–∏.

1. –ù–∏–∂–µ —ç—Ç–æ–≥–æ –∫–æ–¥–∞ –¥–æ–±–∞–≤—å—Ç–µ —Å–ª–µ–¥—É—é—â–µ–µ:

    ```python
    playback_format = 'riff-48khz-16bit-mono-pcm'

    def main(req: func.HttpRequest) -> func.HttpResponse:
        req_body = req.get_json()
        language = req_body['language']
        voice = req_body['voice']
        text = req_body['text']
    
        url = f'https://{location}.tts.speech.microsoft.com/cognitiveservices/v1'
    
        headers = {
            'Authorization': 'Bearer ' + get_access_token(),
            'Content-Type': 'application/ssml+xml',
            'X-Microsoft-OutputFormat': playback_format
        }
    
        ssml =  f'<speak version=\'1.0\' xml:lang=\'{language}\'>'
        ssml += f'<voice xml:lang=\'{language}\' name=\'{voice}\'>'
        ssml += text
        ssml += '</voice>'
        ssml += '</speak>'
    
        response = requests.post(url, headers=headers, data=ssml.encode('utf-8'))
    
        raw_audio, sample_rate = librosa.load(io.BytesIO(response.content), sr=48000)
        resampled = librosa.resample(raw_audio, sample_rate, 44100)
        
        output_buffer = io.BytesIO()
        sf.write(output_buffer, resampled, 44100, 'PCM_16', format='wav')
        output_buffer.seek(0)
    
        return func.HttpResponse(output_buffer.read(), status_code=200)
    ```

    –≠—Ç–æ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç HTTP-—Ç—Ä–∏–≥–≥–µ—Ä, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç —Ç–µ–∫—Å—Ç –≤ —Ä–µ—á—å. –û–Ω –∏–∑–≤–ª–µ–∫–∞–µ—Ç —Ç–µ–∫—Å—Ç –¥–ª—è –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è, —è–∑—ã–∫ –∏ –≥–æ–ª–æ—Å –∏–∑ JSON-—Ç–µ–ª–∞, –ø–µ—Ä–µ–¥–∞–Ω–Ω–æ–≥–æ –≤ –∑–∞–ø—Ä–æ—Å–µ, —Å–æ–∑–¥–∞–µ—Ç SSML –¥–ª—è –∑–∞–ø—Ä–æ—Å–∞ —Ä–µ—á–∏, –∑–∞—Ç–µ–º –≤—ã–∑—ã–≤–∞–µ—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π REST API, –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä—É—è—Å—å —Å –ø–æ–º–æ—â—å—é —Ç–æ–∫–µ–Ω–∞ –¥–æ—Å—Ç—É–ø–∞. –≠—Ç–æ—Ç –≤—ã–∑–æ–≤ REST API –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∞—É–¥–∏–æ, –∑–∞–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –∫–∞–∫ –º–æ–Ω–æ WAV-—Ñ–∞–π–ª —Å —á–∞—Å—Ç–æ—Ç–æ–π –¥–∏—Å–∫—Ä–µ—Ç–∏–∑–∞—Ü–∏–∏ 48 –∫–ì—Ü –∏ 16-–±–∏—Ç–Ω–æ–π –≥–ª—É–±–∏–Ω–æ–π, –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–π –∑–Ω–∞—á–µ–Ω–∏–µ–º `playback_format`, –∫–æ—Ç–æ—Ä–æ–µ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –≤ –≤—ã–∑–æ–≤ REST API.

    –ó–∞—Ç–µ–º —ç—Ç–æ –∞—É–¥–∏–æ –ø–µ—Ä–µ—Å—ç–º–ø–ª–∏—Ä—É–µ—Ç—Å—è —Å –ø–æ–º–æ—â—å—é `librosa` —Å —á–∞—Å—Ç–æ—Ç—ã –¥–∏—Å–∫—Ä–µ—Ç–∏–∑–∞—Ü–∏–∏ 48 –∫–ì—Ü –¥–æ —á–∞—Å—Ç–æ—Ç—ã 44.1 –∫–ì—Ü, –∑–∞—Ç–µ–º —ç—Ç–æ –∞—É–¥–∏–æ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ –¥–≤–æ–∏—á–Ω—ã–π –±—É—Ñ–µ—Ä, –∫–æ—Ç–æ—Ä—ã–π –∑–∞—Ç–µ–º –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è.

1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –≤–∞—à–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–π –ª–æ–∫–∞–ª—å–Ω–æ –∏–ª–∏ —Ä–∞–∑–≤–µ—Ä–Ω–∏—Ç–µ –µ–≥–æ –≤ –æ–±–ª–∞–∫–µ. –ó–∞—Ç–µ–º –≤—ã –º–æ–∂–µ—Ç–µ –≤—ã–∑–≤–∞—Ç—å –µ–≥–æ —Å –ø–æ–º–æ—â—å—é –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞, —Ç–∞–∫–æ–≥–æ –∫–∞–∫ curl, —Ç–∞–∫ –∂–µ, –∫–∞–∫ –≤—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–ª–∏ HTTP-—Ç—Ä–∏–≥–≥–µ—Ä `text-to-timer`. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—ã –ø–µ—Ä–µ–¥–∞–µ—Ç–µ —è–∑—ã–∫, –≥–æ–ª–æ—Å –∏ —Ç–µ–∫—Å—Ç –≤ —Ç–µ–ª–µ JSON:

    ```json
    {
        "language": "<language>",
        "voice": "<voice>",
        "text": "<text>"
    }
    ```

    –ó–∞–º–µ–Ω–∏—Ç–µ `<language>` –Ω–∞ –≤–∞—à —è–∑—ã–∫, –Ω–∞–ø—Ä–∏–º–µ—Ä, `en-GB` –∏–ª–∏ `zh-CN`. –ó–∞–º–µ–Ω–∏—Ç–µ `<voice>` –Ω–∞ –≥–æ–ª–æ—Å, –∫–æ—Ç–æ—Ä—ã–π –≤—ã —Ö–æ—Ç–∏—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å. –ó–∞–º–µ–Ω–∏—Ç–µ `<text>` –Ω–∞ —Ç–µ–∫—Å—Ç, –∫–æ—Ç–æ—Ä—ã–π –≤—ã —Ö–æ—Ç–∏—Ç–µ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞—Ç—å –≤ —Ä–µ—á—å. –í—ã –º–æ–∂–µ—Ç–µ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤—ã–≤–æ–¥ –≤ —Ñ–∞–π–ª –∏ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ—Å—Ç–∏ –µ–≥–æ —Å –ø–æ–º–æ—â—å—é –ª—é–±–æ–≥–æ –∞—É–¥–∏–æ–ø–ª–µ–µ—Ä–∞, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç WAV-—Ñ–∞–π–ª—ã.

    –ù–∞–ø—Ä–∏–º–µ—Ä, —á—Ç–æ–±—ã –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞—Ç—å "Hello" –≤ —Ä–µ—á—å, –∏—Å–ø–æ–ª—å–∑—É—è –∞–Ω–≥–ª–∏–π—Å–∫–∏–π —è–∑—ã–∫ –°–®–ê —Å –≥–æ–ª–æ—Å–æ–º Jenny Neural, –ø—Ä–∏ –ª–æ–∫–∞–ª—å–Ω–æ–º –∑–∞–ø—É—Å–∫–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–π, –≤—ã –º–æ–∂–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–ª–µ–¥—É—é—â—É—é –∫–æ–º–∞–Ω–¥—É curl:

    ```sh
    curl -X GET 'http://localhost:7071/api/text-to-speech' \
         -H 'Content-Type: application/json' \
         -o hello.wav \
         -d '{
           "language":"en-US",
           "voice": "en-US-JennyNeural",
           "text": "Hello"
         }'
    ```

    –≠—Ç–æ —Å–æ—Ö—Ä–∞–Ω–∏—Ç –∞—É–¥–∏–æ –≤ `hello.wav` –≤ —Ç–µ–∫—É—â–µ–º –∫–∞—Ç–∞–ª–æ–≥–µ.

> üíÅ –í—ã –º–æ–∂–µ—Ç–µ –Ω–∞–π—Ç–∏ —ç—Ç–æ—Ç –∫–æ–¥ –≤ –ø–∞–ø–∫–µ [code-spoken-response/functions](../../../../../6-consumer/lessons/3-spoken-feedback/code-spoken-response/functions).

### –ó–∞–¥–∞—á–∞ - –ø–æ–ª—É—á–∏—Ç—å —Ä–µ—á—å —Å –≤–∞—à–µ–≥–æ Wio Terminal

1. –û—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–æ–µ–∫—Ç `smart-timer` –≤ VS Code, –µ—Å–ª–∏ –æ–Ω –µ—â–µ –Ω–µ –æ—Ç–∫—Ä—ã—Ç.

1. –û—Ç–∫—Ä–æ–π—Ç–µ –∑–∞–≥–æ–ª–æ–≤–æ—á–Ω—ã–π —Ñ–∞–π–ª `config.h` –∏ –¥–æ–±–∞–≤—å—Ç–µ URL –¥–ª—è –≤–∞—à–µ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–π:

    ```cpp
    const char *TEXT_TO_SPEECH_FUNCTION_URL = "<URL>";
    ```

    –ó–∞–º–µ–Ω–∏—Ç–µ `<URL>` –Ω–∞ URL –¥–ª—è HTTP-—Ç—Ä–∏–≥–≥–µ—Ä–∞ `text-to-speech` –≤–∞—à–µ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–π. –≠—Ç–æ –±—É–¥–µ—Ç —Ç–æ –∂–µ –∑–Ω–∞—á–µ–Ω–∏–µ, —á—Ç–æ –∏ –¥–ª—è `TEXT_TO_TIMER_FUNCTION_URL`, –∑–∞ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ–º –∏–º–µ–Ω–∏ —Ñ—É–Ω–∫—Ü–∏–∏ `text-to-speech` –≤–º–µ—Å—Ç–æ `text-to-timer`.

1. –û—Ç–∫—Ä–æ–π—Ç–µ –∑–∞–≥–æ–ª–æ–≤–æ—á–Ω—ã–π —Ñ–∞–π–ª `text_to_speech.h` –∏ –¥–æ–±–∞–≤—å—Ç–µ —Å–ª–µ–¥—É—é—â–∏–π –º–µ—Ç–æ–¥ –≤ —Å–µ–∫—Ü–∏—é `public` –∫–ª–∞—Å—Å–∞ `TextToSpeech`:

    ```cpp
    void convertTextToSpeech(String text)
    {
    }
    ```

1. –í –º–µ—Ç–æ–¥ `convertTextToSpeech` –¥–æ–±–∞–≤—å—Ç–µ —Å–ª–µ–¥—É—é—â–∏–π –∫–æ–¥ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è JSON, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–π:

    ```cpp
    DynamicJsonDocument doc(1024);
    doc["language"] = LANGUAGE;
    doc["voice"] = _voice;
    doc["text"] = text;

    String body;
    serializeJson(doc, body);
    ```

    –≠—Ç–æ –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç —è–∑—ã–∫, –≥–æ–ª–æ—Å –∏ —Ç–µ–∫—Å—Ç –≤ JSON-–¥–æ–∫—É–º–µ–Ω—Ç, –∑–∞—Ç–µ–º —Å–µ—Ä–∏–∞–ª–∏–∑—É–µ—Ç –µ–≥–æ –≤ —Å—Ç—Ä–æ–∫—É.

1. –ù–∏–∂–µ —ç—Ç–æ–≥–æ –¥–æ–±–∞–≤—å—Ç–µ —Å–ª–µ–¥—É—é—â–∏–π –∫–æ–¥ –¥–ª—è –≤—ã–∑–æ–≤–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–π:

    ```cpp
    HTTPClient httpClient;
    httpClient.begin(_client, TEXT_TO_SPEECH_FUNCTION_URL);

    int httpResponseCode = httpClient.POST(body);
    ```

    –≠—Ç–æ —Å–æ–∑–¥–∞–µ—Ç HTTPClient, –∑–∞—Ç–µ–º –≤—ã–ø–æ–ª–Ω—è–µ—Ç POST-–∑–∞–ø—Ä–æ—Å —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º JSON-–¥–æ–∫—É–º–µ–Ω—Ç–∞ –∫ HTTP-—Ç—Ä–∏–≥–≥–µ—Ä—É `text-to-speech`.

1. –ï—Å–ª–∏ –≤—ã–∑–æ–≤ —É—Å–ø–µ—à–µ–Ω, –Ω–µ–æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–µ –¥–≤–æ–∏—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ, –≤–æ–∑–≤—Ä–∞—â–µ–Ω–Ω—ã–µ –∏–∑ –≤—ã–∑–æ–≤–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–π, –º–æ–≥—É—Ç –±—ã—Ç—å –∑–∞–ø–∏—Å–∞–Ω—ã –≤ —Ñ–∞–π–ª –Ω–∞ SD-–∫–∞—Ä—Ç–µ. –î–æ–±–∞–≤—å—Ç–µ —Å–ª–µ–¥—É—é—â–∏–π –∫–æ–¥ –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —ç—Ç–æ–≥–æ:

    ```cpp
    if (httpResponseCode == 200)
    {            
        File wav_file = SD.open("SPEECH.WAV", FILE_WRITE);
        httpClient.writeToStream(&wav_file);
        wav_file.close();
    }
    else
    {
        Serial.print("Failed to get speech - error ");
        Serial.println(httpResponseCode);
    }
    ```

    –≠—Ç–æ—Ç –∫–æ–¥ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –æ—Ç–≤–µ—Ç, –∏ –µ—Å–ª–∏ —ç—Ç–æ 200 (—É—Å–ø–µ—Ö), –¥–≤–æ–∏—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∑–∞–ø–∏—Å—ã–≤–∞—é—Ç—Å—è –≤ —Ñ–∞–π–ª –≤ –∫–æ—Ä–Ω–µ SD-–∫–∞—Ä—Ç—ã –ø–æ–¥ –Ω–∞–∑–≤–∞–Ω–∏–µ–º `SPEECH.WAV`.

1. –í –∫–æ–Ω—Ü–µ —ç—Ç–æ–≥–æ –º–µ—Ç–æ–¥–∞ –∑–∞–∫—Ä–æ–π—Ç–µ HTTP-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ:

    ```cpp
    httpClient.end();
    ```

1. –¢–µ–ø–µ—Ä—å —Ç–µ–∫—Å—Ç, –∫–æ—Ç–æ—Ä—ã–π –Ω—É–∂–Ω–æ –ø—Ä–æ–∏–∑–Ω–µ—Å—Ç–∏, –º–æ–∂–Ω–æ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞—Ç—å –≤ –∞—É–¥–∏–æ. –í —Ñ–∞–π–ª–µ `main.cpp` –¥–æ–±–∞–≤—å—Ç–µ —Å–ª–µ–¥—É—é—â—É—é —Å—Ç—Ä–æ–∫—É –≤ –∫–æ–Ω–µ—Ü —Ñ—É–Ω–∫—Ü–∏–∏ `say`, —á—Ç–æ–±—ã –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞—Ç—å —Ç–µ–∫—Å—Ç –¥–ª—è –ø—Ä–æ–∏–∑–Ω–µ—Å–µ–Ω–∏—è –≤ –∞—É–¥–∏–æ:
```cpp
    textToSpeech.convertTextToSpeech(text);
    ```

### –ó–∞–¥–∞—á–∞ - –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ –∞—É–¥–∏–æ –Ω–∞ –≤–∞—à–µ–º Wio Terminal

**–°–∫–æ—Ä–æ –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ**

## –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –≤–∞—à–µ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–π –≤ –æ–±–ª–∞–∫–µ

–ü—Ä–∏—á–∏–Ω–∞ –∑–∞–ø—É—Å–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–π –ª–æ–∫–∞–ª—å–Ω–æ –∑–∞–∫–ª—é—á–∞–µ—Ç—Å—è –≤ —Ç–æ–º, —á—Ç–æ –ø–∞–∫–µ—Ç `librosa` –¥–ª—è Python –Ω–∞ Linux –∏–º–µ–µ—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –æ—Ç –±–∏–±–ª–∏–æ—Ç–µ–∫–∏, –∫–æ—Ç–æ—Ä–∞—è –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –∏ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞ –ø–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–π. –ü—Ä–∏–ª–æ–∂–µ–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–π —è–≤–ª—è—é—Ç—Å—è —Å–µ—Ä–≤–µ—Ä–ª–µ—Å—Å-—Ä–µ—à–µ–Ω–∏—è–º–∏ - —É –≤–∞—Å –Ω–µ—Ç —Å–µ—Ä–≤–µ—Ä–æ–≤, –∫–æ—Ç–æ—Ä—ã–º–∏ –≤—ã –º–æ–∂–µ—Ç–µ —É–ø—Ä–∞–≤–ª—è—Ç—å —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ, –ø–æ—ç—Ç–æ–º—É –Ω–µ—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –∑–∞—Ä–∞–Ω–µ–µ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —ç—Ç—É –±–∏–±–ª–∏–æ—Ç–µ–∫—É.

–î–ª—è —ç—Ç–æ–≥–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—å –≤–∞—à–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–π —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º Docker-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞. –≠—Ç–æ—Ç –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —Ä–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞–µ—Ç—Å—è –≤ –æ–±–ª–∞–∫–µ –≤—Å—è–∫–∏–π —Ä–∞–∑, –∫–æ–≥–¥–∞ —Ç—Ä–µ–±—É–µ—Ç—Å—è –∑–∞–ø—É—Å—Ç–∏—Ç—å –Ω–æ–≤—ã–π —ç–∫–∑–µ–º–ø–ª—è—Ä –≤–∞—à–µ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–π (–Ω–∞–ø—Ä–∏–º–µ—Ä, –∫–æ–≥–¥–∞ —Å–ø—Ä–æ—Å –ø—Ä–µ–≤—ã—à–∞–µ—Ç –¥–æ—Å—Ç—É–ø–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã –∏–ª–∏ –µ—Å–ª–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–π –Ω–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–æ—Å—å –∫–∞–∫–æ–µ-—Ç–æ –≤—Ä–µ–º—è –∏ –±—ã–ª–æ –∑–∞–∫—Ä—ã—Ç–æ).

–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–π –∏ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é —á–µ—Ä–µ–∑ Docker –º–æ–∂–Ω–æ –Ω–∞–π—Ç–∏ –≤ [–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ Microsoft Docs –æ —Å–æ–∑–¥–∞–Ω–∏–∏ —Ñ—É–Ω–∫—Ü–∏–∏ –Ω–∞ Linux —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞](https://docs.microsoft.com/azure/azure-functions/functions-create-function-linux-custom-image?WT.mc_id=academic-17441-jabenn&tabs=bash%2Cazurecli&pivots=programming-language-python).

–ü–æ—Å–ª–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è –≤—ã –º–æ–∂–µ—Ç–µ –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥ –≤–∞—à–µ–≥–æ Wio Terminal –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ —ç—Ç–æ–π —Ñ—É–Ω–∫—Ü–∏–∏:

1. –î–æ–±–∞–≤—å—Ç–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç Azure Functions –≤ `config.h`:

    ```cpp
    const char *FUNCTIONS_CERTIFICATE =
        "-----BEGIN CERTIFICATE-----\r\n"
        "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\r\n"
        "-----END CERTIFICATE-----\r\n";
    ```

1. –ó–∞–º–µ–Ω–∏—Ç–µ –≤—Å–µ –≤–∫–ª—é—á–µ–Ω–∏—è `
<WiFiClient.h>` –Ω–∞ `<WiFiClientSecure.h>`.

1. –ó–∞–º–µ–Ω–∏—Ç–µ –≤—Å–µ –ø–æ–ª—è `WiFiClient` –Ω–∞ `WiFiClientSecure`.

1. –í –∫–∞–∂–¥–æ–º –∫–ª–∞—Å—Å–µ, –∫–æ—Ç–æ—Ä—ã–π —Å–æ–¥–µ—Ä–∂–∏—Ç –ø–æ–ª–µ `WiFiClientSecure`, –¥–æ–±–∞–≤—å—Ç–µ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –≤ —ç—Ç–æ–º –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–µ:

    ```cpp
    _client.setCACert(FUNCTIONS_CERTIFICATE);
    ```

---

**–û—Ç–∫–∞–∑ –æ—Ç –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏**:  
–≠—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç –±—ã–ª –ø–µ—Ä–µ–≤–µ–¥–µ–Ω —Å –ø–æ–º–æ—â—å—é —Å–µ—Ä–≤–∏—Å–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –ø–µ—Ä–µ–≤–æ–¥–∞ [Co-op Translator](https://github.com/Azure/co-op-translator). –ù–µ—Å–º–æ—Ç—Ä—è –Ω–∞ –Ω–∞—à–∏ —É—Å–∏–ª–∏—è –æ–±–µ—Å–ø–µ—á–∏—Ç—å —Ç–æ—á–Ω–æ—Å—Ç—å, –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø–µ—Ä–µ–≤–æ–¥—ã –º–æ–≥—É—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å –æ—à–∏–±–∫–∏ –∏–ª–∏ –Ω–µ—Ç–æ—á–Ω–æ—Å—Ç–∏. –û—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π –¥–æ–∫—É–º–µ–Ω—Ç –Ω–∞ –µ–≥–æ –∏—Å—Ö–æ–¥–Ω–æ–º —è–∑—ã–∫–µ —Å–ª–µ–¥—É–µ—Ç —Å—á–∏—Ç–∞—Ç—å –∞–≤—Ç–æ—Ä–∏—Ç–µ—Ç–Ω—ã–º –∏—Å—Ç–æ—á–Ω–∏–∫–æ–º. –î–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π –ø–µ—Ä–µ–≤–æ–¥ —á–µ–ª–æ–≤–µ–∫–æ–º. –ú—ã –Ω–µ –Ω–µ—Å–µ–º –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ –∑–∞ –ª—é–±—ã–µ –Ω–µ–¥–æ—Ä–∞–∑—É–º–µ–Ω–∏—è –∏–ª–∏ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏–∏, –≤–æ–∑–Ω–∏–∫—à–∏–µ –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –¥–∞–Ω–Ω–æ–≥–æ –ø–µ—Ä–µ–≤–æ–¥–∞.