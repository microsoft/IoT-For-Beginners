<!--
CO_OP_TRANSLATOR_METADATA:
{
  "original_hash": "160be8c0f558687f6686dca64f10f739",
  "translation_date": "2025-08-26T21:53:38+00:00",
  "source_file": "4-manufacturing/lessons/2-check-fruit-from-device/wio-terminal-camera.md",
  "language_code": "ru"
}
-->
# –ó–∞—Ö–≤–∞—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è - Wio Terminal

–í —ç—Ç–æ–π —á–∞—Å—Ç–∏ —É—Ä–æ–∫–∞ –≤—ã –¥–æ–±–∞–≤–∏—Ç–µ –∫–∞–º–µ—Ä—É –∫ –≤–∞—à–µ–º—É Wio Terminal –∏ –±—É–¥–µ—Ç–µ –∑–∞—Ö–≤–∞—Ç—ã–≤–∞—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å –µ—ë –ø–æ–º–æ—â—å—é.

## –ê–ø–ø–∞—Ä–∞—Ç–Ω–æ–µ –æ–±–µ—Å–ø–µ—á–µ–Ω–∏–µ

–î–ª—è Wio Terminal —Ç—Ä–µ–±—É–µ—Ç—Å—è –∫–∞–º–µ—Ä–∞.

–ö–∞–º–µ—Ä–∞, –∫–æ—Ç–æ—Ä—É—é –≤—ã –±—É–¥–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å, ‚Äî —ç—Ç–æ [ArduCam Mini 2MP Plus](https://www.arducam.com/product/arducam-2mp-spi-camera-b0067-arduino/). –≠—Ç–æ 2-–º–µ–≥–∞–ø–∏–∫—Å–µ–ª—å–Ω–∞—è –∫–∞–º–µ—Ä–∞ –Ω–∞ –æ—Å–Ω–æ–≤–µ —Å–µ–Ω—Å–æ—Ä–∞ OV2640. –û–Ω–∞ –ø–µ—Ä–µ–¥–∞–µ—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —á–µ—Ä–µ–∑ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å SPI –∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç I2C –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–µ–Ω—Å–æ—Ä–∞.

## –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫–∞–º–µ—Ä—ã

ArduCam –Ω–µ –∏–º–µ–µ—Ç —Ä–∞–∑—ä–µ–º–∞ Grove, –≤–º–µ—Å—Ç–æ —ç—Ç–æ–≥–æ –æ–Ω–∞ –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –∫ —à–∏–Ω–∞–º SPI –∏ I2C —á–µ—Ä–µ–∑ GPIO-–ø–∏–Ω—ã –Ω–∞ Wio Terminal.

### –ó–∞–¥–∞–Ω–∏–µ - –ø–æ–¥–∫–ª—é—á–∏—Ç–µ –∫–∞–º–µ—Ä—É

–ü–æ–¥–∫–ª—é—á–∏—Ç–µ –∫–∞–º–µ—Ä—É.

![–°–µ–Ω—Å–æ—Ä ArduCam](../../../../../translated_images/arducam.20e4e4cbb268296570b5914e20d6c349fc42ddac9ed4e1b9deba2188204eebae.ru.png)

1. –ü–∏–Ω—ã –Ω–∞ –æ—Å–Ω–æ–≤–∞–Ω–∏–∏ ArduCam –Ω—É–∂–Ω–æ –ø–æ–¥–∫–ª—é—á–∏—Ç—å –∫ GPIO-–ø–∏–Ω–∞–º –Ω–∞ Wio Terminal. –ß—Ç–æ–±—ã –±—ã–ª–æ –ø—Ä–æ—â–µ –Ω–∞–π—Ç–∏ –Ω—É–∂–Ω—ã–µ –ø–∏–Ω—ã, –ø—Ä–∏–∫—Ä–µ–ø–∏—Ç–µ –Ω–∞–∫–ª–µ–π–∫—É —Å –æ–±–æ–∑–Ω–∞—á–µ–Ω–∏–µ–º GPIO-–ø–∏–Ω–æ–≤, –∫–æ—Ç–æ—Ä–∞—è –∏–¥–µ—Ç –≤ –∫–æ–º–ø–ª–µ–∫—Ç–µ —Å Wio Terminal:

    ![Wio Terminal —Å –Ω–∞–∫–ª–µ–π–∫–æ–π GPIO-–ø–∏–Ω–æ–≤](../../../../../translated_images/wio-terminal-pin-sticker.b90b1535937b84bd00d853f0004aea74fac2aec04b43f14b887796b2633f855e.ru.png)

1. –ò—Å–ø–æ–ª—å–∑—É—è —Å–æ–µ–¥–∏–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–æ–≤–æ–¥–∞, –≤—ã–ø–æ–ª–Ω–∏—Ç–µ —Å–ª–µ–¥—É—é—â–∏–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è:

    | –ü–∏–Ω ArduCAM | –ü–∏–Ω Wio Terminal | –û–ø–∏—Å–∞–Ω–∏–µ                                 |
    | ----------- | ---------------- | --------------------------------------- |
    | CS          | 24 (SPI_CS)      | –í—ã–±–æ—Ä —á–∏–ø–∞ SPI                          |
    | MOSI        | 19 (SPI_MOSI)    | –í—ã—Ö–æ–¥ SPI-–∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞, –≤—Ö–æ–¥ –ø–µ—Ä–∏—Ñ–µ—Ä–∏–∏   |
    | MISO        | 21 (SPI_MISO)    | –í—Ö–æ–¥ SPI-–∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞, –≤—ã—Ö–æ–¥ –ø–µ—Ä–∏—Ñ–µ—Ä–∏–∏   |
    | SCK         | 23 (SPI_SCLK)    | –ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—ã–π —Ç–∞–∫—Ç–æ–≤—ã–π —Å–∏–≥–Ω–∞–ª SPI    |
    | GND         | 6 (GND)          | –ó–µ–º–ª—è - 0 –í                             |
    | VCC         | 4 (5V)           | –ü–∏—Ç–∞–Ω–∏–µ 5 –í                             |
    | SDA         | 3 (I2C1_SDA)     | –ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ I2C             |
    | SCL         | 5 (I2C1_SCL)     | –ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—ã–π —Ç–∞–∫—Ç–æ–≤—ã–π —Å–∏–≥–Ω–∞–ª I2C    |

    ![Wio Terminal, –ø–æ–¥–∫–ª—é—á–µ–Ω–Ω—ã–π –∫ ArduCam —Å –ø–æ–º–æ—â—å—é —Å–æ–µ–¥–∏–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –ø—Ä–æ–≤–æ–¥–æ–≤](../../../../../translated_images/arducam-wio-terminal-connections.a4d5a4049bdb5ab800a2877389fc6ecf5e4ff307e6451ff56c517e6786467d0a.ru.png)

    –°–æ–µ–¥–∏–Ω–µ–Ω–∏—è GND –∏ VCC –æ–±–µ—Å–ø–µ—á–∏–≤–∞—é—Ç –ø–∏—Ç–∞–Ω–∏–µ 5 –í –¥–ª—è ArduCam. –ö–∞–º–µ—Ä–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ 5 –í, –≤ –æ—Ç–ª–∏—á–∏–µ –æ—Ç –¥–∞—Ç—á–∏–∫–æ–≤ Grove, –∫–æ—Ç–æ—Ä—ã–µ —Ä–∞–±–æ—Ç–∞—é—Ç –Ω–∞ 3 –í. –≠—Ç–æ –ø–∏—Ç–∞–Ω–∏–µ –ø–æ—Å—Ç—É–ø–∞–µ—Ç –Ω–∞–ø—Ä—è–º—É—é –æ—Ç USB-C –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è, –∫–æ—Ç–æ—Ä–æ–µ –ø–∏—Ç–∞–µ—Ç —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ.

    > üíÅ –î–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è SPI –æ–±–æ–∑–Ω–∞—á–µ–Ω–∏—è –ø–∏–Ω–æ–≤ –Ω–∞ ArduCam –∏ –Ω–∞–∑–≤–∞–Ω–∏—è –ø–∏–Ω–æ–≤ Wio Terminal, –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –≤ –∫–æ–¥–µ, –≤—Å–µ –µ—â–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç —Å—Ç–∞—Ä—É—é –Ω–æ—Ç–∞—Ü–∏—é. –í —ç—Ç–æ–º —É—Ä–æ–∫–µ –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –Ω–æ–≤–∞—è –Ω–æ—Ç–∞—Ü–∏—è, –∑–∞ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ–º —Å–ª—É—á–∞–µ–≤, –∫–æ–≥–¥–∞ –Ω–∞–∑–≤–∞–Ω–∏—è –ø–∏–Ω–æ–≤ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤ –∫–æ–¥–µ.

1. –¢–µ–ø–µ—Ä—å –≤—ã –º–æ–∂–µ—Ç–µ –ø–æ–¥–∫–ª—é—á–∏—Ç—å Wio Terminal –∫ –≤–∞—à–µ–º—É –∫–æ–º–ø—å—é—Ç–µ—Ä—É.

## –ü—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –∫–∞–º–µ—Ä–µ

–¢–µ–ø–µ—Ä—å Wio Terminal –º–æ–∂–Ω–æ –∑–∞–ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞—Ç—å –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ø–æ–¥–∫–ª—é—á–µ–Ω–Ω–æ–π –∫–∞–º–µ—Ä–æ–π ArduCAM.

### –ó–∞–¥–∞–Ω–∏–µ - –∑–∞–ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä—É–π—Ç–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –∫–∞–º–µ—Ä–µ

1. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç –¥–ª—è Wio Terminal —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º PlatformIO. –ù–∞–∑–æ–≤–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç `fruit-quality-detector`. –î–æ–±–∞–≤—å—Ç–µ –∫–æ–¥ –≤ —Ñ—É–Ω–∫—Ü–∏—é `setup` –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ–≥–æ –ø–æ—Ä—Ç–∞.

1. –î–æ–±–∞–≤—å—Ç–µ –∫–æ–¥ –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ Wi-Fi, —É–∫–∞–∑–∞–≤ –≤–∞—à–∏ —É—á–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ Wi-Fi –≤ —Ñ–∞–π–ª–µ `config.h`. –ù–µ –∑–∞–±—É–¥—å—Ç–µ –¥–æ–±–∞–≤–∏—Ç—å –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –≤ —Ñ–∞–π–ª `platformio.ini`.

1. –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ ArduCam –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞ –∫–∞–∫ –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ Arduino, –∫–æ—Ç–æ—Ä—É—é –º–æ–∂–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —á–µ—Ä–µ–∑ —Ñ–∞–π–ª `platformio.ini`. –í–º–µ—Å—Ç–æ —ç—Ç–æ–≥–æ –µ—ë –Ω—É–∂–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∏–∑ –∏—Å—Ö–æ–¥–Ω–æ–≥–æ –∫–æ–¥–∞ —Å –∏—Ö —Å—Ç—Ä–∞–Ω–∏—Ü—ã –Ω–∞ GitHub. –í—ã –º–æ–∂–µ—Ç–µ —Å–¥–µ–ª–∞—Ç—å —ç—Ç–æ, –ª–∏–±–æ:

    * –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π —Å [https://github.com/ArduCAM/Arduino.git](https://github.com/ArduCAM/Arduino.git)
    * –ü–µ—Ä–µ–π–¥—è –Ω–∞ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –Ω–∞ GitHub –ø–æ –∞–¥—Ä–µ—Å—É [github.com/ArduCAM/Arduino](https://github.com/ArduCAM/Arduino) –∏ —Å–∫–∞—á–∞–≤ –∫–æ–¥ –≤ –≤–∏–¥–µ zip-–∞—Ä—Ö–∏–≤–∞ —á–µ—Ä–µ–∑ –∫–Ω–æ–ø–∫—É **Code**

1. –í–∞–º –Ω—É–∂–Ω–∞ —Ç–æ–ª—å–∫–æ –ø–∞–ø–∫–∞ `ArduCAM` –∏–∑ —ç—Ç–æ–≥–æ –∫–æ–¥–∞. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –≤—Å—é –ø–∞–ø–∫—É –≤ –ø–∞–ø–∫—É `lib` –≤–∞—à–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞.

    > ‚ö†Ô∏è –í–∞–∂–Ω–æ —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –≤—Å—é –ø–∞–ø–∫—É, —á—Ç–æ–±—ã –∫–æ–¥ –Ω–∞—Ö–æ–¥–∏–ª—Å—è –≤ `lib/ArduCam`. –ù–µ –∫–æ–ø–∏—Ä—É–π—Ç–µ —Ç–æ–ª—å–∫–æ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –ø–∞–ø–∫–∏ `ArduCam` –≤ –ø–∞–ø–∫—É `lib`, —Å–∫–æ–ø–∏—Ä—É–π—Ç–µ –≤—Å—é –ø–∞–ø–∫—É —Ü–µ–ª–∏–∫–æ–º.

1. –ö–æ–¥ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ ArduCam —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ —Ç–∏–ø–∞–º–∏ –∫–∞–º–µ—Ä. –¢–∏–ø –∫–∞–º–µ—Ä—ã, –∫–æ—Ç–æ—Ä—ã–π –≤—ã —Ö–æ—Ç–∏—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å, –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è —Å –ø–æ–º–æ—â—å—é —Ñ–ª–∞–≥–æ–≤ –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä–∞ ‚Äî —ç—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç —É–º–µ–Ω—å—à–∏—Ç—å —Ä–∞–∑–º–µ—Ä –±–∏–±–ª–∏–æ—Ç–µ–∫–∏, –∏—Å–∫–ª—é—á–∏–≤ –∫–æ–¥ –¥–ª—è –∫–∞–º–µ—Ä, –∫–æ—Ç–æ—Ä—ã–µ –≤—ã –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ. –ß—Ç–æ–±—ã –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –±–∏–±–ª–∏–æ—Ç–µ–∫—É –¥–ª—è –∫–∞–º–µ—Ä—ã OV2640, –¥–æ–±–∞–≤—å—Ç–µ —Å–ª–µ–¥—É—é—â–µ–µ –≤ –∫–æ–Ω–µ—Ü —Ñ–∞–π–ª–∞ `platformio.ini`:

    ```ini
    build_flags =
        -DARDUCAM_SHIELD_V2
        -DOV2640_CAM
    ```

    –≠—Ç–æ –∑–∞–¥–∞–µ—Ç –¥–≤–∞ —Ñ–ª–∞–≥–∞ –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä–∞:

      * `ARDUCAM_SHIELD_V2` ‚Äî —É–∫–∞–∑—ã–≤–∞–µ—Ç –±–∏–±–ª–∏–æ—Ç–µ–∫–µ, —á—Ç–æ –∫–∞–º–µ—Ä–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∞ –∫ –ø–ª–∞—Ç–µ Arduino, –∏–∑–≤–µ—Å—Ç–Ω–æ–π –∫–∞–∫ shield.
      * `OV2640_CAM` ‚Äî —É–∫–∞–∑—ã–≤–∞–µ—Ç –±–∏–±–ª–∏–æ—Ç–µ–∫–µ –≤–∫–ª—é—á–∏—Ç—å —Ç–æ–ª—å–∫–æ –∫–æ–¥ –¥–ª—è –∫–∞–º–µ—Ä—ã OV2640.

1. –î–æ–±–∞–≤—å—Ç–µ –∑–∞–≥–æ–ª–æ–≤–æ—á–Ω—ã–π —Ñ–∞–π–ª –≤ –ø–∞–ø–∫—É `src` —Å –∏–º–µ–Ω–µ–º `camera.h`. –≠—Ç–æ—Ç —Ñ–∞–π–ª –±—É–¥–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å –∫–æ–¥ –¥–ª—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å –∫–∞–º–µ—Ä–æ–π. –î–æ–±–∞–≤—å—Ç–µ –≤ —ç—Ç–æ—Ç —Ñ–∞–π–ª —Å–ª–µ–¥—É—é—â–∏–π –∫–æ–¥:

    ```cpp
    #pragma once
    
    #include <ArduCAM.h>
    #include <Wire.h>
    
    class Camera
    {
    public:
        Camera(int format, int image_size) : _arducam(OV2640, PIN_SPI_SS)
        {
            _format = format;
            _image_size = image_size;
        }
    
        bool init()
        {
            // Reset the CPLD
            _arducam.write_reg(0x07, 0x80);
            delay(100);
    
            _arducam.write_reg(0x07, 0x00);
            delay(100);
    
            // Check if the ArduCAM SPI bus is OK
            _arducam.write_reg(ARDUCHIP_TEST1, 0x55);
            if (_arducam.read_reg(ARDUCHIP_TEST1) != 0x55)
            {
                return false;
            }
                
            // Change MCU mode
            _arducam.set_mode(MCU2LCD_MODE);
    
            uint8_t vid, pid;
    
            // Check if the camera module type is OV2640
            _arducam.wrSensorReg8_8(0xff, 0x01);
            _arducam.rdSensorReg8_8(OV2640_CHIPID_HIGH, &vid);
            _arducam.rdSensorReg8_8(OV2640_CHIPID_LOW, &pid);
            if ((vid != 0x26) && ((pid != 0x41) || (pid != 0x42)))
            {
                return false;
            }
            
            _arducam.set_format(_format);
            _arducam.InitCAM();
            _arducam.OV2640_set_JPEG_size(_image_size);
            _arducam.OV2640_set_Light_Mode(Auto);
            _arducam.OV2640_set_Special_effects(Normal);
            delay(1000);
    
            return true;
        }
    
        void startCapture()
        {
            _arducam.flush_fifo();
            _arducam.clear_fifo_flag();
            _arducam.start_capture();
        }
    
        bool captureReady()
        {
            return _arducam.get_bit(ARDUCHIP_TRIG, CAP_DONE_MASK);
        }
    
        bool readImageToBuffer(byte **buffer, uint32_t &buffer_length)
        {
            if (!captureReady()) return false;
    
            // Get the image file length
            uint32_t length = _arducam.read_fifo_length();
            buffer_length = length;
    
            if (length >= MAX_FIFO_SIZE)
            {
                return false;
            }
            if (length == 0)
            {
                return false;
            }
    
            // create the buffer
            byte *buf = new byte[length];
    
            uint8_t temp = 0, temp_last = 0;
            int i = 0;
            uint32_t buffer_pos = 0;
            bool is_header = false;
    
            _arducam.CS_LOW();
            _arducam.set_fifo_burst();
            
            while (length--)
            {
                temp_last = temp;
                temp = SPI.transfer(0x00);
                //Read JPEG data from FIFO
                if ((temp == 0xD9) && (temp_last == 0xFF)) //If find the end ,break while,
                {
                    buf[buffer_pos] = temp;
    
                    buffer_pos++;
                    i++;
                    
                    _arducam.CS_HIGH();
                }
                if (is_header == true)
                {
                    //Write image data to buffer if not full
                    if (i < 256)
                    {
                        buf[buffer_pos] = temp;
                        buffer_pos++;
                        i++;
                    }
                    else
                    {
                        _arducam.CS_HIGH();
    
                        i = 0;
                        buf[buffer_pos] = temp;
    
                        buffer_pos++;
                        i++;
    
                        _arducam.CS_LOW();
                        _arducam.set_fifo_burst();
                    }
                }
                else if ((temp == 0xD8) & (temp_last == 0xFF))
                {
                    is_header = true;
    
                    buf[buffer_pos] = temp_last;
                    buffer_pos++;
                    i++;
    
                    buf[buffer_pos] = temp;
                    buffer_pos++;
                    i++;
                }
            }
            
            _arducam.clear_fifo_flag();
    
            _arducam.set_format(_format);
            _arducam.InitCAM();
            _arducam.OV2640_set_JPEG_size(_image_size);
    
            // return the buffer
            *buffer = buf;
        }
    
    private:
        ArduCAM _arducam;
        int _format;
        int _image_size;
    };
    ```

    –≠—Ç–æ –Ω–∏–∑–∫–æ—É—Ä–æ–≤–Ω–µ–≤—ã–π –∫–æ–¥, –∫–æ—Ç–æ—Ä—ã–π –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç –∫–∞–º–µ—Ä—É —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –±–∏–±–ª–∏–æ—Ç–µ–∫ ArduCam –∏ –∏–∑–≤–ª–µ–∫–∞–µ—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –ø–æ –º–µ—Ä–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ —á–µ—Ä–µ–∑ —à–∏–Ω—É SPI. –≠—Ç–æ—Ç –∫–æ–¥ —Å–ø–µ—Ü–∏—Ñ–∏—á–µ–Ω –¥–ª—è ArduCam, –ø–æ—ç—Ç–æ–º—É –≤–∞–º –Ω–µ –Ω—É–∂–Ω–æ –±–µ—Å–ø–æ–∫–æ–∏—Ç—å—Å—è –æ —Ç–æ–º, –∫–∞–∫ –æ–Ω —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –¥–∞–Ω–Ω–æ–º —ç—Ç–∞–ø–µ.

1. –í `main.cpp` –¥–æ–±–∞–≤—å—Ç–µ —Å–ª–µ–¥—É—é—â–∏–π –∫–æ–¥ –ø–æ–¥ –¥—Ä—É–≥–∏–º–∏ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º–∏ `include`, —á—Ç–æ–±—ã –≤–∫–ª—é—á–∏—Ç—å —ç—Ç–æ—Ç –Ω–æ–≤—ã–π —Ñ–∞–π–ª –∏ —Å–æ–∑–¥–∞—Ç—å —ç–∫–∑–µ–º–ø–ª—è—Ä –∫–ª–∞—Å—Å–∞ –∫–∞–º–µ—Ä—ã:

    ```cpp
    #include "camera.h"

    Camera camera = Camera(JPEG, OV2640_640x480);
    ```

    –≠—Ç–æ —Å–æ–∑–¥–∞–µ—Ç –æ–±—ä–µ–∫—Ç `Camera`, –∫–æ—Ç–æ—Ä—ã–π —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤ —Ñ–æ—Ä–º–∞—Ç–µ JPEG —Å —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ–º 640x480. –•–æ—Ç—è –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è –±–æ–ª–µ–µ –≤—ã—Å–æ–∫–∏–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è (–¥–æ 3280x2464), –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ç–æ—Ä –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –≥–æ—Ä–∞–∑–¥–æ –º–µ–Ω—å—à–∏–º–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º–∏ (227x227), –ø–æ—ç—Ç–æ–º—É –Ω–µ—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –∑–∞—Ö–≤–∞—Ç—ã–≤–∞—Ç—å –∏ –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –±–æ–ª—å—à–µ–≥–æ —Ä–∞–∑–º–µ—Ä–∞.

1. –î–æ–±–∞–≤—å—Ç–µ —Å–ª–µ–¥—É—é—â–∏–π –∫–æ–¥ –Ω–∏–∂–µ, —á—Ç–æ–±—ã –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏—é –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∫–∞–º–µ—Ä—ã:

    ```cpp
    void setupCamera()
    {
        pinMode(PIN_SPI_SS, OUTPUT);
        digitalWrite(PIN_SPI_SS, HIGH);
    
        Wire.begin();
        SPI.begin();
    
        if (!camera.init())
        {
            Serial.println("Error setting up the camera!");
        }
    }
    ```

    –§—É–Ω–∫—Ü–∏—è `setupCamera` –Ω–∞—á–∏–Ω–∞–µ—Ç —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–∏–Ω–∞ –≤—ã–±–æ—Ä–∞ —á–∏–ø–∞ SPI (`PIN_SPI_SS`) –∫–∞–∫ –≤—ã—Å–æ–∫–æ–≥–æ, –¥–µ–ª–∞—è Wio Terminal –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–æ–º SPI. –ó–∞—Ç–µ–º –æ–Ω–∞ –∑–∞–ø—É—Å–∫–∞–µ—Ç —à–∏–Ω—ã I2C –∏ SPI. –ù–∞–∫–æ–Ω–µ—Ü, –æ–Ω–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç –∫–ª–∞—Å—Å –∫–∞–º–µ—Ä—ã, –∫–æ—Ç–æ—Ä—ã–π –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Å–µ–Ω—Å–æ—Ä–∞ –∫–∞–º–µ—Ä—ã –∏ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è.

1. –í—ã–∑–æ–≤–∏—Ç–µ —ç—Ç—É —Ñ—É–Ω–∫—Ü–∏—é –≤ –∫–æ–Ω—Ü–µ —Ñ—É–Ω–∫—Ü–∏–∏ `setup`:

    ```cpp
    setupCamera();
    ```

1. –°–æ–±–µ—Ä–∏—Ç–µ –∏ –∑–∞–≥—Ä—É–∑–∏—Ç–µ —ç—Ç–æ—Ç –∫–æ–¥, –∞ –∑–∞—Ç–µ–º –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –≤—ã–≤–æ–¥ –≤ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ–º –º–æ–Ω–∏—Ç–æ—Ä–µ. –ï—Å–ª–∏ –≤—ã –≤–∏–¥–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ `Error setting up the camera!`, –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–æ–≤–æ–¥–∫—É, —á—Ç–æ–±—ã —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –≤—Å–µ –∫–∞–±–µ–ª–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω—ã –∫ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º –ø–∏–Ω–∞–º –Ω–∞ ArduCam –∏ GPIO-–ø–∏–Ω–∞–º –Ω–∞ Wio Terminal, –∞ —Ç–∞–∫–∂–µ —á—Ç–æ –≤—Å–µ —Å–æ–µ–¥–∏–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–æ–≤–æ–¥–∞ –Ω–∞–¥–µ–∂–Ω–æ –∑–∞–∫—Ä–µ–ø–ª–µ–Ω—ã.

## –ó–∞—Ö–≤–∞—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è

–¢–µ–ø–µ—Ä—å Wio Terminal –º–æ–∂–Ω–æ –∑–∞–ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞—Ç—å –¥–ª—è –∑–∞—Ö–≤–∞—Ç–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –ø—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ –∫–Ω–æ–ø–∫–∏.

### –ó–∞–¥–∞–Ω–∏–µ - –∑–∞—Ö–≤–∞—Ç–∏—Ç–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ

1. –ú–∏–∫—Ä–æ–∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã –≤—ã–ø–æ–ª–Ω—è—é—Ç –≤–∞—à –∫–æ–¥ –Ω–µ–ø—Ä–µ—Ä—ã–≤–Ω–æ, –ø–æ—ç—Ç–æ–º—É —Å–ª–æ–∂–Ω–æ –∏–Ω–∏—Ü–∏–∏—Ä–æ–≤–∞—Ç—å —Ç–∞–∫–∏–µ –¥–µ–π—Å—Ç–≤–∏—è, –∫–∞–∫ —Å—ä–µ–º–∫–∞ —Ñ–æ—Ç–æ, –±–µ–∑ —Ä–µ–∞–∫—Ü–∏–∏ –Ω–∞ –¥–∞—Ç—á–∏–∫. –£ Wio Terminal –µ—Å—Ç—å –∫–Ω–æ–ø–∫–∏, –ø–æ—ç—Ç–æ–º—É –∫–∞–º–µ—Ä—É –º–æ–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –Ω–∞ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏–µ –ø—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ –æ–¥–Ω–æ–π –∏–∑ –∫–Ω–æ–ø–æ–∫. –î–æ–±–∞–≤—å—Ç–µ —Å–ª–µ–¥—É—é—â–∏–π –∫–æ–¥ –≤ –∫–æ–Ω–µ—Ü —Ñ—É–Ω–∫—Ü–∏–∏ `setup`, —á—Ç–æ–±—ã –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –∫–Ω–æ–ø–∫—É C (–æ–¥–Ω—É –∏–∑ —Ç—Ä–µ—Ö –∫–Ω–æ–ø–æ–∫ —Å–≤–µ—Ä—Ö—É, –±–ª–∏–∂–∞–π—à—É—é –∫ –≤—ã–∫–ª—é—á–∞—Ç–µ–ª—é –ø–∏—Ç–∞–Ω–∏—è).

    ![–ö–Ω–æ–ø–∫–∞ C —Å–≤–µ—Ä—Ö—É, –±–ª–∏–∂–∞–π—à–∞—è –∫ –≤—ã–∫–ª—é—á–∞—Ç–µ–ª—é –ø–∏—Ç–∞–Ω–∏—è](../../../../../translated_images/wio-terminal-c-button.73df3cb1c1445ea07ee98316af0e7925fcb43135df0abed58d3d4822b2589c3b.ru.png)

    ```cpp
    pinMode(WIO_KEY_C, INPUT_PULLUP);
    ```

    –†–µ–∂–∏–º `INPUT_PULLUP` –ø–æ —Å—É—Ç–∏ –∏–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ—Ç –≤—Ö–æ–¥. –ù–∞–ø—Ä–∏–º–µ—Ä, –æ–±—ã—á–Ω–æ –∫–Ω–æ–ø–∫–∞ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –Ω–∏–∑–∫–∏–π —Å–∏–≥–Ω–∞–ª, –∫–æ–≥–¥–∞ –Ω–µ –Ω–∞–∂–∞—Ç–∞, –∏ –≤—ã—Å–æ–∫–∏–π —Å–∏–≥–Ω–∞–ª, –∫–æ–≥–¥–∞ –Ω–∞–∂–∞—Ç–∞. –ü—Ä–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–µ –≤ —Ä–µ–∂–∏–º `INPUT_PULLUP` –æ–Ω–∞ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –≤—ã—Å–æ–∫–∏–π —Å–∏–≥–Ω–∞–ª, –∫–æ–≥–¥–∞ –Ω–µ –Ω–∞–∂–∞—Ç–∞, –∏ –Ω–∏–∑–∫–∏–π —Å–∏–≥–Ω–∞–ª, –∫–æ–≥–¥–∞ –Ω–∞–∂–∞—Ç–∞.

1. –î–æ–±–∞–≤—å—Ç–µ –ø—É—Å—Ç—É—é —Ñ—É–Ω–∫—Ü–∏—é –¥–ª—è —Ä–µ–∞–∫—Ü–∏–∏ –Ω–∞ –Ω–∞–∂–∞—Ç–∏–µ –∫–Ω–æ–ø–∫–∏ –ø–µ—Ä–µ–¥ —Ñ—É–Ω–∫—Ü–∏–µ–π `loop`:

    ```cpp
    void buttonPressed()
    {
        
    }
    ```

1. –í—ã–∑–æ–≤–∏—Ç–µ —ç—Ç—É —Ñ—É–Ω–∫—Ü–∏—é –≤ –º–µ—Ç–æ–¥–µ `loop`, –∫–æ–≥–¥–∞ –∫–Ω–æ–ø–∫–∞ –Ω–∞–∂–∞—Ç–∞:

    ```cpp
    void loop()
    {
        if (digitalRead(WIO_KEY_C) == LOW)
        {
            buttonPressed();
            delay(2000);
        }
    
        delay(200);
    }
    ```

    –≠—Ç–æ—Ç –∫–æ–¥ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç, –Ω–∞–∂–∞—Ç–∞ –ª–∏ –∫–Ω–æ–ø–∫–∞. –ï—Å–ª–∏ –æ–Ω–∞ –Ω–∞–∂–∞—Ç–∞, –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è —Ñ—É–Ω–∫—Ü–∏—è `buttonPressed`, –∏ —Ü–∏–∫–ª –∑–∞–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è –Ω–∞ 2 —Å–µ–∫—É–Ω–¥—ã. –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –∫–Ω–æ–ø–∫–µ –±—ã—Ç—å –æ—Ç–ø—É—â–µ–Ω–Ω–æ–π, —á—Ç–æ–±—ã –¥–ª–∏—Ç–µ–ª—å–Ω–æ–µ –Ω–∞–∂–∞—Ç–∏–µ –Ω–µ —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–ª–æ—Å—å –¥–≤–∞–∂–¥—ã.

    > üíÅ –ö–Ω–æ–ø–∫–∞ –Ω–∞ Wio Terminal –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞ –∫–∞–∫ `INPUT_PULLUP`, –ø–æ—ç—Ç–æ–º—É –æ–Ω–∞ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –≤—ã—Å–æ–∫–∏–π —Å–∏–≥–Ω–∞–ª, –∫–æ–≥–¥–∞ –Ω–µ –Ω–∞–∂–∞—Ç–∞, –∏ –Ω–∏–∑–∫–∏–π —Å–∏–≥–Ω–∞–ª, –∫–æ–≥–¥–∞ –Ω–∞–∂–∞—Ç–∞.

1. –î–æ–±–∞–≤—å—Ç–µ —Å–ª–µ–¥—É—é—â–∏–π –∫–æ–¥ –≤ —Ñ—É–Ω–∫—Ü–∏—é `buttonPressed`:

    ```cpp
    camera.startCapture();
 
    while (!camera.captureReady())
        delay(100);

    Serial.println("Image captured");

    byte *buffer;
    uint32_t length;

    if (camera.readImageToBuffer(&buffer, length))
    {
        Serial.print("Image read to buffer with length ");
        Serial.println(length);

        delete(buffer);
    }
    ```

    –≠—Ç–æ—Ç –∫–æ–¥ –Ω–∞—á–∏–Ω–∞–µ—Ç –∑–∞—Ö–≤–∞—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è, –≤—ã–∑—ã–≤–∞—è `startCapture`. –ê–ø–ø–∞—Ä–∞—Ç–Ω–æ–µ –æ–±–µ—Å–ø–µ—á–µ–Ω–∏–µ –∫–∞–º–µ—Ä—ã –Ω–µ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ —Å—Ä–∞–∑—É, –∫–æ–≥–¥–∞ –≤—ã –∏—Ö –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç–µ. –í–º–µ—Å—Ç–æ —ç—Ç–æ–≥–æ –≤—ã –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç–µ –∫–æ–º–∞–Ω–¥—É –Ω–∞ –Ω–∞—á–∞–ª–æ –∑–∞—Ö–≤–∞—Ç–∞, –∏ –∫–∞–º–µ—Ä–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ —Ñ–æ–Ω–æ–≤–æ–º —Ä–µ–∂–∏–º–µ, —á—Ç–æ–±—ã –∑–∞—Ö–≤–∞—Ç–∏—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ, –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞—Ç—å –µ–≥–æ –≤ JPEG –∏ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤ –ª–æ–∫–∞–ª—å–Ω–æ–º –±—É—Ñ–µ—Ä–µ –Ω–∞ —Å–∞–º–æ–π –∫–∞–º–µ—Ä–µ. –í—ã–∑–æ–≤ `captureReady` –∑–∞—Ç–µ–º –ø—Ä–æ–≤–µ—Ä—è–µ—Ç, –∑–∞–≤–µ—Ä—à–µ–Ω –ª–∏ –∑–∞—Ö–≤–∞—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è.

    –ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∑–∞—Ö–≤–∞—Ç–∞ –¥–∞–Ω–Ω—ã–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –∫–æ–ø–∏—Ä—É—é—Ç—Å—è –∏–∑ –±—É—Ñ–µ—Ä–∞ –∫–∞–º–µ—Ä—ã –≤ –ª–æ–∫–∞–ª—å–Ω—ã–π –±—É—Ñ–µ—Ä (–º–∞—Å—Å–∏–≤ –±–∞–π—Ç–æ–≤) —Å –ø–æ–º–æ—â—å—é –≤—ã–∑–æ–≤–∞ `readImageToBuffer`. –î–ª–∏–Ω–∞ –±—É—Ñ–µ—Ä–∞ –∑–∞—Ç–µ–º –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –≤ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—ã–π –º–æ–Ω–∏—Ç–æ—Ä.

1. –°–æ–±–µ—Ä–∏—Ç–µ –∏ –∑–∞–≥—Ä—É–∑–∏—Ç–µ —ç—Ç–æ—Ç –∫–æ–¥, –∞ –∑–∞—Ç–µ–º –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –≤—ã–≤–æ–¥ –≤ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ–º –º–æ–Ω–∏—Ç–æ—Ä–µ. –ö–∞–∂–¥—ã–π —Ä–∞–∑, –∫–æ–≥–¥–∞ –≤—ã –Ω–∞–∂–∏–º–∞–µ—Ç–µ –∫–Ω–æ–ø–∫—É C, –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –±—É–¥–µ—Ç –∑–∞—Ö–≤–∞—á–µ–Ω–æ, –∏ –≤—ã —É–≤–∏–¥–∏—Ç–µ —Ä–∞–∑–º–µ—Ä –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è, –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–π –≤ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—ã–π –º–æ–Ω–∏—Ç–æ—Ä.

    ```output
    Connecting to WiFi..
    Connected!
    Image captured
    Image read to buffer with length 9224
    Image captured
    Image read to buffer with length 11272
    ```

    –†–∞–∑–º–µ—Ä—ã —Ä–∞–∑–Ω—ã—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –±—É–¥—É—Ç —Ä–∞–∑–ª–∏—á–∞—Ç—å—Å—è. –û–Ω–∏ —Å–∂–∞—Ç—ã –≤ —Ñ–æ—Ä–º–∞—Ç–µ JPEG, –∏ —Ä–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞ JPEG –¥–ª—è –∑–∞–¥–∞–Ω–Ω–æ–≥–æ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è.

> üíÅ –í—ã –º–æ–∂–µ—Ç–µ –Ω–∞–π—Ç–∏ —ç—Ç–æ—Ç –∫–æ–¥ –≤ –ø–∞–ø–∫–µ [code-camera/wio-terminal](../../../../../4-manufacturing/lessons/2-check-fruit-from-device/code-camera/wio-terminal).

üòÄ –í—ã —É—Å–ø–µ—à–Ω–æ –∑–∞—Ö–≤–∞—Ç–∏–ª–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å –ø–æ–º–æ—â—å—é –≤–∞—à–µ–≥–æ Wio Terminal.

## –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ - –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –∫–∞–º–µ—Ä—ã —Å –ø–æ–º–æ—â—å—é SD-–∫–∞—Ä—Ç—ã

–°–∞–º—ã–π –ø—Ä–æ—Å—Ç–æ–π —Å–ø–æ—Å–æ–± —É–≤–∏–¥–µ—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è, –∑–∞—Ö–≤–∞—á–µ–Ω–Ω—ã–µ –∫–∞–º–µ—Ä–æ–π, ‚Äî –∑–∞–ø–∏—Å–∞—Ç—å –∏—Ö –Ω–∞ SD-–∫–∞—Ä—Ç—É –≤ Wio Terminal, –∞ –∑–∞—Ç–µ–º –ø—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å –∏—Ö –Ω–∞ –≤–∞—à–µ–º –∫–æ–º–ø—å—é—Ç–µ—Ä–µ. –í—ã–ø–æ–ª–Ω–∏—Ç–µ —ç—Ç–æ—Ç —à–∞–≥, –µ—Å–ª–∏ —É –≤–∞—Å –µ—Å—Ç—å —Å–≤–æ–±–æ–¥–Ω–∞—è microSD-–∫–∞—Ä—Ç–∞ –∏ —Ä–∞–∑—ä–µ–º –¥–ª—è microSD-–∫–∞—Ä—Ç –Ω–∞ –≤–∞—à–µ–º –∫–æ–º–ø—å—é—Ç–µ—Ä–µ –∏–ª–∏ –∞–¥–∞–ø—Ç–µ—Ä.

Wio Terminal –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Ç–æ–ª—å–∫–æ microSD-–∫–∞—Ä—Ç—ã –æ–±—ä–µ–º–æ–º –¥–æ 16 –ì–ë. –ï—Å–ª–∏ —É –≤–∞—Å –∫–∞—Ä—Ç–∞ –±–æ–ª—å—à–µ–≥–æ –æ–±—ä–µ–º–∞, –æ–Ω–∞ –Ω–µ –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å.

### –ó–∞–¥–∞–Ω–∏–µ - –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –∫–∞–º–µ—Ä—ã —Å –ø–æ–º–æ—â—å—é SD-–∫–∞—Ä—Ç—ã

1. –û—Ç—Ñ–æ—Ä–º–∞—Ç–∏—Ä—É–π—Ç–µ microSD-–∫–∞—Ä—Ç—É –≤ —Ñ–æ—Ä–º–∞—Ç–µ FAT32 –∏–ª–∏ exFAT, –∏—Å–ø–æ–ª—å–∑—É—è —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –Ω–∞ –≤–∞—à–µ–º –∫–æ–º–ø—å—é—Ç–µ—Ä–µ (Disk Utility –Ω–∞ macOS, –ü—Ä–æ–≤–æ–¥–Ω–∏–∫ –Ω–∞ Windows –∏–ª–∏ –∫–æ–º–∞–Ω–¥–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –≤ Linux).

1. –í—Å—Ç–∞–≤—å—Ç–µ microSD-–∫–∞—Ä—Ç—É –≤ —Ä–∞–∑—ä–µ–º —á—É—Ç—å –Ω–∏–∂–µ –≤—ã–∫–ª—é—á–∞—Ç–µ–ª—è –ø–∏—Ç–∞–Ω–∏—è. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –æ–Ω–∞ –≤—Å—Ç–∞–≤–ª–µ–Ω–∞ –¥–æ –∫–æ–Ω—Ü–∞, –ø–æ–∫–∞ –Ω–µ —â–µ–ª–∫–Ω–µ—Ç –∏ –Ω–µ –æ—Å—Ç–∞–Ω–µ—Ç—Å—è –Ω–∞ –º–µ—Å—Ç–µ. –í–æ–∑–º–æ–∂–Ω–æ, –≤–∞–º –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è –Ω–∞–¥–∞–≤–∏—Ç—å –Ω–∞ –Ω–µ—ë –Ω–æ–≥—Ç–µ–º –∏–ª–∏ —Ç–æ–Ω–∫–∏–º –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–º.

1. –î–æ–±–∞–≤—å—Ç–µ —Å–ª–µ–¥—É—é—â–∏–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ `include` –≤ –Ω–∞—á–∞–ª–æ —Ñ–∞–π–ª–∞ `main.cpp`:

    ```cpp
    #include "SD/Seeed_SD.h"
    #include <Seeed_FS.h>
    ```

1. –î–æ–±–∞–≤—å—Ç–µ —Å–ª–µ–¥—É—é—â—É—é —Ñ—É–Ω–∫—Ü–∏—é –ø–µ—Ä–µ–¥ —Ñ—É–Ω–∫—Ü–∏–µ–π `setup`:

    ```cpp
    void setupSDCard()
    {
        while (!SD.begin(SDCARD_SS_PIN, SDCARD_SPI))
        {
            Serial.println("SD Card Error");
        }
    }
    ```

    –≠—Ç–∞ —Ñ—É–Ω–∫—Ü–∏—è –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç SD-–∫–∞—Ä—Ç—É —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º —à–∏–Ω—ã SPI.

1. –í—ã–∑–æ–≤–∏—Ç–µ –µ—ë –∏–∑ —Ñ—É–Ω–∫—Ü–∏–∏ `setup`:

    ```cpp
    setupSDCard();
    ```

1. –î–æ–±–∞–≤—å—Ç–µ —Å–ª–µ–¥—É—é—â–∏–π –∫–æ–¥ –≤—ã—à–µ —Ñ—É–Ω–∫—Ü–∏–∏ `buttonPressed`:

    ```cpp
    int fileNum = 1;

    void saveToSDCard(byte *buffer, uint32_t length)
    {
        char buff[16];
        sprintf(buff, "%d.jpg", fileNum);
        fileNum++;
    
        File outFile = SD.open(buff, FILE_WRITE );
        outFile.write(buffer, length);
        outFile.close();

        Serial.print("Image written to file ");
        Serial.println(buff);
    }
    ```

    –≠—Ç–æ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –≥–ª–æ–±–∞–ª—å–Ω—É—é –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –¥–ª—è –ø–æ–¥—Å—á–µ—Ç–∞ —Ñ–∞–π–ª–æ–≤. –û–Ω–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –∏–º–µ–Ω —Ñ–∞–π–ª–æ–≤ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π, —á—Ç–æ–±—ã –º–æ–∂–Ω–æ –±—ã–ª–æ –∑–∞—Ö–≤–∞—Ç—ã–≤–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π —Å —É–≤–µ–ª–∏—á–∏–≤–∞—é—â–∏–º–∏—Å—è –∏–º–µ–Ω–∞–º–∏ —Ñ–∞–π–ª–æ–≤ ‚Äî `1.jpg`, `2.jpg` –∏ —Ç–∞–∫ –¥–∞–ª–µ–µ.

    –ó–∞—Ç–µ–º –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è —Ñ—É–Ω–∫—Ü–∏—è `saveToSDCard`, –∫–æ—Ç–æ—Ä–∞—è –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –±—É—Ñ–µ—Ä –¥–∞–Ω–Ω—ã—Ö –≤ –±–∞–π—Ç–∞—Ö –∏ –¥–ª–∏–Ω—É –±—É—Ñ–µ—Ä–∞. –°–æ–∑–¥–∞–µ—Ç—Å—è –∏–º—è —Ñ–∞–π–ª–∞ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º —Å—á–µ—Ç—á–∏–∫–∞ —Ñ–∞–π–ª–æ–≤, –∏ —Å—á–µ—Ç—á–∏–∫ —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç—Å—è –¥–ª—è —Å–ª–µ–¥—É—é—â–µ–≥–æ —Ñ–∞–π–ª–∞. –î–≤–æ–∏—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∏–∑ –±—É—Ñ–µ—Ä–∞ –∑–∞—Ç–µ–º –∑–∞–ø–∏—Å—ã–≤–∞—é—Ç—Å—è –≤ —Ñ–∞–π–ª.

1. –í—ã–∑–æ–≤–∏—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é `saveToSDCard` –∏–∑ —Ñ—É–Ω–∫—Ü–∏–∏ `buttonPressed`. –í—ã–∑–æ–≤ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å **–¥–æ** —É–¥–∞–ª–µ–Ω–∏—è –±—É—Ñ–µ—Ä–∞:

    ```cpp
    Serial.print("Image read to buffer with length ");
    Serial.println(length);

    saveToSDCard(buffer, length);
    
    delete(buffer);
    ```

1. –°–æ–±–µ—Ä–∏—Ç–µ –∏ –∑–∞–≥—Ä—É–∑–∏—Ç–µ —ç—Ç–æ—Ç –∫–æ–¥, –∞ –∑–∞—Ç–µ–º –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –≤—ã–≤–æ–¥ –≤ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ–º –º–æ–Ω–∏—Ç–æ—Ä–µ. –ö–∞–∂–¥—ã–π —Ä–∞–∑, –∫–æ–≥–¥–∞ –≤—ã –Ω–∞–∂–∏–º–∞–µ—Ç–µ –∫–Ω–æ–ø–∫—É C, –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –±—É–¥–µ—Ç –∑–∞—Ö–≤–∞—á–µ–Ω–æ –∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–æ –Ω–∞ SD-–∫–∞—Ä—Ç—É.

    ```output
    Connecting to WiFi..
    Connected!
    Image captured
    Image read to buffer with length 16392
    Image written to file 1.jpg
    Image captured
    Image read to buffer with length 14344
    Image written to file 2.jpg
    ```

1. –í—ã–∫–ª—é—á–∏—Ç–µ –ø–∏—Ç–∞–Ω–∏–µ, –∞ –∑–∞—Ç–µ–º –∏–∑–≤–ª–µ–∫–∏—Ç–µ microSD-–∫–∞—Ä—Ç—É, —Å–ª–µ–≥–∫–∞ –Ω–∞–∂–∞–≤ –Ω–∞ –Ω–µ—ë –∏ –æ—Ç–ø—É—Å—Ç–∏–≤, —á—Ç–æ–±—ã –æ–Ω–∞ –≤—ã—Å–∫–æ—á–∏–ª–∞. –í–æ–∑–º–æ–∂–Ω–æ, –≤–∞–º –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–æ–Ω–∫–∏–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è —ç—Ç–æ–≥–æ. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ microSD-–∫–∞—Ä—Ç—É –∫ –≤–∞—à–µ–º—É –∫–æ–º–ø—å—é—Ç–µ—Ä—É, —á—Ç–æ–±—ã –ø—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è.

    ![–§–æ—Ç–æ–≥—Ä–∞—Ñ–∏—è –±–∞–Ω–∞–Ω–∞, —Å–¥–µ–ª–∞–Ω–Ω–∞—è —Å –ø–æ–º–æ—â—å—é ArduCam](../../../../../translated_images/banana-arducam.be1b32d4267a8194b0fd042362e56faa431da9cd4af172051b37243ea9be0256.ru.jpg)
üíÅ –ú–æ–∂–µ—Ç –ø–æ—Ç—Ä–µ–±–æ–≤–∞—Ç—å—Å—è –Ω–µ—Å–∫–æ–ª—å–∫–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π, —á—Ç–æ–±—ã –±–∞–ª–∞–Ω—Å –±–µ–ª–æ–≥–æ –∫–∞–º–µ—Ä—ã –Ω–∞—Å—Ç—Ä–æ–∏–ª—Å—è. –í—ã –∑–∞–º–µ—Ç–∏—Ç–µ —ç—Ç–æ –ø–æ —Ü–≤–µ—Ç—É –∑–∞—Ö–≤–∞—á–µ–Ω–Ω—ã—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π, –ø–µ—Ä–≤—ã–µ –Ω–µ—Å–∫–æ–ª—å–∫–æ –º–æ–≥—É—Ç –≤—ã–≥–ª—è–¥–µ—Ç—å —Å –∏—Å–∫–∞–∂–µ–Ω–∏–µ–º —Ü–≤–µ—Ç–∞. –í—ã –≤—Å–µ–≥–¥–∞ –º–æ–∂–µ—Ç–µ –æ–±–æ–π—Ç–∏ —ç—Ç–æ, –∏–∑–º–µ–Ω–∏–≤ –∫–æ–¥ –¥–ª—è –∑–∞—Ö–≤–∞—Ç–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π, –∫–æ—Ç–æ—Ä—ã–µ –∏–≥–Ω–æ—Ä–∏—Ä—É—é—Ç—Å—è –≤ —Ñ—É–Ω–∫—Ü–∏–∏ `setup`.


---

**–û—Ç–∫–∞–∑ –æ—Ç –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏**:  
–≠—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç –±—ã–ª –ø–µ—Ä–µ–≤–µ–¥–µ–Ω —Å –ø–æ–º–æ—â—å—é —Å–µ—Ä–≤–∏—Å–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –ø–µ—Ä–µ–≤–æ–¥–∞ [Co-op Translator](https://github.com/Azure/co-op-translator). –•–æ—Ç—è –º—ã —Å—Ç—Ä–µ–º–∏–º—Å—è –∫ —Ç–æ—á–Ω–æ—Å—Ç–∏, –ø–æ–∂–∞–ª—É–π—Å—Ç–∞, —É—á–∏—Ç—ã–≤–∞–π—Ç–µ, —á—Ç–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø–µ—Ä–µ–≤–æ–¥—ã –º–æ–≥—É—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å –æ—à–∏–±–∫–∏ –∏–ª–∏ –Ω–µ—Ç–æ—á–Ω–æ—Å—Ç–∏. –û—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π –¥–æ–∫—É–º–µ–Ω—Ç –Ω–∞ –µ–≥–æ —Ä–æ–¥–Ω–æ–º —è–∑—ã–∫–µ —Å–ª–µ–¥—É–µ—Ç —Å—á–∏—Ç–∞—Ç—å –∞–≤—Ç–æ—Ä–∏—Ç–µ—Ç–Ω—ã–º –∏—Å—Ç–æ—á–Ω–∏–∫–æ–º. –î–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π –ø–µ—Ä–µ–≤–æ–¥ —á–µ–ª–æ–≤–µ–∫–æ–º. –ú—ã –Ω–µ –Ω–µ—Å–µ–º –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ –∑–∞ –ª—é–±—ã–µ –Ω–µ–¥–æ—Ä–∞–∑—É–º–µ–Ω–∏—è –∏–ª–∏ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏–∏, –≤–æ–∑–Ω–∏–∫–∞—é—â–∏–µ –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –¥–∞–Ω–Ω–æ–≥–æ –ø–µ—Ä–µ–≤–æ–¥–∞.