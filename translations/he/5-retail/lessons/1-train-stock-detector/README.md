<!--
CO_OP_TRANSLATOR_METADATA:
{
  "original_hash": "8df310a42f902139a01417dacb1ffbef",
  "translation_date": "2025-08-27T20:33:52+00:00",
  "source_file": "5-retail/lessons/1-train-stock-detector/README.md",
  "language_code": "he"
}
-->
# לאמן גלאי מלאי

![סקיצה של השיעור](../../../../../translated_images/lesson-19.cf6973cecadf080c4b526310620dc4d6f5994c80fb0139c6f378cc9ca2d435cd.he.jpg)

> סקיצה מאת [ניטיה נאראסימן](https://github.com/nitya). לחצו על התמונה לגרסה גדולה יותר.

הווידאו הזה מספק סקירה על זיהוי אובייקטים באמצעות שירות Azure Custom Vision, שירות שיכוסה בשיעור הזה.

[![Custom Vision 2 - Object Detection Made Easy | The Xamarin Show](https://img.youtube.com/vi/wtTYSyBUpFc/0.jpg)](https://www.youtube.com/watch?v=wtTYSyBUpFc)

> 🎥 לחצו על התמונה למעלה לצפייה בווידאו

## שאלון לפני השיעור

[שאלון לפני השיעור](https://black-meadow-040d15503.1.azurestaticapps.net/quiz/37)

## מבוא

בפרויקט הקודם השתמשתם בבינה מלאכותית כדי לאמן מסווג תמונות - מודל שיכול לזהות אם תמונה מכילה משהו, כמו פרי בשל או לא בשל. סוג נוסף של מודל בינה מלאכותית שניתן להשתמש בו עם תמונות הוא זיהוי אובייקטים. מודלים אלו לא מסווגים תמונה לפי תגיות, אלא מאומנים לזהות אובייקטים ויכולים למצוא אותם בתמונות, לא רק לזהות שהאובייקט קיים אלא גם היכן הוא נמצא בתמונה. זה מאפשר לספור אובייקטים בתמונות.

בשיעור הזה תלמדו על זיהוי אובייקטים, כולל איך ניתן להשתמש בו בקמעונאות. בנוסף תלמדו איך לאמן גלאי אובייקטים בענן.

בשיעור הזה נכסה:

* [זיהוי אובייקטים](../../../../../5-retail/lessons/1-train-stock-detector)
* [שימוש בזיהוי אובייקטים בקמעונאות](../../../../../5-retail/lessons/1-train-stock-detector)
* [אימון גלאי אובייקטים](../../../../../5-retail/lessons/1-train-stock-detector)
* [בדיקת גלאי האובייקטים שלכם](../../../../../5-retail/lessons/1-train-stock-detector)
* [אימון מחדש של גלאי האובייקטים שלכם](../../../../../5-retail/lessons/1-train-stock-detector)

## זיהוי אובייקטים

זיהוי אובייקטים כולל זיהוי אובייקטים בתמונות באמצעות בינה מלאכותית. בניגוד למסווג התמונות שאימנתם בפרויקט הקודם, זיהוי אובייקטים לא עוסק בניבוי התגית הטובה ביותר לתמונה כולה, אלא במציאת אחד או יותר אובייקטים בתמונה.

### זיהוי אובייקטים לעומת סיווג תמונות

סיווג תמונות עוסק בסיווג תמונה כולה - מה ההסתברויות שהתמונה כולה תואמת כל תגית. אתם מקבלים חזרה הסתברויות לכל תגית ששימשה לאימון המודל.

![סיווג תמונות של אגוזי קשיו ורסק עגבניות](../../../../../translated_images/image-classifier-cashews-tomato.bc2e16ab8f05cf9ac0f59f73e32efc4227f9a5b601b90b2c60f436694547a965.he.png)

בדוגמה למעלה, שתי תמונות סווגו באמצעות מודל שאומן לסווג קופסאות אגוזי קשיו או פחיות רסק עגבניות. התמונה הראשונה היא קופסה של אגוזי קשיו, ויש לה שני תוצאות ממסווג התמונות:

| תגית           | הסתברות |
| -------------- | -------: |
| `אגוזי קשיו`  | 98.4%    |
| `רסק עגבניות` | 1.6%     |

התמונה השנייה היא פחית של רסק עגבניות, והתוצאות הן:

| תגית           | הסתברות |
| -------------- | -------: |
| `אגוזי קשיו`  | 0.7%     |
| `רסק עגבניות` | 99.3%    |

ניתן להשתמש בערכים אלו עם אחוז סף כדי לנבא מה נמצא בתמונה. אבל מה אם תמונה מכילה מספר פחיות של רסק עגבניות, או גם אגוזי קשיו וגם רסק עגבניות? התוצאות כנראה לא יתנו לכם את מה שאתם רוצים. כאן נכנס זיהוי אובייקטים לתמונה.

זיהוי אובייקטים כולל אימון מודל לזהות אובייקטים. במקום לתת לו תמונות שמכילות את האובייקט ולומר לו שכל תמונה היא תגית אחת או אחרת, אתם מסמנים את החלק בתמונה שמכיל את האובייקט הספציפי ומצמידים לו תגית. ניתן לתייג אובייקט יחיד בתמונה או מספר אובייקטים. כך המודל לומד איך נראה האובייקט עצמו, לא רק איך נראות תמונות שמכילות את האובייקט.

כשמשתמשים בו לניבוי תמונות, במקום לקבל רשימת תגיות ואחוזים, מקבלים רשימת אובייקטים מזוהים, עם תיבת גבול וההסתברות שהתיבה מכילה את האובייקט המתויג.

> 🎓 *תיבות גבול* הן התיבות סביב אובייקט.

![זיהוי אובייקטים של אגוזי קשיו ורסק עגבניות](../../../../../translated_images/object-detector-cashews-tomato.1af7c26686b4db0e709754aeb196f4e73271f54e2085db3bcccb70d4a0d84d97.he.png)

התמונה למעלה מכילה גם קופסה של אגוזי קשיו וגם שלוש פחיות של רסק עגבניות. גלאי האובייקטים זיהה את אגוזי הקשיו, והחזיר את תיבת הגבול שמכילה את אגוזי הקשיו עם אחוז ההסתברות שהתיבה מכילה את האובייקט, במקרה הזה 97.6%. גלאי האובייקטים גם זיהה שלוש פחיות של רסק עגבניות, ומספק שלוש תיבות גבול נפרדות, אחת לכל פחית מזוהה, וכל אחת עם אחוז הסתברות שהתיבה מכילה פחית של רסק עגבניות.

✅ חשבו על כמה תרחישים שונים שבהם תרצו להשתמש במודלים מבוססי תמונה של בינה מלאכותית. אילו מהם ידרשו סיווג, ואילו ידרשו זיהוי אובייקטים?

### איך עובד זיהוי אובייקטים

זיהוי אובייקטים משתמש במודלים מורכבים של למידת מכונה. מודלים אלו עובדים על ידי חלוקת התמונה לתאים רבים, ואז בודקים אם מרכז תיבת הגבול הוא מרכז תמונה שתואמת אחת מהתמונות ששימשו לאימון המודל. ניתן לחשוב על זה כמו הרצת מסווג תמונות על חלקים שונים של התמונה כדי לחפש התאמות.

> 💁 זו פשטנות יתר משמעותית. ישנן טכניקות רבות לזיהוי אובייקטים, וניתן לקרוא עליהן עוד בעמוד [זיהוי אובייקטים בויקיפדיה](https://wikipedia.org/wiki/Object_detection).

ישנם מספר מודלים שונים שיכולים לבצע זיהוי אובייקטים. מודל מפורסם במיוחד הוא [YOLO (You only look once)](https://pjreddie.com/darknet/yolo/), שהוא מהיר מאוד ויכול לזהות 20 סוגים שונים של אובייקטים, כמו אנשים, כלבים, בקבוקים ומכוניות.

✅ קראו על מודל YOLO באתר [pjreddie.com/darknet/yolo/](https://pjreddie.com/darknet/yolo/)

ניתן לאמן מחדש מודלים של זיהוי אובייקטים באמצעות למידה מעבירה כדי לזהות אובייקטים מותאמים אישית.

## שימוש בזיהוי אובייקטים בקמעונאות

לזיהוי אובייקטים יש שימושים רבים בקמעונאות. חלקם כוללים:

* **בדיקת מלאי וספירה** - זיהוי מתי המלאי נמוך על המדפים. אם המלאי נמוך מדי, ניתן לשלוח התראות לצוות או לרובוטים כדי למלא את המדפים מחדש.
* **זיהוי מסכות** - בחנויות עם מדיניות מסכות במהלך אירועים בריאותיים ציבוריים, זיהוי אובייקטים יכול לזהות אנשים עם מסכות ואלו ללא.
* **חיוב אוטומטי** - זיהוי פריטים שנלקחו מהמדפים בחנויות אוטומטיות וחיוב לקוחות בהתאם.
* **זיהוי מפגעים** - זיהוי פריטים שבורים על הרצפה או נוזלים שנשפכו, ושליחת התראות לצוותי ניקיון.

✅ בצעו מחקר: מהם עוד שימושים אפשריים לזיהוי אובייקטים בקמעונאות?

## אימון גלאי אובייקטים

ניתן לאמן גלאי אובייקטים באמצעות Custom Vision, באופן דומה לאופן שבו אימנתם מסווג תמונות.

### משימה - יצירת גלאי אובייקטים

1. צרו קבוצת משאבים לפרויקט הזה בשם `stock-detector`.

1. צרו משאב אימון חינמי של Custom Vision ומשאב ניבוי חינמי של Custom Vision בקבוצת המשאבים `stock-detector`. קראו להם `stock-detector-training` ו-`stock-detector-prediction`.

    > 💁 ניתן ליצור רק משאב אימון וניבוי חינמי אחד, אז ודאו שניקיתם את הפרויקט מהשיעורים הקודמים.

    > ⚠️ ניתן להתייחס להוראות ליצירת משאבי אימון וניבוי מפרויקט 4, שיעור 1 אם יש צורך](../../../4-manufacturing/lessons/1-train-fruit-detector/README.md#task---create-a-cognitive-services-resource).

1. הפעילו את פורטל Custom Vision בכתובת [CustomVision.ai](https://customvision.ai), והתחברו עם חשבון Microsoft שבו השתמשתם עבור חשבון Azure שלכם.

1. עקבו אחרי [החלק של יצירת פרויקט חדש במדריך המהיר לבניית גלאי אובייקטים בתיעוד של Microsoft](https://docs.microsoft.com/azure/cognitive-services/custom-vision-service/get-started-build-detector?WT.mc_id=academic-17441-jabenn#create-a-new-project) כדי ליצור פרויקט חדש של Custom Vision. ממשק המשתמש עשוי להשתנות והתיעוד הזה תמיד יהיה המקור המעודכן ביותר.

    קראו לפרויקט שלכם `stock-detector`.

    כשאתם יוצרים את הפרויקט, ודאו שאתם משתמשים במשאב `stock-detector-training` שיצרתם קודם. השתמשו בסוג הפרויקט *Object Detection* ובתחום *Products on Shelves*.

    ![הגדרות הפרויקט של Custom Vision עם השם fruit-quality-detector, ללא תיאור, המשאב מוגדר ל-fruit-quality-detector-training, סוג הפרויקט מוגדר לסיווג, סוגי הסיווג מוגדרים ל-multi class והתחומים מוגדרים ל-food](../../../../../translated_images/custom-vision-create-object-detector-project.32d4fb9aa8e7e7375f8a799bfce517aca970f2cb65e42d4245c5e635c734ab29.he.png)

    ✅ תחום המוצרים על המדפים מותאם במיוחד לזיהוי מלאי על מדפי חנויות. קראו עוד על התחומים השונים בתיעוד [בחירת תחום בתיעוד של Microsoft](https://docs.microsoft.com/azure/cognitive-services/custom-vision-service/select-domain?WT.mc_id=academic-17441-jabenn#object-detection)

✅ הקדישו זמן לחקור את ממשק המשתמש של Custom Vision עבור גלאי האובייקטים שלכם.

### משימה - אימון גלאי האובייקטים שלכם

כדי לאמן את המודל שלכם תצטרכו סט תמונות שמכילות את האובייקטים שברצונכם לזהות.

1. אספו תמונות שמכילות את האובייקט שברצונכם לזהות. תצטרכו לפחות 15 תמונות שמכילות כל אובייקט שברצונכם לזהות מזוויות שונות ובתנאי תאורה שונים, אבל ככל שיש יותר תמונות, כך טוב יותר. גלאי האובייקטים הזה משתמש בתחום *Products on Shelves*, אז נסו לסדר את האובייקטים כאילו הם על מדף חנות. תצטרכו גם כמה תמונות כדי לבדוק את המודל. אם אתם מזהים יותר מאובייקט אחד, תרצו כמה תמונות בדיקה שמכילות את כל האובייקטים.

    > 💁 תמונות עם מספר אובייקטים שונים נחשבות למינימום של 15 תמונות עבור כל האובייקטים בתמונה.

    התמונות שלכם צריכות להיות בפורמט png או jpeg, קטנות מ-6MB. אם יצרתם אותן עם אייפון למשל, הן עשויות להיות תמונות HEIC ברזולוציה גבוהה, ולכן תצטרכו להמיר אותן ואולי גם להקטין אותן. ככל שיש יותר תמונות, כך טוב יותר, וכדאי שיהיה מספר דומה של פריטים בשלים ולא בשלים.

    המודל מיועד למוצרים על מדפים, אז נסו לצלם את התמונות של האובייקטים על מדפים.

    תוכלו למצוא כמה תמונות לדוגמה שניתן להשתמש בהן בתיקיית [images](../../../../../5-retail/lessons/1-train-stock-detector/images) של אגוזי קשיו ורסק עגבניות.

1. עקבו אחרי [החלק של העלאת תמונות ותיוגן במדריך המהיר לבניית גלאי אובייקטים בתיעוד של Microsoft](https://docs.microsoft.com/azure/cognitive-services/custom-vision-service/get-started-build-detector?WT.mc_id=academic-17441-jabenn#upload-and-tag-images) כדי להעלות את תמונות האימון שלכם. צרו תגיות רלוונטיות בהתאם לסוגי האובייקטים שברצונכם לזהות.

    ![דיאלוגי העלאה שמראים העלאת תמונות של בננות בשלות ולא בשלות](../../../../../translated_images/image-upload-object-detector.77c7892c3093cb59b79018edecd678749a75d71a099bc8a2d2f2f76320f88a5b.he.png)

    כשאתם מציירים תיבות גבול עבור אובייקטים, שמרו אותן צמודות לאובייקט. זה יכול לקחת זמן לסמן את כל התמונות, אבל הכלי יזהה מה הוא חושב כתיבות גבול, מה שיכול להאיץ את התהליך.

    ![תיוג רסק עגבניות](../../../../../translated_images/object-detector-tag-tomato-paste.f47c362fb0f0eb582f3bc68cf3855fb43a805106395358d41896a269c210b7b4.he.png)

    > 💁 אם יש לכם יותר מ-15 תמונות עבור כל אובייקט, תוכלו לאמן אחרי 15 ואז להשתמש בתכונת **Suggested tags**. זה ישתמש במודל המאומן כדי לזהות את האובייקטים בתמונה הלא מתויגת. תוכלו אז לאשר את האובייקטים המזוהים או לדחות ולצייר מחדש את תיבות הגבול. זה יכול לחסוך *הרבה* זמן.

1. עקבו אחרי [החלק של אימון הגלאי במדריך המהיר לבניית גלאי אובייקטים בתיעוד של Microsoft](https://docs.microsoft.com/azure/cognitive-services/custom-vision-service/get-started-build-detector?WT.mc_id=academic-17441-jabenn#train-the-detector) כדי לאמן את גלאי האובייקטים על התמונות המתויגות שלכם.

    תינתן לכם אפשרות לבחור סוג אימון. בחרו **Quick Training**.

גלאי האובייקטים יתחיל להתאמן. זה ייקח כמה דקות עד שהאימון יושלם.

## בדיקת גלאי האובייקטים שלכם

לאחר שגלאי האובייקטים שלכם מאומן, תוכלו לבדוק אותו על ידי מתן תמונות חדשות כדי לזהות אובייקטים בתוכן.

### משימה - בדיקת גלאי האובייקטים שלכם

1. השתמשו בכפתור **Quick Test** כדי להעלות תמונות בדיקה ולאמת שהאובייקטים מזוהים. השתמשו בתמונות הבדיקה שיצרתם קודם, לא באף אחת מהתמונות ששימשו לאימון.

    ![3 פחיות של רסק עגבניות מזוהות עם הסתברויות של 38%, 35.5% ו-34.6%](../../../../../translated_images/object-detector-detected-tomato-paste.52656fe87af4c37b4ee540526d63e73ed075da2e54a9a060aa528e0c562fb1b6.he.png)

1. נסו את כל תמונות הבדיקה שיש לכם וצפו בהסתברויות.

## אימון מחדש של גלאי האובייקטים שלכם

כשאתם בודקים את גלאי האובייקטים שלכם, ייתכן שהוא לא ייתן את התוצאות שציפיתם להן, כמו עם מסווגי תמונות בפרויקט הקודם. תוכלו לשפר את גלאי האובייקטים שלכם על ידי אימון מחדש עם תמונות שהוא טועה בהן.

בכל פעם שאתם מבצעים ניבוי באמצעות אפשרות הבדיקה המהירה, התמונה והתוצאות נשמרות. תוכלו להשתמש בתמונות אלו כדי לאמן מחדש את המודל שלכם.

1. השתמשו בלשונית **Predictions** כדי לאתר את התמונות שבהן השתמשתם לבדיקה.

1. אשרו כל זיהוי מדויק, מחקו זיהויים שגויים והוסיפו אובייקטים חסרים.

1. אימנו מחדש ובדקו שוב את המודל.

---

## 🚀 אתגר

מה יקרה אם תשתמשו בגלאי האובייקטים עם פריטים דומים למראה, כמו פחיות של רסק עגבניות ועגבניות קצוצות מאותו מותג?

אם יש לכם פריטים דומים למראה, נסו להוסיף תמונות שלהם לגלאי האובייקטים שלכם ולבדוק את התוצאות.

## שאלון אחרי השיעור
[שאלון לאחר ההרצאה](https://black-meadow-040d15503.1.azurestaticapps.net/quiz/38)

## סקירה ולימוד עצמי

* כאשר אימנת את גלאי האובייקטים שלך, ראית ערכים עבור *Precision*, *Recall* ו-*mAP* שמדרגים את המודל שנוצר. קרא על מה הערכים הללו באמצעות [החלק "הערכת הגלאי" במדריך המהיר לבניית גלאי אובייקטים בדוקומנטציה של Microsoft](https://docs.microsoft.com/azure/cognitive-services/custom-vision-service/get-started-build-detector?WT.mc_id=academic-17441-jabenn#evaluate-the-detector)
* קרא עוד על זיהוי אובייקטים בעמוד [זיהוי אובייקטים בוויקיפדיה](https://wikipedia.org/wiki/Object_detection)

## משימה

[השוואת תחומים](assignment.md)

---

**כתב ויתור**:  
מסמך זה תורגם באמצעות שירות תרגום מבוסס בינה מלאכותית [Co-op Translator](https://github.com/Azure/co-op-translator). למרות שאנו שואפים לדיוק, יש לקחת בחשבון שתרגומים אוטומטיים עשויים להכיל שגיאות או אי-דיוקים. המסמך המקורי בשפתו המקורית צריך להיחשב כמקור הסמכותי. למידע קריטי, מומלץ להשתמש בתרגום מקצועי על ידי בני אדם. איננו נושאים באחריות לאי-הבנות או לפרשנויות שגויות הנובעות משימוש בתרגום זה.