<!--
CO_OP_TRANSLATOR_METADATA:
{
  "original_hash": "4cf1421420a6fab9ab4f2c391bd523b7",
  "translation_date": "2025-08-25T16:23:33+00:00",
  "source_file": "5-retail/lessons/2-check-stock-device/wio-terminal-object-detector.md",
  "language_code": "hi"
}
-->
# рдЕрдкрдиреЗ IoT рдбрд┐рд╡рд╛рдЗрд╕ рд╕реЗ рдСрдмреНрдЬреЗрдХреНрдЯ рдбрд┐рдЯреЗрдХреНрдЯрд░ рдХреЛ рдХреЙрд▓ рдХрд░реЗрдВ - Wio Terminal

рдПрдХ рдмрд╛рд░ рдЖрдкрдХрд╛ рдСрдмреНрдЬреЗрдХреНрдЯ рдбрд┐рдЯреЗрдХреНрдЯрд░ рдкреНрд░рдХрд╛рд╢рд┐рдд рд╣реЛ рдЬрд╛рдП, рддреЛ рдЗрд╕реЗ рдЖрдкрдХреЗ IoT рдбрд┐рд╡рд╛рдЗрд╕ рд╕реЗ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред

## рдЗрдореЗрдЬ рдХреНрд▓рд╛рд╕рд┐рдлрд╛рдпрд░ рдкреНрд░реЛрдЬреЗрдХреНрдЯ рдХреЙрдкреА рдХрд░реЗрдВ

рдЖрдкрдХрд╛ рд╕реНрдЯреЙрдХ рдбрд┐рдЯреЗрдХреНрдЯрд░ рдЬреНрдпрд╛рджрд╛рддрд░ рдЙрд╕реА рддрд░рд╣ рдХрд╛ рд╣реИ рдЬреИрд╕рд╛ рдЖрдкрдиреЗ рдкрд┐рдЫрд▓реЗ рдкрд╛рда рдореЗрдВ рдЗрдореЗрдЬ рдХреНрд▓рд╛рд╕рд┐рдлрд╛рдпрд░ рдмрдирд╛рдпрд╛ рдерд╛ред

### рдХрд╛рд░реНрдп - рдЗрдореЗрдЬ рдХреНрд▓рд╛рд╕рд┐рдлрд╛рдпрд░ рдкреНрд░реЛрдЬреЗрдХреНрдЯ рдХреЙрдкреА рдХрд░реЗрдВ

1. рдЕрдкрдиреЗ ArduCam рдХреЛ Wio Terminal рд╕реЗ рдХрдиреЗрдХреНрдЯ рдХрд░реЗрдВ, [рдореИрдиреНрдпреБрдлреИрдХреНрдЪрд░рд┐рдВрдЧ рдкреНрд░реЛрдЬреЗрдХреНрдЯ рдХреЗ рдкрд╛рда 2](../../../4-manufacturing/lessons/2-check-fruit-from-device/wio-terminal-camera.md#task---connect-the-camera) рдореЗрдВ рджрд┐рдП рдЧрдП рдЪрд░рдгреЛрдВ рдХрд╛ рдкрд╛рд▓рди рдХрд░рддреЗ рд╣реБрдПред

    рдЖрдк рдХреИрдорд░реЗ рдХреЛ рдПрдХ рд╕реНрдерд┐рд░ рд╕реНрдерд┐рддрд┐ рдореЗрдВ рднреА рд╕реЗрдЯ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ, рдЬреИрд╕реЗ рдХрд┐ рдХреЗрдмрд▓ рдХреЛ рдХрд┐рд╕реА рдмреЙрдХреНрд╕ рдпрд╛ рдХреИрди рдХреЗ рдКрдкрд░ рд▓рдЯрдХрд╛рдХрд░, рдпрд╛ рдбрдмрд▓-рд╕рд╛рдЗрдбреЗрдб рдЯреЗрдк рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдХреИрдорд░реЗ рдХреЛ рдмреЙрдХреНрд╕ рдкрд░ рдлрд┐рдХреНрд╕ рдХрд░рдХреЗред

1. PlatformIO рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдПрдХ рдирдпрд╛ Wio Terminal рдкреНрд░реЛрдЬреЗрдХреНрдЯ рдмрдирд╛рдПрдВред рдЗрд╕ рдкреНрд░реЛрдЬреЗрдХреНрдЯ рдХрд╛ рдирд╛рдо `stock-counter` рд░рдЦреЗрдВред

1. [рдореИрдиреНрдпреБрдлреИрдХреНрдЪрд░рд┐рдВрдЧ рдкреНрд░реЛрдЬреЗрдХреНрдЯ рдХреЗ рдкрд╛рда 2](../../../4-manufacturing/lessons/2-check-fruit-from-device/README.md#task---capture-an-image-using-an-iot-device) рд╕реЗ рдЪрд░рдгреЛрдВ рдХреЛ рджреЛрд╣рд░рд╛рдПрдВ рддрд╛рдХрд┐ рдХреИрдорд░реЗ рд╕реЗ рдЗрдореЗрдЬ рдХреИрдкреНрдЪрд░ рдХреА рдЬрд╛ рд╕рдХреЗред

1. [рдореИрдиреНрдпреБрдлреИрдХреНрдЪрд░рд┐рдВрдЧ рдкреНрд░реЛрдЬреЗрдХреНрдЯ рдХреЗ рдкрд╛рда 2](../../../4-manufacturing/lessons/2-check-fruit-from-device/README.md#task---classify-images-from-your-iot-device) рд╕реЗ рдЪрд░рдгреЛрдВ рдХреЛ рджреЛрд╣рд░рд╛рдПрдВ рддрд╛рдХрд┐ рдЗрдореЗрдЬ рдХреНрд▓рд╛рд╕рд┐рдлрд╛рдпрд░ рдХреЛ рдХреЙрд▓ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХреЗред рдЗрд╕ рдХреЛрдб рдХрд╛ рдЕрдзрд┐рдХрд╛рдВрд╢ рд╣рд┐рд╕реНрд╕рд╛ рдСрдмреНрдЬреЗрдХреНрдЯреНрд╕ рдХреЛ рдбрд┐рдЯреЗрдХреНрдЯ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдкреБрдирдГ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛ред

## рдХреЛрдб рдХреЛ рдХреНрд▓рд╛рд╕рд┐рдлрд╛рдпрд░ рд╕реЗ рдЗрдореЗрдЬ рдбрд┐рдЯреЗрдХреНрдЯрд░ рдореЗрдВ рдмрджрд▓реЗрдВ

рдЖрдкрдиреЗ рдЗрдореЗрдЬ рдХреНрд▓рд╛рд╕рд┐рдлрд╛рдИ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЬреЛ рдХреЛрдб рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдерд╛, рд╡рд╣ рдСрдмреНрдЬреЗрдХреНрдЯреНрд╕ рдХреЛ рдбрд┐рдЯреЗрдХреНрдЯ рдХрд░рдиреЗ рдХреЗ рдХреЛрдб рд╕реЗ рдмрд╣реБрдд рдорд┐рд▓рддрд╛-рдЬреБрд▓рддрд╛ рд╣реИред рдореБрдЦреНрдп рдЕрдВрддрд░ рд╡рд╣ URL рд╣реИ рдЬрд┐рд╕реЗ Custom Vision рд╕реЗ рдкреНрд░рд╛рдкреНрдд рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ, рдФрд░ рдХреЙрд▓ рдХреЗ рдкрд░рд┐рдгрд╛рдо рд╣реИрдВред

### рдХрд╛рд░реНрдп - рдХреЛрдб рдХреЛ рдХреНрд▓рд╛рд╕рд┐рдлрд╛рдпрд░ рд╕реЗ рдЗрдореЗрдЬ рдбрд┐рдЯреЗрдХреНрдЯрд░ рдореЗрдВ рдмрджрд▓реЗрдВ

1. `main.cpp` рдлрд╛рдЗрд▓ рдХреЗ рд╢реАрд░реНрд╖ рдкрд░ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдЗрдирдХреНрд▓реВрдб рдбрд╛рдпрд░реЗрдХреНрдЯрд┐рд╡ рдЬреЛрдбрд╝реЗрдВ:

    ```cpp
    #include <vector>
    ```

1. `classifyImage` рдлрдВрдХреНрд╢рди рдХрд╛ рдирд╛рдо рдмрджрд▓рдХрд░ `detectStock` рд░рдЦреЗрдВ, рдлрдВрдХреНрд╢рди рдХреЗ рдирд╛рдо рдФрд░ `buttonPressed` рдлрдВрдХреНрд╢рди рдореЗрдВ рдХреЙрд▓ рджреЛрдиреЛрдВ рдореЗрдВред

1. `detectStock` рдлрдВрдХреНрд╢рди рдХреЗ рдКрдкрд░ рдПрдХ рдереНрд░реЗрд╢рд╣реЛрд▓реНрдб рдШреЛрд╖рд┐рдд рдХрд░реЗрдВ рддрд╛рдХрд┐ рдХрдо рд╕рдВрднрд╛рд╡рдирд╛ рд╡рд╛рд▓реЗ рдХрд┐рд╕реА рднреА рдбрд┐рдЯреЗрдХреНрд╢рди рдХреЛ рдлрд╝рд┐рд▓реНрдЯрд░ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХреЗ:

    ```cpp
    const float threshold = 0.3f;
    ```

    рдЗрдореЗрдЬ рдХреНрд▓рд╛рд╕рд┐рдлрд╛рдпрд░ рдХреЗрд╡рд▓ рдПрдХ рдЯреИрдЧ рдХреЗ рд▓рд┐рдП рдПрдХ рдкрд░рд┐рдгрд╛рдо рд▓реМрдЯрд╛рддрд╛ рд╣реИ, рд▓реЗрдХрд┐рди рдСрдмреНрдЬреЗрдХреНрдЯ рдбрд┐рдЯреЗрдХреНрдЯрд░ рдХрдИ рдкрд░рд┐рдгрд╛рдо рд▓реМрдЯрд╛рддрд╛ рд╣реИ, рдЗрд╕рд▓рд┐рдП рдХрдо рд╕рдВрднрд╛рд╡рдирд╛ рд╡рд╛рд▓реЗ рдХрд┐рд╕реА рднреА рдкрд░рд┐рдгрд╛рдо рдХреЛ рдлрд╝рд┐рд▓реНрдЯрд░ рдХрд░рдирд╛ рдЖрд╡рд╢реНрдпрдХ рд╣реИред

1. `detectStock` рдлрдВрдХреНрд╢рди рдХреЗ рдКрдкрд░ рдПрдХ рдлрдВрдХреНрд╢рди рдШреЛрд╖рд┐рдд рдХрд░реЗрдВ рдЬреЛ рдкреНрд░реЗрдбрд┐рдХреНрд╢рдиреНрд╕ рдХреЛ рдкреНрд░реЛрд╕реЗрд╕ рдХрд░реЗ:

    ```cpp
    void processPredictions(std::vector<JsonVariant> &predictions)
    {
        for(JsonVariant prediction : predictions)
        {
            String tag = prediction["tagName"].as<String>();
            float probability = prediction["probability"].as<float>();
    
            char buff[32];
            sprintf(buff, "%s:\t%.2f%%", tag.c_str(), probability * 100.0);
            Serial.println(buff);
        }
    }
    ```

    рдпрд╣ рдкреНрд░реЗрдбрд┐рдХреНрд╢рдиреНрд╕ рдХреА рд╕реВрдЪреА рд▓реЗрддрд╛ рд╣реИ рдФрд░ рдЙрдиреНрд╣реЗрдВ рд╕реАрд░рд┐рдпрд▓ рдореЙрдирд┐рдЯрд░ рдкрд░ рдкреНрд░рд┐рдВрдЯ рдХрд░рддрд╛ рд╣реИред

1. `detectStock` рдлрдВрдХреНрд╢рди рдореЗрдВ, рдкреНрд░реЗрдбрд┐рдХреНрд╢рдиреНрд╕ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рд▓реВрдк рдХрд░рдиреЗ рд╡рд╛рд▓реЗ `for` рд▓реВрдк рдХреА рд╕рд╛рдордЧреНрд░реА рдХреЛ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рд╕реЗ рдмрджрд▓реЗрдВ:

    ```cpp
    std::vector<JsonVariant> passed_predictions;

    for(JsonVariant prediction : predictions) 
    {
        float probability = prediction["probability"].as<float>();
        if (probability > threshold)
        {
            passed_predictions.push_back(prediction);
        }
    }

    processPredictions(passed_predictions);
    ```

    рдпрд╣ рдкреНрд░реЗрдбрд┐рдХреНрд╢рдиреНрд╕ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рд▓реВрдк рдХрд░рддрд╛ рд╣реИ, рд╕рдВрднрд╛рд╡рдирд╛ рдХреЛ рдереНрд░реЗрд╢рд╣реЛрд▓реНрдб рд╕реЗ рддреБрд▓рдирд╛ рдХрд░рддрд╛ рд╣реИред рд╕рднреА рдкреНрд░реЗрдбрд┐рдХреНрд╢рдиреНрд╕ рдЬрд┐рдирдХреА рд╕рдВрднрд╛рд╡рдирд╛ рдереНрд░реЗрд╢рд╣реЛрд▓реНрдб рд╕реЗ рдЕрдзрд┐рдХ рд╣реЛрддреА рд╣реИ, рдЙрдиреНрд╣реЗрдВ рдПрдХ `list` рдореЗрдВ рдЬреЛрдбрд╝рд╛ рдЬрд╛рддрд╛ рд╣реИ рдФрд░ `processPredictions` рдлрдВрдХреНрд╢рди рдХреЛ рдкрд╛рд╕ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред

1. рдЕрдкрдирд╛ рдХреЛрдб рдЕрдкрд▓реЛрдб рдХрд░реЗрдВ рдФрд░ рдЪрд▓рд╛рдПрдВред рдХреИрдорд░реЗ рдХреЛ рд╢реЗрд▓реНрдл рдкрд░ рд░рдЦреЗ рдСрдмреНрдЬреЗрдХреНрдЯреНрд╕ рдХреА рдУрд░ рдкреЙрдЗрдВрдЯ рдХрд░реЗрдВ рдФрд░ C рдмрдЯрди рджрдмрд╛рдПрдВред рдЖрдк рд╕реАрд░рд┐рдпрд▓ рдореЙрдирд┐рдЯрд░ рдореЗрдВ рдЖрдЙрдЯрдкреБрдЯ рджреЗрдЦреЗрдВрдЧреЗ:

    ```output
    Connecting to WiFi..
    Connected!
    Image captured
    Image read to buffer with length 17416
    tomato paste:   35.84%
    tomato paste:   35.87%
    tomato paste:   34.11%
    tomato paste:   35.16%
    ```

    > ЁЯТБ рдЖрдкрдХреЛ рдЕрдкрдиреЗ рдЗрдореЗрдЬ рдХреЗ рд▓рд┐рдП рдЙрдкрдпреБрдХреНрдд рдереНрд░реЗрд╢рд╣реЛрд▓реНрдб рдХреЛ рд╕рдорд╛рдпреЛрдЬрд┐рдд рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛ рд╕рдХрддреА рд╣реИред

    рдЖрдк рд▓реА рдЧрдИ рдЗрдореЗрдЬ рдФрд░ рдЗрди рдорд╛рдиреЛрдВ рдХреЛ Custom Vision рдХреЗ **Predictions** рдЯреИрдм рдореЗрдВ рджреЗрдЦ рдкрд╛рдПрдВрдЧреЗред

    ![рд╢реЗрд▓реНрдл рдкрд░ рд░рдЦреЗ рдЯрдорд╛рдЯрд░ рдкреЗрд╕реНрдЯ рдХреЗ 4 рдХреИрди рдФрд░ рдЙрдирдХреЗ 4 рдбрд┐рдЯреЗрдХреНрд╢рди рдХреЗ рд▓рд┐рдП 35.8%, 33.5%, 25.7% рдФрд░ 16.6% рдХреА рд╕рдВрднрд╛рд╡рдирд╛](../../../../../translated_images/custom-vision-stock-prediction.942266ab1bcca3410ecdf23643b9f5f570cfab2345235074e24c51f285777613.hi.png)

> ЁЯТБ рдЖрдк рдЗрд╕ рдХреЛрдб рдХреЛ [code-detect/wio-terminal](../../../../../5-retail/lessons/2-check-stock-device/code-detect/wio-terminal) рдлреЛрд▓реНрдбрд░ рдореЗрдВ рдкрд╛ рд╕рдХрддреЗ рд╣реИрдВред

ЁЯША рдЖрдкрдХрд╛ рд╕реНрдЯреЙрдХ рдХрд╛рдЙрдВрдЯрд░ рдкреНрд░реЛрдЧреНрд░рд╛рдо рд╕рдлрд▓ рд░рд╣рд╛!

**рдЕрд╕реНрд╡реАрдХрд░рдг**:  
рдпрд╣ рджрд╕реНрддрд╛рд╡реЗрдЬрд╝ AI рдЕрдиреБрд╡рд╛рдж рд╕реЗрд╡рд╛ [Co-op Translator](https://github.com/Azure/co-op-translator) рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдЕрдиреБрд╡рд╛рджрд┐рдд рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИред рдЬрдмрдХрд┐ рд╣рдо рд╕рдЯреАрдХрддрд╛ рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдХрд░рдиреЗ рдХрд╛ рдкреНрд░рдпрд╛рд╕ рдХрд░рддреЗ рд╣реИрдВ, рдХреГрдкрдпрд╛ рдзреНрдпрд╛рди рджреЗрдВ рдХрд┐ рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рдЕрдиреБрд╡рд╛рдж рдореЗрдВ рддреНрд░реБрдЯрд┐рдпрд╛рдВ рдпрд╛ рдЕрд╢реБрджреНрдзрд┐рдпрд╛рдВ рд╣реЛ рд╕рдХрддреА рд╣реИрдВред рдореВрд▓ рднрд╛рд╖рд╛ рдореЗрдВ рдЙрдкрд▓рдмреНрдз рдореВрд▓ рджрд╕реНрддрд╛рд╡реЗрдЬрд╝ рдХреЛ рдЖрдзрд┐рдХрд╛рд░рд┐рдХ рд╕реНрд░реЛрдд рдорд╛рдирд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдПред рдорд╣рддреНрд╡рдкреВрд░реНрдг рдЬрд╛рдирдХрд╛рд░реА рдХреЗ рд▓рд┐рдП, рдкреЗрд╢реЗрд╡рд░ рдорд╛рдирд╡ рдЕрдиреБрд╡рд╛рдж рдХреА рд╕рд┐рдлрд╛рд░рд┐рд╢ рдХреА рдЬрд╛рддреА рд╣реИред рдЗрд╕ рдЕрдиреБрд╡рд╛рдж рдХреЗ рдЙрдкрдпреЛрдЧ рд╕реЗ рдЙрддреНрдкрдиреНрди рдХрд┐рд╕реА рднреА рдЧрд▓рддрдлрд╣рдореА рдпрд╛ рдЧрд▓рдд рд╡реНрдпрд╛рдЦреНрдпрд╛ рдХреЗ рд▓рд┐рдП рд╣рдо рдЙрддреНрддрд░рджрд╛рдпреА рдирд╣реАрдВ рд╣реИрдВред