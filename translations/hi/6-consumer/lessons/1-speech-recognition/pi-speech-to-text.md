<!--
CO_OP_TRANSLATOR_METADATA:
{
  "original_hash": "af249a24d4fe4f4de4806adbc3bc9d86",
  "translation_date": "2025-08-25T17:57:59+00:00",
  "source_file": "6-consumer/lessons/1-speech-recognition/pi-speech-to-text.md",
  "language_code": "hi"
}
-->
# рд╕реНрдкреАрдЪ рдЯреВ рдЯреЗрдХреНрд╕реНрдЯ - рд░рд╛рд╕реНрдкрдмреЗрд░реА рдкрд╛рдИ

рдЗрд╕ рдкрд╛рда рдХреЗ рдЗрд╕ рднрд╛рдЧ рдореЗрдВ, рдЖрдк рдРрд╕рд╛ рдХреЛрдб рд▓рд┐рдЦреЗрдВрдЧреЗ рдЬреЛ рдХреИрдкреНрдЪрд░ рдХрд┐рдП рдЧрдП рдСрдбрд┐рдпреЛ рдореЗрдВ рд╕реНрдкреАрдЪ рдХреЛ рдЯреЗрдХреНрд╕реНрдЯ рдореЗрдВ рдмрджрд▓ рджреЗрдЧрд╛, рдЗрд╕рдХреЗ рд▓рд┐рдП рд╕реНрдкреАрдЪ рд╕рд░реНрд╡рд┐рд╕ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛ред

## рдСрдбрд┐рдпреЛ рдХреЛ рд╕реНрдкреАрдЪ рд╕рд░реНрд╡рд┐рд╕ рдкрд░ рднреЗрдЬреЗрдВ

рдСрдбрд┐рдпреЛ рдХреЛ REST API рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рд╕реНрдкреАрдЪ рд╕рд░реНрд╡рд┐рд╕ рдкрд░ рднреЗрдЬрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред рд╕реНрдкреАрдЪ рд╕рд░реНрд╡рд┐рд╕ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдкрд╣рд▓реЗ рдЖрдкрдХреЛ рдПрдХ рдПрдХреНрд╕реЗрд╕ рдЯреЛрдХрди рдкреНрд░рд╛рдкреНрдд рдХрд░рдирд╛ рд╣реЛрдЧрд╛, рдлрд┐рд░ рдЙрд╕ рдЯреЛрдХрди рдХрд╛ рдЙрдкрдпреЛрдЧ REST API рддрдХ рдкрд╣реБрдВрдЪрдиреЗ рдХреЗ рд▓рд┐рдП рдХрд░рдирд╛ рд╣реЛрдЧрд╛ред рдпреЗ рдПрдХреНрд╕реЗрд╕ рдЯреЛрдХрди 10 рдорд┐рдирдЯ рдХреЗ рдмрд╛рдж рд╕рдорд╛рдкреНрдд рд╣реЛ рдЬрд╛рддреЗ рд╣реИрдВ, рдЗрд╕рд▓рд┐рдП рдЖрдкрдХреЗ рдХреЛрдб рдХреЛ рдирд┐рдпрдорд┐рдд рд░реВрдк рд╕реЗ рдЗрдиреНрд╣реЗрдВ рдкреНрд░рд╛рдкреНрдд рдХрд░рдирд╛ рдЪрд╛рд╣рд┐рдП рддрд╛рдХрд┐ рд╡реЗ рд╣рдореЗрд╢рд╛ рдЕрдкрдбреЗрдЯ рд░рд╣реЗрдВред

### рдХрд╛рд░реНрдп - рдПрдХреНрд╕реЗрд╕ рдЯреЛрдХрди рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВ

1. рдЕрдкрдиреЗ рдкрд╛рдИ рдкрд░ `smart-timer` рдкреНрд░реЛрдЬреЗрдХреНрдЯ рдЦреЛрд▓реЗрдВред

1. `play_audio` рдлрдВрдХреНрд╢рди рдХреЛ рд╣рдЯрд╛ рджреЗрдВред рдЕрдм рдЗрд╕рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рдирд╣реАрдВ рд╣реИ рдХреНрдпреЛрдВрдХрд┐ рдЖрдк рдирд╣реАрдВ рдЪрд╛рд╣рддреЗ рдХрд┐ рд╕реНрдорд╛рд░реНрдЯ рдЯрд╛рдЗрдорд░ рдЖрдкрдХреЗ рдХрд╣реЗ рдЧрдП рд╢рдмреНрджреЛрдВ рдХреЛ рджреЛрд╣рд░рд╛рдПред

1. `app.py` рдлрд╛рдЗрд▓ рдХреЗ рд╢реАрд░реНрд╖ рдкрд░ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдЗрдВрдкреЛрд░реНрдЯ рдЬреЛрдбрд╝реЗрдВ:

    ```python
    import requests
    ```

1. `while True` рд▓реВрдк рдХреЗ рдКрдкрд░ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдХреЛрдб рдЬреЛрдбрд╝реЗрдВ рддрд╛рдХрд┐ рд╕реНрдкреАрдЪ рд╕рд░реНрд╡рд┐рд╕ рдХреЗ рд▓рд┐рдП рдХреБрдЫ рд╕реЗрдЯрд┐рдВрдЧреНрд╕ рдбрд┐рдХреНрд▓реЗрдпрд░ рдХреА рдЬрд╛ рд╕рдХреЗрдВ:

    ```python
    speech_api_key = '<key>'
    location = '<location>'
    language = '<language>'
    ```

    `<key>` рдХреЛ рдЕрдкрдиреА рд╕реНрдкреАрдЪ рд╕рд░реНрд╡рд┐рд╕ рд░рд┐рд╕реЛрд░реНрд╕ рдХреЗ API рдХреА рдХреЗ рд╕рд╛рде рдмрджрд▓реЗрдВред `<location>` рдХреЛ рдЙрд╕ рд╕реНрдерд╛рди рдХреЗ рд╕рд╛рде рдмрджрд▓реЗрдВ рдЬрд┐рд╕реЗ рдЖрдкрдиреЗ рд╕реНрдкреАрдЪ рд╕рд░реНрд╡рд┐рд╕ рд░рд┐рд╕реЛрд░реНрд╕ рдмрдирд╛рддреЗ рд╕рдордп рдЪреБрдирд╛ рдерд╛ред

    `<language>` рдХреЛ рдЙрд╕ рднрд╛рд╖рд╛ рдХреЗ рд▓реЛрдХрд▓ рдирд╛рдо рдХреЗ рд╕рд╛рде рдмрджрд▓реЗрдВ рдЬрд┐рд╕рдореЗрдВ рдЖрдк рдмреЛрд▓реЗрдВрдЧреЗ, рдЬреИрд╕реЗ рдЕрдВрдЧреНрд░реЗрдЬреА рдХреЗ рд▓рд┐рдП `en-GB`, рдпрд╛ рдХреИрдВрдЯреЛрдиреАрдЬрд╝ рдХреЗ рд▓рд┐рдП `zn-HK`ред рд╕рдорд░реНрдерд┐рдд рднрд╛рд╖рд╛рдУрдВ рдФрд░ рдЙрдирдХреЗ рд▓реЛрдХрд▓ рдирд╛рдореЛрдВ рдХреА рд╕реВрдЪреА [Microsoft Docs рдкрд░ рднрд╛рд╖рд╛ рдФрд░ рдЖрд╡рд╛рдЬрд╝ рд╕рдорд░реНрдерди рджрд╕реНрддрд╛рд╡реЗрдЬрд╝](https://docs.microsoft.com/azure/cognitive-services/speech-service/language-support?WT.mc_id=academic-17441-jabenn#speech-to-text) рдореЗрдВ рдкрд╛рдИ рдЬрд╛ рд╕рдХрддреА рд╣реИред

1. рдЗрд╕рдХреЗ рдиреАрдЪреЗ, рдПрдХреНрд╕реЗрд╕ рдЯреЛрдХрди рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдлрдВрдХреНрд╢рди рдЬреЛрдбрд╝реЗрдВ:

    ```python
    def get_access_token():
        headers = {
            'Ocp-Apim-Subscription-Key': speech_api_key
        }
    
        token_endpoint = f'https://{location}.api.cognitive.microsoft.com/sts/v1.0/issuetoken'
        response = requests.post(token_endpoint, headers=headers)
        return str(response.text)
    ```

    рдпрд╣ рдПрдХ рдЯреЛрдХрди рдЬрд╛рд░реА рдХрд░рдиреЗ рд╡рд╛рд▓реЗ рдПрдВрдбрдкреЙрдЗрдВрдЯ рдХреЛ рдХреЙрд▓ рдХрд░рддрд╛ рд╣реИ, API рдХреА рдХреЛ рдПрдХ рд╣реЗрдбрд░ рдХреЗ рд░реВрдк рдореЗрдВ рдкрд╛рд╕ рдХрд░рддрд╛ рд╣реИред рдпрд╣ рдХреЙрд▓ рдПрдХ рдПрдХреНрд╕реЗрд╕ рдЯреЛрдХрди рд▓реМрдЯрд╛рддрд╛ рд╣реИ рдЬрд┐рд╕рдХрд╛ рдЙрдкрдпреЛрдЧ рд╕реНрдкреАрдЪ рд╕рд░реНрд╡рд┐рд╕ рдХреЛ рдХреЙрд▓ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред

1. рдЗрд╕рдХреЗ рдиреАрдЪреЗ, рдПрдХ рдлрдВрдХреНрд╢рди рдбрд┐рдХреНрд▓реЗрдпрд░ рдХрд░реЗрдВ рдЬреЛ рдХреИрдкреНрдЪрд░ рдХрд┐рдП рдЧрдП рдСрдбрд┐рдпреЛ рдореЗрдВ рд╕реНрдкреАрдЪ рдХреЛ REST API рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдЯреЗрдХреНрд╕реНрдЯ рдореЗрдВ рдмрджрд▓ рджреЗрдЧрд╛:

    ```python
    def convert_speech_to_text(buffer):
    ```

1. рдЗрд╕ рдлрдВрдХреНрд╢рди рдХреЗ рдЕрдВрджрд░, REST API URL рдФрд░ рд╣реЗрдбрд░реНрд╕ рд╕реЗрдЯ рдХрд░реЗрдВ:

    ```python
    url = f'https://{location}.stt.speech.microsoft.com/speech/recognition/conversation/cognitiveservices/v1'

    headers = {
        'Authorization': 'Bearer ' + get_access_token(),
        'Content-Type': f'audio/wav; codecs=audio/pcm; samplerate={rate}',
        'Accept': 'application/json;text/xml'
    }

    params = {
        'language': language
    }
    ```

    рдпрд╣ рд╕реНрдкреАрдЪ рд╕рд░реНрд╡рд┐рд╕ рд░рд┐рд╕реЛрд░реНрд╕ рдХреЗ рд╕реНрдерд╛рди рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдПрдХ URL рдмрдирд╛рддрд╛ рд╣реИред рдлрд┐рд░ рдпрд╣ `get_access_token` рдлрдВрдХреНрд╢рди рд╕реЗ рдкреНрд░рд╛рдкреНрдд рдПрдХреНрд╕реЗрд╕ рдЯреЛрдХрди рдХреЗ рд╕рд╛рде рд╣реЗрдбрд░реНрд╕ рдХреЛ рдкреЙрдкреНрдпреБрд▓реЗрдЯ рдХрд░рддрд╛ рд╣реИ, рд╕рд╛рде рд╣реА рдСрдбрд┐рдпреЛ рдХреИрдкреНрдЪрд░ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧ рдХрд┐рдП рдЧрдП рд╕реИрдВрдкрд▓ рд░реЗрдЯ рдХреЛ рднреАред рдЕрдВрдд рдореЗрдВ, рдпрд╣ URL рдХреЗ рд╕рд╛рде рдкрд╛рд╕ рдХрд┐рдП рдЬрд╛рдиреЗ рд╡рд╛рд▓реЗ рдХреБрдЫ рдкреИрд░рд╛рдореАрдЯрд░ рдХреЛ рдкрд░рд┐рднрд╛рд╖рд┐рдд рдХрд░рддрд╛ рд╣реИ, рдЬрд┐рд╕рдореЗрдВ рдСрдбрд┐рдпреЛ рдХреА рднрд╛рд╖рд╛ рд╢рд╛рдорд┐рд▓ рд╣реИред

1. рдЗрд╕рдХреЗ рдиреАрдЪреЗ, REST API рдХреЛ рдХреЙрд▓ рдХрд░рдиреЗ рдФрд░ рдЯреЗрдХреНрд╕реНрдЯ рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдХреЛрдб рдЬреЛрдбрд╝реЗрдВ:

    ```python
    response = requests.post(url, headers=headers, params=params, data=buffer)
    response_json = response.json()

    if response_json['RecognitionStatus'] == 'Success':
        return response_json['DisplayText']
    else:
        return ''
    ```

    рдпрд╣ URL рдХреЛ рдХреЙрд▓ рдХрд░рддрд╛ рд╣реИ рдФрд░ рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛ рдореЗрдВ рдЖрдиреЗ рд╡рд╛рд▓реЗ JSON рдорд╛рди рдХреЛ рдбрд┐рдХреЛрдб рдХрд░рддрд╛ рд╣реИред рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛ рдореЗрдВ `RecognitionStatus` рдорд╛рди рдпрд╣ рдЗрдВрдЧрд┐рдд рдХрд░рддрд╛ рд╣реИ рдХрд┐ рдХреНрдпрд╛ рдХреЙрд▓ рдиреЗ рд╕рдлрд▓рддрд╛рдкреВрд░реНрд╡рдХ рд╕реНрдкреАрдЪ рдХреЛ рдЯреЗрдХреНрд╕реНрдЯ рдореЗрдВ рдмрджрд▓рд╛ рд╣реИ, рдФрд░ рдпрджрд┐ рдпрд╣ `Success` рд╣реИ, рддреЛ рдЯреЗрдХреНрд╕реНрдЯ рдлрдВрдХреНрд╢рди рд╕реЗ рд▓реМрдЯрд╛рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рдЕрдиреНрдпрдерд╛ рдПрдХ рдЦрд╛рд▓реА рд╕реНрдЯреНрд░рд┐рдВрдЧ рд▓реМрдЯрд╛рдИ рдЬрд╛рддреА рд╣реИред

1. `while True:` рд▓реВрдк рдХреЗ рдКрдкрд░, рд╕реНрдкреАрдЪ рдЯреВ рдЯреЗрдХреНрд╕реНрдЯ рд╕рд░реНрд╡рд┐рд╕ рд╕реЗ рд▓реМрдЯрд╛рдП рдЧрдП рдЯреЗрдХреНрд╕реНрдЯ рдХреЛ рдкреНрд░реЛрд╕реЗрд╕ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ рдлрдВрдХреНрд╢рди рдбрд┐рдлрд╛рдЗрди рдХрд░реЗрдВред рдпрд╣ рдлрдВрдХреНрд╢рди рдлрд┐рд▓рд╣рд╛рд▓ рдХреЗрд╡рд▓ рдЯреЗрдХреНрд╕реНрдЯ рдХреЛ рдХрдВрд╕реЛрд▓ рдореЗрдВ рдкреНрд░рд┐рдВрдЯ рдХрд░реЗрдЧрд╛ред

    ```python
    def process_text(text):
        print(text)
    ```

1. рдЕрдВрдд рдореЗрдВ, `while True` рд▓реВрдк рдореЗрдВ `play_audio` рдХреЛ рдХреЙрд▓ рдХрд░рдиреЗ рдХреА рдЬрдЧрд╣ `convert_speech_to_text` рдлрдВрдХреНрд╢рди рдХреЛ рдХреЙрд▓ рдХрд░реЗрдВ, рдФрд░ рдЯреЗрдХреНрд╕реНрдЯ рдХреЛ `process_text` рдлрдВрдХреНрд╢рди рдореЗрдВ рдкрд╛рд╕ рдХрд░реЗрдВ:

    ```python
    text = convert_speech_to_text(buffer)
    process_text(text)
    ```

1. рдХреЛрдб рдЪрд▓рд╛рдПрдВред рдмрдЯрди рджрдмрд╛рдПрдВ рдФрд░ рдорд╛рдЗрдХреНрд░реЛрдлреЛрди рдореЗрдВ рдмреЛрд▓реЗрдВред рдЬрдм рдЖрдк рдмреЛрд▓рдирд╛ рд╕рдорд╛рдкреНрдд рдХрд░ рд▓реЗрдВ, рддреЛ рдмрдЯрди рдЫреЛрдбрд╝ рджреЗрдВ, рдФрд░ рдСрдбрд┐рдпреЛ рдХреЛ рдЯреЗрдХреНрд╕реНрдЯ рдореЗрдВ рдмрджрд▓рдХрд░ рдХрдВрд╕реЛрд▓ рдореЗрдВ рдкреНрд░рд┐рдВрдЯ рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛ред

    ```output
    pi@raspberrypi:~/smart-timer $ python3 app.py 
    Hello world.
    Welcome to IoT for beginners.
    ```

    рд╡рд┐рднрд┐рдиреНрди рдкреНрд░рдХрд╛рд░ рдХреЗ рд╡рд╛рдХреНрдпреЛрдВ рдХреЛ рдЖрдЬрд╝рдорд╛рдПрдВ, рд╕рд╛рде рд╣реА рдРрд╕реЗ рд╡рд╛рдХреНрдп рдЬрд┐рдирдореЗрдВ рд╢рдмреНрджреЛрдВ рдХреА рдзреНрд╡рдирд┐ рд╕рдорд╛рди рд╣реЛ рд▓реЗрдХрд┐рди рдЙрдирдХреЗ рдЕрд░реНрде рдЕрд▓рдЧ рд╣реЛрдВред рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдпрджрд┐ рдЖрдк рдЕрдВрдЧреНрд░реЗрдЬреА рдореЗрдВ рдмреЛрд▓ рд░рд╣реЗ рд╣реИрдВ, рддреЛ рдХрд╣реЗрдВ 'I want to buy two bananas and an apple too', рдФрд░ рдзреНрдпрд╛рди рджреЗрдВ рдХрд┐ рдпрд╣ рд╕рдВрджрд░реНрдн рдХреЗ рдЖрдзрд╛рд░ рдкрд░ рд╕рд╣реА 'to', 'two' рдФрд░ 'too' рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдЧрд╛, рди рдХрд┐ рдХреЗрд╡рд▓ рдЙрдирдХреА рдзреНрд╡рдирд┐ рдХреЗ рдЖрдзрд╛рд░ рдкрд░ред

> ЁЯТБ рдЖрдк рдЗрд╕ рдХреЛрдб рдХреЛ [code-speech-to-text/pi](../../../../../6-consumer/lessons/1-speech-recognition/code-speech-to-text/pi) рдлреЛрд▓реНрдбрд░ рдореЗрдВ рдкрд╛ рд╕рдХрддреЗ рд╣реИрдВред

ЁЯША рдЖрдкрдХрд╛ рд╕реНрдкреАрдЪ рдЯреВ рдЯреЗрдХреНрд╕реНрдЯ рдкреНрд░реЛрдЧреНрд░рд╛рдо рд╕рдлрд▓ рд░рд╣рд╛!

**рдЕрд╕реНрд╡реАрдХрд░рдг**:  
рдпрд╣ рджрд╕реНрддрд╛рд╡реЗрдЬрд╝ AI рдЕрдиреБрд╡рд╛рдж рд╕реЗрд╡рд╛ [Co-op Translator](https://github.com/Azure/co-op-translator) рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдЕрдиреБрд╡рд╛рджрд┐рдд рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИред рдЬрдмрдХрд┐ рд╣рдо рд╕рдЯреАрдХрддрд╛ рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдХрд░рдиреЗ рдХрд╛ рдкреНрд░рдпрд╛рд╕ рдХрд░рддреЗ рд╣реИрдВ, рдХреГрдкрдпрд╛ рдзреНрдпрд╛рди рджреЗрдВ рдХрд┐ рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рдЕрдиреБрд╡рд╛рдж рдореЗрдВ рддреНрд░реБрдЯрд┐рдпрд╛рдВ рдпрд╛ рдЕрд╢реБрджреНрдзрд┐рдпрд╛рдВ рд╣реЛ рд╕рдХрддреА рд╣реИрдВред рдореВрд▓ рднрд╛рд╖рд╛ рдореЗрдВ рдЙрдкрд▓рдмреНрдз рдореВрд▓ рджрд╕реНрддрд╛рд╡реЗрдЬрд╝ рдХреЛ рдкреНрд░рд╛рдорд╛рдгрд┐рдХ рд╕реНрд░реЛрдд рдорд╛рдирд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдПред рдорд╣рддреНрд╡рдкреВрд░реНрдг рдЬрд╛рдирдХрд╛рд░реА рдХреЗ рд▓рд┐рдП, рдкреЗрд╢реЗрд╡рд░ рдорд╛рдирд╡ рдЕрдиреБрд╡рд╛рдж рдХреА рд╕рд┐рдлрд╛рд░рд┐рд╢ рдХреА рдЬрд╛рддреА рд╣реИред рдЗрд╕ рдЕрдиреБрд╡рд╛рдж рдХреЗ рдЙрдкрдпреЛрдЧ рд╕реЗ рдЙрддреНрдкрдиреНрди рдХрд┐рд╕реА рднреА рдЧрд▓рддрдлрд╣рдореА рдпрд╛ рдЧрд▓рдд рд╡реНрдпрд╛рдЦреНрдпрд╛ рдХреЗ рд▓рд┐рдП рд╣рдо рдЙрддреНрддрд░рджрд╛рдпреА рдирд╣реАрдВ рд╣реИрдВред