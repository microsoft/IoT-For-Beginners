<!--
CO_OP_TRANSLATOR_METADATA:
{
  "original_hash": "0ac0afcfb40cb5970ef4cb74f01c32e9",
  "translation_date": "2025-08-25T17:49:59+00:00",
  "source_file": "6-consumer/lessons/1-speech-recognition/pi-audio.md",
  "language_code": "hi"
}
-->
# рдСрдбрд┐рдпреЛ рдХреИрдкреНрдЪрд░ рдХрд░реЗрдВ - рд░рд╛рд╕реНрдкрдмреЗрд░реА рдкрд╛рдИ

рдЗрд╕ рдкрд╛рда рдХреЗ рдЗрд╕ рднрд╛рдЧ рдореЗрдВ, рдЖрдк рд░рд╛рд╕реНрдкрдмреЗрд░реА рдкрд╛рдИ рдкрд░ рдСрдбрд┐рдпреЛ рдХреИрдкреНрдЪрд░ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХреЛрдб рд▓рд┐рдЦреЗрдВрдЧреЗред рдСрдбрд┐рдпреЛ рдХреИрдкреНрдЪрд░ рдХреЛ рдПрдХ рдмрдЯрди рджреНрд╡рд╛рд░рд╛ рдирд┐рдпрдВрддреНрд░рд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛ред

## рд╣рд╛рд░реНрдбрд╡реЗрдпрд░

рд░рд╛рд╕реНрдкрдмреЗрд░реА рдкрд╛рдИ рдХреЛ рдСрдбрд┐рдпреЛ рдХреИрдкреНрдЪрд░ рдХреЛ рдирд┐рдпрдВрддреНрд░рд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ рдмрдЯрди рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрддреА рд╣реИред

рдЖрдк рдЬреЛ рдмрдЯрди рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВрдЧреЗ рд╡рд╣ рдПрдХ рдЧреНрд░реЛрд╡ рдмрдЯрди рд╣реИред рдпрд╣ рдПрдХ рдбрд┐рдЬрд┐рдЯрд▓ рд╕реЗрдВрд╕рд░ рд╣реИ рдЬреЛ рд╕рд┐рдЧреНрдирд▓ рдХреЛ рдЪрд╛рд▓реВ рдпрд╛ рдмрдВрдж рдХрд░рддрд╛ рд╣реИред рдЗрди рдмрдЯрдиреЛрдВ рдХреЛ рдЗрд╕ рддрд░рд╣ рд╕реЗ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ рдХрд┐ рдЬрдм рдмрдЯрди рджрдмрд╛рдпрд╛ рдЬрд╛рдП рддреЛ рдпрд╣ рдЙрдЪреНрдЪ рд╕рд┐рдЧреНрдирд▓ рднреЗрдЬреЗ рдФрд░ рдЬрдм рди рджрдмрд╛рдпрд╛ рдЬрд╛рдП рддреЛ рдирд┐рдореНрди рд╕рд┐рдЧреНрдирд▓, рдпрд╛ рдЬрдм рджрдмрд╛рдпрд╛ рдЬрд╛рдП рддреЛ рдирд┐рдореНрди рдФрд░ рдЬрдм рди рджрдмрд╛рдпрд╛ рдЬрд╛рдП рддреЛ рдЙрдЪреНрдЪ рд╕рд┐рдЧреНрдирд▓ рднреЗрдЬреЗред

рдпрджрд┐ рдЖрдк рдорд╛рдЗрдХреНрд░реЛрдлреЛрди рдХреЗ рд░реВрдк рдореЗрдВ ReSpeaker 2-Mics Pi HAT рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рд░рд╣реЗ рд╣реИрдВ, рддреЛ рдмрдЯрди рдХреЛ рдХрдиреЗрдХреНрдЯ рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рдирд╣реАрдВ рд╣реИ рдХреНрдпреЛрдВрдХрд┐ рдЗрд╕ HAT рдореЗрдВ рдкрд╣рд▓реЗ рд╕реЗ рд╣реА рдПрдХ рдмрдЯрди рд▓рдЧрд╛ рд╣реБрдЖ рд╣реИред рдЕрдЧрд▓реЗ рд╕реЗрдХреНрд╢рди рдкрд░ рдЬрд╛рдПрдВред

### рдмрдЯрди рдХрдиреЗрдХреНрдЯ рдХрд░реЗрдВ

рдмрдЯрди рдХреЛ рдЧреНрд░реЛрд╡ рдмреЗрд╕ HAT рд╕реЗ рдЬреЛрдбрд╝рд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред

#### рдХрд╛рд░реНрдп - рдмрдЯрди рдХрдиреЗрдХреНрдЯ рдХрд░реЗрдВ

![рдПрдХ рдЧреНрд░реЛрд╡ рдмрдЯрди](../../../../../translated_images/grove-button.a70cfbb809a8563681003250cf5b06d68cdcc68624f9e2f493d5a534ae2da1e5.hi.png)

1. рдЧреНрд░реЛрд╡ рдХреЗрдмрд▓ рдХреЗ рдПрдХ рд╕рд┐рд░реЗ рдХреЛ рдмрдЯрди рдореЙрдбреНрдпреВрд▓ рдХреЗ рд╕реЙрдХреЗрдЯ рдореЗрдВ рдбрд╛рд▓реЗрдВред рдпрд╣ рдХреЗрд╡рд▓ рдПрдХ рд╣реА рджрд┐рд╢рд╛ рдореЗрдВ рдЬрд╛рдПрдЧрд╛ред

1. рд░рд╛рд╕реНрдкрдмреЗрд░реА рдкрд╛рдИ рдХреЛ рдмрдВрдж рдХрд░рдХреЗ, рдЧреНрд░реЛрд╡ рдХреЗрдмрд▓ рдХреЗ рджреВрд╕рд░реЗ рд╕рд┐рд░реЗ рдХреЛ рдЧреНрд░реЛрд╡ рдмреЗрд╕ HAT рдкрд░ **D5** рдирд╛рдордХ рдбрд┐рдЬрд┐рдЯрд▓ рд╕реЙрдХреЗрдЯ рдореЗрдВ рдХрдиреЗрдХреНрдЯ рдХрд░реЗрдВред рдпрд╣ рд╕реЙрдХреЗрдЯ GPIO рдкрд┐рди рдХреЗ рдкрд╛рд╕ рд╡рд╛рд▓реЗ рд╕реЙрдХреЗрдЯ рдХреА рдкрдВрдХреНрддрд┐ рдореЗрдВ рдмрд╛рдИрдВ рдУрд░ рд╕реЗ рджреВрд╕рд░рд╛ рд╣реИред

![рдЧреНрд░реЛрд╡ рдмрдЯрди D5 рд╕реЙрдХреЗрдЯ рд╕реЗ рдЬреБрдбрд╝рд╛ рд╣реБрдЖ](../../../../../translated_images/pi-button.c7a1a4f55943341ce1baf1057658e9a205804d4131d258e820c93f951df0abf3.hi.png)

## рдСрдбрд┐рдпреЛ рдХреИрдкреНрдЪрд░ рдХрд░реЗрдВ

рдЖрдк рдорд╛рдЗрдХреНрд░реЛрдлреЛрди рд╕реЗ рдСрдбрд┐рдпреЛ рдХреЛ рдкрд╛рдпрдерди рдХреЛрдб рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдХреИрдкреНрдЪрд░ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред

### рдХрд╛рд░реНрдп - рдСрдбрд┐рдпреЛ рдХреИрдкреНрдЪрд░ рдХрд░реЗрдВ

1. рдкрд╛рдИ рдХреЛ рдЪрд╛рд▓реВ рдХрд░реЗрдВ рдФрд░ рдЗрд╕рдХреЗ рдмреВрдЯ рд╣реЛрдиреЗ рдХрд╛ рдЗрдВрддрдЬрд╛рд░ рдХрд░реЗрдВред

1. VS Code рд▓реЙрдиреНрдЪ рдХрд░реЗрдВ, рдпрд╛ рддреЛ рд╕реАрдзреЗ рдкрд╛рдИ рдкрд░, рдпрд╛ Remote SSH рдПрдХреНрд╕рдЯреЗрдВрд╢рди рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдХрдиреЗрдХреНрдЯ рдХрд░реЗрдВред

1. PyAudio Pip рдкреИрдХреЗрдЬ рдореЗрдВ рдСрдбрд┐рдпреЛ рд░рд┐рдХреЙрд░реНрдб рдФрд░ рдкреНрд▓реЗрдмреИрдХ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдлрдВрдХреНрд╢рди рд╣реЛрддреЗ рд╣реИрдВред рдЗрд╕ рдкреИрдХреЗрдЬ рдХреЛ рдХреБрдЫ рдСрдбрд┐рдпреЛ рд▓рд╛рдЗрдмреНрд░реЗрд░реАрдЬрд╝ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрддреА рд╣реИ рдЬрд┐рдиреНрд╣реЗрдВ рдкрд╣рд▓реЗ рдЗрдВрд╕реНрдЯреЙрд▓ рдХрд░рдирд╛ рд╣реЛрдЧрд╛ред рдЗрди рдХрдорд╛рдВрдбреНрд╕ рдХреЛ рдЯрд░реНрдорд┐рдирд▓ рдореЗрдВ рдЪрд▓рд╛рдПрдВ:

    ```sh
    sudo apt update
    sudo apt install libportaudio0 libportaudio2 libportaudiocpp0 portaudio19-dev libasound2-plugins --yes 
    ```

1. PyAudio Pip рдкреИрдХреЗрдЬ рдЗрдВрд╕реНрдЯреЙрд▓ рдХрд░реЗрдВред

    ```sh
    pip3 install pyaudio
    ```

1. `smart-timer` рдирд╛рдо рдХрд╛ рдПрдХ рдирдпрд╛ рдлреЛрд▓реНрдбрд░ рдмрдирд╛рдПрдВ рдФрд░ рдЗрд╕ рдлреЛрд▓реНрдбрд░ рдореЗрдВ `app.py` рдирд╛рдо рдХреА рдПрдХ рдлрд╛рдЗрд▓ рдЬреЛрдбрд╝реЗрдВред

1. рдЗрд╕ рдлрд╛рдЗрд▓ рдХреЗ рд╢реАрд░реНрд╖ рдкрд░ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдЗрдореНрдкреЛрд░реНрдЯреНрд╕ рдЬреЛрдбрд╝реЗрдВ:

    ```python
    import io
    import pyaudio
    import time
    import wave
    
    from grove.factory import Factory
    ```

    рдпрд╣ `pyaudio` рдореЙрдбреНрдпреВрд▓, рд╡реЗрд╡ рдлрд╛рдЗрд▓реНрд╕ рдХреЛ рд╣реИрдВрдбрд▓ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХреБрдЫ рд╕реНрдЯреИрдВрдбрд░реНрдб рдкрд╛рдпрдерди рдореЙрдбреНрдпреВрд▓, рдФрд░ `grove.factory` рдореЙрдбреНрдпреВрд▓ рдХреЛ рдПрдХ рдмрдЯрди рдХреНрд▓рд╛рд╕ рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдЗрдореНрдкреЛрд░реНрдЯ рдХрд░рддрд╛ рд╣реИред

1. рдЗрд╕рдХреЗ рдиреАрдЪреЗ, рдПрдХ рдЧреНрд░реЛрд╡ рдмрдЯрди рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдХреЛрдб рдЬреЛрдбрд╝реЗрдВред

    рдпрджрд┐ рдЖрдк ReSpeaker 2-Mics Pi HAT рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рд░рд╣реЗ рд╣реИрдВ, рддреЛ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдХреЛрдб рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВ:

    ```python
    # The button on the ReSpeaker 2-Mics Pi HAT
    button = Factory.getButton("GPIO-LOW", 17)
    ```

    рдпрд╣ **D17** рдкреЛрд░реНрдЯ рдкрд░ рдПрдХ рдмрдЯрди рдмрдирд╛рддрд╛ рд╣реИ, рдЬреЛ рдкреЛрд░реНрдЯ ReSpeaker 2-Mics Pi HAT рдкрд░ рдмрдЯрди рд╕реЗ рдЬреБрдбрд╝рд╛ рд╣реБрдЖ рд╣реИред рдпрд╣ рдмрдЯрди рджрдмрд╛рдП рдЬрд╛рдиреЗ рдкрд░ рдирд┐рдореНрди рд╕рд┐рдЧреНрдирд▓ рднреЗрдЬрдиреЗ рдХреЗ рд▓рд┐рдП рд╕реЗрдЯ рд╣реИред

    рдпрджрд┐ рдЖрдк ReSpeaker 2-Mics Pi HAT рдХрд╛ рдЙрдкрдпреЛрдЧ рдирд╣реАрдВ рдХрд░ рд░рд╣реЗ рд╣реИрдВ рдФрд░ рдЧреНрд░реЛрд╡ рдмрдЯрди рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рд░рд╣реЗ рд╣реИрдВ, рддреЛ рдЗрд╕ рдХреЛрдб рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВ:

    ```python
    button = Factory.getButton("GPIO-HIGH", 5)
    ```

    рдпрд╣ **D5** рдкреЛрд░реНрдЯ рдкрд░ рдПрдХ рдмрдЯрди рдмрдирд╛рддрд╛ рд╣реИ, рдЬреЛ рджрдмрд╛рдП рдЬрд╛рдиреЗ рдкрд░ рдЙрдЪреНрдЪ рд╕рд┐рдЧреНрдирд▓ рднреЗрдЬрдиреЗ рдХреЗ рд▓рд┐рдП рд╕реЗрдЯ рд╣реИред

1. рдЗрд╕рдХреЗ рдиреАрдЪреЗ, рдСрдбрд┐рдпреЛ рдХреЛ рд╣реИрдВрдбрд▓ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП PyAudio рдХреНрд▓рд╛рд╕ рдХрд╛ рдПрдХ рдЗрдВрд╕реНрдЯреЗрдВрд╕ рдмрдирд╛рдПрдВ:

    ```python
    audio = pyaudio.PyAudio()
    ```

1. рдорд╛рдЗрдХреНрд░реЛрдлреЛрди рдФрд░ рд╕реНрдкреАрдХрд░ рдХреЗ рд▓рд┐рдП рд╣рд╛рд░реНрдбрд╡реЗрдпрд░ рдХрд╛рд░реНрдб рдирдВрдмрд░ рдШреЛрд╖рд┐рдд рдХрд░реЗрдВред рдпрд╣ рд╡рд╣ рдирдВрдмрд░ рд╣реЛрдЧрд╛ рдЬреЛ рдЖрдкрдиреЗ рдЗрд╕ рдкрд╛рда рдореЗрдВ рдкрд╣рд▓реЗ `arecord -l` рдФрд░ `aplay -l` рдЪрд▓рд╛рдХрд░ рдкрд╛рдпрд╛ рдерд╛ред

    ```python
    microphone_card_number = <microphone card number>
    speaker_card_number = <speaker card number>
    ```

    `<microphone card number>` рдХреЛ рдЕрдкрдиреЗ рдорд╛рдЗрдХреНрд░реЛрдлреЛрди рдХреЗ рдХрд╛рд░реНрдб рдирдВрдмрд░ рд╕реЗ рдмрджрд▓реЗрдВред

    `<speaker card number>` рдХреЛ рдЕрдкрдиреЗ рд╕реНрдкреАрдХрд░ рдХреЗ рдХрд╛рд░реНрдб рдирдВрдмрд░ рд╕реЗ рдмрджрд▓реЗрдВ, рд╡рд╣реА рдирдВрдмрд░ рдЬрд┐рд╕реЗ рдЖрдкрдиреЗ `alsa.conf` рдлрд╛рдЗрд▓ рдореЗрдВ рд╕реЗрдЯ рдХрд┐рдпрд╛ рдерд╛ред

1. рдЗрд╕рдХреЗ рдиреАрдЪреЗ, рдСрдбрд┐рдпреЛ рдХреИрдкреНрдЪрд░ рдФрд░ рдкреНрд▓реЗрдмреИрдХ рдХреЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рд╕реИрдВрдкрд▓ рд░реЗрдЯ рдШреЛрд╖рд┐рдд рдХрд░реЗрдВред рдЖрдкрдХреЛ рдЗрд╕реЗ рдЕрдкрдиреЗ рд╣рд╛рд░реНрдбрд╡реЗрдпрд░ рдХреЗ рдЖрдзрд╛рд░ рдкрд░ рдмрджрд▓рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛ рд╕рдХрддреА рд╣реИред

    ```python
    rate = 48000 #48KHz
    ```

    рдпрджрд┐ рдмрд╛рдж рдореЗрдВ рдЗрд╕ рдХреЛрдб рдХреЛ рдЪрд▓рд╛рддреЗ рд╕рдордп рд╕реИрдВрдкрд▓ рд░реЗрдЯ рдПрд░рд░ рдорд┐рд▓рддреА рд╣реИ, рддреЛ рдЗрд╕ рд╡реИрд▓реНрдпреВ рдХреЛ `44100` рдпрд╛ `16000` рдореЗрдВ рдмрджрд▓реЗрдВред рд╡реИрд▓реНрдпреВ рдЬрд┐рддрдиреА рдЕрдзрд┐рдХ рд╣реЛрдЧреА, рд╕рд╛рдЙрдВрдб рдХреА рдХреНрд╡рд╛рд▓рд┐рдЯреА рдЙрддрдиреА рд╣реА рдмреЗрд╣рддрд░ рд╣реЛрдЧреАред

1. рдЗрд╕рдХреЗ рдиреАрдЪреЗ, `capture_audio` рдирд╛рдордХ рдПрдХ рдирдпрд╛ рдлрдВрдХреНрд╢рди рдмрдирд╛рдПрдВред рдпрд╣ рдорд╛рдЗрдХреНрд░реЛрдлреЛрди рд╕реЗ рдСрдбрд┐рдпреЛ рдХреИрдкреНрдЪрд░ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХреЙрд▓ рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛:

    ```python
    def capture_audio():
    ```

1. рдЗрд╕ рдлрдВрдХреНрд╢рди рдХреЗ рдЕрдВрджрд░, рдСрдбрд┐рдпреЛ рдХреИрдкреНрдЪрд░ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдЬреЛрдбрд╝реЗрдВ:

    ```python
    stream = audio.open(format = pyaudio.paInt16,
                        rate = rate,
                        channels = 1, 
                        input_device_index = microphone_card_number,
                        input = True,
                        frames_per_buffer = 4096)

    frames = []

    while button.is_pressed():
        frames.append(stream.read(4096))

    stream.stop_stream()
    stream.close()
    ```

    рдпрд╣ рдХреЛрдб PyAudio рдСрдмреНрдЬреЗрдХреНрдЯ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдПрдХ рдСрдбрд┐рдпреЛ рдЗрдирдкреБрдЯ рд╕реНрдЯреНрд░реАрдо рдЦреЛрд▓рддрд╛ рд╣реИред рдпрд╣ рд╕реНрдЯреНрд░реАрдо рдорд╛рдЗрдХреНрд░реЛрдлреЛрди рд╕реЗ 16KHz рдкрд░ рдСрдбрд┐рдпреЛ рдХреИрдкреНрдЪрд░ рдХрд░реЗрдЧрд╛, рдЗрд╕реЗ 4096 рдмрд╛рдЗрдЯреНрд╕ рдХреЗ рдмрдлрд░реНрд╕ рдореЗрдВ рдХреИрдкреНрдЪрд░ рдХрд░реЗрдЧрд╛ред

    рдХреЛрдб рддрдм рддрдХ рд▓реВрдк рдХрд░рддрд╛ рд╣реИ рдЬрдм рддрдХ рдЧреНрд░реЛрд╡ рдмрдЯрди рджрдмрд╛ рд░рд╣рддрд╛ рд╣реИ, рд╣рд░ рдмрд╛рд░ рдЗрди 4096 рдмрд╛рдЗрдЯ рдмрдлрд░реНрд╕ рдХреЛ рдПрдХ рдПрд░реЗ рдореЗрдВ рдкрдврд╝рддрд╛ рд╣реИред

    > ЁЯТБ рдЖрдк `open` рдореЗрдердб рдХреЛ рдкрд╛рд╕ рдХрд┐рдП рдЧрдП рд╡рд┐рдХрд▓реНрдкреЛрдВ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдЕрдзрд┐рдХ рдЬрд╛рдирдХрд╛рд░реА [PyAudio рдбрд╛рдХреНрдпреВрдореЗрдВрдЯреЗрд╢рди](https://people.csail.mit.edu/hubert/pyaudio/docs/) рдореЗрдВ рдкрдврд╝ рд╕рдХрддреЗ рд╣реИрдВред

    рдПрдХ рдмрд╛рд░ рдЬрдм рдмрдЯрди рдЫреЛрдбрд╝ рджрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рддреЛ рд╕реНрдЯреНрд░реАрдо рдХреЛ рдмрдВрдж рдХрд░ рджрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред

1. рдЗрд╕ рдлрдВрдХреНрд╢рди рдХреЗ рдЕрдВрдд рдореЗрдВ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдЬреЛрдбрд╝реЗрдВ:

    ```python
    wav_buffer = io.BytesIO()
    with wave.open(wav_buffer, 'wb') as wavefile:
        wavefile.setnchannels(1)
        wavefile.setsampwidth(audio.get_sample_size(pyaudio.paInt16))
        wavefile.setframerate(rate)
        wavefile.writeframes(b''.join(frames))
        wav_buffer.seek(0)

    return wav_buffer
    ```

    рдпрд╣ рдХреЛрдб рдПрдХ рдмрд╛рдЗрдирд░реА рдмрдлрд░ рдмрдирд╛рддрд╛ рд╣реИ, рдФрд░ рд╕рднреА рдХреИрдкреНрдЪрд░ рдХрд┐рдП рдЧрдП рдСрдбрд┐рдпреЛ рдХреЛ рдПрдХ [WAV рдлрд╛рдЗрд▓](https://wikipedia.org/wiki/WAV) рдХреЗ рд░реВрдк рдореЗрдВ рд▓рд┐рдЦрддрд╛ рд╣реИред рдпрд╣ рдмрд┐рдирд╛ рдХрдВрдкреНрд░реЗрд╕ рдХрд┐рдП рдЧрдП рдСрдбрд┐рдпреЛ рдХреЛ рдлрд╛рдЗрд▓ рдореЗрдВ рд▓рд┐рдЦрдиреЗ рдХрд╛ рдПрдХ рдорд╛рдирдХ рддрд░реАрдХрд╛ рд╣реИред рдпрд╣ рдмрдлрд░ рдлрд┐рд░ рд░рд┐рдЯрд░реНрди рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред

1. рдСрдбрд┐рдпреЛ рдмрдлрд░ рдХреЛ рдкреНрд▓реЗ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд `play_audio` рдлрдВрдХреНрд╢рди рдЬреЛрдбрд╝реЗрдВ:

    ```python
    def play_audio(buffer):
        stream = audio.open(format = pyaudio.paInt16,
                            rate = rate,
                            channels = 1,
                            output_device_index = speaker_card_number,
                            output = True)
    
        with wave.open(buffer, 'rb') as wf:
            data = wf.readframes(4096)
    
            while len(data) > 0:
                stream.write(data)
                data = wf.readframes(4096)
    
            stream.close()
    ```

    рдпрд╣ рдлрдВрдХреНрд╢рди рдПрдХ рдФрд░ рдСрдбрд┐рдпреЛ рд╕реНрдЯреНрд░реАрдо рдЦреЛрд▓рддрд╛ рд╣реИ, рдЗрд╕ рдмрд╛рд░ рдЖрдЙрдЯрдкреБрдЯ рдХреЗ рд▓рд┐рдП - рдСрдбрд┐рдпреЛ рдкреНрд▓реЗ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдПред рдпрд╣ рдЗрдирдкреБрдЯ рд╕реНрдЯреНрд░реАрдо рдХреЗ рд╕рдорд╛рди рд╕реЗрдЯрд┐рдВрдЧреНрд╕ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддрд╛ рд╣реИред рдмрдлрд░ рдХреЛ рдПрдХ рд╡реЗрд╡ рдлрд╛рдЗрд▓ рдХреЗ рд░реВрдк рдореЗрдВ рдЦреЛрд▓рд╛ рдЬрд╛рддрд╛ рд╣реИ рдФрд░ 4096 рдмрд╛рдЗрдЯреНрд╕ рдХреЗ рдЪрдВрдХреНрд╕ рдореЗрдВ рдЖрдЙрдЯрдкреБрдЯ рд╕реНрдЯреНрд░реАрдо рдореЗрдВ рд▓рд┐рдЦрд╛ рдЬрд╛рддрд╛ рд╣реИ, рдСрдбрд┐рдпреЛ рдкреНрд▓реЗ рдХрд░рддрд╛ рд╣реИред рдлрд┐рд░ рд╕реНрдЯреНрд░реАрдо рдмрдВрдж рдХрд░ рджрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред

1. `capture_audio` рдлрдВрдХреНрд╢рди рдХреЗ рдиреАрдЪреЗ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдХреЛрдб рдЬреЛрдбрд╝реЗрдВ рддрд╛рдХрд┐ рдпрд╣ рддрдм рддрдХ рд▓реВрдк рдХрд░реЗ рдЬрдм рддрдХ рдмрдЯрди рджрдмрд╛рдпрд╛ рди рдЬрд╛рдПред рдПрдХ рдмрд╛рд░ рдмрдЯрди рджрдмрд╛рдП рдЬрд╛рдиреЗ рдкрд░, рдСрдбрд┐рдпреЛ рдХреИрдкреНрдЪрд░ рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛ рдФрд░ рдлрд┐рд░ рдкреНрд▓реЗ рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛ред

    ```python
    while True:
        while not button.is_pressed():
            time.sleep(.1)
        
        buffer = capture_audio()
        play_audio(buffer)
    ```

1. рдХреЛрдб рдЪрд▓рд╛рдПрдВред рдмрдЯрди рджрдмрд╛рдПрдВ рдФрд░ рдорд╛рдЗрдХреНрд░реЛрдлреЛрди рдореЗрдВ рдмреЛрд▓реЗрдВред рдЬрдм рдЖрдк рд╕рдорд╛рдкреНрдд рдХрд░ рд▓реЗрдВ рддреЛ рдмрдЯрди рдЫреЛрдбрд╝ рджреЗрдВ, рдФрд░ рдЖрдк рд░рд┐рдХреЙрд░реНрдбрд┐рдВрдЧ рд╕реБрдиреЗрдВрдЧреЗред

    PyAudio рдЗрдВрд╕реНрдЯреЗрдВрд╕ рдмрдирд╛рдП рдЬрд╛рдиреЗ рдкрд░ рдЖрдкрдХреЛ рдХреБрдЫ ALSA рдПрд░рд░ рдорд┐рд▓ рд╕рдХрддреА рд╣реИрдВред рдпрд╣ рдкрд╛рдИ рдкрд░ рдЙрди рдСрдбрд┐рдпреЛ рдбрд┐рд╡рд╛рдЗрд╕ рдХреЗ рд▓рд┐рдП рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рдХреЗ рдХрд╛рд░рдг рд╣реИ рдЬреЛ рдЖрдкрдХреЗ рдкрд╛рд╕ рдирд╣реАрдВ рд╣реИрдВред рдЖрдк рдЗрди рдПрд░рд░ рдХреЛ рдирдЬрд░рдЕрдВрджрд╛рдЬ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред

    ```output
    pi@raspberrypi:~/smart-timer $ python3 app.py 
    ALSA lib pcm.c:2565:(snd_pcm_open_noupdate) Unknown PCM cards.pcm.front
    ALSA lib pcm.c:2565:(snd_pcm_open_noupdate) Unknown PCM cards.pcm.rear
    ALSA lib pcm.c:2565:(snd_pcm_open_noupdate) Unknown PCM cards.pcm.center_lfe
    ALSA lib pcm.c:2565:(snd_pcm_open_noupdate) Unknown PCM cards.pcm.side
    ```

    рдпрджрд┐ рдЖрдкрдХреЛ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдПрд░рд░ рдорд┐рд▓рддреА рд╣реИ:

    ```output
    OSError: [Errno -9997] Invalid sample rate
    ```

    рддреЛ `rate` рдХреЛ рдпрд╛ рддреЛ 44100 рдпрд╛ 16000 рдореЗрдВ рдмрджрд▓реЗрдВред

> ЁЯТБ рдЖрдк рдЗрд╕ рдХреЛрдб рдХреЛ [code-record/pi](../../../../../6-consumer/lessons/1-speech-recognition/code-record/pi) рдлреЛрд▓реНрдбрд░ рдореЗрдВ рдкрд╛ рд╕рдХрддреЗ рд╣реИрдВред

ЁЯША рдЖрдкрдХрд╛ рдСрдбрд┐рдпреЛ рд░рд┐рдХреЙрд░реНрдбрд┐рдВрдЧ рдкреНрд░реЛрдЧреНрд░рд╛рдо рд╕рдлрд▓ рд░рд╣рд╛!

**рдЕрд╕реНрд╡реАрдХрд░рдг**:  
рдпрд╣ рджрд╕реНрддрд╛рд╡реЗрдЬрд╝ AI рдЕрдиреБрд╡рд╛рдж рд╕реЗрд╡рд╛ [Co-op Translator](https://github.com/Azure/co-op-translator) рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдЕрдиреБрд╡рд╛рджрд┐рдд рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИред рдЬрдмрдХрд┐ рд╣рдо рд╕рдЯреАрдХрддрд╛ рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдХрд░рдиреЗ рдХрд╛ рдкреНрд░рдпрд╛рд╕ рдХрд░рддреЗ рд╣реИрдВ, рдХреГрдкрдпрд╛ рдзреНрдпрд╛рди рджреЗрдВ рдХрд┐ рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рдЕрдиреБрд╡рд╛рдж рдореЗрдВ рддреНрд░реБрдЯрд┐рдпрд╛рдВ рдпрд╛ рдЕрд╢реБрджреНрдзрд┐рдпрд╛рдВ рд╣реЛ рд╕рдХрддреА рд╣реИрдВред рдореВрд▓ рднрд╛рд╖рд╛ рдореЗрдВ рдЙрдкрд▓рдмреНрдз рдореВрд▓ рджрд╕реНрддрд╛рд╡реЗрдЬрд╝ рдХреЛ рдЖрдзрд┐рдХрд╛рд░рд┐рдХ рд╕реНрд░реЛрдд рдорд╛рдирд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдПред рдорд╣рддреНрд╡рдкреВрд░реНрдг рдЬрд╛рдирдХрд╛рд░реА рдХреЗ рд▓рд┐рдП, рдкреЗрд╢реЗрд╡рд░ рдорд╛рдирд╡ рдЕрдиреБрд╡рд╛рдж рдХреА рд╕рд┐рдлрд╛рд░рд┐рд╢ рдХреА рдЬрд╛рддреА рд╣реИред рдЗрд╕ рдЕрдиреБрд╡рд╛рдж рдХреЗ рдЙрдкрдпреЛрдЧ рд╕реЗ рдЙрддреНрдкрдиреНрди рдХрд┐рд╕реА рднреА рдЧрд▓рддрдлрд╣рдореА рдпрд╛ рдЧрд▓рдд рд╡реНрдпрд╛рдЦреНрдпрд╛ рдХреЗ рд▓рд┐рдП рд╣рдо рдЙрддреНрддрд░рджрд╛рдпреА рдирд╣реАрдВ рд╣реИрдВред