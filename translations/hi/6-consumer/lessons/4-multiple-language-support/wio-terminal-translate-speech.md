<!--
CO_OP_TRANSLATOR_METADATA:
{
  "original_hash": "5f6c164e349f8989959e02a90f37908d",
  "translation_date": "2025-08-25T17:36:15+00:00",
  "source_file": "6-consumer/lessons/4-multiple-language-support/wio-terminal-translate-speech.md",
  "language_code": "hi"
}
-->
# рднрд╛рд╖рдг рдХрд╛ рдЕрдиреБрд╡рд╛рдж рдХрд░реЗрдВ - Wio Terminal

рдЗрд╕ рдкрд╛рда рдХреЗ рдЗрд╕ рднрд╛рдЧ рдореЗрдВ, рдЖрдк рдЕрдиреБрд╡рд╛рджрдХ рд╕реЗрд╡рд╛ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдЯреЗрдХреНрд╕реНрдЯ рдХрд╛ рдЕрдиреБрд╡рд╛рдж рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХреЛрдб рд▓рд┐рдЦреЗрдВрдЧреЗред

## рдЕрдиреБрд╡рд╛рджрдХ рд╕реЗрд╡рд╛ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдЯреЗрдХреНрд╕реНрдЯ рдХреЛ рднрд╛рд╖рдг рдореЗрдВ рдмрджрд▓реЗрдВ

рд╕реНрдкреАрдЪ рд╕рд░реНрд╡рд┐рд╕ REST API рд╕реАрдзреЗ рдЕрдиреБрд╡рд╛рдж рдХрд╛ рд╕рдорд░реНрдерди рдирд╣реАрдВ рдХрд░рддрд╛ рд╣реИред рдЗрд╕рдХреЗ рдмрдЬрд╛рдп, рдЖрдк рд╕реНрдкреАрдЪ рдЯреВ рдЯреЗрдХреНрд╕реНрдЯ рд╕реЗрд╡рд╛ рджреНрд╡рд╛рд░рд╛ рдЙрддреНрдкрдиреНрди рдЯреЗрдХреНрд╕реНрдЯ рдФрд░ рдмреЛрд▓реЗ рдЧрдП рдЙрддреНрддрд░ рдХреЗ рдЯреЗрдХреНрд╕реНрдЯ рдХрд╛ рдЕрдиреБрд╡рд╛рдж рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЕрдиреБрд╡рд╛рджрдХ рд╕реЗрд╡рд╛ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред рдЗрд╕ рд╕реЗрд╡рд╛ рдореЗрдВ рдПрдХ REST API рд╣реИ рдЬрд┐рд╕реЗ рдЖрдк рдЯреЗрдХреНрд╕реНрдЯ рдХрд╛ рдЕрдиреБрд╡рд╛рдж рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ, рд▓реЗрдХрд┐рди рдЗрд╕реЗ рдЙрдкрдпреЛрдЧ рдореЗрдВ рдЖрд╕рд╛рди рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдЗрд╕реЗ рдЖрдкрдХреЗ рдлрд╝рдВрдХреНрд╢рди рдРрдк рдореЗрдВ рдПрдХ рдЕрдиреНрдп HTTP рдЯреНрд░рд┐рдЧрд░ рдореЗрдВ рд▓рдкреЗрдЯрд╛ рдЬрд╛рдПрдЧрд╛ред

### рдХрд╛рд░реНрдп - рдЯреЗрдХреНрд╕реНрдЯ рдХрд╛ рдЕрдиреБрд╡рд╛рдж рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ рд╕рд░реНрд╡рд░рд▓реЗрд╕ рдлрд╝рдВрдХреНрд╢рди рдмрдирд╛рдПрдВ

1. рдЕрдкрдиреЗ `smart-timer-trigger` рдкреНрд░реЛрдЬреЗрдХреНрдЯ рдХреЛ VS Code рдореЗрдВ рдЦреЛрд▓реЗрдВ рдФрд░ рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдХрд░реЗрдВ рдХрд┐ рдЯрд░реНрдорд┐рдирд▓ рдореЗрдВ рд╡рд░реНрдЪреБрдЕрд▓ рдПрдирд╡рд╛рдпрд░рдирдореЗрдВрдЯ рд╕рдХреНрд░рд┐рдп рд╣реИред рдпрджрд┐ рдирд╣реАрдВ, рддреЛ рдЯрд░реНрдорд┐рдирд▓ рдХреЛ рдмрдВрдж рдХрд░реЗрдВ рдФрд░ рдкреБрдирдГ рдмрдирд╛рдПрдБред

1. `local.settings.json` рдлрд╝рд╛рдЗрд▓ рдЦреЛрд▓реЗрдВ рдФрд░ рдЕрдиреБрд╡рд╛рджрдХ API рдХреБрдВрдЬреА рдФрд░ рд╕реНрдерд╛рди рдХреЗ рд▓рд┐рдП рд╕реЗрдЯрд┐рдВрдЧреНрд╕ рдЬреЛрдбрд╝реЗрдВ:

    ```json
    "TRANSLATOR_KEY": "<key>",
    "TRANSLATOR_LOCATION": "<location>"
    ```

    `<key>` рдХреЛ рдЕрдкрдиреЗ рдЕрдиреБрд╡рд╛рджрдХ рд╕реЗрд╡рд╛ рд╕рдВрд╕рд╛рдзрди рдХреЗ API рдХреБрдВрдЬреА рд╕реЗ рдмрджрд▓реЗрдВред `<location>` рдХреЛ рдЙрд╕ рд╕реНрдерд╛рди рд╕реЗ рдмрджрд▓реЗрдВ рдЬрд┐рд╕реЗ рдЖрдкрдиреЗ рдЕрдиреБрд╡рд╛рджрдХ рд╕реЗрд╡рд╛ рд╕рдВрд╕рд╛рдзрди рдмрдирд╛рддреЗ рд╕рдордп рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдерд╛ред

1. рдЗрд╕ рдРрдк рдореЗрдВ рдПрдХ рдирдпрд╛ HTTP рдЯреНрд░рд┐рдЧрд░ рдЬреЛрдбрд╝реЗрдВ рдЬрд┐рд╕реЗ `translate-text` рдХрд╣рд╛ рдЬрд╛рддрд╛ рд╣реИред рдЗрд╕реЗ VS Code рдЯрд░реНрдорд┐рдирд▓ рдореЗрдВ рдлрд╝рдВрдХреНрд╢рди рдРрдк рдкреНрд░реЛрдЬреЗрдХреНрдЯ рдХреЗ рд░реВрдЯ рдлрд╝реЛрд▓реНрдбрд░ рдХреЗ рдЕрдВрджрд░ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдХрдорд╛рдВрдб рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдХрд░реЗрдВ:

    ```sh
    func new --name translate-text --template "HTTP trigger"
    ```

    рдпрд╣ рдПрдХ HTTP рдЯреНрд░рд┐рдЧрд░ рдмрдирд╛рдПрдЧрд╛ рдЬрд┐рд╕реЗ `translate-text` рдХрд╣рд╛ рдЬрд╛рддрд╛ рд╣реИред

1. `translate-text` рдлрд╝реЛрд▓реНрдбрд░ рдореЗрдВ `__init__.py` рдлрд╝рд╛рдЗрд▓ рдХреА рд╕рд╛рдордЧреНрд░реА рдХреЛ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рд╕реЗ рдмрджрд▓реЗрдВ:

    ```python
    import logging
    import os
    import requests
    
    import azure.functions as func
    
    location = os.environ['TRANSLATOR_LOCATION']
    translator_key = os.environ['TRANSLATOR_KEY']
    
    def main(req: func.HttpRequest) -> func.HttpResponse:
        req_body = req.get_json()
        from_language = req_body['from_language']
        to_language = req_body['to_language']
        text = req_body['text']
        
        logging.info(f'Translating {text} from {from_language} to {to_language}')
    
        url = f'https://api.cognitive.microsofttranslator.com/translate?api-version=3.0'
    
        headers = {
            'Ocp-Apim-Subscription-Key': translator_key,
            'Ocp-Apim-Subscription-Region': location,
            'Content-type': 'application/json'
        }
    
        params = {
            'from': from_language,
            'to': to_language
        }
    
        body = [{
            'text' : text
        }]
        
        response = requests.post(url, headers=headers, params=params, json=body)
        return func.HttpResponse(response.json()[0]['translations'][0]['text'])
    ```

    рдпрд╣ рдХреЛрдб HTTP рдЕрдиреБрд░реЛрдз рд╕реЗ рдЯреЗрдХреНрд╕реНрдЯ рдФрд░ рднрд╛рд╖рд╛рдУрдВ рдХреЛ рдирд┐рдХрд╛рд▓рддрд╛ рд╣реИред рдлрд┐рд░ рдпрд╣ рдЕрдиреБрд╡рд╛рджрдХ REST API рдХреЛ рдЕрдиреБрд░реЛрдз рдХрд░рддрд╛ рд╣реИ, URL рдХреЗ рд▓рд┐рдП рдкреИрд░рд╛рдореАрдЯрд░ рдХреЗ рд░реВрдк рдореЗрдВ рднрд╛рд╖рд╛рдУрдВ рдХреЛ рдкрд╛рд╕ рдХрд░рддрд╛ рд╣реИ рдФрд░ рдЕрдиреБрд╡рд╛рдж рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЯреЗрдХреНрд╕реНрдЯ рдХреЛ рдмреЙрдбреА рдХреЗ рд░реВрдк рдореЗрдВ рдкрд╛рд╕ рдХрд░рддрд╛ рд╣реИред рдЕрдВрдд рдореЗрдВ, рдЕрдиреБрд╡рд╛рдж рд▓реМрдЯрд╛рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред

1. рдЕрдкрдиреЗ рдлрд╝рдВрдХреНрд╢рди рдРрдк рдХреЛ рд▓реЛрдХрд▓ рд░реВрдк рд╕реЗ рдЪрд▓рд╛рдПрдБред рдЖрдк рдЗрд╕реЗ рдЙрд╕реА рддрд░рд╣ рд╕реЗ рдХреЙрд▓ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдЬреИрд╕реЗ рдЖрдкрдиреЗ `text-to-timer` HTTP рдЯреНрд░рд┐рдЧрд░ рдХрд╛ рдкрд░реАрдХреНрд╖рдг рдХрд┐рдпрд╛ рдерд╛ред рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдХрд░реЗрдВ рдХрд┐ JSON рдмреЙрдбреА рдХреЗ рд░реВрдк рдореЗрдВ рдЕрдиреБрд╡рд╛рдж рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЯреЗрдХреНрд╕реНрдЯ рдФрд░ рднрд╛рд╖рд╛рдУрдВ рдХреЛ рдкрд╛рд╕ рдХрд░реЗрдВ:

    ```json
    {
        "text": "D├йfinir une minuterie de 30 secondes",
        "from_language": "fr-FR",
        "to_language": "en-US"
    }
    ```

    рдпрд╣ рдЙрджрд╛рд╣рд░рдг *D├йfinir une minuterie de 30 secondes* рдХреЛ рдлреНрд░реЗрдВрдЪ рд╕реЗ рдпреВрдПрд╕ рдЗрдВрдЧреНрд▓рд┐рд╢ рдореЗрдВ рдЕрдиреБрд╡рд╛рдж рдХрд░рддрд╛ рд╣реИред рдпрд╣ *Set a 30-second timer* рд▓реМрдЯрд╛рдПрдЧрд╛ред

> ЁЯТБ рдЖрдк рдЗрд╕ рдХреЛрдб рдХреЛ [code/functions](../../../../../6-consumer/lessons/4-multiple-language-support/code/functions) рдлрд╝реЛрд▓реНрдбрд░ рдореЗрдВ рдкрд╛ рд╕рдХрддреЗ рд╣реИрдВред

### рдХрд╛рд░реНрдп - рдЕрдиреБрд╡рд╛рджрдХ рдлрд╝рдВрдХреНрд╢рди рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдЯреЗрдХреНрд╕реНрдЯ рдХрд╛ рдЕрдиреБрд╡рд╛рдж рдХрд░реЗрдВ

1. рдпрджрд┐ `smart-timer` рдкреНрд░реЛрдЬреЗрдХреНрдЯ рдкрд╣рд▓реЗ рд╕реЗ рдЦреБрд▓рд╛ рдирд╣реАрдВ рд╣реИ, рддреЛ рдЗрд╕реЗ VS Code рдореЗрдВ рдЦреЛрд▓реЗрдВред

1. рдЖрдкрдХрд╛ рд╕реНрдорд╛рд░реНрдЯ рдЯрд╛рдЗрдорд░ 2 рднрд╛рд╖рд╛рдУрдВ рдХреЗ рд╕рд╛рде рд╕реЗрдЯ рд╣реЛрдЧрд╛ - рд╡рд╣ рднрд╛рд╖рд╛ рдЬреЛ LUIS рдХреЛ рдкреНрд░рд╢рд┐рдХреНрд╖рд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рд╕рд░реНрд╡рд░ рдкрд░ рдЙрдкрдпреЛрдЧ рдХреА рдЧрдИ рдереА (рд╡рд╣реА рднрд╛рд╖рд╛ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рд╕реЗ рдмрд╛рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рд╕рдВрджреЗрд╢ рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдП рднреА рдЙрдкрдпреЛрдЧ рдХреА рдЬрд╛рддреА рд╣реИ), рдФрд░ рд╡рд╣ рднрд╛рд╖рд╛ рдЬреЛ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рджреНрд╡рд╛рд░рд╛ рдмреЛрд▓реА рдЬрд╛рддреА рд╣реИред `config.h` рд╣реЗрдбрд░ рдлрд╝рд╛рдЗрд▓ рдореЗрдВ `LANGUAGE` рдХреЙрдиреНрд╕реНрдЯреЗрдВрдЯ рдХреЛ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рджреНрд╡рд╛рд░рд╛ рдмреЛрд▓реА рдЬрд╛рдиреЗ рд╡рд╛рд▓реА рднрд╛рд╖рд╛ рдХреЗ рд▓рд┐рдП рдЕрдкрдбреЗрдЯ рдХрд░реЗрдВ, рдФрд░ LUIS рдХреЛ рдкреНрд░рд╢рд┐рдХреНрд╖рд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧ рдХреА рдЧрдИ рднрд╛рд╖рд╛ рдХреЗ рд▓рд┐рдП `SERVER_LANGUAGE` рдирд╛рдордХ рдПрдХ рдирдпрд╛ рдХреЙрдиреНрд╕реНрдЯреЗрдВрдЯ рдЬреЛрдбрд╝реЗрдВ:

    ```cpp
    const char *LANGUAGE = "<user language>";
    const char *SERVER_LANGUAGE = "<server language>";
    ```

    `<user language>` рдХреЛ рдЙрд╕ рднрд╛рд╖рд╛ рдХреЗ рд▓реЛрдХреЗрд▓ рдирд╛рдо рд╕реЗ рдмрджрд▓реЗрдВ рдЬрд┐рд╕рдореЗрдВ рдЖрдк рдмреЛрд▓реЗрдВрдЧреЗ, рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП рдлреНрд░реЗрдВрдЪ рдХреЗ рд▓рд┐рдП `fr-FR`, рдпрд╛ рдХреИрдВрдЯреЛрдиреАрдЬрд╝ рдХреЗ рд▓рд┐рдП `zn-HK`ред

    `<server language>` рдХреЛ рдЙрд╕ рднрд╛рд╖рд╛ рдХреЗ рд▓реЛрдХреЗрд▓ рдирд╛рдо рд╕реЗ рдмрджрд▓реЗрдВ рдЬрд┐рд╕реЗ LUIS рдХреЛ рдкреНрд░рд╢рд┐рдХреНрд╖рд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЧрдпрд╛ рдерд╛ред

    рдЖрдк рд╕рдорд░реНрдерд┐рдд рднрд╛рд╖рд╛рдУрдВ рдФрд░ рдЙрдирдХреЗ рд▓реЛрдХреЗрд▓ рдирд╛рдореЛрдВ рдХреА рд╕реВрдЪреА [Microsoft Docs рдкрд░ рднрд╛рд╖рд╛ рдФрд░ рдЖрд╡рд╛рдЬрд╝ рд╕рдорд░реНрдерди рджрд╕реНрддрд╛рд╡реЗрдЬрд╝](https://docs.microsoft.com/azure/cognitive-services/speech-service/language-support?WT.mc_id=academic-17441-jabenn#speech-to-text) рдореЗрдВ рдкрд╛ рд╕рдХрддреЗ рд╣реИрдВред

    > ЁЯТБ рдпрджрд┐ рдЖрдк рдХрдИ рднрд╛рд╖рд╛рдПрдБ рдирд╣реАрдВ рдмреЛрд▓рддреЗ рд╣реИрдВ, рддреЛ рдЖрдк [Bing Translate](https://www.bing.com/translator) рдпрд╛ [Google Translate](https://translate.google.com) рдЬреИрд╕реА рд╕реЗрд╡рд╛ рдХрд╛ рдЙрдкрдпреЛрдЧ рдЕрдкрдиреА рдкрд╕рдВрджреАрджрд╛ рднрд╛рд╖рд╛ рд╕реЗ рдХрд┐рд╕реА рдЕрдиреНрдп рднрд╛рд╖рд╛ рдореЗрдВ рдЕрдиреБрд╡рд╛рдж рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред рдпреЗ рд╕реЗрд╡рд╛рдПрдБ рдЕрдиреБрд╡рд╛рджрд┐рдд рдЯреЗрдХреНрд╕реНрдЯ рдХрд╛ рдСрдбрд┐рдпреЛ рднреА рдЪрд▓рд╛ рд╕рдХрддреА рд╣реИрдВред
    >
    > рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдпрджрд┐ рдЖрдк LUIS рдХреЛ рдЕрдВрдЧреНрд░реЗрдЬреА рдореЗрдВ рдкреНрд░рд╢рд┐рдХреНрд╖рд┐рдд рдХрд░рддреЗ рд╣реИрдВ, рд▓реЗрдХрд┐рди рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рднрд╛рд╖рд╛ рдХреЗ рд░реВрдк рдореЗрдВ рдлреНрд░реЗрдВрдЪ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ, рддреЛ рдЖрдк Bing Translate рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ "set a 2 minute and 27 second timer" рдЬреИрд╕реЗ рд╡рд╛рдХреНрдпреЛрдВ рдХреЛ рдЕрдВрдЧреНрд░реЗрдЬреА рд╕реЗ рдлреНрд░реЗрдВрдЪ рдореЗрдВ рдЕрдиреБрд╡рд╛рдж рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ, рдлрд┐рд░ **Listen translation** рдмрдЯрди рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдЕрдиреБрд╡рд╛рдж рдХреЛ рдЕрдкрдиреЗ рдорд╛рдЗрдХреНрд░реЛрдлреЛрди рдореЗрдВ рдмреЛрд▓ рд╕рдХрддреЗ рд╣реИрдВред
    >
    > ![Bing Translate рдкрд░ Listen translation рдмрдЯрди](../../../../../translated_images/bing-translate.348aa796d6efe2a92f41ea74a5cf42bb4c63d6faaa08e7f46924e072a35daa48.hi.png)

1. `SPEECH_LOCATION` рдХреЗ рдиреАрдЪреЗ рдЕрдиреБрд╡рд╛рджрдХ API рдХреБрдВрдЬреА рдФрд░ рд╕реНрдерд╛рди рдЬреЛрдбрд╝реЗрдВ:

    ```cpp
    const char *TRANSLATOR_API_KEY = "<KEY>";
    const char *TRANSLATOR_LOCATION = "<LOCATION>";
    ```

    `<KEY>` рдХреЛ рдЕрдкрдиреЗ рдЕрдиреБрд╡рд╛рджрдХ рд╕реЗрд╡рд╛ рд╕рдВрд╕рд╛рдзрди рдХреЗ API рдХреБрдВрдЬреА рд╕реЗ рдмрджрд▓реЗрдВред `<LOCATION>` рдХреЛ рдЙрд╕ рд╕реНрдерд╛рди рд╕реЗ рдмрджрд▓реЗрдВ рдЬрд┐рд╕реЗ рдЖрдкрдиреЗ рдЕрдиреБрд╡рд╛рджрдХ рд╕реЗрд╡рд╛ рд╕рдВрд╕рд╛рдзрди рдмрдирд╛рддреЗ рд╕рдордп рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдерд╛ред

1. `VOICE_URL` рдХреЗ рдиреАрдЪреЗ рдЕрдиреБрд╡рд╛рджрдХ рдЯреНрд░рд┐рдЧрд░ URL рдЬреЛрдбрд╝реЗрдВ:

    ```cpp
    const char *TRANSLATE_FUNCTION_URL = "<URL>";
    ```

    `<URL>` рдХреЛ рдЖрдкрдХреЗ рдлрд╝рдВрдХреНрд╢рди рдРрдк рдкрд░ `translate-text` HTTP рдЯреНрд░рд┐рдЧрд░ рдХреЗ URL рд╕реЗ рдмрджрд▓реЗрдВред рдпрд╣ `TEXT_TO_TIMER_FUNCTION_URL` рдХреЗ рдорд╛рди рдХреЗ рд╕рдорд╛рди рд╣реЛрдЧрд╛, рд╕рд┐рд╡рд╛рдп рдЗрд╕рдХреЗ рдХрд┐ рдлрд╝рдВрдХреНрд╢рди рдХрд╛ рдирд╛рдо `text-to-timer` рдХреЗ рдмрдЬрд╛рдп `translate-text` рд╣реЛрдЧрд╛ред

1. `src` рдлрд╝реЛрд▓реНрдбрд░ рдореЗрдВ рдПрдХ рдирдИ рдлрд╝рд╛рдЗрд▓ рдЬреЛрдбрд╝реЗрдВ рдЬрд┐рд╕реЗ `text_translator.h` рдХрд╣рд╛ рдЬрд╛рддрд╛ рд╣реИред

1. рдпрд╣ рдирдпрд╛ `text_translator.h` рд╣реЗрдбрд░ рдлрд╝рд╛рдЗрд▓ рдЯреЗрдХреНрд╕реНрдЯ рдХрд╛ рдЕрдиреБрд╡рд╛рдж рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ рдХреНрд▓рд╛рд╕ рдХреЛ рд╢рд╛рдорд┐рд▓ рдХрд░реЗрдЧрд╛ред рдЗрд╕ рдХреНрд▓рд╛рд╕ рдХреЛ рдШреЛрд╖рд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЗрд╕ рдлрд╝рд╛рдЗрд▓ рдореЗрдВ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдЬреЛрдбрд╝реЗрдВ:

    ```cpp
    #pragma once
    
    #include <Arduino.h>
    #include <ArduinoJson.h>
    #include <HTTPClient.h>
    #include <WiFiClient.h>
    
    #include "config.h"
    
    class TextTranslator
    {
    public:   
    private:
        WiFiClient _client;
    };
    
    TextTranslator textTranslator;
    ```

    рдпрд╣ `TextTranslator` рдХреНрд▓рд╛рд╕ рдХреЛ рдШреЛрд╖рд┐рдд рдХрд░рддрд╛ рд╣реИ, рд╕рд╛рде рд╣реА рдЗрд╕ рдХреНрд▓рд╛рд╕ рдХрд╛ рдПрдХ рдЗрдВрд╕реНрдЯреЗрдВрд╕ рднреАред рдХреНрд▓рд╛рд╕ рдореЗрдВ WiFi рдХреНрд▓рд╛рдЗрдВрдЯ рдХреЗ рд▓рд┐рдП рдПрдХ рд╕рд┐рдВрдЧрд▓ рдлрд╝реАрд▓реНрдб рд╣реИред

1. рдЗрд╕ рдХреНрд▓рд╛рд╕ рдХреЗ `public` рд╕реЗрдХреНрд╢рди рдореЗрдВ, рдЯреЗрдХреНрд╕реНрдЯ рдХрд╛ рдЕрдиреБрд╡рд╛рдж рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ рдореЗрдердб рдЬреЛрдбрд╝реЗрдВ:

    ```cpp
    String translateText(String text, String from_language, String to_language)
    {
    }
    ```

    рдпрд╣ рдореЗрдердб рдЙрд╕ рднрд╛рд╖рд╛ рд╕реЗ рдЕрдиреБрд╡рд╛рдж рдХрд░рддрд╛ рд╣реИ рдЬрд┐рд╕рдореЗрдВ рд╕реЗ рдЕрдиреБрд╡рд╛рдж рдХрд░рдирд╛ рд╣реИ, рдФрд░ рдЙрд╕ рднрд╛рд╖рд╛ рдореЗрдВ рдЕрдиреБрд╡рд╛рдж рдХрд░рддрд╛ рд╣реИ рдЬрд┐рд╕рдореЗрдВ рдЕрдиреБрд╡рд╛рдж рдХрд░рдирд╛ рд╣реИред рдЬрдм рднрд╛рд╖рдг рдХреЛ рд╕рдВрднрд╛рд▓рд╛ рдЬрд╛рддрд╛ рд╣реИ, рддреЛ рднрд╛рд╖рдг рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХреА рднрд╛рд╖рд╛ рд╕реЗ LUIS рд╕рд░реНрд╡рд░ рднрд╛рд╖рд╛ рдореЗрдВ рдЕрдиреБрд╡рд╛рджрд┐рдд рд╣реЛрдЧрд╛, рдФрд░ рдЬрдм рдЙрддреНрддрд░ рджрд┐рдП рдЬрд╛рддреЗ рд╣реИрдВ рддреЛ рдпрд╣ LUIS рд╕рд░реНрд╡рд░ рднрд╛рд╖рд╛ рд╕реЗ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХреА рднрд╛рд╖рд╛ рдореЗрдВ рдЕрдиреБрд╡рд╛рджрд┐рдд рд╣реЛрдЧрд╛ред

1. рдЗрд╕ рдореЗрдердб рдореЗрдВ, JSON рдмреЙрдбреА рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдХреЛрдб рдЬреЛрдбрд╝реЗрдВ рдЬрд┐рд╕рдореЗрдВ рдЕрдиреБрд╡рд╛рдж рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЯреЗрдХреНрд╕реНрдЯ рдФрд░ рднрд╛рд╖рд╛рдПрдБ рд╢рд╛рдорд┐рд▓ рд╣реЛрдВ:

    ```cpp
    DynamicJsonDocument doc(1024);
    doc["text"] = text;
    doc["from_language"] = from_language;
    doc["to_language"] = to_language;

    String body;
    serializeJson(doc, body);

    Serial.print("Translating ");
    Serial.print(text);
    Serial.print(" from ");
    Serial.print(from_language);
    Serial.print(" to ");
    Serial.print(to_language);
    ```

1. рдЗрд╕рдХреЗ рдиреАрдЪреЗ, рд╕рд░реНрд╡рд░рд▓реЗрд╕ рдлрд╝рдВрдХреНрд╢рди рдРрдк рдХреЛ рдмреЙрдбреА рднреЗрдЬрдиреЗ рдХреЗ рд▓рд┐рдП рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдХреЛрдб рдЬреЛрдбрд╝реЗрдВ:

    ```cpp
    HTTPClient httpClient;
    httpClient.begin(_client, TRANSLATE_FUNCTION_URL);

    int httpResponseCode = httpClient.POST(body);
    ```

1. рдЕрдЧрд▓рд╛, рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛ рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХреЛрдб рдЬреЛрдбрд╝реЗрдВ:

    ```cpp
    String translated_text = "";

    if (httpResponseCode == 200)
    {
        translated_text = httpClient.getString();
        Serial.print("Translated: ");
        Serial.println(translated_text);
    }
    else
    {
        Serial.print("Failed to translate text - error ");
        Serial.println(httpResponseCode);
    }
    ```

1. рдЕрдВрдд рдореЗрдВ, рдХрдиреЗрдХреНрд╢рди рдмрдВрдж рдХрд░рдиреЗ рдФрд░ рдЕрдиреБрд╡рд╛рджрд┐рдд рдЯреЗрдХреНрд╕реНрдЯ рд▓реМрдЯрд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдХреЛрдб рдЬреЛрдбрд╝реЗрдВ:

    ```cpp
    httpClient.end();

    return translated_text;
    ```

### рдХрд╛рд░реНрдп - рдкрд╣рдЪрд╛рдиреЗ рдЧрдП рднрд╛рд╖рдг рдФрд░ рдЙрддреНрддрд░реЛрдВ рдХрд╛ рдЕрдиреБрд╡рд╛рдж рдХрд░реЗрдВ

1. `main.cpp` рдлрд╝рд╛рдЗрд▓ рдЦреЛрд▓реЗрдВред

1. рдлрд╝рд╛рдЗрд▓ рдХреЗ рд╢реАрд░реНрд╖ рдкрд░ `TextTranslator` рдХреНрд▓рд╛рд╕ рд╣реЗрдбрд░ рдлрд╝рд╛рдЗрд▓ рдХреЗ рд▓рд┐рдП рдПрдХ include рдирд┐рд░реНрджреЗрд╢ рдЬреЛрдбрд╝реЗрдВ:

    ```cpp
    #include "text_translator.h"
    ```

1. рдЬрдм рдЯрд╛рдЗрдорд░ рд╕реЗрдЯ рд╣реЛрддрд╛ рд╣реИ рдпрд╛ рд╕рдорд╛рдкреНрдд рд╣реЛрддрд╛ рд╣реИ, рддреЛ рдХрд╣рд╛ рдЧрдпрд╛ рдЯреЗрдХреНрд╕реНрдЯ рдХрд╛ рдЕрдиреБрд╡рд╛рдж рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрддреА рд╣реИред рдРрд╕рд╛ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, `say` рдлрд╝рдВрдХреНрд╢рди рдХреА рдкрд╣рд▓реА рдкрдВрдХреНрддрд┐ рдХреЗ рд░реВрдк рдореЗрдВ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдЬреЛрдбрд╝реЗрдВ:

    ```cpp
    text = textTranslator.translateText(text, LANGUAGE, SERVER_LANGUAGE);
    ```

    рдпрд╣ рдЯреЗрдХреНрд╕реНрдЯ рдХреЛ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХреА рднрд╛рд╖рд╛ рдореЗрдВ рдЕрдиреБрд╡рд╛рдж рдХрд░реЗрдЧрд╛ред

1. `processAudio` рдлрд╝рдВрдХреНрд╢рди рдореЗрдВ, рдЯреЗрдХреНрд╕реНрдЯ рдХреЛ рдХреИрдкреНрдЪрд░ рдХрд┐рдП рдЧрдП рдСрдбрд┐рдпреЛ рд╕реЗ `String text = speechToText.convertSpeechToText();` рдХреЙрд▓ рдХреЗ рд╕рд╛рде рдкреНрд░рд╛рдкреНрдд рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред рдЗрд╕ рдХреЙрд▓ рдХреЗ рдмрд╛рдж, рдЯреЗрдХреНрд╕реНрдЯ рдХрд╛ рдЕрдиреБрд╡рд╛рдж рдХрд░реЗрдВ:

    ```cpp
    String text = speechToText.convertSpeechToText();
    text = textTranslator.translateText(text, LANGUAGE, SERVER_LANGUAGE);
    ```

    рдпрд╣ рдЯреЗрдХреНрд╕реНрдЯ рдХреЛ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХреА рднрд╛рд╖рд╛ рд╕реЗ рд╕рд░реНрд╡рд░ рдкрд░ рдЙрдкрдпреЛрдЧ рдХреА рдЧрдИ рднрд╛рд╖рд╛ рдореЗрдВ рдЕрдиреБрд╡рд╛рдж рдХрд░реЗрдЧрд╛ред

1. рдЗрд╕ рдХреЛрдб рдХреЛ рдмрдирд╛рдПрдВ, рдЗрд╕реЗ рдЕрдкрдиреЗ Wio Terminal рдкрд░ рдЕрдкрд▓реЛрдб рдХрд░реЗрдВ рдФрд░ рдЗрд╕реЗ рд╕реАрд░рд┐рдпрд▓ рдореЙрдирд┐рдЯрд░ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдкрд░реАрдХреНрд╖рдг рдХрд░реЗрдВред рдПрдХ рдмрд╛рд░ рдЬрдм рдЖрдк рд╕реАрд░рд┐рдпрд▓ рдореЙрдирд┐рдЯрд░ рдореЗрдВ `Ready` рджреЗрдЦреЗрдВ, рддреЛ C рдмрдЯрди рджрдмрд╛рдПрдБ (рдЬреЛ рдмрд╛рдИрдВ рдУрд░ рд╣реИ, рдкрд╛рд╡рд░ рд╕реНрд╡рд┐рдЪ рдХреЗ рд╕рдмрд╕реЗ рдХрд░реАрдм), рдФрд░ рдмреЛрд▓реЗрдВред рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдХрд░реЗрдВ рдХрд┐ рдЖрдкрдХрд╛ рдлрд╝рдВрдХреНрд╢рди рдРрдк рдЪрд▓ рд░рд╣рд╛ рд╣реИ, рдФрд░ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХреА рднрд╛рд╖рд╛ рдореЗрдВ рдЯрд╛рдЗрдорд░ рдХрд╛ рдЕрдиреБрд░реЛрдз рдХрд░реЗрдВ, рдЪрд╛рд╣реЗ рд╡рд╣ рднрд╛рд╖рд╛ рд╕реНрд╡рдпрдВ рдмреЛрд▓рдХрд░ рд╣реЛ, рдпрд╛ рдЕрдиреБрд╡рд╛рдж рдРрдк рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗред

    ```output
    Connecting to WiFi..
    Connected!
    Got access token.
    Ready.
    Starting recording...
    Finished recording
    Sending speech...
    Speech sent!
    {"RecognitionStatus":"Success","DisplayText":"D├йfinir une minuterie de 2 minutes 27 secondes.","Offset":9600000,"Duration":40400000}
    Translating D├йfinir une minuterie de 2 minutes 27 secondes. from fr-FR to en-US
    Translated: Set a timer of 2 minutes 27 seconds.
    Set a timer of 2 minutes 27 seconds.
    {"seconds": 147}
    Translating 2 minute 27 second timer started. from en-US to fr-FR
    Translated: 2 minute 27 seconde minute a commenc├й.
    2 minute 27 seconde minute a commenc├й.
    Translating Times up on your 2 minute 27 second timer. from en-US to fr-FR
    Translated: Chronom├йtrant votre minuterie de 2 minutes 27 secondes.
    Chronom├йtrant votre minuterie de 2 minutes 27 secondes.
    ```

> ЁЯТБ рдЖрдк рдЗрд╕ рдХреЛрдб рдХреЛ [code/wio-terminal](../../../../../6-consumer/lessons/4-multiple-language-support/code/wio-terminal) рдлрд╝реЛрд▓реНрдбрд░ рдореЗрдВ рдкрд╛ рд╕рдХрддреЗ рд╣реИрдВред

ЁЯША рдЖрдкрдХрд╛ рдмрд╣реБрднрд╛рд╖реА рдЯрд╛рдЗрдорд░ рдкреНрд░реЛрдЧреНрд░рд╛рдо рд╕рдлрд▓ рд░рд╣рд╛!

**рдЕрд╕реНрд╡реАрдХрд░рдг**:  
рдпрд╣ рджрд╕реНрддрд╛рд╡реЗрдЬрд╝ AI рдЕрдиреБрд╡рд╛рдж рд╕реЗрд╡рд╛ [Co-op Translator](https://github.com/Azure/co-op-translator) рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдЕрдиреБрд╡рд╛рджрд┐рдд рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИред рдЬрдмрдХрд┐ рд╣рдо рд╕рдЯреАрдХрддрд╛ рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдХрд░рдиреЗ рдХрд╛ рдкреНрд░рдпрд╛рд╕ рдХрд░рддреЗ рд╣реИрдВ, рдХреГрдкрдпрд╛ рдзреНрдпрд╛рди рджреЗрдВ рдХрд┐ рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рдЕрдиреБрд╡рд╛рдж рдореЗрдВ рддреНрд░реБрдЯрд┐рдпрд╛рдВ рдпрд╛ рдЕрд╢реБрджреНрдзрд┐рдпрд╛рдВ рд╣реЛ рд╕рдХрддреА рд╣реИрдВред рдореВрд▓ рднрд╛рд╖рд╛ рдореЗрдВ рдЙрдкрд▓рдмреНрдз рдореВрд▓ рджрд╕реНрддрд╛рд╡реЗрдЬрд╝ рдХреЛ рдЖрдзрд┐рдХрд╛рд░рд┐рдХ рд╕реНрд░реЛрдд рдорд╛рдирд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдПред рдорд╣рддреНрд╡рдкреВрд░реНрдг рдЬрд╛рдирдХрд╛рд░реА рдХреЗ рд▓рд┐рдП, рдкреЗрд╢реЗрд╡рд░ рдорд╛рдирд╡ рдЕрдиреБрд╡рд╛рдж рдХреА рд╕рд┐рдлрд╛рд░рд┐рд╢ рдХреА рдЬрд╛рддреА рд╣реИред рдЗрд╕ рдЕрдиреБрд╡рд╛рдж рдХреЗ рдЙрдкрдпреЛрдЧ рд╕реЗ рдЙрддреНрдкрдиреНрди рдХрд┐рд╕реА рднреА рдЧрд▓рддрдлрд╣рдореА рдпрд╛ рдЧрд▓рдд рд╡реНрдпрд╛рдЦреНрдпрд╛ рдХреЗ рд▓рд┐рдП рд╣рдо рдЬрд┐рдореНрдореЗрджрд╛рд░ рдирд╣реАрдВ рд╣реИрдВред