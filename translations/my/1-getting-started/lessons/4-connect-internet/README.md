<!--
CO_OP_TRANSLATOR_METADATA:
{
  "original_hash": "71b5040e0b3472f1c0949c9b55f224c0",
  "translation_date": "2025-08-28T17:09:07+00:00",
  "source_file": "1-getting-started/lessons/4-connect-internet/README.md",
  "language_code": "my"
}
-->
# á€á€„á€·á€ºá€…á€€á€ºá€€á€­á€¯á€¡á€„á€ºá€á€¬á€”á€€á€ºá€”á€¾á€„á€·á€ºá€á€»á€­á€á€ºá€†á€€á€ºá€•á€«

![á€’á€®á€á€„á€ºá€á€”á€ºá€¸á€…á€¬áá€¡á€€á€»á€‰á€ºá€¸á€á€»á€¯á€•á€ºá€€á€­á€¯á€–á€±á€¬á€ºá€•á€¼á€á€±á€¬ Sketchnote](../../../../../translated_images/lesson-4.7344e074ea68fa545fd320b12dce36d72dd62d28c3b4596cb26cf315f434b98f.my.jpg)

> Sketchnote á€€á€­á€¯ [Nitya Narasimhan](https://github.com/nitya) á€™á€¾á€›á€±á€¸á€á€¬á€¸á€‘á€¬á€¸á€á€Šá€ºá‹ á€•á€¯á€¶á€€á€­á€¯á€”á€¾á€­á€•á€ºá€•á€¼á€®á€¸ á€•á€­á€¯á€™á€­á€¯á€€á€¼á€®á€¸á€™á€¬á€¸á€á€±á€¬á€—á€¬á€¸á€›á€¾á€„á€ºá€¸á€€á€­á€¯á€€á€¼á€Šá€·á€ºá€•á€«á‹

á€’á€®á€á€„á€ºá€á€”á€ºá€¸á€…á€¬á€€á€­á€¯ [Microsoft Reactor](https://developer.microsoft.com/reactor/?WT.mc_id=academic-17441-jabenn) á€™á€¾ [Hello IoT series](https://youtube.com/playlist?list=PLmsFUfdnGr3xRts0TIwyaHyQuHaNQcb6-) áá€¡á€•á€­á€¯á€„á€ºá€¸á€á€…á€ºá€á€¯á€¡á€–á€¼á€…á€ºá€á€„á€ºá€€á€¼á€¬á€¸á€á€²á€·á€á€Šá€ºá‹ á€á€„á€ºá€á€”á€ºá€¸á€…á€¬á€€á€­á€¯ á‚ á€™á€­á€”á€…á€ºá€…á€¬á€—á€®á€’á€®á€šá€­á€¯á€”á€¾á€„á€·á€º á á€”á€¬á€›á€®á€…á€¬á€¡á€á€”á€ºá€¸á€¡á€á€»á€­á€”á€ºá€¡á€–á€¼á€…á€º á€á€„á€ºá€á€”á€ºá€¸á€…á€¬áá€¡á€•á€­á€¯á€„á€ºá€¸á€™á€»á€¬á€¸á€€á€­á€¯á€•á€­á€¯á€™á€­á€¯á€”á€€á€ºá€”á€€á€ºá€›á€¾á€­á€¯á€„á€ºá€¸á€›á€¾á€­á€¯á€„á€ºá€¸á€œá€±á€·á€œá€¬á€•á€¼á€®á€¸á€™á€±á€¸á€á€½á€”á€ºá€¸á€™á€»á€¬á€¸á€€á€­á€¯á€–á€¼á€±á€†á€­á€¯á€›á€”á€ºá€¡á€á€½á€€á€ºá€á€„á€ºá€€á€¼á€¬á€¸á€á€²á€·á€á€Šá€ºá‹

[![á€á€„á€ºá€á€”á€ºá€¸á€…á€¬ á„: á€á€„á€·á€ºá€…á€€á€ºá€€á€­á€¯á€¡á€„á€ºá€á€¬á€”á€€á€ºá€”á€¾á€„á€·á€ºá€á€»á€­á€á€ºá€†á€€á€ºá€•á€«](https://img.youtube.com/vi/O4dd172mZhs/0.jpg)](https://youtu.be/O4dd172mZhs)

[![á€á€„á€ºá€á€”á€ºá€¸á€…á€¬ á„: á€á€„á€·á€ºá€…á€€á€ºá€€á€­á€¯á€¡á€„á€ºá€á€¬á€”á€€á€ºá€”á€¾á€„á€·á€ºá€á€»á€­á€á€ºá€†á€€á€ºá€•á€« - á€¡á€á€”á€ºá€¸á€¡á€á€»á€­á€”á€º](https://img.youtube.com/vi/j-cVCzRDE2Q/0.jpg)](https://youtu.be/j-cVCzRDE2Q)

> ğŸ¥ á€¡á€‘á€€á€ºá€•á€«á€•á€¯á€¶á€™á€»á€¬á€¸á€€á€­á€¯á€”á€¾á€­á€•á€ºá€•á€¼á€®á€¸á€—á€®á€’á€®á€šá€­á€¯á€™á€»á€¬á€¸á€€á€­á€¯á€€á€¼á€Šá€·á€ºá€•á€«

## á€á€„á€ºá€á€”á€ºá€¸á€…á€¬á€™á€á€­á€¯á€„á€ºá€™á€®á€™á€±á€¸á€á€½á€”á€ºá€¸

[á€á€„á€ºá€á€”á€ºá€¸á€…á€¬á€™á€á€­á€¯á€„á€ºá€™á€®á€™á€±á€¸á€á€½á€”á€ºá€¸](https://black-meadow-040d15503.1.azurestaticapps.net/quiz/7)

## á€¡á€€á€»á€‰á€ºá€¸á€á€»á€¯á€•á€º

IoT (á€¡á€›á€¬á€á€á€¹á€‘á€¯á€¡á€„á€ºá€á€¬á€”á€€á€º) á€á€½á€„á€º **I** á€á€Šá€º **Internet** á€€á€­á€¯á€†á€­á€¯á€œá€­á€¯á€á€Šá€º - á€…á€€á€ºá€™á€»á€¬á€¸á€”á€¾á€„á€·á€ºá€á€»á€­á€á€ºá€†á€€á€ºá€™á€¾á€¯á€™á€»á€¬á€¸á€€á€­á€¯á€¡á€„á€ºá€á€¬á€”á€€á€ºá€€á€”á€±á€‘á€±á€¬á€€á€ºá€•á€¶á€·á€•á€±á€¸á€•á€¼á€®á€¸ IoT á€…á€€á€ºá€™á€»á€¬á€¸áá€¡á€„á€ºá€¹á€‚á€«á€›á€•á€ºá€™á€»á€¬á€¸á€€á€­á€¯á€–á€”á€ºá€á€®á€¸á€•á€±á€¸á€á€Šá€ºá‹ á€¥á€•á€™á€¬á€¡á€¬á€¸á€–á€¼á€„á€·á€º á€…á€€á€ºá€á€½á€„á€ºá€á€»á€­á€á€ºá€†á€€á€ºá€‘á€¬á€¸á€á€±á€¬ sensor á€™á€»á€¬á€¸á€™á€¾á€á€­á€¯á€„á€ºá€¸á€á€¬á€™á€¾á€¯á€™á€»á€¬á€¸á€€á€­á€¯á€…á€¯á€†á€±á€¬á€„á€ºá€¸á€á€¼á€„á€ºá€¸áŠ actuator á€™á€»á€¬á€¸á€€á€­á€¯á€‘á€­á€”á€ºá€¸á€á€»á€¯á€•á€ºá€›á€”á€º message á€™á€»á€¬á€¸á€•á€­á€¯á€·á€á€¼á€„á€ºá€¸á€…á€á€Šá€ºá€á€­á€¯á€·á€–á€¼á€…á€ºá€á€Šá€ºá‹ IoT á€…á€€á€ºá€™á€»á€¬á€¸á€á€Šá€º é€šå¸¸á€á€…á€ºá€á€¯á€á€Šá€ºá€¸á€á€±á€¬ cloud IoT service á€”á€¾á€„á€·á€ºá€á€»á€­á€á€ºá€†á€€á€ºá€•á€¼á€®á€¸ standard communication protocol á€€á€­á€¯á€¡á€á€¯á€¶á€¸á€•á€¼á€¯á€á€Šá€ºá‹ á€¡á€†á€­á€¯á€•á€« service á€á€Šá€º AI service á€™á€»á€¬á€¸á€™á€¾á€…á á€á€„á€·á€ºá€’á€±á€á€¬á€¡á€•á€±á€«á€º smart á€†á€¯á€¶á€¸á€–á€¼á€á€ºá€á€»á€€á€ºá€™á€»á€¬á€¸á€€á€­á€¯á€œá€¯á€•á€ºá€†á€±á€¬á€„á€ºá€›á€”á€ºáŠ control á€á€­á€¯á€·á€™á€Ÿá€¯á€á€º reporting á€¡á€á€½á€€á€º web app á€™á€»á€¬á€¸á€¡á€‘á€­ IoT application áá€¡á€á€¼á€¬á€¸á€¡á€…á€­á€á€ºá€¡á€•á€­á€¯á€„á€ºá€¸á€™á€»á€¬á€¸á€”á€¾á€„á€·á€ºá€á€»á€­á€á€ºá€†á€€á€ºá€‘á€¬á€¸á€á€Šá€ºá‹

> ğŸ“ Sensor á€™á€»á€¬á€¸á€™á€¾á€…á€¯á€†á€±á€¬á€„á€ºá€¸á€•á€¼á€®á€¸ cloud á€á€­á€¯á€·á€•á€­á€¯á€·á€á€±á€¬á€’á€±á€á€¬á€€á€­á€¯ telemetry á€Ÿá€¯á€á€±á€«á€ºá€á€Šá€ºá‹

IoT á€…á€€á€ºá€™á€»á€¬á€¸á€á€Šá€º cloud á€™á€¾ message á€™á€»á€¬á€¸á€€á€­á€¯á€œá€€á€ºá€á€¶á€”á€­á€¯á€„á€ºá€á€Šá€ºá‹ message á€™á€»á€¬á€¸á€á€½á€„á€º command á€™á€»á€¬á€¸á€•á€«á€á€„á€ºá€á€á€ºá€á€Šá€º - á€¡á€á€½á€„á€ºá€¸á€•á€­á€¯á€„á€ºá€¸á€á€½á€„á€º (á€¥á€•á€™á€¬ firmware á€€á€­á€¯á€•á€¼á€”á€ºá€œá€Šá€ºá€…á€á€„á€ºá€á€¼á€„á€ºá€¸ á€á€­á€¯á€·á€™á€Ÿá€¯á€á€º update á€œá€¯á€•á€ºá€á€¼á€„á€ºá€¸) á€á€­á€¯á€·á€™á€Ÿá€¯á€á€º actuator á€€á€­á€¯á€¡á€á€¯á€¶á€¸á€•á€¼á€¯á€á€¼á€„á€ºá€¸ (á€¥á€•á€™á€¬ á€™á€®á€¸á€œá€„á€ºá€¸á€á€¼á€„á€ºá€¸) á€á€…á€ºá€á€¯á€á€¯á€œá€¯á€•á€ºá€†á€±á€¬á€„á€ºá€›á€”á€ºá€¡á€Šá€½á€¾á€”á€ºá€¸á€™á€»á€¬á€¸á€–á€¼á€…á€ºá€á€Šá€ºá‹

á€’á€®á€á€„á€ºá€á€”á€ºá€¸á€…á€¬á€á€½á€„á€º IoT á€…á€€á€ºá€™á€»á€¬á€¸á€á€Šá€º cloud á€”á€¾á€„á€·á€ºá€á€»á€­á€á€ºá€†á€€á€ºá€›á€”á€ºá€¡á€á€¯á€¶á€¸á€•á€¼á€¯á€”á€­á€¯á€„á€ºá€á€±á€¬ communication protocol á€™á€»á€¬á€¸á€”á€¾á€„á€·á€º á€•á€­á€¯á€·á€•á€±á€¸á€”á€­á€¯á€„á€ºá€á€Šá€·á€º á€’á€±á€á€¬á€¡á€™á€»á€­á€¯á€¸á€¡á€…á€¬á€¸á€™á€»á€¬á€¸á€€á€­á€¯á€™á€­á€á€ºá€†á€€á€ºá€•á€±á€¸á€™á€Šá€ºá€–á€¼á€…á€ºá€á€Šá€ºá‹ á€á€„á€ºá€á€Šá€º LED control logic á€€á€­á€¯ 'server' code á€á€­á€¯á€·á€•á€¼á€±á€¬á€„á€ºá€¸á€•á€¼á€®á€¸ locally á€á€½á€„á€º run á€œá€¯á€•á€ºá€á€¼á€„á€ºá€¸á€–á€¼á€„á€·á€º Internet control á€€á€­á€¯á€á€„á€·á€º nightlight á€á€½á€„á€ºá€‘á€Šá€·á€ºá€á€½á€„á€ºá€¸á€”á€­á€¯á€„á€ºá€™á€Šá€ºá€–á€¼á€…á€ºá€á€Šá€ºá‹

á€’á€®á€á€„á€ºá€á€”á€ºá€¸á€…á€¬á€á€½á€„á€º á€€á€»á€½á€”á€ºá€¯á€•á€ºá€á€­á€¯á€·á€–á€±á€¬á€ºá€•á€¼á€™á€Šá€·á€ºá€¡á€€á€¼á€±á€¬á€„á€ºá€¸á€¡á€›á€¬á€™á€»á€¬á€¸á€™á€¾á€¬ -

* [Communication protocols](../../../../../1-getting-started/lessons/4-connect-internet)
* [Message Queueing Telemetry Transport (MQTT)](../../../../../1-getting-started/lessons/4-connect-internet)
* [Telemetry](../../../../../1-getting-started/lessons/4-connect-internet)
* [Commands](../../../../../1-getting-started/lessons/4-connect-internet)

## Communication protocols

IoT á€…á€€á€ºá€™á€»á€¬á€¸á€á€Šá€ºá€¡á€„á€ºá€á€¬á€”á€€á€ºá€”á€¾á€„á€·á€ºá€†á€€á€ºá€á€½á€šá€ºá€›á€”á€ºá€¡á€á€¯á€¶á€¸á€•á€¼á€¯á€á€±á€¬ communication protocol á€™á€»á€¬á€¸á€…á€½á€¬á€›á€¾á€­á€á€Šá€ºá‹ á€¡á€™á€»á€¬á€¸á€†á€¯á€¶á€¸á€¡á€á€¯á€¶á€¸á€•á€¼á€¯á€á€±á€¬ protocol á€™á€»á€¬á€¸á€á€Šá€º publish/subscribe messaging á€€á€­á€¯ broker á€á€…á€ºá€á€¯á€á€¯á€™á€¾á€á€…á€ºá€†á€„á€·á€ºá€¡á€á€¼á€±á€á€¶á€‘á€¬á€¸á€á€Šá€ºá‹ IoT á€…á€€á€ºá€™á€»á€¬á€¸á€á€Šá€º broker á€”á€¾á€„á€·á€ºá€á€»á€­á€á€ºá€†á€€á€ºá€•á€¼á€®á€¸ telemetry á€€á€­á€¯ publish á€œá€¯á€•á€ºá€•á€¼á€®á€¸ command á€™á€»á€¬á€¸á€€á€­á€¯ subscribe á€œá€¯á€•á€ºá€á€Šá€ºá‹ cloud service á€™á€»á€¬á€¸á€á€Šá€º broker á€”á€¾á€„á€·á€ºá€á€»á€­á€á€ºá€†á€€á€ºá€•á€¼á€®á€¸ telemetry message á€™á€»á€¬á€¸á€¡á€¬á€¸á€œá€¯á€¶á€¸á€€á€­á€¯ subscribe á€œá€¯á€•á€ºá€•á€¼á€®á€¸ command á€™á€»á€¬á€¸á€€á€­á€¯á€á€…á€ºá€á€¯á€á€Šá€ºá€¸á€á€±á€¬á€…á€€á€ºá€™á€»á€¬á€¸ á€á€­á€¯á€·á€™á€Ÿá€¯á€á€º á€…á€€á€ºá€¡á€¯á€•á€ºá€…á€¯á€™á€»á€¬á€¸á€á€­á€¯á€· publish á€œá€¯á€•á€ºá€á€Šá€ºá‹

![IoT á€…á€€á€ºá€™á€»á€¬á€¸á€á€Šá€º broker á€”á€¾á€„á€·á€ºá€á€»á€­á€á€ºá€†á€€á€ºá€•á€¼á€®á€¸ telemetry á€€á€­á€¯ publish á€œá€¯á€•á€ºá€•á€¼á€®á€¸ command á€™á€»á€¬á€¸á€€á€­á€¯ subscribe á€œá€¯á€•á€ºá€á€Šá€ºá‹ Cloud service á€™á€»á€¬á€¸á€á€Šá€º broker á€”á€¾á€„á€·á€ºá€á€»á€­á€á€ºá€†á€€á€ºá€•á€¼á€®á€¸ telemetry message á€™á€»á€¬á€¸á€¡á€¬á€¸á€œá€¯á€¶á€¸á€€á€­á€¯ subscribe á€œá€¯á€•á€ºá€•á€¼á€®á€¸ command á€™á€»á€¬á€¸á€€á€­á€¯á€á€­á€€á€»á€á€±á€¬á€…á€€á€ºá€™á€»á€¬á€¸á€á€­á€¯á€·á€•á€­á€¯á€·á€á€Šá€ºá‹](../../../../../translated_images/pub-sub.7c7ed43fe9fd15d4e1f81a3fd95440413c457acd9bcbe9a43341e30e88db5264.my.png)

MQTT á€á€Šá€º IoT á€…á€€á€ºá€™á€»á€¬á€¸á€¡á€á€½á€€á€ºá€¡á€™á€»á€¬á€¸á€†á€¯á€¶á€¸á€¡á€á€¯á€¶á€¸á€•á€¼á€¯á€á€±á€¬ communication protocol á€–á€¼á€…á€ºá€•á€¼á€®á€¸ á€’á€®á€á€„á€ºá€á€”á€ºá€¸á€…á€¬á€á€½á€„á€ºá€–á€±á€¬á€ºá€•á€¼á€‘á€¬á€¸á€á€Šá€ºá‹ á€¡á€á€¼á€¬á€¸ protocol á€™á€»á€¬á€¸á€á€½á€„á€º AMQP á€”á€¾á€„á€·á€º HTTP/HTTPS á€•á€«á€á€„á€ºá€á€Šá€ºá‹

## Message Queueing Telemetry Transport (MQTT)

[MQTT](http://mqtt.org) á€á€Šá€º á€…á€€á€ºá€™á€»á€¬á€¸á€¡á€€á€¼á€¬á€¸ message á€™á€»á€¬á€¸á€•á€­á€¯á€·á€›á€”á€ºá€¡á€œá€½á€”á€ºá€•á€±á€«á€·á€•á€«á€¸á€á€±á€¬ open standard messaging protocol á€–á€¼á€…á€ºá€á€Šá€ºá‹ áá€„á€ºá€¸á€€á€­á€¯ áá‰á‰á‰ á€á€¯á€”á€¾á€…á€ºá€á€½á€„á€º á€›á€±á€”á€¶á€•á€­á€¯á€€á€ºá€œá€­á€¯á€„á€ºá€¸á€™á€»á€¬á€¸á€€á€­á€¯á€…á€±á€¬á€„á€·á€ºá€€á€¼á€Šá€·á€ºá€›á€”á€ºá€’á€®á€‡á€­á€¯á€„á€ºá€¸á€‘á€¯á€á€ºá€á€²á€·á€•á€¼á€®á€¸ áá… á€”á€¾á€…á€ºá€¡á€€á€¼á€¬ IBM á€™á€¾ open standard á€¡á€–á€¼á€…á€ºá€‘á€¯á€á€ºá€•á€¼á€”á€ºá€á€²á€·á€á€Šá€ºá‹

MQTT á€á€½á€„á€º broker á€á€…á€ºá€á€¯á€”á€¾á€„á€·á€º client á€™á€»á€¬á€¸á€…á€½á€¬á€›á€¾á€­á€á€Šá€ºá‹ Client á€™á€»á€¬á€¸á€¡á€¬á€¸á€œá€¯á€¶á€¸á€á€Šá€º broker á€”á€¾á€„á€·á€ºá€á€»á€­á€á€ºá€†á€€á€ºá€•á€¼á€®á€¸ broker á€á€Šá€º message á€™á€»á€¬á€¸á€€á€­á€¯á€á€€á€ºá€†á€­á€¯á€„á€ºá€›á€¬ client á€™á€»á€¬á€¸á€á€­á€¯á€·á€•á€­á€¯á€·á€á€Šá€ºá‹ Message á€™á€»á€¬á€¸á€€á€­á€¯ named topics á€¡á€á€¯á€¶á€¸á€•á€¼á€¯á route á€œá€¯á€•á€ºá€á€Šá€ºáŠ á€á€…á€ºá€á€¯á€á€Šá€ºá€¸á€á€±á€¬ client á€á€­á€¯á€·á€á€­á€¯á€€á€ºá€›á€­á€¯á€€á€ºá€•á€­á€¯á€·á€á€¼á€„á€ºá€¸á€™á€Ÿá€¯á€á€ºá€•á€«á‹ Client á€á€…á€ºá€á€¯á€á€Šá€º topic á€á€…á€ºá€á€¯á€á€­á€¯á€· publish á€œá€¯á€•á€ºá€”á€­á€¯á€„á€ºá€•á€¼á€®á€¸ á€¡á€†á€­á€¯á€•á€« topic á€€á€­á€¯ subscribe á€œá€¯á€•á€ºá€‘á€¬á€¸á€á€±á€¬ client á€™á€»á€¬á€¸á€¡á€¬á€¸á€œá€¯á€¶á€¸á€á€Šá€º message á€€á€­á€¯á€œá€€á€ºá€á€¶á€›á€›á€¾á€­á€™á€Šá€ºá€–á€¼á€…á€ºá€á€Šá€ºá‹

![IoT á€…á€€á€ºá€á€Šá€º /telemetry topic á€á€½á€„á€º telemetry á€€á€­á€¯ publish á€œá€¯á€•á€ºá€•á€¼á€®á€¸ cloud service á€á€Šá€ºá€¡á€†á€­á€¯á€•á€« topic á€€á€­á€¯ subscribe á€œá€¯á€•á€ºá€á€Šá€º](../../../../../translated_images/mqtt.cbf7f21d9adc3e17548b359444cc11bb4bf2010543e32ece9a47becf54438c23.my.png)

âœ… á€á€¯á€á€±á€á€”á€œá€¯á€•á€ºá€•á€«á‹ IoT á€…á€€á€ºá€™á€»á€¬á€¸á€™á€»á€¬á€¸á€…á€½á€¬á€›á€¾á€­á€•á€«á€€ á€á€„á€·á€º MQTT broker á€á€Šá€º message á€™á€»á€¬á€¸á€¡á€¬á€¸á€œá€¯á€¶á€¸á€€á€­á€¯ handle á€œá€¯á€•á€ºá€”á€­á€¯á€„á€ºá€›á€”á€ºá€˜á€šá€ºá€œá€­á€¯á€œá€¯á€•á€ºá€†á€±á€¬á€„á€ºá€”á€­á€¯á€„á€ºá€™á€Šá€ºá€œá€²?

### á€á€„á€·á€º IoT á€…á€€á€ºá€€á€­á€¯ MQTT á€”á€¾á€„á€·á€ºá€á€»á€­á€á€ºá€†á€€á€ºá€•á€«

Internet control á€€á€­á€¯á€á€„á€·á€º nightlight á€á€½á€„á€ºá€‘á€Šá€·á€ºá€á€½á€„á€ºá€¸á€›á€”á€ºá€•á€‘á€™á€¡á€†á€„á€·á€ºá€™á€¾á€¬ MQTT broker á€”á€¾á€„á€·á€ºá€á€»á€­á€á€ºá€†á€€á€ºá€á€¼á€„á€ºá€¸á€–á€¼á€…á€ºá€á€Šá€ºá‹

#### Task

á€á€„á€·á€ºá€…á€€á€ºá€€á€­á€¯ MQTT broker á€”á€¾á€„á€·á€ºá€á€»á€­á€á€ºá€†á€€á€ºá€•á€«á‹

á€’á€®á€á€„á€ºá€á€”á€ºá€¸á€…á€¬áá€’á€®á€¡á€•á€­á€¯á€„á€ºá€¸á€á€½á€„á€º á€á€„á€·á€º IoT nightlight á€€á€­á€¯á€¡á€„á€ºá€á€¬á€”á€€á€ºá€”á€¾á€„á€·á€ºá€á€»á€­á€á€ºá€†á€€á€ºá€•á€¼á€®á€¸ remote control á€œá€¯á€•á€ºá€”á€­á€¯á€„á€ºá€›á€”á€ºá€œá€¯á€•á€ºá€†á€±á€¬á€„á€ºá€™á€Šá€ºá‹ á€’á€®á€á€„á€ºá€á€”á€ºá€¸á€…á€¬áá€”á€±á€¬á€€á€ºá€•á€­á€¯á€„á€ºá€¸á€á€½á€„á€º á€á€„á€·á€º IoT á€…á€€á€ºá€á€Šá€º light level á€€á€­á€¯ public MQTT broker á€á€­á€¯á€· telemetry message á€á€…á€ºá€á€¯á€¡á€–á€¼á€…á€ºá€•á€­á€¯á€·á€•á€¼á€®á€¸ á€á€„á€ºá€›á€±á€¸á€™á€Šá€·á€º server code á€™á€¾ message á€€á€­á€¯á€œá€€á€ºá€á€¶á€™á€Šá€ºá‹ á€¡á€†á€­á€¯á€•á€« code á€á€Šá€º light level á€€á€­á€¯á€…á€…á€ºá€†á€±á€¸á€•á€¼á€®á€¸ LED á€€á€­á€¯á€–á€½á€„á€·á€ºá€›á€”á€º á€á€­á€¯á€·á€™á€Ÿá€¯á€á€ºá€•á€­á€á€ºá€›á€”á€º command message á€á€…á€ºá€á€¯á€€á€­á€¯á€…á€€á€ºá€á€­á€¯á€·á€•á€¼á€”á€ºá€•á€­á€¯á€·á€™á€Šá€ºá‹

á€’á€®á€œá€­á€¯ setup á€á€…á€ºá€á€¯áá€¡á€™á€¾á€”á€ºá€á€€á€šá€ºá€¡á€á€¯á€¶á€¸á€•á€¼á€¯á€™á€¾á€¯á€€á€á€±á€¬á€· stadium á€€á€²á€·á€á€­á€¯á€·á€™á€®á€¸á€™á€»á€¬á€¸á€…á€½á€¬á€›á€¾á€­á€á€±á€¬á€”á€±á€›á€¬á€á€½á€„á€º á€™á€®á€¸á€™á€»á€¬á€¸á€€á€­á€¯á€–á€½á€„á€·á€ºá€›á€”á€ºá€†á€¯á€¶á€¸á€–á€¼á€á€ºá€™á€® light sensor á€™á€»á€¬á€¸á€…á€½á€¬á€™á€¾á€’á€±á€á€¬á€€á€­á€¯á€…á€¯á€†á€±á€¬á€„á€ºá€¸á€›á€”á€ºá€–á€¼á€…á€ºá€”á€­á€¯á€„á€ºá€á€Šá€ºá‹ Sensor á€á€…á€ºá€á€¯á€á€¬á€á€­á€™á€ºá€á€­á€¯á€€á€º á€á€­á€¯á€·á€™á€Ÿá€¯á€á€ºá€„á€¾á€€á€ºá€™á€»á€¬á€¸á€€á€¼á€±á€¬á€„á€·á€ºá€¡á€œá€„á€ºá€¸á€™á€›á€›á€¾á€­á€á€²á€·á€á€±á€¬á€ºá€œá€Šá€ºá€¸ á€¡á€á€¼á€¬á€¸ sensor á€™á€»á€¬á€¸á€€á€œá€¯á€¶á€œá€±á€¬á€€á€ºá€á€±á€¬á€¡á€œá€„á€ºá€¸á€€á€­á€¯ detect á€œá€¯á€•á€ºá€”á€­á€¯á€„á€ºá€•á€«á€€ á€™á€®á€¸á€™á€»á€¬á€¸á€€á€­á€¯á€–á€½á€„á€·á€ºá€á€¼á€„á€ºá€¸á€€á€­á€¯á€á€¬á€¸á€†á€®á€¸á€”á€­á€¯á€„á€ºá€á€Šá€ºá‹

âœ… Sensor á€™á€»á€¬á€¸á€…á€½á€¬á€™á€¾á€’á€±á€á€¬á€€á€­á€¯á€…á€…á€ºá€†á€±á€¸á€•á€¼á€®á€¸ command á€™á€»á€¬á€¸á€•á€­á€¯á€·á€›á€”á€ºá€œá€­á€¯á€¡á€•á€ºá€á€±á€¬á€¡á€á€¼á€±á€¡á€”á€±á€™á€»á€¬á€¸á€˜á€¬á€á€½á€±á€œá€²?

á€’á€® assignment áá€¡á€•á€­á€¯á€„á€ºá€¸á€á€…á€ºá€á€¯á€¡á€–á€¼á€…á€º MQTT broker á€á€…á€ºá€á€¯á€€á€­á€¯ setup á€œá€¯á€•á€ºá€›á€”á€ºá€¡á€á€€á€ºá€¡á€á€²á€™á€»á€¬á€¸á€€á€­á€¯á€™á€–á€¼á€…á€ºá€…á€±á€˜á€² á€á€„á€ºá€á€Šá€º [Eclipse Mosquitto](https://www.mosquitto.org) á€€á€­á€¯ run á€œá€¯á€•á€ºá€‘á€¬á€¸á€á€±á€¬ public test server á€€á€­á€¯á€¡á€á€¯á€¶á€¸á€•á€¼á€¯á€”á€­á€¯á€„á€ºá€á€Šá€ºá‹ á€’á€® test broker á€á€Šá€º [test.mosquitto.org](https://test.mosquitto.org) á€á€½á€„á€º public á€¡á€–á€¼á€…á€ºá€›á€›á€¾á€­á€”á€­á€¯á€„á€ºá€•á€¼á€®á€¸ account setup á€œá€¯á€•á€ºá€›á€”á€ºá€™á€œá€­á€¯á€¡á€•á€ºá€•á€«áŠ MQTT client á€™á€»á€¬á€¸á€”á€¾á€„á€·á€º server á€™á€»á€¬á€¸á€€á€­á€¯á€…á€™á€ºá€¸á€á€•á€ºá€›á€”á€ºá€¡á€á€½á€€á€ºá€¡á€œá€½á€”á€ºá€€á€±á€¬á€„á€ºá€¸á€™á€½á€”á€ºá€á€±á€¬ tool á€–á€¼á€…á€ºá€á€Šá€ºá‹

> ğŸ’ á€’á€® test broker á€á€Šá€º public á€–á€¼á€…á€ºá€•á€¼á€®á€¸ secure á€™á€Ÿá€¯á€á€ºá€•á€«á‹ á€á€„á€º publish á€œá€¯á€•á€ºá€á€±á€¬á€¡á€›á€¬á€€á€­á€¯á€™á€Šá€ºá€á€°á€™á€†á€­á€¯á€”á€¬á€¸á€‘á€±á€¬á€„á€ºá€”á€­á€¯á€„á€ºá€á€±á€¬á€€á€¼á€±á€¬á€„á€·á€º private data á€™á€»á€¬á€¸á€”á€¾á€„á€·á€ºá€¡á€á€¯á€¶á€¸á€™á€•á€¼á€¯á€á€„á€·á€ºá€•á€«á‹

![Light level á€™á€»á€¬á€¸á€€á€­á€¯á€–á€á€ºá€•á€¼á€®á€¸á€…á€…á€ºá€†á€±á€¸á€á€¼á€„á€ºá€¸á€”á€¾á€„á€·á€º LED á€€á€­á€¯á€‘á€­á€”á€ºá€¸á€á€»á€¯á€•á€ºá€á€¼á€„á€ºá€¸á€€á€­á€¯á€–á€±á€¬á€ºá€•á€¼á€á€±á€¬ assignment á flow chart](../../../../../translated_images/assignment-1-internet-flow.3256feab5f052fd273bf4e331157c574c2c3fa42e479836fc9c3586f41db35a5.my.png)

á€á€„á€·á€ºá€…á€€á€ºá€€á€­á€¯ MQTT broker á€”á€¾á€„á€·á€ºá€á€»á€­á€á€ºá€†á€€á€ºá€›á€”á€ºá€¡á€±á€¬á€€á€ºá€•á€«á€¡á€†á€„á€·á€ºá€€á€­á€¯á€œá€­á€¯á€€á€ºá€”á€¬á€•á€« -

* [Arduino - Wio Terminal](wio-terminal-mqtt.md)
* [Single-board computer - Raspberry Pi/Virtual IoT device](single-board-computer-mqtt.md)

### MQTT á€€á€­á€¯á€”á€€á€ºá€”á€€á€ºá€›á€¾á€­á€¯á€„á€ºá€¸á€›á€¾á€­á€¯á€„á€ºá€¸á€œá€±á€·á€œá€¬á€•á€«

Topic á€™á€»á€¬á€¸á€á€½á€„á€º hierarchy á€›á€¾á€­á€”á€­á€¯á€„á€ºá€•á€¼á€®á€¸ client á€™á€»á€¬á€¸á€á€Šá€º wildcard á€™á€»á€¬á€¸á€€á€­á€¯á€¡á€á€¯á€¶á€¸á€•á€¼á€¯á hierarchy áá€¡á€†á€„á€·á€ºá€™á€»á€¬á€¸á€€á€­á€¯ subscribe á€œá€¯á€•á€ºá€”á€­á€¯á€„á€ºá€á€Šá€ºá‹ á€¥á€•á€™á€¬á€¡á€¬á€¸á€–á€¼á€„á€·á€º temperature telemetry message á€™á€»á€¬á€¸á€€á€­á€¯ `/telemetry/temperature` topic á€á€­á€¯á€·á€•á€­á€¯á€·á€•á€¼á€®á€¸ humidity message á€™á€»á€¬á€¸á€€á€­á€¯ `/telemetry/humidity` topic á€á€­á€¯á€·á€•á€­á€¯á€·á€”á€­á€¯á€„á€ºá€á€Šá€ºáŠ á€‘á€­á€¯á€·á€”á€±á€¬á€€á€º cloud app á€á€½á€„á€º `/telemetry/*` topic á€€á€­á€¯ subscribe á€œá€¯á€•á€ºá€•á€¼á€®á€¸ temperature á€”á€¾á€„á€·á€º humidity telemetry message á€™á€»á€¬á€¸á€”á€¾á€…á€ºá€á€¯á€œá€¯á€¶á€¸á€€á€­á€¯á€œá€€á€ºá€á€¶á€”á€­á€¯á€„á€ºá€á€Šá€ºá‹

Message á€™á€»á€¬á€¸á€€á€­á€¯ quality of service (QoS) á€–á€¼á€„á€·á€ºá€•á€­á€¯á€·á€”á€­á€¯á€„á€ºá€•á€¼á€®á€¸ message á€›á€›á€¾á€­á€›á€”á€ºá€¡á€¬á€™á€á€¶á€á€»á€€á€ºá€€á€­á€¯á€á€á€ºá€™á€¾á€á€ºá€á€Šá€ºá‹

* á€¡á€™á€»á€¬á€¸á€†á€¯á€¶á€¸á€á€…á€ºá€€á€¼á€­á€™á€º - message á€€á€­á€¯á€á€…á€ºá€€á€¼á€­á€™á€ºá€á€¬á€•á€­á€¯á€·á€•á€¼á€®á€¸ client á€”á€¾á€„á€·á€º broker á€á€Šá€º delivery á€€á€­á€¯á€¡á€á€Šá€ºá€•á€¼á€¯á€›á€”á€ºá€¡á€•á€­á€¯á€†á€±á€¬á€„á€ºá€›á€½á€€á€ºá€™á€¾á€¯á€™á€»á€¬á€¸á€™á€œá€¯á€•á€ºá€•á€« (fire and forget)á‹
* á€¡á€”á€Šá€ºá€¸á€†á€¯á€¶á€¸á€á€…á€ºá€€á€¼á€­á€™á€º - sender á€™á€¾ acknowledgement á€›á€›á€¾á€­á€á€Šá€ºá€¡á€‘á€­ message á€€á€­á€¯á€€á€¼á€­á€™á€ºá€™á€»á€¬á€¸á€…á€½á€¬á€•á€¼á€”á€ºá€œá€Šá€ºá€€á€¼á€­á€¯á€¸á€…á€¬á€¸á€•á€­á€¯á€·á€á€Šá€º (acknowledged delivery)á‹
* á€á€­á€€á€»á€…á€½á€¬á€á€…á€ºá€€á€¼á€­á€™á€º - sender á€”á€¾á€„á€·á€º receiver á€á€Šá€º message á€á€…á€ºá€á€¯á€á€¬á€›á€›á€¾á€­á€›á€”á€ºá€¡á€¬á€™á€á€¶á€›á€”á€º two-level handshake á€€á€­á€¯á€œá€¯á€•á€ºá€†á€±á€¬á€„á€ºá€á€Šá€º (assured delivery)á‹

âœ… Assured delivery message á€€á€­á€¯ fire and forget message á€¡á€…á€¬á€¸á€¡á€á€¯á€¶á€¸á€•á€¼á€¯á€›á€”á€ºá€œá€­á€¯á€¡á€•á€ºá€á€±á€¬á€¡á€á€¼á€±á€¡á€”á€±á€™á€»á€¬á€¸á€˜á€¬á€á€½á€±á€œá€²?

MQTT á€á€½á€„á€º Message Queueing á€Ÿá€¯á€¡á€™á€Šá€ºá€•á€±á€¸á€‘á€¬á€¸á€á€±á€¬á€ºá€œá€Šá€ºá€¸ á€¡á€™á€¾á€”á€ºá€á€€á€šá€º message queue á€™á€‘á€±á€¬á€€á€ºá€•á€¶á€·á€•á€«á‹ Client á€á€…á€ºá€á€¯ disconnect á€–á€¼á€…á€ºá€•á€¼á€®á€¸ reconnect á€–á€¼á€…á€ºá€•á€«á€€ disconnect á€–á€¼á€…á€ºá€…á€‰á€ºá€á€½á€„á€ºá€•á€­á€¯á€·á€‘á€¬á€¸á€á€±á€¬ message á€™á€»á€¬á€¸á€€á€­á€¯á€œá€€á€ºá€á€¶á€™á€Šá€ºá€™á€Ÿá€¯á€á€ºá€•á€«áŠ QoS process á€€á€­á€¯á€¡á€á€¯á€¶á€¸á€•á€¼á€¯á process á€œá€¯á€•á€ºá€›á€”á€º client á€á€Šá€º message á€™á€»á€¬á€¸á€€á€­á€¯á€…á€á€„á€ºá€‘á€¬á€¸á€á€±á€¬á€¡á€á€¼á€±á€¡á€”á€±á€™á€»á€¬á€¸á€™á€¾á€œá€½á€²áá€á€¬á€œá€»á€¾á€„á€º message á€™á€»á€¬á€¸á€€á€­á€¯á€œá€€á€ºá€á€¶á€”á€­á€¯á€„á€ºá€á€Šá€ºá‹ Message á€™á€»á€¬á€¸á€á€½á€„á€º retained flag á€€á€­á€¯ set á€œá€¯á€•á€ºá€”á€­á€¯á€„á€ºá€á€Šá€ºá‹ Flag á€€á€­á€¯ set á€œá€¯á€•á€ºá€‘á€¬á€¸á€•á€«á€€ MQTT broker á€á€Šá€º topic á€á€…á€ºá€á€¯á€á€½á€„á€º flag á€–á€¼á€„á€·á€ºá€•á€­á€¯á€·á€‘á€¬á€¸á€á€±á€¬á€”á€±á€¬á€€á€ºá€†á€¯á€¶á€¸ message á€€á€­á€¯á€á€­á€™á€ºá€¸á€†á€Šá€ºá€¸á€‘á€¬á€¸á€•á€¼á€®á€¸ topic á€€á€­á€¯á€”á€±á€¬á€€á€ºá€•á€­á€¯á€„á€ºá€¸ subscribe á€œá€¯á€•á€ºá€á€±á€¬ client á€™á€»á€¬á€¸á€¡á€¬á€¸á€œá€¯á€¶á€¸á€á€­á€¯á€·á€•á€­á€¯á€·á€™á€Šá€ºá‹ á€’á€®á€”á€Šá€ºá€¸á€–á€¼á€„á€·á€º client á€™á€»á€¬á€¸á€á€Šá€ºá€”á€±á€¬á€€á€ºá€†á€¯á€¶á€¸ message á€€á€­á€¯á€¡á€™á€¼á€²á€›á€›á€¾á€­á€™á€Šá€ºá‹

MQTT á€á€Šá€º message á€™á€»á€¬á€¸á€¡á€€á€¼á€¬á€¸á€€á€¼á€¬á€á€»á€­á€”á€ºá€™á€»á€¬á€¸á€€á€¼á€®á€¸á€™á€¬á€¸á€á€±á€¬á€¡á€á€« connection á€á€€á€ºá€á€™á€ºá€¸á€›á€¾á€­á€™á€›á€¾á€­á€…á€…á€ºá€†á€±á€¸á€›á€”á€º keep alive function á€€á€­á€¯á€‘á€±á€¬á€€á€ºá€•á€¶á€·á€á€Šá€ºá‹

> ğŸ¦Ÿ [Eclipse Foundation á€™á€¾ Mosquitto](https://mosquitto.org) á€á€Šá€º MQTT á€€á€­á€¯á€…á€™á€ºá€¸á€á€•á€ºá€›á€”á€ºá€á€„á€·á€ºá€€á€­á€¯á€šá€ºá€á€­á€¯á€„á€º run á€œá€¯á€•á€ºá€”á€­á€¯á€„á€ºá€á€±á€¬ free MQTT broker á€á€…á€ºá€á€¯á€”á€¾á€„á€·á€º á€á€„á€·á€º code á€€á€­á€¯á€…á€™á€ºá€¸á€á€•á€ºá€›á€”á€ºá€¡á€á€¯á€¶á€¸á€•á€¼á€¯á€”á€­á€¯á€„á€ºá€á€±á€¬ public MQTT broker á€á€…á€ºá€á€¯á€€á€­á€¯ [test.mosquitto.org](https://test.mosquitto.org) á€á€½á€„á€º host á€œá€¯á€•á€ºá€‘á€¬á€¸á€á€Šá€ºá‹

MQTT connection á€™á€»á€¬á€¸á€á€Šá€º public á€”á€¾á€„á€·á€º open á€–á€¼á€…á€ºá€”á€­á€¯á€„á€ºá€á€Šá€ºáŠ á€á€­á€¯á€·á€™á€Ÿá€¯á€á€º username á€”á€¾á€„á€·á€º password á€á€­á€¯á€·á€™á€Ÿá€¯á€á€º certificates á€€á€­á€¯á€¡á€á€¯á€¶á€¸á€•á€¼á€¯á encrypted á€”á€¾á€„á€·á€º secured á€–á€¼á€…á€ºá€”á€­á€¯á€„á€ºá€á€Šá€ºá‹

> ğŸ’ MQTT á€á€Šá€º HTTP á€”á€¾á€„á€·á€ºá€á€°á€á€±á€¬ underlying network protocol á€–á€¼á€…á€ºá€á€±á€¬ TCP/IP á€€á€­á€¯á€¡á€á€¯á€¶á€¸á€•á€¼á€¯áá€†á€€á€ºá€á€½á€šá€ºá€á€Šá€ºáŠ á€á€­á€¯á€·á€á€±á€¬á€º port á€€á€½á€²á€•á€¼á€¬á€¸á€á€Šá€ºá‹ MQTT á€€á€­á€¯ websockets á€–á€¼á€„á€·á€ºá€¡á€á€¯á€¶á€¸á€•á€¼á€¯á browser á€á€½á€„á€º run á€œá€¯á€•á€ºá€”á€±á€á€±á€¬ web app á€™á€»á€¬á€¸á€”á€¾á€„á€·á€ºá€†á€€á€ºá€á€½á€šá€ºá€”á€­á€¯á€„á€ºá€á€Šá€ºáŠ á€á€­á€¯á€·á€™á€Ÿá€¯á€á€º firewall á€á€­á€¯á€·á€™á€Ÿá€¯á€á€ºá€¡á€á€¼á€¬á€¸ networking rule á€™á€»á€¬á€¸á€€ standard MQTT connection á€™á€»á€¬á€¸á€€á€­á€¯ block á€œá€¯á€•á€ºá€á€±á€¬á€¡á€á€¼á€±á€¡á€”á€±á€™á€»á€¬á€¸á€á€½á€„á€ºá€¡á€á€¯á€¶á€¸á€•á€¼á€¯á€”á€­á€¯á€„á€ºá€á€Šá€ºá‹

## Telemetry

Telemetry á€†á€­á€¯á€á€±á€¬á€…á€€á€¬á€¸á€œá€¯á€¶á€¸á€á€Šá€º "á€á€±á€¸á€€á€½á€¬á€á€±á€¬á€”á€±á€›á€¬á€á€½á€„á€ºá€á€­á€¯á€„á€ºá€¸á€á€¬á€á€¼á€„á€ºá€¸" á€Ÿá€¯á€†á€­á€¯á€œá€­á€¯á€á€±á€¬á€‚á€›á€­á€¡á€™á€¼á€…á€ºá€™á€»á€¬á€¸á€™á€¾á€†á€„á€ºá€¸á€á€€á€ºá€œá€¬á€á€Šá€ºá‹ Telemetry á€á€Šá€º sensor á€™á€»á€¬á€¸á€™á€¾á€’á€±á€á€¬á€€á€­á€¯á€…á€¯á€†á€±á€¬á€„á€ºá€¸á€•á€¼á€®á€¸ cloud á€á€­á€¯á€·á€•á€­á€¯á€·á€á€¼á€„á€ºá€¸á€–á€¼á€…á€ºá€á€Šá€ºá‹

> ğŸ’ Telemetry device á€™á€»á€¬á€¸áá€¡á€…á€±á€¬á€†á€¯á€¶á€¸á€á€…á€ºá€á€¯á€€á€­á€¯ ááˆá‡á„ á€á€¯á€”á€¾á€…á€ºá€á€½á€„á€º á€•á€¼á€„á€ºá€á€…á€ºá€á€½á€„á€ºá€á€®á€‘á€½á€„á€ºá€á€²á€·á€•á€¼á€®á€¸ Mont Blanc á€™á€¾ Paris á€á€­á€¯á€· real-time á€›á€¬á€á€®á€¥á€á€¯á€”á€¾á€„á€·á€ºá€”á€¾á€„á€ºá€¸á€¡á€”á€€á€ºá€€á€­á€¯á€•á€­á€¯á€·á€á€²á€·á€á€Šá€ºá‹ áá€„á€ºá€¸á€á€Šá€º wireless technologies á€™á€›á€›á€¾á€­á€”á€­á€¯á€„á€ºá€á€Šá€·á€ºá€¡á€á€»á€­á€”á€ºá€á€½á€„á€º physical wires á€€á€­á€¯á€¡á€á€¯á€¶á€¸á€•á€¼á€¯á€á€²á€·á€á€Šá€ºá‹

Lesson 1 á€™á€¾ smart thermostat áá€¥á€•á€™á€¬á€€á€­á€¯á€•á€¼á€”á€ºá€œá€Šá€ºá€€á€¼á€Šá€·á€ºá€•á€«á‹

![á€¡á€á€”á€ºá€¸ sensor á€™á€»á€¬á€¸á€…á€½á€¬á€€á€­á€¯á€¡á€á€¯á€¶á€¸á€•á€¼á€¯á€á€±á€¬ Internet á€á€»á€­á€á€ºá€†á€€á€ºá€‘á€¬á€¸á€á€±á€¬ thermostat](../../../../../translated_images/telemetry.21e5d8b97649d2ebeb0f68d4b9691ab2d1f7bd629338e131465aff8a614e4d4a.my.png)

Thermostat á€á€½á€„á€º temperature sensor á€™á€»á€¬á€¸á€›á€¾á€­á€•á€¼á€®á€¸ telemetry á€€á€­á€¯á€…á€¯á€†á€±á€¬á€„á€ºá€¸á€á€Šá€ºá‹ áá€„á€ºá€¸á€á€½á€„á€º built-in temperature sensor á€á€…á€ºá€á€¯á€›á€¾á€­á€”á€­á€¯á€„á€ºá€•á€¼á€®á€¸ wireless protocol á€á€…á€ºá€á€¯á€–á€¼á€…á€ºá€á€±á€¬ [Bluetooth Low Energy](https://wikipedia.org/wiki/Bluetooth_Low_Energy) (BLE) á€€á€­á€¯á€¡á€á€¯á€¶á€¸á€•á€¼á€¯á external temperature sensor á€™á€»á€¬á€¸á€…á€½á€¬á€”á€¾á€„á€·á€ºá€á€»á€­á€á€ºá€†á€€á€ºá€”á€­á€¯á€„á€ºá€á€Šá€ºá‹

áá€„á€ºá€¸á€á€Šá€ºá€•á€­á€¯á€·á€•á€±á€¸á€”á€­á€¯á€„á€ºá€á€±á€¬ telemetry data áá€¥á€•á€™á€¬á€™á€¾á€¬ -

| Name | Value | Description |
| ---- | ----- | ----------- |
| `thermostat_temperature` | 18Â°C | Thermostat á built-in temperature sensor á€™á€¾á€á€­á€¯á€„á€ºá€¸á€á€¬á€‘á€¬á€¸á€á€±á€¬á€¡á€•á€°á€á€»á€­á€”á€º |
| `livingroom_temperature` | 19Â°C | Remote temperature sensor á€á€…á€ºá€á€¯á€™á€¾á€á€­á€¯á€„á€ºá€¸á€á€¬á€‘á€¬á€¸á€á€±á€¬á€¡á€•á€°á€á€»á€­á€”á€ºáŠ á€¡á€á€”á€ºá€¸á€€á€­á€¯á€á€á€ºá€™á€¾á€á€ºá€›á€”á€º `livingroom` á€Ÿá€¯á€¡á€™á€Šá€ºá€•á€±á€¸á€‘á€¬á€¸á€á€Šá€º |
| `bedroom_temperature` | 21Â°C | Remote temperature sensor á€á€…á€ºá€á€¯á€™á€¾á€á€­á€¯á€„á€ºá€¸á€á€¬á€‘á€¬á€¸á€á€±á€¬á€¡á€•á€°á€á€»á€­á€”á€ºáŠ á€¡á€á€”á€ºá€¸á€€á€­á€¯á€á€á€ºá€™á€¾á€á€ºá€›á€”á€º `bedroom` á€Ÿá€¯á€¡á€™á€Šá€ºá€•á€±á€¸á€‘á€¬á€¸á€á€Šá€º |

Cloud service á€á€Šá€ºá€¤ telemetry data á€€á€­á€¯á€¡á€á€¯á€¶á€¸á€•á€¼á€¯á heating á€€á€­á€¯á€‘á€­á€”á€ºá€¸á€á€»á€¯á€•á€ºá€›á€”á€ºá€•á€­á€¯á€·á€›á€”á€º command á€™á€»á€¬á€¸á€¡á€•á€±á€«á€ºá€†á€¯á€¶á€¸á€–á€¼á€á€ºá€á€»á€€á€ºá€™á€»á€¬á€¸á€€á€­á€¯á€œá€¯á€•á€ºá€†á€±á€¬á€„á€ºá€”á€­á€¯á€„á€ºá€á€Šá€ºá‹

### á€á€„á€·á€º IoT á€…á€€á€ºá€™á€¾ telemetry á€•á€­á€¯á€·á€•á€«

Internet control á€€á€­á€¯á€á€„á€·á€º nightlight á€á€½á€„á€ºá€‘á€Šá€·á€ºá€á€½á€„á€ºá€¸á€›á€”á€ºá€”á€±á€¬á€€á€ºá€‘á€•á€ºá€¡á€†á€„á€·á€ºá€™á€¾á€¬ telemetry topic á€á€½á€„á€º MQTT broker á€á€­á€¯á€· light level telemetry á€€á€­á€¯á€•á€­á€¯á€·á€á€¼á€„á€ºá€¸á€–á€¼á€…á€ºá€á€Šá€ºá‹

#### Task - á€á€„á€·á€º IoT á€…á€€á€ºá€™á€¾ telemetry á€•á€­á€¯á€·á€•á€«

Light level telemetry á€€á€­á€¯ MQTT broker á€á€­á€¯á€·á€•á€­á€¯á€·á€•á€«á‹

á€’á€±á€á€¬á€€á€­á€¯ JSON á€¡á€–á€¼á€…á€º encode á€œá€¯á€•á€ºá€•á€¼á€®á€¸á€•á€­á€¯á€·á€á€Šá€º - JavaScript Object Notation áá€¡á€á€­á€¯á€€á€±á€¬á€€á€ºá€–á€¼á€…á€ºá€•á€¼á€®á€¸ key/value pair á€™á€»á€¬á€¸á€€á€­á€¯á€¡á€á€¯á€¶á€¸á€•á€¼á€¯á text á€¡á€–á€¼á€…á€ºá€’á€±á€á€¬á€€á€­á€¯ encode á€œá€¯á€•á€ºá€›á€”á€º standard á€–á€¼á€…á€ºá€á€Šá€ºá‹

âœ… JSON á€€á€­á€¯á€™á€€á€¼á€¯á€¶á€–á€°á€¸á€•á€«á€€ [JSON.org documentation](https://www.json.org/) á€á€½á€„á€ºá€•á€­á€¯á€™á€­á€¯á€œá€±á€·á€œá€¬á€”á€­á€¯á€„á€ºá€á€Šá€ºá‹

á€á€„á€·á€ºá€…á€€á€ºá€™á€¾ MQTT broker á€á€­á€¯á€· telemetry á€•á€­á€¯á€·á€›á€”á€ºá€¡á€±á€¬á€€á€ºá€•á€«á€¡á€†á€„á€·á€ºá€€á€­á€¯á€œá€­á€¯á€€á€ºá€”á€¬á€•á€« -

* [Arduino - Wio Terminal](wio-terminal-telemetry.md)
* [Single-board computer - Raspberry Pi/Virtual IoT device](single-board-computer-
ğŸ’ á€á€„á€ºá€·á€¡á€€á€¼á€­á€¯á€€á€ºá€†á€¯á€¶á€¸ Python IDE á€á€­á€¯á€·á€™á€Ÿá€¯á€á€º editor á€€á€­á€¯ á€á€¯á€¶á€¸á€”á€­á€¯á€„á€ºá€•á€«á€á€šá€ºáŠ á€á€­á€¯á€·á€á€±á€¬á€º á€’á€®á€á€„á€ºá€á€”á€ºá€¸á€…á€¬á€á€½á€±á€™á€¾á€¬ VS Code á€€á€­á€¯ á€¡á€á€¼á€±á€á€¶á€•á€¼á€®á€¸ á€œá€™á€ºá€¸á€Šá€½á€¾á€”á€ºá€á€»á€€á€ºá€á€½á€± á€•á€±á€¸á€™á€¾á€¬ á€–á€¼á€…á€ºá€•á€«á€á€šá€ºá‹
1. VS Code Pylance extension á€€á€­á€¯ install á€œá€¯á€•á€ºá€•á€«á‹ á€’á€«á€Ÿá€¬ Python programming language á€€á€­á€¯ support á€•á€±á€¸á€á€²á€· VS Code á€¡á€á€½á€€á€º extension á€á€…á€ºá€á€¯á€–á€¼á€…á€ºá€•á€«á€á€šá€ºá‹ á€’á€® extension á€€á€­á€¯ VS Code á€™á€¾á€¬ install á€œá€¯á€•á€ºá€”á€Šá€ºá€¸á€¡á€á€½á€€á€º [Pylance extension documentation](https://marketplace.visualstudio.com/items?WT.mc_id=academic-17441-jabenn&itemName=ms-python.vscode-pylance) á€€á€­á€¯á€€á€¼á€Šá€·á€ºá€•á€«á‹

#### Python virtual environment á€€á€­á€¯ configure á€œá€¯á€•á€ºá€•á€«

Python á€›á€²á€· á€¡á€¬á€¸á€á€¬á€á€»á€€á€ºá€á€…á€ºá€á€¯á€€ [pip packages](https://pypi.org) á€á€½á€±á€€á€­á€¯ install á€œá€¯á€•á€ºá€”á€­á€¯á€„á€ºá€á€¼á€„á€ºá€¸á€–á€¼á€…á€ºá€•á€«á€á€šá€ºá‹ Pip packages á€á€½á€±á€€ á€¡á€á€¼á€¬á€¸á€á€°á€™á€»á€¬á€¸á€›á€±á€¸á€á€¬á€¸á€•á€¼á€®á€¸ á€¡á€„á€ºá€á€¬á€”á€€á€ºá€•á€±á€«á€ºá€™á€¾á€¬ publish á€œá€¯á€•á€ºá€‘á€¬á€¸á€á€²á€· code packages á€á€½á€±á€–á€¼á€…á€ºá€•á€«á€á€šá€ºá‹ Command á€á€…á€ºá€á€¯á€”á€²á€· pip package á€€á€­á€¯ computer á€™á€¾á€¬ install á€œá€¯á€•á€ºá€•á€¼á€®á€¸ code á€™á€¾á€¬á€¡á€á€¯á€¶á€¸á€•á€¼á€¯á€”á€­á€¯á€„á€ºá€•á€«á€á€šá€ºá‹ MQTT á€€á€­á€¯á€¡á€á€¯á€¶á€¸á€•á€¼á€¯á€–á€­á€¯á€· pip package á€á€…á€ºá€á€¯á€€á€­á€¯ install á€œá€¯á€•á€ºá€™á€¾á€¬á€–á€¼á€…á€ºá€•á€«á€á€šá€ºá‹

á€•á€¯á€¶á€™á€¾á€”á€ºá€¡á€¬á€¸á€–á€¼á€„á€·á€º package á€á€…á€ºá€á€¯á€€á€­á€¯ install á€œá€¯á€•á€ºá€á€²á€·á€¡á€á€«á€™á€¾á€¬ computer á€á€…á€ºá€á€¯á€œá€¯á€¶á€¸á€™á€¾á€¬á€¡á€á€¯á€¶á€¸á€•á€¼á€¯á€”á€­á€¯á€„á€ºá€•á€«á€á€šá€ºá‹ á€’á€«á€€ version conflicts á€–á€¼á€…á€ºá€…á€±á€á€á€ºá€•á€«á€á€šá€ºá‹ á€¥á€•á€™á€¬ application á€á€…á€ºá€á€¯á€€ package version á€á€…á€ºá€á€¯á€€á€­á€¯á€œá€­á€¯á€¡á€•á€ºá€•á€¼á€®á€¸ á€¡á€á€¼á€¬á€¸ application á€¡á€á€½á€€á€º version á€¡á€á€…á€ºá€€á€­á€¯ install á€œá€¯á€•á€ºá€á€²á€·á€¡á€á€«á€™á€¾á€¬ error á€–á€¼á€…á€ºá€”á€­á€¯á€„á€ºá€•á€«á€á€šá€ºá‹ á€’á€®á€•á€¼á€¿á€”á€¬á€€á€­á€¯á€›á€¾á€±á€¬á€„á€ºá€›á€¾á€¬á€¸á€–á€­á€¯á€· [Python virtual environment](https://docs.python.org/3/library/venv.html) á€€á€­á€¯á€¡á€á€¯á€¶á€¸á€•á€¼á€¯á€”á€­á€¯á€„á€ºá€•á€«á€á€šá€ºá‹ Virtual environment á€€ Python á€›á€²á€· copy á€á€…á€ºá€á€¯á€€á€­á€¯ folder á€á€…á€ºá€á€¯á€‘á€²á€™á€¾á€¬á€‘á€¬á€¸á€•á€¼á€®á€¸ pip packages á€á€½á€±á€€á€­á€¯ folder á€‘á€²á€™á€¾á€¬á€•á€² install á€œá€¯á€•á€ºá€•á€«á€á€šá€ºá‹

##### Task - Python virtual environment á€€á€­á€¯ configure á€œá€¯á€•á€ºá€•á€«

Python virtual environment á€€á€­á€¯ configure á€œá€¯á€•á€ºá€•á€¼á€®á€¸ MQTT pip packages á€á€½á€±á€€á€­á€¯ install á€œá€¯á€•á€ºá€•á€«á‹

1. Terminal á€á€­á€¯á€·á€™á€Ÿá€¯á€á€º command line á€™á€¾á€¬ á€¡á€±á€¬á€€á€ºá€•á€« command á€€á€­á€¯ run á€œá€¯á€•á€ºá€•á€¼á€®á€¸ directory á€¡á€á€…á€ºá€á€…á€ºá€á€¯á€€á€­á€¯á€–á€”á€ºá€á€®á€¸á€•á€¼á€®á€¸ navigate á€œá€¯á€•á€ºá€•á€«:

    ```sh
    mkdir nightlight-server
    cd nightlight-server
    ```

1. `.venv` folder á€‘á€²á€™á€¾á€¬ virtual environment á€á€…á€ºá€á€¯á€€á€­á€¯á€–á€”á€ºá€á€®á€¸á€–á€­á€¯á€· á€¡á€±á€¬á€€á€ºá€•á€« command á€€á€­á€¯ run á€œá€¯á€•á€ºá€•á€«:

    ```sh
    python3 -m venv .venv
    ```

    > ğŸ’ Python 2 á€€á€­á€¯ install á€œá€¯á€•á€ºá€‘á€¬á€¸á€•á€¼á€®á€¸ Python 3 á€€á€­á€¯á€œá€Šá€ºá€¸ install á€œá€¯á€•á€ºá€‘á€¬á€¸á€á€²á€·á€¡á€á€«á€™á€¾á€¬ `python3` á€€á€­á€¯ explicitly call á€œá€¯á€•á€ºá€–á€­á€¯á€·á€œá€­á€¯á€¡á€•á€ºá€•á€«á€á€šá€ºá‹ Python 2 install á€œá€¯á€•á€ºá€‘á€¬á€¸á€›á€„á€º `python` á€€á€­á€¯ call á€œá€¯á€•á€ºá€á€²á€·á€¡á€á€« Python 2 á€€á€­á€¯á€¡á€á€¯á€¶á€¸á€•á€¼á€¯á€”á€­á€¯á€„á€ºá€•á€«á€á€šá€ºá‹

1. Virtual environment á€€á€­á€¯ activate á€œá€¯á€•á€ºá€•á€«:

    * Windows á€™á€¾á€¬:
        * Command Prompt á€á€­á€¯á€·á€™á€Ÿá€¯á€á€º Windows Terminal á€™á€¾á€¬ Command Prompt á€€á€­á€¯á€¡á€á€¯á€¶á€¸á€•á€¼á€¯á€”á€±á€•á€«á€€ á€¡á€±á€¬á€€á€ºá€•á€« command á€€á€­á€¯ run á€œá€¯á€•á€ºá€•á€«:

            ```cmd
            .venv\Scripts\activate.bat
            ```

        * PowerShell á€€á€­á€¯á€¡á€á€¯á€¶á€¸á€•á€¼á€¯á€”á€±á€•á€«á€€ á€¡á€±á€¬á€€á€ºá€•á€« command á€€á€­á€¯ run á€œá€¯á€•á€ºá€•á€«:

            ```powershell
            .\.venv\Scripts\Activate.ps1
            ```

    * macOS á€á€­á€¯á€·á€™á€Ÿá€¯á€á€º Linux á€™á€¾á€¬ á€¡á€±á€¬á€€á€ºá€•á€« command á€€á€­á€¯ run á€œá€¯á€•á€ºá€•á€«:

        ```cmd
        source ./.venv/bin/activate
        ```

    > ğŸ’ á€’á€® commands á€á€½á€±á€€á€­á€¯ virtual environment á€€á€­á€¯á€–á€”á€ºá€á€®á€¸á€á€²á€·á€”á€±á€›á€¬á€™á€¾á€¬á€•á€² run á€œá€¯á€•á€ºá€•á€«á‹ `.venv` folder á€‘á€²á€€á€­á€¯ navigate á€œá€¯á€•á€ºá€–á€­á€¯á€·á€™á€œá€­á€¯á€¡á€•á€ºá€•á€«á€˜á€°á€¸á‹ Activate command á€”á€²á€· package install á€œá€¯á€•á€ºá€á€²á€· commands á€á€½á€±á€€á€­á€¯ virtual environment á€–á€”á€ºá€á€®á€¸á€á€²á€· folder á€™á€¾á€¬á€•á€² run á€œá€¯á€•á€ºá€•á€«á‹

1. Virtual environment á€€á€­á€¯ activate á€œá€¯á€•á€ºá€•á€¼á€®á€¸á€›á€„á€º default `python` command á€€ virtual environment á€–á€”á€ºá€á€®á€¸á€á€²á€· Python version á€€á€­á€¯ run á€œá€¯á€•á€ºá€•á€«á€™á€šá€ºá‹ Version á€€á€­á€¯á€…á€…á€ºá€–á€­á€¯á€· á€¡á€±á€¬á€€á€ºá€•á€« command á€€á€­á€¯ run á€œá€¯á€•á€ºá€•á€«:

    ```sh
    python --version
    ```

    Output á€€ á€¡á€±á€¬á€€á€ºá€•á€«á€¡á€á€­á€¯á€„á€ºá€¸á€–á€¼á€…á€ºá€”á€­á€¯á€„á€ºá€•á€«á€á€šá€º:

    ```output
    (.venv) âœ  nightlight-server python --version
    Python 3.9.1
    ```

    > ğŸ’ Python version á€€ á€™á€á€°á€”á€­á€¯á€„á€ºá€•á€«á€á€šá€ºá‹ Version 3.6 á€á€­á€¯á€·á€™á€Ÿá€¯á€á€ºá€¡á€‘á€€á€ºá€›á€¾á€­á€›á€„á€º á€¡á€†á€„á€ºá€•á€¼á€±á€•á€«á€á€šá€ºá‹ á€™á€›á€¾á€­á€›á€„á€º folder á€€á€­á€¯ delete á€œá€¯á€•á€ºá€•á€¼á€®á€¸ Python á€›á€²á€· version á€¡á€á€…á€ºá€€á€­á€¯ install á€œá€¯á€•á€ºá€•á€«á‹

1. [Paho-MQTT](https://pypi.org/project/paho-mqtt/) á€†á€­á€¯á€á€²á€· popular MQTT library á€€á€­á€¯ install á€œá€¯á€•á€ºá€–á€­á€¯á€· á€¡á€±á€¬á€€á€ºá€•á€« commands á€€á€­á€¯ run á€œá€¯á€•á€ºá€•á€«:

    ```sh
    pip install paho-mqtt
    ```

    Pip package á€€ virtual environment á€‘á€²á€™á€¾á€¬á€•á€² install á€œá€¯á€•á€ºá€™á€¾á€¬á€–á€¼á€…á€ºá€•á€¼á€®á€¸ á€¡á€•á€¼á€„á€ºá€™á€¾á€¬á€¡á€á€¯á€¶á€¸á€•á€¼á€¯á€œá€­á€¯á€·á€™á€›á€•á€«á€˜á€°á€¸á‹

#### Server code á€€á€­á€¯á€›á€±á€¸á€•á€«

Python language á€€á€­á€¯á€¡á€á€¯á€¶á€¸á€•á€¼á€¯á€•á€¼á€®á€¸ server code á€€á€­á€¯á€›á€±á€¸á€•á€«á‹

##### Task - Server code á€€á€­á€¯á€›á€±á€¸á€•á€«

Server code á€€á€­á€¯á€›á€±á€¸á€•á€«á‹

1. Virtual environment á€‘á€²á€™á€¾á€¬ terminal á€á€­á€¯á€·á€™á€Ÿá€¯á€á€º command line á€™á€¾á€¬ á€¡á€±á€¬á€€á€ºá€•á€« command á€€á€­á€¯ run á€œá€¯á€•á€ºá€•á€¼á€®á€¸ `app.py` á€†á€­á€¯á€á€²á€· Python file á€€á€­á€¯á€–á€”á€ºá€á€®á€¸á€•á€«:

    * Windows á€™á€¾á€¬ run á€œá€¯á€•á€ºá€•á€«:

        ```cmd
        type nul > app.py
        ```

    * macOS á€á€­á€¯á€·á€™á€Ÿá€¯á€á€º Linux á€™á€¾á€¬ run á€œá€¯á€•á€ºá€•á€«:

        ```cmd
        touch app.py
        ```

1. Current folder á€€á€­á€¯ VS Code á€™á€¾á€¬ open á€œá€¯á€•á€ºá€•á€«:

    ```sh
    code .
    ```

1. VS Code launch á€œá€¯á€•á€ºá€á€²á€·á€¡á€á€« Python virtual environment á€€á€­á€¯ activate á€œá€¯á€•á€ºá€•á€«á€™á€šá€ºá‹ Status bar á€›á€²á€·á€¡á€±á€¬á€€á€ºá€á€¼á€±á€™á€¾á€¬á€•á€¼á€•á€«á€™á€šá€º:

    ![VS Code showing the selected virtual environment](../../../../../translated_images/vscode-virtual-env.8ba42e04c3d533cf677e16cbe5ed9a3b80f62c6964472dc84b6f940800f0909f.my.png)

1. VS Code Terminal á€€ already running á€–á€¼á€…á€ºá€”á€±á€á€²á€·á€¡á€á€« virtual environment activate á€™á€–á€¼á€…á€ºá€”á€­á€¯á€„á€ºá€•á€«á€˜á€°á€¸á‹ Terminal á€€á€­á€¯ **Kill the active terminal instance** button á€€á€­á€¯á€¡á€á€¯á€¶á€¸á€•á€¼á€¯á€•á€¼á€®á€¸á€•á€­á€á€ºá€•á€«:

    ![VS Code Kill the active terminal instance button](../../../../../translated_images/vscode-kill-terminal.1cc4de7c6f25ee08f423f0ead714e61d069fac1eb2089e97b8a7bbcb3d45fe5e.my.png)

1. VS Code Terminal á€¡á€á€…á€ºá€€á€­á€¯ *Terminal -> New Terminal* á€€á€­á€¯á€›á€½á€±á€¸á€á€»á€šá€ºá€•á€« á€á€­á€¯á€·á€™á€Ÿá€¯á€á€º `` CTRL+` `` á€€á€­á€¯á€”á€¾á€­á€•á€ºá€•á€«á‹ Terminal á€¡á€á€…á€ºá€€ virtual environment á€€á€­á€¯ load á€œá€¯á€•á€ºá€•á€«á€™á€šá€ºá‹ Prompt á€™á€¾á€¬ virtual environment (`.venv`) á€›á€²á€·á€”á€¬á€™á€Šá€ºá€€á€­á€¯á€œá€Šá€ºá€¸á€•á€¼á€•á€«á€™á€šá€º:

    ```output
    âœ  nightlight-server source .venv/bin/activate
    (.venv) âœ  nightlight 
    ```

1. VS Code explorer á€™á€¾ `app.py` file á€€á€­á€¯ open á€œá€¯á€•á€ºá€•á€¼á€®á€¸ á€¡á€±á€¬á€€á€ºá€•á€« code á€€á€­á€¯á€‘á€Šá€·á€ºá€•á€«:

    ```python
    import json
    import time
    
    import paho.mqtt.client as mqtt
    
    id = '<ID>'
    
    client_telemetry_topic = id + '/telemetry'
    client_name = id + 'nightlight_server'
    
    mqtt_client = mqtt.Client(client_name)
    mqtt_client.connect('test.mosquitto.org')
    
    mqtt_client.loop_start()
    
    def handle_telemetry(client, userdata, message):
        payload = json.loads(message.payload.decode())
        print("Message received:", payload)
    
    mqtt_client.subscribe(client_telemetry_topic)
    mqtt_client.on_message = handle_telemetry
    
    while True:
        time.sleep(2)
    ```

    Line 6 á€™á€¾á€¬ `<ID>` á€€á€­á€¯ device code á€–á€”á€ºá€á€®á€¸á€á€²á€·á€¡á€á€«á€¡á€á€¯á€¶á€¸á€•á€¼á€¯á€á€²á€· unique ID á€”á€²á€·á€¡á€…á€¬á€¸á€‘á€­á€¯á€¸á€•á€«á‹

    âš ï¸ á€’á€® ID á€Ÿá€¬ device á€™á€¾á€¬á€¡á€á€¯á€¶á€¸á€•á€¼á€¯á€á€²á€· ID á€”á€²á€·á€á€°á€›á€™á€šá€ºá‹ á€™á€á€°á€›á€„á€º server code á€€ subscription á€á€­á€¯á€·á€™á€Ÿá€¯á€á€º publish á€œá€¯á€•á€ºá€á€²á€· topic á€™á€¾á€¬á€™á€›á€±á€¬á€€á€ºá€•á€«á€˜á€°á€¸á‹

    á€’á€® code á€€ unique name á€›á€²á€· MQTT client á€€á€­á€¯á€–á€”á€ºá€á€®á€¸á€•á€¼á€®á€¸ *test.mosquitto.org* broker á€€á€­á€¯ connect á€œá€¯á€•á€ºá€•á€«á€á€šá€ºá‹ Background thread á€™á€¾á€¬ messages á€á€½á€±á€€á€­á€¯ listen á€œá€¯á€•á€ºá€á€²á€· processing loop á€€á€­á€¯á€…á€á€„á€ºá€•á€«á€á€šá€ºá‹

    Client á€€ telemetry topic á€™á€¾á€¬ messages á€á€½á€±á€€á€­á€¯ subscribe á€œá€¯á€•á€ºá€•á€¼á€®á€¸ message á€›á€±á€¬á€€á€ºá€á€²á€·á€¡á€á€«á€™á€¾á€¬ function á€á€…á€ºá€á€¯á€€á€­á€¯ call á€œá€¯á€•á€ºá€•á€«á€á€šá€ºá‹ Telemetry message á€›á€±á€¬á€€á€ºá€á€²á€·á€¡á€á€« `handle_telemetry` function á€€á€­á€¯ call á€œá€¯á€•á€ºá€•á€¼á€®á€¸ console á€™á€¾á€¬ message á€€á€­á€¯ print á€œá€¯á€•á€ºá€•á€«á€á€šá€ºá‹

    á€”á€±á€¬á€€á€ºá€†á€¯á€¶á€¸á€™á€¾á€¬ infinite loop á€á€…á€ºá€á€¯á€€ application á€€á€­á€¯ run á€œá€¯á€•á€ºá€”á€±á€…á€±á€•á€«á€á€šá€ºá‹ MQTT client á€€ background thread á€™á€¾á€¬ messages á€á€½á€±á€€á€­á€¯ listen á€œá€¯á€•á€ºá€”á€±á€•á€¼á€®á€¸ main application run á€œá€¯á€•á€ºá€”á€±á€ zolang as application run á€œá€¯á€•á€ºá€”á€±á€•á€«á€á€šá€ºá‹

1. VS Code terminal á€™á€¾á€¬ Python app á€€á€­á€¯ run á€œá€¯á€•á€ºá€–á€­á€¯á€· á€¡á€±á€¬á€€á€ºá€•á€« command á€€á€­á€¯ run á€œá€¯á€•á€ºá€•á€«:

    ```sh
    python app.py
    ```

    App á€€ IoT device á€™á€¾ messages á€á€½á€±á€€á€­á€¯ listen á€œá€¯á€•á€ºá€•á€«á€™á€šá€ºá‹

1. Device á€€á€­á€¯ run á€œá€¯á€•á€ºá€•á€¼á€®á€¸ telemetry messages á€á€½á€±á€€á€­á€¯á€•á€­á€¯á€·á€•á€«á‹ Physical device á€á€­á€¯á€·á€™á€Ÿá€¯á€á€º virtual device á€›á€²á€· light levels á€€á€­á€¯ adjust á€œá€¯á€•á€ºá€•á€«á‹ Messages á€á€½á€±á€€á€­á€¯ terminal á€™á€¾á€¬ print á€œá€¯á€•á€ºá€•á€«á€™á€šá€º:

    ```output
    (.venv) âœ  nightlight-server python app.py
    Message received: {'light': 0}
    Message received: {'light': 400}
    ```

    Nightlight virtual environment á€‘á€²á€™á€¾á€¬á€›á€¾á€­á€á€²á€· app.py file á€€á€­á€¯ run á€œá€¯á€•á€ºá€‘á€¬á€¸á€›á€™á€šá€ºá‹ Nightlight-server virtual environment á€‘á€²á€™á€¾á€¬á€›á€¾á€­á€á€²á€· app.py file á€€ messages á€á€½á€±á€€á€­á€¯ receive á€œá€¯á€•á€ºá€”á€­á€¯á€„á€ºá€–á€­á€¯á€·á€¡á€á€½á€€á€ºá€•á€«á‹

> ğŸ’ á€’á€® code á€€á€­á€¯ [code-server/server](../../../../../1-getting-started/lessons/4-connect-internet/code-server/server) folder á€™á€¾á€¬á€á€½á€±á€·á€”á€­á€¯á€„á€ºá€•á€«á€á€šá€ºá‹

### Telemetry á€€á€­á€¯á€˜á€šá€ºá€”á€¾á€…á€ºá€€á€¼á€­á€™á€ºá€•á€­á€¯á€·á€á€„á€·á€ºá€œá€²?

Telemetry á€€á€­á€¯á€˜á€šá€ºá€”á€¾á€…á€ºá€€á€¼á€­á€™á€º measure á€œá€¯á€•á€ºá€•á€¼á€®á€¸ data á€€á€­á€¯á€•á€­á€¯á€·á€á€„á€·á€ºá€œá€²á€†á€­á€¯á€á€¬á€¡á€›á€±á€¸á€€á€¼á€®á€¸á€•á€«á€á€šá€ºá‹ á€¡á€–á€¼á€±á€€ - á€¡á€á€¼á€±á€¡á€”á€±á€¡á€•á€±á€«á€ºá€™á€°á€á€Šá€ºá€•á€«á€á€šá€ºá‹ Measurement frequency á€•á€­á€¯á€™á€»á€¬á€¸á€›á€„á€º data changes á€€á€­á€¯á€•á€­á€¯á€™á€¼á€”á€ºá€™á€¼á€”á€ºá€á€¯á€¶á€·á€•á€¼á€”á€ºá€”á€­á€¯á€„á€ºá€•á€±á€™á€šá€·á€º power, bandwidth, data volume, cloud resources á€…á€á€¬á€á€½á€±á€€á€­á€¯á€•á€­á€¯á€¡á€á€¯á€¶á€¸á€•á€¼á€¯á€›á€•á€«á€á€šá€ºá‹ Measurement frequency á€€á€­á€¯ balance á€œá€¯á€•á€ºá€–á€­á€¯á€·á€œá€­á€¯á€•á€«á€á€šá€ºá‹

Thermostat á€¡á€á€½á€€á€ºá€á€±á€¬á€· á€¡á€á€»á€­á€”á€ºá€¡á€”á€Šá€ºá€¸á€„á€šá€ºá€á€…á€ºá€€á€¼á€­á€™á€º measure á€œá€¯á€•á€ºá€á€¬á€œá€¯á€¶á€œá€±á€¬á€€á€ºá€•á€«á€á€šá€ºá‹ Temperature á€™á€€á€¼á€¬á€á€á€™á€•á€¼á€±á€¬á€„á€ºá€¸á€œá€²á€œá€­á€¯á€·á€•á€«á‹ á€á€…á€ºá€”á€±á€·á€á€…á€ºá€€á€¼á€­á€™á€ºá€•á€² measure á€œá€¯á€•á€ºá€›á€„á€ºá€á€±á€¬á€· á€”á€±á€·á€˜á€€á€ºá€™á€¾á€¬ temperature á€•á€¼á€±á€¬á€„á€ºá€¸á€œá€²á€™á€¾á€¯á€€á€­á€¯á€™á€á€­á€”á€­á€¯á€„á€ºá€•á€«á€˜á€°á€¸á‹ á€á€…á€ºá€…á€€á€¹á€€á€”á€·á€ºá€á€…á€ºá€€á€¼á€­á€™á€º measure á€œá€¯á€•á€ºá€›á€„á€ºá€á€±á€¬á€· data duplication á€™á€»á€¬á€¸á€•á€¼á€®á€¸ bandwidth á€”á€²á€· power á€€á€­á€¯á€¡á€œá€½á€”á€ºá€¡á€€á€»á€½á€¶á€¡á€á€¯á€¶á€¸á€•á€¼á€¯á€”á€­á€¯á€„á€ºá€•á€«á€á€šá€ºá‹

Factory machinery monitoring á€¡á€á€½á€€á€ºá€á€±á€¬á€· á€á€…á€ºá€…á€€á€¹á€€á€”á€·á€ºá€™á€¾á€¬á€¡á€€á€¼á€­á€™á€ºá€™á€»á€¬á€¸á€™á€»á€¬á€¸ measure á€œá€¯á€•á€ºá€–á€­á€¯á€·á€œá€­á€¯á€¡á€•á€ºá€”á€­á€¯á€„á€ºá€•á€«á€á€šá€ºá‹ Machinery fail á€–á€¼á€…á€ºá€›á€„á€º á€¡á€œá€½á€”á€ºá€€á€¼á€®á€¸á€™á€¬á€¸á€á€²á€·á€†á€­á€¯á€¸á€€á€»á€­á€¯á€¸á€á€½á€±á€–á€¼á€…á€ºá€”á€­á€¯á€„á€ºá€œá€­á€¯á€· bandwidth á€€á€­á€¯á€¡á€œá€½á€”á€ºá€¡á€€á€»á€½á€¶á€¡á€á€¯á€¶á€¸á€•á€¼á€¯á€›á€„á€ºá€á€±á€¬á€„á€º measurement accuracy á€€á€­á€¯á€¡á€›á€±á€¸á€‘á€¬á€¸á€›á€•á€«á€á€šá€ºá‹

> ğŸ’ á€’á€®á€¡á€á€¼á€±á€¡á€”á€±á€™á€¾á€¬ edge device á€€á€­á€¯á€¡á€á€¯á€¶á€¸á€•á€¼á€¯á€•á€¼á€®á€¸ telemetry á€€á€­á€¯ process á€œá€¯á€•á€ºá€–á€­á€¯á€·á€…á€‰á€ºá€¸á€…á€¬á€¸á€”á€­á€¯á€„á€ºá€•á€«á€á€šá€ºá‹

### Connectivity á€•á€»á€±á€¬á€€á€ºá€†á€¯á€¶á€¸á€™á€¾á€¯

Internet connection á€™á€›á€›á€¾á€­á€á€²á€·á€¡á€á€« IoT device á€€ data á€€á€­á€¯á€•á€»á€±á€¬á€€á€ºá€†á€¯á€¶á€¸á€á€½á€¬á€¸á€á€„á€·á€ºá€œá€¬á€¸áŠ connectivity á€•á€¼á€”á€ºá€›á€›á€¾á€­á€á€²á€·á€¡á€á€«á€‘á€­ data á€€á€­á€¯á€á€­á€™á€ºá€¸á€‘á€¬á€¸á€á€„á€·á€ºá€œá€¬á€¸á€†á€­á€¯á€á€¬á€¡á€›á€±á€¸á€€á€¼á€®á€¸á€•á€«á€á€šá€ºá‹

Thermostat á€¡á€á€½á€€á€ºá€á€±á€¬á€· data á€€á€­á€¯á€•á€»á€±á€¬á€€á€ºá€†á€¯á€¶á€¸á€á€½á€¬á€¸á€”á€­á€¯á€„á€ºá€•á€«á€á€šá€ºá‹ á€¡á€á€¯ temperature measurement á€€á€á€¬á€¡á€›á€±á€¸á€€á€¼á€®á€¸á€•á€«á€á€šá€ºá‹

Machinery monitoring á€¡á€á€½á€€á€ºá€á€±á€¬á€· data á€€á€­á€¯á€á€­á€™á€ºá€¸á€‘á€¬á€¸á€á€„á€·á€ºá€•á€«á€á€šá€ºá‹ Trend analysis á€á€­á€¯á€·á€™á€Ÿá€¯á€á€º anomaly detection á€¡á€á€½á€€á€º data á€¡á€¬á€¸á€œá€¯á€¶á€¸á€€á€­á€¯á€œá€­á€¯á€¡á€•á€ºá€”á€­á€¯á€„á€ºá€•á€«á€á€šá€ºá‹

IoT device designers á€á€½á€±á€€ Internet outage á€–á€¼á€…á€ºá€á€²á€·á€¡á€á€« device á€€á€­á€¯á€¡á€á€¯á€¶á€¸á€•á€¼á€¯á€”á€­á€¯á€„á€ºá€–á€­á€¯á€·á€…á€‰á€ºá€¸á€…á€¬á€¸á€á€„á€·á€ºá€•á€«á€á€šá€ºá‹ Smart thermostat á€€ cloud service á€™á€›á€›á€¾á€­á€á€²á€·á€¡á€á€«á€™á€¾á€¬á€á€±á€¬á€„á€º heating control á€€á€­á€¯á€¡á€”á€Šá€ºá€¸á€„á€šá€ºá€œá€¯á€•á€ºá€”á€­á€¯á€„á€ºá€–á€­á€¯á€·á€œá€­á€¯á€•á€«á€á€šá€ºá‹

[![Underground á€™á€¾á€¬ cell reception á€™á€›á€¾á€­á€œá€­á€¯á€· upgrade á€œá€¯á€•á€ºá€á€²á€·á€¡á€á€« bricked á€–á€¼á€…á€ºá€á€½á€¬á€¸á€á€²á€· Ferrari](../../../../../translated_images/bricked-car.dc38f8efadc6c59d76211f981a521efb300939283dee468f79503aae3ec67615.my.png)](https://twitter.com/internetofshit/status/1315736960082808832)

MQTT á€€ loss of connectivity á€€á€­á€¯ handle á€œá€¯á€•á€ºá€–á€­á€¯á€· device á€”á€²á€· server code á€€ message delivery á€€á€­á€¯ ensure á€œá€¯á€•á€ºá€–á€­á€¯á€·á€œá€­á€¯á€•á€«á€á€šá€ºá‹ Reply topic á€™á€¾á€¬ reply messages á€á€½á€±á€€á€­á€¯á€•á€­á€¯á€·á€–á€­á€¯á€·á€œá€­á€¯á€¡á€•á€ºá€•á€«á€á€šá€ºá‹ Message á€™á€›á€±á€¬á€€á€ºá€›á€„á€º queue á€‘á€²á€™á€¾á€¬á€‘á€¬á€¸á€•á€¼á€®á€¸á€”á€±á€¬á€€á€ºá€•á€­á€¯á€„á€ºá€¸ replay á€œá€¯á€•á€ºá€”á€­á€¯á€„á€ºá€–á€­á€¯á€·á€œá€­á€¯á€•á€«á€á€šá€ºá‹

## Commands

Commands á€†á€­á€¯á€á€¬ cloud á€€ device á€€á€­á€¯á€•á€­á€¯á€·á€á€²á€· message á€á€½á€±á€–á€¼á€…á€ºá€•á€¼á€®á€¸ device á€€á€­á€¯á€á€…á€ºá€á€¯á€á€¯á€œá€¯á€•á€ºá€–á€­á€¯á€·á€¡á€™á€­á€”á€·á€ºá€•á€±á€¸á€•á€«á€á€šá€ºá‹ á€¡á€™á€»á€¬á€¸á€¡á€¬á€¸á€–á€¼á€„á€·á€º actuator á€€á€­á€¯ output á€•á€±á€¸á€–á€­á€¯á€·á€¡á€™á€­á€”á€·á€ºá€•á€±á€¸á€á€¬á€–á€¼á€…á€ºá€•á€«á€á€šá€ºá‹ Device á€€á€­á€¯ reboot á€œá€¯á€•á€ºá€–á€­á€¯á€· á€á€­á€¯á€·á€™á€Ÿá€¯á€á€º telemetry data á€•á€­á€¯á€•á€±á€¸á€–á€­á€¯á€·á€¡á€™á€­á€”á€·á€ºá€•á€±á€¸á€”á€­á€¯á€„á€ºá€•á€«á€á€šá€ºá‹

![Internet connected thermostat receiving a command to turn on the heating](../../../../../translated_images/commands.d6c06bbbb3a02cce95f2831a1c331daf6dedd4e470c4aa2b0ae54f332016e504.my.png)

Thermostat á€€ cloud service á€€á€”á€± heating á€€á€­á€¯á€–á€½á€„á€·á€ºá€–á€­á€¯á€· command á€€á€­á€¯á€›á€›á€¾á€­á€”á€­á€¯á€„á€ºá€•á€«á€á€šá€ºá‹ Sensor data á€¡á€•á€±á€«á€ºá€™á€°á€á€Šá€ºá€•á€¼á€®á€¸ cloud service á€€ heating á€€á€­á€¯á€–á€½á€„á€·á€ºá€–á€­á€¯á€·á€†á€¯á€¶á€¸á€–á€¼á€á€ºá€”á€­á€¯á€„á€ºá€•á€«á€á€šá€ºá‹

### MQTT broker á€€á€­á€¯ command á€•á€­á€¯á€·á€•á€«

Internet controlled nightlight á€¡á€á€½á€€á€º server code á€€ IoT device á€€á€­á€¯ light control á€œá€¯á€•á€ºá€–á€­á€¯á€· command á€•á€­á€¯á€·á€•á€«á€™á€šá€ºá‹

1. Server code á€€á€­á€¯ VS Code á€™á€¾á€¬ open á€œá€¯á€•á€ºá€•á€«

1. `client_telemetry_topic` á€€á€­á€¯ define á€œá€¯á€•á€ºá€á€²á€·á€”á€±á€›á€¬á€™á€¾á€¬ á€¡á€±á€¬á€€á€ºá€•á€« line á€€á€­á€¯á€‘á€Šá€·á€ºá€•á€«:

    ```python
    server_command_topic = id + '/commands'
    ```

1. `handle_telemetry` function á€›á€²á€·á€¡á€†á€¯á€¶á€¸á€™á€¾á€¬ á€¡á€±á€¬á€€á€ºá€•á€« code á€€á€­á€¯á€‘á€Šá€·á€ºá€•á€«:

    ```python
    command = { 'led_on' : payload['light'] < 300 }
    print("Sending message:", command)
    
    client.publish(server_command_topic, json.dumps(command))
    ```

    á€’á€® code á€€ command topic á€€á€­á€¯ JSON message á€•á€­á€¯á€·á€•á€«á€á€šá€ºá‹ Light level 300 á€‘á€€á€ºá€”á€Šá€ºá€¸á€›á€„á€º `led_on` á€€á€­á€¯ true á€•á€­á€¯á€·á€•á€¼á€®á€¸ LED á€€á€­á€¯á€–á€½á€„á€·á€ºá€–á€­á€¯á€·á€¡á€™á€­á€”á€·á€ºá€•á€±á€¸á€•á€«á€á€šá€ºá‹

1. Code á€€á€­á€¯á€¡á€›á€„á€ºá€œá€­á€¯ run á€œá€¯á€•á€ºá€•á€«

1. Physical device á€á€­á€¯á€·á€™á€Ÿá€¯á€á€º virtual device á€›á€²á€· light levels á€€á€­á€¯ adjust á€œá€¯á€•á€ºá€•á€«á‹ Messages á€á€½á€±á€€á€­á€¯ terminal á€™á€¾á€¬ print á€œá€¯á€•á€ºá€•á€¼á€®á€¸ commands á€á€½á€±á€€á€­á€¯á€•á€­á€¯á€·á€•á€«á€™á€šá€º:

    ```output
    (.venv) âœ  nightlight-server python app.py
    Message received: {'light': 0}
    Sending message: {'led_on': True}
    Message received: {'light': 400}
    Sending message: {'led_on': False}
    ```

> ğŸ’ Telemetry á€”á€²á€· commands á€€á€­á€¯ single topic á€á€…á€ºá€á€¯á€…á€®á€™á€¾á€¬á€•á€­á€¯á€·á€•á€«á€á€šá€ºá‹ Devices á€™á€»á€¬á€¸á€…á€½á€¬á€›á€²á€· telemetry messages á€á€½á€±á€€á€­á€¯ single telemetry topic á€™á€¾á€¬á€•á€±á€«á€„á€ºá€¸á€…á€Šá€ºá€¸á€•á€¼á€®á€¸ commands messages á€á€½á€±á€€á€­á€¯ single commands topic á€™á€¾á€¬á€•á€±á€«á€„á€ºá€¸á€…á€Šá€ºá€¸á€•á€«á€á€šá€ºá‹ Specific device á€€á€­á€¯ command á€•á€­á€¯á€·á€–á€­á€¯á€· unique device id á€”á€²á€· topics á€™á€»á€¬á€¸á€…á€½á€¬á€€á€­á€¯á€¡á€á€¯á€¶á€¸á€•á€¼á€¯á€”á€­á€¯á€„á€ºá€•á€«á€á€šá€ºá‹

> ğŸ’ á€’á€® code á€€á€­á€¯ [code-commands/server](../../../../../1-getting-started/lessons/4-connect-internet/code-commands/server) folder á€™á€¾á€¬á€á€½á€±á€·á€”á€­á€¯á€„á€ºá€•á€«á€á€šá€ºá‹

### IoT device á€™á€¾á€¬ commands á€€á€­á€¯ handle á€œá€¯á€•á€ºá€•á€«

Server á€€á€”á€± commands á€•á€­á€¯á€·á€•á€¼á€®á€¸á€›á€„á€º IoT device á€™á€¾á€¬ code á€‘á€Šá€·á€ºá€•á€¼á€®á€¸ LED á€€á€­á€¯ control á€œá€¯á€•á€ºá€•á€«á‹

MQTT broker á€™á€¾á€¬ commands á€€á€­á€¯ listen á€œá€¯á€•á€ºá€–á€­á€¯á€·á€¡á€±á€¬á€€á€ºá€•á€« steps á€á€½á€±á€€á€­á€¯á€œá€­á€¯á€€á€ºá€”á€¬á€•á€«:

* [Arduino - Wio Terminal](wio-terminal-commands.md)
* [Single-board computer - Raspberry Pi/Virtual IoT device](single-board-computer-commands.md)

Code á€€á€­á€¯á€›á€±á€¸á€•á€¼á€®á€¸ run á€œá€¯á€•á€ºá€•á€¼á€®á€¸á€›á€„á€º light levels á€€á€­á€¯á€•á€¼á€±á€¬á€„á€ºá€¸á€œá€²á€•á€«á‹ Server á€”á€²á€· device á€›á€²á€· output á€€á€­á€¯á€€á€¼á€Šá€·á€ºá€•á€¼á€®á€¸ LED á€›á€²á€·á€•á€¼á€±á€¬á€„á€ºá€¸á€œá€²á€™á€¾á€¯á€€á€­á€¯á€€á€¼á€Šá€·á€ºá€•á€«á‹

### Connectivity á€•á€»á€±á€¬á€€á€ºá€†á€¯á€¶á€¸á€™á€¾á€¯

Cloud service á€€ offline á€–á€¼á€…á€ºá€”á€±á€á€²á€· IoT device á€€á€­á€¯ command á€•á€­á€¯á€·á€–á€­á€¯á€·á€œá€­á€¯á€¡á€•á€ºá€á€²á€·á€¡á€á€«á€™á€¾á€¬á€˜á€¬á€œá€¯á€•á€ºá€á€„á€·á€ºá€œá€²? á€¡á€–á€¼á€±á€€ - á€¡á€á€¼á€±á€¡á€”á€±á€¡á€•á€±á€«á€ºá€™á€°á€á€Šá€ºá€•á€«á€á€šá€ºá‹

Command á€¡á€á€…á€ºá€€ command á€¡á€Ÿá€±á€¬á€„á€ºá€¸á€€á€­á€¯ override á€œá€¯á€•á€ºá€”á€­á€¯á€„á€ºá€›á€„á€º command á€¡á€Ÿá€±á€¬á€„á€ºá€¸á€€á€­á€¯á€•á€»á€±á€¬á€€á€ºá€†á€¯á€¶á€¸á€á€½á€¬á€¸á€”á€­á€¯á€„á€ºá€•á€«á€á€šá€ºá‹ Cloud service á€€ heating á€€á€­á€¯á€–á€½á€„á€·á€ºá€–á€­á€¯á€· command á€•á€­á€¯á€·á€•á€¼á€®á€¸á€”á€±á€¬á€€á€º heating á€€á€­á€¯á€•á€­á€á€ºá€–á€­á€¯á€· command á€•á€­á€¯á€·á€›á€„á€º heating á€€á€­á€¯á€–á€½á€„á€·á€ºá€–á€­á€¯á€· command á€€á€­á€¯á€•á€»á€±á€¬á€€á€ºá€†á€¯á€¶á€¸á€á€½á€¬á€¸á€”á€­á€¯á€„á€ºá€•á€«á€á€šá€ºá‹

Commands á€á€½á€±á€€á€­á€¯ sequence á€¡á€á€­á€¯á€„á€ºá€¸ process á€œá€¯á€•á€ºá€–á€­á€¯á€·á€œá€­á€¯á€¡á€•á€ºá€›á€„á€º connectivity á€•á€¼á€”á€ºá€›á€›á€¾á€­á€á€²á€·á€¡á€á€«á€™á€¾á€¬ sequence á€¡á€á€­á€¯á€„á€ºá€¸á€•á€­á€¯á€·á€–á€­á€¯á€·á€œá€­á€¯á€•á€«á€á€šá€ºá‹

âœ… Device á€á€­á€¯á€·á€™á€Ÿá€¯á€á€º server code á€€ MQTT á€™á€¾á€¬ commands á€á€½á€±á€€á€­á€¯ sequence á€¡á€á€­á€¯á€„á€ºá€¸á€•á€­á€¯á€·á€•á€¼á€®á€¸ handle á€œá€¯á€•á€ºá€–á€­á€¯á€·á€˜á€šá€ºá€œá€­á€¯ ensure á€œá€¯á€•á€ºá€”á€­á€¯á€„á€ºá€™á€œá€²?

---

## ğŸš€ Challenge

á€”á€±á€¬á€€á€ºá€†á€¯á€¶á€¸á€á€¯á€¶á€¸á€á€¯á€á€±á€¬ lessons á€á€½á€±á€™á€¾á€¬ á€á€„á€·á€ºá€¡á€­á€™á€ºáŠ á€€á€»á€±á€¬á€„á€ºá€¸ á€á€­á€¯á€·á€™á€Ÿá€¯á€á€ºá€¡á€œá€¯á€•á€ºá€”á€±á€›á€¬á€™á€¾á€¬á€›á€¾á€­á€á€²á€· IoT devices á€á€½á€±á€€á€­á€¯ list á€œá€¯á€•á€ºá€•á€¼á€®á€¸ microcontrollers á€á€­á€¯á€·á€™á€Ÿá€¯á€á€º single-board computers á€¡á€•á€±á€«á€ºá€™á€°á€á€Šá€ºá€•á€¼á€®á€¸ sensor á€”á€²á€· actuator á€á€½á€±á€€á€­á€¯á€¡á€á€¯á€¶á€¸á€•á€¼á€¯á€”á€Šá€ºá€¸á€€á€­á€¯á€…á€‰á€ºá€¸á€…á€¬á€¸á€•á€«á‹
á€’á€®á€…á€€á€ºá€•á€…á€¹á€…á€Šá€ºá€¸á€á€½á€±á€€á€­á€¯ á€á€¯á€¶á€¸á€•á€¼á€®á€¸ á€á€°á€á€­á€¯á€·á€•á€­á€¯á€·á€”á€±á€á€²á€· á€á€á€„á€ºá€¸á€…á€€á€¬á€¸á€á€½á€±áŠ á€á€­á€¯á€·á€™á€Ÿá€¯á€á€º á€œá€€á€ºá€á€¶á€”á€±á€á€²á€· á€á€á€„á€ºá€¸á€…á€€á€¬á€¸á€á€½á€±á€€á€­á€¯ á€…á€‰á€ºá€¸á€…á€¬á€¸á€€á€¼á€Šá€·á€ºá€•á€«á‹ á€á€°á€á€­á€¯á€·á€€ á€˜á€šá€ºá€œá€­á€¯ telemetry á€•á€­á€¯á€·á€”á€±á€™á€œá€²á‹ á€á€°á€á€­á€¯á€· á€˜á€šá€ºá€œá€­á€¯ á€á€á€„á€ºá€¸á€…á€€á€¬á€¸á€á€½á€± á€á€­á€¯á€·á€™á€Ÿá€¯á€á€º á€¡á€™á€­á€”á€·á€ºá€á€½á€± á€œá€€á€ºá€á€¶á€”á€­á€¯á€„á€ºá€™á€œá€²á‹ á€á€°á€á€­á€¯á€· á€œá€¯á€¶á€á€¼á€¯á€¶á€á€šá€ºá€œá€­á€¯á€· á€á€„á€ºá€‘á€„á€ºá€•á€«á€á€œá€¬á€¸á‹

## á€™á€»á€¾á€á€±á€•á€¼á€®á€¸á€”á€±á€¬á€€á€º á€…á€…á€ºá€†á€±á€¸á€™á€±á€¸á€á€½á€”á€ºá€¸

[á€™á€»á€¾á€á€±á€•á€¼á€®á€¸á€”á€±á€¬á€€á€º á€…á€…á€ºá€†á€±á€¸á€™á€±á€¸á€á€½á€”á€ºá€¸](https://black-meadow-040d15503.1.azurestaticapps.net/quiz/8)

## á€•á€¼á€”á€ºá€œá€Šá€ºá€á€¯á€¶á€¸á€á€•á€ºá€á€¼á€„á€ºá€¸á€”á€¾á€„á€·á€º á€€á€­á€¯á€šá€ºá€á€­á€¯á€„á€ºá€œá€±á€·á€œá€¬á€á€¼á€„á€ºá€¸

[MQTT Wikipedia á€…á€¬á€™á€»á€€á€ºá€”á€¾á€¬](https://wikipedia.org/wiki/MQTT) á€á€½á€„á€º MQTT á€¡á€€á€¼á€±á€¬á€„á€ºá€¸ á€•á€­á€¯á€™á€­á€¯á€–á€á€ºá€›á€¾á€¯á€•á€«á‹

[Mosquitto](https://www.mosquitto.org) á€€á€­á€¯ á€á€¯á€¶á€¸á€•á€¼á€®á€¸ MQTT broker á€€á€­á€¯ á€€á€­á€¯á€šá€ºá€á€­á€¯á€„á€º á€…á€™á€ºá€¸á€á€•á€ºá€œá€¯á€•á€ºá€†á€±á€¬á€„á€ºá€€á€¼á€Šá€·á€ºá€•á€«áŠ á€‘á€­á€¯á€·á€”á€±á€¬á€€á€º á€á€„á€·á€º IoT á€…á€€á€ºá€•á€…á€¹á€…á€Šá€ºá€¸á€”á€¾á€„á€·á€º server code á€™á€¾á€¬ á€á€»á€­á€á€ºá€†á€€á€ºá€€á€¼á€Šá€·á€ºá€•á€«á‹

> ğŸ’ á€¡á€€á€¼á€¶á€•á€¼á€¯á€á€»á€€á€º - Mosquitto á€€ á€•á€¯á€¶á€™á€¾á€”á€ºá€¡á€¬á€¸á€–á€¼á€„á€·á€º anonymous connections (username á€”á€²á€· password á€™á€œá€­á€¯á€˜á€² á€á€»á€­á€á€ºá€†á€€á€ºá€á€¼á€„á€ºá€¸) á€™á€á€½á€„á€·á€ºá€•á€¼á€¯á€˜á€°á€¸áŠ á€”á€±á€¬á€€á€ºá€‘á€•á€º Mosquitto á€›á€¾á€­á€á€²á€· á€€á€½á€”á€ºá€•á€»á€°á€á€¬á€¡á€•á€¼á€„á€ºá€˜á€€á€ºá€€á€”á€± á€á€»á€­á€á€ºá€†á€€á€ºá€á€¬á€œá€Šá€ºá€¸ á€™á€á€½á€„á€·á€ºá€•á€¼á€¯á€˜á€°á€¸á‹
> á€’á€®á€¡á€›á€¬á€€á€­á€¯ [`mosquitto.conf` config file](https://www.mosquitto.org/man/mosquitto-conf-5.html) á€”á€²á€· á€¡á€±á€¬á€€á€ºá€•á€«á€¡á€á€­á€¯á€„á€ºá€¸ á€•á€¼á€„á€ºá€†á€„á€ºá€”á€­á€¯á€„á€ºá€•á€«á€á€šá€ºá‹
>
> ```sh
> listener 1883 0.0.0.0
> allow_anonymous true
> ```

## á€œá€¯á€•á€ºá€„á€”á€ºá€¸á€á€¬á€á€”á€º

[MQTT á€€á€­á€¯ á€¡á€á€¼á€¬á€¸á€†á€€á€ºá€á€½á€šá€ºá€›á€±á€¸ á€•á€›á€­á€¯á€á€­á€¯á€€á€±á€¬á€™á€»á€¬á€¸á€”á€¾á€„á€·á€º á€”á€¾á€­á€¯á€„á€ºá€¸á€šá€¾á€‰á€ºá€•á€«](assignment.md)

---

**á€¡á€€á€¼á€±á€¬á€„á€ºá€¸á€€á€¼á€¬á€¸á€á€»á€€á€º**:  
á€¤á€…á€¬á€›á€½á€€á€ºá€…á€¬á€á€™á€ºá€¸á€€á€­á€¯ AI á€˜á€¬á€á€¬á€•á€¼á€”á€ºá€á€”á€ºá€†á€±á€¬á€„á€ºá€™á€¾á€¯ [Co-op Translator](https://github.com/Azure/co-op-translator) á€€á€­á€¯ á€¡á€á€¯á€¶á€¸á€•á€¼á€¯á á€˜á€¬á€á€¬á€•á€¼á€”á€ºá€‘á€¬á€¸á€•á€«á€á€Šá€ºá‹ á€€á€»á€½á€”á€ºá€¯á€•á€ºá€á€­á€¯á€·á€á€Šá€º á€á€­á€€á€»á€™á€¾á€¯á€¡á€á€½á€€á€º á€€á€¼á€­á€¯á€¸á€…á€¬á€¸á€”á€±á€á€±á€¬á€ºá€œá€Šá€ºá€¸áŠ á€¡á€œá€­á€¯á€¡á€œá€»á€±á€¬á€€á€º á€˜á€¬á€á€¬á€•á€¼á€”á€ºá€™á€¾á€¯á€™á€»á€¬á€¸á€á€½á€„á€º á€¡á€™á€¾á€¬á€¸á€™á€»á€¬á€¸ á€á€­á€¯á€·á€™á€Ÿá€¯á€á€º á€™á€á€­á€€á€»á€™á€¾á€¯á€™á€»á€¬á€¸ á€•á€«á€á€„á€ºá€”á€­á€¯á€„á€ºá€á€Šá€ºá€€á€­á€¯ á€á€á€­á€•á€¼á€¯á€•á€«á‹ á€™á€°á€›á€„á€ºá€¸á€…á€¬á€›á€½á€€á€ºá€…á€¬á€á€™á€ºá€¸á€€á€­á€¯ áá€„á€ºá€¸á á€™á€°á€›á€„á€ºá€¸á€˜á€¬á€á€¬á€…á€€á€¬á€¸á€–á€¼á€„á€·á€º á€¡á€¬á€á€¬á€á€›á€¬á€¸á€›á€¾á€­á€á€±á€¬ á€¡á€›á€„á€ºá€¸á€¡á€™á€¼á€…á€ºá€¡á€–á€¼á€…á€º á€›á€¾á€¯á€œá€±á€·á€œá€¬á€á€„á€·á€ºá€•á€«á€á€Šá€ºá‹ á€¡á€›á€±á€¸á€€á€¼á€®á€¸á€á€±á€¬ á€¡á€á€»á€€á€ºá€¡á€œá€€á€ºá€™á€»á€¬á€¸á€¡á€á€½á€€á€º á€œá€°á€€ á€˜á€¬á€á€¬á€•á€¼á€”á€ºá€™á€¾á€¯ á€á€”á€ºá€†á€±á€¬á€„á€ºá€™á€¾á€¯á€€á€­á€¯ á€¡á€á€¯á€¶á€¸á€•á€¼á€¯á€›á€”á€º á€¡á€€á€¼á€¶á€•á€¼á€¯á€•á€«á€á€Šá€ºá‹ á€¤á€˜á€¬á€á€¬á€•á€¼á€”á€ºá€™á€¾á€¯á€€á€­á€¯ á€¡á€á€¯á€¶á€¸á€•á€¼á€¯á€á€¼á€„á€ºá€¸á€™á€¾ á€–á€¼á€…á€ºá€•á€±á€«á€ºá€œá€¬á€á€±á€¬ á€¡á€œá€½á€²á€¡á€œá€½á€á€ºá€™á€»á€¬á€¸ á€á€­á€¯á€·á€™á€Ÿá€¯á€á€º á€¡á€”á€¬á€¸á€œá€½á€²á€™á€¾á€¯á€™á€»á€¬á€¸á€¡á€á€½á€€á€º á€€á€»á€½á€”á€ºá€¯á€•á€ºá€á€­á€¯á€·á€á€Šá€º á€á€¬á€á€”á€ºá€™á€šá€°á€•á€«á‹