<!--
CO_OP_TRANSLATOR_METADATA:
{
  "original_hash": "af249a24d4fe4f4de4806adbc3bc9d86",
  "translation_date": "2025-08-28T16:30:00+00:00",
  "source_file": "6-consumer/lessons/1-speech-recognition/pi-speech-to-text.md",
  "language_code": "uk"
}
-->
# –ü–µ—Ä–µ—Ç–≤–æ—Ä–µ–Ω–Ω—è –º–æ–≤–∏ –≤ —Ç–µ–∫—Å—Ç - Raspberry Pi

–£ —Ü—ñ–π —á–∞—Å—Ç–∏–Ω—ñ —É—Ä–æ–∫—É –≤–∏ –Ω–∞–ø–∏—à–µ—Ç–µ –∫–æ–¥ –¥–ª—è –ø–µ—Ä–µ—Ç–≤–æ—Ä–µ–Ω–Ω—è –º–æ–≤–∏ —ñ–∑ –∑–∞–ø–∏—Å–∞–Ω–æ–≥–æ –∞—É–¥—ñ–æ –≤ —Ç–µ–∫—Å—Ç –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é –º–æ–≤–Ω–æ–≥–æ —Å–µ—Ä–≤—ñ—Å—É.

## –ù–∞–¥—Å–∏–ª–∞–Ω–Ω—è –∞—É–¥—ñ–æ –¥–æ –º–æ–≤–Ω–æ–≥–æ —Å–µ—Ä–≤—ñ—Å—É

–ê—É–¥—ñ–æ –º–æ–∂–Ω–∞ –Ω–∞–¥—ñ—Å–ª–∞—Ç–∏ –¥–æ –º–æ–≤–Ω–æ–≥–æ —Å–µ—Ä–≤—ñ—Å—É –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é REST API. –©–æ–± –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –º–æ–≤–Ω–∏–π —Å–µ—Ä–≤—ñ—Å, —Å–ø–æ—á–∞—Ç–∫—É –ø–æ—Ç—Ä—ñ–±–Ω–æ –æ—Ç—Ä–∏–º–∞—Ç–∏ —Ç–æ–∫–µ–Ω –¥–æ—Å—Ç—É–ø—É, –∞ –ø–æ—Ç—ñ–º –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ —Ü–µ–π —Ç–æ–∫–µ–Ω –¥–ª—è –¥–æ—Å—Ç—É–ø—É –¥–æ REST API. –¶—ñ —Ç–æ–∫–µ–Ω–∏ –¥–æ—Å—Ç—É–ø—É –º–∞—é—Ç—å —Ç–µ—Ä–º—ñ–Ω –¥—ñ—ó 10 —Ö–≤–∏–ª–∏–Ω, —Ç–æ–º—É –≤–∞—à –∫–æ–¥ –ø–æ–≤–∏–Ω–µ–Ω —Ä–µ–≥—É–ª—è—Ä–Ω–æ –∑–∞–ø–∏—Ç—É–≤–∞—Ç–∏ —ó—Ö, —â–æ–± –∑–∞–±–µ–∑–ø–µ—á–∏—Ç–∏ —ó—Ö–Ω—é –∞–∫—Ç—É–∞–ª—å–Ω—ñ—Å—Ç—å.

### –ó–∞–≤–¥–∞–Ω–Ω—è - –æ—Ç—Ä–∏–º–∞–Ω–Ω—è —Ç–æ–∫–µ–Ω–∞ –¥–æ—Å—Ç—É–ø—É

1. –í—ñ–¥–∫—Ä–∏–π—Ç–µ –ø—Ä–æ—î–∫—Ç `smart-timer` –Ω–∞ –≤–∞—à–æ–º—É Raspberry Pi.

1. –í–∏–¥–∞–ª—ñ—Ç—å —Ñ—É–Ω–∫—Ü—ñ—é `play_audio`. –í–æ–Ω–∞ –±—ñ–ª—å—à–µ –Ω–µ –ø–æ—Ç—Ä—ñ–±–Ω–∞, –æ—Å–∫—ñ–ª—å–∫–∏ –≤–∏ –Ω–µ —Ö–æ—á–µ—Ç–µ, —â–æ–± —Ä–æ–∑—É–º–Ω–∏–π —Ç–∞–π–º–µ—Ä –ø–æ–≤—Ç–æ—Ä—é–≤–∞–≤ —Ç–µ, —â–æ –≤–∏ —Å–∫–∞–∑–∞–ª–∏.

1. –î–æ–¥–∞–π—Ç–µ –Ω–∞—Å—Ç—É–ø–Ω–∏–π —ñ–º–ø–æ—Ä—Ç –Ω–∞ –ø–æ—á–∞—Ç–æ–∫ —Ñ–∞–π–ª—É `app.py`:

    ```python
    import requests
    ```

1. –î–æ–¥–∞–π—Ç–µ –Ω–∞—Å—Ç—É–ø–Ω–∏–π –∫–æ–¥ –ø–µ—Ä–µ–¥ —Ü–∏–∫–ª–æ–º `while True`, —â–æ–± –æ–≥–æ–ª–æ—Å–∏—Ç–∏ –¥–µ—è–∫—ñ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –¥–ª—è –º–æ–≤–Ω–æ–≥–æ —Å–µ—Ä–≤—ñ—Å—É:

    ```python
    speech_api_key = '<key>'
    location = '<location>'
    language = '<language>'
    ```

    –ó–∞–º—ñ–Ω—ñ—Ç—å `<key>` –Ω–∞ API-–∫–ª—é—á –≤–∞—à–æ–≥–æ —Ä–µ—Å—É—Ä—Å—É –º–æ–≤–Ω–æ–≥–æ —Å–µ—Ä–≤—ñ—Å—É. –ó–∞–º—ñ–Ω—ñ—Ç—å `<location>` –Ω–∞ —Ä–æ–∑—Ç–∞—à—É–≤–∞–Ω–Ω—è, —è–∫–µ –≤–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞–ª–∏ –ø—ñ–¥ —á–∞—Å —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è —Ä–µ—Å—É—Ä—Å—É –º–æ–≤–Ω–æ–≥–æ —Å–µ—Ä–≤—ñ—Å—É.

    –ó–∞–º—ñ–Ω—ñ—Ç—å `<language>` –Ω–∞ –Ω–∞–∑–≤—É –ª–æ–∫–∞–ª—ñ –º–æ–≤–∏, —è–∫–æ—é –≤–∏ –±—É–¥–µ—Ç–µ –≥–æ–≤–æ—Ä–∏—Ç–∏, –Ω–∞–ø—Ä–∏–∫–ª–∞–¥, `en-GB` –¥–ª—è –∞–Ω–≥–ª—ñ–π—Å—å–∫–æ—ó –∞–±–æ `zn-HK` –¥–ª—è –∫–∞–Ω—Ç–æ–Ω—Å—å–∫–æ—ó. –í–∏ –º–æ–∂–µ—Ç–µ –∑–Ω–∞–π—Ç–∏ —Å–ø–∏—Å–æ–∫ –ø—ñ–¥—Ç—Ä–∏–º—É–≤–∞–Ω–∏—Ö –º–æ–≤ —ñ —ó—Ö–Ω—ñ—Ö –Ω–∞–∑–≤ –ª–æ–∫–∞–ª–µ–π —É [–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—ó –ø—Ä–æ –ø—ñ–¥—Ç—Ä–∏–º–∫—É –º–æ–≤ —ñ –≥–æ–ª–æ—Å—ñ–≤ –Ω–∞ Microsoft Docs](https://docs.microsoft.com/azure/cognitive-services/speech-service/language-support?WT.mc_id=academic-17441-jabenn#speech-to-text).

1. –ù–∏–∂—á–µ —Ü—å–æ–≥–æ –¥–æ–¥–∞–π—Ç–µ –Ω–∞—Å—Ç—É–ø–Ω—É —Ñ—É–Ω–∫—Ü—ñ—é –¥–ª—è –æ—Ç—Ä–∏–º–∞–Ω–Ω—è —Ç–æ–∫–µ–Ω–∞ –¥–æ—Å—Ç—É–ø—É:

    ```python
    def get_access_token():
        headers = {
            'Ocp-Apim-Subscription-Key': speech_api_key
        }
    
        token_endpoint = f'https://{location}.api.cognitive.microsoft.com/sts/v1.0/issuetoken'
        response = requests.post(token_endpoint, headers=headers)
        return str(response.text)
    ```

    –¶—è —Ñ—É–Ω–∫—Ü—ñ—è –≤–∏–∫–ª–∏–∫–∞—î –∫—ñ–Ω—Ü–µ–≤—É —Ç–æ—á–∫—É –≤–∏–¥–∞—á—ñ —Ç–æ–∫–µ–Ω—ñ–≤, –ø–µ—Ä–µ–¥–∞—é—á–∏ API-–∫–ª—é—á —É –∑–∞–≥–æ–ª–æ–≤–∫—É. –í–∏–∫–ª–∏–∫ –ø–æ–≤–µ—Ä—Ç–∞—î —Ç–æ–∫–µ–Ω –¥–æ—Å—Ç—É–ø—É, —è–∫–∏–π –º–æ–∂–Ω–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –¥–ª—è –≤–∏–∫–ª–∏–∫—É –º–æ–≤–Ω–∏—Ö —Å–µ—Ä–≤—ñ—Å—ñ–≤.

1. –ù–∏–∂—á–µ —Ü—å–æ–≥–æ –æ–≥–æ–ª–æ—Å—ñ—Ç—å —Ñ—É–Ω–∫—Ü—ñ—é –¥–ª—è –ø–µ—Ä–µ—Ç–≤–æ—Ä–µ–Ω–Ω—è –º–æ–≤–∏ —ñ–∑ –∑–∞–ø–∏—Å–∞–Ω–æ–≥–æ –∞—É–¥—ñ–æ –≤ —Ç–µ–∫—Å—Ç –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é REST API:

    ```python
    def convert_speech_to_text(buffer):
    ```

1. –£ —Ü—ñ–π —Ñ—É–Ω–∫—Ü—ñ—ó –Ω–∞–ª–∞—à—Ç—É–π—Ç–µ URL REST API —Ç–∞ –∑–∞–≥–æ–ª–æ–≤–∫–∏:

    ```python
    url = f'https://{location}.stt.speech.microsoft.com/speech/recognition/conversation/cognitiveservices/v1'

    headers = {
        'Authorization': 'Bearer ' + get_access_token(),
        'Content-Type': f'audio/wav; codecs=audio/pcm; samplerate={rate}',
        'Accept': 'application/json;text/xml'
    }

    params = {
        'language': language
    }
    ```

    –¶–µ–π –∫–æ–¥ —Å—Ç–≤–æ—Ä—é—î URL, –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—á–∏ —Ä–æ–∑—Ç–∞—à—É–≤–∞–Ω–Ω—è —Ä–µ—Å—É—Ä—Å—É –º–æ–≤–Ω–æ–≥–æ —Å–µ—Ä–≤—ñ—Å—É. –ü–æ—Ç—ñ–º –≤—ñ–Ω –∑–∞–ø–æ–≤–Ω—é—î –∑–∞–≥–æ–ª–æ–≤–∫–∏ —Ç–æ–∫–µ–Ω–æ–º –¥–æ—Å—Ç—É–ø—É –∑ —Ñ—É–Ω–∫—Ü—ñ—ó `get_access_token`, –∞ —Ç–∞–∫–æ–∂ —á–∞—Å—Ç–æ—Ç–æ—é –¥–∏—Å–∫—Ä–µ—Ç–∏–∑–∞—Ü—ñ—ó, —è–∫–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –¥–ª—è –∑–∞–ø–∏—Å—É –∞—É–¥—ñ–æ. –ù–∞—Ä–µ—à—Ç—ñ, –≤—ñ–Ω –≤–∏–∑–Ω–∞—á–∞—î –¥–µ—è–∫—ñ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏, —è–∫—ñ –ø–µ—Ä–µ–¥–∞—é—Ç—å—Å—è —Ä–∞–∑–æ–º —ñ–∑ URL —ñ –º—ñ—Å—Ç—è—Ç—å –º–æ–≤—É –∞—É–¥—ñ–æ.

1. –ù–∏–∂—á–µ —Ü—å–æ–≥–æ –¥–æ–¥–∞–π—Ç–µ –Ω–∞—Å—Ç—É–ø–Ω–∏–π –∫–æ–¥ –¥–ª—è –≤–∏–∫–ª–∏–∫—É REST API —Ç–∞ –æ—Ç—Ä–∏–º–∞–Ω–Ω—è —Ç–µ–∫—Å—Ç—É:

    ```python
    response = requests.post(url, headers=headers, params=params, data=buffer)
    response_json = response.json()

    if response_json['RecognitionStatus'] == 'Success':
        return response_json['DisplayText']
    else:
        return ''
    ```

    –¶–µ–π –∫–æ–¥ –≤–∏–∫–ª–∏–∫–∞—î URL —ñ –¥–µ–∫–æ–¥—É—î –∑–Ω–∞—á–µ–Ω–Ω—è JSON, —è–∫–µ –ø—Ä–∏—Ö–æ–¥–∏—Ç—å —É –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ. –ó–Ω–∞—á–µ–Ω–Ω—è `RecognitionStatus` —É –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ –≤–∫–∞–∑—É—î, —á–∏ –≤–¥–∞–ª–æ—Å—è –≤–∏–∫–ª–∏–∫—É —É—Å–ø—ñ—à–Ω–æ –ø–µ—Ä–µ—Ç–≤–æ—Ä–∏—Ç–∏ –º–æ–≤—É –≤ —Ç–µ–∫—Å—Ç, —ñ —è–∫—â–æ —Ü–µ `Success`, —Ç–æ —Ç–µ–∫—Å—Ç –ø–æ–≤–µ—Ä—Ç–∞—î—Ç—å—Å—è –∑ —Ñ—É–Ω–∫—Ü—ñ—ó, —ñ–Ω–∞–∫—à–µ –ø–æ–≤–µ—Ä—Ç–∞—î—Ç—å—Å—è –ø–æ—Ä–æ–∂–Ω—ñ–π —Ä—è–¥–æ–∫.

1. –ü–µ—Ä–µ–¥ —Ü–∏–∫–ª–æ–º `while True:` –≤–∏–∑–Ω–∞—á—Ç–µ —Ñ—É–Ω–∫—Ü—ñ—é –¥–ª—è –æ–±—Ä–æ–±–∫–∏ —Ç–µ–∫—Å—Ç—É, –æ—Ç—Ä–∏–º–∞–Ω–æ–≥–æ –≤—ñ–¥ —Å–µ—Ä–≤—ñ—Å—É –ø–µ—Ä–µ—Ç–≤–æ—Ä–µ–Ω–Ω—è –º–æ–≤–∏ –≤ —Ç–µ–∫—Å—Ç. –¶—è —Ñ—É–Ω–∫—Ü—ñ—è –ø–æ–∫–∏ —â–æ –ø—Ä–æ—Å—Ç–æ –≤–∏–≤–æ–¥–∏—Ç–∏–º–µ —Ç–µ–∫—Å—Ç —É –∫–æ–Ω—Å–æ–ª—å.

    ```python
    def process_text(text):
        print(text)
    ```

1. –ù–∞—Ä–µ—à—Ç—ñ, –∑–∞–º—ñ–Ω—ñ—Ç—å –≤–∏–∫–ª–∏–∫ `play_audio` —É —Ü–∏–∫–ª—ñ `while True` –Ω–∞ –≤–∏–∫–ª–∏–∫ —Ñ—É–Ω–∫—Ü—ñ—ó `convert_speech_to_text`, –ø–µ—Ä–µ–¥–∞—é—á–∏ —Ç–µ–∫—Å—Ç —É —Ñ—É–Ω–∫—Ü—ñ—é `process_text`:

    ```python
    text = convert_speech_to_text(buffer)
    process_text(text)
    ```

1. –ó–∞–ø—É—Å—Ç—ñ—Ç—å –∫–æ–¥. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å –∫–Ω–æ–ø–∫—É —ñ –≥–æ–≤–æ—Ä—ñ—Ç—å —É –º—ñ–∫—Ä–æ—Ñ–æ–Ω. –í—ñ–¥–ø—É—Å—Ç—ñ—Ç—å –∫–Ω–æ–ø–∫—É, –∫–æ–ª–∏ –∑–∞–∫—ñ–Ω—á–∏—Ç–µ, —ñ –∞—É–¥—ñ–æ –±—É–¥–µ –ø–µ—Ä–µ—Ç–≤–æ—Ä–µ–Ω–æ –≤ —Ç–µ–∫—Å—Ç —ñ –≤–∏–≤–µ–¥–µ–Ω–æ –≤ –∫–æ–Ω—Å–æ–ª—å.

    ```output
    pi@raspberrypi:~/smart-timer $ python3 app.py 
    Hello world.
    Welcome to IoT for beginners.
    ```

    –°–ø—Ä–æ–±—É–π—Ç–µ —Ä—ñ–∑–Ω—ñ —Ç–∏–ø–∏ —Ä–µ—á–µ–Ω—å, –∞ —Ç–∞–∫–æ–∂ —Ä–µ—á–µ–Ω–Ω—è, –¥–µ —Å–ª–æ–≤–∞ –∑–≤—É—á–∞—Ç—å –æ–¥–Ω–∞–∫–æ–≤–æ, –∞–ª–µ –º–∞—é—Ç—å —Ä—ñ–∑–Ω—ñ –∑–Ω–∞—á–µ–Ω–Ω—è. –ù–∞–ø—Ä–∏–∫–ª–∞–¥, —è–∫—â–æ –≤–∏ –≥–æ–≤–æ—Ä–∏—Ç–µ –∞–Ω–≥–ª—ñ–π—Å—å–∫–æ—é, —Å–∫–∞–∂—ñ—Ç—å "I want to buy two bananas and an apple too" —ñ –∑–≤–µ—Ä–Ω—ñ—Ç—å —É–≤–∞–≥—É, —è–∫ —Å–µ—Ä–≤—ñ—Å –ø—Ä–∞–≤–∏–ª—å–Ω–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î "to", "two" —ñ "too" –∑–∞–ª–µ–∂–Ω–æ –≤—ñ–¥ –∫–æ–Ω—Ç–µ–∫—Å—Ç—É —Å–ª–æ–≤–∞, –∞ –Ω–µ –ª–∏—à–µ –π–æ–≥–æ –∑–≤—É—á–∞–Ω–Ω—è.

> üíÅ –í–∏ –º–æ–∂–µ—Ç–µ –∑–Ω–∞–π—Ç–∏ —Ü–µ–π –∫–æ–¥ —É –ø–∞–ø—Ü—ñ [code-speech-to-text/pi](../../../../../6-consumer/lessons/1-speech-recognition/code-speech-to-text/pi).

üòÄ –í–∞—à–µ –ø—Ä–æ–≥—Ä–∞–º–Ω–µ –∑–∞–±–µ–∑–ø–µ—á–µ–Ω–Ω—è –¥–ª—è –ø–µ—Ä–µ—Ç–≤–æ—Ä–µ–Ω–Ω—è –º–æ–≤–∏ –≤ —Ç–µ–∫—Å—Ç –ø—Ä–∞—Ü—é—î —É—Å–ø—ñ—à–Ω–æ!

---

**–í—ñ–¥–º–æ–≤–∞ –≤—ñ–¥ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞–ª—å–Ω–æ—Å—Ç—ñ**:  
–¶–µ–π –¥–æ–∫—É–º–µ–Ω—Ç –±—É–≤ –ø–µ—Ä–µ–∫–ª–∞–¥–µ–Ω–∏–π –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é —Å–µ—Ä–≤—ñ—Å—É –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ–≥–æ –ø–µ—Ä–µ–∫–ª–∞–¥—É [Co-op Translator](https://github.com/Azure/co-op-translator). –•–æ—á–∞ –º–∏ –ø—Ä–∞–≥–Ω–µ–º–æ –¥–æ —Ç–æ—á–Ω–æ—Å—Ç—ñ, –±—É–¥—å –ª–∞—Å–∫–∞, –º–∞–π—Ç–µ –Ω–∞ —É–≤–∞–∑—ñ, —â–æ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–æ–≤–∞–Ω—ñ –ø–µ—Ä–µ–∫–ª–∞–¥–∏ –º–æ–∂—É—Ç—å –º—ñ—Å—Ç–∏—Ç–∏ –ø–æ–º–∏–ª–∫–∏ –∞–±–æ –Ω–µ—Ç–æ—á–Ω–æ—Å—Ç—ñ. –û—Ä–∏–≥—ñ–Ω–∞–ª—å–Ω–∏–π –¥–æ–∫—É–º–µ–Ω—Ç –Ω–∞ –π–æ–≥–æ —Ä—ñ–¥–Ω—ñ–π –º–æ–≤—ñ —Å–ª—ñ–¥ –≤–≤–∞–∂–∞—Ç–∏ –∞–≤—Ç–æ—Ä–∏—Ç–µ—Ç–Ω–∏–º –¥–∂–µ—Ä–µ–ª–æ–º. –î–ª—è –∫—Ä–∏—Ç–∏—á–Ω–æ—ó —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—ó —Ä–µ–∫–æ–º–µ–Ω–¥—É—î—Ç—å—Å—è –ø—Ä–æ—Ñ–µ—Å—ñ–π–Ω–∏–π –ª—é–¥—Å—å–∫–∏–π –ø–µ—Ä–µ–∫–ª–∞–¥. –ú–∏ –Ω–µ –Ω–µ—Å–µ–º–æ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞–ª—å–Ω–æ—Å—Ç—ñ –∑–∞ –±—É–¥—å-—è–∫—ñ –Ω–µ–ø–æ—Ä–æ–∑—É–º—ñ–Ω–Ω—è –∞–±–æ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ñ —Ç–ª—É–º–∞—á–µ–Ω–Ω—è, —â–æ –≤–∏–Ω–∏–∫–∞—é—Ç—å –≤–Ω–∞—Å–ª—ñ–¥–æ–∫ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è —Ü—å–æ–≥–æ –ø–µ—Ä–µ–∫–ª–∞–¥—É.