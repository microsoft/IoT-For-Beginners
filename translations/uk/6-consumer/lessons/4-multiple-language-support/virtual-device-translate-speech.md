<!--
CO_OP_TRANSLATOR_METADATA:
{
  "original_hash": "d620a470d9dd8614d99824832978360a",
  "translation_date": "2025-08-28T16:39:05+00:00",
  "source_file": "6-consumer/lessons/4-multiple-language-support/virtual-device-translate-speech.md",
  "language_code": "uk"
}
-->
# –ü–µ—Ä–µ–∫–ª–∞–¥ –º–æ–≤–ª–µ–Ω–Ω—è - –í—ñ—Ä—Ç—É–∞–ª—å–Ω–∏–π IoT-–ø—Ä–∏—Å—Ç—Ä—ñ–π

–£ —Ü—ñ–π —á–∞—Å—Ç–∏–Ω—ñ —É—Ä–æ–∫—É –≤–∏ –Ω–∞–ø–∏—à–µ—Ç–µ –∫–æ–¥ –¥–ª—è –ø–µ—Ä–µ–∫–ª–∞–¥—É –º–æ–≤–ª–µ–Ω–Ω—è –ø—Ä–∏ –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü—ñ—ó –≤ —Ç–µ–∫—Å—Ç –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é —Å–ª—É–∂–±–∏ –º–æ–≤–ª–µ–Ω–Ω—è, –∞ –ø–æ—Ç—ñ–º –ø–µ—Ä–µ–∫–ª–∞–¥–µ—Ç–µ —Ç–µ–∫—Å—Ç –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é —Å–ª—É–∂–±–∏ Translator –ø–µ—Ä–µ–¥ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è–º –æ–∑–≤—É—á–µ–Ω–æ—ó –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ.

## –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è —Å–ª—É–∂–±–∏ –º–æ–≤–ª–µ–Ω–Ω—è –¥–ª—è –ø–µ—Ä–µ–∫–ª–∞–¥—É –º–æ–≤–ª–µ–Ω–Ω—è

–°–ª—É–∂–±–∞ –º–æ–≤–ª–µ–Ω–Ω—è –º–æ–∂–µ –Ω–µ –ª–∏—à–µ –∫–æ–Ω–≤–µ—Ä—Ç—É–≤–∞—Ç–∏ –º–æ–≤–ª–µ–Ω–Ω—è –≤ —Ç–µ–∫—Å—Ç —Ç—ñ—î—é –∂ –º–æ–≤–æ—é, –∞–ª–µ –π –ø–µ—Ä–µ–∫–ª–∞–¥–∞—Ç–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –Ω–∞ —ñ–Ω—à—ñ –º–æ–≤–∏.

### –ó–∞–≤–¥–∞–Ω–Ω—è - –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è —Å–ª—É–∂–±–∏ –º–æ–≤–ª–µ–Ω–Ω—è –¥–ª—è –ø–µ—Ä–µ–∫–ª–∞–¥—É –º–æ–≤–ª–µ–Ω–Ω—è

1. –í—ñ–¥–∫—Ä–∏–π—Ç–µ –ø—Ä–æ–µ–∫—Ç `smart-timer` —É VS Code —ñ –ø–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ –≤—ñ—Ä—Ç—É–∞–ª—å–Ω–µ —Å–µ—Ä–µ–¥–æ–≤–∏—â–µ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–æ –≤ —Ç–µ—Ä–º—ñ–Ω–∞–ª—ñ.

1. –î–æ–¥–∞–π—Ç–µ –Ω–∞—Å—Ç—É–ø–Ω—ñ –æ–ø–µ—Ä–∞—Ç–æ—Ä–∏ —ñ–º–ø–æ—Ä—Ç—É –Ω–∏–∂—á–µ —ñ—Å–Ω—É—é—á–∏—Ö —ñ–º–ø–æ—Ä—Ç—ñ–≤:

    ```python
    from azure.cognitiveservices import speech
    from azure.cognitiveservices.speech.translation import SpeechTranslationConfig, TranslationRecognizer
    import requests
    ```

    –¶–µ —ñ–º–ø–æ—Ä—Ç—É—î –∫–ª–∞—Å–∏, —è–∫—ñ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å—Å—è –¥–ª—è –ø–µ—Ä–µ–∫–ª–∞–¥—É –º–æ–≤–ª–µ–Ω–Ω—è, –∞ —Ç–∞–∫–æ–∂ –±—ñ–±–ª—ñ–æ—Ç–µ–∫—É `requests`, —è–∫–∞ –±—É–¥–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–∞ –¥–ª—è –≤–∏–∫–ª–∏–∫—É —Å–ª—É–∂–±–∏ Translator –ø—ñ–∑–Ω—ñ—à–µ –≤ —Ü—å–æ–º—É —É—Ä–æ—Ü—ñ.

1. –í–∞—à —Ä–æ–∑—É–º–Ω–∏–π —Ç–∞–π–º–µ—Ä –º–∞—Ç–∏–º–µ 2 –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ñ –º–æ–≤–∏ - –º–æ–≤—É —Å–µ—Ä–≤–µ—Ä–∞, —è–∫–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞–ª–∞—Å—è –¥–ª—è –Ω–∞–≤—á–∞–Ω–Ω—è LUIS (—Ç–∞ –∂ –º–æ–≤–∞ —Ç–∞–∫–æ–∂ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å –¥–ª—è —Å–ø—ñ–ª–∫—É–≤–∞–Ω–Ω—è –∑ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–µ–º), —ñ –º–æ–≤—É, —è–∫–æ—é –≥–æ–≤–æ—Ä–∏—Ç—å –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á. –û–Ω–æ–≤—ñ—Ç—å –∑–º—ñ–Ω–Ω—É `language`, —â–æ–± –≤–æ–Ω–∞ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞–ª–∞ –º–æ–≤—ñ, —è–∫–æ—é –±—É–¥–µ –≥–æ–≤–æ—Ä–∏—Ç–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á, —ñ –¥–æ–¥–∞–π—Ç–µ –Ω–æ–≤—É –∑–º—ñ–Ω–Ω—É `server_language` –¥–ª—è –º–æ–≤–∏, —è–∫–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞–ª–∞—Å—è –¥–ª—è –Ω–∞–≤—á–∞–Ω–Ω—è LUIS:

    ```python
    language = '<user language>'
    server_language = '<server language>'
    ```

    –ó–∞–º—ñ–Ω—ñ—Ç—å `<user language>` –Ω–∞ –Ω–∞–∑–≤—É –ª–æ–∫–∞–ª—ñ –º–æ–≤–∏, —è–∫–æ—é –≤–∏ –±—É–¥–µ—Ç–µ –≥–æ–≤–æ—Ä–∏—Ç–∏, –Ω–∞–ø—Ä–∏–∫–ª–∞–¥ `fr-FR` –¥–ª—è —Ñ—Ä–∞–Ω—Ü—É–∑—å–∫–æ—ó –∞–±–æ `zn-HK` –¥–ª—è –∫–∞–Ω—Ç–æ–Ω—Å—å–∫–æ—ó.

    –ó–∞–º—ñ–Ω—ñ—Ç—å `<server language>` –Ω–∞ –Ω–∞–∑–≤—É –ª–æ–∫–∞–ª—ñ –º–æ–≤–∏, —è–∫–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞–ª–∞—Å—è –¥–ª—è –Ω–∞–≤—á–∞–Ω–Ω—è LUIS.

    –í–∏ –º–æ–∂–µ—Ç–µ –∑–Ω–∞–π—Ç–∏ —Å–ø–∏—Å–æ–∫ –ø—ñ–¥—Ç—Ä–∏–º—É–≤–∞–Ω–∏—Ö –º–æ–≤ —ñ —ó—Ö –ª–æ–∫–∞–ª—ñ –≤ [–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—ó –ø—Ä–æ –ø—ñ–¥—Ç—Ä–∏–º–∫—É –º–æ–≤ —ñ –≥–æ–ª–æ—Å—ñ–≤ –Ω–∞ Microsoft Docs](https://docs.microsoft.com/azure/cognitive-services/speech-service/language-support?WT.mc_id=academic-17441-jabenn#speech-to-text).

    > üíÅ –Ø–∫—â–æ –≤–∏ –Ω–µ –≤–æ–ª–æ–¥—ñ—î—Ç–µ –∫—ñ–ª—å–∫–æ–º–∞ –º–æ–≤–∞–º–∏, –≤–∏ –º–æ–∂–µ—Ç–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ —Ç–∞–∫—ñ —Å–µ—Ä–≤—ñ—Å–∏, —è–∫ [Bing Translate](https://www.bing.com/translator) –∞–±–æ [Google Translate](https://translate.google.com), —â–æ–± –ø–µ—Ä–µ–∫–ª–∞–¥–∞—Ç–∏ –∑ –≤–∞—à–æ—ó —É–ª—é–±–ª–µ–Ω–æ—ó –º–æ–≤–∏ –Ω–∞ –æ–±—Ä–∞–Ω—É –≤–∞–º–∏ –º–æ–≤—É. –¶—ñ —Å–µ—Ä–≤—ñ—Å–∏ –º–æ–∂—É—Ç—å —Ç–∞–∫–æ–∂ –≤—ñ–¥—Ç–≤–æ—Ä—é–≤–∞—Ç–∏ –∞—É–¥—ñ–æ –ø–µ—Ä–µ–∫–ª–∞–¥–µ–Ω–æ–≥–æ —Ç–µ–∫—Å—Ç—É. –ó–≤–µ—Ä–Ω—ñ—Ç—å —É–≤–∞–≥—É, —â–æ —Ä–æ–∑–ø—ñ–∑–Ω–∞–≤–∞—á –º–æ–≤–ª–µ–Ω–Ω—è –º–æ–∂–µ —ñ–≥–Ω–æ—Ä—É–≤–∞—Ç–∏ –¥–µ—è–∫–∏–π –∞—É–¥—ñ–æ–≤–∏—Ö—ñ–¥ –≤–∞—à–æ–≥–æ –ø—Ä–∏—Å—Ç—Ä–æ—é, —Ç–æ–º—É –≤–∞–º –º–æ–∂–µ –∑–Ω–∞–¥–æ–±–∏—Ç–∏—Å—è –¥–æ–¥–∞—Ç–∫–æ–≤–∏–π –ø—Ä–∏—Å—Ç—Ä—ñ–π –¥–ª—è –≤—ñ–¥—Ç–≤–æ—Ä–µ–Ω–Ω—è –ø–µ—Ä–µ–∫–ª–∞–¥–µ–Ω–æ–≥–æ —Ç–µ–∫—Å—Ç—É.
    >
    > –ù–∞–ø—Ä–∏–∫–ª–∞–¥, —è–∫—â–æ –≤–∏ –Ω–∞–≤—á–∞—î—Ç–µ LUIS –∞–Ω–≥–ª—ñ–π—Å—å–∫–æ—é, –∞–ª–µ —Ö–æ—á–µ—Ç–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ —Ñ—Ä–∞–Ω—Ü—É–∑—å–∫—É —è–∫ –º–æ–≤—É –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞, –≤–∏ –º–æ–∂–µ—Ç–µ –ø–µ—Ä–µ–∫–ª–∞–¥–∞—Ç–∏ —Ä–µ—á–µ–Ω–Ω—è, —Ç–∞–∫—ñ —è–∫ "set a 2 minute and 27 second timer", –∑ –∞–Ω–≥–ª—ñ–π—Å—å–∫–æ—ó –Ω–∞ —Ñ—Ä–∞–Ω—Ü—É–∑—å–∫—É –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é Bing Translate, –∞ –ø–æ—Ç—ñ–º –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –∫–Ω–æ–ø–∫—É **Listen translation**, —â–æ–± –æ–∑–≤—É—á–∏—Ç–∏ –ø–µ—Ä–µ–∫–ª–∞–¥ —É –≤–∞—à –º—ñ–∫—Ä–æ—Ñ–æ–Ω.
    >
    > ![–ö–Ω–æ–ø–∫–∞ –ø—Ä–æ—Å–ª—É—Ö–æ–≤—É–≤–∞–Ω–Ω—è –ø–µ—Ä–µ–∫–ª–∞–¥—É –Ω–∞ Bing Translate](../../../../../translated_images/bing-translate.348aa796d6efe2a92f41ea74a5cf42bb4c63d6faaa08e7f46924e072a35daa48.uk.png)

1. –ó–∞–º—ñ–Ω—ñ—Ç—å –¥–µ–∫–ª–∞—Ä–∞—Ü—ñ—ó `recognizer_config` —ñ `recognizer` –Ω–∞—Å—Ç—É–ø–Ω–∏–º:

    ```python
    translation_config = SpeechTranslationConfig(subscription=speech_api_key,
                                                 region=location,
                                                 speech_recognition_language=language,
                                                 target_languages=(language, server_language))
    
    recognizer = TranslationRecognizer(translation_config=translation_config)
    ```

    –¶–µ —Å—Ç–≤–æ—Ä—é—î –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—é –ø–µ—Ä–µ–∫–ª–∞–¥—É –¥–ª—è —Ä–æ–∑–ø—ñ–∑–Ω–∞–≤–∞–Ω–Ω—è –º–æ–≤–ª–µ–Ω–Ω—è –º–æ–≤–æ—é –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ —ñ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –ø–µ—Ä–µ–∫–ª–∞–¥—ñ–≤ –º–æ–≤–æ—é –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ —Ç–∞ –º–æ–≤–æ—é —Å–µ—Ä–≤–µ—Ä–∞. –ü–æ—Ç—ñ–º —Ü—è –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –ø–µ—Ä–µ–∫–ª–∞–¥–∞—á–∞ –º–æ–≤–ª–µ–Ω–Ω—è - —Ä–æ–∑–ø—ñ–∑–Ω–∞–≤–∞—á–∞ –º–æ–≤–ª–µ–Ω–Ω—è, —è–∫–∏–π –º–æ–∂–µ –ø–µ—Ä–µ–∫–ª–∞–¥–∞—Ç–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Ä–æ–∑–ø—ñ–∑–Ω–∞–≤–∞–Ω–Ω—è –º–æ–≤–ª–µ–Ω–Ω—è –Ω–∞ –∫—ñ–ª—å–∫–∞ –º–æ–≤.

    > üíÅ –û—Ä–∏–≥—ñ–Ω–∞–ª—å–Ω–∞ –º–æ–≤–∞ –ø–æ–≤–∏–Ω–Ω–∞ –±—É—Ç–∏ –≤–∫–∞–∑–∞–Ω–∞ –≤ `target_languages`, —ñ–Ω–∞–∫—à–µ –≤–∏ –Ω–µ –æ—Ç—Ä–∏–º–∞—î—Ç–µ –∂–æ–¥–Ω–∏—Ö –ø–µ—Ä–µ–∫–ª–∞–¥—ñ–≤.

1. –û–Ω–æ–≤—ñ—Ç—å —Ñ—É–Ω–∫—Ü—ñ—é `recognized`, –∑–∞–º—ñ–Ω–∏–≤—à–∏ –≤–µ—Å—å —ó—ó –≤–º—ñ—Å—Ç –Ω–∞—Å—Ç—É–ø–Ω–∏–º:

    ```python
    if args.result.reason == speech.ResultReason.TranslatedSpeech:
        language_match = next(l for l in args.result.translations if server_language.lower().startswith(l.lower()))
        text = args.result.translations[language_match]
        if (len(text) > 0):
            print(f'Translated text: {text}')
    
            message = Message(json.dumps({ 'speech': text }))
            device_client.send_message(message)
    ```

    –¶–µ–π –∫–æ–¥ –ø–µ—Ä–µ–≤—ñ—Ä—è—î, —á–∏ –ø–æ–¥—ñ—è —Ä–æ–∑–ø—ñ–∑–Ω–∞–≤–∞–Ω–Ω—è –±—É–ª–∞ –≤–∏–∫–ª–∏–∫–∞–Ω–∞ —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–∫–ª–∞–¥ –º–æ–≤–ª–µ–Ω–Ω—è (—Ü—è –ø–æ–¥—ñ—è –º–æ–∂–µ –≤–∏–∫–ª–∏–∫–∞—Ç–∏—Å—è –≤ —ñ–Ω—à–∏—Ö –≤–∏–ø–∞–¥–∫–∞—Ö, –Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –∫–æ–ª–∏ –º–æ–≤–ª–µ–Ω–Ω—è —Ä–æ–∑–ø—ñ–∑–Ω–∞–Ω–æ, –∞–ª–µ –Ω–µ –ø–µ—Ä–µ–∫–ª–∞–¥–µ–Ω–æ). –Ø–∫—â–æ –º–æ–≤–ª–µ–Ω–Ω—è –±—É–ª–æ –ø–µ—Ä–µ–∫–ª–∞–¥–µ–Ω–æ, –≤—ñ–Ω –∑–Ω–∞—Ö–æ–¥–∏—Ç—å –ø–µ—Ä–µ–∫–ª–∞–¥ —É —Å–ª–æ–≤–Ω–∏–∫—É `args.result.translations`, —è–∫–∏–π –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î –º–æ–≤—ñ —Å–µ—Ä–≤–µ—Ä–∞.

    –°–ª–æ–≤–Ω–∏–∫ `args.result.translations` –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î –∫–ª—é—á—ñ, —è–∫—ñ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—é—Ç—å –º–æ–≤–Ω—ñ–π —á–∞—Å—Ç–∏–Ω—ñ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –ª–æ–∫–∞–ª—ñ, –∞ –Ω–µ –≤—Å—å–æ–º—É –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—é. –ù–∞–ø—Ä–∏–∫–ª–∞–¥, —è–∫—â–æ –≤–∏ –∑–∞–ø–∏—Ç—É—î—Ç–µ –ø–µ—Ä–µ–∫–ª–∞–¥ –Ω–∞ `fr-FR` –¥–ª—è —Ñ—Ä–∞–Ω—Ü—É–∑—å–∫–æ—ó, —Å–ª–æ–≤–Ω–∏–∫ –º—ñ—Å—Ç–∏—Ç–∏–º–µ –∑–∞–ø–∏—Å –¥–ª—è `fr`, –∞ –Ω–µ `fr-FR`.

    –ü–µ—Ä–µ–∫–ª–∞–¥–µ–Ω–∏–π —Ç–µ–∫—Å—Ç –ø–æ—Ç—ñ–º –Ω–∞–¥—Å–∏–ª–∞—î—Ç—å—Å—è –¥–æ IoT Hub.

1. –ó–∞–ø—É—Å—Ç—ñ—Ç—å —Ü–µ–π –∫–æ–¥, —â–æ–± –ø—Ä–æ—Ç–µ—Å—Ç—É–≤–∞—Ç–∏ –ø–µ—Ä–µ–∫–ª–∞–¥–∏. –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ –≤–∞—à —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω–∏–π –¥–æ–¥–∞—Ç–æ–∫ –ø—Ä–∞—Ü—é—î, —ñ –∑–∞–ø—Ä–æ—Å—ñ—Ç—å —Ç–∞–π–º–µ—Ä –º–æ–≤–æ—é –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞, –∞–±–æ –≥–æ–≤–æ—Ä—è—á–∏ —Ü—ñ—î—é –º–æ–≤–æ—é —Å–∞–º–æ—Å—Ç—ñ–π–Ω–æ, –∞–±–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—á–∏ –¥–æ–¥–∞—Ç–æ–∫ –¥–ª—è –ø–µ—Ä–µ–∫–ª–∞–¥—É.

    ```output
    (.venv) ‚ûú  smart-timer python app.py
    Connecting
    Connected
    Translated text: Set a timer of 2 minutes and 27 seconds.
    ```

## –ü–µ—Ä–µ–∫–ª–∞–¥ —Ç–µ–∫—Å—Ç—É –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é —Å–ª—É–∂–±–∏ Translator

–°–ª—É–∂–±–∞ –º–æ–≤–ª–µ–Ω–Ω—è –Ω–µ –ø—ñ–¥—Ç—Ä–∏–º—É—î –ø–µ—Ä–µ–∫–ª–∞–¥ —Ç–µ–∫—Å—Ç—É –Ω–∞–∑–∞–¥ —É –º–æ–≤–ª–µ–Ω–Ω—è, –Ω–∞—Ç–æ–º—ñ—Å—Ç—å –≤–∏ –º–æ–∂–µ—Ç–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ —Å–ª—É–∂–±—É Translator –¥–ª—è –ø–µ—Ä–µ–∫–ª–∞–¥—É —Ç–µ–∫—Å—Ç—É. –¶—è —Å–ª—É–∂–±–∞ –º–∞—î REST API, —è–∫–∏–π –≤–∏ –º–æ–∂–µ—Ç–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –¥–ª—è –ø–µ—Ä–µ–∫–ª–∞–¥—É —Ç–µ–∫—Å—Ç—É.

### –ó–∞–≤–¥–∞–Ω–Ω—è - –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è —Ä–µ—Å—É—Ä—Å—É Translator –¥–ª—è –ø–µ—Ä–µ–∫–ª–∞–¥—É —Ç–µ–∫—Å—Ç—É

1. –î–æ–¥–∞–π—Ç–µ –∫–ª—é—á API Translator –Ω–∏–∂—á–µ `speech_api_key`:

    ```python
    translator_api_key = '<key>'
    ```

    –ó–∞–º—ñ–Ω—ñ—Ç—å `<key>` –Ω–∞ –∫–ª—é—á API –¥–ª—è –≤–∞—à–æ–≥–æ —Ä–µ—Å—É—Ä—Å—É —Å–ª—É–∂–±–∏ Translator.

1. –ù–∞–¥ —Ñ—É–Ω–∫—Ü—ñ—î—é `say` –≤–∏–∑–Ω–∞—á—Ç–µ —Ñ—É–Ω–∫—Ü—ñ—é `translate_text`, —è–∫–∞ –±—É–¥–µ –ø–µ—Ä–µ–∫–ª–∞–¥–∞—Ç–∏ —Ç–µ–∫—Å—Ç –∑ –º–æ–≤–∏ —Å–µ—Ä–≤–µ—Ä–∞ –Ω–∞ –º–æ–≤—É –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞:

    ```python
    def translate_text(text):
    ```

1. –£ —Ü—ñ–π —Ñ—É–Ω–∫—Ü—ñ—ó –≤–∏–∑–Ω–∞—á—Ç–µ URL —ñ –∑–∞–≥–æ–ª–æ–≤–∫–∏ –¥–ª—è –≤–∏–∫–ª–∏–∫—É REST API:

    ```python
    url = f'https://api.cognitive.microsofttranslator.com/translate?api-version=3.0'

    headers = {
        'Ocp-Apim-Subscription-Key': translator_api_key,
        'Ocp-Apim-Subscription-Region': location,
        'Content-type': 'application/json'
    }
    ```

    URL –¥–ª—è —Ü—å–æ–≥–æ API –Ω–µ –∑–∞–ª–µ–∂–∏—Ç—å –≤—ñ–¥ –º—ñ—Å—Ü—è —Ä–æ–∑—Ç–∞—à—É–≤–∞–Ω–Ω—è, –Ω–∞—Ç–æ–º—ñ—Å—Ç—å –º—ñ—Å—Ü–µ —Ä–æ–∑—Ç–∞—à—É–≤–∞–Ω–Ω—è –ø–µ—Ä–µ–¥–∞—î—Ç—å—Å—è —è–∫ –∑–∞–≥–æ–ª–æ–≤–æ–∫. –ö–ª—é—á API –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –±–µ–∑–ø–æ—Å–µ—Ä–µ–¥–Ω—å–æ, —Ç–æ–º—É, –Ω–∞ –≤—ñ–¥–º—ñ–Ω—É –≤—ñ–¥ —Å–ª—É–∂–±–∏ –º–æ–≤–ª–µ–Ω–Ω—è, –Ω–µ–º–∞—î –Ω–µ–æ–±—Ö—ñ–¥–Ω–æ—Å—Ç—ñ –æ—Ç—Ä–∏–º—É–≤–∞—Ç–∏ —Ç–æ–∫–µ–Ω –¥–æ—Å—Ç—É–ø—É –∑ API –≤–∏–¥–∞—á—ñ —Ç–æ–∫–µ–Ω—ñ–≤.

1. –ù–∏–∂—á–µ –≤–∏–∑–Ω–∞—á—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏ —ñ —Ç—ñ–ª–æ –¥–ª—è –≤–∏–∫–ª–∏–∫—É:

    ```python
    params = {
        'from': server_language,
        'to': language
    }

    body = [{
        'text' : text
    }]
    ```

    `params` –≤–∏–∑–Ω–∞—á–∞—î –ø–∞—Ä–∞–º–µ—Ç—Ä–∏ –¥–ª—è –ø–µ—Ä–µ–¥–∞—á—ñ —É –≤–∏–∫–ª–∏–∫ API, –ø–µ—Ä–µ–¥–∞—é—á–∏ –º–æ–≤–∏ `from` —ñ `to`. –¶–µ–π –≤–∏–∫–ª–∏–∫ –ø–µ—Ä–µ–∫–ª–∞–¥–∞—Ç–∏–º–µ —Ç–µ–∫—Å—Ç –∑ –º–æ–≤–∏ `from` –Ω–∞ –º–æ–≤—É `to`.

    `body` –º—ñ—Å—Ç–∏—Ç—å —Ç–µ–∫—Å—Ç –¥–ª—è –ø–µ—Ä–µ–∫–ª–∞–¥—É. –¶–µ –º–∞—Å–∏–≤, –æ—Å–∫—ñ–ª—å–∫–∏ –∫—ñ–ª—å–∫–∞ –±–ª–æ–∫—ñ–≤ —Ç–µ–∫—Å—Ç—É –º–æ–∂—É—Ç—å –±—É—Ç–∏ –ø–µ—Ä–µ–∫–ª–∞–¥–µ–Ω—ñ –≤ –æ–¥–Ω–æ–º—É –≤–∏–∫–ª–∏–∫—É.

1. –ó–¥—ñ–π—Å–Ω—ñ—Ç—å –≤–∏–∫–ª–∏–∫ REST API —ñ –æ—Ç—Ä–∏–º–∞–π—Ç–µ –≤—ñ–¥–ø–æ–≤—ñ–¥—å:

    ```python
    response = requests.post(url, headers=headers, params=params, json=body)
    ```

    –í—ñ–¥–ø–æ–≤—ñ–¥—å, —è–∫–∞ –ø–æ–≤–µ—Ä—Ç–∞—î—Ç—å—Å—è, —î JSON-–º–∞—Å–∏–≤–æ–º, –∑ –æ–¥–Ω–∏–º –µ–ª–µ–º–µ–Ω—Ç–æ–º, —è–∫–∏–π –º—ñ—Å—Ç–∏—Ç—å –ø–µ—Ä–µ–∫–ª–∞–¥–∏. –¶–µ–π –µ–ª–µ–º–µ–Ω—Ç –º–∞—î –º–∞—Å–∏–≤ –¥–ª—è –ø–µ—Ä–µ–∫–ª–∞–¥—ñ–≤ —É—Å—ñ—Ö –µ–ª–µ–º–µ–Ω—Ç—ñ–≤, –ø–µ—Ä–µ–¥–∞–Ω–∏—Ö —É —Ç—ñ–ª—ñ.

    ```json
    [
        {
            "translations": [
                {
                    "text": "Chronom√©trant votre minuterie de 2 minutes 27 secondes.",
                    "to": "fr"
                }
            ]
        }
    ]
    ```

1. –ü–æ–≤–µ—Ä–Ω—ñ—Ç—å –≤–ª–∞—Å—Ç–∏–≤—ñ—Å—Ç—å `text` –∑ –ø–µ—Ä—à–æ–≥–æ –ø–µ—Ä–µ–∫–ª–∞–¥—É –ø–µ—Ä—à–æ–≥–æ –µ–ª–µ–º–µ–Ω—Ç–∞ –º–∞—Å–∏–≤—É:

    ```python
    return response.json()[0]['translations'][0]['text']
    ```

1. –û–Ω–æ–≤—ñ—Ç—å —Ñ—É–Ω–∫—Ü—ñ—é `say`, —â–æ–± –ø–µ—Ä–µ–∫–ª–∞–¥–∞—Ç–∏ —Ç–µ–∫—Å—Ç –ø–µ—Ä–µ–¥ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è–º SSML:

    ```python
    print('Original:', text)
    text = translate_text(text)
    print('Translated:', text)
    ```

    –¶–µ–π –∫–æ–¥ —Ç–∞–∫–æ–∂ –¥—Ä—É–∫—É—î –æ—Ä–∏–≥—ñ–Ω–∞–ª—å–Ω—É —Ç–∞ –ø–µ—Ä–µ–∫–ª–∞–¥–µ–Ω—É –≤–µ—Ä—Å—ñ—ó —Ç–µ–∫—Å—Ç—É –≤ –∫–æ–Ω—Å–æ–ª—å.

1. –ó–∞–ø—É—Å—Ç—ñ—Ç—å –≤–∞—à –∫–æ–¥. –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ –≤–∞—à —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω–∏–π –¥–æ–¥–∞—Ç–æ–∫ –ø—Ä–∞—Ü—é—î, —ñ –∑–∞–ø—Ä–æ—Å—ñ—Ç—å —Ç–∞–π–º–µ—Ä –º–æ–≤–æ—é –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞, –∞–±–æ –≥–æ–≤–æ—Ä—è—á–∏ —Ü—ñ—î—é –º–æ–≤–æ—é —Å–∞–º–æ—Å—Ç—ñ–π–Ω–æ, –∞–±–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—á–∏ –¥–æ–¥–∞—Ç–æ–∫ –¥–ª—è –ø–µ—Ä–µ–∫–ª–∞–¥—É.

    ```output
    (.venv) ‚ûú  smart-timer python app.py
    Connecting
    Connected
    Translated text: Set a timer of 2 minutes and 27 seconds.
    Original: 2 minute 27 second timer started.
    Translated: 2 minute 27 seconde minute a commenc√©.
    Original: Times up on your 2 minute 27 second timer.
    Translated: Chronom√©trant votre minuterie de 2 minutes 27 secondes.
    ```

    > üíÅ –ß–µ—Ä–µ–∑ —Ä—ñ–∑–Ω—ñ —Å–ø–æ—Å–æ–±–∏ –≤–∏—Å–ª–æ–≤–ª—é–≤–∞–Ω–Ω—è –≤ —Ä—ñ–∑–Ω–∏—Ö –º–æ–≤–∞—Ö –≤–∏ –º–æ–∂–µ—Ç–µ –æ—Ç—Ä–∏–º–∞—Ç–∏ –ø–µ—Ä–µ–∫–ª–∞–¥–∏, —è–∫—ñ —Ç—Ä–æ—Ö–∏ –≤—ñ–¥—Ä—ñ–∑–Ω—è—é—Ç—å—Å—è –≤—ñ–¥ –ø—Ä–∏–∫–ª–∞–¥—ñ–≤, —è–∫—ñ –≤–∏ –Ω–∞–¥–∞–ª–∏ LUIS. –Ø–∫—â–æ —Ü–µ —Ç–∞–∫, –¥–æ–¥–∞–π—Ç–µ –±—ñ–ª—å—à–µ –ø—Ä–∏–∫–ª–∞–¥—ñ–≤ –¥–æ LUIS, –ø–µ—Ä–µ–≤—á—ñ—Ç—å —ñ –ø–æ–≤—Ç–æ—Ä–Ω–æ –æ–ø—É–±–ª—ñ–∫—É–π—Ç–µ –º–æ–¥–µ–ª—å.

> üíÅ –í–∏ –º–æ–∂–µ—Ç–µ –∑–Ω–∞–π—Ç–∏ —Ü–µ–π –∫–æ–¥ —É –ø–∞–ø—Ü—ñ [code/virtual-iot-device](../../../../../6-consumer/lessons/4-multiple-language-support/code/virtual-iot-device).

üòÄ –í–∞—à –±–∞–≥–∞—Ç–æ–º–æ–≤–Ω–∏–π —Ç–∞–π–º–µ—Ä —É—Å–ø—ñ—à–Ω–æ –ø—Ä–∞—Ü—é—î!

---

**–í—ñ–¥–º–æ–≤–∞ –≤—ñ–¥ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞–ª—å–Ω–æ—Å—Ç—ñ**:  
–¶–µ–π –¥–æ–∫—É–º–µ–Ω—Ç –±—É–≤ –ø–µ—Ä–µ–∫–ª–∞–¥–µ–Ω–∏–π –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é —Å–µ—Ä–≤—ñ—Å—É –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ–≥–æ –ø–µ—Ä–µ–∫–ª–∞–¥—É [Co-op Translator](https://github.com/Azure/co-op-translator). –•–æ—á–∞ –º–∏ –ø—Ä–∞–≥–Ω–µ–º–æ –¥–æ —Ç–æ—á–Ω–æ—Å—Ç—ñ, –±—É–¥—å –ª–∞—Å–∫–∞, –º–∞–π—Ç–µ –Ω–∞ —É–≤–∞–∑—ñ, —â–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω—ñ –ø–µ—Ä–µ–∫–ª–∞–¥–∏ –º–æ–∂—É—Ç—å –º—ñ—Å—Ç–∏—Ç–∏ –ø–æ–º–∏–ª–∫–∏ –∞–±–æ –Ω–µ—Ç–æ—á–Ω–æ—Å—Ç—ñ. –û—Ä–∏–≥—ñ–Ω–∞–ª—å–Ω–∏–π –¥–æ–∫—É–º–µ–Ω—Ç –Ω–∞ –π–æ–≥–æ —Ä—ñ–¥–Ω—ñ–π –º–æ–≤—ñ —Å–ª—ñ–¥ –≤–≤–∞–∂–∞—Ç–∏ –∞–≤—Ç–æ—Ä–∏—Ç–µ—Ç–Ω–∏–º –¥–∂–µ—Ä–µ–ª–æ–º. –î–ª—è –∫—Ä–∏—Ç–∏—á–Ω–æ—ó —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—ó —Ä–µ–∫–æ–º–µ–Ω–¥—É—î—Ç—å—Å—è –ø—Ä–æ—Ñ–µ—Å—ñ–π–Ω–∏–π –ª—é–¥—Å—å–∫–∏–π –ø–µ—Ä–µ–∫–ª–∞–¥. –ú–∏ –Ω–µ –Ω–µ—Å–µ–º–æ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞–ª—å–Ω–æ—Å—Ç—ñ –∑–∞ –±—É–¥—å-—è–∫—ñ –Ω–µ–ø–æ—Ä–æ–∑—É–º—ñ–Ω–Ω—è –∞–±–æ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ñ —Ç–ª—É–º–∞—á–µ–Ω–Ω—è, —â–æ –≤–∏–Ω–∏–∫–∞—é—Ç—å –≤–Ω–∞—Å–ª—ñ–¥–æ–∫ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è —Ü—å–æ–≥–æ –ø–µ—Ä–µ–∫–ª–∞–¥—É.