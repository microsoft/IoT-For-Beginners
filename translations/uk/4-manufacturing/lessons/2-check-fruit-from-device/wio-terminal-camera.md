<!--
CO_OP_TRANSLATOR_METADATA:
{
  "original_hash": "160be8c0f558687f6686dca64f10f739",
  "translation_date": "2025-08-28T16:07:50+00:00",
  "source_file": "4-manufacturing/lessons/2-check-fruit-from-device/wio-terminal-camera.md",
  "language_code": "uk"
}
-->
# –ó–∞—Ö–æ–ø–ª–µ–Ω–Ω—è –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è - Wio Terminal

–£ —Ü—ñ–π —á–∞—Å—Ç–∏–Ω—ñ —É—Ä–æ–∫—É –≤–∏ –¥–æ–¥–∞—Å—Ç–µ –∫–∞–º–µ—Ä—É –¥–æ –≤–∞—à–æ–≥–æ Wio Terminal —ñ –∑–∞—Ö–æ–ø–∏—Ç–µ –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è –∑ –Ω–µ—ó.

## –ê–ø–∞—Ä–∞—Ç–Ω–µ –∑–∞–±–µ–∑–ø–µ—á–µ–Ω–Ω—è

Wio Terminal –ø–æ—Ç—Ä–µ–±—É—î –∫–∞–º–µ—Ä–∏.

–ö–∞–º–µ—Ä–∞, —è–∫—É –≤–∏ –±—É–¥–µ—Ç–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏, ‚Äî —Ü–µ [ArduCam Mini 2MP Plus](https://www.arducam.com/product/arducam-2mp-spi-camera-b0067-arduino/). –¶–µ 2-–º–µ–≥–∞–ø—ñ–∫—Å–µ–ª—å–Ω–∞ –∫–∞–º–µ—Ä–∞ –Ω–∞ –æ—Å–Ω–æ–≤—ñ —Å–µ–Ω—Å–æ—Ä–∞ –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è OV2640. –í–æ–Ω–∞ –ø–µ—Ä–µ–¥–∞—î –¥–∞–Ω—ñ —á–µ—Ä–µ–∑ SPI-—ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –∑–∞—Ö–æ–ø–ª–µ–Ω–Ω—è –∑–æ–±—Ä–∞–∂–µ–Ω—å —ñ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î I2C –¥–ª—è –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è —Å–µ–Ω—Å–æ—Ä–∞.

## –ü—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –∫–∞–º–µ—Ä–∏

ArduCam –Ω–µ –º–∞—î —Ä–æ–∑'—î–º—É Grove, –Ω–∞—Ç–æ–º—ñ—Å—Ç—å –≤–æ–Ω–∞ –ø—ñ–¥–∫–ª—é—á–∞—î—Ç—å—Å—è –¥–æ SPI —Ç–∞ I2C —à–∏–Ω —á–µ—Ä–µ–∑ GPIO-–ø—ñ–Ω–∏ –Ω–∞ Wio Terminal.

### –ó–∞–≤–¥–∞–Ω–Ω—è - –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –∫–∞–º–µ—Ä–∏

–ü—ñ–¥–∫–ª—é—á—ñ—Ç—å –∫–∞–º–µ—Ä—É.

![–°–µ–Ω—Å–æ—Ä ArduCam](../../../../../translated_images/arducam.20e4e4cbb268296570b5914e20d6c349fc42ddac9ed4e1b9deba2188204eebae.uk.png)

1. –ü—ñ–Ω–∏ –Ω–∞ –æ—Å–Ω–æ–≤—ñ ArduCam –ø–æ—Ç—Ä—ñ–±–Ω–æ –ø—ñ–¥–∫–ª—é—á–∏—Ç–∏ –¥–æ GPIO-–ø—ñ–Ω—ñ–≤ –Ω–∞ Wio Terminal. –©–æ–± –ª–µ–≥—à–µ –∑–Ω–∞–π—Ç–∏ –ø–æ—Ç—Ä—ñ–±–Ω—ñ –ø—ñ–Ω–∏, –ø—Ä–∏–∫—Ä—ñ–ø—ñ—Ç—å –Ω–∞–∫–ª–µ–π–∫—É –∑ GPIO-–ø—ñ–Ω–∞–º–∏, —è–∫–∞ –π–¥–µ –≤ –∫–æ–º–ø–ª–µ–∫—Ç—ñ –∑ Wio Terminal, –Ω–∞–≤–∫–æ–ª–æ –ø—ñ–Ω—ñ–≤:

    ![Wio Terminal –∑ –Ω–∞–∫–ª–µ–π–∫–æ—é GPIO-–ø—ñ–Ω—ñ–≤](../../../../../translated_images/wio-terminal-pin-sticker.b90b1535937b84bd00d853f0004aea74fac2aec04b43f14b887796b2633f855e.uk.png)

1. –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—á–∏ –∑'—î–¥–Ω—É–≤–∞–ª—å–Ω—ñ –¥—Ä–æ—Ç–∏, –∑—Ä–æ–±—ñ—Ç—å –Ω–∞—Å—Ç—É–ø–Ω—ñ –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è:

    | –ü—ñ–Ω ArduCAM | –ü—ñ–Ω Wio Terminal | –û–ø–∏—Å                                    |
    | ----------- | ---------------- | --------------------------------------- |
    | CS          | 24 (SPI_CS)      | –í–∏–±—ñ—Ä —á—ñ–ø–∞ SPI                          |
    | MOSI        | 19 (SPI_MOSI)    | –í–∏—Ö—ñ–¥ –∫–æ–Ω—Ç—Ä–æ–ª–µ—Ä–∞ SPI, –≤—Ö—ñ–¥ –ø–µ—Ä–∏—Ñ–µ—Ä—ñ—ó    |
    | MISO        | 21 (SPI_MISO)    | –í—Ö—ñ–¥ –∫–æ–Ω—Ç—Ä–æ–ª–µ—Ä–∞ SPI, –≤–∏—Ö—ñ–¥ –ø–µ—Ä–∏—Ñ–µ—Ä—ñ—ó    |
    | SCK         | 23 (SPI_SCLK)    | –°–µ—Ä—ñ–π–Ω–∏–π –≥–æ–¥–∏–Ω–Ω–∏–∫ SPI                   |
    | GND         | 6 (GND)          | –ó–µ–º–ª—è - 0–í                              |
    | VCC         | 4 (5V)           | –ñ–∏–≤–ª–µ–Ω–Ω—è 5–í                             |
    | SDA         | 3 (I2C1_SDA)     | –°–µ—Ä—ñ–π–Ω—ñ –¥–∞–Ω—ñ I2C                        |
    | SCL         | 5 (I2C1_SCL)     | –°–µ—Ä—ñ–π–Ω–∏–π –≥–æ–¥–∏–Ω–Ω–∏–∫ I2C                   |

    ![Wio Terminal –ø—ñ–¥–∫–ª—é—á–µ–Ω–∏–π –¥–æ ArduCam –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é –∑'—î–¥–Ω—É–≤–∞–ª—å–Ω–∏—Ö –¥—Ä–æ—Ç—ñ–≤](../../../../../translated_images/arducam-wio-terminal-connections.a4d5a4049bdb5ab800a2877389fc6ecf5e4ff307e6451ff56c517e6786467d0a.uk.png)

    –ó'—î–¥–Ω–∞–Ω–Ω—è GND —ñ VCC –∑–∞–±–µ–∑–ø–µ—á—É—é—Ç—å –∂–∏–≤–ª–µ–Ω–Ω—è 5–í –¥–ª—è ArduCam. –ö–∞–º–µ—Ä–∞ –ø—Ä–∞—Ü—é—î –Ω–∞ 5–í, –Ω–∞ –≤—ñ–¥–º—ñ–Ω—É –≤—ñ–¥ –¥–∞—Ç—á–∏–∫—ñ–≤ Grove, —è–∫—ñ –ø—Ä–∞—Ü—é—é—Ç—å –Ω–∞ 3–í. –¶–µ –∂–∏–≤–ª–µ–Ω–Ω—è –Ω–∞–¥—Ö–æ–¥–∏—Ç—å –±–µ–∑–ø–æ—Å–µ—Ä–µ–¥–Ω—å–æ –≤—ñ–¥ USB-C –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è, —è–∫–µ –∂–∏–≤–∏—Ç—å –ø—Ä–∏—Å—Ç—Ä—ñ–π.

    > üíÅ –î–ª—è SPI-–∑'—î–¥–Ω–∞–Ω–Ω—è –º—ñ—Ç–∫–∏ –ø—ñ–Ω—ñ–≤ –Ω–∞ ArduCam —ñ –Ω–∞–∑–≤–∏ –ø—ñ–Ω—ñ–≤ Wio Terminal, —è–∫—ñ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å—Å—è –≤ –∫–æ–¥—ñ, –≤—Å–µ —â–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å —Å—Ç–∞—Ä—É —Å–∏—Å—Ç–µ–º—É –Ω–∞–∑–≤. –Ü–Ω—Å—Ç—Ä—É–∫—Ü—ñ—ó –≤ —Ü—å–æ–º—É —É—Ä–æ—Ü—ñ –±—É–¥—É—Ç—å –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –Ω–æ–≤—É —Å–∏—Å—Ç–µ–º—É –Ω–∞–∑–≤, –∑–∞ –≤–∏–Ω—è—Ç–∫–æ–º –≤–∏–ø–∞–¥–∫—ñ–≤, –∫–æ–ª–∏ –Ω–∞–∑–≤–∏ –ø—ñ–Ω—ñ–≤ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å—Å—è –≤ –∫–æ–¥—ñ.

1. –¢–µ–ø–µ—Ä –≤–∏ –º–æ–∂–µ—Ç–µ –ø—ñ–¥–∫–ª—é—á–∏—Ç–∏ Wio Terminal –¥–æ –≤–∞—à–æ–≥–æ –∫–æ–º–ø'—é—Ç–µ—Ä–∞.

## –ü—Ä–æ–≥—Ä–∞–º—É–≤–∞–Ω–Ω—è –ø—Ä–∏—Å—Ç—Ä–æ—é –¥–ª—è –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –¥–æ –∫–∞–º–µ—Ä–∏

–¢–µ–ø–µ—Ä Wio Terminal –º–æ–∂–Ω–∞ –∑–∞–ø—Ä–æ–≥—Ä–∞–º—É–≤–∞—Ç–∏ –¥–ª—è –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –ø—ñ–¥–∫–ª—é—á–µ–Ω–æ—ó –∫–∞–º–µ—Ä–∏ ArduCAM.

### –ó–∞–≤–¥–∞–Ω–Ω—è - –ø—Ä–æ–≥—Ä–∞–º—É–≤–∞–Ω–Ω—è –ø—Ä–∏—Å—Ç—Ä–æ—é –¥–ª—è –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –¥–æ –∫–∞–º–µ—Ä–∏

1. –°—Ç–≤–æ—Ä—ñ—Ç—å –Ω–æ–≤–∏–π –ø—Ä–æ–µ–∫—Ç –¥–ª—è Wio Terminal –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é PlatformIO. –ù–∞–∑–≤—ñ—Ç—å —Ü–µ–π –ø—Ä–æ–µ–∫—Ç `fruit-quality-detector`. –î–æ–¥–∞–π—Ç–µ –∫–æ–¥ —É —Ñ—É–Ω–∫—Ü—ñ—é `setup` –¥–ª—è –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è —Å–µ—Ä—ñ–π–Ω–æ–≥–æ –ø–æ—Ä—Ç—É.

1. –î–æ–¥–∞–π—Ç–µ –∫–æ–¥ –¥–ª—è –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –¥–æ WiFi, –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—á–∏ –≤–∞—à—ñ WiFi-–¥–∞–Ω—ñ —É —Ñ–∞–π–ª—ñ `config.h`. –ù–µ –∑–∞–±—É–¥—å—Ç–µ –¥–æ–¥–∞—Ç–∏ –Ω–µ–æ–±—Ö—ñ–¥–Ω—ñ –±—ñ–±–ª—ñ–æ—Ç–µ–∫–∏ –¥–æ —Ñ–∞–π–ª—É `platformio.ini`.

1. –ë—ñ–±–ª—ñ–æ—Ç–µ–∫–∞ ArduCam –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞ —è–∫ –±—ñ–±–ª—ñ–æ—Ç–µ–∫–∞ Arduino, —è–∫—É –º–æ–∂–Ω–∞ –≤—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ —á–µ—Ä–µ–∑ —Ñ–∞–π–ª `platformio.ini`. –ù–∞—Ç–æ–º—ñ—Å—Ç—å —ó—ó –ø–æ—Ç—Ä—ñ–±–Ω–æ –≤—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ –∑ –≤–∏—Ö—ñ–¥–Ω–æ–≥–æ –∫–æ–¥—É –∑ —ó—Ö–Ω—å–æ—ó —Å—Ç–æ—Ä—ñ–Ω–∫–∏ GitHub. –í–∏ –º–æ–∂–µ—Ç–µ –æ—Ç—Ä–∏–º–∞—Ç–∏ —ó—ó, –∞–±–æ:

    * –ö–ª–æ–Ω—É—é—á–∏ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π –∑ [https://github.com/ArduCAM/Arduino.git](https://github.com/ArduCAM/Arduino.git)
    * –ü–µ—Ä–µ–π—à–æ–≤—à–∏ –¥–æ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—é –Ω–∞ GitHub –∑–∞ –∞–¥—Ä–µ—Å–æ—é [github.com/ArduCAM/Arduino](https://github.com/ArduCAM/Arduino) —ñ –∑–∞–≤–∞–Ω—Ç–∞–∂–∏–≤—à–∏ –∫–æ–¥ —è–∫ zip-—Ñ–∞–π–ª —á–µ—Ä–µ–∑ –∫–Ω–æ–ø–∫—É **Code**

1. –í–∞–º –ø–æ—Ç—Ä—ñ–±–Ω–∞ –ª–∏—à–µ –ø–∞–ø–∫–∞ `ArduCAM` –∑ —Ü—å–æ–≥–æ –∫–æ–¥—É. –°–∫–æ–ø—ñ—é–π—Ç–µ –≤—Å—é –ø–∞–ø–∫—É –¥–æ –ø–∞–ø–∫–∏ `lib` —É –≤–∞—à–æ–º—É –ø—Ä–æ–µ–∫—Ç—ñ.

    > ‚ö†Ô∏è –ü–æ—Ç—Ä—ñ–±–Ω–æ —Å–∫–æ–ø—ñ—é–≤–∞—Ç–∏ –≤—Å—é –ø–∞–ø–∫—É, —â–æ–± –∫–æ–¥ –∑–Ω–∞—Ö–æ–¥–∏–≤—Å—è —É `lib/ArduCam`. –ù–µ –∫–æ–ø—ñ—é–π—Ç–µ –ª–∏—à–µ –≤–º—ñ—Å—Ç –ø–∞–ø–∫–∏ `ArduCam` –¥–æ –ø–∞–ø–∫–∏ `lib`, —Å–∫–æ–ø—ñ—é–π—Ç–µ –≤—Å—é –ø–∞–ø–∫—É.

1. –ö–æ–¥ –±—ñ–±–ª—ñ–æ—Ç–µ–∫–∏ ArduCam –ø—Ä–∞—Ü—é—î –¥–ª—è –∫—ñ–ª—å–∫–æ—Ö —Ç–∏–ø—ñ–≤ –∫–∞–º–µ—Ä. –¢–∏–ø –∫–∞–º–µ—Ä–∏, —è–∫—É –≤–∏ —Ö–æ—á–µ—Ç–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏, –Ω–∞–ª–∞—à—Ç–æ–≤—É—î—Ç—å—Å—è –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é –ø—Ä–∞–ø–æ—Ä—Ü—ñ–≤ –∫–æ–º–ø—ñ–ª—è—Ç–æ—Ä–∞ ‚Äî —Ü–µ –¥–æ–∑–≤–æ–ª—è—î –∑–º–µ–Ω—à–∏—Ç–∏ —Ä–æ–∑–º—ñ—Ä –±—ñ–±–ª—ñ–æ—Ç–µ–∫–∏, –≤–∏–¥–∞–ª—è—é—á–∏ –∫–æ–¥ –¥–ª—è –∫–∞–º–µ—Ä, —è–∫—ñ –≤–∏ –Ω–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç–µ. –©–æ–± –Ω–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ –±—ñ–±–ª—ñ–æ—Ç–µ–∫—É –¥–ª—è –∫–∞–º–µ—Ä–∏ OV2640, –¥–æ–¥–∞–π—Ç–µ –Ω–∞—Å—Ç—É–ø–Ω–µ –¥–æ –∫—ñ–Ω—Ü—è —Ñ–∞–π–ª—É `platformio.ini`:

    ```ini
    build_flags =
        -DARDUCAM_SHIELD_V2
        -DOV2640_CAM
    ```

    –¶–µ –≤—Å—Ç–∞–Ω–æ–≤–ª—é—î 2 –ø—Ä–∞–ø–æ—Ä—Ü—ñ –∫–æ–º–ø—ñ–ª—è—Ç–æ—Ä–∞:

      * `ARDUCAM_SHIELD_V2` –¥–ª—è –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –±—ñ–±–ª—ñ–æ—Ç–µ—Ü—ñ, —â–æ –∫–∞–º–µ—Ä–∞ –∑–Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è –Ω–∞ –ø–ª–∞—Ç—ñ Arduino, –≤—ñ–¥–æ–º—ñ–π —è–∫ —â–∏—Ç.
      * `OV2640_CAM` –¥–ª—è –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –±—ñ–±–ª—ñ–æ—Ç–µ—Ü—ñ –≤–∫–ª—é—á–∏—Ç–∏ –ª–∏—à–µ –∫–æ–¥ –¥–ª—è –∫–∞–º–µ—Ä–∏ OV2640.

1. –î–æ–¥–∞–π—Ç–µ –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤–∏–π —Ñ–∞–π–ª –¥–æ –ø–∞–ø–∫–∏ `src`, –Ω–∞–∑–≤–∞–≤—à–∏ –π–æ–≥–æ `camera.h`. –£ —Ü—å–æ–º—É —Ñ–∞–π–ª—ñ –±—É–¥–µ –∫–æ–¥ –¥–ª—è –≤–∑–∞—î–º–æ–¥—ñ—ó –∑ –∫–∞–º–µ—Ä–æ—é. –î–æ–¥–∞–π—Ç–µ –Ω–∞—Å—Ç—É–ø–Ω–∏–π –∫–æ–¥ –¥–æ —Ü—å–æ–≥–æ —Ñ–∞–π–ª—É:

    ```cpp
    #pragma once
    
    #include <ArduCAM.h>
    #include <Wire.h>
    
    class Camera
    {
    public:
        Camera(int format, int image_size) : _arducam(OV2640, PIN_SPI_SS)
        {
            _format = format;
            _image_size = image_size;
        }
    
        bool init()
        {
            // Reset the CPLD
            _arducam.write_reg(0x07, 0x80);
            delay(100);
    
            _arducam.write_reg(0x07, 0x00);
            delay(100);
    
            // Check if the ArduCAM SPI bus is OK
            _arducam.write_reg(ARDUCHIP_TEST1, 0x55);
            if (_arducam.read_reg(ARDUCHIP_TEST1) != 0x55)
            {
                return false;
            }
                
            // Change MCU mode
            _arducam.set_mode(MCU2LCD_MODE);
    
            uint8_t vid, pid;
    
            // Check if the camera module type is OV2640
            _arducam.wrSensorReg8_8(0xff, 0x01);
            _arducam.rdSensorReg8_8(OV2640_CHIPID_HIGH, &vid);
            _arducam.rdSensorReg8_8(OV2640_CHIPID_LOW, &pid);
            if ((vid != 0x26) && ((pid != 0x41) || (pid != 0x42)))
            {
                return false;
            }
            
            _arducam.set_format(_format);
            _arducam.InitCAM();
            _arducam.OV2640_set_JPEG_size(_image_size);
            _arducam.OV2640_set_Light_Mode(Auto);
            _arducam.OV2640_set_Special_effects(Normal);
            delay(1000);
    
            return true;
        }
    
        void startCapture()
        {
            _arducam.flush_fifo();
            _arducam.clear_fifo_flag();
            _arducam.start_capture();
        }
    
        bool captureReady()
        {
            return _arducam.get_bit(ARDUCHIP_TRIG, CAP_DONE_MASK);
        }
    
        bool readImageToBuffer(byte **buffer, uint32_t &buffer_length)
        {
            if (!captureReady()) return false;
    
            // Get the image file length
            uint32_t length = _arducam.read_fifo_length();
            buffer_length = length;
    
            if (length >= MAX_FIFO_SIZE)
            {
                return false;
            }
            if (length == 0)
            {
                return false;
            }
    
            // create the buffer
            byte *buf = new byte[length];
    
            uint8_t temp = 0, temp_last = 0;
            int i = 0;
            uint32_t buffer_pos = 0;
            bool is_header = false;
    
            _arducam.CS_LOW();
            _arducam.set_fifo_burst();
            
            while (length--)
            {
                temp_last = temp;
                temp = SPI.transfer(0x00);
                //Read JPEG data from FIFO
                if ((temp == 0xD9) && (temp_last == 0xFF)) //If find the end ,break while,
                {
                    buf[buffer_pos] = temp;
    
                    buffer_pos++;
                    i++;
                    
                    _arducam.CS_HIGH();
                }
                if (is_header == true)
                {
                    //Write image data to buffer if not full
                    if (i < 256)
                    {
                        buf[buffer_pos] = temp;
                        buffer_pos++;
                        i++;
                    }
                    else
                    {
                        _arducam.CS_HIGH();
    
                        i = 0;
                        buf[buffer_pos] = temp;
    
                        buffer_pos++;
                        i++;
    
                        _arducam.CS_LOW();
                        _arducam.set_fifo_burst();
                    }
                }
                else if ((temp == 0xD8) & (temp_last == 0xFF))
                {
                    is_header = true;
    
                    buf[buffer_pos] = temp_last;
                    buffer_pos++;
                    i++;
    
                    buf[buffer_pos] = temp;
                    buffer_pos++;
                    i++;
                }
            }
            
            _arducam.clear_fifo_flag();
    
            _arducam.set_format(_format);
            _arducam.InitCAM();
            _arducam.OV2640_set_JPEG_size(_image_size);
    
            // return the buffer
            *buffer = buf;
        }
    
    private:
        ArduCAM _arducam;
        int _format;
        int _image_size;
    };
    ```

    –¶–µ –Ω–∏–∑—å–∫–æ—Ä—ñ–≤–Ω–µ–≤–∏–π –∫–æ–¥, —è–∫–∏–π –Ω–∞–ª–∞—à—Ç–æ–≤—É—î –∫–∞–º–µ—Ä—É –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é –±—ñ–±–ª—ñ–æ—Ç–µ–∫ ArduCam —ñ –≤–∏—Ç—è–≥—É—î –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è, –∫–æ–ª–∏ —Ü–µ –Ω–µ–æ–±—Ö—ñ–¥–Ω–æ, –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—á–∏ SPI-—à–∏–Ω—É. –¶–µ–π –∫–æ–¥ –¥—É–∂–µ —Å–ø–µ—Ü–∏—Ñ—ñ—á–Ω–∏–π –¥–ª—è ArduCam, —Ç–æ–º—É –≤–∞–º –Ω–µ –ø–æ—Ç—Ä—ñ–±–Ω–æ —Ç—É—Ä–±—É–≤–∞—Ç–∏—Å—è –ø—Ä–æ —Ç–µ, —è–∫ –≤—ñ–Ω –ø—Ä–∞—Ü—é—î –Ω–∞ –¥–∞–Ω–æ–º—É –µ—Ç–∞–ø—ñ.

1. –£ `main.cpp` –¥–æ–¥–∞–π—Ç–µ –Ω–∞—Å—Ç—É–ø–Ω–∏–π –∫–æ–¥ –ø—ñ–¥ —ñ–Ω—à–∏–º–∏ `include`-–≤–∏—Å–ª–æ–≤–∞–º–∏, —â–æ–± –≤–∫–ª—é—á–∏—Ç–∏ —Ü–µ–π –Ω–æ–≤–∏–π —Ñ–∞–π–ª —ñ —Å—Ç–≤–æ—Ä–∏—Ç–∏ –µ–∫–∑–µ–º–ø–ª—è—Ä –∫–ª–∞—Å—É –∫–∞–º–µ—Ä–∏:

    ```cpp
    #include "camera.h"

    Camera camera = Camera(JPEG, OV2640_640x480);
    ```

    –¶–µ —Å—Ç–≤–æ—Ä—é—î `Camera`, —è–∫–∞ –∑–±–µ—Ä—ñ–≥–∞—î –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è —É —Ñ–æ—Ä–º–∞—Ç—ñ JPEG –∑ —Ä–æ–∑–¥—ñ–ª—å–Ω–æ—é –∑–¥–∞—Ç–Ω—ñ—Å—Ç—é 640x480. –•–æ—á–∞ –ø—ñ–¥—Ç—Ä–∏–º—É—é—Ç—å—Å—è –≤–∏—â—ñ —Ä–æ–∑–¥—ñ–ª—å–Ω—ñ –∑–¥–∞—Ç–Ω–æ—Å—Ç—ñ (–¥–æ 3280x2464), –∫–ª–∞—Å–∏—Ñ—ñ–∫–∞—Ç–æ—Ä –∑–æ–±—Ä–∞–∂–µ–Ω—å –ø—Ä–∞—Ü—é—î –∑ –Ω–∞–±–∞–≥–∞—Ç–æ –º–µ–Ω—à–∏–º–∏ –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è–º–∏ (227x227), —Ç–æ–º—É –Ω–µ–º–∞—î –ø–æ—Ç—Ä–µ–±–∏ –∑–∞—Ö–æ–ø–ª—é–≤–∞—Ç–∏ —Ç–∞ –Ω–∞–¥—Å–∏–ª–∞—Ç–∏ –±—ñ–ª—å—à—ñ –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è.

1. –î–æ–¥–∞–π—Ç–µ –Ω–∞—Å—Ç—É–ø–Ω–∏–π –∫–æ–¥ –Ω–∏–∂—á–µ, —â–æ–± –≤–∏–∑–Ω–∞—á–∏—Ç–∏ —Ñ—É–Ω–∫—Ü—ñ—é –¥–ª—è –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –∫–∞–º–µ—Ä–∏:

    ```cpp
    void setupCamera()
    {
        pinMode(PIN_SPI_SS, OUTPUT);
        digitalWrite(PIN_SPI_SS, HIGH);
    
        Wire.begin();
        SPI.begin();
    
        if (!camera.init())
        {
            Serial.println("Error setting up the camera!");
        }
    }
    ```

    –§—É–Ω–∫—Ü—ñ—è `setupCamera` –ø–æ—á–∏–Ω–∞—î –∑ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –ø—ñ–Ω—É –≤–∏–±–æ—Ä—É —á—ñ–ø–∞ SPI (`PIN_SPI_SS`) —è–∫ –≤–∏—Å–æ–∫–æ–≥–æ, —Ä–æ–±–ª—è—á–∏ Wio Terminal –∫–æ–Ω—Ç—Ä–æ–ª–µ—Ä–æ–º SPI. –ü–æ—Ç—ñ–º –≤–æ–Ω–∞ –∑–∞–ø—É—Å–∫–∞—î —à–∏–Ω–∏ I2C —ñ SPI. –ù–∞—Ä–µ—à—Ç—ñ, –≤–æ–Ω–∞ —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑—É—î –∫–ª–∞—Å –∫–∞–º–µ—Ä–∏, —è–∫–∏–π –Ω–∞–ª–∞—à—Ç–æ–≤—É—î –ø–∞—Ä–∞–º–µ—Ç—Ä–∏ —Å–µ–Ω—Å–æ—Ä–∞ –∫–∞–º–µ—Ä–∏ —Ç–∞ –ø–µ—Ä–µ–≤—ñ—Ä—è—î –ø—Ä–∞–≤–∏–ª—å–Ω—ñ—Å—Ç—å –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è.

1. –í–∏–∫–ª–∏—á—Ç–µ —Ü—é —Ñ—É–Ω–∫—Ü—ñ—é –≤ –∫—ñ–Ω—Ü—ñ —Ñ—É–Ω–∫—Ü—ñ—ó `setup`:

    ```cpp
    setupCamera();
    ```

1. –ó–±–µ—Ä—ñ—Ç—å —ñ –∑–∞–≤–∞–Ω—Ç–∞–∂—Ç–µ —Ü–µ–π –∫–æ–¥, —ñ –ø–µ—Ä–µ–≤—ñ—Ä—Ç–µ –≤–∏—Ö—ñ–¥–Ω—ñ –¥–∞–Ω—ñ –∑ —Å–µ—Ä—ñ–π–Ω–æ–≥–æ –º–æ–Ω—ñ—Ç–æ—Ä–∞. –Ø–∫—â–æ –≤–∏ –±–∞—á–∏—Ç–µ `Error setting up the camera!`, –ø–µ—Ä–µ–≤—ñ—Ä—Ç–µ –ø—Ä–æ–≤–æ–¥–∫—É, —â–æ–± –ø–µ—Ä–µ–∫–æ–Ω–∞—Ç–∏—Å—è, —â–æ –≤—Å—ñ –∫–∞–±–µ–ª—ñ –ø—ñ–¥–∫–ª—é—á–µ–Ω—ñ –¥–æ –ø—Ä–∞–≤–∏–ª—å–Ω–∏—Ö –ø—ñ–Ω—ñ–≤ –Ω–∞ ArduCam —ñ –ø—Ä–∞–≤–∏–ª—å–Ω–∏—Ö GPIO-–ø—ñ–Ω—ñ–≤ –Ω–∞ Wio Terminal, –∞ —Ç–∞–∫–æ–∂ —â–æ –≤—Å—ñ –∑'—î–¥–Ω—É–≤–∞–ª—å–Ω—ñ –¥—Ä–æ—Ç–∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –∑–∞–∫—Ä—ñ–ø–ª–µ–Ω—ñ.

## –ó–∞—Ö–æ–ø–ª–µ–Ω–Ω—è –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è

–¢–µ–ø–µ—Ä Wio Terminal –º–æ–∂–Ω–∞ –∑–∞–ø—Ä–æ–≥—Ä–∞–º—É–≤–∞—Ç–∏ –¥–ª—è –∑–∞—Ö–æ–ø–ª–µ–Ω–Ω—è –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è –ø—Ä–∏ –Ω–∞—Ç–∏—Å–∫–∞–Ω–Ω—ñ –∫–Ω–æ–ø–∫–∏.

### –ó–∞–≤–¥–∞–Ω–Ω—è - –∑–∞—Ö–æ–ø–ª–µ–Ω–Ω—è –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è

1. –ú—ñ–∫—Ä–æ–∫–æ–Ω—Ç—Ä–æ–ª–µ—Ä–∏ –≤–∏–∫–æ–Ω—É—é—Ç—å –≤–∞—à –∫–æ–¥ –±–µ–∑–ø–µ—Ä–µ—Ä–≤–Ω–æ, —Ç–æ–º—É –Ω–µ —Ç–∞–∫ –ø—Ä–æ—Å—Ç–æ –≤–∏–∫–ª–∏–∫–∞—Ç–∏ —â–æ—Å—å, –Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –∑—Ä–æ–±–∏—Ç–∏ —Ñ–æ—Ç–æ, –±–µ–∑ —Ä–µ–∞–∫—Ü—ñ—ó –Ω–∞ –¥–∞—Ç—á–∏–∫. Wio Terminal –º–∞—î –∫–Ω–æ–ø–∫–∏, —Ç–æ–º—É –∫–∞–º–µ—Ä—É –º–æ–∂–Ω–∞ –Ω–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ –¥–ª—è –∞–∫—Ç–∏–≤–∞—Ü—ñ—ó –æ–¥–Ω—ñ—î—é –∑ –∫–Ω–æ–ø–æ–∫. –î–æ–¥–∞–π—Ç–µ –Ω–∞—Å—Ç—É–ø–Ω–∏–π –∫–æ–¥ –¥–æ –∫—ñ–Ω—Ü—è —Ñ—É–Ω–∫—Ü—ñ—ó `setup`, —â–æ–± –Ω–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ –∫–Ω–æ–ø–∫—É C (–æ–¥–Ω—É –∑ —Ç—Ä—å–æ—Ö –∫–Ω–æ–ø–æ–∫ –∑–≤–µ—Ä—Ö—É, –Ω–∞–π–±–ª–∏–∂—á—É –¥–æ –ø–µ—Ä–µ–º–∏–∫–∞—á–∞ –∂–∏–≤–ª–µ–Ω–Ω—è).

    ![–ö–Ω–æ–ø–∫–∞ C –∑–≤–µ—Ä—Ö—É, –Ω–∞–π–±–ª–∏–∂—á–∞ –¥–æ –ø–µ—Ä–µ–º–∏–∫–∞—á–∞ –∂–∏–≤–ª–µ–Ω–Ω—è](../../../../../translated_images/wio-terminal-c-button.73df3cb1c1445ea07ee98316af0e7925fcb43135df0abed58d3d4822b2589c3b.uk.png)

    ```cpp
    pinMode(WIO_KEY_C, INPUT_PULLUP);
    ```

    –†–µ–∂–∏–º `INPUT_PULLUP` —Ñ–∞–∫—Ç–∏—á–Ω–æ —ñ–Ω–≤–µ—Ä—Ç—É—î –≤—Ö—ñ–¥. –ù–∞–ø—Ä–∏–∫–ª–∞–¥, –∑–∞–∑–≤–∏—á–∞–π –∫–Ω–æ–ø–∫–∞ –Ω–∞–¥—Å–∏–ª–∞—î –Ω–∏–∑—å–∫–∏–π —Å–∏–≥–Ω–∞–ª, –∫–æ–ª–∏ –Ω–µ –Ω–∞—Ç–∏—Å–Ω—É—Ç–∞, —ñ –≤–∏—Å–æ–∫–∏–π —Å–∏–≥–Ω–∞–ª, –∫–æ–ª–∏ –Ω–∞—Ç–∏—Å–Ω—É—Ç–∞. –ü—Ä–∏ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—ñ –Ω–∞ `INPUT_PULLUP` –≤–æ–Ω–∞ –Ω–∞–¥—Å–∏–ª–∞—î –≤–∏—Å–æ–∫–∏–π —Å–∏–≥–Ω–∞–ª, –∫–æ–ª–∏ –Ω–µ –Ω–∞—Ç–∏—Å–Ω—É—Ç–∞, —ñ –Ω–∏–∑—å–∫–∏–π —Å–∏–≥–Ω–∞–ª, –∫–æ–ª–∏ –Ω–∞—Ç–∏—Å–Ω—É—Ç–∞.

1. –î–æ–¥–∞–π—Ç–µ –ø–æ—Ä–æ–∂–Ω—é —Ñ—É–Ω–∫—Ü—ñ—é –¥–ª—è —Ä–µ–∞–≥—É–≤–∞–Ω–Ω—è –Ω–∞ –Ω–∞—Ç–∏—Å–∫–∞–Ω–Ω—è –∫–Ω–æ–ø–∫–∏ –ø–µ—Ä–µ–¥ —Ñ—É–Ω–∫—Ü—ñ—î—é `loop`:

    ```cpp
    void buttonPressed()
    {
        
    }
    ```

1. –í–∏–∫–ª–∏—á—Ç–µ —Ü—é —Ñ—É–Ω–∫—Ü—ñ—é –≤ –º–µ—Ç–æ–¥—ñ `loop`, –∫–æ–ª–∏ –∫–Ω–æ–ø–∫–∞ –Ω–∞—Ç–∏—Å–Ω—É—Ç–∞:

    ```cpp
    void loop()
    {
        if (digitalRead(WIO_KEY_C) == LOW)
        {
            buttonPressed();
            delay(2000);
        }
    
        delay(200);
    }
    ```

    –¶–µ–π –∫–ª—é—á –ø–µ—Ä–µ–≤—ñ—Ä—è—î, —á–∏ –∫–Ω–æ–ø–∫–∞ –Ω–∞—Ç–∏—Å–Ω—É—Ç–∞. –Ø–∫—â–æ –≤–æ–Ω–∞ –Ω–∞—Ç–∏—Å–Ω—É—Ç–∞, –≤–∏–∫–ª–∏–∫–∞—î—Ç—å—Å—è —Ñ—É–Ω–∫—Ü—ñ—è `buttonPressed`, —ñ —Ü–∏–∫–ª –∑–∞—Ç—Ä–∏–º—É—î—Ç—å—Å—è –Ω–∞ 2 —Å–µ–∫—É–Ω–¥–∏. –¶–µ –¥–æ–∑–≤–æ–ª—è—î –∫–Ω–æ–ø—Ü—ñ –±—É—Ç–∏ –≤—ñ–¥–ø—É—â–µ–Ω–æ—é, —â–æ–± –¥–æ–≤–≥–µ –Ω–∞—Ç–∏—Å–∫–∞–Ω–Ω—è –Ω–µ —Ä–µ—î—Å—Ç—Ä—É–≤–∞–ª–æ—Å—è –¥–≤—ñ—á—ñ.

    > üíÅ –ö–Ω–æ–ø–∫–∞ –Ω–∞ Wio Terminal –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–∞ –Ω–∞ `INPUT_PULLUP`, —Ç–æ–º—É –Ω–∞–¥—Å–∏–ª–∞—î –≤–∏—Å–æ–∫–∏–π —Å–∏–≥–Ω–∞–ª, –∫–æ–ª–∏ –Ω–µ –Ω–∞—Ç–∏—Å–Ω—É—Ç–∞, —ñ –Ω–∏–∑—å–∫–∏–π —Å–∏–≥–Ω–∞–ª, –∫–æ–ª–∏ –Ω–∞—Ç–∏—Å–Ω—É—Ç–∞.

1. –î–æ–¥–∞–π—Ç–µ –Ω–∞—Å—Ç—É–ø–Ω–∏–π –∫–æ–¥ –¥–æ —Ñ—É–Ω–∫—Ü—ñ—ó `buttonPressed`:

    ```cpp
    camera.startCapture();
 
    while (!camera.captureReady())
        delay(100);

    Serial.println("Image captured");

    byte *buffer;
    uint32_t length;

    if (camera.readImageToBuffer(&buffer, length))
    {
        Serial.print("Image read to buffer with length ");
        Serial.println(length);

        delete(buffer);
    }
    ```

    –¶–µ–π –∫–æ–¥ –ø–æ—á–∏–Ω–∞—î –∑–∞—Ö–æ–ø–ª–µ–Ω–Ω—è –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è, –≤–∏–∫–ª–∏–∫–∞—é—á–∏ `startCapture`. –ê–ø–∞—Ä–∞—Ç–Ω–µ –∑–∞–±–µ–∑–ø–µ—á–µ–Ω–Ω—è –∫–∞–º–µ—Ä–∏ –Ω–µ –ø—Ä–∞—Ü—é—î, –ø–æ–≤–µ—Ä—Ç–∞—é—á–∏ –¥–∞–Ω—ñ, –∫–æ–ª–∏ –≤–∏ —ó—Ö –∑–∞–ø–∏—Ç—É—î—Ç–µ, –Ω–∞—Ç–æ–º—ñ—Å—Ç—å –≤–∏ –Ω–∞–¥—Å–∏–ª–∞—î—Ç–µ —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—é –¥–ª—è –ø–æ—á–∞—Ç–∫—É –∑–∞—Ö–æ–ø–ª–µ–Ω–Ω—è, —ñ –∫–∞–º–µ—Ä–∞ –ø—Ä–∞—Ü—é—î —É —Ñ–æ–Ω–æ–≤–æ–º—É —Ä–µ–∂–∏–º—ñ, —â–æ–± –∑–∞—Ö–æ–ø–∏—Ç–∏ –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è, –ø–µ—Ä–µ—Ç–≤–æ—Ä–∏—Ç–∏ –π–æ–≥–æ –Ω–∞ JPEG —ñ –∑–±–µ—Ä–µ–≥—Ç–∏ –≤ –ª–æ–∫–∞–ª—å–Ω–æ–º—É –±—É—Ñ–µ—Ä—ñ –Ω–∞ —Å–∞–º—ñ–π –∫–∞–º–µ—Ä—ñ. –í–∏–∫–ª–∏–∫ `captureReady` –ø–æ—Ç—ñ–º –ø–µ—Ä–µ–≤—ñ—Ä—è—î, —á–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–æ –∑–∞—Ö–æ–ø–ª–µ–Ω–Ω—è –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è.

    –ü—ñ—Å–ª—è –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è –∑–∞—Ö–æ–ø–ª–µ–Ω–Ω—è –¥–∞–Ω—ñ –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è –∫–æ–ø—ñ—é—é—Ç—å—Å—è –∑ –±—É—Ñ–µ—Ä–∞ –Ω–∞ –∫–∞–º–µ—Ä—ñ –≤ –ª–æ–∫–∞–ª—å–Ω–∏–π –±—É—Ñ–µ—Ä (–º–∞—Å–∏–≤ –±–∞–π—Ç—ñ–≤) –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é –≤–∏–∫–ª–∏–∫—É `readImageToBuffer`. –î–æ–≤–∂–∏–Ω–∞ –±—É—Ñ–µ—Ä–∞ –ø–æ—Ç—ñ–º –Ω–∞–¥—Å–∏–ª–∞—î—Ç—å—Å—è –¥–æ —Å–µ—Ä—ñ–π–Ω–æ–≥–æ –º–æ–Ω—ñ—Ç–æ—Ä–∞.

1. –ó–±–µ—Ä—ñ—Ç—å —ñ –∑–∞–≤–∞–Ω—Ç–∞–∂—Ç–µ —Ü–µ–π –∫–æ–¥, —ñ –ø–µ—Ä–µ–≤—ñ—Ä—Ç–µ –≤–∏—Ö—ñ–¥–Ω—ñ –¥–∞–Ω—ñ –Ω–∞ —Å–µ—Ä—ñ–π–Ω–æ–º—É –º–æ–Ω—ñ—Ç–æ—Ä—ñ. –ö–æ–∂–Ω–æ–≥–æ —Ä–∞–∑—É, –∫–æ–ª–∏ –≤–∏ –Ω–∞—Ç–∏—Å–∫–∞—î—Ç–µ –∫–Ω–æ–ø–∫—É C, –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è –±—É–¥–µ –∑–∞—Ö–æ–ø–ª–µ–Ω–æ, —ñ –≤–∏ –ø–æ–±–∞—á–∏—Ç–µ —Ä–æ–∑–º—ñ—Ä –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è, –Ω–∞–¥—ñ—Å–ª–∞–Ω–∏–π –¥–æ —Å–µ—Ä—ñ–π–Ω–æ–≥–æ –º–æ–Ω—ñ—Ç–æ—Ä–∞.

    ```output
    Connecting to WiFi..
    Connected!
    Image captured
    Image read to buffer with length 9224
    Image captured
    Image read to buffer with length 11272
    ```

    –†—ñ–∑–Ω—ñ –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è –º–∞—Ç–∏–º—É—Ç—å —Ä—ñ–∑–Ω—ñ —Ä–æ–∑–º—ñ—Ä–∏. –í–æ–Ω–∏ —Å—Ç–∏—Å–∫–∞—é—Ç—å—Å—è —è–∫ JPEG, —ñ —Ä–æ–∑–º—ñ—Ä —Ñ–∞–π–ª—É JPEG –¥–ª—è –∑–∞–¥–∞–Ω–æ—ó —Ä–æ–∑–¥—ñ–ª—å–Ω–æ—ó –∑–¥–∞—Ç–Ω–æ—Å—Ç—ñ –∑–∞–ª–µ–∂–∏—Ç—å –≤—ñ–¥ —Ç–æ–≥–æ, —â–æ –∑–Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è –Ω–∞ –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—ñ.

> üíÅ –í–∏ –º–æ–∂–µ—Ç–µ –∑–Ω–∞–π—Ç–∏ —Ü–µ–π –∫–æ–¥ —É –ø–∞–ø—Ü—ñ [code-camera/wio-terminal](../../../../../4-manufacturing/lessons/2-check-fruit-from-device/code-camera/wio-terminal).

üòÄ –í–∏ —É—Å–ø—ñ—à–Ω–æ –∑–∞—Ö–æ–ø–∏–ª–∏ –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é –≤–∞—à–æ–≥–æ Wio Terminal.

## –î–æ–¥–∞—Ç–∫–æ–≤–æ - –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ –∑–æ–±—Ä–∞–∂–µ–Ω—å –∫–∞–º–µ—Ä–∏ –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é SD-–∫–∞—Ä—Ç–∏

–ù–∞–π–ø—Ä–æ—Å—Ç—ñ—à–∏–π —Å–ø–æ—Å—ñ–± –ø–æ–±–∞—á–∏—Ç–∏ –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è, –∑–∞—Ö–æ–ø–ª–µ–Ω—ñ –∫–∞–º–µ—Ä–æ—é, ‚Äî —Ü–µ –∑–∞–ø–∏—Å–∞—Ç–∏ —ó—Ö –Ω–∞ SD-–∫–∞—Ä—Ç—É –≤ Wio Terminal, –∞ –ø–æ—Ç—ñ–º –ø–µ—Ä–µ–≥–ª—è–Ω—É—Ç–∏ —ó—Ö –Ω–∞ –≤–∞—à–æ–º—É –∫–æ–º–ø'—é—Ç–µ—Ä—ñ. –í–∏–∫–æ–Ω–∞–π—Ç–µ —Ü–µ–π –∫—Ä–æ–∫, —è–∫—â–æ —É –≤–∞—Å —î –∑–∞–ø–∞—Å–Ω–∞ microSD-–∫–∞—Ä—Ç–∞ —ñ —Ä–æ–∑'—î–º –¥–ª—è microSD-–∫–∞—Ä—Ç–∏ –Ω–∞ –≤–∞—à–æ–º—É –∫–æ–º–ø'—é—Ç–µ—Ä—ñ –∞–±–æ –∞–¥–∞–ø—Ç–µ—Ä.

Wio Terminal –ø—ñ–¥—Ç—Ä–∏–º—É—î –ª–∏—à–µ microSD-–∫–∞—Ä—Ç–∏ –æ–±'—î–º–æ–º –¥–æ 16 –ì–ë. –Ø–∫—â–æ —É –≤–∞—Å —î –±—ñ–ª—å—à–∞ SD-–∫–∞—Ä—Ç–∞, –≤–æ–Ω–∞ –Ω–µ –ø—Ä–∞—Ü—é–≤–∞—Ç–∏–º–µ.

### –ó–∞–≤–¥–∞–Ω–Ω—è - –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ –∑–æ–±—Ä–∞–∂–µ–Ω—å –∫–∞–º–µ—Ä–∏ –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é SD-–∫–∞—Ä—Ç–∏

1. –í—ñ–¥—Ñ–æ—Ä–º–∞—Ç—É–π—Ç–µ microSD-–∫–∞—Ä—Ç—É —è–∫ FAT32 –∞–±–æ exFAT, –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—á–∏ –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω—ñ –ø—Ä–æ–≥—Ä–∞–º–∏ –Ω–∞ –≤–∞—à–æ–º—É –∫–æ–º–ø'—é—Ç–µ—Ä—ñ (Disk Utility –Ω–∞ macOS, File Explorer –Ω–∞ Windows –∞–±–æ –∫–æ–º–∞–Ω–¥–Ω—ñ —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏ –≤ Linux).

1. –í—Å—Ç–∞–≤—Ç–µ microSD-–∫–∞—Ä—Ç—É –≤ —Ä–æ–∑'—î–º —Ç—Ä–æ—Ö–∏ –Ω–∏–∂—á–µ –ø–µ—Ä–µ–º–∏–∫–∞—á–∞ –∂–∏–≤–ª–µ–Ω–Ω—è. –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ –≤–æ–Ω–∞ –≤—Å—Ç–∞–≤–ª–µ–Ω–∞ –¥–æ –∫—ñ–Ω—Ü—è, –ø–æ–∫–∏ –Ω–µ –∫–ª–∞—Ü–Ω–µ —ñ –Ω–µ –∑–∞–ª–∏—à–∏—Ç—å—Å—è –Ω–∞ –º—ñ—Å—Ü—ñ. –ú–æ–∂–ª–∏–≤–æ, –≤–∞–º –¥–æ–≤–µ–¥–µ—Ç—å—Å—è –Ω–∞—Ç–∏—Å–Ω—É—Ç–∏ —ó—ó –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é –Ω—ñ–≥—Ç—è –∞–±–æ —Ç–æ–Ω–∫–æ–≥–æ —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞.

1. –î–æ–¥–∞–π—Ç–µ –Ω–∞—Å—Ç—É–ø–Ω—ñ –≤–∏—Å–ª–æ–≤–∏ `include` –Ω–∞ –ø–æ—á–∞—Ç–∫—É —Ñ–∞–π–ª—É `main.cpp`:

    ```cpp
    #include "SD/Seeed_SD.h"
    #include <Seeed_FS.h>
    ```

1. –î–æ–¥–∞–π—Ç–µ –Ω–∞—Å—Ç—É–ø–Ω—É —Ñ—É–Ω–∫—Ü—ñ—é –ø–µ—Ä–µ–¥ —Ñ—É–Ω–∫—Ü—ñ—î—é `setup`:

    ```cpp
    void setupSDCard()
    {
        while (!SD.begin(SDCARD_SS_PIN, SDCARD_SPI))
        {
            Serial.println("SD Card Error");
        }
    }
    ```

    –¶–µ –Ω–∞–ª–∞—à—Ç–æ–≤—É—î SD-–∫–∞—Ä—Ç—É –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é SPI-—à–∏–Ω–∏.

1. –í–∏–∫–ª–∏—á—Ç–µ —Ü–µ –∑ —Ñ—É–Ω–∫—Ü—ñ—ó `setup`:

    ```cpp
    setupSDCard();
    ```

1. –î–æ–¥–∞–π—Ç–µ –Ω–∞—Å—Ç—É–ø–Ω–∏–π –∫–æ–¥ –Ω–∞–¥ —Ñ—É–Ω–∫—Ü—ñ—î—é `buttonPressed`:

    ```cpp
    int fileNum = 1;

    void saveToSDCard(byte *buffer, uint32_t length)
    {
        char buff[16];
        sprintf(buff, "%d.jpg", fileNum);
        fileNum++;
    
        File outFile = SD.open(buff, FILE_WRITE );
        outFile.write(buffer, length);
        outFile.close();

        Serial.print("Image written to file ");
        Serial.println(buff);
    }
    ```

    –¶–µ –≤–∏–∑–Ω–∞—á–∞—î –≥–ª–æ–±–∞–ª—å–Ω—É –∑–º—ñ–Ω–Ω—É –¥–ª—è –ø—ñ–¥—Ä–∞—Ö—É–Ω–∫—É —Ñ–∞–π–ª—ñ–≤. –í–æ–Ω–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –¥–ª—è —ñ–º–µ–Ω —Ñ–∞–π–ª—ñ–≤ –∑–æ–±—Ä–∞–∂–µ–Ω—å, —â–æ–± –º–æ–∂–Ω–∞ –±—É–ª–æ –∑–∞—Ö–æ–ø–ª—é–≤–∞—Ç–∏ –∫—ñ–ª—å–∫–∞ –∑–æ–±—Ä–∞–∂–µ–Ω—å –∑ —ñ–Ω–∫—Ä–µ–º–µ–Ω—Ç–Ω–∏–º–∏ —ñ–º–µ–Ω–∞–º–∏ —Ñ–∞–π–ª—ñ–≤ ‚Äî `1.jpg`, `2.jpg` —ñ —Ç–∞–∫ –¥–∞–ª—ñ.

    –ü–æ—Ç—ñ–º –≤–∏–∑–Ω–∞—á–∞—î—Ç—å—Å—è —Ñ—É–Ω–∫—Ü—ñ—è `saveToSDCard`, —è–∫–∞ –ø—Ä–∏–π–º–∞—î –±—É—Ñ–µ—Ä –¥–∞–Ω–∏—Ö –±–∞–π—Ç—ñ–≤ —ñ –¥–æ–≤–∂–∏–Ω—É –±—É—Ñ–µ—Ä–∞. –Ü–º'—è —Ñ–∞–π–ª—É —Å—Ç–≤–æ—Ä—é—î—Ç—å—Å—è –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é –ø—ñ–¥—Ä–∞—Ö—É–Ω–∫—É —Ñ–∞–π–ª—ñ–≤, —ñ –ø—ñ–¥—Ä–∞—Ö—É–Ω–æ–∫ —Ñ–∞–π–ª—ñ–≤ –∑–±—ñ–ª—å—à—É—î—Ç—å—Å—è, –≥–æ—Ç—É—é—á–∏—Å—å –¥–æ –Ω–∞—Å—Ç—É–ø–Ω–æ–≥–æ —Ñ–∞–π–ª—É. –î–≤—ñ–π–∫–æ–≤—ñ –¥–∞–Ω—ñ –∑ –±—É—Ñ–µ—Ä–∞ –ø–æ—Ç—ñ–º –∑–∞–ø–∏—Å—É—é—Ç—å—Å—è —É —Ñ–∞–π–ª.

1. –í–∏–∫–ª–∏—á—Ç–µ —Ñ—É–Ω–∫—Ü—ñ—é `saveToSDCard` –∑ —Ñ—É–Ω–∫—Ü—ñ—ó `buttonPressed`. –í–∏–∫–ª–∏–∫ –º–∞—î –±—É—Ç–∏ **–ø–µ—Ä–µ–¥** –≤–∏–¥–∞–ª–µ–Ω–Ω—è–º –±—É—Ñ–µ—Ä–∞:

    ```cpp
    Serial.print("Image read to buffer with length ");
    Serial.println(length);

    saveToSDCard(buffer, length);
    
    delete(buffer);
    ```

1. –ó–±–µ—Ä—ñ—Ç—å —ñ –∑–∞–≤–∞–Ω—Ç–∞–∂—Ç–µ —Ü–µ–π –∫–æ–¥, —ñ –ø–µ—Ä–µ–≤—ñ—Ä—Ç–µ –≤–∏—Ö—ñ–¥–Ω—ñ –¥–∞–Ω—ñ –Ω–∞ —Å–µ—Ä—ñ–π–Ω–æ–º—É –º–æ–Ω—ñ—Ç–æ—Ä—ñ. –ö–æ–∂–Ω–æ–≥–æ —Ä–∞–∑—É, –∫–æ–ª–∏ –≤–∏ –Ω–∞—Ç–∏—Å–∫–∞—î—Ç–µ –∫–Ω–æ–ø–∫—É C, –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è –±—É–¥–µ –∑–∞—Ö–æ–ø–ª–µ–Ω–æ —ñ –∑–±–µ—Ä–µ–∂–µ–Ω–æ –Ω–∞ SD-–∫–∞—Ä—Ç—É.

    ```output
    Connecting to WiFi..
    Connected!
    Image captured
    Image read to buffer with length 16392
    Image written to file 1.jpg
    Image captured
    Image read to buffer with length 14344
    Image written to file 2.jpg
    ```

1. –í–∏–º–∫–Ω—ñ—Ç—å –∂–∏–≤–ª–µ–Ω–Ω—è microSD-–∫–∞—Ä—Ç–∏ —ñ –≤–∏—Ç—è–≥–Ω—ñ—Ç—å —ó—ó, —Ç—Ä–æ—Ö–∏ –Ω–∞—Ç–∏—Å–Ω—É–≤—à–∏ —ñ –≤—ñ–¥–ø—É—Å—Ç–∏–≤—à–∏, —ñ –≤–æ–Ω–∞ –≤–∏—Å–∫–æ—á–∏—Ç—å. –ú–æ–∂–ª–∏–≤–æ, –≤–∞–º –¥–æ–≤–µ–¥–µ—Ç—å—Å—è –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ —Ç–æ–Ω–∫–∏–π —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è —Ü—å–æ–≥–æ. –ü—ñ–¥–∫–ª—é—á—ñ—Ç—å microSD-–∫–∞—Ä—Ç—É –¥–æ –≤–∞—à–æ–≥–æ –∫–æ–º–ø'—é—Ç–µ—Ä–∞, —â–æ–± –ø–µ—Ä–µ–≥–ª—è–Ω—É—Ç–∏ –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è.

    ![–ó–æ–±—Ä–∞–∂–µ–Ω–Ω—è –±–∞–Ω–∞–Ω–∞, –∑–∞—Ö–æ–ø–ª–µ–Ω–µ –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é ArduCam](../../../../../translated_images/banana-arducam.be1b32d4267a8194b0fd042362e56faa431da9cd4af172051b37243ea9be0256.uk.jpg)
üíÅ –ú–æ–∂–µ –∑–Ω–∞–¥–æ–±–∏—Ç–∏—Å—è –∫—ñ–ª—å–∫–∞ –∑–æ–±—Ä–∞–∂–µ–Ω—å, —â–æ–± –±–∞–ª–∞–Ω—Å –±—ñ–ª–æ–≥–æ –∫–∞–º–µ—Ä–∏ –Ω–∞–ª–∞—à—Ç—É–≤–∞–≤—Å—è. –í–∏ –ø–æ–º—ñ—Ç–∏—Ç–µ —Ü–µ –∑–∞ –∫–æ–ª—å–æ—Ä–æ–º –∑–∞—Ö–æ–ø–ª–µ–Ω–∏—Ö –∑–æ–±—Ä–∞–∂–µ–Ω—å, –ø–µ—Ä—à—ñ –∫—ñ–ª—å–∫–∞ –º–æ–∂—É—Ç—å –≤–∏–≥–ª—è–¥–∞—Ç–∏ –∑ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∏–º –∫–æ–ª—å–æ—Ä–æ–º. –í–∏ –∑–∞–≤–∂–¥–∏ –º–æ–∂–µ—Ç–µ –æ–±—ñ–π—Ç–∏ —Ü–µ, –∑–º—ñ–Ω–∏–≤—à–∏ –∫–æ–¥ –¥–ª—è –∑–∞—Ö–æ–ø–ª–µ–Ω–Ω—è –∫—ñ–ª—å–∫–æ—Ö –∑–æ–±—Ä–∞–∂–µ–Ω—å, —è–∫—ñ —ñ–≥–Ω–æ—Ä—É—é—Ç—å—Å—è —É —Ñ—É–Ω–∫—Ü—ñ—ó `setup`.


---

**–í—ñ–¥–º–æ–≤–∞ –≤—ñ–¥ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞–ª—å–Ω–æ—Å—Ç—ñ**:  
–¶–µ–π –¥–æ–∫—É–º–µ–Ω—Ç –±—É–≤ –ø–µ—Ä–µ–∫–ª–∞–¥–µ–Ω–∏–π –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é —Å–µ—Ä–≤—ñ—Å—É –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ–≥–æ –ø–µ—Ä–µ–∫–ª–∞–¥—É [Co-op Translator](https://github.com/Azure/co-op-translator). –•–æ—á–∞ –º–∏ –ø—Ä–∞–≥–Ω–µ–º–æ –¥–æ —Ç–æ—á–Ω–æ—Å—Ç—ñ, –±—É–¥—å –ª–∞—Å–∫–∞, –º–∞–π—Ç–µ –Ω–∞ —É–≤–∞–∑—ñ, —â–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω—ñ –ø–µ—Ä–µ–∫–ª–∞–¥–∏ –º–æ–∂—É—Ç—å –º—ñ—Å—Ç–∏—Ç–∏ –ø–æ–º–∏–ª–∫–∏ –∞–±–æ –Ω–µ—Ç–æ—á–Ω–æ—Å—Ç—ñ. –û—Ä–∏–≥—ñ–Ω–∞–ª—å–Ω–∏–π –¥–æ–∫—É–º–µ–Ω—Ç –Ω–∞ –π–æ–≥–æ —Ä—ñ–¥–Ω—ñ–π –º–æ–≤—ñ —Å–ª—ñ–¥ –≤–≤–∞–∂–∞—Ç–∏ –∞–≤—Ç–æ—Ä–∏—Ç–µ—Ç–Ω–∏–º –¥–∂–µ—Ä–µ–ª–æ–º. –î–ª—è –∫—Ä–∏—Ç–∏—á–Ω–æ—ó —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—ó —Ä–µ–∫–æ–º–µ–Ω–¥—É—î—Ç—å—Å—è –ø—Ä–æ—Ñ–µ—Å—ñ–π–Ω–∏–π –ª—é–¥—Å—å–∫–∏–π –ø–µ—Ä–µ–∫–ª–∞–¥. –ú–∏ –Ω–µ –Ω–µ—Å–µ–º–æ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞–ª—å–Ω–æ—Å—Ç—ñ –∑–∞ –±—É–¥—å-—è–∫—ñ –Ω–µ–ø–æ—Ä–æ–∑—É–º—ñ–Ω–Ω—è –∞–±–æ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ñ —Ç–ª—É–º–∞—á–µ–Ω–Ω—è, —â–æ –≤–∏–Ω–∏–∫–∞—é—Ç—å –≤–Ω–∞—Å–ª—ñ–¥–æ–∫ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è —Ü—å–æ–≥–æ –ø–µ—Ä–µ–∫–ª–∞–¥—É.