<!--
CO_OP_TRANSLATOR_METADATA:
{
  "original_hash": "5f2d2f4a5a023c93ab34a0cc5b47c0c4",
  "translation_date": "2025-08-28T17:47:35+00:00",
  "source_file": "2-farm/lessons/5-migrate-application-to-the-cloud/README.md",
  "language_code": "uk"
}
-->
# –ü–µ—Ä–µ–Ω–µ—Å–µ–Ω–Ω—è –ª–æ–≥—ñ–∫–∏ –≤–∞—à–æ–≥–æ –¥–æ–¥–∞—Ç–∫—É –≤ —Ö–º–∞—Ä—É

![–°–∫–µ—Ç—á–Ω–æ—Ç –æ–≥–ª—è–¥ —Ü—å–æ–≥–æ —É—Ä–æ–∫—É](../../../../../translated_images/lesson-9.dfe99c8e891f48e179724520da9f5794392cf9a625079281ccdcbf09bd85e1b6.uk.jpg)

> –°–∫–µ—Ç—á–Ω–æ—Ç –≤—ñ–¥ [Nitya Narasimhan](https://github.com/nitya). –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å –Ω–∞ –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è –¥–ª—è –ø–µ—Ä–µ–≥–ª—è–¥—É —É –±—ñ–ª—å—à–æ–º—É —Ä–æ–∑–º—ñ—Ä—ñ.

–¶–µ–π —É—Ä–æ–∫ –±—É–≤ –ø—Ä–æ–≤–µ–¥–µ–Ω–∏–π —É —Ä–∞–º–∫–∞—Ö [IoT –¥–ª—è –ø–æ—á–∞—Ç–∫—ñ–≤—Ü—ñ–≤: –ü—Ä–æ–µ–∫—Ç 2 - –¶–∏—Ñ—Ä–æ–≤–µ —Å—ñ–ª—å—Å—å–∫–µ –≥–æ—Å–ø–æ–¥–∞—Ä—Å—Ç–≤–æ](https://youtube.com/playlist?list=PLmsFUfdnGr3yCutmcVg6eAUEfsGiFXgcx) –≤—ñ–¥ [Microsoft Reactor](https://developer.microsoft.com/reactor/?WT.mc_id=academic-17441-jabenn).

[![–ö–µ—Ä—É–≤–∞–Ω–Ω—è –≤–∞—à–∏–º IoT-–ø—Ä–∏—Å—Ç—Ä–æ—î–º –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é –±–µ–∑—Å–µ—Ä–≤–µ—Ä–Ω–æ–≥–æ –∫–æ–¥—É](https://img.youtube.com/vi/VVZDcs5u1_I/0.jpg)](https://youtu.be/VVZDcs5u1_I)

## –¢–µ—Å—Ç –ø–µ—Ä–µ–¥ –ª–µ–∫—Ü—ñ—î—é

[–¢–µ—Å—Ç –ø–µ—Ä–µ–¥ –ª–µ–∫—Ü—ñ—î—é](https://black-meadow-040d15503.1.azurestaticapps.net/quiz/17)

## –í—Å—Ç—É–ø

–£ –ø–æ–ø–µ—Ä–µ–¥–Ω—å–æ–º—É —É—Ä–æ—Ü—ñ –≤–∏ –¥—ñ–∑–Ω–∞–ª–∏—Å—è, —è–∫ –ø—ñ–¥–∫–ª—é—á–∏—Ç–∏ –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ –≤–æ–ª–æ–≥–æ—Å—Ç—ñ “ë—Ä—É–Ω—Ç—É –≤–∞—à–æ—ó —Ä–æ—Å–ª–∏–Ω–∏ —Ç–∞ –∫–µ—Ä—É–≤–∞–Ω–Ω—è —Ä–µ–ª–µ –¥–æ —Ö–º–∞—Ä–Ω–æ–≥–æ IoT-—Å–µ—Ä–≤—ñ—Å—É. –ù–∞—Å—Ç—É–ø–Ω–∏–º –∫—Ä–æ–∫–æ–º —î –ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–Ω—è —Å–µ—Ä–≤–µ—Ä–Ω–æ–≥–æ –∫–æ–¥—É, —è–∫–∏–π –∫–æ–Ω—Ç—Ä–æ–ª—é—î —Ç–∞–π–º—ñ–Ω–≥ —Ä–µ–ª–µ, —É —Ö–º–∞—Ä—É. –£ —Ü—å–æ–º—É —É—Ä–æ—Ü—ñ –≤–∏ –Ω–∞–≤—á–∏—Ç–µ—Å—è —Ä–æ–±–∏—Ç–∏ —Ü–µ –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é –±–µ–∑—Å–µ—Ä–≤–µ—Ä–Ω–∏—Ö —Ñ—É–Ω–∫—Ü—ñ–π.

–£ —Ü—å–æ–º—É —É—Ä–æ—Ü—ñ –º–∏ —Ä–æ–∑–≥–ª—è–Ω–µ–º–æ:

* [–©–æ —Ç–∞–∫–µ –±–µ–∑—Å–µ—Ä–≤–µ—Ä–Ω—ñ—Å—Ç—å?](../../../../../2-farm/lessons/5-migrate-application-to-the-cloud)
* [–°—Ç–≤–æ—Ä–µ–Ω–Ω—è –±–µ–∑—Å–µ—Ä–≤–µ—Ä–Ω–æ–≥–æ –¥–æ–¥–∞—Ç–∫—É](../../../../../2-farm/lessons/5-migrate-application-to-the-cloud)
* [–°—Ç–≤–æ—Ä–µ–Ω–Ω—è —Ç—Ä–∏–≥–µ—Ä–∞ –ø–æ–¥—ñ–π IoT Hub](../../../../../2-farm/lessons/5-migrate-application-to-the-cloud)
* [–ù–∞–¥—Å–∏–ª–∞–Ω–Ω—è –∑–∞–ø–∏—Ç—ñ–≤ –ø—Ä—è–º–æ–≥–æ –º–µ—Ç–æ–¥—É –∑ –±–µ–∑—Å–µ—Ä–≤–µ—Ä–Ω–æ–≥–æ –∫–æ–¥—É](../../../../../2-farm/lessons/5-migrate-application-to-the-cloud)
* [–†–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è –≤–∞—à–æ–≥–æ –±–µ–∑—Å–µ—Ä–≤–µ—Ä–Ω–æ–≥–æ –∫–æ–¥—É –≤ —Ö–º–∞—Ä—ñ](../../../../../2-farm/lessons/5-migrate-application-to-the-cloud)

## –©–æ —Ç–∞–∫–µ –±–µ–∑—Å–µ—Ä–≤–µ—Ä–Ω—ñ—Å—Ç—å?

–ë–µ–∑—Å–µ—Ä–≤–µ—Ä–Ω—ñ—Å—Ç—å, –∞–±–æ –±–µ–∑—Å–µ—Ä–≤–µ—Ä–Ω–µ –æ–±—á–∏—Å–ª–µ–Ω–Ω—è, –ø–µ—Ä–µ–¥–±–∞—á–∞—î —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –Ω–µ–≤–µ–ª–∏–∫–∏—Ö –±–ª–æ–∫—ñ–≤ –∫–æ–¥—É, —è–∫—ñ –≤–∏–∫–æ–Ω—É—é—Ç—å—Å—è –≤ —Ö–º–∞—Ä—ñ —É –≤—ñ–¥–ø–æ–≤—ñ–¥—å –Ω–∞ —Ä—ñ–∑–Ω—ñ —Ç–∏–ø–∏ –ø–æ–¥—ñ–π. –ö–æ–ª–∏ –ø–æ–¥—ñ—è –≤—ñ–¥–±—É–≤–∞—î—Ç—å—Å—è, –≤–∞—à –∫–æ–¥ –∑–∞–ø—É—Å–∫–∞—î—Ç—å—Å—è —ñ –æ—Ç—Ä–∏–º—É—î –¥–∞–Ω—ñ –ø—Ä–æ —Ü—é –ø–æ–¥—ñ—é. –¶—ñ –ø–æ–¥—ñ—ó –º–æ–∂—É—Ç—å –Ω–∞–¥—Ö–æ–¥–∏—Ç–∏ –∑ —Ä—ñ–∑–Ω–∏—Ö –¥–∂–µ—Ä–µ–ª, –≤–∫–ª—é—á–∞—é—á–∏ –≤–µ–±-–∑–∞–ø–∏—Ç–∏, –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –≤ —á–µ—Ä–∑—ñ, –∑–º—ñ–Ω–∏ –¥–∞–Ω–∏—Ö —É –±–∞–∑—ñ –¥–∞–Ω–∏—Ö –∞–±–æ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è, –Ω–∞–¥—ñ—Å–ª–∞–Ω—ñ IoT-–ø—Ä–∏—Å—Ç—Ä–æ—è–º–∏ –¥–æ IoT-—Å–µ—Ä–≤—ñ—Å—É.

![–ü–æ–¥—ñ—ó, —â–æ –Ω–∞–¥—Å–∏–ª–∞—é—Ç—å—Å—è –∑ IoT-—Å–µ—Ä–≤—ñ—Å—É –¥–æ –±–µ–∑—Å–µ—Ä–≤–µ—Ä–Ω–æ–≥–æ —Å–µ—Ä–≤—ñ—Å—É, –æ–±—Ä–æ–±–ª—è—é—Ç—å—Å—è –æ–¥–Ω–æ—á–∞—Å–Ω–æ –∫—ñ–ª—å–∫–æ–º–∞ —Ñ—É–Ω–∫—Ü—ñ—è–º–∏](../../../../../translated_images/iot-messages-to-serverless.0194da1cc0732bb7d0f823aed3fce54735c6b1ad3bf36089804d8aaefc0a774f.uk.png)

> üíÅ –Ø–∫—â–æ –≤–∏ —Ä–∞–Ω—ñ—à–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞–ª–∏ —Ç—Ä–∏–≥–µ—Ä–∏ –±–∞–∑ –¥–∞–Ω–∏—Ö, —Ü–µ —Å—Ö–æ–∂–µ –Ω–∞ –Ω–∏—Ö ‚Äî –∫–æ–¥ –∑–∞–ø—É—Å–∫–∞—î—Ç—å—Å—è —É –≤—ñ–¥–ø–æ–≤—ñ–¥—å –Ω–∞ –ø–æ–¥—ñ—é, –Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –≤—Å—Ç–∞–≤–∫—É —Ä—è–¥–∫–∞.

![–ö–æ–ª–∏ –±–∞–≥–∞—Ç–æ –ø–æ–¥—ñ–π –Ω–∞–¥—Å–∏–ª–∞—é—Ç—å—Å—è –æ–¥–Ω–æ—á–∞—Å–Ω–æ, –±–µ–∑—Å–µ—Ä–≤–µ—Ä–Ω–∏–π —Å–µ—Ä–≤—ñ—Å –º–∞—Å—à—Ç–∞–±—É—î—Ç—å—Å—è –¥–ª—è —ó—Ö –æ–¥–Ω–æ—á–∞—Å–Ω–æ–≥–æ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è](../../../../../translated_images/serverless-scaling.f8c769adf0413fd17be1af4f07ff63016b347e2ff869be6c4abb211f9e93909d.uk.png)

–í–∞—à –∫–æ–¥ –≤–∏–∫–æ–Ω—É—î—Ç—å—Å—è –ª–∏—à–µ —Ç–æ–¥—ñ, –∫–æ–ª–∏ –≤—ñ–¥–±—É–≤–∞—î—Ç—å—Å—è –ø–æ–¥—ñ—è, –≤ —ñ–Ω—à–∏–π —á–∞—Å –≤—ñ–Ω –Ω–µ –∞–∫—Ç–∏–≤–Ω–∏–π. –ü–æ–¥—ñ—è –≤—ñ–¥–±—É–≤–∞—î—Ç—å—Å—è, –≤–∞—à –∫–æ–¥ –∑–∞–≤–∞–Ω—Ç–∞–∂—É—î—Ç—å—Å—è —ñ –≤–∏–∫–æ–Ω—É—î—Ç—å—Å—è. –¶–µ —Ä–æ–±–∏—Ç—å –±–µ–∑—Å–µ—Ä–≤–µ—Ä–Ω—ñ—Å—Ç—å –¥—É–∂–µ –º–∞—Å—à—Ç–∞–±–æ–≤–∞–Ω–æ—é ‚Äî —è–∫—â–æ –±–∞–≥–∞—Ç–æ –ø–æ–¥—ñ–π –≤—ñ–¥–±—É–≤–∞—é—Ç—å—Å—è –æ–¥–Ω–æ—á–∞—Å–Ω–æ, —Ö–º–∞—Ä–Ω–∏–π –ø—Ä–æ–≤–∞–π–¥–µ—Ä –º–æ–∂–µ –≤–∏–∫–æ–Ω—É–≤–∞—Ç–∏ –≤–∞—à—É —Ñ—É–Ω–∫—Ü—ñ—é —Å—Ç—ñ–ª—å–∫–∏ —Ä–∞–∑—ñ–≤, —Å–∫—ñ–ª—å–∫–∏ –ø–æ—Ç—Ä—ñ–±–Ω–æ, –æ–¥–Ω–æ—á–∞—Å–Ω–æ –Ω–∞ –¥–æ—Å—Ç—É–ø–Ω–∏—Ö —Å–µ—Ä–≤–µ—Ä–∞—Ö. –ù–µ–¥–æ–ª—ñ–∫–æ–º —Ü—å–æ–≥–æ —î —Ç–µ, —â–æ —è–∫—â–æ –≤–∞–º –ø–æ—Ç—Ä—ñ–±–Ω–æ –¥—ñ–ª–∏—Ç–∏—Å—è —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—î—é –º—ñ–∂ –ø–æ–¥—ñ—è–º–∏, —ó—ó –ø–æ—Ç—Ä—ñ–±–Ω–æ –∑–±–µ—Ä—ñ–≥–∞—Ç–∏ –¥–µ—Å—å, –Ω–∞–ø—Ä–∏–∫–ª–∞–¥, —É –±–∞–∑—ñ –¥–∞–Ω–∏—Ö, –∞ –Ω–µ –≤ –ø–∞–º'—è—Ç—ñ.

–í–∞—à –∫–æ–¥ –ø–∏—à–µ—Ç—å—Å—è —è–∫ —Ñ—É–Ω–∫—Ü—ñ—è, —è–∫–∞ –ø—Ä–∏–π–º–∞—î –¥–µ—Ç–∞–ª—ñ –ø—Ä–æ –ø–æ–¥—ñ—é —è–∫ –ø–∞—Ä–∞–º–µ—Ç—Ä. –í–∏ –º–æ–∂–µ—Ç–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ —à–∏—Ä–æ–∫–∏–π —Å–ø–µ–∫—Ç—Ä –º–æ–≤ –ø—Ä–æ–≥—Ä–∞–º—É–≤–∞–Ω–Ω—è –¥–ª—è –Ω–∞–ø–∏—Å–∞–Ω–Ω—è —Ü–∏—Ö –±–µ–∑—Å–µ—Ä–≤–µ—Ä–Ω–∏—Ö —Ñ—É–Ω–∫—Ü—ñ–π.

> üéì –ë–µ–∑—Å–µ—Ä–≤–µ—Ä–Ω—ñ—Å—Ç—å —Ç–∞–∫–æ–∂ –Ω–∞–∑–∏–≤–∞—é—Ç—å —Ñ—É–Ω–∫—Ü—ñ—è–º–∏ —è–∫ —Å–µ—Ä–≤—ñ—Å (FaaS), –æ—Å–∫—ñ–ª—å–∫–∏ –∫–æ–∂–µ–Ω —Ç—Ä–∏–≥–µ—Ä –ø–æ–¥—ñ—ó —Ä–µ–∞–ª—ñ–∑—É—î—Ç—å—Å—è —è–∫ —Ñ—É–Ω–∫—Ü—ñ—è –≤ –∫–æ–¥—ñ.

–ü–æ–ø—Ä–∏ –Ω–∞–∑–≤—É, –±–µ–∑—Å–µ—Ä–≤–µ—Ä–Ω—ñ—Å—Ç—å –Ω–∞—Å–ø—Ä–∞–≤–¥—ñ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î —Å–µ—Ä–≤–µ—Ä–∏. –ù–∞–∑–≤–∞ –ø–æ—è—Å–Ω—é—î—Ç—å—Å—è —Ç–∏–º, —â–æ —è–∫ —Ä–æ–∑—Ä–æ–±–Ω–∏–∫ –≤–∏ –Ω–µ —Ç—É—Ä–±—É—î—Ç–µ—Å—è –ø—Ä–æ —Å–µ—Ä–≤–µ—Ä–∏, –Ω–µ–æ–±—Ö—ñ–¥–Ω—ñ –¥–ª—è –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –≤–∞—à–æ–≥–æ –∫–æ–¥—É, –≤–∞—Å —Ü—ñ–∫–∞–≤–∏—Ç—å –ª–∏—à–µ —Ç–µ, —â–æ –≤–∞—à –∫–æ–¥ –≤–∏–∫–æ–Ω—É—î—Ç—å—Å—è —É –≤—ñ–¥–ø–æ–≤—ñ–¥—å –Ω–∞ –ø–æ–¥—ñ—é. –•–º–∞—Ä–Ω–∏–π –ø—Ä–æ–≤–∞–π–¥–µ—Ä –º–∞—î –±–µ–∑—Å–µ—Ä–≤–µ—Ä–Ω–∏–π *runtime*, —è–∫–∏–π —É–ø—Ä–∞–≤–ª—è—î –≤–∏–¥—ñ–ª–µ–Ω–Ω—è–º —Å–µ—Ä–≤–µ—Ä—ñ–≤, –º–µ—Ä–µ–∂–∞–º–∏, –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è–º, –ø—Ä–æ—Ü–µ—Å–æ—Ä–æ–º, –ø–∞–º'—è—Ç—Ç—é —Ç–∞ –≤—Å—ñ–º —ñ–Ω—à–∏–º, –Ω–µ–æ–±—Ö—ñ–¥–Ω–∏–º –¥–ª—è –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –≤–∞—à–æ–≥–æ –∫–æ–¥—É. –¶—è –º–æ–¥–µ–ª—å –æ–∑–Ω–∞—á–∞—î, —â–æ –≤–∏ –Ω–µ –ø–ª–∞—Ç–∏—Ç–µ –∑–∞ —Å–µ—Ä–≤–µ—Ä, –æ—Å–∫—ñ–ª—å–∫–∏ –π–æ–≥–æ –Ω–µ–º–∞—î. –ù–∞—Ç–æ–º—ñ—Å—Ç—å –≤–∏ –ø–ª–∞—Ç–∏—Ç–µ –∑–∞ —á–∞—Å –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –≤–∞—à–æ–≥–æ –∫–æ–¥—É —Ç–∞ –æ–±—Å—è–≥ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–æ—ó –ø–∞–º'—è—Ç—ñ.

> üí∞ –ë–µ–∑—Å–µ—Ä–≤–µ—Ä–Ω—ñ—Å—Ç—å ‚Äî –æ–¥–∏–Ω —ñ–∑ –Ω–∞–π–¥–µ—à–µ–≤—à–∏—Ö —Å–ø–æ—Å–æ–±—ñ–≤ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –∫–æ–¥—É –≤ —Ö–º–∞—Ä—ñ. –ù–∞–ø—Ä–∏–∫–ª–∞–¥, –Ω–∞ –º–æ–º–µ–Ω—Ç –Ω–∞–ø–∏—Å–∞–Ω–Ω—è, –æ–¥–∏–Ω —Ö–º–∞—Ä–Ω–∏–π –ø—Ä–æ–≤–∞–π–¥–µ—Ä –¥–æ–∑–≤–æ–ª—è—î –≤—Å—ñ–º –≤–∞—à–∏–º –±–µ–∑—Å–µ—Ä–≤–µ—Ä–Ω–∏–º —Ñ—É–Ω–∫—Ü—ñ—è–º –≤–∏–∫–æ–Ω—É–≤–∞—Ç–∏—Å—è –∑–∞–≥–∞–ª–æ–º 1,000,000 —Ä–∞–∑—ñ–≤ –Ω–∞ –º—ñ—Å—è—Ü—å –±–µ–∑–∫–æ—à—Ç–æ–≤–Ω–æ, –∞ –ø—ñ—Å–ª—è —Ü—å–æ–≥–æ —Å—Ç—è–≥—É—î $0.20 –∑–∞ –∫–æ–∂–µ–Ω 1,000,000 –≤–∏–∫–æ–Ω–∞–Ω—å. –ö–æ–ª–∏ –≤–∞—à –∫–æ–¥ –Ω–µ –≤–∏–∫–æ–Ω—É—î—Ç—å—Å—è, –≤–∏ –Ω–µ –ø–ª–∞—Ç–∏—Ç–µ.

–Ø–∫ —Ä–æ–∑—Ä–æ–±–Ω–∏–∫ IoT, –º–æ–¥–µ–ª—å –±–µ–∑—Å–µ—Ä–≤–µ—Ä–Ω–æ—Å—Ç—ñ —î —ñ–¥–µ–∞–ª—å–Ω–æ—é. –í–∏ –º–æ–∂–µ—Ç–µ –Ω–∞–ø–∏—Å–∞—Ç–∏ —Ñ—É–Ω–∫—Ü—ñ—é, —è–∫–∞ –≤–∏–∫–ª–∏–∫–∞—î—Ç—å—Å—è —É –≤—ñ–¥–ø–æ–≤—ñ–¥—å –Ω–∞ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è, –Ω–∞–¥—ñ—Å–ª–∞–Ω—ñ –±—É–¥—å-—è–∫–∏–º IoT-–ø—Ä–∏—Å—Ç—Ä–æ—î–º, –ø—ñ–¥–∫–ª—é—á–µ–Ω–∏–º –¥–æ –≤–∞—à–æ–≥–æ —Ö–º–∞—Ä–Ω–æ–≥–æ IoT-—Å–µ—Ä–≤—ñ—Å—É. –í–∞—à –∫–æ–¥ –æ–±—Ä–æ–±–ª—è—Ç–∏–º–µ –≤—Å—ñ –Ω–∞–¥—ñ—Å–ª–∞–Ω—ñ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è, –∞–ª–µ –≤–∏–∫–æ–Ω—É–≤–∞—Ç–∏–º–µ—Ç—å—Å—è –ª–∏—à–µ —Ç–æ–¥—ñ, –∫–æ–ª–∏ —Ü–µ –Ω–µ–æ–±—Ö—ñ–¥–Ω–æ.

‚úÖ –ó–≥–∞–¥–∞–π—Ç–µ –∫–æ–¥, —è–∫–∏–π –≤–∏ –Ω–∞–ø–∏—Å–∞–ª–∏ —è–∫ —Å–µ—Ä–≤–µ—Ä–Ω–∏–π –∫–æ–¥ –¥–ª—è –ø—Ä–æ—Å–ª—É—Ö–æ–≤—É–≤–∞–Ω–Ω—è –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å —á–µ—Ä–µ–∑ MQTT. –Ø–∫ —Ü–µ –º–æ–∂–µ –ø—Ä–∞—Ü—é–≤–∞—Ç–∏ –≤ —Ö–º–∞—Ä—ñ –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é –±–µ–∑—Å–µ—Ä–≤–µ—Ä–Ω–æ—Å—Ç—ñ? –Ø–∫, –Ω–∞ –≤–∞—à—É –¥—É–º–∫—É, –∫–æ–¥ –º–æ–∂–µ –±—É—Ç–∏ –∑–º—ñ–Ω–µ–Ω–∏–π –¥–ª—è –ø—ñ–¥—Ç—Ä–∏–º–∫–∏ –±–µ–∑—Å–µ—Ä–≤–µ—Ä–Ω–æ–≥–æ –æ–±—á–∏—Å–ª–µ–Ω–Ω—è?

> üíÅ –ú–æ–¥–µ–ª—å –±–µ–∑—Å–µ—Ä–≤–µ—Ä–Ω–æ—Å—Ç—ñ –ø–æ—à–∏—Ä—é—î—Ç—å—Å—è –Ω–∞ —ñ–Ω—à—ñ —Ö–º–∞—Ä–Ω—ñ —Å–µ—Ä–≤—ñ—Å–∏, –∫—Ä—ñ–º –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –∫–æ–¥—É. –ù–∞–ø—Ä–∏–∫–ª–∞–¥, —É —Ö–º–∞—Ä—ñ –¥–æ—Å—Ç—É–ø–Ω—ñ –±–µ–∑—Å–µ—Ä–≤–µ—Ä–Ω—ñ –±–∞–∑–∏ –¥–∞–Ω–∏—Ö —ñ–∑ –º–æ–¥–µ–ª–ª—é —Ü—ñ–Ω–æ—É—Ç–≤–æ—Ä–µ–Ω–Ω—è, –¥–µ –≤–∏ –ø–ª–∞—Ç–∏—Ç–µ –∑–∞ –∫–æ–∂–µ–Ω –∑–∞–ø–∏—Ç –¥–æ –±–∞–∑–∏ –¥–∞–Ω–∏—Ö, –Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –∑–∞–ø–∏—Ç –∞–±–æ –≤—Å—Ç–∞–≤–∫—É, –∑–∞–∑–≤–∏—á–∞–π —ñ–∑ —Ü—ñ–Ω–æ—É—Ç–≤–æ—Ä–µ–Ω–Ω—è–º, –∑–∞—Å–Ω–æ–≤–∞–Ω–∏–º –Ω–∞ –æ–±—Å—è–∑—ñ —Ä–æ–±–æ—Ç–∏, –Ω–µ–æ–±—Ö—ñ–¥–Ω–æ—ó –¥–ª—è –æ–±—Å–ª—É–≥–æ–≤—É–≤–∞–Ω–Ω—è –∑–∞–ø–∏—Ç—É. –ù–∞–ø—Ä–∏–∫–ª–∞–¥, –æ–¥–∏–Ω –∑–∞–ø–∏—Ç –Ω–∞ –≤–∏–±—ñ—Ä —Ä—è–¥–∫–∞ –∑–∞ –ø–µ—Ä–≤–∏–Ω–Ω–∏–º –∫–ª—é—á–µ–º –∫–æ—à—Ç—É–≤–∞—Ç–∏–º–µ –º–µ–Ω—à–µ, –Ω—ñ–∂ —Å–∫–ª–∞–¥–Ω–∞ –æ–ø–µ—Ä–∞—Ü—ñ—è –∑ –æ–±'—î–¥–Ω–∞–Ω–Ω—è–º –±–∞–≥–∞—Ç—å–æ—Ö —Ç–∞–±–ª–∏—Ü—å —ñ –ø–æ–≤–µ—Ä–Ω–µ–Ω–Ω—è–º —Ç–∏—Å—è—á —Ä—è–¥–∫—ñ–≤.

## –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –±–µ–∑—Å–µ—Ä–≤–µ—Ä–Ω–æ–≥–æ –¥–æ–¥–∞—Ç–∫—É

–°–µ—Ä–≤—ñ—Å –±–µ–∑—Å–µ—Ä–≤–µ—Ä–Ω–æ–≥–æ –æ–±—á–∏—Å–ª–µ–Ω–Ω—è –≤—ñ–¥ Microsoft –Ω–∞–∑–∏–≤–∞—î—Ç—å—Å—è Azure Functions.

![–õ–æ–≥–æ—Ç–∏–ø Azure Functions](../../../../../translated_images/azure-functions-logo.1cfc8e3204c9c44aaf80fcf406fc8544d80d7f00f8d3e8ed6fed764563e17564.uk.png)

–ö–æ—Ä–æ—Ç–∫–µ –≤—ñ–¥–µ–æ –Ω–∏–∂—á–µ –º—ñ—Å—Ç–∏—Ç—å –æ–≥–ª—è–¥ Azure Functions.

[![–í—ñ–¥–µ–æ –æ–≥–ª—è–¥ Azure Functions](https://img.youtube.com/vi/8-jz5f_JyEQ/0.jpg)](https://www.youtube.com/watch?v=8-jz5f_JyEQ)

> üé• –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å –Ω–∞ –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è –≤–∏—â–µ, —â–æ–± –ø–µ—Ä–µ–≥–ª—è–Ω—É—Ç–∏ –≤—ñ–¥–µ–æ.

‚úÖ –ó–Ω–∞–π–¥—ñ—Ç—å —á–∞—Å –¥–ª—è –¥–æ—Å–ª—ñ–¥–∂–µ–Ω–Ω—è —Ç–∞ –ø—Ä–æ—á–∏—Ç–∞–π—Ç–µ –æ–≥–ª—è–¥ Azure Functions —É [–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—ó Microsoft Azure Functions](https://docs.microsoft.com/azure/azure-functions/functions-overview?WT.mc_id=academic-17441-jabenn).

–©–æ–± –Ω–∞–ø–∏—Å–∞—Ç–∏ Azure Functions, –≤–∏ –ø–æ—á–∏–Ω–∞—î—Ç–µ –∑ –¥–æ–¥–∞—Ç–∫—É Azure Functions –Ω–∞ –≤–∏–±—Ä–∞–Ω—ñ–π –≤–∞–º–∏ –º–æ–≤—ñ –ø—Ä–æ–≥—Ä–∞–º—É–≤–∞–Ω–Ω—è. Azure Functions –ø—ñ–¥—Ç—Ä–∏–º—É—î Python, JavaScript, TypeScript, C#, F#, Java —Ç–∞ Powershell. –£ —Ü—å–æ–º—É —É—Ä–æ—Ü—ñ –≤–∏ –Ω–∞–≤—á–∏—Ç–µ—Å—è –ø–∏—Å–∞—Ç–∏ –¥–æ–¥–∞—Ç–æ–∫ Azure Functions –Ω–∞ Python.

> üíÅ Azure Functions —Ç–∞–∫–æ–∂ –ø—ñ–¥—Ç—Ä–∏–º—É—î –∫–æ—Ä–∏—Å—Ç—É–≤–∞—Ü—å–∫—ñ –æ–±—Ä–æ–±–Ω–∏–∫–∏, —Ç–æ–º—É –≤–∏ –º–æ–∂–µ—Ç–µ –ø–∏—Å–∞—Ç–∏ —Ñ—É–Ω–∫—Ü—ñ—ó –Ω–∞ –±—É–¥—å-—è–∫—ñ–π –º–æ–≤—ñ, —è–∫–∞ –ø—ñ–¥—Ç—Ä–∏–º—É—î HTTP-–∑–∞–ø–∏—Ç–∏, –≤–∫–ª—é—á–∞—é—á–∏ —Å—Ç–∞—Ä—ñ –º–æ–≤–∏, —Ç–∞–∫—ñ —è–∫ COBOL.

–î–æ–¥–∞—Ç–∫–∏ —Ñ—É–Ω–∫—Ü—ñ–π —Å–∫–ª–∞–¥–∞—é—Ç—å—Å—è –∑ –æ–¥–Ω–æ–≥–æ –∞–±–æ –∫—ñ–ª—å–∫–æ—Ö *—Ç—Ä–∏–≥–µ—Ä—ñ–≤* ‚Äî —Ñ—É–Ω–∫—Ü—ñ–π, —è–∫—ñ —Ä–µ–∞–≥—É—é—Ç—å –Ω–∞ –ø–æ–¥—ñ—ó. –í–∏ –º–æ–∂–µ—Ç–µ –º–∞—Ç–∏ –∫—ñ–ª—å–∫–∞ —Ç—Ä–∏–≥–µ—Ä—ñ–≤ —É –æ–¥–Ω–æ–º—É –¥–æ–¥–∞—Ç–∫—É —Ñ—É–Ω–∫—Ü—ñ–π, —è–∫—ñ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å —Å–ø—ñ–ª—å–Ω—É –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—é. –ù–∞–ø—Ä–∏–∫–ª–∞–¥, —É –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ–π–Ω–æ–º—É —Ñ–∞–π–ª—ñ –≤–∞—à–æ–≥–æ –¥–æ–¥–∞—Ç–∫—É —Ñ—É–Ω–∫—Ü—ñ–π –º–æ–∂–Ω–∞ –≤–∫–∞–∑–∞—Ç–∏ –¥–∞–Ω—ñ –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –¥–æ –≤–∞—à–æ–≥–æ IoT Hub, —ñ –≤—Å—ñ —Ñ—É–Ω–∫—Ü—ñ—ó –≤ –¥–æ–¥–∞—Ç–∫—É –º–æ–∂—É—Ç—å –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ —Ü–µ –¥–ª—è –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è —Ç–∞ –ø—Ä–æ—Å–ª—É—Ö–æ–≤—É–≤–∞–Ω–Ω—è –ø–æ–¥—ñ–π.

### –ó–∞–≤–¥–∞–Ω–Ω—è - –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ñ–≤ Azure Functions

> –ù–∞ –º–æ–º–µ–Ω—Ç –Ω–∞–ø–∏—Å–∞–Ω–Ω—è, —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏ –¥–ª—è —Ä–æ–±–æ—Ç–∏ –∑ Azure Functions –Ω–µ –ø–æ–≤–Ω—ñ—Å—Ç—é –ø—Ä–∞—Ü—é—é—Ç—å –Ω–∞ Apple Silicon –¥–ª—è –ø—Ä–æ—î–∫—Ç—ñ–≤ Python. –í–∞–º –ø–æ—Ç—Ä—ñ–±–Ω–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ Mac –Ω–∞ –±–∞–∑—ñ Intel, –ü–ö –∑ Windows –∞–±–æ –ü–ö –∑ Linux.

–û–¥–Ω—ñ—î—é –∑ —á—É–¥–æ–≤–∏—Ö —Ñ—É–Ω–∫—Ü—ñ–π Azure Functions —î –º–æ–∂–ª–∏–≤—ñ—Å—Ç—å –∑–∞–ø—É—Å–∫—É –ª–æ–∫–∞–ª—å–Ω–æ. –¢–æ–π —Å–∞–º–∏–π runtime, —è–∫–∏–π –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –≤ —Ö–º–∞—Ä—ñ, –º–æ–∂–µ –±—É—Ç–∏ –∑–∞–ø—É—â–µ–Ω–∏–π –Ω–∞ –≤–∞—à–æ–º—É –∫–æ–º–ø'—é—Ç–µ—Ä—ñ, –¥–æ–∑–≤–æ–ª—è—é—á–∏ –ø–∏—Å–∞—Ç–∏ –∫–æ–¥, —è–∫–∏–π —Ä–µ–∞–≥—É—î –Ω–∞ IoT-–ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è, —ñ –∑–∞–ø—É—Å–∫–∞—Ç–∏ –π–æ–≥–æ –ª–æ–∫–∞–ª—å–Ω–æ. –í–∏ –Ω–∞–≤—ñ—Ç—å –º–æ–∂–µ—Ç–µ –Ω–∞–ª–∞–≥–æ–¥–∂—É–≤–∞—Ç–∏ –≤–∞—à –∫–æ–¥ –ø—ñ–¥ —á–∞—Å –æ–±—Ä–æ–±–∫–∏ –ø–æ–¥—ñ–π. –ö–æ–ª–∏ –≤–∏ –±—É–¥–µ—Ç–µ –∑–∞–¥–æ–≤–æ–ª–µ–Ω—ñ –≤–∞—à–∏–º –∫–æ–¥–æ–º, –π–æ–≥–æ –º–æ–∂–Ω–∞ –±—É–¥–µ —Ä–æ–∑–≥–æ—Ä–Ω—É—Ç–∏ –≤ —Ö–º–∞—Ä—ñ.

–Ü–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏ Azure Functions –¥–æ—Å—Ç—É–ø–Ω—ñ —è–∫ CLI, –≤—ñ–¥–æ–º–∏–π —è–∫ Azure Functions Core Tools.

1. –í—Å—Ç–∞–Ω–æ–≤—ñ—Ç—å Azure Functions Core Tools, –¥–æ—Ç—Ä–∏–º—É—é—á–∏—Å—å —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ–π —É [–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—ó Azure Functions Core Tools](https://docs.microsoft.com/azure/azure-functions/functions-run-local?WT.mc_id=academic-17441-jabenn).

1. –í—Å—Ç–∞–Ω–æ–≤—ñ—Ç—å —Ä–æ–∑—à–∏—Ä–µ–Ω–Ω—è Azure Functions –¥–ª—è VS Code. –¶–µ —Ä–æ–∑—à–∏—Ä–µ–Ω–Ω—è –∑–∞–±–µ–∑–ø–µ—á—É—î –ø—ñ–¥—Ç—Ä–∏–º–∫—É —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è, –Ω–∞–ª–∞–≥–æ–¥–∂–µ–Ω–Ω—è —Ç–∞ —Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è —Ñ—É–Ω–∫—Ü—ñ–π Azure. –û–∑–Ω–∞–π–æ–º—Ç–µ—Å—è –∑ [–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—î—é —Ä–æ–∑—à–∏—Ä–µ–Ω–Ω—è Azure Functions](https://marketplace.visualstudio.com/items?WT.mc_id=academic-17441-jabenn&itemName=ms-azuretools.vscode-azurefunctions) –¥–ª—è —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ–π —â–æ–¥–æ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è —Ü—å–æ–≥–æ —Ä–æ–∑—à–∏—Ä–µ–Ω–Ω—è —É VS Code.

–ö–æ–ª–∏ –≤–∏ —Ä–æ–∑–≥–æ—Ä—Ç–∞—î—Ç–µ –≤–∞—à –¥–æ–¥–∞—Ç–æ–∫ Azure Functions —É —Ö–º–∞—Ä—ñ, –≤—ñ–Ω –ø–æ—Ç—Ä–µ–±—É—î –Ω–µ–≤–µ–ª–∏–∫–æ–≥–æ –æ–±—Å—è–≥—É —Ö–º–∞—Ä–Ω–æ–≥–æ —Å—Ö–æ–≤–∏—â–∞ –¥–ª—è –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è —Ç–∞–∫–∏—Ö —Ä–µ—á–µ–π, —è–∫ —Ñ–∞–π–ª–∏ –¥–æ–¥–∞—Ç–∫—É —Ç–∞ —Ñ–∞–π–ª–∏ –∂—É—Ä–Ω–∞–ª—ñ–≤. –ö–æ–ª–∏ –≤–∏ –∑–∞–ø—É—Å–∫–∞—î—Ç–µ –≤–∞—à –¥–æ–¥–∞—Ç–æ–∫ —Ñ—É–Ω–∫—Ü—ñ–π –ª–æ–∫–∞–ª—å–Ω–æ, –≤–∞–º –≤—Å–µ –æ–¥–Ω–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ –ø—ñ–¥–∫–ª—é—á–∏—Ç–∏—Å—è –¥–æ —Ö–º–∞—Ä–Ω–æ–≥–æ —Å—Ö–æ–≤–∏—â–∞, –∞–ª–µ –∑–∞–º—ñ—Å—Ç—å –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è —Ä–µ–∞–ª—å–Ω–æ–≥–æ —Ö–º–∞—Ä–Ω–æ–≥–æ —Å—Ö–æ–≤–∏—â–∞ –≤–∏ –º–æ–∂–µ—Ç–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –µ–º—É–ª—è—Ç–æ—Ä —Å—Ö–æ–≤–∏—â–∞ –ø—ñ–¥ –Ω–∞–∑–≤–æ—é [Azurite](https://github.com/Azure/Azurite). –í—ñ–Ω –ø—Ä–∞—Ü—é—î –ª–æ–∫–∞–ª—å–Ω–æ, –∞–ª–µ –ø–æ–≤–æ–¥–∏—Ç—å—Å—è —è–∫ —Ö–º–∞—Ä–Ω–µ —Å—Ö–æ–≤–∏—â–µ.

> üéì –£ Azure —Å—Ö–æ–≤–∏—â–µ, —è–∫–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å Azure Functions, —î –æ–±–ª—ñ–∫–æ–≤–∏–º –∑–∞–ø–∏—Å–æ–º Azure Storage. –¶—ñ –æ–±–ª—ñ–∫–æ–≤—ñ –∑–∞–ø–∏—Å–∏ –º–æ–∂—É—Ç—å –∑–±–µ—Ä—ñ–≥–∞—Ç–∏ —Ñ–∞–π–ª–∏, –±–ª–æ–±–∏, –¥–∞–Ω—ñ –≤ —Ç–∞–±–ª–∏—Ü—è—Ö –∞–±–æ –¥–∞–Ω—ñ –≤ —á–µ—Ä–≥–∞—Ö. –í–∏ –º–æ–∂–µ—Ç–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –æ–¥–∏–Ω –æ–±–ª—ñ–∫–æ–≤–∏–π –∑–∞–ø–∏—Å —Å—Ö–æ–≤–∏—â–∞ –¥–ª—è –±–∞–≥–∞—Ç—å–æ—Ö –¥–æ–¥–∞—Ç–∫—ñ–≤, —Ç–∞–∫–∏—Ö —è–∫ –¥–æ–¥–∞—Ç–æ–∫ —Ñ—É–Ω–∫—Ü—ñ–π —ñ –≤–µ–±-–¥–æ–¥–∞—Ç–æ–∫.

1. Azurite ‚Äî —Ü–µ –¥–æ–¥–∞—Ç–æ–∫ –Ω–∞ Node.js, —Ç–æ–º—É –≤–∞–º –ø–æ—Ç—Ä—ñ–±–Ω–æ –≤—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ Node.js. –í–∏ –º–æ–∂–µ—Ç–µ –∑–Ω–∞–π—Ç–∏ —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—ó –∑ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è —Ç–∞ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è –Ω–∞ [–≤–µ–±—Å–∞–π—Ç—ñ Node.js](https://nodejs.org/). –Ø–∫—â–æ –≤–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç–µ Mac, –≤–∏ —Ç–∞–∫–æ–∂ –º–æ–∂–µ—Ç–µ –≤—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ –π–æ–≥–æ —á–µ—Ä–µ–∑ [Homebrew](https://formulae.brew.sh/formula/node).

1. –í—Å—Ç–∞–Ω–æ–≤—ñ—Ç—å Azurite –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é –Ω–∞—Å—Ç—É–ø–Ω–æ—ó –∫–æ–º–∞–Ω–¥–∏ (`npm` ‚Äî —Ü–µ —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç, —è–∫–∏–π –≤—Å—Ç–∞–Ω–æ–≤–ª—é—î—Ç—å—Å—è —Ä–∞–∑–æ–º —ñ–∑ Node.js):

    ```sh
    npm install -g azurite
    ```

1. –°—Ç–≤–æ—Ä—ñ—Ç—å –ø–∞–ø–∫—É –ø—ñ–¥ –Ω–∞–∑–≤–æ—é `azurite` –¥–ª—è –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è Azurite –¥–ª—è –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è –¥–∞–Ω–∏—Ö:

    ```sh
    mkdir azurite
    ```

1. –ó–∞–ø—É—Å—Ç—ñ—Ç—å Azurite, –ø–µ—Ä–µ–¥–∞–≤—à–∏ –π–æ–º—É —Ü—é –Ω–æ–≤—É –ø–∞–ø–∫—É:

    ```sh
    azurite --location azurite
    ```

    –ï–º—É–ª—è—Ç–æ—Ä —Å—Ö–æ–≤–∏—â–∞ Azurite –∑–∞–ø—É—Å—Ç–∏—Ç—å—Å—è —ñ –±—É–¥–µ –≥–æ—Ç–æ–≤–∏–π –¥–æ –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ runtime —Ñ—É–Ω–∫—Ü—ñ–π.

    ```output
    ‚ûú  ~ azurite --location azurite  
    Azurite Blob service is starting at http://127.0.0.1:10000
    Azurite Blob service is successfully listening at http://127.0.0.1:10000
    Azurite Queue service is starting at http://127.0.0.1:10001
    Azurite Queue service is successfully listening at http://127.0.0.1:10001
    Azurite Table service is starting at http://127.0.0.1:10002
    Azurite Table service is successfully listening at http://127.0.0.1:10002
    ```

### –ó–∞–≤–¥–∞–Ω–Ω—è - —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –ø—Ä–æ—î–∫—Ç—É Azure Functions

CLI Azure Functions –º–æ–∂–Ω–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –Ω–æ–≤–æ–≥–æ –¥–æ–¥–∞—Ç–∫—É —Ñ—É–Ω–∫—Ü—ñ–π.

1. –°—Ç–≤–æ—Ä—ñ—Ç—å –ø–∞–ø–∫—É –¥–ª—è –≤–∞—à–æ–≥–æ –¥–æ–¥–∞—Ç–∫—É —Ñ—É–Ω–∫—Ü—ñ–π —ñ –ø–µ—Ä–µ–π–¥—ñ—Ç—å –¥–æ –Ω–µ—ó. –ù–∞–∑–≤—ñ—Ç—å —ó—ó `soil-moisture-trigger`.

    ```sh
    mkdir soil-moisture-trigger
    cd soil-moisture-trigger
    ```

1. –°—Ç–≤–æ—Ä—ñ—Ç—å –≤—ñ—Ä—Ç—É–∞–ª—å–Ω–µ —Å–µ—Ä–µ–¥–æ–≤–∏—â–µ Python –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ —Ü—ñ—î—ó –ø–∞–ø–∫–∏:

    ```sh
    python3 -m venv .venv
    ```

1. –ê–∫—Ç–∏–≤—É–π—Ç–µ –≤—ñ—Ä—Ç—É–∞–ª—å–Ω–µ —Å–µ—Ä–µ–¥–æ–≤–∏—â–µ:

    * –£ Windows:
        * –Ø–∫—â–æ –≤–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç–µ Command Prompt –∞–±–æ Command Prompt —á–µ—Ä–µ–∑ Windows Terminal, –≤–∏–∫–æ–Ω–∞–π—Ç–µ:

            ```cmd
            .venv\Scripts\activate.bat
            ```

        * –Ø–∫—â–æ –≤–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç–µ PowerShell, –≤–∏–∫–æ–Ω–∞–π—Ç–µ:

            ```powershell
            .\.venv\Scripts\Activate.ps1
            ```

    * –£ macOS –∞–±–æ Linux –≤–∏–∫–æ–Ω–∞–π—Ç–µ:

        ```cmd
        source ./.venv/bin/activate
        ```

    > üíÅ –¶—ñ –∫–æ–º–∞–Ω–¥–∏ —Å–ª—ñ–¥ –≤–∏–∫–æ–Ω—É–≤–∞—Ç–∏ –∑ —Ç–æ–≥–æ –∂ –º—ñ—Å—Ü—è, –¥–µ –≤–∏ –≤–∏–∫–æ–Ω–∞–ª–∏ –∫–æ–º–∞–Ω–¥—É –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –≤—ñ—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞. –í–∞–º –Ω—ñ–∫–æ–ª–∏ –Ω–µ –ø–æ—Ç—Ä—ñ–±–Ω–æ –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç–∏ –¥–æ –ø–∞–ø–∫–∏ `.venv`, –≤–∏ –∑–∞–≤–∂–¥–∏ –ø–æ–≤–∏–Ω–Ω—ñ –≤–∏–∫–æ–Ω—É–≤–∞—Ç–∏ –∫–æ–º–∞–Ω–¥—É –∞–∫—Ç–∏–≤–∞—Ü—ñ—ó —Ç–∞ –±—É–¥—å-—è–∫—ñ –∫–æ–º–∞–Ω–¥–∏ –¥–ª—è –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è –ø–∞–∫–µ—Ç—ñ–≤ –∞–±–æ –∑–∞–ø—É—Å–∫—É –∫–æ–¥—É –∑ –ø–∞–ø–∫–∏, –≤ —è–∫—ñ–π –≤–∏ –±—É–ª–∏, –∫–æ–ª–∏ —Å—Ç–≤–æ—Ä—é–≤–∞–ª–∏ –≤—ñ—Ä—Ç—É–∞–ª—å–Ω–µ —Å–µ—Ä–µ–¥–æ–≤–∏—â–µ.

1. –í–∏–∫–æ–Ω–∞–π—Ç–µ –Ω–∞—Å—Ç—É–ø–Ω—É –∫–æ–º–∞–Ω–¥—É –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –¥–æ–¥–∞—Ç–∫—É —Ñ—É–Ω–∫—Ü—ñ–π —É —Ü—ñ–π –ø–∞–ø—Ü—ñ:

    ```sh
    func init --worker-runtime python soil-moisture-trigger
    ```

    –¶–µ —Å—Ç–≤–æ—Ä–∏—Ç—å —Ç—Ä–∏ —Ñ–∞–π–ª–∏ –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ –ø–æ—Ç–æ—á–Ω–æ—ó –ø–∞–ø–∫–∏:

    * `host.json` ‚Äî —Ü–µ–π JSON-–¥–æ–∫—É–º–µ–Ω—Ç –º—ñ—Å—Ç–∏—Ç—å –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –≤–∞—à–æ–≥–æ –¥–æ–¥–∞—Ç–∫—É —Ñ—É–Ω–∫—Ü—ñ–π. –í–∞–º –Ω–µ –ø–æ—Ç—Ä—ñ–±–Ω–æ –∑–º—ñ–Ω—é–≤–∞—Ç–∏ —Ü—ñ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è.
    * `local.settings.json` ‚Äî —Ü–µ–π JSON-–¥–æ–∫—É–º–µ–Ω—Ç –º—ñ—Å—Ç–∏—Ç—å –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è, —è–∫—ñ –≤–∞—à –¥–æ–¥–∞—Ç–æ–∫ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏–º–µ –ø—ñ–¥ —á–∞—Å –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫—É, –Ω–∞–ø—Ä–∏–∫–ª–∞–¥, —Ä—è–¥–∫–∏ –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –¥–æ –≤–∞—à–æ–≥–æ IoT Hub. –¶—ñ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è —î –ª–æ–∫–∞–ª—å–Ω–∏–º–∏ —ñ –Ω–µ –ø–æ–≤–∏–Ω–Ω—ñ –¥–æ–¥–∞–≤–∞—Ç–∏—Å—è –¥–æ —Å–∏—Å—Ç–µ–º–∏ –∫–æ–Ω—Ç—Ä–æ–ª—é –≤–µ—Ä—Å—ñ–π. –ö–æ–ª–∏ –≤–∏ —Ä–æ–∑–≥–æ—Ä—Ç–∞—î—Ç–µ –¥–æ–¥–∞—Ç–æ–∫ —É —Ö–º–∞—Ä—ñ, —Ü—ñ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –Ω–µ —Ä–æ–∑–≥–æ—Ä—Ç–∞—é—Ç—å—Å—è, –Ω–∞—Ç–æ–º—ñ—Å—Ç—å –≤–∞—à—ñ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –∑–∞–≤–∞–Ω—Ç–∞–∂—É—é—Ç—å—Å—è –∑ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω—å –¥–æ–¥–∞—Ç–∫—É. –¶–µ –±—É–¥–µ —Ä–æ–∑–≥–ª—è–Ω—É—Ç–æ –ø—ñ–∑–Ω—ñ—à–µ –≤ —Ü—å–æ–º—É —É—Ä–æ—Ü—ñ.
    * `requirements.txt` ‚Äî —Ü–µ [—Ñ–∞–π–ª –≤–∏–º–æ–≥ Pip](https://pip.pypa.io/en/stable/user_guide/#requirements-files), —è–∫–∏–π –º—ñ—Å—Ç–∏—Ç—å –ø–∞–∫–µ—Ç–∏ Pip, –Ω–µ–æ–±—Ö—ñ–¥–Ω—ñ –¥–ª—è –∑–∞–ø—É—Å–∫—É –≤–∞—à–æ–≥–æ –¥–æ–¥–∞—Ç–∫—É —Ñ—É–Ω–∫—Ü—ñ–π.

1. –§–∞–π–ª `local.settings.json` –º–∞—î –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –¥–ª—è –æ–±–ª—ñ–∫–æ–≤–æ–≥–æ –∑–∞–ø–∏—Å—É —Å—Ö–æ–≤–∏—â–∞, —è–∫–∏–π –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏–º–µ –¥–æ–¥–∞—Ç–æ–∫ —Ñ—É–Ω–∫—Ü—ñ–π. –ó–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º —Ü–µ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –ø–æ—Ä–æ–∂–Ω—î, —Ç–æ–º—É –π–æ–≥–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ –≤—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏. –©–æ–± –ø—ñ–¥–∫–ª—é—á–∏—Ç–∏—Å—è –¥–æ –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –µ–º—É–ª—è—Ç–æ—Ä–∞ —Å—Ö–æ–≤–∏—â–∞ Azurite, –≤—Å—Ç–∞–Ω–æ–≤—ñ—Ç—å —Ü–µ –∑–Ω–∞—á–µ–Ω–Ω—è –Ω–∞ –Ω–∞—Å—Ç—É–ø–Ω–µ:

    ```json
    "AzureWebJobsStorage": "UseDevelopmentStorage=true",
    ```

1. –í—Å—Ç–∞–Ω–æ–≤—ñ—Ç—å –Ω–µ–æ–±—Ö—ñ–¥–Ω—ñ –ø–∞–∫–µ—Ç–∏ Pip –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é —Ñ–∞–π–ª—É –≤–∏–º–æ–≥:

    ```sh
    pip install -r requirements.txt
    ```

    > üíÅ –ù–µ–æ–±—Ö—ñ–¥–Ω—ñ –ø–∞–∫–µ—Ç–∏ Pip –ø–æ–≤–∏–Ω–Ω—ñ –±—É—Ç–∏ –≤ —Ü—å–æ–º—É —Ñ–∞–π–ª—ñ, —â–æ–± –∫–æ–ª–∏ –¥–æ–¥–∞—Ç–æ–∫ —Ñ—É–Ω–∫—Ü—ñ–π –±—É–¥–µ —Ä–æ–∑–≥–æ—Ä–Ω—É—Ç–æ –≤ —Ö–º–∞—Ä—ñ, runtime –º—ñ–≥ –ø–µ—Ä–µ–∫–æ–Ω–∞—Ç–∏—Å—è, —â–æ –≤—ñ–Ω –≤—Å—Ç–∞–Ω–æ–≤–ª—é—î –ø—Ä–∞–≤–∏–ª—å–Ω—ñ –ø–∞–∫–µ—Ç–∏.

1. –©–æ–± –ø–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏, —á–∏ –≤—Å–µ –ø—Ä–∞—Ü—é—î –ø—Ä–∞–≤–∏–ª—å–Ω–æ, –≤–∏ –º–æ–∂–µ—Ç–µ –∑–∞–ø—É—Å—Ç–∏—Ç–∏ runtime —Ñ—É–Ω–∫—Ü—ñ–π. –í–∏–∫–æ–Ω–∞–π—Ç–µ –Ω–∞—Å—Ç—É–ø–Ω—É –∫–æ–º–∞–Ω–¥—É –¥–ª—è —Ü—å–æ–≥–æ:

    ```sh
    func start
    ```

    –í–∏ –ø–æ–±–∞—á–∏—Ç–µ, —è–∫ runtime –∑–∞–ø—É—Å–∫–∞—î—Ç—å—Å—è —ñ –ø–æ–≤—ñ–¥–æ–º–ª—è—î, —â–æ –≤—ñ–Ω –Ω–µ –∑–Ω–∞–π—à–æ–≤ –∂–æ–¥–Ω–∏—Ö —Ñ—É–Ω–∫—Ü—ñ–π (—Ç—Ä–∏–≥–µ—Ä—ñ–≤).

    ```output
    (.venv) ‚ûú  soil-moisture-trigger func start
    Found Python version 3.9.1 (python3).
    
    Azure Functions Core Tools
    Core Tools Version:       3.0.3442 Commit hash: 6bfab24b2743f8421475d996402c398d2fe4a9e0  (64-bit)
    Function Runtime Version: 3.0.15417.0
    
    [2021-05-05T01:24:46.795Z] No job functions found.
    ```
> ‚ö†Ô∏è –Ø–∫—â–æ –≤–∏ –æ—Ç—Ä–∏–º–∞–ª–∏ —Å–ø–æ–≤—ñ—â–µ–Ω–Ω—è –ø—Ä–æ –±—Ä–∞–Ω–¥–º–∞—É–µ—Ä, –Ω–∞–¥–∞–π—Ç–µ –¥–æ—Å—Ç—É–ø, –æ—Å–∫—ñ–ª—å–∫–∏ –¥–æ–¥–∞—Ç–æ–∫ `func` –ø–æ–≤–∏–Ω–µ–Ω –º–∞—Ç–∏ –º–æ–∂–ª–∏–≤—ñ—Å—Ç—å —á–∏—Ç–∞—Ç–∏ —Ç–∞ –∑–∞–ø–∏—Å—É–≤–∞—Ç–∏ —É –≤–∞—à—É –º–µ—Ä–µ–∂—É.
> ‚ö†Ô∏è –Ø–∫—â–æ –≤–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç–µ macOS, —É –≤–∏—Ö—ñ–¥–Ω–∏—Ö –¥–∞–Ω–∏—Ö –º–æ–∂—É—Ç—å –∑'—è–≤–∏—Ç–∏—Å—è –ø–æ–ø–µ—Ä–µ–¥–∂–µ–Ω–Ω—è:
>
> ```output
    > (.venv) ‚ûú  soil-moisture-trigger func start
    > Found Python version 3.9.1 (python3).
    >
    > Azure Functions Core Tools
    > Core Tools Version:       3.0.3442 Commit hash: 6bfab24b2743f8421475d996402c398d2fe4a9e0  (64-bit)
    > Function Runtime Version: 3.0.15417.0
    >
    > [2021-06-16T08:18:28.315Z] Cannot create directory for shared memory usage: /dev/shm/AzureFunctions
    > [2021-06-16T08:18:28.316Z] System.IO.FileSystem: Access to the path '/dev/shm/AzureFunctions' is denied. Operation not permitted.
    > [2021-06-16T08:18:30.361Z] No job functions found.
    > ```
>
> –í–∏ –º–æ–∂–µ—Ç–µ —ó—Ö —ñ–≥–Ω–æ—Ä—É–≤–∞—Ç–∏, —è–∫—â–æ –ø—Ä–æ–≥—Ä–∞–º–∞ Functions –∑–∞–ø—É—Å–∫–∞—î—Ç—å—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ —ñ –ø–æ–∫–∞–∑—É—î —Å–ø–∏—Å–æ–∫ –ø—Ä–∞—Ü—é—é—á–∏—Ö —Ñ—É–Ω–∫—Ü—ñ–π. –Ø–∫ –∑–∞–∑–Ω–∞—á–µ–Ω–æ –≤ [—Ü—å–æ–º—É –ø–∏—Ç–∞–Ω–Ω—ñ –Ω–∞ Microsoft Docs Q&A](https://docs.microsoft.com/answers/questions/396617/azure-functions-core-tools-error-osx-devshmazurefu.html?WT.mc_id=academic-17441-jabenn), —Ü–µ –º–æ–∂–Ω–∞ –ø—Ä–æ–ø—É—Å—Ç–∏—Ç–∏.

1. –ó—É–ø–∏–Ω—ñ—Ç—å –ø—Ä–æ–≥—Ä–∞–º—É Functions, –Ω–∞—Ç–∏—Å–Ω—É–≤—à–∏ `ctrl+c`.

1. –í—ñ–¥–∫—Ä–∏–π—Ç–µ –ø–æ—Ç–æ—á–Ω—É –ø–∞–ø–∫—É —É VS Code, –∞–±–æ –∑–∞–ø—É—Å—Ç–∏–≤—à–∏ VS Code —ñ –≤—ñ–¥–∫—Ä–∏–≤—à–∏ —Ü—é –ø–∞–ø–∫—É, –∞–±–æ –≤–∏–∫–æ–Ω–∞–≤—à–∏ –Ω–∞—Å—Ç—É–ø–Ω—É –∫–æ–º–∞–Ω–¥—É:

    ```sh
    code .
    ```

    VS Code —Ä–æ–∑–ø—ñ–∑–Ω–∞—î –≤–∞—à –ø—Ä–æ–µ–∫—Ç Functions —ñ –ø–æ–∫–∞–∂–µ —Å–ø–æ–≤—ñ—â–µ–Ω–Ω—è:

    ```output
    Detected an Azure Functions Project in folder "soil-moisture-trigger" that may have been created outside of
    VS Code. Initialize for optimal use with VS Code?
    ```

    ![–°–ø–æ–≤—ñ—â–µ–Ω–Ω—è](../../../../../translated_images/vscode-azure-functions-init-notification.bd19b49229963edb5311fb3a79445ea469424759d2917ee2f2eb6f92d65d5086.uk.png)

    –í–∏–±–µ—Ä—ñ—Ç—å **Yes** —É —Ü—å–æ–º—É —Å–ø–æ–≤—ñ—â–µ–Ω–Ω—ñ.

1. –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ –≤—ñ—Ä—Ç—É–∞–ª—å–Ω–µ —Å–µ—Ä–µ–¥–æ–≤–∏—â–µ Python –∑–∞–ø—É—â–µ–Ω–µ —É —Ç–µ—Ä–º—ñ–Ω–∞–ª—ñ VS Code. –ó–∞–≤–µ—Ä—à—ñ—Ç—å –π–æ–≥–æ —ñ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç—ñ—Ç—å, —è–∫—â–æ –Ω–µ–æ–±—Ö—ñ–¥–Ω–æ.

## –°—Ç–≤–æ—Ä–µ–Ω–Ω—è —Ç—Ä–∏–≥–µ—Ä–∞ –ø–æ–¥—ñ–π IoT Hub

–ü—Ä–æ–≥—Ä–∞–º–∞ Functions —î –æ–±–æ–ª–æ–Ω–∫–æ—é –≤–∞—à–æ–≥–æ –±–µ–∑—Å–µ—Ä–≤–µ—Ä–Ω–æ–≥–æ –∫–æ–¥—É. –©–æ–± —Ä–µ–∞–≥—É–≤–∞—Ç–∏ –Ω–∞ –ø–æ–¥—ñ—ó IoT Hub, –≤–∏ –º–æ–∂–µ—Ç–µ –¥–æ–¥–∞—Ç–∏ —Ç—Ä–∏–≥–µ—Ä IoT Hub –¥–æ —Ü—ñ—î—ó –ø—Ä–æ–≥—Ä–∞–º–∏. –¶–µ–π —Ç—Ä–∏–≥–µ—Ä –º–∞—î –ø—ñ–¥–∫–ª—é—á–∏—Ç–∏—Å—è –¥–æ –ø–æ—Ç–æ–∫—É –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å, —è–∫—ñ –Ω–∞–¥—Å–∏–ª–∞—é—Ç—å—Å—è –¥–æ IoT Hub, —ñ —Ä–µ–∞–≥—É–≤–∞—Ç–∏ –Ω–∞ –Ω–∏—Ö. –î–ª—è –æ—Ç—Ä–∏–º–∞–Ω–Ω—è —Ü—å–æ–≥–æ –ø–æ—Ç–æ–∫—É –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å –≤–∞—à —Ç—Ä–∏–≥–µ—Ä –º–∞—î –ø—ñ–¥–∫–ª—é—á–∏—Ç–∏—Å—è –¥–æ *event hub compatible endpoint* IoT Hub.

IoT Hub –±–∞–∑—É—î—Ç—å—Å—è –Ω–∞ —ñ–Ω—à—ñ–π —Å–ª—É–∂–±—ñ Azure, —è–∫–∞ –Ω–∞–∑–∏–≤–∞—î—Ç—å—Å—è Azure Event Hubs. Event Hubs ‚Äî —Ü–µ —Å–ª—É–∂–±–∞, —è–∫–∞ –¥–æ–∑–≤–æ–ª—è—î –Ω–∞–¥—Å–∏–ª–∞—Ç–∏ —Ç–∞ –æ—Ç—Ä–∏–º—É–≤–∞—Ç–∏ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è, –∞ IoT Hub —Ä–æ–∑—à–∏—Ä—é—î —ó—ó, –¥–æ–¥–∞—é—á–∏ —Ñ—É–Ω–∫—Ü—ñ—ó –¥–ª—è IoT-–ø—Ä–∏—Å—Ç—Ä–æ—ó–≤. –°–ø–æ—Å—ñ–± –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –¥–ª—è —á–∏—Ç–∞–Ω–Ω—è –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å –∑ IoT Hub —Ç–∞–∫–∏–π —Å–∞–º–∏–π, —è–∫ —ñ –¥–ª—è –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è Event Hubs.

‚úÖ –ü—Ä–æ–≤–µ–¥—ñ—Ç—å –¥–æ—Å–ª—ñ–¥–∂–µ–Ω–Ω—è: –ü—Ä–æ—á–∏—Ç–∞–π—Ç–µ –æ–≥–ª—è–¥ Event Hubs —É [–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—ó Azure Event Hubs](https://docs.microsoft.com/azure/event-hubs/event-hubs-about?WT.mc_id=academic-17441-jabenn). –Ø–∫ –±–∞–∑–æ–≤—ñ —Ñ—É–Ω–∫—Ü—ñ—ó –ø–æ—Ä—ñ–≤–Ω—é—é—Ç—å—Å—è –∑ IoT Hub?

–î–ª—è –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è IoT-–ø—Ä–∏—Å—Ç—Ä–æ—é –¥–æ IoT Hub –Ω–µ–æ–±—Ö—ñ–¥–Ω–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ —Å–µ–∫—Ä–µ—Ç–Ω–∏–π –∫–ª—é—á, —è–∫–∏–π –≥–∞—Ä–∞–Ω—Ç—É—î, —â–æ –ª–∏—à–µ –¥–æ–∑–≤–æ–ª–µ–Ω—ñ –ø—Ä–∏—Å—Ç—Ä–æ—ó –º–æ–∂—É—Ç—å –ø—ñ–¥–∫–ª—é—á–∞—Ç–∏—Å—è. –¢–µ –∂ —Å–∞–º–µ —Å—Ç–æ—Å—É—î—Ç—å—Å—è –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –¥–ª—è —á–∏—Ç–∞–Ω–Ω—è –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å ‚Äî –≤–∞—à –∫–æ–¥ –ø–æ—Ç—Ä–µ–±—É—î —Ä—è–¥–∫–∞ –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è, —è–∫–∏–π –º—ñ—Å—Ç–∏—Ç—å —Å–µ–∫—Ä–µ—Ç–Ω–∏–π –∫–ª—é—á —Ä–∞–∑–æ–º —ñ–∑ –¥–µ—Ç–∞–ª—è–º–∏ IoT Hub.

> üíÅ –†—è–¥–æ–∫ –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º, —è–∫–∏–π –≤–∏ –æ—Ç—Ä–∏–º—É—î—Ç–µ, –º–∞—î –¥–æ–∑–≤–æ–ª–∏ **iothubowner**, —â–æ –¥–∞—î –±—É–¥—å-—è–∫–æ–º—É –∫–æ–¥—É, —è–∫–∏–π –π–æ–≥–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î, –ø–æ–≤–Ω—ñ –¥–æ–∑–≤–æ–ª–∏ –Ω–∞ IoT Hub. –Ü–¥–µ–∞–ª—å–Ω–æ, —è–∫—â–æ –≤–∏ –ø—ñ–¥–∫–ª—é—á–∞—î—Ç–µ—Å—è –∑ –Ω–∞–π–Ω–∏–∂—á–∏–º —Ä—ñ–≤–Ω–µ–º –Ω–µ–æ–±—Ö—ñ–¥–Ω–∏—Ö –¥–æ–∑–≤–æ–ª—ñ–≤. –¶–µ –±—É–¥–µ —Ä–æ–∑–≥–ª—è–Ω—É—Ç–æ –≤ –Ω–∞—Å—Ç—É–ø–Ω–æ–º—É —É—Ä–æ—Ü—ñ.

–ü—ñ—Å–ª—è –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è —Ç—Ä–∏–≥–µ—Ä–∞ –∫–æ–¥ –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ —Ñ—É–Ω–∫—Ü—ñ—ó –±—É–¥–µ –≤–∏–∫–ª–∏–∫–∞—Ç–∏—Å—è –¥–ª—è –∫–æ–∂–Ω–æ–≥–æ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è, –Ω–∞–¥—ñ—Å–ª–∞–Ω–æ–≥–æ –¥–æ IoT Hub, –Ω–µ–∑–∞–ª–µ–∂–Ω–æ –≤—ñ–¥ —Ç–æ–≥–æ, —è–∫–∏–π –ø—Ä–∏—Å—Ç—Ä—ñ–π –π–æ–≥–æ –Ω–∞–¥—ñ—Å–ª–∞–≤. –¢—Ä–∏–≥–µ—Ä –ø–µ—Ä–µ–¥–∞—Å—Ç—å –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è —è–∫ –ø–∞—Ä–∞–º–µ—Ç—Ä.

### –ó–∞–≤–¥–∞–Ω–Ω—è - –æ—Ç—Ä–∏–º–∞—Ç–∏ —Ä—è–¥–æ–∫ –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –¥–æ event hub compatible endpoint

1. –£ —Ç–µ—Ä–º—ñ–Ω–∞–ª—ñ VS Code –≤–∏–∫–æ–Ω–∞–π—Ç–µ –Ω–∞—Å—Ç—É–ø–Ω—É –∫–æ–º–∞–Ω–¥—É, —â–æ–± –æ—Ç—Ä–∏–º–∞—Ç–∏ —Ä—è–¥–æ–∫ –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –¥–æ event hub compatible endpoint IoT Hub:

    ```sh
    az iot hub connection-string show --default-eventhub \
                                      --output table \
                                      --hub-name <hub_name>
    ```

    –ó–∞–º—ñ–Ω—ñ—Ç—å `<hub_name>` –Ω–∞ —ñ–º'—è, —è–∫–µ –≤–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞–ª–∏ –¥–ª—è –≤–∞—à–æ–≥–æ IoT Hub.

1. –£ VS Code –≤—ñ–¥–∫—Ä–∏–π—Ç–µ —Ñ–∞–π–ª `local.settings.json`. –î–æ–¥–∞–π—Ç–µ –Ω–∞—Å—Ç—É–ø–Ω–µ –∑–Ω–∞—á–µ–Ω–Ω—è –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ —Å–µ–∫—Ü—ñ—ó `Values`:

    ```json
    "IOT_HUB_CONNECTION_STRING": "<connection string>"
    ```

    –ó–∞–º—ñ–Ω—ñ—Ç—å `<connection string>` –Ω–∞ –∑–Ω–∞—á–µ–Ω–Ω—è –∑ –ø–æ–ø–µ—Ä–µ–¥–Ω—å–æ–≥–æ –∫—Ä–æ–∫—É. –í–∞–º –ø–æ—Ç—Ä—ñ–±–Ω–æ –¥–æ–¥–∞—Ç–∏ –∫–æ–º—É –ø—ñ—Å–ª—è –ø–æ–ø–µ—Ä–µ–¥–Ω—å–æ–≥–æ —Ä—è–¥–∫–∞, —â–æ–± –∑—Ä–æ–±–∏—Ç–∏ —Ü–µ –≤–∞–ª—ñ–¥–Ω–∏–º JSON.

### –ó–∞–≤–¥–∞–Ω–Ω—è - —Å—Ç–≤–æ—Ä–∏—Ç–∏ —Ç—Ä–∏–≥–µ—Ä –ø–æ–¥—ñ–π

–¢–µ–ø–µ—Ä –≤–∏ –≥–æ—Ç–æ–≤—ñ —Å—Ç–≤–æ—Ä–∏—Ç–∏ —Ç—Ä–∏–≥–µ—Ä –ø–æ–¥—ñ–π.

1. –£ —Ç–µ—Ä–º—ñ–Ω–∞–ª—ñ VS Code –≤–∏–∫–æ–Ω–∞–π—Ç–µ –Ω–∞—Å—Ç—É–ø–Ω—É –∫–æ–º–∞–Ω–¥—É –∑ –ø–∞–ø–∫–∏ `soil-moisture-trigger`:

    ```sh
    func new --name iot-hub-trigger --template "Azure Event Hub trigger"
    ```

    –¶–µ —Å—Ç–≤–æ—Ä–∏—Ç—å –Ω–æ–≤—É —Ñ—É–Ω–∫—Ü—ñ—é –ø—ñ–¥ –Ω–∞–∑–≤–æ—é `iot-hub-trigger`. –¢—Ä–∏–≥–µ—Ä –ø—ñ–¥–∫–ª—é—á–∏—Ç—å—Å—è –¥–æ event hub compatible endpoint IoT Hub, —Ç–æ–º—É –≤–∏ –º–æ–∂–µ—Ç–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ —Ç—Ä–∏–≥–µ—Ä event hub. –°–ø–µ—Ü–∏—Ñ—ñ—á–Ω–æ–≥–æ —Ç—Ä–∏–≥–µ—Ä–∞ IoT Hub –Ω–µ–º–∞—î.

–¶–µ —Å—Ç–≤–æ—Ä–∏—Ç—å –ø–∞–ø–∫—É –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ –ø–∞–ø–∫–∏ `soil-moisture-trigger` –ø—ñ–¥ –Ω–∞–∑–≤–æ—é `iot-hub-trigger`, —è–∫–∞ –º—ñ—Å—Ç–∏—Ç–∏–º–µ —Ü—é —Ñ—É–Ω–∫—Ü—ñ—é. –£ —Ü—ñ–π –ø–∞–ø—Ü—ñ –±—É–¥—É—Ç—å –Ω–∞—Å—Ç—É–ø–Ω—ñ —Ñ–∞–π–ª–∏:

* `__init__.py` - —Ü–µ —Ñ–∞–π–ª –∫–æ–¥—É Python, —è–∫–∏–π –º—ñ—Å—Ç–∏—Ç—å —Ç—Ä–∏–≥–µ—Ä, –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—á–∏ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—É –∫–æ–Ω–≤–µ–Ω—Ü—ñ—é —ñ–º–µ–Ω—É–≤–∞–Ω–Ω—è —Ñ–∞–π–ª—ñ–≤ Python –¥–ª—è –ø–µ—Ä–µ—Ç–≤–æ—Ä–µ–Ω–Ω—è —Ü—ñ—î—ó –ø–∞–ø–∫–∏ –Ω–∞ –º–æ–¥—É–ª—å Python.

    –¶–µ–π —Ñ–∞–π–ª –º—ñ—Å—Ç–∏—Ç–∏–º–µ –Ω–∞—Å—Ç—É–ø–Ω–∏–π –∫–æ–¥:

    ```python
    import logging

    import azure.functions as func


    def main(event: func.EventHubEvent):
        logging.info('Python EventHub trigger processed an event: %s',
                    event.get_body().decode('utf-8'))
    ```

    –û—Å–Ω–æ–≤–æ—é —Ç—Ä–∏–≥–µ—Ä–∞ —î —Ñ—É–Ω–∫—Ü—ñ—è `main`. –°–∞–º–µ —Ü—è —Ñ—É–Ω–∫—Ü—ñ—è –≤–∏–∫–ª–∏–∫–∞—î—Ç—å—Å—è –∑ –ø–æ–¥—ñ—è–º–∏ –∑ IoT Hub. –¶—è —Ñ—É–Ω–∫—Ü—ñ—è –º–∞—î –ø–∞—Ä–∞–º–µ—Ç—Ä `event`, —è–∫–∏–π –º—ñ—Å—Ç–∏—Ç—å `EventHubEvent`. –ö–æ–∂–Ω–æ–≥–æ —Ä–∞–∑—É, –∫–æ–ª–∏ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –Ω–∞–¥—Å–∏–ª–∞—î—Ç—å—Å—è –¥–æ IoT Hub, —Ü—è —Ñ—É–Ω–∫—Ü—ñ—è –≤–∏–∫–ª–∏–∫–∞—î—Ç—å—Å—è, –ø–µ—Ä–µ–¥–∞—é—á–∏ —Ü–µ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è —è–∫ `event`, —Ä–∞–∑–æ–º —ñ–∑ –≤–ª–∞—Å—Ç–∏–≤–æ—Å—Ç—è–º–∏, —è–∫—ñ —î —Ç–∞–∫–∏–º–∏ –∂, —è–∫ —ñ –∞–Ω–æ—Ç–∞—Ü—ñ—ó, —è–∫—ñ –≤–∏ –±–∞—á–∏–ª–∏ –≤ –ø–æ–ø–µ—Ä–µ–¥–Ω—å–æ–º—É —É—Ä–æ—Ü—ñ.

    –û—Å–Ω–æ–≤–æ—é —Ü—ñ—î—ó —Ñ—É–Ω–∫—Ü—ñ—ó —î –ª–æ–≥—É–≤–∞–Ω–Ω—è –ø–æ–¥—ñ—ó.

* `function.json` - —Ü–µ–π —Ñ–∞–π–ª –º—ñ—Å—Ç–∏—Ç—å –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—é –¥–ª—è —Ç—Ä–∏–≥–µ—Ä–∞. –û—Å–Ω–æ–≤–Ω–∞ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è –∑–Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è –≤ —Å–µ–∫—Ü—ñ—ó `bindings`. Binding ‚Äî —Ü–µ —Ç–µ—Ä–º—ñ–Ω –¥–ª—è –∑'—î–¥–Ω–∞–Ω–Ω—è –º—ñ–∂ Azure Functions —Ç–∞ —ñ–Ω—à–∏–º–∏ —Å–ª—É–∂–±–∞–º–∏ Azure. –¶—è —Ñ—É–Ω–∫—Ü—ñ—è –º–∞—î –≤—Ö—ñ–¥–Ω–∏–π binding –¥–æ event hub ‚Äî –≤–æ–Ω–∞ –ø—ñ–¥–∫–ª—é—á–∞—î—Ç—å—Å—è –¥–æ event hub —ñ –æ—Ç—Ä–∏–º—É—î –¥–∞–Ω—ñ.

    > üíÅ –í–∏ —Ç–∞–∫–æ–∂ –º–æ–∂–µ—Ç–µ –º–∞—Ç–∏ –≤–∏—Ö—ñ–¥–Ω—ñ bindings, —â–æ–± –≤–∏—Ö—ñ–¥ —Ñ—É–Ω–∫—Ü—ñ—ó –Ω–∞–¥—Å–∏–ª–∞–≤—Å—è –¥–æ —ñ–Ω—à–æ—ó —Å–ª—É–∂–±–∏. –ù–∞–ø—Ä–∏–∫–ª–∞–¥, –≤–∏ –º–æ–∂–µ—Ç–µ –¥–æ–¥–∞—Ç–∏ –≤–∏—Ö—ñ–¥–Ω–∏–π binding –¥–æ –±–∞–∑–∏ –¥–∞–Ω–∏—Ö —ñ –ø–æ–≤–µ—Ä–Ω—É—Ç–∏ –ø–æ–¥—ñ—é IoT Hub –∑ —Ñ—É–Ω–∫—Ü—ñ—ó, —ñ –≤–æ–Ω–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –±—É–¥–µ –≤—Å—Ç–∞–≤–ª–µ–Ω–∞ –≤ –±–∞–∑—É –¥–∞–Ω–∏—Ö.

    ‚úÖ –ü—Ä–æ–≤–µ–¥—ñ—Ç—å –¥–æ—Å–ª—ñ–¥–∂–µ–Ω–Ω—è: –ü—Ä–æ—á–∏—Ç–∞–π—Ç–µ –ø—Ä–æ bindings —É [–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—ó –∫–æ–Ω—Ü–µ–ø—Ü—ñ–π —Ç—Ä–∏–≥–µ—Ä—ñ–≤ —Ç–∞ bindings Azure Functions](https://docs.microsoft.com/azure/azure-functions/functions-triggers-bindings?WT.mc_id=academic-17441-jabenn&tabs=python).

    –°–µ–∫—Ü—ñ—è `bindings` –≤–∫–ª—é—á–∞—î –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—é –¥–ª—è binding. –ó–Ω–∞—á–µ–Ω–Ω—è, —è–∫—ñ –≤–∞—Å —Ü—ñ–∫–∞–≤–ª—è—Ç—å:

  * `"type": "eventHubTrigger"` - —Ü–µ –≤–∫–∞–∑—É—î —Ñ—É–Ω–∫—Ü—ñ—ó, —â–æ –≤–æ–Ω–∞ –º–∞—î —Å–ª—É—Ö–∞—Ç–∏ –ø–æ–¥—ñ—ó –∑ Event Hub
  * `"name": "events"` - —Ü–µ —ñ–º'—è –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ –¥–ª—è –ø–æ–¥—ñ–π Event Hub. –¶–µ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î —ñ–º–µ–Ω—ñ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ —É —Ñ—É–Ω–∫—Ü—ñ—ó `main` —É –∫–æ–¥—ñ Python.
  * `"direction": "in"` - —Ü–µ –≤—Ö—ñ–¥–Ω–∏–π binding, –¥–∞–Ω—ñ –∑ event hub –Ω–∞–¥—Ö–æ–¥—è—Ç—å –¥–æ —Ñ—É–Ω–∫—Ü—ñ—ó
  * `"connection": ""` - —Ü–µ –≤–∏–∑–Ω–∞—á–∞—î —ñ–º'—è –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –¥–ª—è —á–∏—Ç–∞–Ω–Ω—è —Ä—è–¥–∫–∞ –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è. –ü—Ä–∏ –ª–æ–∫–∞–ª—å–Ω–æ–º—É –∑–∞–ø—É—Å–∫—É —Ü–µ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –±—É–¥–µ —á–∏—Ç–∞—Ç–∏—Å—è –∑ —Ñ–∞–π–ª—É `local.settings.json`.

    > üíÅ –†—è–¥–æ–∫ –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –Ω–µ –º–æ–∂–µ –±—É—Ç–∏ –∑–±–µ—Ä–µ–∂–µ–Ω–∏–π —É —Ñ–∞–π–ª—ñ `function.json`, –π–æ–≥–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ —á–∏—Ç–∞—Ç–∏ –∑ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω—å. –¶–µ –∑—Ä–æ–±–ª–µ–Ω–æ –¥–ª—è —Ç–æ–≥–æ, —â–æ–± –≤–∏ –≤–∏–ø–∞–¥–∫–æ–≤–æ –Ω–µ —Ä–æ–∑–∫—Ä–∏–ª–∏ –≤–∞—à —Ä—è–¥–æ–∫ –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è.

1. –ß–µ—Ä–µ–∑ [–ø–æ–º–∏–ª–∫—É –≤ —à–∞–±–ª–æ–Ω—ñ Azure Functions](https://github.com/Azure/azure-functions-templates/issues/1250), —É —Ñ–∞–π–ª—ñ `function.json` —î –Ω–µ–∫–æ—Ä–µ–∫—Ç–Ω–µ –∑–Ω–∞—á–µ–Ω–Ω—è –¥–ª—è –ø–æ–ª—è `cardinality`. –û–Ω–æ–≤—ñ—Ç—å —Ü–µ –ø–æ–ª–µ –∑ `many` –Ω–∞ `one`:

    ```json
    "cardinality": "one",
    ```

1. –û–Ω–æ–≤—ñ—Ç—å –∑–Ω–∞—á–µ–Ω–Ω—è `"connection"` —É —Ñ–∞–π–ª—ñ `function.json`, —â–æ–± –≤–∫–∞–∑–∞—Ç–∏ –Ω–∞ –Ω–æ–≤–µ –∑–Ω–∞—á–µ–Ω–Ω—è, —è–∫–µ –≤–∏ –¥–æ–¥–∞–ª–∏ –¥–æ —Ñ–∞–π–ª—É `local.settings.json`:

    ```json
    "connection": "IOT_HUB_CONNECTION_STRING",
    ```

    > üíÅ –ü–∞–º'—è—Ç–∞–π—Ç–µ - —Ü–µ –º–∞—î –≤–∫–∞–∑—É–≤–∞—Ç–∏ –Ω–∞ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è, –∞ –Ω–µ –º—ñ—Å—Ç–∏—Ç–∏ —Ñ–∞–∫—Ç–∏—á–Ω–∏–π —Ä—è–¥–æ–∫ –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è.

1. –†—è–¥–æ–∫ –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –º—ñ—Å—Ç–∏—Ç—å –∑–Ω–∞—á–µ–Ω–Ω—è `eventHubName`, —Ç–æ–º—É –∑–Ω–∞—á–µ–Ω–Ω—è –¥–ª—è —Ü—å–æ–≥–æ —É —Ñ–∞–π–ª—ñ `function.json` –ø–æ—Ç—Ä—ñ–±–Ω–æ –æ—á–∏—Å—Ç–∏—Ç–∏. –û–Ω–æ–≤—ñ—Ç—å —Ü–µ –∑–Ω–∞—á–µ–Ω–Ω—è –¥–æ –ø–æ—Ä–æ–∂–Ω—å–æ–≥–æ —Ä—è–¥–∫–∞:

    ```json
    "eventHubName": "",
    ```

### –ó–∞–≤–¥–∞–Ω–Ω—è - –∑–∞–ø—É—Å—Ç–∏—Ç–∏ —Ç—Ä–∏–≥–µ—Ä –ø–æ–¥—ñ–π

1. –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ –≤–∏ –Ω–µ –∑–∞–ø—É—Å–∫–∞—î—Ç–µ –º–æ–Ω—ñ—Ç–æ—Ä –ø–æ–¥—ñ–π IoT Hub. –Ø–∫—â–æ –≤—ñ–Ω –ø—Ä–∞—Ü—é—î –æ–¥–Ω–æ—á–∞—Å–Ω–æ –∑ –ø—Ä–æ–≥—Ä–∞–º–æ—é Functions, –ø—Ä–æ–≥—Ä–∞–º–∞ Functions –Ω–µ –∑–º–æ–∂–µ –ø—ñ–¥–∫–ª—é—á–∏—Ç–∏—Å—è —ñ —Å–ø–æ–∂–∏–≤–∞—Ç–∏ –ø–æ–¥—ñ—ó.

    > üíÅ –î–æ endpoint IoT Hub –º–æ–∂—É—Ç—å –ø—ñ–¥–∫–ª—é—á–∞—Ç–∏—Å—è –∫—ñ–ª—å–∫–∞ –ø—Ä–æ–≥—Ä–∞–º, –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—á–∏ —Ä—ñ–∑–Ω—ñ *–≥—Ä—É–ø–∏ —Å–ø–æ–∂–∏–≤–∞—á—ñ–≤*. –¶–µ –±—É–¥–µ —Ä–æ–∑–≥–ª—è–Ω—É—Ç–æ –≤ –Ω–∞—Å—Ç—É–ø–Ω–æ–º—É —É—Ä–æ—Ü—ñ.

1. –©–æ–± –∑–∞–ø—É—Å—Ç–∏—Ç–∏ –ø—Ä–æ–≥—Ä–∞–º—É Functions, –≤–∏–∫–æ–Ω–∞–π—Ç–µ –Ω–∞—Å—Ç—É–ø–Ω—É –∫–æ–º–∞–Ω–¥—É –∑ —Ç–µ—Ä–º—ñ–Ω–∞–ª—É VS Code:

    ```sh
    func start
    ```

    –ü—Ä–æ–≥—Ä–∞–º–∞ Functions –∑–∞–ø—É—Å—Ç–∏—Ç—å—Å—è —ñ –∑–Ω–∞–π–¥–µ —Ñ—É–Ω–∫—Ü—ñ—é `iot-hub-trigger`. –í–æ–Ω–∞ –æ–±—Ä–æ–±–∏—Ç—å –±—É–¥—å-—è–∫—ñ –ø–æ–¥—ñ—ó, —è–∫—ñ –≤–∂–µ –±—É–ª–∏ –Ω–∞–¥—ñ—Å–ª–∞–Ω—ñ –¥–æ IoT Hub –∑–∞ –æ—Å—Ç–∞–Ω–Ω—ñ–π –¥–µ–Ω—å.

    ```output
    (.venv) ‚ûú  soil-moisture-trigger func start
    Found Python version 3.9.1 (python3).
    
    Azure Functions Core Tools
    Core Tools Version:       3.0.3442 Commit hash: 6bfab24b2743f8421475d996402c398d2fe4a9e0  (64-bit)
    Function Runtime Version: 3.0.15417.0
    
    Functions:
    
            iot-hub-trigger: eventHubTrigger
    
    For detailed output, run func with --verbose flag.
    [2021-05-05T02:44:07.517Z] Worker process started and initialized.
    [2021-05-05T02:44:09.202Z] Executing 'Functions.iot-hub-trigger' (Reason='(null)', Id=802803a5-eae9-4401-a1f4-176631456ce4)
    [2021-05-05T02:44:09.205Z] Trigger Details: PartitionId: 0, Offset: 1011240-1011632, EnqueueTimeUtc: 2021-05-04T19:04:04.2030000Z-2021-05-04T19:04:04.3900000Z, SequenceNumber: 2546-2547, Count: 2
    [2021-05-05T02:44:09.352Z] Python EventHub trigger processed an event: {"soil_moisture":628}
    [2021-05-05T02:44:09.354Z] Python EventHub trigger processed an event: {"soil_moisture":624}
    [2021-05-05T02:44:09.395Z] Executed 'Functions.iot-hub-trigger' (Succeeded, Id=802803a5-eae9-4401-a1f4-176631456ce4, Duration=245ms)
    ```

    –ö–æ–∂–µ–Ω –≤–∏–∫–ª–∏–∫ —Ñ—É–Ω–∫—Ü—ñ—ó –±—É–¥–µ –æ—Ç–æ—á–µ–Ω–∏–π –±–ª–æ–∫–∞–º–∏ `Executing 'Functions.iot-hub-trigger'`/`Executed 'Functions.iot-hub-trigger'` —É –≤–∏—Ö—ñ–¥–Ω–∏—Ö –¥–∞–Ω–∏—Ö, —â–æ–± –≤–∏ –º–æ–≥–ª–∏ –ø–æ–±–∞—á–∏—Ç–∏, —Å–∫—ñ–ª—å–∫–∏ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å –±—É–ª–æ –æ–±—Ä–æ–±–ª–µ–Ω–æ –≤ –∫–æ–∂–Ω–æ–º—É –≤–∏–∫–ª–∏–∫—É —Ñ—É–Ω–∫—Ü—ñ—ó.

1. –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ –≤–∞—à IoT-–ø—Ä–∏—Å—Ç—Ä—ñ–π –ø—Ä–∞—Ü—é—î. –í–∏ –ø–æ–±–∞—á–∏—Ç–µ –Ω–æ–≤—ñ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –ø—Ä–æ –≤–æ–ª–æ–≥—ñ—Å—Ç—å “ë—Ä—É–Ω—Ç—É, —è–∫—ñ –∑'—è–≤–ª—è—é—Ç—å—Å—è –≤ –ø—Ä–æ–≥—Ä–∞–º—ñ Functions.

1. –ó—É–ø–∏–Ω—ñ—Ç—å —ñ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç—ñ—Ç—å –ø—Ä–æ–≥—Ä–∞–º—É Functions. –í–∏ –ø–æ–±–∞—á–∏—Ç–µ, —â–æ –≤–æ–Ω–∞ –±—ñ–ª—å—à–µ –Ω–µ –æ–±—Ä–æ–±–ª—è—î –ø–æ–ø–µ—Ä–µ–¥–Ω—ñ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è, –∞ –ª–∏—à–µ –Ω–æ–≤—ñ.

> üíÅ VS Code —Ç–∞–∫–æ–∂ –ø—ñ–¥—Ç—Ä–∏–º—É—î –Ω–∞–ª–∞–≥–æ–¥–∂–µ–Ω–Ω—è –≤–∞—à–∏—Ö —Ñ—É–Ω–∫—Ü—ñ–π. –í–∏ –º–æ–∂–µ—Ç–µ –≤—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ —Ç–æ—á–∫–∏ –∑—É–ø–∏–Ω–∫–∏, –Ω–∞—Ç–∏—Å–Ω—É–≤—à–∏ –Ω–∞ –º–µ–∂—É –±—ñ–ª—è –ø–æ—á–∞—Ç–∫—É –∫–æ–∂–Ω–æ–≥–æ —Ä—è–¥–∫–∞ –∫–æ–¥—É, –∞–±–æ –ø–æ—Å—Ç–∞–≤–∏–≤—à–∏ –∫—É—Ä—Å–æ—Ä –Ω–∞ —Ä—è–¥–æ–∫ –∫–æ–¥—É —ñ –≤–∏–±—Ä–∞–≤—à–∏ *Run -> Toggle breakpoint*, –∞–±–æ –Ω–∞—Ç–∏—Å–Ω—É–≤—à–∏ `F9`. –í–∏ –º–æ–∂–µ—Ç–µ –∑–∞–ø—É—Å—Ç–∏—Ç–∏ –Ω–∞–ª–∞–≥–æ–¥–∂—É–≤–∞—á, –≤–∏–±—Ä–∞–≤—à–∏ *Run -> Start debugging*, –Ω–∞—Ç–∏—Å–Ω—É–≤—à–∏ `F5`, –∞–±–æ –≤–∏–±—Ä–∞–≤—à–∏ –ø–∞–Ω–µ–ª—å *Run and debug* —ñ –Ω–∞—Ç–∏—Å–Ω—É–≤—à–∏ –∫–Ω–æ–ø–∫—É **Start debugging**. –¢–∞–∫–∏–º —á–∏–Ω–æ–º –≤–∏ –º–æ–∂–µ—Ç–µ –ø–æ–±–∞—á–∏—Ç–∏ –¥–µ—Ç–∞–ª—ñ –æ–±—Ä–æ–±–ª—é–≤–∞–Ω–∏—Ö –ø–æ–¥—ñ–π.

#### –í–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è –ø–æ–º–∏–ª–æ–∫

* –Ø–∫—â–æ –≤–∏ –æ—Ç—Ä–∏–º—É—î—Ç–µ –Ω–∞—Å—Ç—É–ø–Ω—É –ø–æ–º–∏–ª–∫—É:

    ```output
    The listener for function 'Functions.iot-hub-trigger' was unable to start. Microsoft.WindowsAzure.Storage: Connection refused. System.Net.Http: Connection refused. System.Private.CoreLib: Connection refused.
    ```

    –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ, —á–∏ –∑–∞–ø—É—â–µ–Ω–∏–π Azurite —ñ —á–∏ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ `AzureWebJobsStorage` —É —Ñ–∞–π–ª—ñ `local.settings.json` –Ω–∞ `UseDevelopmentStorage=true`.

* –Ø–∫—â–æ –≤–∏ –æ—Ç—Ä–∏–º—É—î—Ç–µ –Ω–∞—Å—Ç—É–ø–Ω—É –ø–æ–º–∏–ª–∫—É:

    ```output
    System.Private.CoreLib: Exception while executing function: Functions.iot-hub-trigger. System.Private.CoreLib: Result: Failure Exception: AttributeError: 'list' object has no attribute 'get_body'
    ```

    –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ, —á–∏ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ `cardinality` —É —Ñ–∞–π–ª—ñ `function.json` –Ω–∞ `one`.

* –Ø–∫—â–æ –≤–∏ –æ—Ç—Ä–∏–º—É—î—Ç–µ –Ω–∞—Å—Ç—É–ø–Ω—É –ø–æ–º–∏–ª–∫—É:

    ```output
    Azure.Messaging.EventHubs: The path to an Event Hub may be specified as part of the connection string or as a separate value, but not both.  Please verify that your connection string does not have the `EntityPath` token if you are passing an explicit Event Hub name. (Parameter 'connectionString').
    ```

    –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ, —á–∏ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ `eventHubName` —É —Ñ–∞–π–ª—ñ `function.json` –Ω–∞ –ø–æ—Ä–æ–∂–Ω—ñ–π —Ä—è–¥–æ–∫.

## –ù–∞–¥—Å–∏–ª–∞–Ω–Ω—è –∑–∞–ø–∏—Ç—ñ–≤ –Ω–∞ –ø—Ä—è–º—ñ –º–µ—Ç–æ–¥–∏ –∑ –±–µ–∑—Å–µ—Ä–≤–µ—Ä–Ω–æ–≥–æ –∫–æ–¥—É

–î–æ—Å—ñ –≤–∞—à–∞ –ø—Ä–æ–≥—Ä–∞–º–∞ Functions —Å–ª—É—Ö–∞–ª–∞ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –∑ IoT Hub, –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—á–∏ endpoint, —Å—É–º—ñ—Å–Ω–∏–π –∑ Event Hub. –¢–µ–ø–µ—Ä –≤–∞–º –ø–æ—Ç—Ä—ñ–±–Ω–æ –Ω–∞–¥—Å–∏–ª–∞—Ç–∏ –∫–æ–º–∞–Ω–¥–∏ –¥–æ IoT-–ø—Ä–∏—Å—Ç—Ä–æ—é. –¶–µ —Ä–æ–±–∏—Ç—å—Å—è —á–µ—Ä–µ–∑ —ñ–Ω—à–µ –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –¥–æ IoT Hub —á–µ—Ä–µ–∑ *Registry Manager*. Registry Manager ‚Äî —Ü–µ —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç, —è–∫–∏–π –¥–æ–∑–≤–æ–ª—è—î –±–∞—á–∏—Ç–∏, —è–∫—ñ –ø—Ä–∏—Å—Ç—Ä–æ—ó –∑–∞—Ä–µ—î—Å—Ç—Ä–æ–≤–∞–Ω—ñ –≤ IoT Hub, —ñ —Å–ø—ñ–ª–∫—É–≤–∞—Ç–∏—Å—è –∑ —Ü–∏–º–∏ –ø—Ä–∏—Å—Ç—Ä–æ—è–º–∏, –Ω–∞–¥—Å–∏–ª–∞—é—á–∏ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –∑ —Ö–º–∞—Ä–∏ –¥–æ –ø—Ä–∏—Å—Ç—Ä–æ—é, –∑–∞–ø–∏—Ç–∏ –Ω–∞ –ø—Ä—è–º—ñ –º–µ—Ç–æ–¥–∏ –∞–±–æ –æ–Ω–æ–≤–ª—é—é—á–∏ device twin. –í–∏ —Ç–∞–∫–æ–∂ –º–æ–∂–µ—Ç–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –π–æ–≥–æ –¥–ª—è —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—ó, –æ–Ω–æ–≤–ª–µ–Ω–Ω—è –∞–±–æ –≤–∏–¥–∞–ª–µ–Ω–Ω—è IoT-–ø—Ä–∏—Å—Ç—Ä–æ—ó–≤ –∑ IoT Hub.

–©–æ–± –ø—ñ–¥–∫–ª—é—á–∏—Ç–∏—Å—è –¥–æ Registry Manager, –≤–∞–º –ø–æ—Ç—Ä—ñ–±–µ–Ω —Ä—è–¥–æ–∫ –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è.

### –ó–∞–≤–¥–∞–Ω–Ω—è - –æ—Ç—Ä–∏–º–∞—Ç–∏ —Ä—è–¥–æ–∫ –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –¥–æ Registry Manager

1. –©–æ–± –æ—Ç—Ä–∏–º–∞—Ç–∏ —Ä—è–¥–æ–∫ –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è, –≤–∏–∫–æ–Ω–∞–π—Ç–µ –Ω–∞—Å—Ç—É–ø–Ω—É –∫–æ–º–∞–Ω–¥—É:

    ```sh
    az iot hub connection-string show --policy-name service \
                                      --output table \
                                      --hub-name <hub_name>
    ```

    –ó–∞–º—ñ–Ω—ñ—Ç—å `<hub_name>` –Ω–∞ —ñ–º'—è, —è–∫–µ –≤–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞–ª–∏ –¥–ª—è –≤–∞—à–æ–≥–æ IoT Hub.

    –†—è–¥–æ–∫ –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –∑–∞–ø–∏—Ç—É—î—Ç—å—Å—è –¥–ª—è –ø–æ–ª—ñ—Ç–∏–∫–∏ *ServiceConnect* –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ `--policy-name service`. –ö–æ–ª–∏ –≤–∏ –∑–∞–ø–∏—Ç—É—î—Ç–µ —Ä—è–¥–æ–∫ –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è, –≤–∏ –º–æ–∂–µ—Ç–µ –≤–∫–∞–∑–∞—Ç–∏, —è–∫—ñ –¥–æ–∑–≤–æ–ª–∏ —Ü–µ–π —Ä—è–¥–æ–∫ –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –¥–æ–∑–≤–æ–ª–∏—Ç—å. –ü–æ–ª—ñ—Ç–∏–∫–∞ ServiceConnect –¥–æ–∑–≤–æ–ª—è—î –≤–∞—à–æ–º—É –∫–æ–¥—É –ø—ñ–¥–∫–ª—é—á–∞—Ç–∏—Å—è —ñ –Ω–∞–¥—Å–∏–ª–∞—Ç–∏ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –¥–æ IoT-–ø—Ä–∏—Å—Ç—Ä–æ—ó–≤.

    ‚úÖ –ü—Ä–æ–≤–µ–¥—ñ—Ç—å –¥–æ—Å–ª—ñ–¥–∂–µ–Ω–Ω—è: –ü—Ä–æ—á–∏—Ç–∞–π—Ç–µ –ø—Ä–æ —Ä—ñ–∑–Ω—ñ –ø–æ–ª—ñ—Ç–∏–∫–∏ —É [–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—ó –ø—Ä–æ –¥–æ–∑–≤–æ–ª–∏ IoT Hub](https://docs.microsoft.com/azure/iot-hub/iot-hub-devguide-security#iot-hub-permissions?WT.mc_id=academic-17441-jabenn)

1. –£ VS Code –≤—ñ–¥–∫—Ä–∏–π—Ç–µ —Ñ–∞–π–ª `local.settings.json`. –î–æ–¥–∞–π—Ç–µ –Ω–∞—Å—Ç—É–ø–Ω–µ –∑–Ω–∞—á–µ–Ω–Ω—è –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ —Å–µ–∫—Ü—ñ—ó `Values`:

    ```json
    "REGISTRY_MANAGER_CONNECTION_STRING": "<connection string>"
    ```

    –ó–∞–º—ñ–Ω—ñ—Ç—å `<connection string>` –Ω–∞ –∑–Ω–∞—á–µ–Ω–Ω—è –∑ –ø–æ–ø–µ—Ä–µ–¥–Ω—å–æ–≥–æ –∫—Ä–æ–∫—É. –í–∞–º –ø–æ—Ç—Ä—ñ–±–Ω–æ –¥–æ–¥–∞—Ç–∏ –∫–æ–º—É –ø—ñ—Å–ª—è –ø–æ–ø–µ—Ä–µ–¥–Ω—å–æ–≥–æ —Ä—è–¥–∫–∞, —â–æ–± –∑—Ä–æ–±–∏—Ç–∏ —Ü–µ –≤–∞–ª—ñ–¥–Ω–∏–º JSON.

### –ó–∞–≤–¥–∞–Ω–Ω—è - –Ω–∞–¥—ñ—Å–ª–∞—Ç–∏ –∑–∞–ø–∏—Ç –Ω–∞ –ø—Ä—è–º–∏–π –º–µ—Ç–æ–¥ –¥–æ –ø—Ä–∏—Å—Ç—Ä–æ—é

1. SDK –¥–ª—è Registry Manager –¥–æ—Å—Ç—É–ø–Ω–∏–π —á–µ—Ä–µ–∑ –ø–∞–∫–µ—Ç Pip. –î–æ–¥–∞–π—Ç–µ –Ω–∞—Å—Ç—É–ø–Ω–∏–π —Ä—è–¥–æ–∫ –¥–æ —Ñ–∞–π–ª—É `requirements.txt`, —â–æ–± –¥–æ–¥–∞—Ç–∏ –∑–∞–ª–µ–∂–Ω—ñ—Å—Ç—å –≤—ñ–¥ —Ü—å–æ–≥–æ –ø–∞–∫–µ—Ç–∞:

    ```sh
    azure-iot-hub
    ```

1. –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ —Ç–µ—Ä–º—ñ–Ω–∞–ª VS Code –º–∞—î –∞–∫—Ç–∏–≤–æ–≤–∞–Ω–µ –≤—ñ—Ä—Ç—É–∞–ª—å–Ω–µ —Å–µ—Ä–µ–¥–æ–≤–∏—â–µ, —ñ –≤–∏–∫–æ–Ω–∞–π—Ç–µ –Ω–∞—Å—Ç—É–ø–Ω—É –∫–æ–º–∞–Ω–¥—É –¥–ª—è –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è –ø–∞–∫–µ—Ç—ñ–≤ Pip:

    ```sh
    pip install -r requirements.txt
    ```

1. –î–æ–¥–∞–π—Ç–µ –Ω–∞—Å—Ç—É–ø–Ω—ñ —ñ–º–ø–æ—Ä—Ç–∏ –¥–æ —Ñ–∞–π–ª—É `__init__.py`:

    ```python
    import json
    import os
    from azure.iot.hub import IoTHubRegistryManager
    from azure.iot.hub.models import CloudToDeviceMethod
    ```

    –¶–µ —ñ–º–ø–æ—Ä—Ç—É—î –¥–µ—è–∫—ñ —Å–∏—Å—Ç–µ–º–Ω—ñ –±—ñ–±–ª—ñ–æ—Ç–µ–∫–∏, –∞ —Ç–∞–∫–æ–∂ –±—ñ–±–ª—ñ–æ—Ç–µ–∫–∏ –¥–ª—è –≤–∑–∞—î–º–æ–¥—ñ—ó –∑ Registry Manager —ñ –Ω–∞–¥—Å–∏–ª–∞–Ω–Ω—è –∑–∞–ø–∏—Ç—ñ–≤ –Ω–∞ –ø—Ä—è–º—ñ –º–µ—Ç–æ–¥–∏.

1. –í–∏–¥–∞–ª—ñ—Ç—å –∫–æ–¥ –∑ —Ñ—É–Ω–∫—Ü—ñ—ó `main`, –∞–ª–µ –∑–∞–ª–∏—à—Ç–µ —Å–∞–º—É —Ñ—É–Ω–∫—Ü—ñ—é.

1. –£ —Ñ—É–Ω–∫—Ü—ñ—ó `main` –¥–æ–¥–∞–π—Ç–µ –Ω–∞—Å—Ç—É–ø–Ω–∏–π –∫–æ–¥:

    ```python
    body = json.loads(event.get_body().decode('utf-8'))
    device_id = event.iothub_metadata['connection-device-id']

    logging.info(f'Received message: {body} from {device_id}')
    ```

    –¶–µ–π –∫–æ–¥ –≤–∏—Ç—è–≥—É—î —Ç—ñ–ª–æ –ø–æ–¥—ñ—ó, —è–∫–µ –º—ñ—Å—Ç–∏—Ç—å JSON-–ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è, –Ω–∞–¥—ñ—Å–ª–∞–Ω–µ IoT-–ø—Ä–∏—Å—Ç—Ä–æ—î–º.

    –ü–æ—Ç—ñ–º –≤—ñ–Ω –æ—Ç—Ä–∏–º—É—î ID –ø—Ä–∏—Å—Ç—Ä–æ—é –∑ –∞–Ω–æ—Ç–∞—Ü—ñ–π, –ø–µ—Ä–µ–¥–∞–Ω–∏—Ö —Ä–∞–∑–æ–º —ñ–∑ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è–º. –¢—ñ–ª–æ –ø–æ–¥—ñ—ó –º—ñ—Å—Ç–∏—Ç—å –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è, –Ω–∞–¥—ñ—Å–ª–∞–Ω–µ —è–∫ —Ç–µ–ª–µ–º–µ—Ç—Ä—ñ—è, –∞ —Å–ª–æ–≤–Ω–∏–∫ `iothub_metadata` –º—ñ—Å—Ç–∏—Ç—å –≤–ª–∞—Å—Ç–∏–≤–æ—Å—Ç—ñ, –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ñ IoT Hub, —Ç–∞–∫—ñ —è–∫ ID –ø—Ä–∏—Å—Ç—Ä–æ—é –≤—ñ–¥–ø—Ä–∞–≤–Ω–∏–∫–∞ —ñ —á–∞—Å, –∫–æ–ª–∏ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –±—É–ª–æ –Ω–∞–¥—ñ—Å–ª–∞–Ω–æ.

    –¶—è —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è –ø–æ—Ç—ñ–º –ª–æ–≥—É—î—Ç—å—Å—è. –í–∏ –ø–æ–±–∞—á–∏—Ç–µ —Ü–µ –ª–æ–≥—É–≤–∞–Ω–Ω—è –≤ —Ç–µ—Ä–º—ñ–Ω–∞–ª—ñ, –∫–æ–ª–∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–æ–≥—Ä–∞–º—É Functions –ª–æ–∫–∞–ª—å–Ω–æ.

1. –ù–∏–∂—á–µ —Ü—å–æ–≥–æ –¥–æ–¥–∞–π—Ç–µ –Ω–∞—Å—Ç—É–ø–Ω–∏–π –∫–æ–¥:

    ```python
    soil_moisture = body['soil_moisture']

    if soil_moisture > 450:
        direct_method = CloudToDeviceMethod(method_name='relay_on', payload='{}')
    else:
        direct_method = CloudToDeviceMethod(method_name='relay_off', payload='{}')
    ```

    –¶–µ–π –∫–æ–¥ –æ—Ç—Ä–∏–º—É—î –≤–æ–ª–æ–≥—ñ—Å—Ç—å “ë—Ä—É–Ω—Ç—É –∑ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è. –ü–æ—Ç—ñ–º –≤—ñ–Ω –ø–µ—Ä–µ–≤—ñ—Ä—è—î –≤–æ–ª–æ–≥—ñ—Å—Ç—å “ë—Ä—É–Ω—Ç—É —ñ, –∑–∞–ª–µ–∂–Ω–æ –≤—ñ–¥ –∑–Ω–∞—á–µ–Ω–Ω—è, —Å—Ç–≤–æ—Ä—é—î –¥–æ–ø–æ–º—ñ–∂–Ω–∏–π –∫–ª–∞—Å –¥–ª—è –∑–∞–ø–∏—Ç—É –Ω–∞ –ø—Ä—è–º–∏–π –º–µ—Ç–æ–¥ `relay_on` –∞–±–æ `relay_off`. –ó–∞–ø–∏—Ç –º–µ—Ç–æ–¥—É –Ω–µ –ø–æ—Ç—Ä–µ–±—É—î –∫–æ—Ä–∏—Å–Ω–æ–≥–æ –Ω–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è, —Ç–æ–º—É –Ω–∞–¥—Å–∏–ª–∞—î—Ç—å—Å—è –ø–æ—Ä–æ–∂–Ω—ñ–π JSON-–¥–æ–∫—É–º–µ–Ω—Ç.

1. –ù–∏–∂—á–µ —Ü—å–æ–≥–æ –¥–æ–¥–∞–π—Ç–µ –Ω–∞—Å—Ç—É–ø–Ω–∏–π –∫–æ–¥:

    ```python
    logging.info(f'Sending direct method request for {direct_method.method_name} for device {device_id}')

    registry_manager_connection_string = os.environ['REGISTRY_MANAGER_CONNECTION_STRING']
    registry_manager = IoTHubRegistryManager(registry_manager_connection_string)
    ```
–¶–µ–π –∫–æ–¥ –∑–∞–≤–∞–Ω—Ç–∞–∂—É—î `REGISTRY_MANAGER_CONNECTION_STRING` —ñ–∑ —Ñ–∞–π–ª—É `local.settings.json`. –ó–Ω–∞—á–µ–Ω–Ω—è –∑ —Ü—å–æ–≥–æ —Ñ–∞–π–ª—É –¥–æ—Å—Ç—É–ø–Ω—ñ —è–∫ –∑–º—ñ–Ω–Ω—ñ —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞, —è–∫—ñ –º–æ–∂–Ω–∞ –ø—Ä–æ—á–∏—Ç–∞—Ç–∏ –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é —Ñ—É–Ω–∫—Ü—ñ—ó `os.environ`, —â–æ –ø–æ–≤–µ—Ä—Ç–∞—î —Å–ª–æ–≤–Ω–∏–∫ —É—Å—ñ—Ö –∑–º—ñ–Ω–Ω–∏—Ö —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞.

> üíÅ –ö–æ–ª–∏ —Ü–µ–π –∫–æ–¥ —Ä–æ–∑–≥–æ—Ä—Ç–∞—î—Ç—å—Å—è –≤ —Ö–º–∞—Ä—ñ, –∑–Ω–∞—á–µ–Ω–Ω—è –∑ —Ñ–∞–π–ª—É `local.settings.json` –±—É–¥—É—Ç—å –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ñ —è–∫ *Application Settings*, —ñ —ó—Ö –º–æ–∂–Ω–∞ –±—É–¥–µ –ø—Ä–æ—á–∏—Ç–∞—Ç–∏ –∑—ñ –∑–º—ñ–Ω–Ω–∏—Ö —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞.

–ü–æ—Ç—ñ–º –∫–æ–¥ —Å—Ç–≤–æ—Ä—é—î –µ–∫–∑–µ–º–ø–ª—è—Ä –¥–æ–ø–æ–º—ñ–∂–Ω–æ–≥–æ –∫–ª–∞—Å—É Registry Manager, –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—á–∏ —Ä—è–¥–æ–∫ –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è.

1. –î–æ–¥–∞–π—Ç–µ –Ω–∞—Å—Ç—É–ø–Ω–∏–π –∫–æ–¥:

    ```python
    registry_manager.invoke_device_method(device_id, direct_method)

    logging.info('Direct method request sent!')
    ```

    –¶–µ–π –∫–æ–¥ –≤–∫–∞–∑—É—î –º–µ–Ω–µ–¥–∂–µ—Ä—É —Ä–µ—î—Å—Ç—Ä—É –Ω–∞–¥—ñ—Å–ª–∞—Ç–∏ –∑–∞–ø–∏—Ç –ø—Ä—è–º–æ–≥–æ –º–µ—Ç–æ–¥—É –¥–æ –ø—Ä–∏—Å—Ç—Ä–æ—é, —è–∫–∏–π –Ω–∞–¥—ñ—Å–ª–∞–≤ —Ç–µ–ª–µ–º–µ—Ç—Ä—ñ—é.

    > üíÅ –£ –≤–µ—Ä—Å—ñ—è—Ö –ø—Ä–æ–≥—Ä–∞–º–∏, —Å—Ç–≤–æ—Ä–µ–Ω–∏—Ö —É –ø–æ–ø–µ—Ä–µ–¥–Ω—ñ—Ö —É—Ä–æ–∫–∞—Ö –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é MQTT, –∫–æ–º–∞–Ω–¥–∏ –∫–µ—Ä—É–≤–∞–Ω–Ω—è —Ä–µ–ª–µ –Ω–∞–¥—Å–∏–ª–∞–ª–∏—Å—è –≤—Å—ñ–º –ø—Ä–∏—Å—Ç—Ä–æ—è–º. –ö–æ–¥ –ø—Ä–∏–ø—É—Å–∫–∞–≤, —â–æ —É –≤–∞—Å –±—É–¥–µ –ª–∏—à–µ –æ–¥–∏–Ω –ø—Ä–∏—Å—Ç—Ä—ñ–π. –¶—è –≤–µ—Ä—Å—ñ—è –∫–æ–¥—É –Ω–∞–¥—Å–∏–ª–∞—î –∑–∞–ø–∏—Ç –º–µ—Ç–æ–¥—É –¥–æ –æ–¥–Ω–æ–≥–æ –ø—Ä–∏—Å—Ç—Ä–æ—é, —Ç–æ–º—É –±—É–¥–µ –ø—Ä–∞—Ü—é–≤–∞—Ç–∏, —è–∫—â–æ —É –≤–∞—Å —î –∫—ñ–ª—å–∫–∞ –Ω–∞–±–æ—Ä—ñ–≤ –¥–∞—Ç—á–∏–∫—ñ–≤ –≤–æ–ª–æ–≥–æ—Å—Ç—ñ “ë—Ä—É–Ω—Ç—É —Ç–∞ —Ä–µ–ª–µ, –Ω–∞–¥—Å–∏–ª–∞—é—á–∏ –ø—Ä–∞–≤–∏–ª—å–Ω–∏–π –∑–∞–ø–∏—Ç –ø—Ä—è–º–æ–≥–æ –º–µ—Ç–æ–¥—É –¥–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –ø—Ä–∏—Å—Ç—Ä–æ—é.

1. –ó–∞–ø—É—Å—Ç—ñ—Ç—å –ø—Ä–æ–≥—Ä–∞–º—É Functions —ñ –ø–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ –≤–∞—à IoT-–ø—Ä–∏—Å—Ç—Ä—ñ–π –Ω–∞–¥—Å–∏–ª–∞—î –¥–∞–Ω—ñ. –í–∏ –ø–æ–±–∞—á–∏—Ç–µ, —è–∫ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –æ–±—Ä–æ–±–ª—è—é—Ç—å—Å—è, –∞ –∑–∞–ø–∏—Ç–∏ –ø—Ä—è–º–æ–≥–æ –º–µ—Ç–æ–¥—É –Ω–∞–¥—Å–∏–ª–∞—é—Ç—å—Å—è. –ü–µ—Ä–µ–º—ñ—â—É–π—Ç–µ –¥–∞—Ç—á–∏–∫ –≤–æ–ª–æ–≥–æ—Å—Ç—ñ “ë—Ä—É–Ω—Ç—É –≤ “ë—Ä—É–Ω—Ç —ñ –∑ –Ω—å–æ–≥–æ, —â–æ–± –ø–æ–±–∞—á–∏—Ç–∏ –∑–º—ñ–Ω—É –∑–Ω–∞—á–µ–Ω—å —ñ –≤–≤—ñ–º–∫–Ω–µ–Ω–Ω—è/–≤–∏–º–∫–Ω–µ–Ω–Ω—è —Ä–µ–ª–µ.

> üíÅ –í–∏ –º–æ–∂–µ—Ç–µ –∑–Ω–∞–π—Ç–∏ —Ü–µ–π –∫–æ–¥ —É –ø–∞–ø—Ü—ñ [code/functions](../../../../../2-farm/lessons/5-migrate-application-to-the-cloud/code/functions).

## –†–æ–∑–≥–æ—Ä–Ω—ñ—Ç—å —Å–≤—ñ–π –±–µ–∑—Å–µ—Ä–≤–µ—Ä–Ω–∏–π –∫–æ–¥ —É —Ö–º–∞—Ä—ñ

–í–∞—à –∫–æ–¥ —Ç–µ–ø–µ—Ä –ø—Ä–∞—Ü—é—î –ª–æ–∫–∞–ª—å–Ω–æ, —Ç–æ–º—É –Ω–∞—Å—Ç—É–ø–Ω–∏–º –∫—Ä–æ–∫–æ–º –±—É–¥–µ —Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è Functions App —É —Ö–º–∞—Ä—ñ.

### –ó–∞–≤–¥–∞–Ω–Ω—è - —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è —Ö–º–∞—Ä–Ω–∏—Ö —Ä–µ—Å—É—Ä—Å—ñ–≤

–í–∞—à—É –ø—Ä–æ–≥—Ä–∞–º—É Functions –ø–æ—Ç—Ä—ñ–±–Ω–æ —Ä–æ–∑–≥–æ—Ä–Ω—É—Ç–∏ –≤ —Ä–µ—Å—É—Ä—Å—ñ Functions App –≤ Azure, —è–∫–∏–π –∑–Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ –≥—Ä—É–ø–∏ —Ä–µ—Å—É—Ä—Å—ñ–≤, —Å—Ç–≤–æ—Ä–µ–Ω–æ—ó –¥–ª—è –≤–∞—à–æ–≥–æ IoT Hub. –í–∞–º —Ç–∞–∫–æ–∂ –∑–Ω–∞–¥–æ–±–∏—Ç—å—Å—è –æ–±–ª—ñ–∫–æ–≤–∏–π –∑–∞–ø–∏—Å —Å—Ö–æ–≤–∏—â–∞, —Å—Ç–≤–æ—Ä–µ–Ω–∏–π –≤ Azure, —â–æ–± –∑–∞–º—ñ–Ω–∏—Ç–∏ –µ–º—É–ª—è—Ç–æ—Ä, —è–∫–∏–π –ø—Ä–∞—Ü—é—î –ª–æ–∫–∞–ª—å–Ω–æ.

1. –ó–∞–ø—É—Å—Ç—ñ—Ç—å –Ω–∞—Å—Ç—É–ø–Ω—É –∫–æ–º–∞–Ω–¥—É –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –æ–±–ª—ñ–∫–æ–≤–æ–≥–æ –∑–∞–ø–∏—Å—É —Å—Ö–æ–≤–∏—â–∞:

    ```sh
    az storage account create --resource-group soil-moisture-sensor \
                              --sku Standard_LRS \
                              --name <storage_name> 
    ```

    –ó–∞–º—ñ–Ω—ñ—Ç—å `<storage_name>` –Ω–∞ –Ω–∞–∑–≤—É –¥–ª—è –≤–∞—à–æ–≥–æ –æ–±–ª—ñ–∫–æ–≤–æ–≥–æ –∑–∞–ø–∏—Å—É —Å—Ö–æ–≤–∏—â–∞. –¶—è –Ω–∞–∑–≤–∞ –º–∞—î –±—É—Ç–∏ –≥–ª–æ–±–∞–ª—å–Ω–æ —É–Ω—ñ–∫–∞–ª—å–Ω–æ—é, –æ—Å–∫—ñ–ª—å–∫–∏ –≤–æ–Ω–∞ —î —á–∞—Å—Ç–∏–Ω–æ—é URL-–∞–¥—Ä–µ—Å–∏, —è–∫–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –¥–ª—è –¥–æ—Å—Ç—É–ø—É –¥–æ –æ–±–ª—ñ–∫–æ–≤–æ–≥–æ –∑–∞–ø–∏—Å—É —Å—Ö–æ–≤–∏—â–∞. –í–∏ –º–æ–∂–µ—Ç–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –ª–∏—à–µ –º–∞–ª—ñ –ª—ñ—Ç–µ—Ä–∏ —Ç–∞ —Ü–∏—Ñ—Ä–∏ –¥–ª—è —Ü—ñ—î—ó –Ω–∞–∑–≤–∏, –±–µ–∑ —ñ–Ω—à–∏—Ö —Å–∏–º–≤–æ–ª—ñ–≤, —ñ –≤–æ–Ω–∞ –æ–±–º–µ–∂–µ–Ω–∞ 24 —Å–∏–º–≤–æ–ª–∞–º–∏. –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ —â–æ—Å—å –Ω–∞ –∫—à—Ç–∞–ª—Ç `sms` —ñ –¥–æ–¥–∞–π—Ç–µ —É–Ω—ñ–∫–∞–ª—å–Ω–∏–π —ñ–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ç–æ—Ä, –Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –∫—ñ–ª—å–∫–∞ –≤–∏–ø–∞–¥–∫–æ–≤–∏—Ö —Å–ª—ñ–≤ –∞–±–æ –≤–∞—à–µ —ñ–º'—è.

    –ü–∞—Ä–∞–º–µ—Ç—Ä `--sku Standard_LRS` –≤–∏–±–∏—Ä–∞—î —Ä—ñ–≤–µ–Ω—å —Ü—ñ–Ω–æ—É—Ç–≤–æ—Ä–µ–Ω–Ω—è, –æ–±–∏—Ä–∞—é—á–∏ –Ω–∞–π–¥–µ—à–µ–≤—à–∏–π –∑–∞–≥–∞–ª—å–Ω–∏–π –æ–±–ª—ñ–∫–æ–≤–∏–π –∑–∞–ø–∏—Å. –ë–µ–∑–∫–æ—à—Ç–æ–≤–Ω–æ–≥–æ —Ä—ñ–≤–Ω—è —Å—Ö–æ–≤–∏—â–∞ –Ω–µ–º–∞—î, —ñ –≤–∏ –ø–ª–∞—Ç–∏—Ç–µ –∑–∞ —Ç–µ, —â–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç–µ. –í–∏—Ç—Ä–∞—Ç–∏ –≤—ñ–¥–Ω–æ—Å–Ω–æ –Ω–∏–∑—å–∫—ñ, –∑ –Ω–∞–π–≤–∏—â–æ—é —Ü—ñ–Ω–æ—é —Å—Ö–æ–≤–∏—â–∞ –º–µ–Ω—à –Ω—ñ–∂ $0.05 –∑–∞ –º—ñ—Å—è—Ü—å –∑–∞ –≥—ñ–≥–∞–±–∞–π—Ç –∑–±–µ—Ä–µ–∂–µ–Ω–∏—Ö –¥–∞–Ω–∏—Ö.

    ‚úÖ –û–∑–Ω–∞–π–æ–º—Ç–µ—Å—è –∑ —Ü—ñ–Ω–æ—É—Ç–≤–æ—Ä–µ–Ω–Ω—è–º –Ω–∞ —Å—Ç–æ—Ä—ñ–Ω—Ü—ñ [Azure Storage Account pricing page](https://azure.microsoft.com/pricing/details/storage/?WT.mc_id=academic-17441-jabenn)

1. –ó–∞–ø—É—Å—Ç—ñ—Ç—å –Ω–∞—Å—Ç—É–ø–Ω—É –∫–æ–º–∞–Ω–¥—É –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è Function App:

    ```sh
    az functionapp create --resource-group soil-moisture-sensor \
                          --runtime python \
                          --functions-version 3 \
                          --os-type Linux \
                          --consumption-plan-location <location> \
                          --storage-account <storage_name> \
                          --name <functions_app_name>
    ```

    –ó–∞–º—ñ–Ω—ñ—Ç—å `<location>` –Ω–∞ –º—ñ—Å—Ü–µ, —è–∫–µ –≤–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞–ª–∏ –ø—ñ–¥ —á–∞—Å —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –≥—Ä—É–ø–∏ —Ä–µ—Å—É—Ä—Å—ñ–≤ —É –ø–æ–ø–µ—Ä–µ–¥–Ω—å–æ–º—É —É—Ä–æ—Ü—ñ.

    –ó–∞–º—ñ–Ω—ñ—Ç—å `<storage_name>` –Ω–∞ –Ω–∞–∑–≤—É –æ–±–ª—ñ–∫–æ–≤–æ–≥–æ –∑–∞–ø–∏—Å—É —Å—Ö–æ–≤–∏—â–∞, —Å—Ç–≤–æ—Ä–µ–Ω–æ–≥–æ –Ω–∞ –ø–æ–ø–µ—Ä–µ–¥–Ω—å–æ–º—É –∫—Ä–æ—Ü—ñ.

    –ó–∞–º—ñ–Ω—ñ—Ç—å `<functions_app_name>` –Ω–∞ —É–Ω—ñ–∫–∞–ª—å–Ω—É –Ω–∞–∑–≤—É –¥–ª—è –≤–∞—à–æ–≥–æ Functions App. –¶—è –Ω–∞–∑–≤–∞ –º–∞—î –±—É—Ç–∏ –≥–ª–æ–±–∞–ª—å–Ω–æ —É–Ω—ñ–∫–∞–ª—å–Ω–æ—é, –æ—Å–∫—ñ–ª—å–∫–∏ –≤–æ–Ω–∞ —î —á–∞—Å—Ç–∏–Ω–æ—é URL-–∞–¥—Ä–µ—Å–∏, —è–∫–∞ –º–æ–∂–µ –±—É—Ç–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–∞ –¥–ª—è –¥–æ—Å—Ç—É–ø—É –¥–æ Functions App. –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ —â–æ—Å—å –Ω–∞ –∫—à—Ç–∞–ª—Ç `soil-moisture-sensor-` —ñ –¥–æ–¥–∞–π—Ç–µ —É–Ω—ñ–∫–∞–ª—å–Ω–∏–π —ñ–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ç–æ—Ä, –Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –∫—ñ–ª—å–∫–∞ –≤–∏–ø–∞–¥–∫–æ–≤–∏—Ö —Å–ª—ñ–≤ –∞–±–æ –≤–∞—à–µ —ñ–º'—è.

    –ü–∞—Ä–∞–º–µ—Ç—Ä `--functions-version 3` –≤—Å—Ç–∞–Ω–æ–≤–ª—é—î –≤–µ—Ä—Å—ñ—é Azure Functions –¥–ª—è –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è. –í–µ—Ä—Å—ñ—è 3 —î –æ—Å—Ç–∞–Ω–Ω—å–æ—é –≤–µ—Ä—Å—ñ—î—é.

    –ü–∞—Ä–∞–º–µ—Ç—Ä `--os-type Linux` –≤–∫–∞–∑—É—î —Å–µ—Ä–µ–¥–æ–≤–∏—â—É Functions –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ Linux —è–∫ –æ–ø–µ—Ä–∞—Ü—ñ–π–Ω—É —Å–∏—Å—Ç–µ–º—É –¥–ª—è —Ö–æ—Å—Ç–∏–Ω–≥—É —Ü–∏—Ö —Ñ—É–Ω–∫—Ü—ñ–π. Functions –º–æ–∂—É—Ç—å –±—É—Ç–∏ —Ä–æ–∑–º—ñ—â–µ–Ω—ñ –Ω–∞ Linux –∞–±–æ Windows –∑–∞–ª–µ–∂–Ω–æ –≤—ñ–¥ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞–Ω–æ—ó –º–æ–≤–∏ –ø—Ä–æ–≥—Ä–∞–º—É–≤–∞–Ω–Ω—è. –ü—Ä–æ–≥—Ä–∞–º–∏ –Ω–∞ Python –ø—ñ–¥—Ç—Ä–∏–º—É—é—Ç—å—Å—è –ª–∏—à–µ –Ω–∞ Linux.

### –ó–∞–≤–¥–∞–Ω–Ω—è - –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω—å –ø—Ä–æ–≥—Ä–∞–º–∏

–ü—ñ–¥ —á–∞—Å —Ä–æ–∑—Ä–æ–±–∫–∏ –≤–∞—à–æ–≥–æ Functions App –≤–∏ –∑–±–µ—Ä—ñ–≥–∞–ª–∏ –¥–µ—è–∫—ñ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è —É —Ñ–∞–π–ª—ñ `local.settings.json` –¥–ª—è —Ä—è–¥–∫—ñ–≤ –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –¥–æ –≤–∞—à–æ–≥–æ IoT Hub. –¶—ñ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –ø–æ—Ç—Ä—ñ–±–Ω–æ –∑–∞–ø–∏—Å–∞—Ç–∏ –≤ Application Settings —É –≤–∞—à–æ–º—É Function App –≤ Azure, —â–æ–± —ó—Ö –º–æ–∂–Ω–∞ –±—É–ª–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ —É –≤–∞—à–æ–º—É –∫–æ–¥—ñ.

> üéì –§–∞–π–ª `local.settings.json` –ø—Ä–∏–∑–Ω–∞—á–µ–Ω–∏–π –ª–∏—à–µ –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–∏—Ö –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω—å —Ä–æ–∑—Ä–æ–±–∫–∏, —ñ –π–æ–≥–æ –Ω–µ —Å–ª—ñ–¥ –¥–æ–¥–∞–≤–∞—Ç–∏ –¥–æ —Å–∏—Å—Ç–µ–º–∏ –∫–æ–Ω—Ç—Ä–æ–ª—é –≤–µ—Ä—Å—ñ–π, —Ç–∞–∫–æ—ó —è–∫ GitHub. –ü—ñ–¥ —á–∞—Å —Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è –≤ —Ö–º–∞—Ä—ñ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å—Å—è Application Settings. Application Settings ‚Äî —Ü–µ –ø–∞—Ä–∏ –∫–ª—é—á/–∑–Ω–∞—á–µ–Ω–Ω—è, —Ä–æ–∑–º—ñ—â–µ–Ω—ñ –≤ —Ö–º–∞—Ä—ñ, —è–∫—ñ —á–∏—Ç–∞—é—Ç—å—Å—è –∑—ñ –∑–º—ñ–Ω–Ω–∏—Ö —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞ –∞–±–æ —É –≤–∞—à–æ–º—É –∫–æ–¥—ñ, –∞–±–æ —Å–µ—Ä–µ–¥–æ–≤–∏—â–µ–º –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –ø—ñ–¥ —á–∞—Å –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –≤–∞—à–æ–≥–æ –∫–æ–¥—É –¥–æ IoT Hub.

1. –ó–∞–ø—É—Å—Ç—ñ—Ç—å –Ω–∞—Å—Ç—É–ø–Ω—É –∫–æ–º–∞–Ω–¥—É –¥–ª—è –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è `IOT_HUB_CONNECTION_STRING` —É Application Settings –≤–∞—à–æ–≥–æ Functions App:

    ```sh
    az functionapp config appsettings set --resource-group soil-moisture-sensor \
                                          --name <functions_app_name> \
                                          --settings "IOT_HUB_CONNECTION_STRING=<connection string>"
    ```

    –ó–∞–º—ñ–Ω—ñ—Ç—å `<functions_app_name>` –Ω–∞ –Ω–∞–∑–≤—É, —è–∫—É –≤–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞–ª–∏ –¥–ª—è –≤–∞—à–æ–≥–æ Functions App.

    –ó–∞–º—ñ–Ω—ñ—Ç—å `<connection string>` –Ω–∞ –∑–Ω–∞—á–µ–Ω–Ω—è `IOT_HUB_CONNECTION_STRING` –∑ –≤–∞—à–æ–≥–æ —Ñ–∞–π–ª—É `local.settings.json`.

1. –ü–æ–≤—Ç–æ—Ä—ñ—Ç—å –ø–æ–ø–µ—Ä–µ–¥–Ω—ñ–π –∫—Ä–æ–∫, –∞–ª–µ –≤—Å—Ç–∞–Ω–æ–≤—ñ—Ç—å –∑–Ω–∞—á–µ–Ω–Ω—è `REGISTRY_MANAGER_CONNECTION_STRING` –Ω–∞ –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–µ –∑–Ω–∞—á–µ–Ω–Ω—è –∑ –≤–∞—à–æ–≥–æ —Ñ–∞–π–ª—É `local.settings.json`.

–ö–æ–ª–∏ –≤–∏ –≤–∏–∫–æ–Ω–∞—î—Ç–µ —Ü—ñ –∫–æ–º–∞–Ω–¥–∏, –≤–æ–Ω–∏ —Ç–∞–∫–æ–∂ –≤–∏–≤–µ–¥—É—Ç—å —Å–ø–∏—Å–æ–∫ —É—Å—ñ—Ö Application Settings –¥–ª—è —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ–≥–æ –¥–æ–¥–∞—Ç–∫–∞. –í–∏ –º–æ–∂–µ—Ç–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ —Ü–µ, —â–æ–± –ø–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏, —á–∏ –≤–∞—à—ñ –∑–Ω–∞—á–µ–Ω–Ω—è –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ñ –ø—Ä–∞–≤–∏–ª—å–Ω–æ.

> üíÅ –í–∏ –ø–æ–±–∞—á–∏—Ç–µ –∑–Ω–∞—á–µ–Ω–Ω—è, –≤–∂–µ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–µ –¥–ª—è `AzureWebJobsStorage`. –£ –≤–∞—à–æ–º—É —Ñ–∞–π–ª—ñ `local.settings.json` —Ü–µ –∑–Ω–∞—á–µ–Ω–Ω—è –±—É–ª–æ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ –¥–ª—è –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –µ–º—É–ª—è—Ç–æ—Ä–∞ —Å—Ö–æ–≤–∏—â–∞. –ö–æ–ª–∏ –≤–∏ —Å—Ç–≤–æ—Ä—é—î—Ç–µ Functions App, –≤–∏ –ø–µ—Ä–µ–¥–∞—î—Ç–µ –æ–±–ª—ñ–∫–æ–≤–∏–π –∑–∞–ø–∏—Å —Å—Ö–æ–≤–∏—â–∞ —è–∫ –ø–∞—Ä–∞–º–µ—Ç—Ä, —ñ —Ü–µ –∑–Ω–∞—á–µ–Ω–Ω—è –≤—Å—Ç–∞–Ω–æ–≤–ª—é—î—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ.

### –ó–∞–≤–¥–∞–Ω–Ω—è - —Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è –≤–∞—à–æ–≥–æ Functions App —É —Ö–º–∞—Ä—ñ

–¢–µ–ø–µ—Ä, –∫–æ–ª–∏ Functions App –≥–æ—Ç–æ–≤–∏–π, –≤–∞—à –∫–æ–¥ –º–æ–∂–Ω–∞ —Ä–æ–∑–≥–æ—Ä–Ω—É—Ç–∏.

1. –ó–∞–ø—É—Å—Ç—ñ—Ç—å –Ω–∞—Å—Ç—É–ø–Ω—É –∫–æ–º–∞–Ω–¥—É –∑ —Ç–µ—Ä–º—ñ–Ω–∞–ª—É VS Code –¥–ª—è –ø—É–±–ª—ñ–∫–∞—Ü—ñ—ó –≤–∞—à–æ–≥–æ Functions App:

    ```sh
    func azure functionapp publish <functions_app_name>
    ```

    –ó–∞–º—ñ–Ω—ñ—Ç—å `<functions_app_name>` –Ω–∞ –Ω–∞–∑–≤—É, —è–∫—É –≤–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞–ª–∏ –¥–ª—è –≤–∞—à–æ–≥–æ Functions App.

–ö–æ–¥ –±—É–¥–µ —É–ø–∞–∫–æ–≤–∞–Ω–∏–π —ñ –≤—ñ–¥–ø—Ä–∞–≤–ª–µ–Ω–∏–π –¥–æ Functions App, –¥–µ –≤—ñ–Ω –±—É–¥–µ —Ä–æ–∑–≥–æ—Ä–Ω—É—Ç–∏–π —ñ –∑–∞–ø—É—â–µ–Ω–∏–π. –ë—É–¥–µ –±–∞–≥–∞—Ç–æ –≤–∏–≤–æ–¥—É –≤ –∫–æ–Ω—Å–æ–ª—ñ, —â–æ –∑–∞–∫—ñ–Ω—á–∏—Ç—å—Å—è –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è–º —Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è —Ç–∞ —Å–ø–∏—Å–∫–æ–º —Ä–æ–∑–≥–æ—Ä–Ω—É—Ç–∏—Ö —Ñ—É–Ω–∫—Ü—ñ–π. –£ —Ü—å–æ–º—É –≤–∏–ø–∞–¥–∫—É —Å–ø–∏—Å–æ–∫ –º—ñ—Å—Ç–∏—Ç–∏–º–µ –ª–∏—à–µ —Ç—Ä–∏–≥–µ—Ä.

```output
Deployment successful.
Remote build succeeded!
Syncing triggers...
Functions in soil-moisture-sensor:
    iot-hub-trigger - [eventHubTrigger]
```

–ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ –≤–∞—à IoT-–ø—Ä–∏—Å—Ç—Ä—ñ–π –ø—Ä–∞—Ü—é—î. –ó–º—ñ–Ω—ñ—Ç—å —Ä—ñ–≤–µ–Ω—å –≤–æ–ª–æ–≥–æ—Å—Ç—ñ, —Ä–µ–≥—É–ª—é—é—á–∏ –≤–æ–ª–æ–≥—ñ—Å—Ç—å “ë—Ä—É–Ω—Ç—É –∞–±–æ –ø–µ—Ä–µ–º—ñ—â—É—é—á–∏ –¥–∞—Ç—á–∏–∫ —É “ë—Ä—É–Ω—Ç —ñ –∑ –Ω—å–æ–≥–æ. –í–∏ –ø–æ–±–∞—á–∏—Ç–µ, —è–∫ —Ä–µ–ª–µ –≤–º–∏–∫–∞—î—Ç—å—Å—è —ñ –≤–∏–º–∏–∫–∞—î—Ç—å—Å—è –∑–∞–ª–µ–∂–Ω–æ –≤—ñ–¥ –∑–º—ñ–Ω –≤–æ–ª–æ–≥–æ—Å—Ç—ñ “ë—Ä—É–Ω—Ç—É.

---

## üöÄ –í–∏–∫–ª–∏–∫

–£ –ø–æ–ø–µ—Ä–µ–¥–Ω—å–æ–º—É —É—Ä–æ—Ü—ñ –≤–∏ –∫–µ—Ä—É–≤–∞–ª–∏ —á–∞—Å–æ–º —Ä–æ–±–æ—Ç–∏ —Ä–µ–ª–µ, –≤—ñ–¥–ø–∏—Å—É—é—á–∏—Å—å –≤—ñ–¥ MQTT-–ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å, –ø–æ–∫–∏ —Ä–µ–ª–µ –±—É–ª–æ —É–≤—ñ–º–∫–Ω–µ–Ω–µ, —ñ –ø—Ä–æ—Ç—è–≥–æ–º –∫–æ—Ä–æ—Ç–∫–æ–≥–æ —á–∞—Å—É –ø—ñ—Å–ª—è –π–æ–≥–æ –≤–∏–º–∫–Ω–µ–Ω–Ω—è. –í–∏ –Ω–µ –º–æ–∂–µ—Ç–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ —Ü–µ–π –º–µ—Ç–æ–¥ —Ç—É—Ç ‚Äî –≤–∏ –Ω–µ –º–æ–∂–µ—Ç–µ –≤—ñ–¥–ø–∏—Å–∞—Ç–∏—Å—è –≤—ñ–¥ —Ç—Ä–∏–≥–µ—Ä–∞ IoT Hub.

–ü–æ–¥—É–º–∞–π—Ç–µ –ø—Ä–æ —Ä—ñ–∑–Ω—ñ —Å–ø–æ—Å–æ–±–∏, —è–∫–∏–º–∏ –≤–∏ –º–æ–≥–ª–∏ –± –æ–±—Ä–æ–±–ª—è—Ç–∏ —Ü–µ —É –≤–∞—à–æ–º—É Functions App.

## –ü—ñ—Å–ª—è–ª–µ–∫—Ü—ñ–π–Ω–∏–π —Ç–µ—Å—Ç

[–ü—ñ—Å–ª—è–ª–µ–∫—Ü—ñ–π–Ω–∏–π —Ç–µ—Å—Ç](https://black-meadow-040d15503.1.azurestaticapps.net/quiz/18)

## –û–≥–ª—è–¥ —ñ —Å–∞–º–æ—Å—Ç—ñ–π–Ω–µ –Ω–∞–≤—á–∞–Ω–Ω—è

* –û–∑–Ω–∞–π–æ–º—Ç–µ—Å—è –∑ –±–µ–∑—Å–µ—Ä–≤–µ—Ä–Ω–∏–º–∏ –æ–±—á–∏—Å–ª–µ–Ω–Ω—è–º–∏ –Ω–∞ —Å—Ç–æ—Ä—ñ–Ω—Ü—ñ [Serverless Computing page on Wikipedia](https://wikipedia.org/wiki/Serverless_computing)
* –î—ñ–∑–Ω–∞–π—Ç–µ—Å—è –ø—Ä–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –±–µ–∑—Å–µ—Ä–≤–µ—Ä–Ω–∏—Ö —Ä—ñ—à–µ–Ω—å –≤ Azure, –≤–∫–ª—é—á–∞—é—á–∏ –¥–æ–¥–∞—Ç–∫–æ–≤—ñ –ø—Ä–∏–∫–ª–∞–¥–∏, —É –±–ª–æ–∑—ñ [Go serverless for your IoT needs Azure blog post](https://azure.microsoft.com/blog/go-serverless-for-your-iot-needs/?WT.mc_id=academic-17441-jabenn)
* –î—ñ–∑–Ω–∞–π—Ç–µ—Å—è –±—ñ–ª—å—à–µ –ø—Ä–æ Azure Functions –Ω–∞ [Azure Functions YouTube channel](https://www.youtube.com/c/AzureFunctions)

## –ó–∞–≤–¥–∞–Ω–Ω—è

[–î–æ–¥–∞–π—Ç–µ —Ä—É—á–Ω–µ –∫–µ—Ä—É–≤–∞–Ω–Ω—è —Ä–µ–ª–µ](assignment.md)

---

**–í—ñ–¥–º–æ–≤–∞ –≤—ñ–¥ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞–ª—å–Ω–æ—Å—Ç—ñ**:  
–¶–µ–π –¥–æ–∫—É–º–µ–Ω—Ç –±—É–≤ –ø–µ—Ä–µ–∫–ª–∞–¥–µ–Ω–∏–π –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é —Å–µ—Ä–≤—ñ—Å—É –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ–≥–æ –ø–µ—Ä–µ–∫–ª–∞–¥—É [Co-op Translator](https://github.com/Azure/co-op-translator). –•–æ—á–∞ –º–∏ –ø—Ä–∞–≥–Ω–µ–º–æ –¥–æ —Ç–æ—á–Ω–æ—Å—Ç—ñ, –±—É–¥—å –ª–∞—Å–∫–∞, –º–∞–π—Ç–µ –Ω–∞ —É–≤–∞–∑—ñ, —â–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω—ñ –ø–µ—Ä–µ–∫–ª–∞–¥–∏ –º–æ–∂—É—Ç—å –º—ñ—Å—Ç–∏—Ç–∏ –ø–æ–º–∏–ª–∫–∏ –∞–±–æ –Ω–µ—Ç–æ—á–Ω–æ—Å—Ç—ñ. –û—Ä–∏–≥—ñ–Ω–∞–ª—å–Ω–∏–π –¥–æ–∫—É–º–µ–Ω—Ç –Ω–∞ –π–æ–≥–æ —Ä—ñ–¥–Ω—ñ–π –º–æ–≤—ñ —Å–ª—ñ–¥ –≤–≤–∞–∂–∞—Ç–∏ –∞–≤—Ç–æ—Ä–∏—Ç–µ—Ç–Ω–∏–º –¥–∂–µ—Ä–µ–ª–æ–º. –î–ª—è –∫—Ä–∏—Ç–∏—á–Ω–æ—ó —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—ó —Ä–µ–∫–æ–º–µ–Ω–¥—É—î—Ç—å—Å—è –ø—Ä–æ—Ñ–µ—Å—ñ–π–Ω–∏–π –ª—é–¥—Å—å–∫–∏–π –ø–µ—Ä–µ–∫–ª–∞–¥. –ú–∏ –Ω–µ –Ω–µ—Å–µ–º–æ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞–ª—å–Ω–æ—Å—Ç—ñ –∑–∞ –±—É–¥—å-—è–∫—ñ –Ω–µ–ø–æ—Ä–æ–∑—É–º—ñ–Ω–Ω—è –∞–±–æ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ñ —Ç–ª—É–º–∞—á–µ–Ω–Ω—è, —â–æ –≤–∏–Ω–∏–∫–∞—é—Ç—å –≤–Ω–∞—Å–ª—ñ–¥–æ–∫ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è —Ü—å–æ–≥–æ –ø–µ—Ä–µ–∫–ª–∞–¥—É.