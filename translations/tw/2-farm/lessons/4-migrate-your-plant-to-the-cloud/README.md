<!--
CO_OP_TRANSLATOR_METADATA:
{
  "original_hash": "4d8e7a066d75b625e7a979c14157041d",
  "translation_date": "2025-08-24T22:42:45+00:00",
  "source_file": "2-farm/lessons/4-migrate-your-plant-to-the-cloud/README.md",
  "language_code": "tw"
}
-->
# å°‡æ¤ç‰©é·ç§»åˆ°é›²ç«¯

![æœ¬èª²ç¨‹çš„æ‰‹ç¹ªç­†è¨˜æ¦‚è¿°](../../../../../translated_images/lesson-8.3f21f3c11159e6a0a376351973ea5724d5de68fa23b4288853a174bed9ac48c3.tw.jpg)

> æ‰‹ç¹ªç­†è¨˜ç”± [Nitya Narasimhan](https://github.com/nitya) æä¾›ã€‚é»æ“Šåœ–ç‰‡æŸ¥çœ‹æ›´å¤§ç‰ˆæœ¬ã€‚

æœ¬èª²ç¨‹æ˜¯ [Microsoft Reactor](https://developer.microsoft.com/reactor/?WT.mc_id=academic-17441-jabenn) çš„ [IoT åˆå­¸è€…é …ç›® 2 - æ•¸å­—è¾²æ¥­ç³»åˆ—](https://youtube.com/playlist?list=PLmsFUfdnGr3yCutmcVg6eAUEfsGiFXgcx) çš„ä¸€éƒ¨åˆ†ã€‚

[![ä½¿ç”¨ Azure IoT Hub å°‡è¨­å‚™é€£æ¥åˆ°é›²ç«¯](https://img.youtube.com/vi/bNxjopXkhvk/0.jpg)](https://youtu.be/bNxjopXkhvk)

## èª²å‰æ¸¬é©—

[èª²å‰æ¸¬é©—](https://black-meadow-040d15503.1.azurestaticapps.net/quiz/15)

## ç°¡ä»‹

åœ¨ä¸Šä¸€èª²ä¸­ï¼Œæ‚¨å­¸ç¿’äº†å¦‚ä½•å°‡æ¤ç‰©é€£æ¥åˆ° MQTT brokerï¼Œä¸¦é€šéæœ¬åœ°é‹è¡Œçš„ä¼ºæœå™¨ä»£ç¢¼æ§åˆ¶ç¹¼é›»å™¨ã€‚é€™æ§‹æˆäº†å¾å®¶ä¸­å–®å€‹æ¤ç‰©åˆ°å•†æ¥­è¾²å ´ä½¿ç”¨çš„äº’è¯ç¶²é€£æ¥è‡ªå‹•çŒæº‰ç³»çµ±çš„æ ¸å¿ƒã€‚

IoT è¨­å‚™é€šéå…¬å…± MQTT broker é€²è¡Œé€šä¿¡ï¼Œä»¥å±•ç¤ºåŸç†ï¼Œä½†é€™ä¸¦ä¸æ˜¯æœ€å¯é æˆ–å®‰å…¨çš„æ–¹å¼ã€‚åœ¨æœ¬èª²ä¸­ï¼Œæ‚¨å°‡äº†è§£é›²ç«¯ä»¥åŠå…¬å…±é›²æœå‹™æä¾›çš„ IoT åŠŸèƒ½ã€‚æ‚¨é‚„å°‡å­¸ç¿’å¦‚ä½•å°‡æ¤ç‰©å¾å…¬å…± MQTT broker é·ç§»åˆ°å…¶ä¸­ä¸€å€‹é›²æœå‹™ã€‚

æœ¬èª²å°‡æ¶µè“‹ä»¥ä¸‹å…§å®¹ï¼š

* [ä»€éº¼æ˜¯é›²ç«¯ï¼Ÿ](../../../../../2-farm/lessons/4-migrate-your-plant-to-the-cloud)
* [å‰µå»ºé›²ç«¯è¨‚é–±](../../../../../2-farm/lessons/4-migrate-your-plant-to-the-cloud)
* [é›²ç«¯ IoT æœå‹™](../../../../../2-farm/lessons/4-migrate-your-plant-to-the-cloud)
* [åœ¨é›²ç«¯å‰µå»º IoT æœå‹™](../../../../../2-farm/lessons/4-migrate-your-plant-to-the-cloud)
* [èˆ‡ IoT Hub é€šä¿¡](../../../../../2-farm/lessons/4-migrate-your-plant-to-the-cloud)
* [å°‡è¨­å‚™é€£æ¥åˆ° IoT æœå‹™](../../../../../2-farm/lessons/4-migrate-your-plant-to-the-cloud)

## ä»€éº¼æ˜¯é›²ç«¯ï¼Ÿ

åœ¨é›²ç«¯å‡ºç¾ä¹‹å‰ï¼Œç•¶å…¬å¸æƒ³è¦ç‚ºå“¡å·¥ï¼ˆä¾‹å¦‚æ•¸æ“šåº«æˆ–æ–‡ä»¶å­˜å„²ï¼‰æˆ–å…¬çœ¾ï¼ˆä¾‹å¦‚ç¶²ç«™ï¼‰æä¾›æœå‹™æ™‚ï¼Œä»–å€‘éœ€è¦å»ºç«‹ä¸¦é‹è¡Œæ•¸æ“šä¸­å¿ƒã€‚é€™å¯èƒ½æ˜¯ä¸€å€‹æœ‰å°‘é‡è¨ˆç®—æ©Ÿçš„æˆ¿é–“ï¼Œä¹Ÿå¯èƒ½æ˜¯ä¸€å€‹æœ‰å¤§é‡è¨ˆç®—æ©Ÿçš„å»ºç¯‰ã€‚å…¬å¸éœ€è¦ç®¡ç†æ‰€æœ‰äº‹æƒ…ï¼ŒåŒ…æ‹¬ï¼š

* è³¼è²·è¨ˆç®—æ©Ÿ
* ç¡¬ä»¶ç¶­è­·
* é›»åŠ›å’Œå†·å»
* ç¶²çµ¡
* å®‰å…¨æ€§ï¼ŒåŒ…æ‹¬å»ºç¯‰å®‰å…¨å’Œè¨ˆç®—æ©Ÿä¸Šçš„è»Ÿä»¶å®‰å…¨
* è»Ÿä»¶å®‰è£å’Œæ›´æ–°

é€™å¯èƒ½éå¸¸æ˜‚è²´ï¼Œéœ€è¦å„ç¨®æŠ€èƒ½çš„å“¡å·¥ï¼Œä¸¦ä¸”åœ¨éœ€è¦æ›´æ”¹æ™‚é€Ÿåº¦éå¸¸æ…¢ã€‚ä¾‹å¦‚ï¼Œå¦‚æœä¸€å®¶åœ¨ç·šå•†åº—éœ€è¦ç‚ºç¹å¿™çš„å‡æœŸå­£ç¯€åšæº–å‚™ï¼Œä»–å€‘éœ€è¦æå‰å¹¾å€‹æœˆè¨ˆåŠƒè³¼è²·æ›´å¤šç¡¬ä»¶ã€é…ç½®å®ƒã€å®‰è£å®ƒä¸¦å®‰è£é‹è¡ŒéŠ·å”®æµç¨‹çš„è»Ÿä»¶ã€‚å‡æœŸå­£ç¯€çµæŸå¾Œï¼ŒéŠ·å”®é‡ä¸‹é™ï¼Œä»–å€‘å¯èƒ½æœƒç•™ä¸‹é–’ç½®çš„è¨ˆç®—æ©Ÿï¼Œç›´åˆ°ä¸‹ä¸€å€‹ç¹å¿™å­£ç¯€ã€‚

âœ… æ‚¨èªç‚ºé€™æ¨£çš„æ–¹å¼èƒ½è®“å…¬å¸å¿«é€Ÿè¡Œå‹•å—ï¼Ÿå¦‚æœä¸€å®¶åœ¨ç·šæœè£é›¶å”®å•†å› æŸä½åäººç©¿è‘—ä»–å€‘çš„æœè£è€Œçªç„¶æµè¡Œèµ·ä¾†ï¼Œä»–å€‘èƒ½å¦å¿«é€Ÿå¢åŠ è¨ˆç®—èƒ½åŠ›ä»¥æ”¯æŒçªç„¶æ¹§å…¥çš„è¨‚å–®ï¼Ÿ

### åˆ¥äººçš„è¨ˆç®—æ©Ÿ

é›²ç«¯å¸¸è¢«æˆ²ç¨±ç‚ºã€Œåˆ¥äººçš„è¨ˆç®—æ©Ÿã€ã€‚æœ€åˆçš„æƒ³æ³•å¾ˆç°¡å–®â€”â€”èˆ‡å…¶è³¼è²·è¨ˆç®—æ©Ÿï¼Œä¸å¦‚ç§Ÿç”¨åˆ¥äººçš„è¨ˆç®—æ©Ÿã€‚é›²è¨ˆç®—æä¾›å•†æœƒç®¡ç†å·¨å¤§çš„æ•¸æ“šä¸­å¿ƒã€‚ä»–å€‘è² è²¬è³¼è²·å’Œå®‰è£ç¡¬ä»¶ã€ç®¡ç†é›»åŠ›å’Œå†·å»ã€ç¶²çµ¡ã€å»ºç¯‰å®‰å…¨ã€ç¡¬ä»¶å’Œè»Ÿä»¶æ›´æ–°ç­‰æ‰€æœ‰äº‹æƒ…ã€‚ä½œç‚ºå®¢æˆ¶ï¼Œæ‚¨åªéœ€ç§Ÿç”¨æ‰€éœ€çš„è¨ˆç®—æ©Ÿï¼Œéœ€æ±‚å¢åŠ æ™‚ç§Ÿç”¨æ›´å¤šï¼Œéœ€æ±‚æ¸›å°‘æ™‚æ¸›å°‘ç§Ÿç”¨ã€‚é€™äº›é›²ç«¯æ•¸æ“šä¸­å¿ƒåˆ†å¸ƒåœ¨ä¸–ç•Œå„åœ°ã€‚

![Microsoft é›²ç«¯æ•¸æ“šä¸­å¿ƒ](../../../../../translated_images/azure-region-existing.73f704604f2aa6cb9b5a49ed40e93d4fd81ae3f4e6af4a8ca504023902832f56.tw.png)
![Microsoft é›²ç«¯æ•¸æ“šä¸­å¿ƒæ“´å±•è¨ˆåŠƒ](../../../../../translated_images/azure-region-planned-expansion.a5074a1e8af74f156a73552d502429e5b126ea5019274d767ecb4b9afdad442b.tw.png)

é€™äº›æ•¸æ“šä¸­å¿ƒçš„é¢ç©å¯ä»¥é”åˆ°æ•¸å¹³æ–¹å…¬é‡Œã€‚ä¸Šé¢çš„åœ–ç‰‡æ‹æ”æ–¼å¹¾å¹´å‰çš„ Microsoft é›²ç«¯æ•¸æ“šä¸­å¿ƒï¼Œå±•ç¤ºäº†åˆå§‹è¦æ¨¡ä»¥åŠæ“´å±•è¨ˆåŠƒã€‚æ“´å±•æ¸…ç†å‡ºçš„å€åŸŸè¶…é 5 å¹³æ–¹å…¬é‡Œã€‚

> ğŸ’ é€™äº›æ•¸æ“šä¸­å¿ƒéœ€è¦å¤§é‡çš„é›»åŠ›ï¼Œæœ‰äº›ç”šè‡³æ“æœ‰è‡ªå·±çš„ç™¼é›»ç«™ã€‚ç”±æ–¼å…¶è¦æ¨¡å’Œé›²æä¾›å•†çš„æŠ•è³‡ï¼Œå®ƒå€‘é€šå¸¸éå¸¸ç’°ä¿ã€‚å®ƒå€‘æ¯”å¤§é‡å°å‹æ•¸æ“šä¸­å¿ƒæ›´é«˜æ•ˆï¼Œä¸»è¦ä½¿ç”¨å¯å†ç”Ÿèƒ½æºé‹è¡Œï¼Œé›²æä¾›å•†åŠªåŠ›æ¸›å°‘æµªè²»ã€é™ä½æ°´è³‡æºä½¿ç”¨ä¸¦é‡æ–°æ¤æ¨¹ä»¥å½Œè£œå› å»ºè¨­æ•¸æ“šä¸­å¿ƒè€Œç ä¼çš„æ£®æ—ã€‚æ‚¨å¯ä»¥åœ¨ [Azure å¯æŒçºŒæ€§ç¶²ç«™](https://azure.microsoft.com/global-infrastructure/sustainability/?WT.mc_id=academic-17441-jabenn) ä¸Šäº†è§£æ›´å¤šé—œæ–¼é›²æä¾›å•†å¦‚ä½•è‡´åŠ›æ–¼å¯æŒçºŒæ€§çš„è³‡è¨Šã€‚

âœ… åšä¸€äº›ç ”ç©¶ï¼šäº†è§£ä¸»è¦çš„é›²ç«¯æœå‹™ï¼Œä¾‹å¦‚ [Microsoft çš„ Azure](https://azure.microsoft.com/?WT.mc_id=academic-17441-jabenn) æˆ– [Google çš„ GCP](https://cloud.google.com)ã€‚ä»–å€‘æœ‰å¤šå°‘æ•¸æ“šä¸­å¿ƒï¼Ÿé€™äº›æ•¸æ“šä¸­å¿ƒåˆ†å¸ƒåœ¨å“ªäº›åœ°æ–¹ï¼Ÿ

ä½¿ç”¨é›²ç«¯å¯ä»¥é™ä½å…¬å¸çš„æˆæœ¬ï¼Œä¸¦ä½¿å…¶å°ˆæ³¨æ–¼è‡ªèº«çš„æ ¸å¿ƒæ¥­å‹™ï¼Œå°‡é›²è¨ˆç®—å°ˆæ¥­çŸ¥è­˜äº¤çµ¦æä¾›å•†ã€‚å…¬å¸ä¸å†éœ€è¦ç§Ÿç”¨æˆ–è³¼è²·æ•¸æ“šä¸­å¿ƒç©ºé–“ã€å‘ä¸åŒçš„ä¾›æ‡‰å•†æ”¯ä»˜é€£æ¥å’Œé›»åŠ›è²»ç”¨æˆ–åƒ±ç”¨å°ˆå®¶ã€‚ç›¸åï¼Œä»–å€‘åªéœ€å‘é›²æä¾›å•†æ”¯ä»˜ä¸€å¼µæœˆåº¦è³¬å–®ï¼Œæ‰€æœ‰äº‹æƒ…éƒ½ç”±é›²æä¾›å•†è™•ç†ã€‚

é›²æä¾›å•†å¯ä»¥åˆ©ç”¨è¦æ¨¡ç¶“æ¿Ÿé™ä½æˆæœ¬ï¼Œä¾‹å¦‚æ‰¹é‡è³¼è²·è¨ˆç®—æ©Ÿä»¥é™ä½æˆæœ¬ã€æŠ•è³‡å·¥å…·ä»¥æ¸›å°‘ç¶­è­·å·¥ä½œé‡ï¼Œç”šè‡³è¨­è¨ˆå’Œå»ºé€ è‡ªå·±çš„ç¡¬ä»¶ä»¥æ”¹å–„é›²ç«¯æœå‹™ã€‚

### Microsoft Azure

Azure æ˜¯ Microsoft çš„é–‹ç™¼è€…é›²ç«¯ï¼Œæ‚¨å°‡åœ¨é€™äº›èª²ç¨‹ä¸­ä½¿ç”¨å®ƒã€‚ä»¥ä¸‹è¦–é »æä¾›äº† Azure çš„ç°¡çŸ­æ¦‚è¿°ï¼š

[![Azure æ¦‚è¿°è¦–é »](../../../../../translated_images/what-is-azure-video-thumbnail.20174db09e03bbb87d213f928d3cb27410305d2e567e952827de8478dbda959b.tw.png)](https://www.microsoft.com/videoplayer/embed/RE4Ibng?WT.mc_id=academic-17441-jabenn)

## å‰µå»ºé›²ç«¯è¨‚é–±

è¦ä½¿ç”¨é›²ç«¯æœå‹™ï¼Œæ‚¨éœ€è¦å‘é›²æä¾›å•†è¨»å†Šè¨‚é–±ã€‚åœ¨æœ¬èª²ä¸­ï¼Œæ‚¨å°‡è¨»å†Š Microsoft Azure è¨‚é–±ã€‚å¦‚æœæ‚¨å·²ç¶“æœ‰ Azure è¨‚é–±ï¼Œå¯ä»¥è·³éæ­¤ä»»å‹™ã€‚ä»¥ä¸‹æè¿°çš„è¨‚é–±è©³æƒ…åœ¨æ’°å¯«æœ¬æ–‡æ™‚æ˜¯æ­£ç¢ºçš„ï¼Œä½†å¯èƒ½æœƒæœ‰æ‰€æ›´æ”¹ã€‚

> ğŸ’ å¦‚æœæ‚¨é€šéå­¸æ ¡è¨ªå•é€™äº›èª²ç¨‹ï¼Œæ‚¨å¯èƒ½å·²ç¶“æœ‰å¯ç”¨çš„ Azure è¨‚é–±ã€‚è«‹å‘æ‚¨çš„è€å¸«ç¢ºèªã€‚

æ‚¨å¯ä»¥è¨»å†Šå…©ç¨®é¡å‹çš„å…è²» Azure è¨‚é–±ï¼š

* **Azure for Students** - é€™æ˜¯ç‚º 18 æ­²ä»¥ä¸Šå­¸ç”Ÿè¨­è¨ˆçš„è¨‚é–±ã€‚æ‚¨ä¸éœ€è¦ä¿¡ç”¨å¡å³å¯è¨»å†Šï¼Œä¸¦ä½¿ç”¨æ‚¨çš„å­¸æ ¡é›»å­éƒµä»¶åœ°å€é©—è­‰æ‚¨æ˜¯å­¸ç”Ÿã€‚è¨»å†Šå¾Œï¼Œæ‚¨å°‡ç²å¾— 100 ç¾å…ƒçš„é›²è³‡æºä½¿ç”¨é¡ï¼Œä»¥åŠåŒ…æ‹¬ IoT æœå‹™å…è²»ç‰ˆæœ¬åœ¨å…§çš„å…è²»æœå‹™ã€‚æ­¤è¨‚é–±æœ‰æ•ˆæœŸç‚º 12 å€‹æœˆï¼Œæ‚¨å¯ä»¥æ¯å¹´çºŒè¨‚ä¸€æ¬¡ï¼Œåªè¦æ‚¨ä»æ˜¯å­¸ç”Ÿã€‚

* **Azure å…è²»è¨‚é–±** - é€™æ˜¯ç‚ºéå­¸ç”Ÿè¨­è¨ˆçš„è¨‚é–±ã€‚æ‚¨éœ€è¦ä¿¡ç”¨å¡ä¾†è¨»å†Šï¼Œä½†æ‚¨çš„å¡ä¸æœƒè¢«æ‰£æ¬¾ï¼Œåƒ…ç”¨æ–¼é©—è­‰æ‚¨æ˜¯çœŸäººè€Œéæ©Ÿå™¨äººã€‚æ‚¨åœ¨å‰ 30 å¤©å…§å¯ç²å¾— 200 ç¾å…ƒçš„ä¿¡ç”¨é¡ï¼Œç”¨æ–¼ä»»ä½•æœå‹™ï¼Œä¸¦äº«å— Azure æœå‹™çš„å…è²»å±¤ã€‚ä¿¡ç”¨é¡ç”¨å®Œå¾Œï¼Œé™¤éæ‚¨è½‰æ›ç‚ºæŒ‰ä½¿ç”¨ä»˜è²»è¨‚é–±ï¼Œå¦å‰‡æ‚¨çš„å¡ä¸æœƒè¢«æ‰£æ¬¾ã€‚

> ğŸ’ Microsoft ç¢ºå¯¦ç‚º 18 æ­²ä»¥ä¸‹å­¸ç”Ÿæä¾› Azure for Students Starter è¨‚é–±ï¼Œä½†åœ¨æ’°å¯«æœ¬æ–‡æ™‚ï¼Œå®ƒä¸æ”¯æŒä»»ä½• IoT æœå‹™ã€‚

### ä»»å‹™ - è¨»å†Šå…è²»é›²ç«¯è¨‚é–±

å¦‚æœæ‚¨æ˜¯ 18 æ­²ä»¥ä¸Šçš„å­¸ç”Ÿï¼Œå¯ä»¥è¨»å†Š Azure for Students è¨‚é–±ã€‚æ‚¨éœ€è¦ä½¿ç”¨å­¸æ ¡é›»å­éƒµä»¶åœ°å€é€²è¡Œé©—è­‰ã€‚æ‚¨å¯ä»¥é€šéä»¥ä¸‹å…©ç¨®æ–¹å¼å®Œæˆï¼š

* åœ¨ [education.github.com/pack](https://education.github.com/pack) è¨»å†Š GitHub å­¸ç”Ÿé–‹ç™¼è€…åŒ…ã€‚é€™å°‡ä½¿æ‚¨èƒ½å¤ è¨ªå•ä¸€ç³»åˆ—å·¥å…·å’Œå„ªæƒ ï¼ŒåŒ…æ‹¬ GitHub å’Œ Microsoft Azureã€‚è¨»å†Šé–‹ç™¼è€…åŒ…å¾Œï¼Œæ‚¨å¯ä»¥æ¿€æ´» Azure for Students å„ªæƒ ã€‚

* ç›´æ¥åœ¨ [azure.microsoft.com/free/students](https://azure.microsoft.com/free/students/?WT.mc_id=academic-17441-jabenn) è¨»å†Š Azure for Students å¸³æˆ¶ã€‚

> âš ï¸ å¦‚æœæ‚¨çš„å­¸æ ¡é›»å­éƒµä»¶åœ°å€æœªè¢«èªå¯ï¼Œè«‹åœ¨ [æ­¤ repo æäº¤å•é¡Œ](https://github.com/Microsoft/IoT-For-Beginners/issues)ï¼Œæˆ‘å€‘å°‡æŸ¥çœ‹æ˜¯å¦å¯ä»¥å°‡å…¶æ·»åŠ åˆ° Azure for Students çš„å…è¨±åˆ—è¡¨ã€‚

å¦‚æœæ‚¨ä¸æ˜¯å­¸ç”Ÿï¼Œæˆ–è€…æ²’æœ‰æœ‰æ•ˆçš„å­¸æ ¡é›»å­éƒµä»¶åœ°å€ï¼Œå‰‡å¯ä»¥è¨»å†Š Azure å…è²»è¨‚é–±ã€‚

* åœ¨ [azure.microsoft.com/free](https://azure.microsoft.com/free/?WT.mc_id=academic-17441-jabenn) è¨»å†Š Azure å…è²»è¨‚é–±ã€‚

## é›²ç«¯ IoT æœå‹™

æ‚¨ä½¿ç”¨çš„å…¬å…±æ¸¬è©¦ MQTT broker æ˜¯ä¸€å€‹å¾ˆå¥½çš„å­¸ç¿’å·¥å…·ï¼Œä½†ä½œç‚ºå•†æ¥­ç”¨é€”å·¥å…·å­˜åœ¨ä¸€äº›ç¼ºé»ï¼š

* **å¯é æ€§** - å®ƒæ˜¯ä¸€å€‹å…è²»æœå‹™ï¼Œæ²’æœ‰ä»»ä½•ä¿è­‰ï¼Œå¯èƒ½éš¨æ™‚é—œé–‰
* **å®‰å…¨æ€§** - å®ƒæ˜¯å…¬å…±çš„ï¼Œå› æ­¤ä»»ä½•äººéƒ½å¯ä»¥ç›£è½æ‚¨çš„é™æ¸¬æ•¸æ“šæˆ–ç™¼é€å‘½ä»¤æ§åˆ¶æ‚¨çš„ç¡¬ä»¶
* **æ€§èƒ½** - å®ƒè¨­è¨ˆåƒ…ç”¨æ–¼å°‘é‡æ¸¬è©¦æ¶ˆæ¯ï¼Œå› æ­¤ç„¡æ³•æ‡‰å°å¤§é‡æ¶ˆæ¯çš„å‚³è¼¸
* **ç™¼ç¾æ€§** - ç„¡æ³•çŸ¥é“å“ªäº›è¨­å‚™å·²é€£æ¥

é›²ç«¯ IoT æœå‹™è§£æ±ºäº†é€™äº›å•é¡Œã€‚å®ƒå€‘ç”±å¤§å‹é›²æä¾›å•†ç¶­è­·ï¼Œé€™äº›æä¾›å•†åœ¨å¯é æ€§æ–¹é¢æŠ•å…¥å·¨å¤§ï¼Œä¸¦éš¨æ™‚è§£æ±ºå¯èƒ½å‡ºç¾çš„å•é¡Œã€‚å®ƒå€‘å…§ç½®äº†å®‰å…¨æ€§ï¼Œé˜²æ­¢é»‘å®¢è®€å–æ‚¨çš„æ•¸æ“šæˆ–ç™¼é€æƒ¡æ„å‘½ä»¤ã€‚å®ƒå€‘é‚„å…·æœ‰é«˜æ€§èƒ½ï¼Œèƒ½å¤ æ¯å¤©è™•ç†æ•¸ç™¾è¬æ¢æ¶ˆæ¯ï¼Œä¸¦åˆ©ç”¨é›²ç«¯æ ¹æ“šéœ€è¦é€²è¡Œæ“´å±•ã€‚

> ğŸ’ é›–ç„¶æ‚¨éœ€è¦æ”¯ä»˜æœˆè²»ä¾†äº«å—é€™äº›å„ªå‹¢ï¼Œä½†å¤§å¤šæ•¸é›²æä¾›å•†éƒ½æä¾›å…è²»ç‰ˆæœ¬çš„ IoT æœå‹™ï¼Œé™åˆ¶æ¯æ—¥æ¶ˆæ¯æ•¸é‡æˆ–å¯é€£æ¥çš„è¨­å‚™æ•¸é‡ã€‚é€™äº›å…è²»ç‰ˆæœ¬é€šå¸¸è¶³å¤ é–‹ç™¼è€…å­¸ç¿’æœå‹™ã€‚åœ¨æœ¬èª²ä¸­ï¼Œæ‚¨å°‡ä½¿ç”¨å…è²»ç‰ˆæœ¬ã€‚

IoT è¨­å‚™å¯ä»¥é€šéè¨­å‚™ SDKï¼ˆæä¾›ä»£ç¢¼ä»¥ä½¿ç”¨æœå‹™åŠŸèƒ½çš„åº«ï¼‰æˆ–ç›´æ¥é€šéé€šä¿¡å”è­°ï¼ˆå¦‚ MQTT æˆ– HTTPï¼‰é€£æ¥åˆ°é›²ç«¯æœå‹™ã€‚è¨­å‚™ SDK é€šå¸¸æ˜¯æœ€ç°¡å–®çš„è·¯å¾‘ï¼Œå› ç‚ºå®ƒè™•ç†æ‰€æœ‰äº‹æƒ…ï¼Œä¾‹å¦‚çŸ¥é“è¦ç™¼å¸ƒæˆ–è¨‚é–±çš„ä¸»é¡Œä»¥åŠå¦‚ä½•è™•ç†å®‰å…¨æ€§ã€‚

![è¨­å‚™é€šéè¨­å‚™ SDK é€£æ¥åˆ°æœå‹™ã€‚ä¼ºæœå™¨ä»£ç¢¼ä¹Ÿé€šé SDK é€£æ¥åˆ°æœå‹™](../../../../../translated_images/iot-service-connectivity.7e873847921a5d6fd60d0ba3a943210194518cee0d4e362476624316443275c3.tw.png)

æ‚¨çš„è¨­å‚™ç„¶å¾Œé€šéè©²æœå‹™èˆ‡æ‡‰ç”¨ç¨‹åºçš„å…¶ä»–éƒ¨åˆ†é€šä¿¡â€”â€”é¡ä¼¼æ–¼æ‚¨é€šé MQTT ç™¼é€é™æ¸¬æ•¸æ“šå’Œæ¥æ”¶å‘½ä»¤ã€‚é€™é€šå¸¸ä½¿ç”¨æœå‹™ SDK æˆ–é¡ä¼¼çš„åº«ã€‚æ¶ˆæ¯å¾æ‚¨çš„è¨­å‚™ç™¼é€åˆ°æœå‹™ï¼Œæ‡‰ç”¨ç¨‹åºçš„å…¶ä»–éƒ¨åˆ†å¯ä»¥è®€å–é€™äº›æ¶ˆæ¯ï¼Œä¸¦å°‡æ¶ˆæ¯ç™¼é€å›æ‚¨çš„è¨­å‚™ã€‚

![æ²’æœ‰æœ‰æ•ˆå¯†é‘°çš„è¨­å‚™ç„¡æ³•é€£æ¥åˆ° IoT æœå‹™](../../../../../translated_images/iot-service-allowed-denied-connection.818b0063ac213fb84204a7229303764d9b467ca430fb822b4ac2fca267d56726.tw.png)

é€™äº›æœå‹™é€šéäº†è§£æ‰€æœ‰å¯ä»¥é€£æ¥ä¸¦ç™¼é€æ•¸æ“šçš„è¨­å‚™ä¾†å¯¦ç¾å®‰å…¨æ€§ï¼Œé€™å¯ä»¥é€šéé å…ˆè¨»å†Šè¨­å‚™æˆ–çµ¦è¨­å‚™æä¾›å¯†é‘°æˆ–è­‰æ›¸ï¼Œè®“å®ƒå€‘åœ¨é¦–æ¬¡é€£æ¥æ™‚è‡ªå‹•è¨»å†Šåˆ°æœå‹™ã€‚æœªçŸ¥è¨­å‚™ç„¡æ³•é€£æ¥ï¼Œå¦‚æœå˜—è©¦ï¼Œæœå‹™æœƒæ‹’çµ•é€£æ¥ä¸¦å¿½ç•¥å®ƒå€‘ç™¼é€çš„æ¶ˆæ¯ã€‚

âœ… åšä¸€äº›ç ”ç©¶ï¼šé–‹æ”¾çš„ IoT æœå‹™å…è¨±ä»»ä½•è¨­å‚™æˆ–ä»£ç¢¼é€£æ¥æœƒæœ‰å“ªäº›ç¼ºé»ï¼Ÿæ‚¨èƒ½æ‰¾åˆ°é»‘å®¢åˆ©ç”¨é€™ç¨®æƒ…æ³çš„å…·é«”ä¾‹å­å—ï¼Ÿ

æ‡‰ç”¨ç¨‹åºçš„å…¶ä»–éƒ¨åˆ†å¯ä»¥é€£æ¥åˆ° IoT æœå‹™ï¼Œäº†è§£æ‰€æœ‰å·²é€£æ¥æˆ–è¨»å†Šçš„è¨­å‚™ï¼Œä¸¦ç›´æ¥èˆ‡å®ƒå€‘é€²è¡Œæ‰¹é‡æˆ–å–®ç¨é€šä¿¡ã€‚
ğŸ’ IoT æœå‹™é‚„å¯¦ç¾äº†é¡å¤–çš„åŠŸèƒ½ï¼Œé›²ç«¯ä¾›æ‡‰å•†ä¹Ÿæä¾›äº†é¡å¤–çš„æœå‹™å’Œæ‡‰ç”¨ç¨‹å¼ï¼Œå¯ä»¥èˆ‡è©²æœå‹™é€£æ¥ã€‚ä¾‹å¦‚ï¼Œå¦‚æœæ‚¨æƒ³å°‡æ‰€æœ‰è¨­å‚™ç™¼é€çš„é™æ¸¬è¨Šæ¯å­˜å„²åˆ°è³‡æ–™åº«ä¸­ï¼Œé€šå¸¸åªéœ€è¦åœ¨é›²ç«¯ä¾›æ‡‰å•†çš„é…ç½®å·¥å…·ä¸­é»æ“Šå¹¾ä¸‹ï¼Œå°±èƒ½å°‡æœå‹™é€£æ¥åˆ°è³‡æ–™åº«ä¸¦å°‡è³‡æ–™ä¸²æµé€²å»ã€‚
## åœ¨é›²ç«¯å»ºç«‹ IoT æœå‹™

ç¾åœ¨æ‚¨å·²ç¶“æ“æœ‰ Azure è¨‚é–±ï¼Œæ‚¨å¯ä»¥è¨»å†Šä¸€å€‹ IoT æœå‹™ã€‚Microsoft æä¾›çš„ IoT æœå‹™ç¨±ç‚º Azure IoT Hubã€‚

![Azure IoT Hub æ¨™èªŒ](../../../../../translated_images/azure-iot-hub-logo.28a19de76d0a1932464d858f7558712bcdace3e5ec69c434d482ed7ce41c3a26.tw.png)

ä»¥ä¸‹å½±ç‰‡ç°¡è¦ä»‹ç´¹äº† Azure IoT Hubï¼š

[![Azure IoT Hub æ¦‚è¿°å½±ç‰‡](https://img.youtube.com/vi/smuZaZZXKsU/0.jpg)](https://www.youtube.com/watch?v=smuZaZZXKsU)

> ğŸ¥ é»æ“Šä¸Šæ–¹åœ–ç‰‡è§€çœ‹å½±ç‰‡

âœ… èŠ±é»æ™‚é–“é€²è¡Œç ”ç©¶ï¼Œé–±è®€ [Microsoft IoT Hub æ–‡ä»¶](https://docs.microsoft.com/azure/iot-hub/about-iot-hub?WT.mc_id=academic-17441-jabenn) ä¸­çš„ IoT Hub æ¦‚è¿°ã€‚

Azure æä¾›çš„é›²ç«¯æœå‹™å¯ä»¥é€šéåŸºæ–¼ç¶²é çš„å…¥å£ç¶²ç«™æˆ–å‘½ä»¤åˆ—ä»‹é¢ (CLI) é€²è¡Œé…ç½®ã€‚å°æ–¼æ­¤ä»»å‹™ï¼Œæ‚¨å°‡ä½¿ç”¨ CLIã€‚

### ä»»å‹™ - å®‰è£ Azure CLI

è¦ä½¿ç”¨ Azure CLIï¼Œé¦–å…ˆéœ€è¦åœ¨æ‚¨çš„ PC æˆ– Mac ä¸Šå®‰è£å®ƒã€‚

1. æŒ‰ç…§ [Azure CLI æ–‡ä»¶](https://docs.microsoft.com/cli/azure/install-azure-cli?WT.mc_id=academic-17441-jabenn) ä¸­çš„æŒ‡ç¤ºå®‰è£ CLIã€‚

1. Azure CLI æ”¯æ´å¤šç¨®æ“´å±•åŠŸèƒ½ï¼Œé€™äº›åŠŸèƒ½å¯ç”¨æ–¼ç®¡ç†å„ç¨® Azure æœå‹™ã€‚å¾å‘½ä»¤åˆ—æˆ–çµ‚ç«¯åŸ·è¡Œä»¥ä¸‹å‘½ä»¤ä»¥å®‰è£ IoT æ“´å±•ï¼š

    ```sh
    az extension add --name azure-iot
    ```

1. å¾å‘½ä»¤åˆ—æˆ–çµ‚ç«¯åŸ·è¡Œä»¥ä¸‹å‘½ä»¤ï¼Œå¾ Azure CLI ç™»éŒ„åˆ°æ‚¨çš„ Azure è¨‚é–±ã€‚

    ```sh
    az login
    ```

    é è¨­ç€è¦½å™¨å°‡å•Ÿå‹•ä¸€å€‹ç¶²é ã€‚ä½¿ç”¨æ‚¨è¨»å†Š Azure è¨‚é–±æ™‚çš„å¸³æˆ¶ç™»éŒ„ã€‚ç™»éŒ„å¾Œï¼Œæ‚¨å¯ä»¥é—œé–‰ç€è¦½å™¨æ¨™ç±¤é ã€‚

1. å¦‚æœæ‚¨æœ‰å¤šå€‹ Azure è¨‚é–±ï¼Œä¾‹å¦‚å­¸æ ¡æä¾›çš„è¨‚é–±å’Œæ‚¨è‡ªå·±çš„ Azure for Students è¨‚é–±ï¼Œæ‚¨éœ€è¦é¸æ“‡è¦ä½¿ç”¨çš„è¨‚é–±ã€‚åŸ·è¡Œä»¥ä¸‹å‘½ä»¤ä»¥åˆ—å‡ºæ‚¨æœ‰æ¬Šè¨ªå•çš„æ‰€æœ‰è¨‚é–±ï¼š

    ```sh
    az account list --output table
    ```

    åœ¨è¼¸å‡ºä¸­ï¼Œæ‚¨å°‡çœ‹åˆ°æ¯å€‹è¨‚é–±çš„åç¨±åŠå…¶ `SubscriptionId`ã€‚

    ```output
    âœ  ~ az account list --output table
    Name                    CloudName    SubscriptionId                        State    IsDefault
    ----------------------  -----------  ------------------------------------  -------  -----------
    School-subscription     AzureCloud   cb30cde9-814a-42f0-a111-754cb788e4e1  Enabled  True
    Azure for Students      AzureCloud   fa51c31b-162c-4599-add6-781def2e1fbf  Enabled  False
    ```

    ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤é¸æ“‡æ‚¨è¦ä½¿ç”¨çš„è¨‚é–±ï¼š

    ```sh
    az account set --subscription <SubscriptionId>
    ```

    å°‡ `<SubscriptionId>` æ›¿æ›ç‚ºæ‚¨è¦ä½¿ç”¨çš„è¨‚é–±çš„ IDã€‚åŸ·è¡Œæ­¤å‘½ä»¤å¾Œï¼Œé‡æ–°åŸ·è¡Œåˆ—å‡ºå¸³æˆ¶çš„å‘½ä»¤ã€‚æ‚¨å°‡çœ‹åˆ° `IsDefault` åˆ—è¢«æ¨™è¨˜ç‚º `True`ï¼Œè¡¨ç¤ºæ‚¨å‰›å‰›è¨­ç½®çš„è¨‚é–±ã€‚

### ä»»å‹™ - å»ºç«‹è³‡æºç¾¤çµ„

Azure æœå‹™ï¼Œä¾‹å¦‚ IoT Hub å¯¦ä¾‹ã€è™›æ“¬æ©Ÿå™¨ã€è³‡æ–™åº«æˆ– AI æœå‹™ï¼Œè¢«ç¨±ç‚º **è³‡æº**ã€‚æ¯å€‹è³‡æºéƒ½å¿…é ˆä½æ–¼ **è³‡æºç¾¤çµ„** ä¸­ï¼Œé€™æ˜¯ä¸€å€‹é‚è¼¯åˆ†çµ„ï¼ŒåŒ…å«ä¸€å€‹æˆ–å¤šå€‹è³‡æºã€‚

> ğŸ’ ä½¿ç”¨è³‡æºç¾¤çµ„æ„å‘³è‘—æ‚¨å¯ä»¥ä¸€æ¬¡ç®¡ç†å¤šå€‹æœå‹™ã€‚ä¾‹å¦‚ï¼Œå®Œæˆæ­¤å°ˆæ¡ˆçš„æ‰€æœ‰èª²ç¨‹å¾Œï¼Œæ‚¨å¯ä»¥åˆªé™¤è³‡æºç¾¤çµ„ï¼Œæ‰€æœ‰è³‡æºå°‡è‡ªå‹•åˆªé™¤ã€‚

1. Azure åœ¨å…¨çƒæœ‰å¤šå€‹è³‡æ–™ä¸­å¿ƒï¼Œåˆ†ç‚ºä¸åŒçš„å€åŸŸã€‚ç•¶æ‚¨å»ºç«‹ Azure è³‡æºæˆ–è³‡æºç¾¤çµ„æ™‚ï¼Œæ‚¨éœ€è¦æŒ‡å®šå…¶å»ºç«‹çš„ä½ç½®ã€‚åŸ·è¡Œä»¥ä¸‹å‘½ä»¤ä»¥ç²å–ä½ç½®åˆ—è¡¨ï¼š

    ```sh
    az account list-locations --output table
    ```

    æ‚¨å°‡çœ‹åˆ°ä¸€å€‹ä½ç½®åˆ—è¡¨ã€‚é€™å€‹åˆ—è¡¨æœƒå¾ˆé•·ã€‚

    > ğŸ’ æˆªè‡³æ’°å¯«æœ¬æ–‡æ™‚ï¼Œæ‚¨å¯ä»¥éƒ¨ç½²åˆ° 65 å€‹ä½ç½®ã€‚

    ```output
        âœ  ~ az account list-locations --output table
    DisplayName               Name                 RegionalDisplayName
    ------------------------  -------------------  -------------------------------------
    East US                   eastus               (US) East US
    East US 2                 eastus2              (US) East US 2
    South Central US          southcentralus       (US) South Central US
    ...
    ```

    è¨˜ä¸‹é›¢æ‚¨æœ€è¿‘çš„å€åŸŸçš„ `Name` åˆ—çš„å€¼ã€‚æ‚¨å¯ä»¥åœ¨ [Azure åœ°ç†ä½ç½®é é¢](https://azure.microsoft.com/global-infrastructure/geographies/?WT.mc_id=academic-17441-jabenn) ä¸Šçš„åœ°åœ–ä¸­æ‰¾åˆ°é€™äº›å€åŸŸã€‚

1. åŸ·è¡Œä»¥ä¸‹å‘½ä»¤å»ºç«‹ä¸€å€‹åç‚º `soil-moisture-sensor` çš„è³‡æºç¾¤çµ„ã€‚è³‡æºç¾¤çµ„åç¨±åœ¨æ‚¨çš„è¨‚é–±ä¸­å¿…é ˆæ˜¯å”¯ä¸€çš„ã€‚

    ```sh
    az group create --name soil-moisture-sensor \
                    --location <location>
    ```

    å°‡ `<location>` æ›¿æ›ç‚ºæ‚¨åœ¨ä¸Šä¸€æ­¥ä¸­é¸æ“‡çš„ä½ç½®ã€‚

### ä»»å‹™ - å»ºç«‹ IoT Hub

ç¾åœ¨ï¼Œæ‚¨å¯ä»¥åœ¨è³‡æºç¾¤çµ„ä¸­å»ºç«‹ä¸€å€‹ IoT Hub è³‡æºã€‚

1. ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å»ºç«‹æ‚¨çš„ IoT Hub è³‡æºï¼š

    ```sh
    az iot hub create --resource-group soil-moisture-sensor \
                      --sku F1 \
                      --partition-count 2 \
                      --name <hub_name>
    ```

    å°‡ `<hub_name>` æ›¿æ›ç‚ºæ‚¨çš„ Hub åç¨±ã€‚æ­¤åç¨±å¿…é ˆæ˜¯å…¨åŸŸå”¯ä¸€çš„â€”â€”å³ä»»ä½•äººå»ºç«‹çš„ IoT Hub éƒ½ä¸èƒ½æœ‰ç›¸åŒçš„åç¨±ã€‚æ­¤åç¨±ç”¨æ–¼æŒ‡å‘ Hub çš„ URLï¼Œå› æ­¤éœ€è¦å”¯ä¸€ã€‚å¯ä»¥ä½¿ç”¨é¡ä¼¼ `soil-moisture-sensor-` çš„åç¨±ï¼Œä¸¦åœ¨æœ«å°¾æ·»åŠ ä¸€äº›å”¯ä¸€çš„è­˜åˆ¥ç¬¦ï¼Œä¾‹å¦‚éš¨æ©Ÿå­—è©æˆ–æ‚¨çš„åå­—ã€‚

    `--sku F1` é¸é …è¡¨ç¤ºä½¿ç”¨å…è²»å±¤ã€‚å…è²»å±¤æ¯å¤©æ”¯æ´ 8,000 æ¢è¨Šæ¯ï¼Œä¸¦æä¾›å¤§å¤šæ•¸ä»˜è²»å±¤çš„åŠŸèƒ½ã€‚

    > ğŸ“ Azure æœå‹™çš„ä¸åŒå®šåƒ¹ç´šåˆ¥ç¨±ç‚ºå±¤ã€‚æ¯å€‹å±¤éƒ½æœ‰ä¸åŒçš„æˆæœ¬ï¼Œä¸¦æä¾›ä¸åŒçš„åŠŸèƒ½æˆ–è³‡æ–™é‡ã€‚

    > ğŸ’ å¦‚æœæ‚¨æƒ³äº†è§£æ›´å¤šæœ‰é—œå®šåƒ¹çš„ä¿¡æ¯ï¼Œå¯ä»¥æŸ¥çœ‹ [Azure IoT Hub å®šåƒ¹æŒ‡å—](https://azure.microsoft.com/pricing/details/iot-hub/?WT.mc_id=academic-17441-jabenn)ã€‚

    `--partition-count 2` é¸é …å®šç¾© IoT Hub æ”¯æ´çš„è³‡æ–™æµæ•¸é‡ã€‚æ›´å¤šçš„åˆ†å€å¯ä»¥æ¸›å°‘å¤šå€‹è¨­å‚™å¾ IoT Hub è®€å¯«æ™‚çš„è³‡æ–™é˜»å¡ã€‚åˆ†å€çš„è©³ç´°å…§å®¹è¶…å‡ºäº†æœ¬èª²ç¨‹çš„ç¯„åœï¼Œä½†æ­¤å€¼éœ€è¦è¨­ç½®ä»¥å»ºç«‹å…è²»å±¤ IoT Hubã€‚

    > ğŸ’ æ¯å€‹è¨‚é–±åªèƒ½æœ‰ä¸€å€‹å…è²»å±¤ IoT Hubã€‚

IoT Hub å°‡è¢«å»ºç«‹ã€‚é€™å¯èƒ½éœ€è¦ä¸€åˆ†é˜å·¦å³å®Œæˆã€‚

## èˆ‡ IoT Hub é€šè¨Š

åœ¨ä¸Šä¸€èª²ä¸­ï¼Œæ‚¨ä½¿ç”¨ MQTT ä¸¦åœ¨ä¸åŒçš„ä¸»é¡Œä¸Šä¾†å›å‚³é€è¨Šæ¯ï¼Œä¸åŒçš„ä¸»é¡Œæœ‰ä¸åŒçš„ç”¨é€”ã€‚èˆ‡å…¶é€šéä¸åŒçš„ä¸»é¡Œå‚³é€è¨Šæ¯ï¼ŒIoT Hub æä¾›äº†å¤šç¨®å®šç¾©å¥½çš„æ–¹å¼ï¼Œè®“è¨­å‚™èˆ‡ Hub é€šè¨Šï¼Œæˆ–è®“ Hub èˆ‡è¨­å‚™é€šè¨Šã€‚

> ğŸ’ åœ¨åº•å±¤ï¼ŒIoT Hub èˆ‡æ‚¨çš„è¨­å‚™ä¹‹é–“çš„é€šè¨Šå¯ä»¥ä½¿ç”¨ MQTTã€HTTPS æˆ– AMQPã€‚

* è¨­å‚™åˆ°é›²ç«¯ (D2C) è¨Šæ¯ - é€™äº›æ˜¯å¾è¨­å‚™å‚³é€åˆ° IoT Hub çš„è¨Šæ¯ï¼Œä¾‹å¦‚é™æ¸¬æ•¸æ“šã€‚æ‡‰ç”¨ç¨‹å¼ä»£ç¢¼å¯ä»¥å¾ IoT Hub è®€å–é€™äº›è¨Šæ¯ã€‚

    > ğŸ“ åœ¨åº•å±¤ï¼ŒIoT Hub ä½¿ç”¨ä¸€å€‹åç‚º [Event Hubs](https://docs.microsoft.com/azure/event-hubs/?WT.mc_id=academic-17441-jabenn) çš„ Azure æœå‹™ã€‚ç•¶æ‚¨ç·¨å¯«ä»£ç¢¼ä¾†è®€å–å‚³é€åˆ° Hub çš„è¨Šæ¯æ™‚ï¼Œé€™äº›è¨Šæ¯é€šå¸¸è¢«ç¨±ç‚ºäº‹ä»¶ã€‚

* é›²ç«¯åˆ°è¨­å‚™ (C2D) è¨Šæ¯ - é€™äº›æ˜¯å¾æ‡‰ç”¨ç¨‹å¼ä»£ç¢¼é€šé IoT Hub å‚³é€åˆ° IoT è¨­å‚™çš„è¨Šæ¯ã€‚

* ç›´æ¥æ–¹æ³•è«‹æ±‚ - é€™äº›æ˜¯å¾æ‡‰ç”¨ç¨‹å¼ä»£ç¢¼é€šé IoT Hub å‚³é€åˆ° IoT è¨­å‚™çš„è¨Šæ¯ï¼Œç”¨æ–¼è«‹æ±‚è¨­å‚™åŸ·è¡ŒæŸäº›æ“ä½œï¼Œä¾‹å¦‚æ§åˆ¶åŸ·è¡Œå™¨ã€‚é€™äº›è¨Šæ¯éœ€è¦å›æ‡‰ï¼Œä»¥ä¾¿æ‡‰ç”¨ç¨‹å¼ä»£ç¢¼çŸ¥é“æ˜¯å¦æˆåŠŸè™•ç†ã€‚

* è¨­å‚™é›™èƒèƒ - é€™äº›æ˜¯ JSON æ–‡ä»¶ï¼Œä¿æŒè¨­å‚™èˆ‡ IoT Hub ä¹‹é–“çš„åŒæ­¥ï¼Œç”¨æ–¼å­˜å„²è¨­å‚™å ±å‘Šçš„è¨­ç½®æˆ–å…¶ä»–å±¬æ€§ï¼Œæˆ–è€… IoT Hub å¸Œæœ›è¨­ç½®åœ¨è¨­å‚™ä¸Šçš„å±¬æ€§ï¼ˆç¨±ç‚ºæœŸæœ›å€¼ï¼‰ã€‚

IoT Hub å¯ä»¥å­˜å„²è¨Šæ¯å’Œç›´æ¥æ–¹æ³•è«‹æ±‚ä¸€æ®µå¯é…ç½®çš„æ™‚é–“ï¼ˆé»˜èªç‚ºä¸€å¤©ï¼‰ï¼Œå› æ­¤å¦‚æœè¨­å‚™æˆ–æ‡‰ç”¨ç¨‹å¼ä»£ç¢¼å¤±å»é€£æ¥ï¼Œé‡æ–°é€£æ¥å¾Œä»ç„¶å¯ä»¥æª¢ç´¢é›¢ç·šæœŸé–“å‚³é€çš„è¨Šæ¯ã€‚è¨­å‚™é›™èƒèƒå‰‡æ°¸ä¹…ä¿å­˜åœ¨ IoT Hub ä¸­ï¼Œå› æ­¤è¨­å‚™å¯ä»¥éš¨æ™‚é‡æ–°é€£æ¥ä¸¦ç²å–æœ€æ–°çš„è¨­å‚™é›™èƒèƒã€‚

âœ… é€²è¡Œä¸€äº›ç ”ç©¶ï¼šé–±è®€ IoT Hub æ–‡ä»¶ä¸­çš„ [è¨­å‚™åˆ°é›²ç«¯é€šè¨ŠæŒ‡å—](https://docs.microsoft.com/azure/iot-hub/iot-hub-devguide-d2c-guidance?WT.mc_id=academic-17441-jabenn) å’Œ [é›²ç«¯åˆ°è¨­å‚™é€šè¨ŠæŒ‡å—](https://docs.microsoft.com/azure/iot-hub/iot-hub-devguide-c2d-guidance?WT.mc_id=academic-17441-jabenn)ã€‚

## å°‡æ‚¨çš„è¨­å‚™é€£æ¥åˆ° IoT æœå‹™

ä¸€æ—¦ Hub å»ºç«‹ï¼Œæ‚¨çš„ IoT è¨­å‚™å°±å¯ä»¥é€£æ¥åˆ°å®ƒã€‚åªæœ‰è¨»å†Šçš„è¨­å‚™æ‰èƒ½é€£æ¥åˆ°æœå‹™ï¼Œå› æ­¤æ‚¨éœ€è¦å…ˆè¨»å†Šæ‚¨çš„è¨­å‚™ã€‚è¨»å†Šå¾Œï¼Œæ‚¨å¯ä»¥ç²å–è¨­å‚™ç”¨æ–¼é€£æ¥çš„é€£æ¥å­—ä¸²ã€‚æ­¤é€£æ¥å­—ä¸²æ˜¯è¨­å‚™å°ˆå±¬çš„ï¼ŒåŒ…å«æœ‰é—œ IoT Hubã€è¨­å‚™å’Œå…è¨±è©²è¨­å‚™é€£æ¥çš„å¯†é‘°çš„ä¿¡æ¯ã€‚

> ğŸ“ é€£æ¥å­—ä¸²æ˜¯ä¸€å€‹é€šç”¨è¡“èªï¼ŒæŒ‡åŒ…å«é€£æ¥è©³ç´°ä¿¡æ¯çš„ä¸€æ®µæ–‡å­—ã€‚é€™äº›å­—ä¸²ç”¨æ–¼é€£æ¥ IoT Hubã€è³‡æ–™åº«å’Œè¨±å¤šå…¶ä»–æœå‹™ã€‚å®ƒå€‘é€šå¸¸åŒ…æ‹¬æœå‹™çš„è­˜åˆ¥ç¬¦ï¼ˆä¾‹å¦‚ URLï¼‰å’Œå®‰å…¨ä¿¡æ¯ï¼ˆä¾‹å¦‚å¯†é‘°ï¼‰ã€‚é€™äº›å­—ä¸²æœƒå‚³éçµ¦ SDK ç”¨æ–¼é€£æ¥æœå‹™ã€‚

> âš ï¸ é€£æ¥å­—ä¸²æ‡‰ä¿æŒå®‰å…¨ï¼å®‰å…¨æ€§å°‡åœ¨æœªä¾†çš„èª²ç¨‹ä¸­è©³ç´°ä»‹ç´¹ã€‚

### ä»»å‹™ - è¨»å†Šæ‚¨çš„ IoT è¨­å‚™

å¯ä»¥ä½¿ç”¨ Azure CLI å°‡ IoT è¨­å‚™è¨»å†Šåˆ°æ‚¨çš„ IoT Hubã€‚

1. åŸ·è¡Œä»¥ä¸‹å‘½ä»¤è¨»å†Šè¨­å‚™ï¼š

    ```sh
    az iot hub device-identity create --device-id soil-moisture-sensor \
                                      --hub-name <hub_name>
    ```

    å°‡ `<hub_name>` æ›¿æ›ç‚ºæ‚¨ç”¨æ–¼ IoT Hub çš„åç¨±ã€‚

    é€™å°‡å»ºç«‹ä¸€å€‹ ID ç‚º `soil-moisture-sensor` çš„è¨­å‚™ã€‚

1. ç•¶æ‚¨çš„ IoT è¨­å‚™ä½¿ç”¨ SDK é€£æ¥åˆ° IoT Hub æ™‚ï¼Œéœ€è¦ä½¿ç”¨ä¸€å€‹é€£æ¥å­—ä¸²ï¼Œè©²å­—ä¸²æä¾› Hub çš„ URL å’Œå¯†é‘°ã€‚åŸ·è¡Œä»¥ä¸‹å‘½ä»¤ä»¥ç²å–é€£æ¥å­—ä¸²ï¼š

    ```sh
    az iot hub device-identity connection-string show --device-id soil-moisture-sensor \
                                                      --output table \
                                                      --hub-name <hub_name>
    ```

    å°‡ `<hub_name>` æ›¿æ›ç‚ºæ‚¨ç”¨æ–¼ IoT Hub çš„åç¨±ã€‚

1. ä¿å­˜è¼¸å‡ºä¸­é¡¯ç¤ºçš„é€£æ¥å­—ä¸²ï¼Œç¨å¾Œæ‚¨å°‡éœ€è¦å®ƒã€‚

### ä»»å‹™ - å°‡æ‚¨çš„ IoT è¨­å‚™é€£æ¥åˆ°é›²ç«¯

æŒ‰ç…§ç›¸é—œæŒ‡å—å°‡æ‚¨çš„ IoT è¨­å‚™é€£æ¥åˆ°é›²ç«¯ï¼š

* [Arduino - Wio Terminal](wio-terminal-connect-hub.md)
* [å–®æ¿é›»è…¦ - Raspberry Pi/è™›æ“¬ IoT è¨­å‚™](single-board-computer-connect-hub.md)

### ä»»å‹™ - ç›£æ§äº‹ä»¶

ç›®å‰ï¼Œæ‚¨ä¸éœ€è¦æ›´æ–°ä¼ºæœå™¨ä»£ç¢¼ã€‚ç›¸åï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ Azure CLI ç›£æ§ä¾†è‡ª IoT è¨­å‚™çš„äº‹ä»¶ã€‚

1. ç¢ºä¿æ‚¨çš„ IoT è¨­å‚™æ­£åœ¨é‹è¡Œä¸¦å‚³é€åœŸå£¤æ¿•åº¦é™æ¸¬å€¼ã€‚

1. åœ¨å‘½ä»¤æç¤ºç¬¦æˆ–çµ‚ç«¯ä¸­åŸ·è¡Œä»¥ä¸‹å‘½ä»¤ä»¥ç›£æ§å‚³é€åˆ° IoT Hub çš„è¨Šæ¯ï¼š

    ```sh
    az iot hub monitor-events --hub-name <hub_name>
    ```

    å°‡ `<hub_name>` æ›¿æ›ç‚ºæ‚¨ç”¨æ–¼ IoT Hub çš„åç¨±ã€‚

    ç•¶æ‚¨çš„ IoT è¨­å‚™å‚³é€è¨Šæ¯æ™‚ï¼Œæ‚¨å°‡åœ¨æ§åˆ¶å°è¼¸å‡ºä¸­çœ‹åˆ°è¨Šæ¯ã€‚

    ```output
    Starting event monitor, use ctrl-c to stop...
    {
        "event": {
            "origin": "soil-moisture-sensor",
            "module": "",
            "interface": "",
            "component": "",
            "payload": "{\"soil_moisture\": 376}"
        }
    },
    {
        "event": {
            "origin": "soil-moisture-sensor",
            "module": "",
            "interface": "",
            "component": "",
            "payload": "{\"soil_moisture\": 381}"
        }
    }
    ```

    `payload` çš„å…§å®¹å°‡èˆ‡æ‚¨çš„ IoT è¨­å‚™å‚³é€çš„è¨Šæ¯ç›¸åŒ¹é…ã€‚

    > æˆªè‡³æ’°å¯«æœ¬æ–‡æ™‚ï¼Œ`az iot` æ“´å±•åœ¨ Apple Silicon ä¸Šå°šæœªå®Œå…¨é‹ä½œã€‚å¦‚æœæ‚¨ä½¿ç”¨çš„æ˜¯ Apple Silicon è¨­å‚™ï¼Œæ‚¨éœ€è¦ä½¿ç”¨å…¶ä»–æ–¹å¼ç›£æ§è¨Šæ¯ï¼Œä¾‹å¦‚ [Visual Studio Code çš„ Azure IoT å·¥å…·](https://docs.microsoft.com/en-us/azure/iot-hub/iot-hub-vscode-iot-toolkit-cloud-device-messaging)ã€‚

1. é€™äº›è¨Šæ¯æœƒè‡ªå‹•é™„åŠ ä¸€äº›å±¬æ€§ï¼Œä¾‹å¦‚å‚³é€çš„æ™‚é–“æˆ³ã€‚é€™äº›å±¬æ€§ç¨±ç‚º *è¨»è§£*ã€‚è¦æŸ¥çœ‹æ‰€æœ‰è¨Šæ¯è¨»è§£ï¼Œè«‹ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ï¼š

    ```sh
    az iot hub monitor-events --properties anno --hub-name <hub_name>
    ```

    å°‡ `<hub_name>` æ›¿æ›ç‚ºæ‚¨ç”¨æ–¼ IoT Hub çš„åç¨±ã€‚

    ç•¶æ‚¨çš„ IoT è¨­å‚™å‚³é€è¨Šæ¯æ™‚ï¼Œæ‚¨å°‡åœ¨æ§åˆ¶å°è¼¸å‡ºä¸­çœ‹åˆ°è¨Šæ¯ã€‚

    ```output
    Starting event monitor, use ctrl-c to stop...
    {
        "event": {
            "origin": "soil-moisture-sensor",
            "module": "",
            "interface": "",
            "component": "",
            "properties": {},
            "annotations": {
                "iothub-connection-device-id": "soil-moisture-sensor",
                "iothub-connection-auth-method": "{\"scope\":\"device\",\"type\":\"sas\",\"issuer\":\"iothub\",\"acceptingIpFilterRule\":null}",
                "iothub-connection-auth-generation-id": "637553997165220462",
                "iothub-enqueuedtime": 1619976150288,
                "iothub-message-source": "Telemetry",
                "x-opt-sequence-number": 1379,
                "x-opt-offset": "550576",
                "x-opt-enqueued-time": 1619976150277
            },
            "payload": "{\"soil_moisture\": 381}"
        }
    }
    ```

    è¨»è§£ä¸­çš„æ™‚é–“å€¼æ˜¯ [UNIX æ™‚é–“](https://wikipedia.org/wiki/Unix_time)ï¼Œè¡¨ç¤ºè‡ª 1970 å¹´ 1 æœˆ 1 æ—¥åˆå¤œä»¥ä¾†çš„ç§’æ•¸ã€‚

    å®Œæˆå¾Œé€€å‡ºäº‹ä»¶ç›£æ§ã€‚

### ä»»å‹™ - æ§åˆ¶æ‚¨çš„ IoT è¨­å‚™

æ‚¨é‚„å¯ä»¥ä½¿ç”¨ Azure CLI åœ¨ IoT è¨­å‚™ä¸Šèª¿ç”¨ç›´æ¥æ–¹æ³•ã€‚

1. åœ¨å‘½ä»¤æç¤ºç¬¦æˆ–çµ‚ç«¯ä¸­åŸ·è¡Œä»¥ä¸‹å‘½ä»¤ä»¥èª¿ç”¨ IoT è¨­å‚™ä¸Šçš„ `relay_on` æ–¹æ³•ï¼š

    ```sh
    az iot hub invoke-device-method --device-id soil-moisture-sensor \
                                    --method-name relay_on \
                                    --method-payload '{}' \
                                    --hub-name <hub_name>
    ```

    å°‡ `
<hub_name>
` ä½¿ç”¨æ‚¨ç‚º IoT Hub è¨­å®šçš„åç¨±ã€‚

é€™æœƒç™¼é€ä¸€å€‹ç›´æ¥æ–¹æ³•è«‹æ±‚ï¼Œè«‹æ±‚çš„ç›®æ¨™æ–¹æ³•ç”± `method-name` æŒ‡å®šã€‚ç›´æ¥æ–¹æ³•å¯ä»¥åŒ…å«æ–¹æ³•æ‰€éœ€çš„è³‡æ–™è² è¼‰ï¼Œä¸¦ä¸”å¯ä»¥åœ¨ `method-payload` åƒæ•¸ä¸­ä»¥ JSON æ ¼å¼æŒ‡å®šã€‚

æ‚¨æœƒçœ‹åˆ°ç¹¼é›»å™¨å•Ÿå‹•ï¼Œä¸¦ä¸”æ‚¨çš„ IoT è£ç½®æœƒé¡¯ç¤ºç›¸æ‡‰çš„è¼¸å‡ºï¼š

```output
    Direct method received -  relay_on
    ```

1. é‡è¤‡ä¸Šè¿°æ­¥é©Ÿï¼Œä½†å°‡ `--method-name` è¨­å®šç‚º `relay_off`ã€‚æ‚¨æœƒçœ‹åˆ°ç¹¼é›»å™¨é—œé–‰ï¼Œä¸¦ä¸” IoT è£ç½®æœƒé¡¯ç¤ºç›¸æ‡‰çš„è¼¸å‡ºã€‚

---

## ğŸš€ æŒ‘æˆ°

IoT Hub çš„å…è²»å±¤æ¯å¤©å…è¨± 8,000 å‰‡è¨Šæ¯ã€‚æ‚¨æ’°å¯«çš„ç¨‹å¼ç¢¼æ¯ 10 ç§’ç™¼é€ä¸€æ¬¡é™æ¸¬è¨Šæ¯ã€‚æ¯å¤©æ¯ 10 ç§’ç™¼é€ä¸€æ¬¡è¨Šæ¯æœƒç”¢ç”Ÿå¤šå°‘è¨Šæ¯ï¼Ÿ

æ€è€ƒä¸€ä¸‹åœŸå£¤æ¿•åº¦æ¸¬é‡æ‡‰è©²å¤šä¹…ç™¼é€ä¸€æ¬¡ï¼Ÿå¦‚ä½•ä¿®æ”¹æ‚¨çš„ç¨‹å¼ç¢¼ä»¥ä¿æŒåœ¨å…è²»å±¤çš„é™åˆ¶å…§ï¼ŒåŒæ™‚èƒ½å¤ æŒ‰éœ€æª¢æŸ¥ä½†ä¸éæ–¼é »ç¹ï¼Ÿå¦‚æœæ‚¨æƒ³è¦æ–°å¢ç¬¬äºŒå€‹è£ç½®åˆè©²æ€éº¼è¾¦ï¼Ÿ

## èª²å¾Œæ¸¬é©—

[èª²å¾Œæ¸¬é©—](https://black-meadow-040d15503.1.azurestaticapps.net/quiz/16)

## å›é¡§èˆ‡è‡ªå­¸

IoT Hub SDK æ˜¯é–‹æºçš„ï¼Œé©ç”¨æ–¼ Arduino å’Œ Pythonã€‚åœ¨ GitHub çš„ç¨‹å¼ç¢¼åº«ä¸­ï¼Œæœ‰è¨±å¤šç¯„ä¾‹å±•ç¤ºå¦‚ä½•ä½¿ç”¨ä¸åŒçš„ IoT Hub åŠŸèƒ½ã€‚

* å¦‚æœæ‚¨ä½¿ç”¨çš„æ˜¯ Wio Terminalï¼Œè«‹æŸ¥çœ‹ [GitHub ä¸Šçš„ Arduino ç¯„ä¾‹](https://github.com/Azure/azure-iot-pal-arduino/tree/master/pal/samples)
* å¦‚æœæ‚¨ä½¿ç”¨çš„æ˜¯ Raspberry Pi æˆ–è™›æ“¬è£ç½®ï¼Œè«‹æŸ¥çœ‹ [GitHub ä¸Šçš„ Python ç¯„ä¾‹](https://github.com/Azure/azure-iot-sdk-python/tree/master/azure-iot-hub/samples)

## ä½œæ¥­

[äº†è§£é›²ç«¯æœå‹™](assignment.md)

**å…è²¬è²æ˜**ï¼š  
æœ¬æ–‡ä»¶ä½¿ç”¨ AI ç¿»è­¯æœå‹™ [Co-op Translator](https://github.com/Azure/co-op-translator) é€²è¡Œç¿»è­¯ã€‚æˆ‘å€‘è‡´åŠ›æ–¼æä¾›æº–ç¢ºçš„ç¿»è­¯ï¼Œä½†è«‹æ³¨æ„ï¼Œè‡ªå‹•ç¿»è­¯å¯èƒ½åŒ…å«éŒ¯èª¤æˆ–ä¸æº–ç¢ºä¹‹è™•ã€‚æ‡‰ä»¥åŸå§‹èªè¨€çš„æ–‡ä»¶ä½œç‚ºæ¬Šå¨ä¾†æºã€‚å°æ–¼é—œéµè³‡è¨Šï¼Œå»ºè­°å°‹æ±‚å°ˆæ¥­äººå·¥ç¿»è­¯ã€‚æˆ‘å€‘å°å› ä½¿ç”¨æ­¤ç¿»è­¯è€Œå¼•èµ·çš„ä»»ä½•èª¤è§£æˆ–èª¤è®€æ¦‚ä¸è² è²¬ã€‚