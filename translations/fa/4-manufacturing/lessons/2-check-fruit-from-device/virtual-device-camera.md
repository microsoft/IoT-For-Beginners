<!--
CO_OP_TRANSLATOR_METADATA:
{
  "original_hash": "3ba7150ffc4a6999f6c3cfb4906ec7df",
  "translation_date": "2025-08-25T21:01:28+00:00",
  "source_file": "4-manufacturing/lessons/2-check-fruit-from-device/virtual-device-camera.md",
  "language_code": "fa"
}
-->
# ฺฏุฑูุชู ุชุตูุฑ - ุณุฎุชโุงูุฒุงุฑ ูุฌุงุฒ IoT

ุฏุฑ ุงู ุจุฎุด ุงุฒ ุฏุฑุณุ ุดูุง ฺฉ ุญุณฺฏุฑ ุฏูุฑุจู ุจู ุฏุณุชฺฏุงู IoT ูุฌุงุฒ ุฎูุฏ ุงุถุงูู ูโฺฉูุฏ ู ุชุตุงูุฑ ุฑุง ุงุฒ ุขู ูโุฎูุงูุฏ.

## ุณุฎุชโุงูุฒุงุฑ

ุฏุณุชฺฏุงู IoT ูุฌุงุฒ ุงุฒ ฺฉ ุฏูุฑุจู ุดุจูโุณุงุฒโุดุฏู ุงุณุชูุงุฏู ูโฺฉูุฏ ฺฉู ุง ุชุตุงูุฑ ุฑุง ุงุฒ ูุงูโูุง ุงุฑุณุงู ูโฺฉูุฏ ุง ุงุฒ ูุจโฺฉู ุดูุง.

### ุงูุฒูุฏู ุฏูุฑุจู ุจู CounterFit

ุจุฑุง ุงุณุชูุงุฏู ุงุฒ ฺฉ ุฏูุฑุจู ูุฌุงุฒุ ุจุงุฏ ฺฉ ุฑุง ุจู ุจุฑูุงูู CounterFit ุงุถุงูู ฺฉูุฏ.

#### ูุธูู - ุงูุฒูุฏู ุฏูุฑุจู ุจู CounterFit

ุฏูุฑุจู ุฑุง ุจู ุจุฑูุงูู CounterFit ุงุถุงูู ฺฉูุฏ.

1. ฺฉ ุจุฑูุงูู ูพุงุชูู ุฌุฏุฏ ุฏุฑ ุฑุงุงูู ุฎูุฏ ุฏุฑ ูพูุดูโุง ุจู ูุงู `fruit-quality-detector` ุจุง ฺฉ ูุงู ุจู ูุงู `app.py` ู ฺฉ ูุญุท ูุฌุงุฒ ูพุงุชูู ุงุฌุงุฏ ฺฉูุฏ ู ุจุณุชูโูุง pip ูุฑุจูุท ุจู CounterFit ุฑุง ุงุถุงูู ฺฉูุฏ.

    > โ๏ธ ูโุชูุงูุฏ ุจู [ุฏุณุชูุฑุงูุนููโูุง ุงุฌุงุฏ ู ุชูุธู ฺฉ ูพุฑูฺู ูพุงุชูู CounterFit ุฏุฑ ุฏุฑุณ 1 ุฏุฑ ุตูุฑุช ูุงุฒ ูุฑุงุฌุนู ฺฉูุฏ](../../../1-getting-started/lessons/1-introduction-to-iot/virtual-device.md).

1. ฺฉ ุจุณุชู pip ุงุถุงู ูุตุจ ฺฉูุฏ ุชุง ฺฉ ุดู CounterFit ูุตุจ ุดูุฏ ฺฉู ุจุชูุงูุฏ ุจุง ุดุจูโุณุงุฒ ุจุฑุฎ ุงุฒ [ุจุณุชู pip ูุฑุจูุท ุจู Picamera](https://pypi.org/project/picamera/) ุจุง ุญุณฺฏุฑูุง ุฏูุฑุจู ุงุฑุชุจุงุท ุจุฑูุฑุงุฑ ฺฉูุฏ. ูุทูุฆู ุดูุฏ ฺฉู ุงู ฺฉุงุฑ ุฑุง ุงุฒ ฺฉ ุชุฑููุงู ุจุง ูุญุท ูุฌุงุฒ ูุนุงู ุงูุฌุงู ูโุฏูุฏ.

    ```sh
    pip install counterfit-shims-picamera
    ```

1. ูุทูุฆู ุดูุฏ ฺฉู ุจุฑูุงูู ูุจ CounterFit ุฏุฑ ุญุงู ุงุฌุฑุง ุงุณุช.

1. ฺฉ ุฏูุฑุจู ุงุฌุงุฏ ฺฉูุฏ:

    1. ุฏุฑ ฺฉุงุฏุฑ *Create sensor* ุฏุฑ ูพูู *Sensors*ุ ุงุฒ ููู ฺฉุดู *Sensor type* ฺฏุฒูู *Camera* ุฑุง ุงูุชุฎุงุจ ฺฉูุฏ.

    1. ููุฏุงุฑ *Name* ุฑุง ุจู `Picamera` ุชูุธู ฺฉูุฏ.

    1. ุฏฺฉูู **Add** ุฑุง ุจุฑุง ุงุฌุงุฏ ุฏูุฑุจู ุงูุชุฎุงุจ ฺฉูุฏ.

    ![ุชูุธูุงุช ุฏูุฑุจู](../../../../../translated_images/counterfit-create-camera.a5de97f59c0bd3cbe0416d7e89a3cfe86d19fbae05c641c53a91286412af0a34.fa.png)

    ุฏูุฑุจู ุงุฌุงุฏ ุดุฏู ู ุฏุฑ ูุณุช ุญุณฺฏุฑูุง ุธุงูุฑ ูโุดูุฏ.

    ![ุฏูุฑุจู ุงุฌุงุฏ ุดุฏู](../../../../../translated_images/counterfit-camera.001ec52194c8ee5d3f617173da2c79e1df903d10882adc625cbfc493525125d4.fa.png)

## ุจุฑูุงููโููุณ ุฏูุฑุจู

ุงฺฉููู ูโุชูุงูุฏ ุฏุณุชฺฏุงู IoT ูุฌุงุฒ ุฑุง ุจุฑุง ุงุณุชูุงุฏู ุงุฒ ุฏูุฑุจู ูุฌุงุฒ ุจุฑูุงููโููุณ ฺฉูุฏ.

### ูุธูู - ุจุฑูุงููโููุณ ุฏูุฑุจู

ุฏุณุชฺฏุงู ุฑุง ุจุฑูุงููโููุณ ฺฉูุฏ.

1. ูุทูุฆู ุดูุฏ ฺฉู ุจุฑูุงูู `fruit-quality-detector` ุฏุฑ VS Code ุจุงุฒ ุงุณุช.

1. ูุงู `app.py` ุฑุง ุจุงุฒ ฺฉูุฏ.

1. ฺฉุฏ ุฒุฑ ุฑุง ุจู ุจุงูุง ูุงู `app.py` ุงุถุงูู ฺฉูุฏ ุชุง ุจุฑูุงูู ุจู CounterFit ูุชุตู ุดูุฏ:

    ```python
    from counterfit_connection import CounterFitConnection
    CounterFitConnection.init('127.0.0.1', 5000)
    ```

1. ฺฉุฏ ุฒุฑ ุฑุง ุจู ูุงู `app.py` ุฎูุฏ ุงุถุงูู ฺฉูุฏ:

    ```python
    import io
    from counterfit_shims_picamera import PiCamera
    ```

    ุงู ฺฉุฏ ุจุฑุฎ ุงุฒ ฺฉุชุงุจุฎุงููโูุง ููุฑุฏูุงุฒุ ุงุฒ ุฌููู ฺฉูุงุณ `PiCamera` ุงุฒ ฺฉุชุงุจุฎุงูู counterfit_shims_picamera ุฑุง ูุงุฑุฏ ูโฺฉูุฏ.

1. ฺฉุฏ ุฒุฑ ุฑุง ุฏุฑ ุงุฏุงูู ุงุถุงูู ฺฉูุฏ ุชุง ุฏูุฑุจู ุฑุง ููุฏุงุฑุฏู ุงููู ฺฉูุฏ:

    ```python
    camera = PiCamera()
    camera.resolution = (640, 480)
    camera.rotation = 0
    ```

    ุงู ฺฉุฏ ฺฉ ุดุก PiCamera ุงุฌุงุฏ ูโฺฉูุฏ ู ูุถูุญ ุชุตูุฑ ุฑุง ุจู 640x480 ุชูุธู ูโฺฉูุฏ. ุงฺฏุฑฺู ูุถูุญโูุง ุจุงูุงุชุฑ ูพุดุชุจุงู ูโุดููุฏุ ุงูุง ุทุจููโุจูุฏโฺฉููุฏู ุชุตูุฑ ุฑู ุชุตุงูุฑ ุจุณุงุฑ ฺฉูฺฺฉโุชุฑ (227x227) ฺฉุงุฑ ูโฺฉูุฏุ ุจูุงุจุฑุงู ูุงุฒ ุจู ฺฏุฑูุชู ู ุงุฑุณุงู ุชุตุงูุฑ ุจุฒุฑฺฏโุชุฑ ูุณุช.

    ุฎุท `camera.rotation = 0` ฺุฑุฎุด ุชุตูุฑ ุฑุง ุจุฑ ุญุณุจ ุฏุฑุฌู ุชูุธู ูโฺฉูุฏ. ุงฺฏุฑ ูุงุฒ ุจู ฺุฑุฎุงูุฏู ุชุตูุฑ ุงุฒ ูุจโฺฉู ุง ูุงู ุฏุงุฑุฏุ ุงู ููุฏุงุฑ ุฑุง ุจูโุทูุฑ ููุงุณุจ ุชูุธู ฺฉูุฏ. ุจุฑุง ูุซุงูุ ุงฺฏุฑ ูโุฎูุงูุฏ ุชุตูุฑ ฺฉ ููุฒ ุฏุฑ ุญุงูุช ุงูู ูุจโฺฉู ุฑุง ุจู ุญุงูุช ุนููุฏ ุชุบุฑ ุฏูุฏุ ููุฏุงุฑ `camera.rotation = 90` ุฑุง ุชูุธู ฺฉูุฏ.

1. ฺฉุฏ ุฒุฑ ุฑุง ุงุถุงูู ฺฉูุฏ ุชุง ุชุตูุฑ ุฑุง ุจูโุตูุฑุช ุฏุงุฏูโูุง ุจุงูุฑ ุฐุฎุฑู ฺฉูุฏ:

    ```python
    image = io.BytesIO()
    camera.capture(image, 'jpeg')
    image.seek(0)
    ```

    ุงู ฺฉุฏ ฺฉ ุดุก `BytesIO` ุจุฑุง ุฐุฎุฑู ุฏุงุฏูโูุง ุจุงูุฑ ุงุฌุงุฏ ูโฺฉูุฏ. ุชุตูุฑ ุจูโุตูุฑุช ฺฉ ูุงู JPEG ุงุฒ ุฏูุฑุจู ุฎูุงูุฏู ุดุฏู ู ุฏุฑ ุงู ุดุก ุฐุฎุฑู ูโุดูุฏ. ุงู ุดุก ุฏุงุฑุง ฺฉ ูุดุงูฺฏุฑ ูููุนุช ุงุณุช ฺฉู ูุดุฎุต ูโฺฉูุฏ ุฏุฑ ฺฉุฌุง ุฏุงุฏู ูุฑุงุฑ ุฏุงุฑุฏ ุชุง ุฏุฑ ุตูุฑุช ูุงุฒ ุฏุงุฏูโูุง ุจุดุชุฑ ุจู ุงูุชูุง ุงุถุงูู ุดูุฏุ ุจูุงุจุฑุงู ุฎุท `image.seek(0)` ุงู ูููุนุช ุฑุง ุจู ุงุจุชุฏุง ุฏุงุฏู ุจุงุฒูโฺฏุฑุฏุงูุฏ ุชุง ุชูุงู ุฏุงุฏูโูุง ุจุนุฏุงู ูุงุจู ุฎูุงูุฏู ุจุงุดูุฏ.

1. ุฏุฑ ุงุฏุงููุ ฺฉุฏ ุฒุฑ ุฑุง ุงุถุงูู ฺฉูุฏ ุชุง ุชุตูุฑ ุฑุง ุฏุฑ ฺฉ ูุงู ุฐุฎุฑู ฺฉูุฏ:

    ```python
    with open('image.jpg', 'wb') as image_file:
        image_file.write(image.read())
    ```

    ุงู ฺฉุฏ ฺฉ ูุงู ุจู ูุงู `image.jpg` ุฑุง ุจุฑุง ููุดุชู ุจุงุฒ ูโฺฉูุฏุ ุณูพุณ ุชูุงู ุฏุงุฏูโูุง ุฑุง ุงุฒ ุดุก `BytesIO` ุฎูุงูุฏู ู ุฏุฑ ูุงู ูโููุณุฏ.

    > ๐ ุดูุง ูโุชูุงูุฏ ุชุตูุฑ ุฑุง ูุณุชููุงู ุฏุฑ ฺฉ ูุงู ุจูโุฌุง ฺฉ ุดุก `BytesIO` ุฐุฎุฑู ฺฉูุฏุ ุจุง ุงุฑุณุงู ูุงู ูุงู ุจู ูุฑุงุฎูุงู `camera.capture`. ุฏูู ุงุณุชูุงุฏู ุงุฒ ุดุก `BytesIO` ุงู ุงุณุช ฺฉู ุฏุฑ ุงุฏุงูู ุงู ุฏุฑุณ ูโุชูุงูุฏ ุชุตูุฑ ุฑุง ุจู ุทุจููโุจูุฏโฺฉููุฏู ุชุตูุฑ ุฎูุฏ ุงุฑุณุงู ฺฉูุฏ.

1. ุชุตูุฑ ฺฉู ุฏูุฑุจู ุฏุฑ CounterFit ูโฺฏุฑุฏ ุฑุง ูพฺฉุฑุจูุฏ ฺฉูุฏ. ูโุชูุงูุฏ *Source* ุฑุง ุจู *File* ุชูุธู ฺฉูุฏุ ุณูพุณ ฺฉ ูุงู ุชุตูุฑ ุขูพููุฏ ฺฉูุฏุ ุง *Source* ุฑุง ุจู *WebCam* ุชูุธู ฺฉูุฏ ู ุชุตุงูุฑ ุงุฒ ูุจโฺฉู ุดูุง ฺฏุฑูุชู ุดููุฏ. ูุทูุฆู ุดูุฏ ฺฉู ูพุณ ุงุฒ ุงูุชุฎุงุจ ุชุตูุฑ ุง ูุจโฺฉูุ ุฏฺฉูู **Set** ุฑุง ุงูุชุฎุงุจ ฺฉูุฏ.

    ![CounterFit ุจุง ฺฉ ูุงู ุจูโุนููุงู ููุจุน ุชุตูุฑ ุชูุธู ุดุฏู ู ฺฉ ูุจโฺฉู ฺฉู ุดุฎุต ุฑุง ุฏุฑ ุญุงู ูฺฏู ุฏุงุดุชู ฺฉ ููุฒ ูุดุงู ูโุฏูุฏ](../../../../../translated_images/counterfit-camera-options.eb3bd5150a8e7dffbf24bc5bcaba0cf2cdef95fbe6bbe393695d173817d6b8df.fa.png)

1. ฺฉ ุชุตูุฑ ฺฏุฑูุชู ุดุฏู ู ุจูโุนููุงู `image.jpg` ุฏุฑ ูพูุดู ูุนู ุฐุฎุฑู ูโุดูุฏ. ุงู ูุงู ุฑุง ุฏุฑ ฺฉุงูุดฺฏุฑ VS Code ุฎูุงูุฏ ุฏุฏ. ูุงู ุฑุง ุงูุชุฎุงุจ ฺฉูุฏ ุชุง ุชุตูุฑ ุฑุง ูุดุงูุฏู ฺฉูุฏ. ุงฺฏุฑ ูุงุฒ ุจู ฺุฑุฎุด ุฏุงุฑุฏุ ุฎุท `camera.rotation = 0` ุฑุง ุจูโุทูุฑ ููุงุณุจ ุจูโุฑูุฒุฑุณุงู ฺฉูุฏ ู ุฏูุจุงุฑู ุนฺฉุณ ุจฺฏุฑุฏ.

> ๐ ูโุชูุงูุฏ ุงู ฺฉุฏ ุฑุง ุฏุฑ ูพูุดู [code-camera/virtual-iot-device](../../../../../4-manufacturing/lessons/2-check-fruit-from-device/code-camera/virtual-iot-device) ูพุฏุง ฺฉูุฏ.

๐ ุจุฑูุงูู ุฏูุฑุจู ุดูุง ุจุง ููููุช ุงูุฌุงู ุดุฏ!

**ุณูุจ ูุณุฆููุช**:  
ุงู ุณูุฏ ุจุง ุงุณุชูุงุฏู ุงุฒ ุณุฑูุณ ุชุฑุฌูู ููุด ูุตููุน [Co-op Translator](https://github.com/Azure/co-op-translator) ุชุฑุฌูู ุดุฏู ุงุณุช. ุฏุฑ ุญุงู ฺฉู ูุง ุชูุงุด ูโฺฉูู ุฏูุช ุฑุง ุญูุธ ฺฉููุ ูุทูุงู ุชูุฌู ุฏุงุดุชู ุจุงุดุฏ ฺฉู ุชุฑุฌููโูุง ุฎูุฏฺฉุงุฑ ููฺฉู ุงุณุช ุดุงูู ุฎุทุงูุง ุง ูุงุฏุฑุณุชโูุง ุจุงุดูุฏ. ุณูุฏ ุงุตู ุจู ุฒุจุงู ุงุตู ุขู ุจุงุฏ ุจู ุนููุงู ููุจุน ูุนุชุจุฑ ุฏุฑ ูุธุฑ ฺฏุฑูุชู ุดูุฏ. ุจุฑุง ุงุทูุงุนุงุช ุญุงุชุ ุชูุตู ูโุดูุฏ ุงุฒ ุชุฑุฌูู ุญุฑููโุง ุงูุณุงู ุงุณุชูุงุฏู ฺฉูุฏ. ูุง ูุณุฆููุช ุฏุฑ ูุจุงู ุณูุก ุชูุงููโูุง ุง ุชูุณุฑูุง ูุงุฏุฑุณุช ูุงุด ุงุฒ ุงุณุชูุงุฏู ุงุฒ ุงู ุชุฑุฌูู ูุฏุงุฑู.