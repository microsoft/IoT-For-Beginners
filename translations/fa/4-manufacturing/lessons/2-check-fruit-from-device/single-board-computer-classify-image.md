<!--
CO_OP_TRANSLATOR_METADATA:
{
  "original_hash": "e5896207b304ce1abaf065b8acc0cc79",
  "translation_date": "2025-08-25T20:59:35+00:00",
  "source_file": "4-manufacturing/lessons/2-check-fruit-from-device/single-board-computer-classify-image.md",
  "language_code": "fa"
}
-->
# ุทุจููโุจูุฏ ฺฉ ุชุตูุฑ - ุณุฎุชโุงูุฒุงุฑ ูุฌุงุฒ IoT ู ุฑุฒุจุฑ ูพุง

ุฏุฑ ุงู ุจุฎุด ุงุฒ ุฏุฑุณุ ุชุตูุฑ ฺฏุฑูุชูโุดุฏู ุชูุณุท ุฏูุฑุจู ุฑุง ุจู ุณุฑูุณ Custom Vision ุงุฑุณุงู ูโฺฉูุฏ ุชุง ุทุจููโุจูุฏ ุดูุฏ.

## ุงุฑุณุงู ุชุตุงูุฑ ุจู Custom Vision

ุณุฑูุณ Custom Vision ฺฉ SDK ูพุงุชูู ุฏุงุฑุฏ ฺฉู ูโุชูุงูุฏ ุงุฒ ุขู ุจุฑุง ุทุจููโุจูุฏ ุชุตุงูุฑ ุงุณุชูุงุฏู ฺฉูุฏ.

### ูุธูู - ุงุฑุณุงู ุชุตุงูุฑ ุจู Custom Vision

1. ูพูุดู `fruit-quality-detector` ุฑุง ุฏุฑ VS Code ุจุงุฒ ฺฉูุฏ. ุงฺฏุฑ ุงุฒ ฺฉ ุฏุณุชฺฏุงู ูุฌุงุฒ IoT ุงุณุชูุงุฏู ูโฺฉูุฏุ ูุทูุฆู ุดูุฏ ฺฉู ูุญุท ูุฌุงุฒ ุฏุฑ ุชุฑููุงู ุฏุฑ ุญุงู ุงุฌุฑุง ุงุณุช.

1. SDK ูพุงุชูู ุจุฑุง ุงุฑุณุงู ุชุตุงูุฑ ุจู Custom Vision ุจูโุตูุฑุช ฺฉ ุจุณุชู Pip ุฏุฑ ุฏุณุชุฑุณ ุงุณุช. ุขู ุฑุง ุจุง ุฏุณุชูุฑ ุฒุฑ ูุตุจ ฺฉูุฏ:

    ```sh
    pip3 install azure-cognitiveservices-vision-customvision
    ```

1. ุฏุณุชูุฑุงุช import ุฒุฑ ุฑุง ุจู ุจุงูุง ูุงู `app.py` ุงุถุงูู ฺฉูุฏ:

    ```python
    from msrest.authentication import ApiKeyCredentials
    from azure.cognitiveservices.vision.customvision.prediction import CustomVisionPredictionClient
    ```

    ุงู ุฏุณุชูุฑุงุช ุจุฑุฎ ุงุฒ ูุงฺููโูุง ฺฉุชุงุจุฎุงููโูุง Custom Vision ุฑุง ูุงุฑุฏ ูโฺฉููุฏุ ฺฉ ุจุฑุง ุงุญุฑุงุฒ ููุช ุจุง ฺฉูุฏ ูพุดโุจู ู ุฏฺฏุฑ ุจุฑุง ุงุฑุงุฆู ฺฉ ฺฉูุงุณ ฺฉูุงูุช ูพุดโุจู ฺฉู ูโุชูุงูุฏ Custom Vision ุฑุง ูุฑุงุฎูุงู ฺฉูุฏ.

1. ฺฉุฏ ุฒุฑ ุฑุง ุจู ุงูุชูุง ูุงู ุงุถุงูู ฺฉูุฏ:

    ```python
    prediction_url = '<prediction_url>'
    prediction_key = '<prediction key>'
    ```

    `<prediction_url>` ุฑุง ุจุง URLโุง ฺฉู ูุจูุงู ุงุฒ ุฏุงููฺฏ *Prediction URL* ฺฉูพ ฺฉุฑุฏูโุงุฏ ุฌุงฺฏุฒู ฺฉูุฏ. `<prediction key>` ุฑุง ูุฒ ุจุง ฺฉูุฏ ูพุดโุจู ฺฉู ุงุฒ ููุงู ุฏุงููฺฏ ฺฉูพ ฺฉุฑุฏูโุงุฏ ุฌุงฺฏุฒู ฺฉูุฏ.

1. URL ูพุดโุจู ฺฉู ุชูุณุท ุฏุงููฺฏ *Prediction URL* ุงุฑุงุฆู ุดุฏู ุงุณุชุ ุจุฑุง ุงุณุชูุงุฏู ูุณุชูู ุฏุฑ ูุฑุงุฎูุงู ููุทู ูพุงุงู REST ุทุฑุงุญ ุดุฏู ุงุณุช. SDK ูพุงุชูู ุงุฒ ุจุฎุดโูุง ูุฎุชูู ุงู URL ุฏุฑ ูฺฉุงูโูุง ูุฎุชูู ุงุณุชูุงุฏู ูโฺฉูุฏ. ฺฉุฏ ุฒุฑ ุฑุง ุงุถุงูู ฺฉูุฏ ุชุง ุงู URL ุจู ุจุฎุดโูุง ููุฑุฏูุงุฒ ุชูุณู ุดูุฏ:

    ```python
    parts = prediction_url.split('/')
    endpoint = 'https://' + parts[2]
    project_id = parts[6]
    iteration_name = parts[9]
    ```

    ุงู ฺฉุฏ URL ุฑุง ุชูุณู ูโฺฉูุฏ ู ููุทู ูพุงุงู `https://<location>.api.cognitive.microsoft.com`ุ ุดูุงุณู ูพุฑูฺู ู ูุงู ูุณุฎู ููุชุดุฑุดุฏู ุฑุง ุงุณุชุฎุฑุงุฌ ูโฺฉูุฏ.

1. ฺฉ ุดุก ูพุดโุจูโฺฉููุฏู ุจุฑุง ุงูุฌุงู ูพุดโุจู ุจุง ฺฉุฏ ุฒุฑ ุงุฌุงุฏ ฺฉูุฏ:

    ```python
    prediction_credentials = ApiKeyCredentials(in_headers={"Prediction-key": prediction_key})
    predictor = CustomVisionPredictionClient(endpoint, prediction_credentials)
    ```

    `prediction_credentials` ฺฉูุฏ ูพุดโุจู ุฑุง ุฏุฑ ุจุฑ ูโฺฏุฑุฏ. ุณูพุณ ุงุฒ ุงู ฺฉูุฏ ุจุฑุง ุงุฌุงุฏ ฺฉ ุดุก ฺฉูุงูุช ูพุดโุจู ฺฉู ุจู ููุทู ูพุงุงู ุงุดุงุฑู ูโฺฉูุฏ ุงุณุชูุงุฏู ูโุดูุฏ.

1. ุชุตูุฑ ุฑุง ุจุง ุงุณุชูุงุฏู ุงุฒ ฺฉุฏ ุฒุฑ ุจู Custom Vision ุงุฑุณุงู ฺฉูุฏ:

    ```python
    image.seek(0)
    results = predictor.classify_image(project_id, iteration_name, image)
    ```

    ุงู ฺฉุฏ ุชุตูุฑ ุฑุง ุจู ุงุจุชุฏุง ุขู ุจุงุฒูโฺฏุฑุฏุงูุฏ ู ุณูพุณ ุขู ุฑุง ุจู ฺฉูุงูุช ูพุดโุจู ุงุฑุณุงู ูโฺฉูุฏ.

1. ุฏุฑ ููุงุชุ ูุชุงุฌ ุฑุง ุจุง ฺฉุฏ ุฒุฑ ููุงุด ุฏูุฏ:

    ```python
    for prediction in results.predictions:
        print(f'{prediction.tag_name}:\t{prediction.probability * 100:.2f}%')
    ```

    ุงู ฺฉุฏ ุงุฒ ูุงู ุชูุงู ูพุดโุจูโูุง ุจุงุฒฺฏุดุช ุญููู ูโุฒูุฏ ู ุขูโูุง ุฑุง ุฏุฑ ุชุฑููุงู ููุงุด ูโุฏูุฏ. ุงุญุชูุงูโูุง ุจุงุฒฺฏุดุช ุงุนุฏุงุฏ ุงุนุดุงุฑ ุจู 0 ุชุง 1 ูุณุชูุฏุ ฺฉู 0 ูุดุงูโุฏููุฏู 0% ุงุญุชูุงู ุชุทุงุจู ุจุง ุจุฑฺุณุจ ู 1 ูุดุงูโุฏููุฏู 100% ุงุญุชูุงู ุงุณุช.

    > ๐ ุทุจููโุจูุฏโฺฉููุฏูโูุง ุชุตูุฑ ุฏุฑุตุฏูุง ูุฑุจูุท ุจู ุชูุงู ุจุฑฺุณุจโูุง ฺฉู ุงุณุชูุงุฏู ุดุฏูโุงูุฏ ุฑุง ุจุงุฒูโฺฏุฑุฏุงููุฏ. ูุฑ ุจุฑฺุณุจ ฺฉ ุงุญุชูุงู ุฏุงุฑุฏ ฺฉู ูุดุงู ูโุฏูุฏ ุชุตูุฑ ุจุง ุขู ุจุฑฺุณุจ ุชุทุงุจู ุฏุงุฑุฏ.

1. ฺฉุฏ ุฎูุฏ ุฑุง ุงุฌุฑุง ฺฉูุฏุ ุฏุฑ ุญุงู ฺฉู ุฏูุฑุจู ุดูุง ุจู ุณูุช ูููโุงุ ุง ูุฌููุนูโุง ููุงุณุจ ุงุฒ ุชุตุงูุฑุ ุง ูููโุง ฺฉู ุฏุฑ ูุจโฺฉู ุดูุง ูุงุจู ูุดุงูุฏู ุงุณุช (ุงฺฏุฑ ุงุฒ ุณุฎุชโุงูุฒุงุฑ ูุฌุงุฒ IoT ุงุณุชูุงุฏู ูโฺฉูุฏ) ุงุดุงุฑู ูโฺฉูุฏ. ุฎุฑูุฌ ุฑุง ุฏุฑ ฺฉูุณูู ูุดุงูุฏู ุฎูุงูุฏ ฺฉุฑุฏ:

    ```output
    (.venv) โ  fruit-quality-detector python app.py
    ripe:   56.84%
    unripe: 43.16%
    ```

    ุดูุง ูโุชูุงูุฏ ุชุตูุฑ ฺฉู ฺฏุฑูุชู ุดุฏู ุงุณุช ุฑุง ุจุจูุฏ ู ุงู ููุงุฏุฑ ุฑุง ุฏุฑ ุชุจ **Predictions** ุฏุฑ Custom Vision ูุดุงูุฏู ฺฉูุฏ.

    ![ฺฉ ููุฒ ุฏุฑ Custom Vision ฺฉู ุจุง ุงุญุชูุงู 56.8% ุฑุณุฏู ู ุจุง ุงุญุชูุงู 43.1% ูุงุฑุณ ูพุดโุจู ุดุฏู ุงุณุช](../../../../../translated_images/custom-vision-banana-prediction.30cdff4e1d72db5d9a0be0193790a47c2b387da034e12dc1314dd57ca2131b59.fa.png)

> ๐ ูโุชูุงูุฏ ุงู ฺฉุฏ ุฑุง ุฏุฑ ูพูุดู [code-classify/pi](../../../../../4-manufacturing/lessons/2-check-fruit-from-device/code-classify/pi) ุง [code-classify/virtual-iot-device](../../../../../4-manufacturing/lessons/2-check-fruit-from-device/code-classify/virtual-iot-device) ูพุฏุง ฺฉูุฏ.

๐ ุจุฑูุงูู ุทุจููโุจูุฏ ฺฉูุช ููู ุดูุง ููููุชโุขูุฒ ุจูุฏ!

**ุณูุจ ูุณุฆููุช**:  
ุงู ุณูุฏ ุจุง ุงุณุชูุงุฏู ุงุฒ ุณุฑูุณ ุชุฑุฌูู ููุด ูุตููุน [Co-op Translator](https://github.com/Azure/co-op-translator) ุชุฑุฌูู ุดุฏู ุงุณุช. ุฏุฑ ุญุงู ฺฉู ูุง ุชูุงุด ูโฺฉูู ุฏูุช ุฑุง ุญูุธ ฺฉููุ ูุทูุงู ุชูุฌู ุฏุงุดุชู ุจุงุดุฏ ฺฉู ุชุฑุฌููโูุง ุฎูุฏฺฉุงุฑ ููฺฉู ุงุณุช ุดุงูู ุฎุทุงูุง ุง ูุงุฏุฑุณุชโูุง ุจุงุดูุฏ. ุณูุฏ ุงุตู ุจู ุฒุจุงู ุงุตู ุขู ุจุงุฏ ุจู ุนููุงู ููุจุน ูุนุชุจุฑ ุฏุฑ ูุธุฑ ฺฏุฑูุชู ุดูุฏ. ุจุฑุง ุงุทูุงุนุงุช ุญุณุงุณุ ุชูุตู ูโุดูุฏ ุงุฒ ุชุฑุฌูู ุญุฑููโุง ุงูุณุงู ุงุณุชูุงุฏู ฺฉูุฏ. ูุง ูุณุฆููุช ุฏุฑ ูุจุงู ุณูุก ุชูุงููโูุง ุง ุชูุณุฑูุง ูุงุฏุฑุณุช ูุงุด ุงุฒ ุงุณุชูุงุฏู ุงุฒ ุงู ุชุฑุฌูู ูุฏุงุฑู.