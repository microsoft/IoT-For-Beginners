<!--
CO_OP_TRANSLATOR_METADATA:
{
  "original_hash": "4db8a3879a53490513571df2f6cf7641",
  "translation_date": "2025-08-25T22:06:33+00:00",
  "source_file": "1-getting-started/lessons/3-sensors-and-actuators/pi-actuator.md",
  "language_code": "fa"
}
-->
# ساخت چراغ خواب - رزبری پای

در این بخش از درس، شما یک LED به رزبری پای خود اضافه می‌کنید و از آن برای ساخت یک چراغ خواب استفاده می‌کنید.

## سخت‌افزار

چراغ خواب اکنون به یک عملگر نیاز دارد.

عملگر یک **LED** است، یک [دیود نورافشان](https://wikipedia.org/wiki/Light-emitting_diode) که هنگام عبور جریان از آن نور تولید می‌کند. این یک عملگر دیجیتال است که دو حالت دارد: روشن و خاموش. ارسال مقدار 1 LED را روشن می‌کند و مقدار 0 آن را خاموش می‌کند. LED یک عملگر خارجی Grove است و باید به Grove Base hat روی رزبری پای متصل شود.

منطق چراغ خواب به صورت شبه‌کد:

```output
Check the light level.
If the light is less than 300
    Turn the LED on
Otherwise
    Turn the LED off
```

### اتصال LED

LED Grove به صورت یک ماژول با مجموعه‌ای از LED‌ها ارائه می‌شود که به شما امکان انتخاب رنگ را می‌دهد.

#### وظیفه - اتصال LED

LED را وصل کنید.

![یک LED Grove](../../../../../translated_images/grove-led.6c853be93f473cf2c439cfc74bb1064732b22251a83cedf66e62f783f9cc1a79.fa.png)

1. LED مورد علاقه خود را انتخاب کنید و پایه‌های آن را در دو سوراخ روی ماژول LED قرار دهید.

    LED‌ها دیودهای نورافشان هستند و دیودها دستگاه‌های الکترونیکی هستند که فقط می‌توانند جریان را در یک جهت حمل کنند. این بدان معناست که LED باید به درستی وصل شود، در غیر این صورت کار نخواهد کرد.

    یکی از پایه‌های LED پین مثبت است و دیگری پین منفی. LED کاملاً گرد نیست و یک طرف آن کمی صاف‌تر است. طرف صاف‌تر پین منفی است. هنگام اتصال LED به ماژول، مطمئن شوید که پایه سمت گرد به سوکت علامت‌گذاری شده **+** در قسمت بیرونی ماژول وصل شده است و طرف صاف‌تر به سوکت نزدیک‌تر به وسط ماژول وصل شده است.

1. ماژول LED دارای یک دکمه چرخشی است که به شما امکان کنترل روشنایی را می‌دهد. ابتدا آن را کاملاً بالا ببرید، با چرخاندن آن به سمت خلاف جهت عقربه‌های ساعت تا جایی که ممکن است، با استفاده از یک پیچ‌گوشتی کوچک سر فیلیپس.

1. یک سر کابل Grove را به سوکت روی ماژول LED وارد کنید. این کابل فقط به یک جهت وارد می‌شود.

1. با خاموش بودن رزبری پای، سر دیگر کابل Grove را به سوکت دیجیتال علامت‌گذاری شده **D5** روی Grove Base hat متصل به پای وصل کنید. این سوکت دومین سوکت از سمت چپ در ردیف سوکت‌های کنار پین‌های GPIO است.

![LED Grove متصل به سوکت D5](../../../../../translated_images/pi-led.97f1d474981dc35d1c7996c7b17de355d3d0a6bc9606d79fa5f89df933415122.fa.png)

## برنامه‌نویسی چراغ خواب

اکنون می‌توان چراغ خواب را با استفاده از حسگر نور Grove و LED Grove برنامه‌نویسی کرد.

### وظیفه - برنامه‌نویسی چراغ خواب

چراغ خواب را برنامه‌نویسی کنید.

1. رزبری پای را روشن کنید و منتظر بمانید تا بوت شود.

1. پروژه چراغ خواب را در VS Code باز کنید که در بخش قبلی این تکلیف ایجاد کرده‌اید، چه به صورت مستقیم روی پای اجرا شود یا با استفاده از افزونه Remote SSH متصل شود.

1. کد زیر را به فایل `app.py` اضافه کنید تا یک کتابخانه مورد نیاز وارد شود. این کد باید در بالا، زیر خطوط دیگر `import` اضافه شود.

    ```python
    from grove.grove_led import GroveLed
    ```

    دستور `from grove.grove_led import GroveLed` کتابخانه `GroveLed` را از کتابخانه‌های پایتون Grove وارد می‌کند. این کتابخانه کدی برای تعامل با LED Grove دارد.

1. کد زیر را بعد از اعلان `light_sensor` اضافه کنید تا یک نمونه از کلاسی که LED را مدیریت می‌کند ایجاد شود:

    ```python
    led = GroveLed(5)
    ```

    خط `led = GroveLed(5)` یک نمونه از کلاس `GroveLed` ایجاد می‌کند که به پین **D5** متصل می‌شود - پین دیجیتال Grove که LED به آن متصل است.

    > 💁 همه سوکت‌ها شماره پین منحصر به فرد دارند. پین‌های 0، 2، 4 و 6 پین‌های آنالوگ هستند، پین‌های 5، 16، 18، 22، 24 و 26 پین‌های دیجیتال هستند.

1. یک بررسی داخل حلقه `while` و قبل از `time.sleep` اضافه کنید تا سطح نور بررسی شود و LED روشن یا خاموش شود:

    ```python
    if light < 300:
        led.on()
    else:
        led.off()
    ```

    این کد مقدار `light` را بررسی می‌کند. اگر این مقدار کمتر از 300 باشد، متد `on` کلاس `GroveLed` را فراخوانی می‌کند که مقدار دیجیتال 1 را به LED ارسال می‌کند و آن را روشن می‌کند. اگر مقدار نور برابر یا بیشتر از 300 باشد، متد `off` را فراخوانی می‌کند که مقدار دیجیتال 0 را ارسال می‌کند و LED را خاموش می‌کند.

    > 💁 این کد باید به همان سطح خط `print('Light level:', light)` تورفتگی داشته باشد تا داخل حلقه while باشد!

    > 💁 هنگام ارسال مقادیر دیجیتال به عملگرها، مقدار 0 برابر با 0 ولت است و مقدار 1 برابر با حداکثر ولتاژ دستگاه است. برای رزبری پای با حسگرها و عملگرهای Grove، ولتاژ مقدار 1 برابر با 3.3 ولت است.

1. از ترمینال VS Code، دستور زیر را اجرا کنید تا برنامه پایتون خود را اجرا کنید:

    ```sh
    python3 app.py
    ```

    مقادیر نور در کنسول نمایش داده می‌شود.

    ```output
    pi@raspberrypi:~/nightlight $ python3 app.py 
    Light level: 634
    Light level: 634
    Light level: 634
    Light level: 230
    Light level: 104
    Light level: 290
    ```

1. حسگر نور را بپوشانید و باز کنید. مشاهده کنید که چگونه LED روشن می‌شود اگر سطح نور 300 یا کمتر باشد، و خاموش می‌شود وقتی سطح نور بیشتر از 300 باشد.

    > 💁 اگر LED روشن نمی‌شود، مطمئن شوید که به درستی وصل شده است و دکمه چرخشی به طور کامل روشن تنظیم شده است.

![LED متصل به پای که با تغییر سطح نور روشن و خاموش می‌شود](../../../../../images/pi-running-assignment-1-1.gif)

> 💁 می‌توانید این کد را در پوشه [code-actuator/pi](../../../../../1-getting-started/lessons/3-sensors-and-actuators/code-actuator/pi) پیدا کنید.

😀 برنامه چراغ خواب شما موفقیت‌آمیز بود!

**سلب مسئولیت**:  
این سند با استفاده از سرویس ترجمه هوش مصنوعی [Co-op Translator](https://github.com/Azure/co-op-translator) ترجمه شده است. در حالی که ما تلاش می‌کنیم دقت را حفظ کنیم، لطفاً توجه داشته باشید که ترجمه‌های خودکار ممکن است شامل خطاها یا نادرستی‌ها باشند. سند اصلی به زبان اصلی آن باید به عنوان منبع معتبر در نظر گرفته شود. برای اطلاعات حساس، توصیه می‌شود از ترجمه حرفه‌ای انسانی استفاده کنید. ما مسئولیتی در قبال سوء تفاهم‌ها یا تفسیرهای نادرست ناشی از استفاده از این ترجمه نداریم.