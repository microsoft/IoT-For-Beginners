<!--
CO_OP_TRANSLATOR_METADATA:
{
  "original_hash": "1226517aae5f5b6f904434670394c688",
  "translation_date": "2025-08-25T21:54:54+00:00",
  "source_file": "1-getting-started/lessons/4-connect-internet/single-board-computer-telemetry.md",
  "language_code": "fa"
}
-->
# ฺฉูุชุฑู ฺุฑุงุบ ุฎูุงุจ ุงุฒ ุทุฑู ุงูุชุฑูุช - ุณุฎุชโุงูุฒุงุฑ ูุฌุงุฒ IoT ู ุฑุฒุจุฑ ูพุง

ุฏุฑ ุงู ุจุฎุด ุงุฒ ุฏุฑุณุ ุดูุง ุฏุงุฏูโูุง ุชููโูุชุฑ ุดุงูู ุณุทุญ ููุฑ ุฑุง ุงุฒ ุฑุฒุจุฑ ูพุง ุง ุฏุณุชฺฏุงู ูุฌุงุฒ IoT ุฎูุฏ ุจู ฺฉ MQTT broker ุงุฑุณุงู ุฎูุงูุฏ ฺฉุฑุฏ.

## ุงุฑุณุงู ุชููโูุชุฑ

ฺฏุงู ุจุนุฏ ุงุฌุงุฏ ฺฉ ุณูุฏ JSON ุจุง ุฏุงุฏูโูุง ุชููโูุชุฑ ู ุงุฑุณุงู ุขู ุจู MQTT broker ุงุณุช.

### ูุธูู

ุฏุงุฏูโูุง ุชููโูุชุฑ ุฑุง ุจู MQTT broker ุงุฑุณุงู ฺฉูุฏ.

1. ูพุฑูฺู ฺุฑุงุบ ุฎูุงุจ ุฑุง ุฏุฑ VS Code ุจุงุฒ ฺฉูุฏ.

1. ุงฺฏุฑ ุงุฒ ฺฉ ุฏุณุชฺฏุงู ูุฌุงุฒ IoT ุงุณุชูุงุฏู ูโฺฉูุฏุ ูุทูุฆู ุดูุฏ ฺฉู ุชุฑููุงู ุฏุฑ ุญุงู ุงุฌุฑุง ูุญุท ูุฌุงุฒ ุงุณุช. ุงฺฏุฑ ุงุฒ ุฑุฒุจุฑ ูพุง ุงุณุชูุงุฏู ูโฺฉูุฏุ ูุงุฒ ุจู ุงุณุชูุงุฏู ุงุฒ ูุญุท ูุฌุงุฒ ูุฏุงุฑุฏ.

1. ูุงุฑุฏ ฺฉุฑุฏู ุฒุฑ ุฑุง ุจู ุงุจุชุฏุง ูุงู `app.py` ุงุถุงูู ฺฉูุฏ:

    ```python
    import json
    ```

    ฺฉุชุงุจุฎุงูู `json` ุจุฑุง ฺฉุฏฺฏุฐุงุฑ ุฏุงุฏูโูุง ุชููโูุชุฑ ุจู ุนููุงู ฺฉ ุณูุฏ JSON ุงุณุชูุงุฏู ูโุดูุฏ.

1. ุนุจุงุฑุช ุฒุฑ ุฑุง ุจุนุฏ ุงุฒ ุชุนุฑู `client_name` ุงุถุงูู ฺฉูุฏ:

    ```python
    client_telemetry_topic = id + '/telemetry'
    ```

    ูุชุบุฑ `client_telemetry_topic` ููุถูุน MQTT ุงุณุช ฺฉู ุฏุณุชฺฏุงู ุณุทุญ ููุฑ ุฑุง ุจู ุขู ุงุฑุณุงู ุฎูุงูุฏ ฺฉุฑุฏ.

1. ูุญุชูุง ุญููู `while True:` ุฏุฑ ุงูุชูุง ูุงู ุฑุง ุจุง ฺฉุฏ ุฒุฑ ุฌุงฺฏุฒู ฺฉูุฏ:

    ```python
    while True:
        light = light_sensor.light
        telemetry = json.dumps({'light' : light})

        print("Sending telemetry ", telemetry)
    
        mqtt_client.publish(client_telemetry_topic, telemetry)
    
        time.sleep(5)
    ```

    ุงู ฺฉุฏ ุณุทุญ ููุฑ ุฑุง ุฏุฑ ฺฉ ุณูุฏ JSON ุจุณุชูโุจูุฏ ฺฉุฑุฏู ู ุขู ุฑุง ุจู MQTT broker ุงุฑุณุงู ูโฺฉูุฏ. ุณูพุณ ุจุฑุง ฺฉุงูุด ูุฑฺฉุงูุณ ุงุฑุณุงู ูพุงูโูุงุ ุจุฑูุงูู ุฑุง ูุชููู ูโฺฉูุฏ.

1. ฺฉุฏ ุฑุง ุจู ููุงู ุฑูุด ฺฉู ุฏุฑ ุจุฎุด ูุจู ุชูุฑู ุงุฌุฑุง ฺฉุฑุฏุฏุ ุงุฌุฑุง ฺฉูุฏ. ุงฺฏุฑ ุงุฒ ฺฉ ุฏุณุชฺฏุงู ูุฌุงุฒ IoT ุงุณุชูุงุฏู ูโฺฉูุฏุ ูุทูุฆู ุดูุฏ ฺฉู ุจุฑูุงูู CounterFit ุฏุฑ ุญุงู ุงุฌุฑุง ุงุณุช ู ุญุณฺฏุฑ ููุฑ ู LED ุฑู ูพูโูุง ุตุญุญ ุงุฌุงุฏ ุดุฏูโุงูุฏ.

    ```output
    (.venv) โ  nightlight python app.py 
    MQTT connected!
    Sending telemetry  {"light": 0}
    Sending telemetry  {"light": 0}
    ```

> ๐ ูโุชูุงูุฏ ุงู ฺฉุฏ ุฑุง ุฏุฑ ูพูุดู [code-telemetry/virtual-device](../../../../../1-getting-started/lessons/4-connect-internet/code-telemetry/virtual-device) ุง ูพูุดู [code-telemetry/pi](../../../../../1-getting-started/lessons/4-connect-internet/code-telemetry/pi) ูพุฏุง ฺฉูุฏ.

๐ ุดูุง ุจุง ููููุช ุฏุงุฏูโูุง ุชููโูุชุฑ ุฑุง ุงุฒ ุฏุณุชฺฏุงู ุฎูุฏ ุงุฑุณุงู ฺฉุฑุฏุฏ.

**ุณูุจ ูุณุฆููุช**:  
ุงู ุณูุฏ ุจุง ุงุณุชูุงุฏู ุงุฒ ุณุฑูุณ ุชุฑุฌูู ููุด ูุตููุน [Co-op Translator](https://github.com/Azure/co-op-translator) ุชุฑุฌูู ุดุฏู ุงุณุช. ุฏุฑ ุญุงู ฺฉู ูุง ุชูุงุด ูโฺฉูู ุฏูุช ุฑุง ุญูุธ ฺฉููุ ูุทูุงู ุชูุฌู ุฏุงุดุชู ุจุงุดุฏ ฺฉู ุชุฑุฌููโูุง ุฎูุฏฺฉุงุฑ ููฺฉู ุงุณุช ุดุงูู ุฎุทุงูุง ุง ูุงุฏุฑุณุชโูุง ุจุงุดูุฏ. ุณูุฏ ุงุตู ุจู ุฒุจุงู ุงุตู ุขู ุจุงุฏ ุจู ุนููุงู ููุจุน ูุนุชุจุฑ ุฏุฑ ูุธุฑ ฺฏุฑูุชู ุดูุฏ. ุจุฑุง ุงุทูุงุนุงุช ุญุณุงุณุ ุชูุตู ูโุดูุฏ ุงุฒ ุชุฑุฌูู ุญุฑููโุง ุงูุณุงู ุงุณุชูุงุฏู ฺฉูุฏ. ูุง ูุณุฆููุช ุฏุฑ ูุจุงู ุณูุก ุชูุงููโูุง ุง ุชูุณุฑูุง ูุงุฏุฑุณุช ูุงุด ุงุฒ ุงุณุชูุงุฏู ุงุฒ ุงู ุชุฑุฌูู ูุฏุงุฑู.