<!--
CO_OP_TRANSLATOR_METADATA:
{
  "original_hash": "c527ce85d69b1a3875366ec61cbed8aa",
  "translation_date": "2025-08-25T21:54:29+00:00",
  "source_file": "1-getting-started/lessons/4-connect-internet/single-board-computer-commands.md",
  "language_code": "fa"
}
-->
# ฺฉูุชุฑู ฺุฑุงุบ ุฎูุงุจ ุฎูุฏ ุงุฒ ุทุฑู ุงูุชุฑูุช - ุณุฎุชโุงูุฒุงุฑ ูุฌุงุฒ IoT ู Raspberry Pi

ุฏุฑ ุงู ุจุฎุด ุงุฒ ุฏุฑุณุ ุดูุง ุจู ุฏุณุชูุฑุงุช ุงุฑุณุงูโุดุฏู ุงุฒ ฺฉ MQTT broker ุจู Raspberry Pi ุง ุฏุณุชฺฏุงู IoT ูุฌุงุฒ ุฎูุฏ ุงุดุชุฑุงฺฉ ุฎูุงูุฏ ฺฉุฑุฏ.

## ุงุดุชุฑุงฺฉ ุฏุฑ ุฏุณุชูุฑุงุช

ูุฑุญูู ุจุนุฏ ุงุดุชุฑุงฺฉ ุฏุฑ ุฏุณุชูุฑุงุช ุงุฑุณุงูโุดุฏู ุงุฒ MQTT broker ู ูพุงุณุฎ ุจู ุขูโูุง ุงุณุช.

### ูุธูู

ุงุดุชุฑุงฺฉ ุฏุฑ ุฏุณุชูุฑุงุช.

1. ูพุฑูฺู ฺุฑุงุบ ุฎูุงุจ ุฑุง ุฏุฑ VS Code ุจุงุฒ ฺฉูุฏ.

1. ุงฺฏุฑ ุงุฒ ฺฉ ุฏุณุชฺฏุงู IoT ูุฌุงุฒ ุงุณุชูุงุฏู ูโฺฉูุฏุ ูุทูุฆู ุดูุฏ ฺฉู ุชุฑููุงู ูุญุท ูุฌุงุฒ ุฑุง ุงุฌุฑุง ูโฺฉูุฏ. ุงฺฏุฑ ุงุฒ Raspberry Pi ุงุณุชูุงุฏู ูโฺฉูุฏุ ูุงุฒ ุจู ุงุณุชูุงุฏู ุงุฒ ูุญุท ูุฌุงุฒ ูุฏุงุฑุฏ.

1. ฺฉุฏ ุฒุฑ ุฑุง ุจุนุฏ ุงุฒ ุชุนุฑูโูุง `client_telemetry_topic` ุงุถุงูู ฺฉูุฏ:

    ```python
    server_command_topic = id + '/commands'
    ```

    `server_command_topic` ููุถูุน MQTT ุงุณุช ฺฉู ุฏุณุชฺฏุงู ุจุฑุง ุฏุฑุงูุช ุฏุณุชูุฑุงุช LED ุฏุฑ ุขู ุงุดุชุฑุงฺฉ ุฎูุงูุฏ ฺฉุฑุฏ.

1. ฺฉุฏ ุฒุฑ ุฑุง ุฏุฑุณุช ุจุงูุง ุญููู ุงุตูุ ุจุนุฏ ุงุฒ ุฎุท `mqtt_client.loop_start()` ุงุถุงูู ฺฉูุฏ:

    ```python
    def handle_command(client, userdata, message):
        payload = json.loads(message.payload.decode())
        print("Message received:", payload)
    
        if payload['led_on']:
            led.on()
        else:
            led.off()
    
    mqtt_client.subscribe(server_command_topic)
    mqtt_client.on_message = handle_command
    ```

    ุงู ฺฉุฏ ฺฉ ุชุงุจุน ุจู ูุงู `handle_command` ุชุนุฑู ูโฺฉูุฏ ฺฉู ฺฉ ูพุงู ุฑุง ุจูโุนููุงู ฺฉ ุณูุฏ JSON ูโุฎูุงูุฏ ู ููุฏุงุฑ ูฺฺฏ `led_on` ุฑุง ุจุฑุฑุณ ูโฺฉูุฏ. ุงฺฏุฑ ููุฏุงุฑ ุขู `True` ุจุงุดุฏุ LED ุฑูุดู ูโุดูุฏุ ุฏุฑ ุบุฑ ุงู ุตูุฑุช ุฎุงููุด ูโุดูุฏ.

    ฺฉูุงูุช MQTT ุฏุฑ ููุถูุน ฺฉู ุณุฑูุฑ ูพุงูโูุง ุฑุง ุงุฑุณุงู ุฎูุงูุฏ ฺฉุฑุฏ ุงุดุชุฑุงฺฉ ูโฺฉูุฏ ู ุชุงุจุน `handle_command` ุฑุง ุชูุธู ูโฺฉูุฏ ุชุง ููฺฏุงู ุฏุฑุงูุช ูพุงู ูุฑุงุฎูุงู ุดูุฏ.

    > ๐ ููุฏูุฑ `on_message` ุจุฑุง ุชูุงู ููุถูุนุงุช ฺฉู ุฏุฑ ุขูโูุง ุงุดุชุฑุงฺฉ ุฏุงุฑุฏ ูุฑุงุฎูุงู ูโุดูุฏ. ุงฺฏุฑ ุจุนุฏุงู ฺฉุฏ ุจููุณุฏ ฺฉู ุจู ฺูุฏู ููุถูุน ฺฏูุด ุฏูุฏุ ูโุชูุงูุฏ ููุถูุน ฺฉู ูพุงู ุจู ุขู ุงุฑุณุงู ุดุฏู ุงุณุช ุฑุง ุงุฒ ุดุก `message` ฺฉู ุจู ุชุงุจุน ููุฏูุฑ ุงุฑุณุงู ูโุดูุฏุ ุฏุฑุงูุช ฺฉูุฏ.

1. ฺฉุฏ ุฑุง ุจู ููุงู ุฑูุด ฺฉู ฺฉุฏ ุจุฎุด ูุจู ุชฺฉูู ุฑุง ุงุฌุฑุง ฺฉุฑุฏุฏุ ุงุฌุฑุง ฺฉูุฏ. ุงฺฏุฑ ุงุฒ ฺฉ ุฏุณุชฺฏุงู IoT ูุฌุงุฒ ุงุณุชูุงุฏู ูโฺฉูุฏุ ูุทูุฆู ุดูุฏ ฺฉู ุจุฑูุงูู CounterFit ุฏุฑ ุญุงู ุงุฌุฑุง ุงุณุช ู ุญุณฺฏุฑ ููุฑ ู LED ุฏุฑ ูพูโูุง ุตุญุญ ุงุฌุงุฏ ุดุฏูโุงูุฏ.

1. ุณุทุญ ููุฑ ุชุดุฎุต ุฏุงุฏูโุดุฏู ุชูุณุท ุฏุณุชฺฏุงู ูุฒฺฉ ุง ูุฌุงุฒ ุฎูุฏ ุฑุง ุชูุธู ฺฉูุฏ. ูพุงูโูุง ุฏุฑุงูุชโุดุฏู ู ุฏุณุชูุฑุงุช ุงุฑุณุงูโุดุฏู ุฏุฑ ุชุฑููุงู ููุดุชู ุฎูุงููุฏ ุดุฏ. LED ูุฒ ุจุณุชู ุจู ุณุทุญ ููุฑ ุฑูุดู ู ุฎุงููุด ุฎูุงูุฏ ุดุฏ.

> ๐ ุดูุง ูโุชูุงูุฏ ุงู ฺฉุฏ ุฑุง ุฏุฑ ูพูุดู [code-commands/virtual-device](../../../../../1-getting-started/lessons/4-connect-internet/code-commands/virtual-device) ุง ูพูุดู [code-commands/pi](../../../../../1-getting-started/lessons/4-connect-internet/code-commands/pi) ูพุฏุง ฺฉูุฏ.

๐ ุดูุง ุจุง ููููุช ุฏุณุชฺฏุงู ุฎูุฏ ุฑุง ุจุฑุง ูพุงุณุฎ ุจู ุฏุณุชูุฑุงุช ุงุฒ ฺฉ MQTT broker ฺฉุฏููุณ ฺฉุฑุฏุฏ.

**ุณูุจ ูุณุฆููุช**:  
ุงู ุณูุฏ ุจุง ุงุณุชูุงุฏู ุงุฒ ุณุฑูุณ ุชุฑุฌูู ููุด ูุตููุน [Co-op Translator](https://github.com/Azure/co-op-translator) ุชุฑุฌูู ุดุฏู ุงุณุช. ุฏุฑ ุญุงู ฺฉู ูุง ุชูุงุด ูโฺฉูู ุฏูุช ุฑุง ุญูุธ ฺฉููุ ูุทูุงู ุชูุฌู ุฏุงุดุชู ุจุงุดุฏ ฺฉู ุชุฑุฌููโูุง ุฎูุฏฺฉุงุฑ ููฺฉู ุงุณุช ุดุงูู ุฎุทุงูุง ุง ูุงุฏุฑุณุชโูุง ุจุงุดูุฏ. ุณูุฏ ุงุตู ุจู ุฒุจุงู ุงุตู ุขู ุจุงุฏ ุจู ุนููุงู ููุจุน ูุนุชุจุฑ ุฏุฑ ูุธุฑ ฺฏุฑูุชู ุดูุฏ. ุจุฑุง ุงุทูุงุนุงุช ุญุณุงุณุ ุชูุตู ูโุดูุฏ ุงุฒ ุชุฑุฌูู ุญุฑููโุง ุงูุณุงู ุงุณุชูุงุฏู ฺฉูุฏ. ูุง ูุณุฆููุช ุฏุฑ ูุจุงู ุณูุก ุชูุงููโูุง ุง ุชูุณุฑูุง ูุงุฏุฑุณุช ูุงุด ุงุฒ ุงุณุชูุงุฏู ุงุฒ ุงู ุชุฑุฌูู ูุฏุงุฑู.