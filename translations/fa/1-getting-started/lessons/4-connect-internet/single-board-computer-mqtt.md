<!--
CO_OP_TRANSLATOR_METADATA:
{
  "original_hash": "90fb93446e03c38f3c0e4009c2471906",
  "translation_date": "2025-08-25T21:59:59+00:00",
  "source_file": "1-getting-started/lessons/4-connect-internet/single-board-computer-mqtt.md",
  "language_code": "fa"
}
-->
# ฺฉูุชุฑู ฺุฑุงุบ ุฎูุงุจ ุฎูุฏ ุงุฒ ุทุฑู ุงูุชุฑูุช - ุณุฎุชโุงูุฒุงุฑ ูุฌุงุฒ IoT ู ุฑุฒุจุฑ ูพุง

ุฏุณุชฺฏุงู IoT ุจุงุฏ ฺฉุฏููุณ ุดูุฏ ุชุง ุจุชูุงูุฏ ุจุง *test.mosquitto.org* ุงุฒ ุทุฑู MQTT ุงุฑุชุจุงุท ุจุฑูุฑุงุฑ ฺฉูุฏุ ููุงุฏุฑ ุชููโูุชุฑ ุฑุง ุจุง ุฎูุงูุฏู ุญุณฺฏุฑ ููุฑ ุงุฑุณุงู ฺฉูุฏ ู ุฏุณุชูุฑุงุช ฺฉูุชุฑู LED ุฑุง ุฏุฑุงูุช ฺฉูุฏ.

ุฏุฑ ุงู ุจุฎุด ุงุฒ ุฏุฑุณุ ุดูุง ุฑุฒุจุฑ ูพุง ุง ุฏุณุชฺฏุงู ูุฌุงุฒ IoT ุฎูุฏ ุฑุง ุจู ฺฉ MQTT broker ูุชุตู ุฎูุงูุฏ ฺฉุฑุฏ.

## ูุตุจ ุจุณุชู ฺฉูุงูุช MQTT

ุจุฑุง ุงุฑุชุจุงุท ุจุง MQTT brokerุ ุจุงุฏ ฺฉ ฺฉุชุงุจุฎุงูู MQTT ุฑุง ุจู ุตูุฑุช ุจุณุชู pip ุฑู ุฑุฒุจุฑ ูพุง ุง ูุญุท ูุฌุงุฒ ุฎูุฏ (ุฏุฑ ุตูุฑุช ุงุณุชูุงุฏู ุงุฒ ุฏุณุชฺฏุงู ูุฌุงุฒ) ูุตุจ ฺฉูุฏ.

### ูุธูู

ูุตุจ ุจุณุชู pip

1. ูพุฑูฺู ฺุฑุงุบ ุฎูุงุจ ุฑุง ุฏุฑ VS Code ุจุงุฒ ฺฉูุฏ.

1. ุงฺฏุฑ ุงุฒ ุฏุณุชฺฏุงู ูุฌุงุฒ IoT ุงุณุชูุงุฏู ูโฺฉูุฏุ ูุทูุฆู ุดูุฏ ฺฉู ุชุฑููุงู ุฏุฑ ุญุงู ุงุฌุฑุง ูุญุท ูุฌุงุฒ ุงุณุช. ุงฺฏุฑ ุงุฒ ุฑุฒุจุฑ ูพุง ุงุณุชูุงุฏู ูโฺฉูุฏุ ูุงุฒ ุจู ุงุณุชูุงุฏู ุงุฒ ูุญุท ูุฌุงุฒ ูุฏุงุฑุฏ.

1. ุฏุณุชูุฑ ุฒุฑ ุฑุง ุงุฌุฑุง ฺฉูุฏ ุชุง ุจุณุชู pip ูุฑุจูุท ุจู MQTT ูุตุจ ุดูุฏ:

    ```sh
    pip3 install paho-mqtt
    ```

## ฺฉุฏููุณ ุฏุณุชฺฏุงู

ุฏุณุชฺฏุงู ุขูุงุฏู ฺฉุฏููุณ ุงุณุช.

### ูุธูู

ฺฉุฏ ุฏุณุชฺฏุงู ุฑุง ุจููุณุฏ.

1. ูุงุฑุฏุงุช ุฒุฑ ุฑุง ุจู ุจุงูุง ูุงู `app.py` ุงุถุงูู ฺฉูุฏ:

    ```python
    import paho.mqtt.client as mqtt
    ```

    ฺฉุชุงุจุฎุงูู `paho.mqtt.client` ุจู ุจุฑูุงูู ุดูุง ุงุฌุงุฒู ูโุฏูุฏ ุงุฒ ุทุฑู MQTT ุงุฑุชุจุงุท ุจุฑูุฑุงุฑ ฺฉูุฏ.

1. ฺฉุฏ ุฒุฑ ุฑุง ุจุนุฏ ุงุฒ ุชุนุฑูโูุง ุญุณฺฏุฑ ููุฑ ู LED ุงุถุงูู ฺฉูุฏ:

    ```python
    id = '<ID>'

    client_name = id + 'nightlight_client'
    ```

    `<ID>` ุฑุง ุจุง ฺฉ ุดูุงุณู ููุญุตุฑ ุจู ูุฑุฏ ุฌุงฺฏุฒู ฺฉูุฏ ฺฉู ุจู ุนููุงู ูุงู ฺฉูุงูุช ุงู ุฏุณุชฺฏุงู ุงุณุชูุงุฏู ุฎูุงูุฏ ุดุฏ ู ุจุนุฏุงู ุจุฑุง ููุถูุนุงุช ฺฉู ุงู ุฏุณุชฺฏุงู ููุชุดุฑ ู ูุดุชุฑฺฉ ูโุดูุฏ ุงุณุชูุงุฏู ูโุดูุฏ. broker *test.mosquitto.org* ุนููู ุงุณุช ู ุชูุณุท ุงูุฑุงุฏ ุฒุงุฏุ ุงุฒ ุฌููู ุฏุงูุดโุขููุฒุงู ุฏฺฏุฑ ฺฉู ุงู ุชฺฉูู ุฑุง ุงูุฌุงู ูโุฏููุฏุ ุงุณุชูุงุฏู ูโุดูุฏ. ุฏุงุดุชู ฺฉ ูุงู ฺฉูุงูุช MQTT ู ูุงู ููุถูุนุงุช ููุญุตุฑ ุจู ูุฑุฏ ุชุถูู ูโฺฉูุฏ ฺฉู ฺฉุฏ ุดูุง ุจุง ฺฉุฏ ุฏฺฏุฑุงู ุชุฏุงุฎู ูุฏุงุดุชู ุจุงุดุฏ. ุดูุง ููฺูู ุจู ุงู ุดูุงุณู ูุงุฒ ุฎูุงูุฏ ุฏุงุดุช ุฒูุงู ฺฉู ฺฉุฏ ุณุฑูุฑ ุฑุง ุฏุฑ ุงุฏุงูู ุงู ุชฺฉูู ุงุฌุงุฏ ูโฺฉูุฏ.

    > ๐ ูโุชูุงูุฏ ุงุฒ ูุจโุณุงุช ูุงููุฏ [GUIDGen](https://www.guidgen.com) ุจุฑุง ุงุฌุงุฏ ฺฉ ุดูุงุณู ููุญุตุฑ ุจู ูุฑุฏ ุงุณุชูุงุฏู ฺฉูุฏ.

    `client_name` ฺฉ ูุงู ููุญุตุฑ ุจู ูุฑุฏ ุจุฑุง ุงู ฺฉูุงูุช MQTT ุฏุฑ broker ุงุณุช.

1. ฺฉุฏ ุฒุฑ ุฑุง ุฒุฑ ุงู ฺฉุฏ ุฌุฏุฏ ุงุถุงูู ฺฉูุฏ ุชุง ฺฉ ุดุก ฺฉูุงูุช MQTT ุงุฌุงุฏ ฺฉุฑุฏู ู ุจู MQTT broker ูุชุตู ุดูุฏ:

    ```python
    mqtt_client = mqtt.Client(client_name)
    mqtt_client.connect('test.mosquitto.org')
    
    mqtt_client.loop_start()

    print("MQTT connected!")
    ```

    ุงู ฺฉุฏ ุดุก ฺฉูุงูุช ุฑุง ุงุฌุงุฏ ูโฺฉูุฏุ ุจู broker ุนููู MQTT ูุชุตู ูโุดูุฏ ู ฺฉ ุญููู ูพุฑุฏุงุฒุด ุฑุง ุดุฑูุน ูโฺฉูุฏ ฺฉู ุฏุฑ ฺฉ ุฑุดุชู ูพุณโุฒููู ุงุฌุฑุง ุดุฏู ู ูพุงูโูุง ุฑุง ุฏุฑ ูุฑ ููุถูุน ูุดุชุฑฺฉ ฺฏูุด ูโุฏูุฏ.

1. ฺฉุฏ ุฑุง ุจู ููุงู ุฑูุด ุงุฌุฑุง ฺฉูุฏ ฺฉู ฺฉุฏ ุจุฎุด ูุจู ุชฺฉูู ุฑุง ุงุฌุฑุง ฺฉุฑุฏุฏ. ุงฺฏุฑ ุงุฒ ุฏุณุชฺฏุงู ูุฌุงุฒ IoT ุงุณุชูุงุฏู ูโฺฉูุฏุ ูุทูุฆู ุดูุฏ ฺฉู ุจุฑูุงูู CounterFit ุฏุฑ ุญุงู ุงุฌุฑุง ุงุณุช ู ุญุณฺฏุฑ ููุฑ ู LED ุฑู ูพูโูุง ุตุญุญ ุงุฌุงุฏ ุดุฏูโุงูุฏ.

    ```output
    (.venv) โ  nightlight python app.py 
    MQTT connected!
    Light level: 0
    Light level: 0
    ```

> ๐ ูโุชูุงูุฏ ุงู ฺฉุฏ ุฑุง ุฏุฑ ูพูุดู [code-mqtt/virtual-device](../../../../../1-getting-started/lessons/4-connect-internet/code-mqtt/virtual-device) ุง ูพูุดู [code-mqtt/pi](../../../../../1-getting-started/lessons/4-connect-internet/code-mqtt/pi) ูพุฏุง ฺฉูุฏ.

๐ ุดูุง ุจุง ููููุช ุฏุณุชฺฏุงู ุฎูุฏ ุฑุง ุจู ฺฉ MQTT broker ูุชุตู ฺฉุฑุฏุฏ.

**ุณูุจ ูุณุฆููุช**:  
ุงู ุณูุฏ ุจุง ุงุณุชูุงุฏู ุงุฒ ุณุฑูุณ ุชุฑุฌูู ููุด ูุตููุน [Co-op Translator](https://github.com/Azure/co-op-translator) ุชุฑุฌูู ุดุฏู ุงุณุช. ุฏุฑ ุญุงู ฺฉู ูุง ุชูุงุด ูโฺฉูู ุฏูุช ุฑุง ุญูุธ ฺฉููุ ูุทูุงู ุชูุฌู ุฏุงุดุชู ุจุงุดุฏ ฺฉู ุชุฑุฌููโูุง ุฎูุฏฺฉุงุฑ ููฺฉู ุงุณุช ุดุงูู ุฎุทุงูุง ุง ูุงุฏุฑุณุชโูุง ุจุงุดูุฏ. ุณูุฏ ุงุตู ุจู ุฒุจุงู ุงุตู ุขู ุจุงุฏ ุจู ุนููุงู ููุจุน ูุนุชุจุฑ ุฏุฑ ูุธุฑ ฺฏุฑูุชู ุดูุฏ. ุจุฑุง ุงุทูุงุนุงุช ุญุณุงุณุ ุชูุตู ูโุดูุฏ ุงุฒ ุชุฑุฌูู ุญุฑููโุง ุงูุณุงู ุงุณุชูุงุฏู ฺฉูุฏ. ูุง ูุณุฆููุช ุฏุฑ ูุจุงู ุณูุก ุชูุงููโูุง ุง ุชูุณุฑูุง ูุงุฏุฑุณุช ูุงุด ุงุฒ ุงุณุชูุงุฏู ุงุฒ ุงู ุชุฑุฌูู ูุฏุงุฑู.