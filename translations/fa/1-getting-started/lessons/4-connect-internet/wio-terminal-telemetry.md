<!--
CO_OP_TRANSLATOR_METADATA:
{
  "original_hash": "4bcc29fe2b65e56eada83d2476279227",
  "translation_date": "2025-08-25T21:59:07+00:00",
  "source_file": "1-getting-started/lessons/4-connect-internet/wio-terminal-telemetry.md",
  "language_code": "fa"
}
-->
# ฺฉูุชุฑู ฺุฑุงุบ ุฎูุงุจ ุฎูุฏ ุงุฒ ุทุฑู ุงูุชุฑูุช - Wio Terminal

ุฏุฑ ุงู ุจุฎุด ุงุฒ ุฏุฑุณุ ุดูุง ุฏุงุฏูโูุง ุชูููุชุฑ ูุฑุจูุท ุจู ุณุทุญ ููุฑ ุฑุง ุงุฒ Wio Terminal ุฎูุฏ ุจู MQTT broker ุงุฑุณุงู ุฎูุงูุฏ ฺฉุฑุฏ.

## ูุตุจ ฺฉุชุงุจุฎุงููโูุง JSON ุจุฑุง Arduino

ฺฉ ุฑูุด ูุญุจูุจ ุจุฑุง ุงุฑุณุงู ูพุงูโูุง ุงุฒ ุทุฑู MQTT ุงุณุชูุงุฏู ุงุฒ JSON ุงุณุช. ฺฉ ฺฉุชุงุจุฎุงูู ุจุฑุง Arduino ูุฌูุฏ ุฏุงุฑุฏ ฺฉู ุฎูุงูุฏู ู ููุดุชู ุงุณูุงุฏ JSON ุฑุง ุขุณุงูโุชุฑ ูโฺฉูุฏ.

### ูุธูู

ฺฉุชุงุจุฎุงูู JSON ุจุฑุง Arduino ุฑุง ูุตุจ ฺฉูุฏ.

1. ูพุฑูฺู ฺุฑุงุบ ุฎูุงุจ ุฑุง ุฏุฑ VS Code ุจุงุฒ ฺฉูุฏ.

1. ุฎุท ุฒุฑ ุฑุง ุจู ุนููุงู ฺฉ ุฎุท ุงุถุงู ุจู ูุณุช `lib_deps` ุฏุฑ ูุงู `platformio.ini` ุงุถุงูู ฺฉูุฏ:

    ```ini
    bblanchon/ArduinoJson @ 6.17.3
    ```

    ุงู ฺฉุชุงุจุฎุงูู [ArduinoJson](https://arduinojson.org)ุ ฺฉ ฺฉุชุงุจุฎุงูู JSON ุจุฑุง Arduino ุฑุง ูุงุฑุฏ ูโฺฉูุฏ.

## ุงุฑุณุงู ุชูููุชุฑ

ูุฑุญูู ุจุนุฏ ุงุฌุงุฏ ฺฉ ุณูุฏ JSON ุจุง ุฏุงุฏูโูุง ุชูููุชุฑ ู ุงุฑุณุงู ุขู ุจู MQTT broker ุงุณุช.

### ูุธูู - ุงุฑุณุงู ุชูููุชุฑ

ุฏุงุฏูโูุง ุชูููุชุฑ ุฑุง ุจู MQTT broker ุงุฑุณุงู ฺฉูุฏ.

1. ฺฉุฏ ุฒุฑ ุฑุง ุจู ุงูุชูุง ูุงู `config.h` ุงุถุงูู ฺฉูุฏ ุชุง ูุงู ููุถูุน ุชูููุชุฑ ุจุฑุง MQTT broker ุชุนุฑู ุดูุฏ:

    ```cpp
    const string CLIENT_TELEMETRY_TOPIC = ID + "/telemetry";
    ```

    `CLIENT_TELEMETRY_TOPIC` ููุถูุน ุงุณุช ฺฉู ุฏุณุชฺฏุงู ุณุทุญ ููุฑ ุฑุง ุจู ุขู ุงุฑุณุงู ุฎูุงูุฏ ฺฉุฑุฏ.

1. ูุงู `main.cpp` ุฑุง ุจุงุฒ ฺฉูุฏ.

1. ุฏุณุชูุฑ `#include` ุฒุฑ ุฑุง ุจู ุจุงูุง ูุงู ุงุถุงูู ฺฉูุฏ:

    ```cpp
    #include <ArduinoJSON.h>
    ```

1. ฺฉุฏ ุฒุฑ ุฑุง ุฏุงุฎู ุชุงุจุน `loop`ุ ุฏุฑุณุช ูุจู ุงุฒ `delay` ุงุถุงูู ฺฉูุฏ:

    ```cpp
    int light = analogRead(WIO_LIGHT);

    DynamicJsonDocument doc(1024);
    doc["light"] = light;

    string telemetry;
    serializeJson(doc, telemetry);

    Serial.print("Sending telemetry ");
    Serial.println(telemetry.c_str());

    client.publish(CLIENT_TELEMETRY_TOPIC.c_str(), telemetry.c_str());
    ```

    ุงู ฺฉุฏ ุณุทุญ ููุฑ ุฑุง ูโุฎูุงูุฏ ู ฺฉ ุณูุฏ JSON ุจุง ุงุณุชูุงุฏู ุงุฒ ArduinoJson ุงุฌุงุฏ ูโฺฉูุฏ ฺฉู ุงู ุณุทุญ ุฑุง ุดุงูู ูโุดูุฏ. ุณูพุณ ุงู ุณูุฏ ุจู ฺฉ ุฑุดุชู ุชุจุฏู ุดุฏู ู ุชูุณุท ฺฉูุงูุช MQTT ุฏุฑ ููุถูุน ุชูููุชุฑ MQTT ููุชุดุฑ ูโุดูุฏ.

1. ฺฉุฏ ุฑุง ุจู Wio Terminal ุฎูุฏ ุขูพููุฏ ฺฉูุฏ ู ุงุฒ Serial Monitor ุจุฑุง ูุดุงูุฏู ุณุทุญ ููุฑ ุงุฑุณุงู ุดุฏู ุจู MQTT broker ุงุณุชูุงุฏู ฺฉูุฏ.

    ```output
    Connecting to WiFi..
    Connected!
    Attempting MQTT connection...connected
    Sending telemetry {"light":652}
    Sending telemetry {"light":612}
    Sending telemetry {"light":583}
    ```

> ๐ ุดูุง ูโุชูุงูุฏ ุงู ฺฉุฏ ุฑุง ุฏุฑ ูพูุดู [code-telemetry/wio-terminal](../../../../../1-getting-started/lessons/4-connect-internet/code-telemetry/wio-terminal) ูพุฏุง ฺฉูุฏ.

๐ ุดูุง ุจุง ููููุช ุฏุงุฏูโูุง ุชูููุชุฑ ุฑุง ุงุฒ ุฏุณุชฺฏุงู ุฎูุฏ ุงุฑุณุงู ฺฉุฑุฏุฏ.

**ุณูุจ ูุณุฆููุช**:  
ุงู ุณูุฏ ุจุง ุงุณุชูุงุฏู ุงุฒ ุณุฑูุณ ุชุฑุฌูู ููุด ูุตููุน [Co-op Translator](https://github.com/Azure/co-op-translator) ุชุฑุฌูู ุดุฏู ุงุณุช. ุฏุฑ ุญุงู ฺฉู ูุง ุชูุงุด ูโฺฉูู ุฏูุช ุฑุง ุญูุธ ฺฉููุ ูุทูุงู ุชูุฌู ุฏุงุดุชู ุจุงุดุฏ ฺฉู ุชุฑุฌููโูุง ุฎูุฏฺฉุงุฑ ููฺฉู ุงุณุช ุดุงูู ุฎุทุงูุง ุง ูุงุฏุฑุณุชโูุง ุจุงุดูุฏ. ุณูุฏ ุงุตู ุจู ุฒุจุงู ุงุตู ุขู ุจุงุฏ ุจู ุนููุงู ููุจุน ูุนุชุจุฑ ุฏุฑ ูุธุฑ ฺฏุฑูุชู ุดูุฏ. ุจุฑุง ุงุทูุงุนุงุช ุญุณุงุณุ ุชูุตู ูโุดูุฏ ุงุฒ ุชุฑุฌูู ุงูุณุงู ุญุฑููโุง ุงุณุชูุงุฏู ฺฉูุฏ. ูุง ูุณุฆููุช ุฏุฑ ูุจุงู ุณูุก ุชูุงููโูุง ุง ุชูุณุฑูุง ูุงุฏุฑุณุช ูุงุด ุงุฒ ุงุณุชูุงุฏู ุงุฒ ุงู ุชุฑุฌูู ูุฏุงุฑู.