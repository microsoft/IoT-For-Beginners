<!--
CO_OP_TRANSLATOR_METADATA:
{
  "original_hash": "3b2448c7ab4e9673e77e35a50c5e350d",
  "translation_date": "2025-08-25T23:02:36+00:00",
  "source_file": "3-transport/lessons/1-location-tracking/pi-gps-sensor.md",
  "language_code": "fa"
}
-->
# ุฎูุงูุฏู ุฏุงุฏูโูุง GPS - ุฑุฒุจุฑ ูพุง

ุฏุฑ ุงู ุจุฎุด ุงุฒ ุฏุฑุณุ ุดูุง ฺฉ ุญุณฺฏุฑ GPS ุจู ุฑุฒุจุฑ ูพุง ุงุถุงูู ูโฺฉูุฏ ู ููุงุฏุฑ ุขู ุฑุง ูโุฎูุงูุฏ.

## ุณุฎุชโุงูุฒุงุฑ

ุฑุฒุจุฑ ูพุง ุจู ฺฉ ุญุณฺฏุฑ GPS ูุงุฒ ุฏุงุฑุฏ.

ุญุณฺฏุฑ ฺฉู ุงุณุชูุงุฏู ูโฺฉูุฏ [Grove GPS Air530 sensor](https://www.seeedstudio.com/Grove-GPS-Air530-p-4584.html) ุงุณุช. ุงู ุญุณฺฏุฑ ูโุชูุงูุฏ ุจู ุณุณุชูโูุง ูุฎุชูู GPS ูุชุตู ุดูุฏ ุชุง ูููุนุชโุงุจ ุณุฑุน ู ุฏูู ุงูุฌุงู ุฏูุฏ. ุงู ุญุณฺฏุฑ ุงุฒ ุฏู ุจุฎุด ุชุดฺฉู ุดุฏู ุงุณุช - ุจุฎุด ุงูฺฉุชุฑููฺฉ ุงุตู ุญุณฺฏุฑ ู ฺฉ ุขูุชู ุฎุงุฑุฌ ฺฉู ุจุง ฺฉ ุณู ูุงุฒฺฉ ุจู ุญุณฺฏุฑ ูุชุตู ุดุฏู ุชุง ุงููุงุฌ ุฑุงุฏู ูุงููุงุฑูโูุง ุฑุง ุฏุฑุงูุช ฺฉูุฏ.

ุงู ุญุณฺฏุฑ ุงุฒ ููุน UART ุงุณุช ู ุฏุงุฏูโูุง GPS ุฑุง ุงุฒ ุทุฑู UART ุงุฑุณุงู ูโฺฉูุฏ.

## ุงุชุตุงู ุญุณฺฏุฑ GPS

ุญุณฺฏุฑ Grove GPS ูโุชูุงูุฏ ุจู ุฑุฒุจุฑ ูพุง ูุชุตู ุดูุฏ.

### ูุธูู - ุงุชุตุงู ุญุณฺฏุฑ GPS

ุญุณฺฏุฑ GPS ุฑุง ูุชุตู ฺฉูุฏ.

![ุญุณฺฏุฑ Grove GPS](../../../../../translated_images/grove-gps-sensor.247943bf69b03f0d1820ef6ed10c587f9b650e8db55b936851c92412180bd3e2.fa.png)

1. ฺฉ ุณุฑ ฺฉุงุจู Grove ุฑุง ุจู ุณูฺฉุช ุญุณฺฏุฑ GPS ูุงุฑุฏ ฺฉูุฏ. ฺฉุงุจู ููุท ุงุฒ ฺฉ ุฌูุช ูุงุฑุฏ ูโุดูุฏ.

1. ุจุง ุฎุงููุด ุจูุฏู ุฑุฒุจุฑ ูพุงุ ุณุฑ ุฏฺฏุฑ ฺฉุงุจู Grove ุฑุง ุจู ุณูฺฉุช UART ฺฉู ุจุง **UART** ุฑู Grove Base hat ูุชุตู ุจู ุฑุฒุจุฑ ูพุง ูุดุฎุต ุดุฏู ุงุณุชุ ูุตู ฺฉูุฏ. ุงู ุณูฺฉุช ุฏุฑ ุฑุฏู ูุณุทุ ุฏุฑ ุณูุช ูุฒุฏฺฉ ุจู ุดุงุฑ ฺฉุงุฑุช SD ูุฑุงุฑ ุฏุงุฑุฏุ ุฏุฑ ุทุฑู ููุงุจู ูพูุฑุชโูุง USB ู ุณูฺฉุช ุงุชุฑูุช.

    ![ุญุณฺฏุฑ Grove GPS ูุชุตู ุจู ุณูฺฉุช UART](../../../../../translated_images/pi-gps-sensor.1f99ee2b2f6528915047ec78967bd362e0e4ee0ed594368a3837b9cf9cdaca64.fa.png)

1. ุญุณฺฏุฑ GPS ุฑุง ุฏุฑ ูููุนุช ูุฑุงุฑ ุฏูุฏ ฺฉู ุขูุชู ูุชุตู ุจู ุขู ุฏุฏ ุจู ุขุณูุงู ุฏุงุดุชู ุจุงุดุฏ - ุชุฑุฌุญุงู ฺฉูุงุฑ ฺฉ ูพูุฌุฑู ุจุงุฒ ุง ุฏุฑ ูุถุง ุจุงุฒ. ุฏุฑุงูุช ุณฺฏูุงู ูุงุถุญโุชุฑ ุฒูุงู ุขุณุงูโุชุฑ ุงุณุช ฺฉู ฺุฒ ุฌูู ุขูุชู ูุจุงุดุฏ.

## ุจุฑูุงููโููุณ ุญุณฺฏุฑ GPS

ุงฺฉููู ูโุชูุงูุฏ ุฑุฒุจุฑ ูพุง ุฑุง ุจุฑุง ุงุณุชูุงุฏู ุงุฒ ุญุณฺฏุฑ GPS ูุชุตู ุจุฑูุงููโููุณ ฺฉูุฏ.

### ูุธูู - ุจุฑูุงููโููุณ ุญุณฺฏุฑ GPS

ุฏุณุชฺฏุงู ุฑุง ุจุฑูุงููโููุณ ฺฉูุฏ.

1. ุฑุฒุจุฑ ูพุง ุฑุง ุฑูุดู ฺฉูุฏ ู ููุชุธุฑ ุจูุช ุดุฏู ุขู ุจุงุดุฏ.

1. ุญุณฺฏุฑ GPS ุฏุงุฑุง ุฏู LED ุงุณุช - ฺฉ LED ุขุจ ฺฉู ููฺฏุงู ุงุฑุณุงู ุฏุงุฏู ฺุดูฺฉ ูโุฒูุฏ ู ฺฉ LED ุณุจุฒ ฺฉู ูุฑ ุซุงูู ููฺฏุงู ุฏุฑุงูุช ุฏุงุฏู ุงุฒ ูุงููุงุฑูโูุง ฺุดูฺฉ ูโุฒูุฏ. ูุทูุฆู ุดูุฏ ฺฉู LED ุขุจ ููฺฏุงู ุฑูุดู ฺฉุฑุฏู ุฑุฒุจุฑ ูพุง ฺุดูฺฉ ูโุฒูุฏ. ูพุณ ุงุฒ ฺูุฏ ุฏูููุ LED ุณุจุฒ ุดุฑูุน ุจู ฺุดูฺฉ ุฒุฏู ูโฺฉูุฏ - ุงฺฏุฑ ุงู ุงุชูุงู ููุชุงุฏุ ููฺฉู ุงุณุช ูุงุฒ ุจุงุดุฏ ุขูุชู ุฑุง ุฌุงุจุฌุง ฺฉูุฏ.

1. VS Code ุฑุง ุงุฌุฑุง ฺฉูุฏุ ุง ูุณุชููุงู ุฑู ุฑุฒุจุฑ ูพุง ุง ุงุฒ ุทุฑู ุงูุฒููู Remote SSH ูุชุตู ุดูุฏ.

    > โ๏ธ ูโุชูุงูุฏ ุจู [ุฏุณุชูุฑุงูุนููโูุง ุชูุธู ู ุงุฌุฑุง VS Code ุฏุฑ ุฏุฑุณ 1 ุฏุฑ ุตูุฑุช ูุงุฒ](../../../1-getting-started/lessons/1-introduction-to-iot/pi.md) ูุฑุงุฌุนู ฺฉูุฏ.

1. ุฏุฑ ูุณุฎูโูุง ุฌุฏุฏุชุฑ ุฑุฒุจุฑ ูพุง ฺฉู ุงุฒ ุจููุชูุซ ูพุดุชุจุงู ูโฺฉููุฏุ ฺฉ ุชุถุงุฏ ุจู ูพูุฑุช ุณุฑุงู ููุฑุฏ ุงุณุชูุงุฏู ุจุฑุง ุจููุชูุซ ู ูพูุฑุช ููุฑุฏ ุงุณุชูุงุฏู ุชูุณุท Grove UART ูุฌูุฏ ุฏุงุฑุฏ. ุจุฑุง ุฑูุน ุงู ูุดฺฉูุ ูุฑุงุญู ุฒุฑ ุฑุง ุงูุฌุงู ุฏูุฏ:

    1. ุงุฒ ุชุฑููุงู VS Codeุ ูุงู `/boot/config.txt` ุฑุง ุจุง ุงุณุชูุงุฏู ุงุฒ `nano`ุ ฺฉ ูุฑุงุดฺฏุฑ ูุชู ุฏุงุฎู ุชุฑููุงูุ ุจุง ูุฑูุงู ุฒุฑ ูุฑุงุด ฺฉูุฏ:

        ```sh
        sudo nano /boot/config.txt
        ```

        > ุงู ูุงู ููโุชูุงูุฏ ุชูุณุท VS Code ูุฑุงุด ุดูุฏ ุฒุฑุง ูุงุฒ ุจู ูุฑุงุด ุจุง ูุฌูุฒ `sudo` ุฏุงุฑุฏุ ฺฉ ูุฌูุฒ ุงุฑุชูุง ุงูุชู. VS Code ุงู ูุฌูุฒ ุฑุง ุงุฌุฑุง ููโฺฉูุฏ.

    1. ุจุง ุงุณุชูุงุฏู ุงุฒ ฺฉูุฏูุง ูฺฉุงูโููุง ุจู ุงูุชูุง ูุงู ุจุฑูุฏุ ุณูพุณ ฺฉุฏ ุฒุฑ ุฑุง ฺฉูพ ฺฉุฑุฏู ู ุฏุฑ ุงูุชูุง ูุงู ูุฑุงุฑ ุฏูุฏ:

        ```ini
        dtoverlay=pi3-miniuart-bt
        dtoverlay=pi3-disable-bt
        enable_uart=1
        ```

        ูโุชูุงูุฏ ุจุง ุงุณุชูุงุฏู ุงุฒ ูุงูุจุฑูุง ูุนููู ุตูุญูโฺฉูุฏ ุฏุณุชฺฏุงู ุฎูุฏ (`Ctrl+v` ุฏุฑ ููุฏูุฒุ ูููฺฉุณ ุง Raspberry Pi OSุ `Cmd+v` ุฏุฑ macOS) ฺฉูพ ฺฉูุฏ.

    1. ุงู ูุงู ุฑุง ุฐุฎุฑู ฺฉุฑุฏู ู ุจุง ูุดุงุฑ ุฏุงุฏู `Ctrl+x` ุงุฒ nano ุฎุงุฑุฌ ุดูุฏ. ููุช ุงุฒ ุดูุง ูพุฑุณุฏู ุดุฏ ฺฉู ุขุง ูโุฎูุงูุฏ ุจุงูุฑ ุชุบุฑ ุงูุชู ุฑุง ุฐุฎุฑู ฺฉูุฏุ `y` ุฑุง ูุดุงุฑ ุฏูุฏุ ุณูพุณ `enter` ุฑุง ุจุฑุง ุชุฃุฏ ุงูฺฉู ูโุฎูุงูุฏ `/boot/config.txt` ุฑุง ุจุงุฒููุณ ฺฉูุฏุ ูุดุงุฑ ุฏูุฏ.

        > ุงฺฏุฑ ุงุดุชุจุงู ฺฉุฑุฏุฏุ ูโุชูุงูุฏ ุจุฏูู ุฐุฎุฑู ุฎุงุฑุฌ ุดูุฏ ู ุณูพุณ ุงู ูุฑุงุญู ุฑุง ุชฺฉุฑุงุฑ ฺฉูุฏ.

    1. ูุงู `/boot/cmdline.txt` ุฑุง ุฏุฑ nano ุจุง ูุฑูุงู ุฒุฑ ูุฑุงุด ฺฉูุฏ:

        ```sh
        sudo nano /boot/cmdline.txt
        ```

    1. ุงู ูุงู ุดุงูู ุชุนุฏุงุฏ ุฌูุช ฺฉูุฏ/ููุฏุงุฑ ุงุณุช ฺฉู ุจุง ูุงุตูู ุฌุฏุง ุดุฏูโุงูุฏ. ูุฑ ุฌูุช ฺฉูุฏ/ููุฏุงุฑ ูุฑุจูุท ุจู ฺฉูุฏ `console` ุฑุง ุญุฐู ฺฉูุฏ. ุงุญุชูุงูุงู ฺุฒ ุดุจู ุจู ุงู ุฎูุงููุฏ ุจูุฏ:

        ```output
        console=serial0,115200 console=tty1 
        ```

        ูโุชูุงูุฏ ุจุง ุงุณุชูุงุฏู ุงุฒ ฺฉูุฏูุง ูฺฉุงูโููุง ุจู ุงู ูุฑูุฏโูุง ุจุฑูุฏุ ุณูพุณ ุจุง ุงุณุชูุงุฏู ุงุฒ ฺฉูุฏูุง `del` ุง `backspace` ูุนููู ุญุฐู ฺฉูุฏ.

        ุจุฑุง ูุซุงูุ ุงฺฏุฑ ูุงู ุงุตู ุดูุง ุจู ุงู ุดฺฉู ุจุงุดุฏ:

        ```output
        console=serial0,115200 console=tty1 root=PARTUUID=058e2867-02 rootfstype=ext4 elevator=deadline fsck.repair=yes rootwait
        ```

        ูุณุฎู ุฌุฏุฏ ุจู ุงู ุดฺฉู ุฎูุงูุฏ ุจูุฏ:

        ```output
        root=PARTUUID=058e2867-02 rootfstype=ext4 elevator=deadline fsck.repair=yes rootwait
        ```

    1. ูุฑุงุญู ุจุงูุง ุฑุง ุฏูุจุงู ฺฉูุฏ ุชุง ุงู ูุงู ุฑุง ุฐุฎุฑู ฺฉุฑุฏู ู ุงุฒ nano ุฎุงุฑุฌ ุดูุฏ.

    1. ุฑุฒุจุฑ ูพุง ุฑุง ุฑุจูุช ฺฉูุฏุ ุณูพุณ ูพุณ ุงุฒ ุฑุจูุช ุดุฏู ุฏูุจุงุฑู ุฏุฑ VS Code ูุชุตู ุดูุฏ.

1. ุงุฒ ุชุฑููุงูุ ฺฉ ูพูุดู ุฌุฏุฏ ุฏุฑ ุฏุงุฑฺฉุชูุฑ ุฎุงูฺฏ ฺฉุงุฑุจุฑ `pi` ุจู ูุงู `gps-sensor` ุงุฌุงุฏ ฺฉูุฏ. ฺฉ ูุงู ุฏุฑ ุงู ูพูุดู ุจู ูุงู `app.py` ุงุฌุงุฏ ฺฉูุฏ.

1. ุงู ูพูุดู ุฑุง ุฏุฑ VS Code ุจุงุฒ ฺฉูุฏ.

1. ูุงฺูู GPS ุฏุงุฏูโูุง UART ุฑุง ุงุฒ ุทุฑู ฺฉ ูพูุฑุช ุณุฑุงู ุงุฑุณุงู ูโฺฉูุฏ. ุจุณุชู Pip ุจู ูุงู `pyserial` ุฑุง ูุตุจ ฺฉูุฏ ุชุง ุจุชูุงูุฏ ุงุฒ ฺฉุฏ ูพุงุชูู ุฎูุฏ ุจุง ูพูุฑุช ุณุฑุงู ุงุฑุชุจุงุท ุจุฑูุฑุงุฑ ฺฉูุฏ:

    ```sh
    pip3 install pyserial
    ```

1. ฺฉุฏ ุฒุฑ ุฑุง ุจู ูุงู `app.py` ุฎูุฏ ุงุถุงูู ฺฉูุฏ:

    ```python
    import time
    import serial
    
    serial = serial.Serial('/dev/ttyAMA0', 9600, timeout=1)
    serial.reset_input_buffer()
    serial.flush()
    
    def print_gps_data(line):
        print(line.rstrip())
    
    while True:
        line = serial.readline().decode('utf-8')
    
        while len(line) > 0:
            print_gps_data(line)
            line = serial.readline().decode('utf-8')
    
        time.sleep(1)
    ```

    ุงู ฺฉุฏ ูุงฺูู `serial` ุฑุง ุงุฒ ุจุณุชู Pip `pyserial` ูุงุฑุฏ ูโฺฉูุฏ. ุณูพุณ ุจู ูพูุฑุช ุณุฑุงู `/dev/ttyAMA0` ูุชุตู ูโุดูุฏ - ุงู ุขุฏุฑุณ ูพูุฑุช ุณุฑุงู ุงุณุช ฺฉู Grove Pi Base Hat ุจุฑุง ูพูุฑุช UART ุฎูุฏ ุงุณุชูุงุฏู ูโฺฉูุฏ. ุณูพุณ ูุฑ ุฏุงุฏู ููุฌูุฏ ุฏุฑ ุงู ุงุชุตุงู ุณุฑุงู ุฑุง ูพุงฺฉ ูโฺฉูุฏ.

    ุณูพุณ ฺฉ ุชุงุจุน ุจู ูุงู `print_gps_data` ุชุนุฑู ูโุดูุฏ ฺฉู ุฎุท ุฑุง ฺฉู ุจู ุขู ุงุฑุณุงู ุดุฏู ุจู ฺฉูุณูู ฺุงูพ ูโฺฉูุฏ.

    ุณูพุณ ฺฉุฏ ุจู ุทูุฑ ูุฏุงูู ุญููู ูโุฒูุฏ ู ุฏุฑ ูุฑ ุญููู ุชุง ุฌุง ฺฉู ููฺฉู ุงุณุช ุฎุทูุท ูุชู ุฑุง ุงุฒ ูพูุฑุช ุณุฑุงู ูโุฎูุงูุฏ. ุจุฑุง ูุฑ ุฎุทุ ุชุงุจุน `print_gps_data` ุฑุง ูุฑุงุฎูุงู ูโฺฉูุฏ.

    ูพุณ ุงุฒ ุฎูุงูุฏู ุชูุงู ุฏุงุฏูโูุงุ ุญููู ุจู ูุฏุช 1 ุซุงูู ูุชููู ูโุดูุฏ ู ุณูพุณ ุฏูุจุงุฑู ุชูุงุด ูโฺฉูุฏ.

1. ุงู ฺฉุฏ ุฑุง ุงุฌุฑุง ฺฉูุฏ. ุฎุฑูุฌ ุฎุงู ุญุณฺฏุฑ GPS ุฑุง ูุดุงูุฏู ุฎูุงูุฏ ฺฉุฑุฏุ ฺุฒ ุดุจู ุจู ููุงุฑุฏ ุฒุฑ:

    ```output
    $GNGGA,020604.001,4738.538654,N,12208.341758,W,1,3,,164.7,M,-17.1,M,,*67
    $GPGSA,A,1,,,,,,,,,,,,,,,*1E
    $BDGSA,A,1,,,,,,,,,,,,,,,*0F
    $GPGSV,1,1,00*79
    $BDGSV,1,1,00*68
    ```

    > ุงฺฏุฑ ููฺฏุงู ุชููู ู ุฑุงูโุงูุฏุงุฒ ูุฌุฏุฏ ฺฉุฏ ุฎูุฏ ฺฉ ุงุฒ ุฎุทุงูุง ุฒุฑ ุฑุง ุฏุฑุงูุช ฺฉุฑุฏุฏุ ฺฉ ุจููฺฉ `try - except` ุจู ุญููู while ุฎูุฏ ุงุถุงูู ฺฉูุฏ.

      ```output
      UnicodeDecodeError: 'utf-8' codec can't decode byte 0x93 in position 0: invalid start byte
      UnicodeDecodeError: 'utf-8' codec can't decode byte 0xf1 in position 0: invalid continuation byte
      ```

    ```python
    while True:
        try:
            line = serial.readline().decode('utf-8')
              
            while len(line) > 0:
                print_gps_data()
                line = serial.readline().decode('utf-8')
      
        # There's a random chance the first byte being read is part way through a character.
        # Read another full line and continue.

        except UnicodeDecodeError:
            line = serial.readline().decode('utf-8')

    time.sleep(1)
    ```

> ๐ ูโุชูุงูุฏ ุงู ฺฉุฏ ุฑุง ุฏุฑ ูพูุดู [code-gps/pi](../../../../../3-transport/lessons/1-location-tracking/code-gps/pi) ูพุฏุง ฺฉูุฏ.

๐ ุจุฑูุงูู ุญุณฺฏุฑ GPS ุดูุง ููููุชโุขูุฒ ุจูุฏ!

**ุณูุจ ูุณุฆููุช**:  
ุงู ุณูุฏ ุจุง ุงุณุชูุงุฏู ุงุฒ ุณุฑูุณ ุชุฑุฌูู ููุด ูุตููุน [Co-op Translator](https://github.com/Azure/co-op-translator) ุชุฑุฌูู ุดุฏู ุงุณุช. ุฏุฑ ุญุงู ฺฉู ูุง ุชูุงุด ูโฺฉูู ุฏูุช ุฑุง ุญูุธ ฺฉููุ ูุทูุงู ุชูุฌู ุฏุงุดุชู ุจุงุดุฏ ฺฉู ุชุฑุฌููโูุง ุฎูุฏฺฉุงุฑ ููฺฉู ุงุณุช ุดุงูู ุฎุทุงูุง ุง ูุงุฏุฑุณุชโูุง ุจุงุดูุฏ. ุณูุฏ ุงุตู ุจู ุฒุจุงู ุงุตู ุขู ุจุงุฏ ุจู ุนููุงู ููุจุน ูุนุชุจุฑ ุฏุฑ ูุธุฑ ฺฏุฑูุชู ุดูุฏ. ุจุฑุง ุงุทูุงุนุงุช ุญุณุงุณุ ุชูุตู ูโุดูุฏ ุงุฒ ุชุฑุฌูู ุญุฑููโุง ุงูุณุงู ุงุณุชูุงุฏู ฺฉูุฏ. ูุง ูุณุฆููุช ุฏุฑ ูุจุงู ุณูุก ุชูุงููโูุง ุง ุชูุณุฑูุง ูุงุฏุฑุณุช ูุงุด ุงุฒ ุงุณุชูุงุฏู ุงุฒ ุงู ุชุฑุฌูู ูุฏุงุฑู.