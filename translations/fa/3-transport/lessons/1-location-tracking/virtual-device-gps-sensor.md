<!--
CO_OP_TRANSLATOR_METADATA:
{
  "original_hash": "64f18a8f8aaa1fef5e7320e0992d8b3a",
  "translation_date": "2025-08-25T22:58:03+00:00",
  "source_file": "3-transport/lessons/1-location-tracking/virtual-device-gps-sensor.md",
  "language_code": "fa"
}
-->
# ุฎูุงูุฏู ุฏุงุฏูโูุง GPS - ุณุฎุชโุงูุฒุงุฑ ูุฌุงุฒ IoT

ุฏุฑ ุงู ุจุฎุด ุงุฒ ุฏุฑุณุ ุดูุง ฺฉ ุญุณฺฏุฑ GPS ุจู ุฏุณุชฺฏุงู IoT ูุฌุงุฒ ุฎูุฏ ุงุถุงูู ูโฺฉูุฏ ู ููุงุฏุฑ ุขู ุฑุง ูโุฎูุงูุฏ.

## ุณุฎุชโุงูุฒุงุฑ ูุฌุงุฒ

ุฏุณุชฺฏุงู IoT ูุฌุงุฒ ุงุฒ ฺฉ ุญุณฺฏุฑ GPS ุดุจูโุณุงุฒโุดุฏู ุงุณุชูุงุฏู ูโฺฉูุฏ ฺฉู ุงุฒ ุทุฑู ฺฉ ูพูุฑุช ุณุฑุงู ุจู UART ุฏุณุชุฑุณ ุฏุงุฑุฏ.

ฺฉ ุญุณฺฏุฑ GPS ูุฒฺฉ ุฏุงุฑุง ฺฉ ุขูุชู ุงุณุช ฺฉู ุงููุงุฌ ุฑุงุฏู ุฑุง ุงุฒ ูุงููุงุฑูโูุง GPS ุฏุฑุงูุช ฺฉุฑุฏู ู ุณฺฏูุงูโูุง GPS ุฑุง ุจู ุฏุงุฏูโูุง GPS ุชุจุฏู ูโฺฉูุฏ. ูุณุฎู ูุฌุงุฒ ุงู ฺฉุงุฑ ุฑุง ุดุจูโุณุงุฒ ูโฺฉูุฏ ู ุจู ุดูุง ุงุฌุงุฒู ูโุฏูุฏ ฺฉู ุง ฺฉ ุนุฑุถ ู ุทูู ุฌุบุฑุงูุง ุชูุธู ฺฉูุฏุ ุฌููุงุช ุฎุงู NMEA ุงุฑุณุงู ฺฉูุฏุ ุง ฺฉ ูุงู GPX ุจุง ฺูุฏู ูููุนุช ูฺฉุงู ุจุงุฑฺฏุฐุงุฑ ฺฉูุฏ ฺฉู ุจู ุชุฑุชุจ ุจุงุฒฺฏุฑุฏุงูุฏู ุดููุฏ.

> ๐ ุฌููุงุช NMEA ุฏุฑ ุงุฏุงูู ุงู ุฏุฑุณ ูพูุดุด ุฏุงุฏู ุฎูุงููุฏ ุดุฏ

### ุงูุฒูุฏู ุญุณฺฏุฑ ุจู CounterFit

ุจุฑุง ุงุณุชูุงุฏู ุงุฒ ฺฉ ุญุณฺฏุฑ GPS ูุฌุงุฒุ ุจุงุฏ ฺฉ ุฑุง ุจู ุจุฑูุงูู CounterFit ุงุถุงูู ฺฉูุฏ.

#### ูุธูู - ุงูุฒูุฏู ุญุณฺฏุฑ ุจู CounterFit

ุญุณฺฏุฑ GPS ุฑุง ุจู ุจุฑูุงูู CounterFit ุงุถุงูู ฺฉูุฏ.

1. ฺฉ ุจุฑูุงูู ูพุงุชูู ุฌุฏุฏ ุฏุฑ ฺฉุงููพูุชุฑ ุฎูุฏ ุฏุฑ ูพูุดูโุง ุจู ูุงู `gps-sensor` ุจุง ฺฉ ูุงู ุจู ูุงู `app.py` ู ฺฉ ูุญุท ูุฌุงุฒ ูพุงุชูู ุงุฌุงุฏ ฺฉูุฏ ู ุจุณุชูโูุง pip ูุฑุจูุท ุจู CounterFit ุฑุง ุงุถุงูู ฺฉูุฏ.

    > โ๏ธ ูโุชูุงูุฏ ุจู [ุฏุณุชูุฑุงูุนููโูุง ุงุฌุงุฏ ู ุชูุธู ฺฉ ูพุฑูฺู ูพุงุชูู CounterFit ุฏุฑ ุฏุฑุณ ฑ ุฏุฑ ุตูุฑุช ูุงุฒ ูุฑุงุฌุนู ฺฉูุฏ](../../../1-getting-started/lessons/1-introduction-to-iot/virtual-device.md).

1. ฺฉ ุจุณุชู Pip ุงุถุงู ูุตุจ ฺฉูุฏ ุชุง ฺฉ ุดู CounterFit ูุตุจ ุดูุฏ ฺฉู ุจุชูุงูุฏ ุจุง ุญุณฺฏุฑูุง ูุจุชู ุจุฑ UART ุงุฒ ุทุฑู ุงุชุตุงู ุณุฑุงู ุงุฑุชุจุงุท ุจุฑูุฑุงุฑ ฺฉูุฏ. ูุทูุฆู ุดูุฏ ฺฉู ุงู ฺฉุงุฑ ุฑุง ุงุฒ ฺฉ ุชุฑููุงู ุจุง ูุญุท ูุฌุงุฒ ูุนุงู ุงูุฌุงู ูโุฏูุฏ.

    ```sh
    pip install counterfit-shims-serial
    ```

1. ูุทูุฆู ุดูุฏ ฺฉู ุจุฑูุงูู ูุจ CounterFit ุฏุฑ ุญุงู ุงุฌุฑุง ุงุณุช.

1. ฺฉ ุญุณฺฏุฑ GPS ุงุฌุงุฏ ฺฉูุฏ:

    1. ุฏุฑ ฺฉุงุฏุฑ *Create sensor* ุฏุฑ ุจุฎุด *Sensors*ุ ุงุฒ ููู ฺฉุดู *Sensor type* ฺฏุฒูู *UART GPS* ุฑุง ุงูุชุฎุงุจ ฺฉูุฏ.

    1. ููุฏุงุฑ *Port* ุฑุง ุฑู */dev/ttyAMA0* ุจฺฏุฐุงุฑุฏ.

    1. ุฏฺฉูู **Add** ุฑุง ุงูุชุฎุงุจ ฺฉูุฏ ุชุง ุญุณฺฏุฑ GPS ุฏุฑ ูพูุฑุช `/dev/ttyAMA0` ุงุฌุงุฏ ุดูุฏ.

    ![ุชูุธูุงุช ุญุณฺฏุฑ GPS](../../../../../translated_images/counterfit-create-gps-sensor.6385dc9357d85ad1d47b4abb2525e7651fd498917d25eefc5a72feab09eedc70.fa.png)

    ุญุณฺฏุฑ GPS ุงุฌุงุฏ ุดุฏู ู ุฏุฑ ูุณุช ุญุณฺฏุฑูุง ุธุงูุฑ ูโุดูุฏ.

    ![ุญุณฺฏุฑ GPS ุงุฌุงุฏ ุดุฏู](../../../../../translated_images/counterfit-gps-sensor.3fbb15af0a5367566f2f11324ef5a6f30861cdf2b497071a5e002b7aa473550e.fa.png)

## ุจุฑูุงููโููุณ ุญุณฺฏุฑ GPS

ุงฺฉููู ูโุชูุงูุฏ ุฏุณุชฺฏุงู IoT ูุฌุงุฒ ุฑุง ุจุฑุง ุงุณุชูุงุฏู ุงุฒ ุญุณฺฏุฑ GPS ูุฌุงุฒ ุจุฑูุงููโููุณ ฺฉูุฏ.

### ูุธูู - ุจุฑูุงููโููุณ ุญุณฺฏุฑ GPS

ุจุฑูุงูู ุญุณฺฏุฑ GPS ุฑุง ุจููุณุฏ.

1. ูุทูุฆู ุดูุฏ ฺฉู ุจุฑูุงูู `gps-sensor` ุฏุฑ VS Code ุจุงุฒ ุงุณุช.

1. ูุงู `app.py` ุฑุง ุจุงุฒ ฺฉูุฏ.

1. ฺฉุฏ ุฒุฑ ุฑุง ุจู ุจุงูุง ูุงู `app.py` ุงุถุงูู ฺฉูุฏ ุชุง ุจุฑูุงูู ุจู CounterFit ูุชุตู ุดูุฏ:

    ```python
    from counterfit_connection import CounterFitConnection
    CounterFitConnection.init('127.0.0.1', 5000)
    ```

1. ฺฉุฏ ุฒุฑ ุฑุง ุฏุฑ ุงุฏุงูู ุงุถุงูู ฺฉูุฏ ุชุง ุจุฑุฎ ุงุฒ ฺฉุชุงุจุฎุงููโูุง ููุฑุฏูุงุฒุ ุงุฒ ุฌููู ฺฉุชุงุจุฎุงูู ูุฑุจูุท ุจู ูพูุฑุช ุณุฑุงู CounterFitุ ูุงุฑุฏ ุดููุฏ:

    ```python
    import time
    import counterfit_shims_serial
    
    serial = counterfit_shims_serial.Serial('/dev/ttyAMA0')
    ```

    ุงู ฺฉุฏ ูุงฺูู `serial` ุฑุง ุงุฒ ุจุณุชู Pip ุจู ูุงู `counterfit_shims_serial` ูุงุฑุฏ ูโฺฉูุฏ. ุณูพุณ ุจู ูพูุฑุช ุณุฑุงู `/dev/ttyAMA0` ูุชุตู ูโุดูุฏ - ุงู ุขุฏุฑุณ ูพูุฑุช ุณุฑุงู ุงุณุช ฺฉู ุญุณฺฏุฑ GPS ูุฌุงุฒ ุจุฑุง ูพูุฑุช UART ุฎูุฏ ุงุณุชูุงุฏู ูโฺฉูุฏ.

1. ฺฉุฏ ุฒุฑ ุฑุง ุฏุฑ ุงุฏุงูู ุงุถุงูู ฺฉูุฏ ุชุง ุงุฒ ูพูุฑุช ุณุฑุงู ุจุฎูุงูุฏ ู ููุงุฏุฑ ุฑุง ุฏุฑ ฺฉูุณูู ฺุงูพ ฺฉูุฏ:

    ```python
    def print_gps_data(line):
        print(line.rstrip())
    
    while True:
        line = serial.readline().decode('utf-8')
    
        while len(line) > 0:
            print_gps_data(line)
            line = serial.readline().decode('utf-8')
    
        time.sleep(1)
    ```

    ฺฉ ุชุงุจุน ุจู ูุงู `print_gps_data` ุชุนุฑู ุดุฏู ฺฉู ุฎุท ูุฑูุฏ ุฑุง ุฏุฑ ฺฉูุณูู ฺุงูพ ูโฺฉูุฏ.

    ุณูพุณ ฺฉุฏ ุจู ุตูุฑุช ุจโููุงุช ุญููู ูโุฒูุฏ ู ุฏุฑ ูุฑ ุญููู ุชุง ุฌุง ฺฉู ููฺฉู ุงุณุช ุฎุทูุท ูุชู ุฑุง ุงุฒ ูพูุฑุช ุณุฑุงู ูโุฎูุงูุฏ. ุจุฑุง ูุฑ ุฎุทุ ุชุงุจุน `print_gps_data` ุฑุง ูุฑุงุฎูุงู ูโฺฉูุฏ.

    ูพุณ ุงุฒ ุฎูุงูุฏู ุชูุงู ุฏุงุฏูโูุงุ ุญููู ุจู ูุฏุช ฑ ุซุงูู ูุชููู ูโุดูุฏ ู ุณูพุณ ุฏูุจุงุฑู ุชูุงุด ูโฺฉูุฏ.

1. ุงู ฺฉุฏ ุฑุง ุงุฌุฑุง ฺฉูุฏุ ูุทูุฆู ุดูุฏ ฺฉู ุงุฒ ุชุฑููุงู ูุชูุงูุช ุงุฒ ุชุฑููุงู ฺฉู ุจุฑูุงูู CounterFit ุฏุฑ ุขู ุงุฌุฑุง ูโุดูุฏ ุงุณุชูุงุฏู ูโฺฉูุฏ ุชุง ุจุฑูุงูู CounterFit ููฺูุงู ุฏุฑ ุญุงู ุงุฌุฑุง ุจุงู ุจูุงูุฏ.

1. ุงุฒ ุจุฑูุงูู CounterFitุ ููุฏุงุฑ ุญุณฺฏุฑ GPS ุฑุง ุชุบุฑ ุฏูุฏ. ูโุชูุงูุฏ ุงู ฺฉุงุฑ ุฑุง ุจู ฺฉ ุงุฒ ุฑูุดโูุง ุฒุฑ ุงูุฌุงู ุฏูุฏ:

    * ููุฏุงุฑ **Source** ุฑุง ุฑู `Lat/Lon` ุชูุธู ฺฉูุฏ ู ฺฉ ุนุฑุถ ุฌุบุฑุงูุงุ ุทูู ุฌุบุฑุงูุง ู ุชุนุฏุงุฏ ูุงููุงุฑูโูุง ุงุณุชูุงุฏูโุดุฏู ุจุฑุง ุฏุฑุงูุช ูููุนุช GPS ูุดุฎุต ฺฉูุฏ. ุงู ููุฏุงุฑ ููุท ฺฉ ุจุงุฑ ุงุฑุณุงู ูโุดูุฏุ ุจูุงุจุฑุงู ฺฏุฒูู **Repeat** ุฑุง ุนูุงูุช ุจุฒูุฏ ุชุง ุฏุงุฏูโูุง ูุฑ ุซุงูู ุชฺฉุฑุงุฑ ุดููุฏ.

      ![ุญุณฺฏุฑ GPS ุจุง Lat/Lon ุชูุธู ุดุฏู](../../../../../translated_images/counterfit-gps-sensor-latlon.008c867d75464fbe7f84107cc57040df565ac07cb57d2f21db37d087d470197d.fa.png)

    * ููุฏุงุฑ **Source** ุฑุง ุฑู `NMEA` ุชูุธู ฺฉูุฏ ู ฺูุฏ ุฌููู NMEA ุฏุฑ ฺฉุงุฏุฑ ูุชู ูุงุฑุฏ ฺฉูุฏ. ุชูุงู ุงู ููุงุฏุฑ ุงุฑุณุงู ูโุดููุฏุ ุจุง ุชุฃุฎุฑ ฑ ุซุงููโุง ูุจู ุงุฒ ูุฑ ุฌููู GGA (ูููุนุชโุงุจ).

      ![ุญุณฺฏุฑ GPS ุจุง ุฌููุงุช NMEA ุชูุธู ุดุฏู](../../../../../translated_images/counterfit-gps-sensor-nmea.c62eea442171e17e19528b051b104cfcecdc9cd18db7bc72920f29821ae63f73.fa.png)

      ูโุชูุงูุฏ ุงุฒ ุงุจุฒุงุฑ ูุงููุฏ [nmeagen.org](https://www.nmeagen.org) ุจุฑุง ุชููุฏ ุงู ุฌููุงุช ุจุง ฺฉุดุฏู ุฑู ููุดู ุงุณุชูุงุฏู ฺฉูุฏ. ุงู ููุงุฏุฑ ููุท ฺฉ ุจุงุฑ ุงุฑุณุงู ูโุดููุฏุ ุจูุงุจุฑุงู ฺฏุฒูู **Repeat** ุฑุง ุนูุงูุช ุจุฒูุฏ ุชุง ุฏุงุฏูโูุง ฺฉ ุซุงูู ูพุณ ุงุฒ ุงุฑุณุงู ฺฉุงูู ุชฺฉุฑุงุฑ ุดููุฏ.

    * ููุฏุงุฑ **Source** ุฑุง ุฑู ูุงู GPX ุชูุธู ฺฉูุฏ ู ฺฉ ูุงู GPX ุจุง ูููุนุชโูุง ูุณุฑ ุจุงุฑฺฏุฐุงุฑ ฺฉูุฏ. ูโุชูุงูุฏ ูุงูโูุง GPX ุฑุง ุงุฒ ุณุงุชโูุง ูุญุจูุจ ููุดูโุจุฑุฏุงุฑ ู ฺฉููููุฑุฏ ูุงููุฏ [AllTrails](https://www.alltrails.com/) ุฏุงูููุฏ ฺฉูุฏ. ุงู ูุงูโูุง ุดุงูู ฺูุฏู ูููุนุช GPS ุจู ุตูุฑุช ฺฉ ูุณุฑ ูุณุชูุฏ ู ุญุณฺฏุฑ GPS ูุฑ ูููุนุช ุฌุฏุฏ ุฑุง ุจุง ูุงุตูู ฑ ุซุงูู ุจุงุฒูโฺฏุฑุฏุงูุฏ.

      ![ุญุณฺฏุฑ GPS ุจุง ูุงู GPX ุชูุธู ุดุฏู](../../../../../translated_images/counterfit-gps-sensor-gpxfile.8310b063ce8a425ccc8ebeec8306aeac5e8e55207f007d52c6e1194432a70cd9.fa.png)

      ุงู ููุงุฏุฑ ููุท ฺฉ ุจุงุฑ ุงุฑุณุงู ูโุดููุฏุ ุจูุงุจุฑุงู ฺฏุฒูู **Repeat** ุฑุง ุนูุงูุช ุจุฒูุฏ ุชุง ุฏุงุฏูโูุง ฺฉ ุซุงูู ูพุณ ุงุฒ ุงุฑุณุงู ฺฉุงูู ุชฺฉุฑุงุฑ ุดููุฏ.

    ูพุณ ุงุฒ ุชูุธู ููุงุฏุฑ GPSุ ุฏฺฉูู **Set** ุฑุง ุงูุชุฎุงุจ ฺฉูุฏ ุชุง ุงู ููุงุฏุฑ ุจู ุญุณฺฏุฑ ุงุนูุงู ุดููุฏ.

1. ุฎุฑูุฌ ุฎุงู ุญุณฺฏุฑ GPS ุฑุง ูุดุงูุฏู ุฎูุงูุฏ ฺฉุฑุฏุ ฺุฒ ุดุจู ุจู ููุงุฑุฏ ุฒุฑ:

    ```output
    $GNGGA,020604.001,4738.538654,N,12208.341758,W,1,3,,164.7,M,-17.1,M,,*67
    $GNGGA,020604.001,4738.538654,N,12208.341758,W,1,3,,164.7,M,-17.1,M,,*67
    ```

> ๐ ูโุชูุงูุฏ ุงู ฺฉุฏ ุฑุง ุฏุฑ ูพูุดู [code-gps/virtual-device](../../../../../3-transport/lessons/1-location-tracking/code-gps/virtual-device) ูพุฏุง ฺฉูุฏ.

๐ ุจุฑูุงูู ุญุณฺฏุฑ GPS ุดูุง ุจุง ููููุช ุงุฌุฑุง ุดุฏ!

**ุณูุจ ูุณุฆููุช**:  
ุงู ุณูุฏ ุจุง ุงุณุชูุงุฏู ุงุฒ ุณุฑูุณ ุชุฑุฌูู ููุด ูุตููุน [Co-op Translator](https://github.com/Azure/co-op-translator) ุชุฑุฌูู ุดุฏู ุงุณุช. ุฏุฑ ุญุงู ฺฉู ูุง ุชูุงุด ูโฺฉูู ุฏูุช ุฑุง ุญูุธ ฺฉููุ ูุทูุงู ุชูุฌู ุฏุงุดุชู ุจุงุดุฏ ฺฉู ุชุฑุฌููโูุง ุฎูุฏฺฉุงุฑ ููฺฉู ุงุณุช ุดุงูู ุฎุทุงูุง ุง ูุงุฏุฑุณุชโูุง ุจุงุดูุฏ. ุณูุฏ ุงุตู ุจู ุฒุจุงู ุงุตู ุขู ุจุงุฏ ุจู ุนููุงู ููุจุน ูุนุชุจุฑ ุฏุฑ ูุธุฑ ฺฏุฑูุชู ุดูุฏ. ุจุฑุง ุงุทูุงุนุงุช ุญุงุชุ ุชูุตู ูโุดูุฏ ุงุฒ ุชุฑุฌูู ุญุฑููโุง ุงูุณุงู ุงุณุชูุงุฏู ฺฉูุฏ. ูุง ูุณุฆููุช ุฏุฑ ูุจุงู ุณูุก ุชูุงููโูุง ุง ุชูุณุฑูุง ูุงุฏุฑุณุช ูุงุด ุงุฒ ุงุณุชูุงุฏู ุงุฒ ุงู ุชุฑุฌูู ูุฏุงุฑู.