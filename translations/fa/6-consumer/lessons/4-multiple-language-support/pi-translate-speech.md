<!--
CO_OP_TRANSLATOR_METADATA:
{
  "original_hash": "bbb5aa34221fe129dd3ce4d9ec33831a",
  "translation_date": "2025-08-25T22:28:39+00:00",
  "source_file": "6-consumer/lessons/4-multiple-language-support/pi-translate-speech.md",
  "language_code": "fa"
}
-->
# ุชุฑุฌูู ฺฏูุชุงุฑ - ุฑุฒุจุฑ ูพุง

ุฏุฑ ุงู ุจุฎุด ุงุฒ ุฏุฑุณุ ุดูุง ฺฉุฏ ุฎูุงูุฏ ููุดุช ฺฉู ูุชู ุฑุง ุจุง ุงุณุชูุงุฏู ุงุฒ ุณุฑูุณ ูุชุฑุฌู ุชุฑุฌูู ฺฉูุฏ.

## ุชุจุฏู ูุชู ุจู ฺฏูุชุงุฑ ุจุง ุงุณุชูุงุฏู ุงุฒ ุณุฑูุณ ูุชุฑุฌู

ุฑุงุจุท ุจุฑูุงููโููุณ REST ุณุฑูุณ ฺฏูุชุงุฑ ุงุฒ ุชุฑุฌูู ูุณุชูู ูพุดุชุจุงู ููโฺฉูุฏ. ุฏุฑ ุนูุถุ ูโุชูุงูุฏ ุงุฒ ุณุฑูุณ ูุชุฑุฌู ุจุฑุง ุชุฑุฌูู ูุชู ฺฉู ุชูุณุท ุณุฑูุณ ฺฏูุชุงุฑ ุจู ูุชู ุชููุฏ ุดุฏู ู ููฺูู ูุชู ูพุงุณุฎ ฺฏูุชุงุฑ ุงุณุชูุงุฏู ฺฉูุฏ. ุงู ุณุฑูุณ ฺฉ ุฑุงุจุท REST API ุฏุงุฑุฏ ฺฉู ูโุชูุงูุฏ ุงุฒ ุขู ุจุฑุง ุชุฑุฌูู ูุชู ุงุณุชูุงุฏู ฺฉูุฏ.

### ูุธูู - ุงุณุชูุงุฏู ุงุฒ ููุจุน ูุชุฑุฌู ุจุฑุง ุชุฑุฌูู ูุชู

1. ุชุงูุฑ ููุดููุฏ ุดูุง ุฏู ุฒุจุงู ุชูุธูโุดุฏู ุฎูุงูุฏ ุฏุงุดุช - ุฒุจุงู ุณุฑูุฑ ฺฉู ุจุฑุง ุขููุฒุด LUIS ุงุณุชูุงุฏู ุดุฏู (ููู ุฒุจุงู ุจุฑุง ุณุงุฎุช ูพุงูโูุง ฺฉู ุจู ฺฉุงุฑุจุฑ ฺฏูุชู ูโุดูุฏ ูุฒ ุงุณุชูุงุฏู ูโุดูุฏ) ู ุฒุจุงู ุตุญุจุชโุดุฏู ุชูุณุท ฺฉุงุฑุจุฑ. ูุชุบุฑ `language` ุฑุง ุจู ุฒุจุงู ฺฉู ฺฉุงุฑุจุฑ ุตุญุจุช ุฎูุงูุฏ ฺฉุฑุฏ ุจูโุฑูุฒุฑุณุงู ฺฉูุฏ ู ฺฉ ูุชุบุฑ ุฌุฏุฏ ุจู ูุงู `server_language` ุจุฑุง ุฒุจุงู ฺฉู ุจุฑุง ุขููุฒุด LUIS ุงุณุชูุงุฏู ุดุฏู ุงุถุงูู ฺฉูุฏ:

    ```python
    language = '<user language>'
    server_language = '<server language>'
    ```

    `<user language>` ุฑุง ุจุง ูุงู ูุญู ุฒุจุงู ฺฉู ุฏุฑ ุขู ุตุญุจุช ุฎูุงูุฏ ฺฉุฑุฏ ุฌุงฺฏุฒู ฺฉูุฏุ ุจุฑุง ูุซุงู `fr-FR` ุจุฑุง ูุฑุงูุณู ุง `zn-HK` ุจุฑุง ฺฉุงูุชูู.

    `<server language>` ุฑุง ุจุง ูุงู ูุญู ุฒุจุงู ฺฉู ุจุฑุง ุขููุฒุด LUIS ุงุณุชูุงุฏู ุดุฏู ุฌุงฺฏุฒู ฺฉูุฏ.

    ูโุชูุงูุฏ ููุฑุณุช ุงุฒ ุฒุจุงูโูุง ูพุดุชุจุงูโุดุฏู ู ูุงูโูุง ูุญู ุขูโูุง ุฑุง ุฏุฑ [ูุณุชูุฏุงุช ูพุดุชุจุงู ุฒุจุงู ู ุตุฏุง ุฏุฑ Microsoft docs](https://docs.microsoft.com/azure/cognitive-services/speech-service/language-support?WT.mc_id=academic-17441-jabenn#speech-to-text) ูพุฏุง ฺฉูุฏ.

    > ๐ ุงฺฏุฑ ุจู ฺูุฏ ุฒุจุงู ุตุญุจุช ููโฺฉูุฏุ ูโุชูุงูุฏ ุงุฒ ุฎุฏูุงุช ูุงููุฏ [Bing Translate](https://www.bing.com/translator) ุง [Google Translate](https://translate.google.com) ุจุฑุง ุชุฑุฌูู ุงุฒ ุฒุจุงู ุฏูุฎูุงู ุฎูุฏ ุจู ุฒุจุงู ุฏฺฏุฑ ุงุณุชูุงุฏู ฺฉูุฏ. ุงู ุฎุฏูุงุช ูโุชูุงููุฏ ุตุฏุง ูุชู ุชุฑุฌููโุดุฏู ุฑุง ูุฒ ูพุฎุด ฺฉููุฏ.
    >
    > ุจุฑุง ูุซุงูุ ุงฺฏุฑ LUIS ุฑุง ุจู ุฒุจุงู ุงูฺฏูุณ ุขููุฒุด ุฏุงุฏูโุงุฏ ุงูุง ูโุฎูุงูุฏ ุงุฒ ุฒุจุงู ูุฑุงูุณู ุจูโุนููุงู ุฒุจุงู ฺฉุงุฑุจุฑ ุงุณุชูุงุฏู ฺฉูุฏุ ูโุชูุงูุฏ ุฌููุงุช ูุงููุฏ "set a 2 minute and 27 second timer" ุฑุง ุงุฒ ุงูฺฏูุณ ุจู ูุฑุงูุณู ุจุง ุงุณุชูุงุฏู ุงุฒ Bing Translate ุชุฑุฌูู ฺฉูุฏุ ุณูพุณ ุงุฒ ุฏฺฉูู **Listen translation** ุจุฑุง ฺฏูุชู ุชุฑุฌูู ุจู ูฺฉุฑูููู ุฎูุฏ ุงุณุชูุงุฏู ฺฉูุฏ.
    >
    > ![ุฏฺฉูู Listen translation ุฏุฑ Bing Translate](../../../../../translated_images/bing-translate.348aa796d6efe2a92f41ea74a5cf42bb4c63d6faaa08e7f46924e072a35daa48.fa.png)

1. ฺฉูุฏ API ูุชุฑุฌู ุฑุง ุฒุฑ `speech_api_key` ุงุถุงูู ฺฉูุฏ:

    ```python
    translator_api_key = '<key>'
    ```

    `<key>` ุฑุง ุจุง ฺฉูุฏ API ููุจุน ุณุฑูุณ ูุชุฑุฌู ุฎูุฏ ุฌุงฺฏุฒู ฺฉูุฏ.

1. ุจุงูุง ุชุงุจุน `say`ุ ฺฉ ุชุงุจุน ุจู ูุงู `translate_text` ุชุนุฑู ฺฉูุฏ ฺฉู ูุชู ุฑุง ุงุฒ ุฒุจุงู ุณุฑูุฑ ุจู ุฒุจุงู ฺฉุงุฑุจุฑ ุชุฑุฌูู ฺฉูุฏ:

    ```python
    def translate_text(text, from_language, to_language):
    ```

    ุฒุจุงูโูุง ูุจุฏุง ู ููุตุฏ ุจู ุงู ุชุงุจุน ุงุฑุณุงู ูโุดููุฏ - ุจุฑูุงูู ุดูุง ุจุงุฏ ููฺฏุงู ุดูุงุณุง ฺฏูุชุงุฑุ ุงุฒ ุฒุจุงู ฺฉุงุฑุจุฑ ุจู ุฒุจุงู ุณุฑูุฑ ุชุจุฏู ฺฉูุฏ ู ููฺฏุงู ุงุฑุงุฆู ุจุงุฒุฎูุฑุฏ ฺฏูุชุงุฑุ ุงุฒ ุฒุจุงู ุณุฑูุฑ ุจู ุฒุจุงู ฺฉุงุฑุจุฑ.

1. ุฏุงุฎู ุงู ุชุงุจุนุ URL ู ูุฏุฑูุง ูุฑุจูุท ุจู ูุฑุงุฎูุงู REST API ุฑุง ุชุนุฑู ฺฉูุฏ:

    ```python
    url = f'https://api.cognitive.microsofttranslator.com/translate?api-version=3.0'

    headers = {
        'Ocp-Apim-Subscription-Key': translator_api_key,
        'Ocp-Apim-Subscription-Region': location,
        'Content-type': 'application/json'
    }
    ```

    URL ุงู API ุจู ูฺฉุงู ุฎุงุต ูุงุจุณุชู ูุณุชุ ุจูฺฉู ูฺฉุงู ุจูโุนููุงู ฺฉ ูุฏุฑ ุงุฑุณุงู ูโุดูุฏ. ฺฉูุฏ API ูุณุชููุงู ุงุณุชูุงุฏู ูโุดูุฏุ ุจูุงุจุฑุงู ุจุฑุฎูุงู ุณุฑูุณ ฺฏูุชุงุฑุ ูุงุฒ ุจู ุฏุฑุงูุช ุชูฺฉู ุฏุณุชุฑุณ ุงุฒ API ุตุงุฏุฑฺฉููุฏู ุชูฺฉู ูุณุช.

1. ุฒุฑ ุงู ุจุฎุดุ ูพุงุฑุงูุชุฑูุง ู ุจุฏูู ูุฑุงุฎูุงู ุฑุง ุชุนุฑู ฺฉูุฏ:

    ```python
    params = {
        'from': from_language,
        'to': to_language
    }

    body = [{
        'text' : text
    }]
    ```

    `params` ูพุงุฑุงูุชุฑูุง ุฑุง ฺฉู ุจุงุฏ ุจู ูุฑุงุฎูุงู API ุงุฑุณุงู ุดููุฏ ุชุนุฑู ูโฺฉูุฏุ ู ุฒุจุงูโูุง ูุจุฏุง ู ููุตุฏ ุฑุง ุงุฑุณุงู ูโฺฉูุฏ. ุงู ูุฑุงุฎูุงู ูุชู ุฑุง ุงุฒ ุฒุจุงู `from` ุจู ุฒุจุงู `to` ุชุฑุฌูู ูโฺฉูุฏ.

    `body` ุดุงูู ูุชู ุงุณุช ฺฉู ุจุงุฏ ุชุฑุฌูู ุดูุฏ. ุงู ฺฉ ุขุฑุงู ุงุณุชุ ุฒุฑุง ฺูุฏู ุจููฺฉ ูุชู ูโุชูุงููุฏ ุฏุฑ ฺฉ ูุฑุงุฎูุงู ุชุฑุฌูู ุดููุฏ.

1. ูุฑุงุฎูุงู REST API ุฑุง ุงูุฌุงู ุฏูุฏ ู ูพุงุณุฎ ุฑุง ุฏุฑุงูุช ฺฉูุฏ:

    ```python
    response = requests.post(url, headers=headers, params=params, json=body)
    ```

    ูพุงุณุฎ ฺฉู ุจุฑูโฺฏุฑุฏุฏ ฺฉ ุขุฑุงู JSON ุงุณุช ฺฉู ฺฉ ุขุชู ุฏุงุฑุฏ ฺฉู ุดุงูู ุชุฑุฌููโูุง ุงุณุช. ุงู ุขุชู ฺฉ ุขุฑุงู ุจุฑุง ุชุฑุฌููโูุง ุชูุงู ุขุชูโูุง ุงุฑุณุงูโุดุฏู ุฏุฑ ุจุฏูู ุฏุงุฑุฏ.

    ```json
    [
        {
            "translations": [
                {
                    "text": "Set a 2 minute 27 second timer.",
                    "to": "en"
                }
            ]
        }
    ]
    ```

1. ูฺฺฏ `text` ุงุฒ ุงููู ุชุฑุฌูู ุงุฒ ุงููู ุขุชู ุฏุฑ ุขุฑุงู ุฑุง ุจุงุฒฺฏุฑุฏุงูุฏ:

    ```python
    return response.json()[0]['translations'][0]['text']
    ```

1. ุญููู `while True` ุฑุง ุจูโุฑูุฒุฑุณุงู ฺฉูุฏ ุชุง ูุชู ูุฑุงุฎูุงู `convert_speech_to_text` ุฑุง ุงุฒ ุฒุจุงู ฺฉุงุฑุจุฑ ุจู ุฒุจุงู ุณุฑูุฑ ุชุฑุฌูู ฺฉูุฏ:

    ```python
    if len(text) > 0:
        print('Original:', text)
        text = translate_text(text, language, server_language)
        print('Translated:', text)

        message = Message(json.dumps({ 'speech': text }))
        device_client.send_message(message)
    ```

    ุงู ฺฉุฏ ููฺูู ูุณุฎู ุงุตู ู ุชุฑุฌููโุดุฏู ูุชู ุฑุง ุฏุฑ ฺฉูุณูู ฺุงูพ ูโฺฉูุฏ.

1. ุชุงุจุน `say` ุฑุง ุจูโุฑูุฒุฑุณุงู ฺฉูุฏ ุชุง ูุชู ฺฏูุชุงุฑ ุฑุง ุงุฒ ุฒุจุงู ุณุฑูุฑ ุจู ุฒุจุงู ฺฉุงุฑุจุฑ ุชุฑุฌูู ฺฉูุฏ:

    ```python
    def say(text):
        print('Original:', text)
        text = translate_text(text, server_language, language)
        print('Translated:', text)
        speech = get_speech(text)
        play_speech(speech)
    ```

    ุงู ฺฉุฏ ููฺูู ูุณุฎู ุงุตู ู ุชุฑุฌููโุดุฏู ูุชู ุฑุง ุฏุฑ ฺฉูุณูู ฺุงูพ ูโฺฉูุฏ.

1. ฺฉุฏ ุฎูุฏ ุฑุง ุงุฌุฑุง ฺฉูุฏ. ุงุทููุงู ุญุงุตู ฺฉูุฏ ฺฉู ุจุฑูุงูู ุชุงุจุน ุดูุง ุฏุฑ ุญุงู ุงุฌุฑุง ุงุณุช ู ฺฉ ุชุงูุฑ ุฑุง ุจู ุฒุจุงู ฺฉุงุฑุจุฑ ุฏุฑุฎูุงุณุช ฺฉูุฏุ ุง ุจุง ุตุญุจุช ฺฉุฑุฏู ุจู ุขู ุฒุจุงู ุง ุจุง ุงุณุชูุงุฏู ุงุฒ ฺฉ ุจุฑูุงูู ุชุฑุฌูู.

    ```output
    pi@raspberrypi:~/smart-timer $ python3 app.py
    Connecting
    Connected
    Using voice fr-FR-DeniseNeural
    Original: Dรฉfinir une minuterie de 2 minutes et 27 secondes.
    Translated: Set a timer of 2 minutes and 27 seconds.
    Original: 2 minute 27 second timer started.
    Translated: 2 minute 27 seconde minute a commencรฉ.
    Original: Times up on your 2 minute 27 second timer.
    Translated: Chronomรฉtrant votre minuterie de 2 minutes 27 secondes.
    ```

    > ๐ ุจู ุฏูู ุฑูุดโูุง ูุฎุชูู ุจุงู ฺฉ ููุถูุน ุฏุฑ ุฒุจุงูโูุง ูุฎุชููุ ููฺฉู ุงุณุช ุชุฑุฌููโูุง ุฏุฑุงูุช ฺฉูุฏ ฺฉู ฺฉู ุจุง ูุซุงูโูุง ฺฉู ุจู LUIS ุฏุงุฏูโุงุฏ ูุชูุงูุช ุจุงุดูุฏ. ุงฺฏุฑ ุงู ุงุชูุงู ุงูุชุงุฏุ ูุซุงูโูุง ุจุดุชุฑ ุจู LUIS ุงุถุงูู ฺฉูุฏุ ูุฏู ุฑุง ุฏูุจุงุฑู ุขููุฒุด ุฏูุฏ ู ุณูพุณ ุฏูุจุงุฑู ููุชุดุฑ ฺฉูุฏ.

> ๐ ูโุชูุงูุฏ ุงู ฺฉุฏ ุฑุง ุฏุฑ ูพูุดู [code/pi](../../../../../6-consumer/lessons/4-multiple-language-support/code/pi) ูพุฏุง ฺฉูุฏ.

๐ ุจุฑูุงูู ุชุงูุฑ ฺูุฏุฒุจุงูู ุดูุง ููููุชโุขูุฒ ุจูุฏ!

**ุณูุจ ูุณุฆููุช**:  
ุงู ุณูุฏ ุจุง ุงุณุชูุงุฏู ุงุฒ ุณุฑูุณ ุชุฑุฌูู ููุด ูุตููุน [Co-op Translator](https://github.com/Azure/co-op-translator) ุชุฑุฌูู ุดุฏู ุงุณุช. ุฏุฑ ุญุงู ฺฉู ูุง ุชูุงุด ูโฺฉูู ุฏูุช ุฑุง ุญูุธ ฺฉููุ ูุทูุงู ุชูุฌู ุฏุงุดุชู ุจุงุดุฏ ฺฉู ุชุฑุฌููโูุง ุฎูุฏฺฉุงุฑ ููฺฉู ุงุณุช ุดุงูู ุฎุทุงูุง ุง ูุงุฏุฑุณุชโูุง ุจุงุดูุฏ. ุณูุฏ ุงุตู ุจู ุฒุจุงู ุงุตู ุขู ุจุงุฏ ุจู ุนููุงู ููุจุน ูุนุชุจุฑ ุฏุฑ ูุธุฑ ฺฏุฑูุชู ุดูุฏ. ุจุฑุง ุงุทูุงุนุงุช ุญุณุงุณุ ุชูุตู ูโุดูุฏ ุงุฒ ุชุฑุฌูู ุงูุณุงู ุญุฑููโุง ุงุณุชูุงุฏู ฺฉูุฏ. ูุง ูุณุฆููุช ุฏุฑ ูุจุงู ุณูุก ุชูุงููโูุง ุง ุชูุณุฑูุง ูุงุฏุฑุณุช ูุงุด ุงุฒ ุงุณุชูุงุฏู ุงุฒ ุงู ุชุฑุฌูู ูุฏุงุฑู.