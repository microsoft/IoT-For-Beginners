<!--
CO_OP_TRANSLATOR_METADATA:
{
  "original_hash": "64ad4ddb4de81a18b7252e968f10b404",
  "translation_date": "2025-08-25T22:34:32+00:00",
  "source_file": "6-consumer/lessons/3-spoken-feedback/single-board-computer-set-timer.md",
  "language_code": "fa"
}
-->
# ุชูุธู ฺฉ ุชุงูุฑ - ุณุฎุชโุงูุฒุงุฑ ูุฌุงุฒ IoT ู ุฑุฒุจุฑ ูพุง

ุฏุฑ ุงู ุจุฎุด ุงุฒ ุฏุฑุณุ ุดูุง ฺฉุฏ ุจุฏูู ุณุฑูุฑ ุฎูุฏ ุฑุง ูุฑุงุฎูุงู ูโฺฉูุฏ ุชุง ฺฏูุชุงุฑ ุฑุง ุฏุฑฺฉ ฺฉุฑุฏู ู ุจุฑ ุงุณุงุณ ูุชุงุฌุ ฺฉ ุชุงูุฑ ุฑู ุฏุณุชฺฏุงู ูุฌุงุฒ IoT ุง ุฑุฒุจุฑ ูพุง ุชูุธู ฺฉูุฏ.

## ุชูุธู ฺฉ ุชุงูุฑ

ูุชู ฺฉู ุงุฒ ูุฑุงุฎูุงู ุชุจุฏู ฺฏูุชุงุฑ ุจู ูุชู ุจุงุฒูโฺฏุฑุฏุฏุ ุจุงุฏ ุจู ฺฉุฏ ุจุฏูู ุณุฑูุฑ ุดูุง ุงุฑุณุงู ุดูุฏ ุชุง ุชูุณุท LUIS ูพุฑุฏุงุฒุด ุดูุฏ ู ุชุนุฏุงุฏ ุซุงููโูุง ุชุงูุฑ ุฑุง ุจุงุฒฺฏุฑุฏุงูุฏ. ุงู ุชุนุฏุงุฏ ุซุงููโูุง ูโุชูุงูุฏ ุจุฑุง ุชูุธู ุชุงูุฑ ุงุณุชูุงุฏู ุดูุฏ.

ุชุงูุฑูุง ุฑุง ูโุชูุงู ุจุง ุงุณุชูุงุฏู ุงุฒ ฺฉูุงุณ `threading.Timer` ุฏุฑ ูพุงุชูู ุชูุธู ฺฉุฑุฏ. ุงู ฺฉูุงุณ ฺฉ ุฒูุงู ุชุฃุฎุฑ ู ฺฉ ุชุงุจุน ูโฺฏุฑุฏ ู ูพุณ ุงุฒ ุฒูุงู ุชุฃุฎุฑุ ุชุงุจุน ุงุฌุฑุง ูโุดูุฏ.

### ูุธูู - ุงุฑุณุงู ูุชู ุจู ุชุงุจุน ุจุฏูู ุณุฑูุฑ

1. ูพุฑูฺู `smart-timer` ุฑุง ุฏุฑ VS Code ุจุงุฒ ฺฉูุฏ ู ูุทูุฆู ุดูุฏ ฺฉู ูุญุท ูุฌุงุฒ ุฏุฑ ุชุฑููุงู ุจุงุฑฺฏุฐุงุฑ ุดุฏู ุงุณุชุ ุงฺฏุฑ ุงุฒ ฺฉ ุฏุณุชฺฏุงู ูุฌุงุฒ IoT ุงุณุชูุงุฏู ูโฺฉูุฏ.

1. ุจุงูุง ุชุงุจุน `process_text`ุ ฺฉ ุชุงุจุน ุจู ูุงู `get_timer_time` ุชุนุฑู ฺฉูุฏ ุชุง ููุทู ูพุงุงู REST ฺฉู ุงุฌุงุฏ ฺฉุฑุฏูโุงุฏ ุฑุง ูุฑุงุฎูุงู ฺฉูุฏ:

    ```python
    def get_timer_time(text):
    ```

1. ฺฉุฏ ุฒุฑ ุฑุง ุจู ุงู ุชุงุจุน ุงุถุงูู ฺฉูุฏ ุชุง URL ููุฑุฏ ูุธุฑ ุจุฑุง ูุฑุงุฎูุงู ุฑุง ุชุนุฑู ฺฉูุฏ:

    ```python
    url = '<URL>'
    ```

    `<URL>` ุฑุง ุจุง URL ููุทู ูพุงุงู REST ฺฉู ุฏุฑ ุฏุฑุณ ูุจู ุณุงุฎุชูโุงุฏ ุฌุงฺฏุฒู ฺฉูุฏุ ฺู ุฑู ฺฉุงููพูุชุฑ ุดูุง ุจุงุดุฏ ุง ุฏุฑ ูุถุง ุงุจุฑ.

1. ฺฉุฏ ุฒุฑ ุฑุง ุงุถุงูู ฺฉูุฏ ุชุง ูุชู ุจูโุนููุงู ฺฉ ูฺฺฏ ฺฉู ุจูโุตูุฑุช JSON ุงุฑุณุงู ูโุดูุฏุ ุชูุธู ุดูุฏ:

    ```python
    body = {
        'text': text
    }
    
    response = requests.post(url, json=body)
    ```

1. ุฏุฑ ุงุฏุงููุ `seconds` ุฑุง ุงุฒ payload ูพุงุณุฎ ุจุงุฒุงุจ ฺฉูุฏ ู ุฏุฑ ุตูุฑุช ุดฺฉุณุช ูุฑุงุฎูุงูุ ููุฏุงุฑ 0 ุฑุง ุจุงุฒฺฏุฑุฏุงูุฏ:

    ```python
    if response.status_code != 200:
        return 0
    
    payload = response.json()
    return payload['seconds']
    ```

    ูุฑุงุฎูุงูโูุง HTTP ูููู ฺฉุฏ ูุถุนุช ุฏุฑ ูุญุฏูุฏู 200 ุจุงุฒูโฺฏุฑุฏุงููุฏ ู ฺฉุฏ ุจุฏูู ุณุฑูุฑ ุดูุง ุฏุฑ ุตูุฑุช ฺฉู ูุชู ูพุฑุฏุงุฒุด ุดุฏู ู ุจูโุนููุงู ูุช ุชูุธู ุชุงูุฑ ุดูุงุณุง ุดูุฏุ ฺฉุฏ 200 ุจุงุฒูโฺฏุฑุฏุงูุฏ.

### ูุธูู - ุชูุธู ุชุงูุฑ ุฏุฑ ฺฉ ุฑุดุชู ูพุณโุฒููู

1. ุนุจุงุฑุช import ุฒุฑ ุฑุง ุฏุฑ ุจุงูุง ูุงู ุงุถุงูู ฺฉูุฏ ุชุง ฺฉุชุงุจุฎุงูู threading ูพุงุชูู ุฑุง ูุงุฑุฏ ฺฉูุฏ:

    ```python
    import threading
    ```

1. ุจุงูุง ุชุงุจุน `process_text`ุ ฺฉ ุชุงุจุน ุจุฑุง ฺฏูุชู ูพุงุณุฎ ุงุถุงูู ฺฉูุฏ. ูุนูุงู ุงู ุชุงุจุน ููุท ุฏุฑ ฺฉูุณูู ูโููุณุฏุ ุงูุง ุจุนุฏุงู ุฏุฑ ุงู ุฏุฑุณ ูุชู ุฑุง ูโุฎูุงูุฏ.

    ```python
    def say(text):
        print(text)
    ```

1. ุฏุฑ ุงุฏุงููุ ฺฉ ุชุงุจุน ุงุถุงูู ฺฉูุฏ ฺฉู ุชูุณุท ุชุงูุฑ ูุฑุงุฎูุงู ูโุดูุฏ ุชุง ุงุนูุงู ฺฉูุฏ ุชุงูุฑ ุจู ูพุงุงู ุฑุณุฏู ุงุณุช:

    ```python
    def announce_timer(minutes, seconds):
        announcement = 'Times up on your '
        if minutes > 0:
            announcement += f'{minutes} minute '
        if seconds > 0:
            announcement += f'{seconds} second '
        announcement += 'timer.'
        say(announcement)
    ```

    ุงู ุชุงุจุน ุชุนุฏุงุฏ ุฏูููโูุง ู ุซุงููโูุง ุชุงูุฑ ุฑุง ูโฺฏุฑุฏ ู ฺฉ ุฌููู ูโุณุงุฒุฏ ฺฉู ุงุนูุงู ูโฺฉูุฏ ุชุงูุฑ ุจู ูพุงุงู ุฑุณุฏู ุงุณุช. ุงู ุชุงุจุน ุชุนุฏุงุฏ ุฏูููโูุง ู ุซุงููโูุง ุฑุง ุจุฑุฑุณ ูโฺฉูุฏ ู ููุท ูุฑ ูุงุญุฏ ุฒูุงู ุฑุง ฺฉู ุนุฏุฏ ุฏุงุฑุฏุ ุดุงูู ูโุดูุฏ. ุจุฑุง ูุซุงูุ ุงฺฏุฑ ุชุนุฏุงุฏ ุฏูููโูุง 0 ุจุงุดุฏุ ููุท ุซุงููโูุง ุฏุฑ ูพุงู ฺฏูุฌุงูุฏู ูโุดููุฏ. ุงู ุฌููู ุณูพุณ ุจู ุชุงุจุน `say` ุงุฑุณุงู ูโุดูุฏ.

1. ุฏุฑ ุงุฏุงููุ ุชุงุจุน `create_timer` ุฒุฑ ุฑุง ุจุฑุง ุงุฌุงุฏ ุชุงูุฑ ุงุถุงูู ฺฉูุฏ:

    ```python
    def create_timer(total_seconds):
        minutes, seconds = divmod(total_seconds, 60)
        threading.Timer(total_seconds, announce_timer, args=[minutes, seconds]).start()
    ```

    ุงู ุชุงุจุน ุชุนุฏุงุฏ ฺฉู ุซุงููโูุง ุชุงูุฑ ุฑุง ฺฉู ุฏุฑ ูุฑูุงู ุงุฑุณุงู ูโุดูุฏ ูโฺฏุฑุฏ ู ุขู ุฑุง ุจู ุฏูููโูุง ู ุซุงููโูุง ุชุจุฏู ูโฺฉูุฏ. ุณูพุณ ฺฉ ุดุก ุชุงูุฑ ุจุง ุงุณุชูุงุฏู ุงุฒ ุชุนุฏุงุฏ ฺฉู ุซุงููโูุง ุงุฌุงุฏ ู ุดุฑูุน ูโฺฉูุฏ ู ุชุงุจุน `announce_timer` ู ฺฉ ูุณุช ุดุงูู ุฏูููโูุง ู ุซุงููโูุง ุฑุง ุจู ุขู ุงุฑุณุงู ูโฺฉูุฏ. ููุช ุชุงูุฑ ุจู ูพุงุงู ูโุฑุณุฏุ ุชุงุจุน `announce_timer` ุฑุง ูุฑุงุฎูุงู ูโฺฉูุฏ ู ูุญุชูุง ุงู ูุณุช ุฑุง ุจูโุนููุงู ูพุงุฑุงูุชุฑูุง ุงุฑุณุงู ูโฺฉูุฏ - ุจูุงุจุฑุงู ุงููู ุขุชู ูุณุช ุจูโุนููุงู ูพุงุฑุงูุชุฑ `minutes` ู ุฏููู ุขุชู ุจูโุนููุงู ูพุงุฑุงูุชุฑ `seconds` ุงุฑุณุงู ูโุดูุฏ.

1. ุจู ุงูุชูุง ุชุงุจุน `create_timer` ฺฉุฏ ุงุถุงูู ฺฉูุฏ ุชุง ูพุงู ุจุฑุง ฺฉุงุฑุจุฑ ุณุงุฎุชู ุดูุฏ ฺฉู ุงุนูุงู ฺฉูุฏ ุชุงูุฑ ุฏุฑ ุญุงู ุดุฑูุน ุงุณุช:

    ```python
    announcement = ''
    if minutes > 0:
        announcement += f'{minutes} minute '
    if seconds > 0:
        announcement += f'{seconds} second '    
    announcement += 'timer started.'
    say(announcement)
    ```

    ุจุงุฒ ููุ ุงู ูพุงู ููุท ูุงุญุฏ ุฒูุงูโุง ุฑุง ฺฉู ููุฏุงุฑ ุฏุงุฑุฏ ุดุงูู ูโุดูุฏ. ุงู ุฌููู ุณูพุณ ุจู ุชุงุจุน `say` ุงุฑุณุงู ูโุดูุฏ.

1. ฺฉุฏ ุฒุฑ ุฑุง ุจู ุงูุชูุง ุชุงุจุน `process_text` ุงุถุงูู ฺฉูุฏ ุชุง ุฒูุงู ุชุงูุฑ ุฑุง ุงุฒ ูุชู ุฏุฑุงูุช ฺฉุฑุฏู ู ุณูพุณ ุชุงูุฑ ุฑุง ุงุฌุงุฏ ฺฉูุฏ:

    ```python
    seconds = get_timer_time(text)
    if seconds > 0:
        create_timer(seconds)
    ```

    ุชุงูุฑ ููุท ุฏุฑ ุตูุฑุช ุงุฌุงุฏ ูโุดูุฏ ฺฉู ุชุนุฏุงุฏ ุซุงููโูุง ุจุดุชุฑ ุงุฒ 0 ุจุงุดุฏ.

1. ุจุฑูุงูู ุฑุง ุงุฌุฑุง ฺฉูุฏ ู ูุทูุฆู ุดูุฏ ฺฉู ุจุฑูุงูู ุชุงุจุน ูุฒ ุฏุฑ ุญุงู ุงุฌุฑุง ุงุณุช. ฺูุฏ ุชุงูุฑ ุชูุธู ฺฉูุฏ ู ุฎุฑูุฌ ูุดุงู ูโุฏูุฏ ฺฉู ุชุงูุฑ ุชูุธู ุดุฏู ู ุณูพุณ ูุดุงู ูโุฏูุฏ ฺฉู ุชุงูุฑ ุจู ูพุงุงู ุฑุณุฏู ุงุณุช:

    ```output
    pi@raspberrypi:~/smart-timer $ python3 app.py 
    Set a two minute 27 second timer.
    2 minute 27 second timer started.
    Times up on your 2 minute 27 second timer.
    ```

> ๐ ูโุชูุงูุฏ ุงู ฺฉุฏ ุฑุง ุฏุฑ ูพูุดู [code-timer/pi](../../../../../6-consumer/lessons/3-spoken-feedback/code-timer/pi) ุง [code-timer/virtual-iot-device](../../../../../6-consumer/lessons/3-spoken-feedback/code-timer/virtual-iot-device) ูพุฏุง ฺฉูุฏ.

๐ ุจุฑูุงูู ุชุงูุฑ ุดูุง ููููุชโุขูุฒ ุจูุฏ!

**ุณูุจ ูุณุฆููุช**:  
ุงู ุณูุฏ ุจุง ุงุณุชูุงุฏู ุงุฒ ุณุฑูุณ ุชุฑุฌูู ููุด ูุตููุน [Co-op Translator](https://github.com/Azure/co-op-translator) ุชุฑุฌูู ุดุฏู ุงุณุช. ุฏุฑ ุญุงู ฺฉู ูุง ุชูุงุด ูโฺฉูู ุฏูุช ุฑุง ุญูุธ ฺฉููุ ูุทูุงู ุชูุฌู ุฏุงุดุชู ุจุงุดุฏ ฺฉู ุชุฑุฌููโูุง ุฎูุฏฺฉุงุฑ ููฺฉู ุงุณุช ุดุงูู ุฎุทุงูุง ุง ูุงุฏุฑุณุชโูุง ุจุงุดูุฏ. ุณูุฏ ุงุตู ุจู ุฒุจุงู ุงุตู ุขู ุจุงุฏ ุจู ุนููุงู ููุจุน ูุนุชุจุฑ ุฏุฑ ูุธุฑ ฺฏุฑูุชู ุดูุฏ. ุจุฑุง ุงุทูุงุนุงุช ุญุณุงุณุ ุชูุตู ูโุดูุฏ ุงุฒ ุชุฑุฌูู ุญุฑููโุง ุงูุณุงู ุงุณุชูุงุฏู ฺฉูุฏ. ูุง ูุณุฆููุช ุฏุฑ ูุจุงู ุณูุกุชูุงููโูุง ุง ุชูุณุฑูุง ูุงุฏุฑุณุช ูุงุด ุงุฒ ุงุณุชูุงุฏู ุงุฒ ุงู ุชุฑุฌูู ูุฏุงุฑู.