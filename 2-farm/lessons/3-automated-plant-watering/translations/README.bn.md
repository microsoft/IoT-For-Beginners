# рж╕рзНржмрзЯржВржХрзНрж░рж┐рзЯ рж╕рзЗржЪржХрж╛рж░рзНржп

![A sketchnote overview of this lesson](../../../../sketchnotes/lesson-7.jpg)

> рж╕рзНржХрзЗржЪржирзЛржЯржЯрж┐ рждрзИрж░рзА ржХрж░рзЗржЫрзЗржи [Nitya Narasimhan](https://github.com/nitya)ред ржмрзЬ рж╕ржВрж╕рзНржХрж░ржгрзЗ ржжрзЗржЦрж╛рж░ ржЬржирзНржп ржЫржмрж┐ржЯрж┐рждрзЗ ржХрзНрж▓рж┐ржХ ржХрж░рждрзЗ рж╣ржмрзЗред

## рж▓рзЗржХржЪрж╛рж░-ржкрзВрж░рзНржмржмрж░рзНрждрзА ржХрзБржЗржЬ

[рж▓рзЗржХржЪрж╛рж░-ржкрзВрж░рзНржмржмрж░рзНрждрзА ржХрзБржЗржЬ](https://black-meadow-040d15503.1.azurestaticapps.net/quiz/13)

## рж╕рзВржЪржирж╛

ржЧржд ржкрж╛ржарзЗ ржЖржорж░рж╛ ржХрзАржнрж╛ржмрзЗ ржорж╛ржЯрж┐рж░ ржЖрж░рзНржжрзНрж░рждрж╛ ржирж┐рж░рзАржХрзНрж╖ржг ржХрж░ржм рждрж╛ рж╢рж┐ржЦрзЗржЫрж┐ред ржПржЗ ржкрж╛ржарзЗ ржЬрж╛ржиржмрзЛ ржХрзАржнрж╛ржмрзЗ ржПржХржЯрж┐ рж╕рзНржмржпрж╝ржВржХрзНрж░рж┐ржпрж╝ ржкрж╛ржирж┐ рж╕рж░ржмрж░рж╛рж╣ ржмрзНржпржмрж╕рзНржерж╛рж░ ржорзВрж▓ ржЙржкрж╛ржжрж╛ржиржЧрзБрж▓рж┐ рждрзИрж░рж┐ ржХрж░рждрзЗ рж╣ржмрзЗ ржпрж╛ ржорж╛ржЯрж┐рж░ ржЖрж░рзНржжрзНрж░рждрж╛рж░ ржЙржкрж░ ржнрж┐рждрзНрждрж┐ ржХрж░рзЗ ржХрж╛ржЬ ржХрж░ржмрзЗред ржПржЫрж╛рзЬрж╛ржУ рж╕ржоржпрж╝ рж╕ржВржХрзНрж░рж╛ржирзНржд ржмрж┐рж╖рзЯрзЯрж╛ржжрж┐ржУ ржЬрж╛ржиржмрзЛ - рж╕рзЗржирзНрж╕рж░ржЧрзБрж▓рж┐ рждрж╛ржжрзЗрж░ ржЕржмрж╕рзНржерж╛рж░ ржкрж░рж┐ржмрж░рзНрждржирзЗрж░ ржкрзНрж░рждрж┐ржХрзНрж░рж┐ржпрж╝рж╛ ржЬрж╛ржирж╛рждрзЗ ржХрзАржнрж╛ржмрзЗ рж╕ржоржпрж╝ ржирж┐рждрзЗ ржкрж╛рж░рзЗ ржПржмржВ рж╕рзЗржирзНрж╕рж░ржЧрзБрж▓рж┐рж░ ржжрзНржмрж╛рж░рж╛ ржкрж░рж┐ржорж╛ржк ржХрж░рж╛ ржмрзИрж╢рж┐рж╖рзНржЯрзНржпржЧрзБрж▓рж┐ ржкрж░рж┐ржмрж░рзНрждржирзЗ ржПржХржЪрзБрзЯрзЗржЯрж░рзЗрж░ ржХрж╛ржЬрзЗрж░ ржЬржирзНржп ржХрждржЯрж╛ рж╕ржорзЯ ржирзЗрзЯ, рждрж╛ ржЬрж╛ржирждрзЗ ржкрж╛рж░ржмрзЛред

ржПржЗ ржкрж╛ржарзЗ ржЖржорж░рж╛ ржпрзЗрж╕ржХрж▓ ржмрж┐рж╖рзЯ рж╢рж┐ржЦржмрзЛ:

* [рж▓рзЛ ржкрж╛ржУржпрж╝рж╛рж░ ржЖржЗржУржЯрж┐ ржбрж┐ржнрж╛ржЗрж╕ ржерзЗржХрзЗ рж╣рж╛ржЗ ржкрж╛ржУржпрж╝рж╛рж░ ржбрж┐ржнрж╛ржЗрж╕ ржирж┐ржпрж╝ржирзНрждрзНрж░ржг](#рж▓рзЛ-ржкрж╛ржУржпрж╝рж╛рж░-ржЖржЗржУржЯрж┐-ржбрж┐ржнрж╛ржЗрж╕-ржерзЗржХрзЗ-рж╣рж╛ржЗ-ржкрж╛ржУржпрж╝рж╛рж░-ржбрж┐ржнрж╛ржЗрж╕-ржирж┐ржпрж╝ржирзНрждрзНрж░ржг)
* [рж░рж┐рж▓рзЗ ржирж┐рзЯржирзНрждрзНрж░ржг](#рж░рж┐рж▓рзЗ-ржирж┐рзЯржирзНрждрзНрж░ржг)
* [MQTT ржжрзНржмрж╛рж░рж╛ ржЙржжрзНржнрж┐ржж ржирж┐рзЯржирзНрждрзНрж░ржг](#MQTT-ржжрзНржмрж╛рж░рж╛-ржЙржжрзНржнрж┐ржж-ржирж┐рзЯржирзНрждрзНрж░ржг)
* [рж╕рзЗржирзНрж╕рж░ ржПржмржВ ржЕрзНржпрж╛ржХржЪрзБрзЯрзЗржЯрж░рзЗрж░ ржЯрж╛ржЗржорж┐ржВ](#рж╕рзЗржирзНрж╕рж░-ржПржмржВ-ржЕрзНржпрж╛ржХржЪрзБрзЯрзЗржЯрж░рзЗрж░-ржЯрж╛ржЗржорж┐ржВ)
* [ржЙржжрзНржнрж┐ржж ржирж┐рзЯржирзНрждрзНрж░ржгрзЗ ржЯрж╛ржЗржорж┐ржВ ржпрзБржХрзНржд ржХрж░рж╛](#ржЙржжрзНржнрж┐ржж-ржирж┐ржпрж╝ржирзНрждрзНрж░ржг-рж╕рж╛рж░рзНржнрж╛рж░рзЗ-ржЯрж╛ржЗржорж┐ржВ-ржпрзБржХрзНржд-ржХрж░рж╛)

## рж▓рзЛ ржкрж╛ржУржпрж╝рж╛рж░ ржЖржЗржУржЯрж┐ ржбрж┐ржнрж╛ржЗрж╕ ржерзЗржХрзЗ рж╣рж╛ржЗ ржкрж╛ржУржпрж╝рж╛рж░ ржбрж┐ржнрж╛ржЗрж╕ ржирж┐ржпрж╝ржирзНрждрзНрж░ржг

ржЖржЗржУржЯрж┐ ржбрж┐ржнрж╛ржЗрж╕ржЧрзБрж▓рж┐ ржХржо ржнрзЛрж▓рзНржЯрзЗржЬ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗред ржпржжрж┐ржУ ржПржЯрж┐ рж╕рзЗржирзНрж╕рж░ ржПржмржВ ржПрж▓ржЗржбрж┐ ржПрж░ ржорждрзЛ рж▓рзЛ-ржкрж╛ржУржпрж╝рж╛рж░ ржпржирзНрждрзНрж░рзЗрж░ ржкржХрзНрж╖рзЗ ржпржерзЗрж╖рзНржЯ, ржХрж┐ржирзНрждрзБ ржмрзЬ рж╣рж╛рж░рзНржбржУржпрж╝рзНржпрж╛рж░ ржпрзЗржоржи рж╕рзЗржЪрзЗрж░ ржЬржирзНржп ржмрзНржпржмрж╣рзГржд ржкрж╛ржирж┐рж░ ржкрж╛ржорзНржк ржирж┐ржпрж╝ржирзНрждрзНрж░ржг ржХрж░рждрзЗ ржПржЯрж┐ ржЦрзБржм ржХржо ржнрзЛрж▓рзНржЯрзЗржЬред ржПржоржиржХрж┐ ржЖржорж╛ржжрзЗрж░ ржмрж╛рж╕рж╛ржмрж╛рзЬрж┐рж░ ржЫрзЛржЯ ржЪрж╛рж░рж╛ржЧрж╛ржЫрзЗрж░ ржЬржирзНржп ржпрзЗ ржЫрзЛржЯ ржкрж╛ржорзНржкржЧрзБрж▓рж┐ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж╛ рж╣рзЯ, рж╕рзЗржЧрзБрж▓рж┐ржУ ржЖржЗржУржЯрж┐ ржбрзЗржн ржХрж┐ржЯрзЗрж░ рж╕рж╣рзНржпрж╕рзАржорж╛рж░ рждрзБрж▓ржирж╛ржорзВрж▓ржХ ржЦрзБржм ржмрзЗрж╢рж┐ ржХрж╛рж░рзЗржирзНржЯ ржирж┐рзЯрзЗ ржирзЗрзЯ ржПржмржВ ржмрзЛрж░рзНржбржЯрж┐ ржкрзБрзЬрзЗ ржпрзЗрждрзЗ ржкрж╛рж░рзЗред

> ЁЯОУ рждрзЬрж┐рзО ржкрзНрж░ржмрж╛рж╣ ржмрж╛ ржХрж╛рж░рзЗржирзНржЯ, ржкрж░рж┐ржорж╛ржк ржХрж░рж╛ рж╣рзЯ ржЕрзНржпрж╛ржорзНржкрж┐ржпрж╝рж╛рж░ (A) ржПржХржХрзЗ, ржПржХржЯрж┐ рж╕рж╛рж░рзНржХрж┐ржЯ ржорж╛ржзрзНржпржорзЗ ржкрзНрж░ржмрж╛рж╣рж┐ржд ржмрж┐ржжрзНржпрзБрждрзЗрж░ ржкрж░рж┐ржорж╛ржгред ржнрзЛрж▓рзНржЯрзЗржЬ ржПржЦрж╛ржирзЗ ржзрж╛ржХрзНржХрж╛ рждрзИрж░рзА ржХрж░рзЗ ржЖрж░ ржХрж╛рж░рзЗржирзНржЯ рж╣рж▓рзЛ рж╕рзЗржЗ ржзрж╛ржХрзНржХрж╛рж░ ржкрж░рж┐ржорж╛ржгред [рждрзЬрж┐рзО ржкрзНрж░ржмрж╛рж╣ ржПрж░ Wikipedia ржкрзЗржЗржЬ](https://wikipedia.org/wiki/Electric_current) ржкрзЬрж▓рзЗ ржП рж╕ржорзНржкрж░рзНржХрзЗ ржЖрж░рзЛ ржмрж┐рж╕рзНрждрж╛рж░рж┐ржд ржЬрж╛ржирж╛ ржпрж╛ржмрзЗред

ржПржЗ рж╕ржорж╕рзНржпрж╛рж░ рж╕ржорж╛ржзрж╛ржиржЯрж┐ рж╣рж▓ ржкрж╛ржорзНржкржХрзЗ ржПржХржЯрж┐ ржмрж╛рж╣рзНржпрж┐ржХ ржмрж┐ржжрзНржпрзБрзО рж╕рж░ржмрж░рж╛рж╣рзЗрж░ рж╕рж╛ржерзЗ рж╕ржВржпрзБржХрзНржд ржХрж░рж╛ ржПржмржВ ржкрж╛ржорзНржкржЯрж┐ ржЪрж╛рж▓рзБ ржХрж░рж╛рж░ ржЬржирзНржп ржПржХржЯрж┐ ржЕрзНржпрж╛ржХржЪрзБрзЯрзЗржЯрж░ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж╛ ржпрж╛ ржЕржирзЗржХржЯрж╛ ржмрж╛рждрж┐рж░ рж╕рзНржпрзБржЗржЪ ржЬрзНржмрж╛рж▓рж╛ржирзЛрж░ ржорждрзЛред ржЖржорж╛ржжрзЗрж░ ржЖржЩрзБрж▓ ржПржХржЯрж┐ рж╕рзНржпрзБржЗржЪ ржлрзНрж▓рж┐ржк ржХрж░рждрзЗ ржЦрзБржм рж╕рж╛ржорж╛ржирзНржп ржкрж░рж┐ржорж╛ржг рж╢ржХрзНрждрж┐ (ржжрзЗрж╣рзЗрж░ рж╢ржХрзНрждрж┐рж░ ржЖржХрж╛рж░рзЗ) рж▓рж╛ржЧрзЗ ржПржмржВ ржПржЯрж┐ 110v ржмрж╛ 240v ржП ржЪрж▓ржорж╛ржи ржмрж┐ржжрзНржпрзБрждрзЗрж░ рж╕рж╛ржерзЗ ржмрж╛рждрж┐ржХрзЗ рж╕ржВржпрзБржХрзНржд ржХрж░рзЗред

![A light switch turns power on to a light](../../../../images/light-switch.png)

> ЁЯОУ [Mains electricity](https://wikipedia.org/wiki/Mains_electricity) ржмрж▓рждрзЗ ржмрзЛржЭрж╛ржирзЛ рж╣рзЯ, ржЬрж╛рждрзАрзЯ ржЕржмржХрж╛ржарж╛ржорзЛ ржерзЗржХрзЗ ржмрж╛рж╕рж╛ржмрж╛рзЬрж┐рждрзЗ рж╕рж░ржмрж░рж╛рж╣ржХрзГржд ржХрж╛рж░рзЗржирзНржЯред 

тЬЕ ржЖржЗржУржЯрж┐ ржбрж┐ржнрж╛ржЗрж╕ржЧрзБрж▓рж┐ рж╕рж╛ржзрж╛рж░ржгржд 3.3V ржмрж╛ 5V рж╕рж░ржмрж░рж╛рж╣ ржХрж░рждрзЗ ржкрж╛рж░рзЗ рзз ржПржорзНржкрж┐рзЯрж╛рж░ ржХрж╛рж░рзЗржирзНржЯрзЗред ржпржжрж┐ ржЖржорж░рж╛ ржорзЗржЗржи ржХрж╛рж░рзЗржирзНржЯрзЗрж░ рж╕рж╛ржерзЗ ржПрж░ рждрзБрж▓ржирж╛ ржХрж░рж┐, рж╕рзЗржХрзНрж╖рзЗрждрзНрж░рзЗ ржЖржорж░рж╛ ржжрзЗржЦрж┐ ржорзЗржЗржирзЗ ржкрзНрж░рж╛рзЯ рзирзйрзжржнрзЛрж▓рзНржЯ рж╕рж░ржмрж░рж╛рж╣ ржХрж░рж╛ рж╣рзЯ ((ржЙрждрзНрждрж░ ржЖржорзЗрж░рж┐ржХрж╛рждрзЗ 120V ржПржмржВ ржЬрж╛ржкрж╛ржирзЗ 100 V), ржпрж╛рж░ ржжрзНржмрж╛рж░рж╛ рзйрзж ржПржорзНржкрж┐рзЯрж╛рж░рзЗрж░ ржорзЗрж╢рж┐ржиржУ ржЪрж╛рж▓рж╛ржирзЛ ржпрж╛рзЯред

ржПржоржи ржЕржирзЗржХржЧрзБрж▓рж┐ ржЕрзНржпрж╛ржХржЪрзБрзЯрзЗржЯрж░ рж░ржпрж╝рзЗржЫрзЗ ржпрж╛ ржПржЗ рж╕рзНржпрзБржЗржЪрж┐ржВ ржХрж░рждрзЗ ржкрж╛рж░рзЗ - ржпрж╛ржирзНрждрзНрж░рж┐ржХ ржбрж┐ржнрж╛ржЗрж╕ рж╕рж╣ ржмрж┐ржжрзНржпржорж╛ржи рж╕рзНржмрж╛ржнрж╛ржмрж┐ржХ рж╕рзБржЗржЪржЧрзБрж▓рж┐рждрзЗржУ ржПржЯрж┐ рж╕ржВржпрзБржХрзНржд ржХрж░рж╛ ржпрж╛ржмрзЗ ржпрж╛ ржХрзЛржи ржЖржЩрзБрж▓ ржПрж░ ржорждржЗ рж╕рзНржпрзБржЗржЪ ржирж┐рзЯржирзНрждрзНрж░ржг  ржХрж░рзЗред ржПржЗ ржХрж╛ржЬрзЗрж░ ржкрзНрж░ржЪрж▓рж┐ржд ржЙржкрж╛рзЯржЧрзБрж▓рзЛрж░ ржоржзрзНржпрзЗ рж╕рж░рзНржмрж╛ржзрж┐ржХ ржЬржиржкрзНрж░рж┐ржпрж╝ рж╣рж▓рзЛ рж░рж┐рж▓рзЗред

### рж░рж┐рж▓рзЗ

рж░рж┐рж▓рзЗ ржПржХржЯрж┐ ржЗрж▓рзЗржХрзНржЯрзНрж░рзЛржорзЗржХрж╛ржирж┐ржХрж╛рж▓ рж╕рзБржЗржЪ ржпрж╛ ржмрзИржжрзНржпрзБрждрж┐ржХ рж╕ржВржХрзЗрждржХрзЗ ржпрж╛ржирзНрждрзНрж░рж┐ржХ рж╕ржВржХрзЗрждрзЗ рж░рзВржкрж╛ржирзНрждрж░ ржХрж░рзЗ ржПржмржВ ржПржХржЯрж┐ рж╕рзНржпрзБржЗржЪ ржЪрж╛рж▓рзБ ржХрж░рзЗред рж░рж┐рж▓рзЗ ржорзВрж▓ржд ржПржХржЯрж┐ ржмрзИржжрзНржпрзБрждрж┐ржХ ржЪрзМржорзНржмржХред

> ЁЯОУ [ржЗрж▓рзЗржХрзНржЯрзНрж░рзЛржорзНржпрж╛ржЧржирзЗржЯ](https://wikipedia.org/wiki/Electromagnet) рж╣рж▓рзЛ ржПржоржи ржЪрзМржорзНржмржХ ржпрзЗржЧрзБрж▓рзЛ рждрж╛рж░ ржкрзНржпрж╛ржБржЪрж╛ржирзЛ ржХржпрж╝рзЗрж▓ ржжрж┐ржпрж╝рзЗ ржмрж┐ржжрзНржпрзБрзО ржкрж░рж┐ржмрж╣ржи ржХрж░рж╛ржирзЛрж░ ржорж╛ржзрзНржпржорзЗ  рждрзИрж░рзА ржХрж░рж╛ рж╣рзЯред ржПржЦрж╛ржирзЗ ржмрж┐ржжрзНржпрзБрзО ржЪрж╛рж▓рзБ ржХрж░рж╛ рж╣рж▓рзЗ, ржХрзБржгрзНржбрж▓рзА ржЪрзМржорзНржмржХрж┐ржд рж╣ржпрж╝рзЗ ржпрж╛ржпрж╝ред ржмрж┐ржжрзНржпрзБрзО ржмржирзНржз рж╣ржпрж╝рзЗ ржЧрзЗрж▓рзЗ, рждрж╛ ржЪрзБржорзНржмржХрждрзНржм рж╣рж╛рж░рж┐ржпрж╝рзЗ ржлрзЗрж▓рзЗред

![When on, the electromagnet creates a magnetic field, turning on the switch for the output circuit](../../../../images/relay-on.png)

рж░рж┐рж▓рзЗрждрзЗ ржПржХржЯрж┐ ржХржирзНржЯрзНрж░рзЛрж▓ рж╕рж╛рж░рзНржХрж┐ржЯ ржмрзИржжрзНржпрзБрждрж┐ржХ ржЪрзМржорзНржмржХржХрзЗ ржкрж╛ржУрзЯрж╛рж░ рж╕рж░ржмрж░рж╛рж╣ ржХрж░рзЗ ред ржпржЦржи ржмрзИржжрзНржпрзБрждрж┐ржХ ржЪрзМржорзНржмржХржЯрж┐ ржЪрж╛рж▓рзБ ржерж╛ржХрзЗ, рждржЦржи ржПржЯрж┐ рж▓рж┐ржнрж╛рж░ ржЯрзЗржирзЗ ржПржХржЯрж┐ рж╕рзНржпрзБржЗржЪржХрзЗ ржирж┐рзЯржирзНрждрзНрж░ржг ржХрж░рзЗ ржПржмржВ ржПрждрзНрж░ ржПржХржЯрж┐ ржЖржЙржЯржкрзБржЯ рж╕рж╛рж░рзНржХрж┐ржЯ рж╕ржорзНржкрзВрж░рзНржг рж╣рзЯред

![When off, the electromagnet doesn't create a magnetic field, turning off the switch for the output circuit](../../../../images/relay-off.png)

ржХржирзНржЯрзНрж░рзЛрж▓ рж╕рж╛рж░рзНржХрж┐ржЯ ржЕржл рж╣ржпрж╝рзЗ ржЧрзЗрж▓рзЗ, рждржбрж╝рж┐рзО ржЪрзМржорзНржмржХржЯрж┐ ржмржирзНржз рж╣ржпрж╝рзЗ ржпрж╛ржпрж╝ред ржПрждрзЗ ржХрж░рзЗ рждрж╛ рж▓рж┐ржнрж╛рж░ржЯрж┐ ржЫрзЗрзЬрзЗ ржжрзЗрзЯ ржПржмржВ ржЖржЙржЯржкрзБржЯ рж╕рж╛рж░рзНржХрж┐ржЯржЯрж┐ ржмржирзНржз рж╣рзЯрзЗ ржпрж╛рзЯред рж░рж┐рж▓рзЗржЧрзБрж▓рж┐ рж╣рж▓ ржбрж┐ржЬрж┐ржЯрж╛рж▓ ржЕрзНржпрж╛ржХржЪрзБрзЯрзЗржЯрж░ - рж░рж┐рж▓рзЗрждрзЗ ржПржХржЯрж┐ ржЙржЪрзНржЪрждрж░ рж╕ржВржХрзЗржд High рж╕рж┐ржЧржирзНржпрж╛рж▓ ржПржЯрж┐ ржЪрж╛рж▓рзБ ржХрж░рзЗ, ржЖржмрж╛рж░ Low рж╕рж┐ржЧржирзНржпрж╛рж▓ ржПржЯрж┐ ржмржирзНржз ржХрж░рзЗ ржжрзЗржпрж╝ред

ржЖржЙржЯржкрзБржЯ рж╕рж╛рж░рзНржХрж┐ржЯржЯрж┐ рж╕рзЗржЪржХрж╛рж░рзНржпрзЗрж░ ржорждрзЛ ржЕрждрж┐рж░рж┐ржХрзНржд рж╣рж╛рж░рзНржбржУржпрж╝рзНржпрж╛рж░ржХрзЗ ржкрж╛ржУржпрж╝рж╛рж░ рж╕рж░ржмрж░рж╛рж╣ ржХрж░рждрзЗ ржмрзНржпржмрж╣рзГржд рж╣рждрзЗ ржкрж╛рж░рзЗред ржЖржЗржУржЯрж┐ ржбрж┐ржнрж╛ржЗрж╕ рж░рж┐рж▓рзЗ ржПрж░ рж╕рзНржпрзБржЗржЪ ржЕржи ржХрж░рждрзЗ ржкрж╛рж░рзЗ ржпрж╛рж░ ржлрж▓рзЗ рж╕рзЗржЪржХрж╛рж░рзНржп ржЪрж╛рж▓рзБ ржХрж░рж╛ ржпрж╛рзЯ ржПржмржВ ржЧрж╛ржЫржкрж╛рж▓рж╛рж░ ржкрж╛ржирж┐рж░ ржмрзНржпржмрж╕рзНржерж╛ рж╣ржмрзЗред ржЖржЗржУржЯрж┐ ржбрж┐ржнрж╛ржЗрж╕ржЯрж┐ рждрж╛рж░ржкрж░рзЗ рж░рж┐рж▓рзЗржЯрж┐ ржмржирзНржз ржХрж░рзЗ, ржПрждрзЗ ржХрж░рзЗ рж╕рзЗржЪ ржмрзНржпржмрж╕рзНржерж╛рждрзЗ ржкрж╛ржУрзЯрж╛рж░ рж╕рж░ржмрж░рж╛рж╣ ржмржирзНржз рж╣рзЯрзЗ ржпрж╛рзЯ ржПржмржВ ржкрж╛ржирж┐ ржжрзЗрзЯрж╛рж░ ржХрж╛ржЬржЯрж┐ рж╢рзЗрж╖ рж╣рзЯред

![A relay turning on, turning on a pump sending water to a plant](../../../../images/strawberry-pump.gif)

ржЙржкрж░рзЗрж░ ржнрж┐ржбрж┐ржУрждрзЗ, ржПржХржЯрж┐ рж░рж┐рж▓рзЗ ржЪрж╛рж▓рзБ ржЖржЫрзЗред рж░рж┐рж▓рзЗ ржПрж░ ржЙржкрж░рзЗ ржПржХржЯрж┐ ржПрж▓ржЗржбрж┐ рж░рзЯрзЗржЫрзЗ ржпрж╛ ржЖржорж╛ржжрзЗрж░ржХрзЗ ржЬрж╛ржирж╛ржи ржжрзЗрзЯ ржПржЯрж┐ ржЪрж╛рж▓рзБ рж░ржпрж╝рзЗржЫрзЗ ржХрж┐ржирж╛ (ржХрж┐ржЫрзБ рж░рж┐рж▓рзЗ ржмрзЛрж░рзНржбржЧрзБрж▓рж┐ рж░рж┐рж▓рзЗ ржЪрж╛рж▓рзБ ржмрж╛ ржмржирзНржз ржЖржЫрзЗ ржХрж┐ржирж╛ рждрж╛ ржмрзЛржЭрж╛ржирзЛрж░ ржЬржирзНржп ржПрж▓ржЗржбрж┐ рж░ржпрж╝рзЗржЫрзЗ), ржПржмржВ ржкрж╛ржорзНржкрзЗ ржПржирж╛рж░рзНржЬрж┐ рж╕рж░ржмрж░рж╛рж╣ ржХрж░рж╛ рж╣ржпрж╝ред ржлрж▓рзЗ ржПржЯрж┐ ржЪрж╛рж▓рзБ рж╣рзЯрзЗ ржЙржжрзНржнрж┐ржжрзЗрж░ ржЬржирзНржп ржкрж╛ржирж┐ ржкрж╛ржорзНржк ржХрж░рзЗред

> ЁЯТБ рж░рж┐рж▓рзЗржЧрзБрж▓рж┐ ржЪрж╛рж▓рзБ ржПржмржВ ржмржирзНржз ржирж╛ ржХрж░рзЗ ржмрж░ржВ ржжрзБржЯрж┐ ржЖржЙржЯржкрзБржЯ рж╕рж╛рж░рзНржХрж┐ржЯрзЗрж░ ржоржзрзНржпрзЗ ржПржирж╛рж░рзНржЬрж┐ рж╕рж░ржмрж░рж╛рж╣ ржкрж░рж┐ржмрж░рзНрждржи ржХрж░рждрзЗржУ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж╛ ржпрзЗрждрзЗ ржкрж╛рж░рзЗред ржпрзЗржоржи, рж▓рж┐ржнрж╛рж░ржЯрж┐ рж╣рзЯрждрзЛ ржкрзНрж░ржержорзЗ  ржПржХржЯрж┐ ржЖржЙржЯржкрзБржЯ рж╕рж╛рж░рзНржХрж┐ржЯ рж╕ржорзНржкрзВрж░рзНржг ржХрж░рж▓рзЛ, ржкрж░рзЗ рж╕рзНржпрзБржЗржЪ ржХрж░рзЗ ржЕржирзНржп ржЖржЙржЯржкрзБржЯ рж╕рж╛рж░рзНржХрж┐ржЯржЯрж┐ рж╕ржорзНржкрзВрж░рзНржг ржХрж░рж▓рзЛред ржПрждрзЗ ржПржХржЯрж┐ рж╕рж╛ржзрж╛рж░ржг ржкрж╛ржУржпрж╝рж╛рж░ рж╕ржВржпрзЛржЧ ржмрж╛ ржХржоржи ржЧрзНрж░рж╛ржЙржирзНржб ржерж╛ржХрзЗред

тЬЕ ржХрж┐ржЫрзБ ржЧржмрзЗрж╖ржгрж╛ ржХрж░рж╛ ржпрж╛ржХ: ржмрж┐ржнрж┐ржирзНржи ржзрж░ржгрзЗрж░ рж░рж┐рж▓рзЗ рж░ржпрж╝рзЗржЫрзЗред ржПржжрзЗрж░ ржкрж╛рж░рзНржержХрзНржп ржХрж░рж▓рзЗ ржжрзЗржЦрж╛ ржпрж╛рзЯ, ржХржирзНржЯрзНрж░рзЛрж▓ рж╕рж╛рж░рзНржХрж┐ржЯрзЗ ржкрж╛ржУржпрж╝рж╛рж░ ржкрзНрж░ржпрж╝рзЛржЧ ржХрж░рж╛ рж╣рж▓рзЗ рж░рж┐рж▓рзЗржЯрж┐ ржЪрж╛рж▓рзБ ржмрж╛ ржмржирзНржз рж╣рзЯрзЗ ржпрж╛рзЯ, ржмрж╛ ржПржХрж╛ржзрж┐ржХ ржЖржЙржЯржкрзБржЯ рж╕рж╛рж░рзНржХрж┐ржЯрзЗ рж╕рзБржЗржЪ ржХрж░рзЗред ржПрж░ржХржо ржмрж┐ржнрж┐ржирзНржи ржзрж░ржгрзЗрж░ ржкрж╛рж░рзНржержХрзНржп ржирж┐рзЯрзЗ ржЖрж░рзЛ ржЕржирзБрж╕ржирзНржзрж╛ржи ржХрж░рж┐ред

ржпржЦржи рж▓рж┐ржнрж╛рж░ржЯрж┐ рж╕рзНржерж╛ржи ржкрж░рж┐ржмрж░рзНрждржи ржХрж░рзЗ, рждржЦржи рж╕рж╛ржзрж╛рж░ржгржд ржПржХржЯрж┐ рж╢ржмрзНржж рж╢рзБржирждрзЗ ржкрж╛ржУрзЯрж╛ ржпрж╛рзЯред ржПржЯрж┐ ржПржХржЯрж┐ ржХрзНрж▓рж┐ржХрзЗрж░ рж╢ржмрзНржж, ржпрж╛ ржжрж┐ржпрж╝рзЗ ржмрзИржжрзНржпрзБрждрж┐ржХ ржЪрзМржорзНржмржХржЯрж┐рж░ рж╕рж╛ржерзЗ ржпрзЛржЧрж╛ржпрзЛржЧ ржХрж░рж╛ рж╣рзЯред

> ЁЯТБ ржПржХржЯрж┐ рж░рж┐рж▓рзЗржХрзЗ рждрж╛рж░рзЗрж░ ржжрзНржмрж╛рж░рж╛ ржпрзБржХрзНржд ржХрж░рж╛ ржпрзЗрждрзЗ ржкрж╛рж░рзЗ ржпрж╛рждрзЗ ржмрзИржжрзНржпрзБрждрж┐ржХ рж╕ржВржпрзЛржЧ рждрзИрж░рж┐ ржХрж░рж╛ рж╣рж▓рзЗ, рж░рж┐рж▓рзЗрждрзЗ ржПржирж╛рж░рзНржЬрж┐ рж╕рж╛ржкрзНрж▓рж╛ржЗ ржмржирзНржз рж╣рзЯрзЗ ржЧрж┐рзЯрзЗ рждрж╛ ржЕржл рж╣рзЯрзЗ ржпрж╛рзЯред ржкрж╛ржУрзЯрж╛рж░ рж╕рж░ржмрж░рж╛рж╣ ржХрж░рж▓рзЗ, ржЖржмрж╛рж░ ржПржХржЗржнрж╛ржмрзЗ рж░рж┐рж▓рзЗ ржЕржи рж╣рзЯрзЗ ржХрж╛ржЬ ржХрж░рждрзЗ ржкрж╛рж░ржмрзЗред ржПрж░ ржЕрж░рзНрже рж░рж┐рж▓рзЗ ржХрзНрж▓рж┐ржХ ржХрж░рж▓рзЗ ржЕржмрж┐рж╢рзНржмрж╛рж╕рзНржпржнрж╛ржмрзЗ ржжрзНрж░рзБржд ржПржХржЯрж┐ рж╢ржмрзНржж рждрзИрж░рзА ржХрж░рзЗред ржПржЗржнрж╛ржмрзЗржЗ ржкрзНрж░ржержоржжрж┐ржХрзЗ ржЖржорж╛ржжрзЗрж░ ржжрж░ржЬрж╛рж░ ржмрзИржжрзНржпрзБрждрж┐рзНржХ ржХрж▓рж┐ржВржмрзЗрж▓ рждрзИрж░рзАрждрзЗ buzzer ржмрзНржпржмрж╣рзГржд рж╣рждрзЛ ред

### рж░рж┐рж▓рзЗ ржкрж╛ржУрзЯрж╛рж░

ржЗрж▓рзЗржХрзНржЯрзНрж░рзЛржорзНржпрж╛ржЧржирзЗржЯ ржжрзНржмрж╛рж░рж╛ рж▓рж┐ржнрж╛рж░ржЯрж┐ рж╕ржХрзНрж░рж┐ржпрж╝ ржХрж░рждрзЗ ржПржмржВ рждрж╛рж░ ржХрж╛ржЬ ржХрж░рждрзЗ ржЦрзБржм ржмрзЗрж╢рж┐ ржкрж╛ржУржпрж╝рж╛рж░рзЗрж░ ржкрзНрж░ржпрж╝рзЛржЬржи рж╣ржпрж╝ ржирж╛ред ржПржЯрж┐ ржЖржЗржУржЯрж┐ ржбрзЗржн ржХрж┐ржЯ ржерзЗржХрзЗ 3.3V ржмрж╛ 5V ржЖржЙржЯржкрзБржЯ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ ржирж┐ржпрж╝ржирзНрждрзНрж░ржг ржХрж░рж╛ ржпрж╛ржпрж╝ред ржЗржирзНржбрж╛рж╕рзНржЯрзНрж░рж┐рзЯрж╛рж▓ ржмрзНржпржмрж╣рж╛рж░рзЗрж░ ржЬржирзНржп ржорзЗржЗржи ржнрзЛрж▓рзНржЯрзЗржЬ ржмрж╛ ржПржоржиржХрж┐ ржЙржЪрзНржЪрждрж░ ржкрж╛ржУржпрж╝рж╛рж░ рж▓рзЗржнрзЗрж▓рж╕рж╣ рж░рж┐рж▓рзЗрж░ ржЙржкрж░ ржирж┐рж░рзНржнрж░ ржХрж░рзЗ, ржЖржЙржЯржкрзБржЯ рж╕рж╛рж░рзНржХрж┐ржЯ ржЖрж░ржУ ржЕржирзЗржХ ржмрзЗрж╢рж┐ ржкрж╛ржУрзЯрж╛рж░ ржмрж╣ржи ржХрж░рждрзЗ ржкрж╛рж░рзЗред ржПржЗржнрж╛ржмрзЗржЗ ржорзВрж▓ржд ржПржХржЯрж┐ ржЖржЗржУржЯрж┐ ржбрзЗржн ржХрж┐ржЯ ржХрзЛржи ржПржХржЯрж┐ ржЧрж╛ржЫрзЗрж░ ржЬржирзНржп ржПржХржЯрж┐ ржЫрзЛржЯ ржкрж╛ржорзНржк ржерзЗржХрзЗ рж╢рзБрж░рзБ ржХрж░рзЗ ржкрзБрж░рзЛ ржмрж╛ржгрж┐ржЬрзНржпрж┐ржХ ржЦрж╛ржорж╛рж░рзЗрж░ ржмрж┐рж╢рж╛рж▓ рж╢рж┐рж▓рзНржк ржмрзНржпржмрж╕рзНржерж╛рж░ рж╕рзЗржЪржХрж╛рж░рзНржп рж╕ржоржЧрзНрж░ржнрж╛ржмрзЗ ржирж┐ржпрж╝ржирзНрждрзНрж░ржг ржХрж░рждрзЗ ржкрж╛рж░рзЗред

![A grove relay with the control circuit, output circuit and relay labelled](../../../../images/grove-relay-labelled.png)

ржЙржкрж░рзЗрж░ ржЪрж┐рждрзНрж░ржЯрж┐рждрзЗ ржПржХржЯрж┐ ржЧрзНрж░рзЛржн рж░рж┐рж▓рзЗ ржжрзЗржЦрж╛ ржпрж╛ржЪрзНржЫрзЗред ржХржирзНржЯрзНрж░рзЛрж▓ рж╕рж╛рж░рзНржХрж┐ржЯржЯрж┐ ржПржХржЯрж┐ ржЖржЗржУржЯрж┐ ржбрж┐ржнрж╛ржЗрж╕рзЗрж░ рж╕рж╛ржерзЗ рж╕ржВржпрзЛржЧ рж╕рзНржерж╛ржкржи ржХрж░рзЗ ржПржмржВ 3.3V ржмрж╛ 5V ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ рж░рж┐рж▓рзЗржЯрж┐ ржЪрж╛рж▓рзБ ржмрж╛ ржмржирзНржз ржХрж░рзЗ ржжрзЗржпрж╝ред ржЖржЙржЯржкрзБржЯ рж╕рж╛рж░рзНржХрж┐ржЯрзЗрж░ ржжрзБржЯрж┐ ржЯрж╛рж░рзНржорж┐ржирж╛рж▓ рж░ржпрж╝рзЗржЫрзЗ, ржпрзЗржХрзЛржи рззржЯрж┐ ржкрж╛ржУрзЯрж╛рж░ ржмрж╛ ржЧрзНрж░рж╛ржЙржирзНржб рж╣рждрзЗ ржкрж╛рж░рзЗред ржЖржЙржЯржкрзБржЯ рж╕рж╛рж░рзНржХрж┐ржЯ 10A ржП 250V ржкрж░рзНржпржирзНржд рж╣рзНржпрж╛ржирзНржбрзЗрж▓ ржХрж░рждрзЗ ржкрж╛рж░рзЗ, ржпрж╛ ржмрзЗрж╢ ржХржпрж╝рзЗржХржЯрж┐ ржорзЗржЗржи-ржХрж╛рж░рзЗржирзНржЯ ржЪрж╛рж▓рж┐ржд ржбрж┐ржнрж╛ржЗрж╕рзЗрж░ ржЬржирзНржп ржпржерзЗрж╖рзНржЯред ржЪрж╛ржЗрж▓рзЗ ржЙржЪрзНржЪ рж╢ржХрзНрждрж┐ рж╕рж╣рзНржпржХрзНрж╖ржорждрж╛ рж╕ржорзНржкржирзНржи рж░рж┐рж▓рзЗ ржкрж╛ржУрзЯрж╛ ржпрж╛рзЯ ред

![A pump wired through a relay](../../../../images/pump-wired-to-relay.png)

ржЙржкрж░рзЗрж░ ржЪрж┐рждрзНрж░ржЯрж┐рждрзЗ, ржПржХржЯрж┐ рж░рж┐рж▓рзЗ ржПрж░ ржорж╛ржзрзНржпржорзЗ ржкрж╛ржорзНржкрзЗ ржкрж╛ржУржпрж╝рж╛рж░ рж╕рж░ржмрж░рж╛рж╣ ржХрж░рж╛ рж╣ржпрж╝ред рж░рж┐рж▓рзЗ ржПрж░ ржЖржЙржЯржкрзБржЯ рж╕рж╛рж░рзНржХрж┐ржЯрзЗрж░ ржПржХ ржЯрж╛рж░рзНржорж┐ржирж╛рж▓рзЗ ржЗржЙржПрж╕ржмрж┐ ржкрж╛ржУржпрж╝рж╛рж░ рж╕рж╛ржкрзНрж▓рж╛ржЗржпрж╝рзЗрж░ +5V ржЯрж╛рж░рзНржорж┐ржирж╛рж▓ рж╕ржВржпрзЛржЧржХрж╛рж░рзА ржПржХржЯрж┐ рж▓рж╛рж▓ рждрж╛рж░ рж░ржпрж╝рзЗржЫрзЗ ржПржмржВ ржЖржЙржЯржкрзБржЯ рж╕рж╛рж░рзНржХрж┐ржЯрзЗрж░ ржЕржирзНржп ржЯрж╛рж░рзНржорж┐ржирж╛рж▓ржЯрж┐ржХрзЗ ржкрж╛ржорзНржкрзЗрж░ рж╕рж╛ржерзЗ рж╕ржВржпрзБржХрзНржд ржХрж░рзЗ ржЕржирзНржп ржПржХржЯрж┐ рж▓рж╛рж▓ рждрж╛рж░рзЗрж░ рж╕ржВржпрзБржХрзНржд ржХрж░рзЗред ржПржХржЯрж┐ ржХрж╛рж▓рзЛ рждрж╛рж░ ржЗржЙржПрж╕ржмрж┐ ржкрж╛ржУржпрж╝рж╛рж░ рж╕рж╛ржкрзНрж▓рж╛ржЗржпрж╝рзЗрж░ рж╕рж╛ржерзЗ ржпрзБржХрзНржд ржкрж╛ржорзНржкржЯрж┐ржХрзЗ ржЧрзНрж░рж╛ржЙржирзНржбрзЗ рж╕ржВржпрзБржХрзНржд ржХрж░рзЗред рж░рж┐рж▓рзЗ ржЪрж╛рж▓рзБ рж╣ржпрж╝рзЗ ржЧрзЗрж▓рзЗ, ржПржЯрж┐ рж╕рж╛рж░рзНржХрж┐ржЯржЯрж┐ рж╕ржорзНржкрзВрж░рзНржг ржХрж░рзЗ, ржкрж╛ржорзНржкрзЗ 5V ржкрзНрж░рзЗрж░ржг ржХрж░рзЗ, ржкрж╛ржорзНржкржЯрж┐ ржЪрж╛рж▓рзБ ржХрж░рзЗред

## рж░рж┐рж▓рзЗ ржирж┐рзЯржирзНрждрзНрж░ржг

ржЖржорж╛ржжрзЗрж░ ржЖржЗржУржЯрж┐ ржбрзЗржн ржХрж┐ржЯ ржерзЗржХрзЗ рж░рж┐рж▓рзЗ ржирж┐ржпрж╝ржирзНрждрзНрж░ржг ржХрж░рж╛ ржпрж╛ржмрзЗред

### ржХрж╛ржЬ - рж░рж┐рж▓рзЗ ржирж┐рзЯржирзНрждрзНрж░ржг

рж╕ржарж┐ржХ рж╣рж╛рж░рзНржбржУрзЯрзНржпрж╛рж░ ржкржЫржирзНржж ржЕржирзБрж╕рж╛рж░рзЗ ржирж┐ржЪрзЗрж░ ржпрзЗржХрзЛржи ржПржХржЯрж┐ ржЧрж╛ржЗржбрзЗрж░ ржорж╛ржзрзНржпржорзЗ ржХрж╛ржЬ рж╢рзБрж░рзБ ржХрж░рждрзЗ рж╣ржмрзЗред

* [Arduino - Wio Terminal](wio-terminal-relay.md)
* [Single-board computer - Raspberry Pi](pi-relay.md)
* [Single-board computer - Virtual device](virtual-device-relay.md)

## MQTT ржжрзНржмрж╛рж░рж╛ ржЙржжрзНржнрж┐ржж ржирж┐ржпрж╝ржирзНрждрзНрж░ржг

ржПржЦржирзЛ ржЕржмржзрж┐ ржЖржорж╛ржжрзЗрж░ рж░рж┐рж▓рзЗржЯрж┐ ржЖржЗржУржЯрж┐ ржбрж┐ржнрж╛ржЗрж╕ ржжрзНржмрж╛рж░рж╛ ржирж┐ржпрж╝ржирзНрждрзНрж░рж┐ржд рж╣рзЯрзЗржЫрзЗ, ржорж╛ржЯрж┐рж░ ржЖрж░рзНржжрзНрж░рждрж╛рж░ ржкрж░рж┐ржорж╛ржкрзЗрж░ ржЙржкрж░ ржнрж┐рждрзНрждрж┐ ржХрж░рзЗред ржПржХржЯрж┐ ржмрж╛ржгрж┐ржЬрзНржпрж┐ржХ рж╕рзЗржЪ ржмрзНржпржмрж╕рзНржерж╛ржпрж╝, ржПржЗ ржирж┐ржпрж╝ржирзНрждрзНрж░ржгрзЗрж░ ржпрзБржХрзНрждрж┐ржЯрж┐ржХрзЗ ржЖрж░рзЛ ржмрж╛рж╕рзНрждржмржзрж░рзНржорзА ржХрж░рж╛ рж╣ржмрзЗ ржпрж╛ ржПржХрж╛ржзрж┐ржХ рж╕рзЗржирзНрж╕рж░ ржерзЗржХрзЗ ржкрзНрж░рж╛ржкрзНржд ржбрзЗржЯрж╛ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ ржкрж╛ржирж┐ рж╕рж░ржмрж░рж╛рж╣ ржХрж░рж╛рж░ рж╕рж┐ржжрзНржзрж╛ржирзНржд ржЧрзНрж░рж╣ржг ржХрж░ржмрзЗ ржПржмржВ ржПрждржЧрзБрж▓рзЛ ржорж╛ржиржжржирзНржбрзЗрж░ ржХрзЛржиржЯрж┐ ржХржиржлрж┐ржЧрж╛рж░рзЗрж╢ржи ржмрж╛ ржкрж░рж┐ржмрж░рзНрждржи ржХрж░рждрзЗ рж╣рж▓рзЗ, ржПржХ ржЬрж╛ржпрж╝ржЧрж╛ ржерзЗржХрзЗржЗ рждрж╛ ржкрж░рж┐ржмрж░рзНрждржи ржХрж░рж╛рж░ рж╕рзБржпрзЛржЧ рж░рж╛ржЦрждрзЗ рж╣ржмрзЗред ржПржЯрж┐рж░ ржЬржирзНржп, MQTT ржжрзНржмрж╛рж░рж╛ рж░рж┐рж▓рзЗ ржирж┐ржпрж╝ржирзНрждрзНрж░ржг ржХрж░рждрзЗ рж╣ржмрзЗред

### ржХрж╛ржЬ - MQTT ржжрзНржмрж╛рж░рж╛ рж░рж┐рж▓рзЗ ржирж┐ржпрж╝ржирзНрждрзНрж░ржг

1. MQTT рждрзЗ рж╕ржВржпрзЛржЧрзЗрж░ ржЬржирзНржп `soil-moisture-sensor` ржкрзНрж░ржЬрзЗржХрзНржЯрзЗ ржкрзНрж░рж╛рж╕ржЩрзНржЧрж┐ржХ MQTT рж▓рж╛ржЗржмрзНрж░рзЗрж░рж┐ / pip ржкрзНржпрж╛ржХрзЗржЬ ржПржмржВ ржХрзЛржб ржпрзБржХрзНржд ржХрж░рждрзЗ рж╣ржмрзЗред  ржХрзНрж▓рж╛рзЯрзЗржирзНржЯ ржЖржЗржбрж┐рж░ ржирж╛ржо рж╣ржмрзЗ `soilmoisturesensor_client` ржпрзЗржЦрж╛ржирзЗ рж╢рзБрж░рзБрждрзЗ ржЖржорж╛ржжрзЗрж░ ржЖржЗржбрж┐ рж▓рж┐ржЦрждрзЗ рж╣ржмрзЗред

    > тЪая╕П ржПржХрзНрж╖рзЗрждрзНрж░рзЗ [ржкрзНрж░ржЬрзЗржХрзНржЯ-рзз, рж▓рзЗрж╕ржи-рзк ржП MQTT ржПрж░ рж╕рж╛ржерзЗ рж╕ржВржпрзЛржЧ ржЕржВрж╢ржЯрж┐рждрзЗ ржмрж┐рж╕рзНрждрж╛рж░рж┐ржд ржирж┐рж░рзНржжрзЗрж╢рж╛ржмрж▓рзА рж░рзЯрзЗржЫрзЗ](../../../../1-getting-started/lessons/4-connect-internet/README.md#connect-your-iot-device-to-mqtt) ржпрж╛ ржкрзНрж░рзЯрзЛржЬржирзЗ ржжрзЗржЦрж╛ ржпрзЗрждрзЗ ржкрж╛рж░рзЗред

1. ржорж╛ржЯрж┐рж░ ржЖрж░рзНржжрзНрж░рждрж╛ рж╕рж╣ ржЯрзЗрж▓рж┐ржорзЗржЯрзНрж░рж┐ ржбрзЗржЯрж╛ ржкрж╛ржарж╛ржирзЛрж░ ржЬржирзНржп ржкрзНрж░рзЯрзЛржЬржирзАрзЯ ржХрзЛржб рж╕ржВржпрзЛржЬржи ржХрж░рждрзЗ рж╣ржмрзЗред ржЯрзЗрж▓рж┐ржорзЗржЯрзНрж░рж┐ ржорзНржпрж╛рж╕рзЗржЬрзЗрж░ ржЬржирзНржп, ржкрзНрж░ржкрж╛рж░рзНржЯрж┐ ржПрж░ ржирж╛ржо рж╣ржмрзЗ `soil_moisture` ред

    > тЪая╕П ржПржХрзНрж╖рзЗрждрзНрж░рзЗ [ржкрзНрж░ржЬрзЗржХрзНржЯ-рзз, рж▓рзЗрж╕ржи-рзк ржП ржЯрзЗрж▓рж┐ржорзЗржЯрзНрж░рж┐ ржбрзЗржЯрж╛ ржкрж╛ржарж╛ржирзЛ ржЕржВрж╢ржЯрж┐рждрзЗ ржмрж┐рж╕рзНрждрж╛рж░рж┐ржд ржирж┐рж░рзНржжрзЗрж╢рж╛ржмрж▓рзА рж░рзЯрзЗржЫрзЗ](../../../../1-getting-started/lessons/4-connect-internet/README.md#send-telemetry-from-your-iot-device) ред

1. ржЯрзЗрж▓рж┐ржорзЗржЯрзНрж░рж┐рждрзЗ рж╕рж╛ржмрж╕рзНржХрзНрж░рж╛ржЗржм ржХрж░рж╛рж░ ржЬржирзНржп рж▓рзЛржХрж╛рж▓ рж╕рж╛рж░рзНржнрж╛рж░ ржХрзЛржб рж▓рж┐ржЦрждрзЗ рж╣ржмрзЗ ржПржмржВ `soil-moisture-sensor-server` ржирж╛ржоржХ ржлрзЛрж▓рзНржбрж╛рж░рзЗ рж░рж┐рж▓рзЗ ржирж┐ржпрж╝ржирзНрждрзНрж░ржг ржХрж░рж╛рж░ ржЬржирзНржп ржПржХржЯрж┐ ржХржорж╛ржирзНржб ржкрзНрж░рзЗрж░ржг ржХрж░рждрзЗ рж╣ржмрзЗред ржХржорж╛ржирзНржб ржорзНржпрж╛рж╕рзЗржЬрзЗ ржПржЗ ржкрзНрж░ржкрж╛рж░ржЯрж┐рж░ ржирж╛ржо рж╣ржмрзЗ `relay_on` ржПржмржВ ржХрзНрж▓рж╛рзЯрзЗржирзНржЯ ржЖржЗржбрж┐ `soilmoisturesensor_server` ржпрзЗржЦрж╛ржирзЗ рж╢рзБрж░рзБрждрзЗ ржЖржорж╛ржжрзЗрж░ ржЖржЗржбрж┐ рж▓рж┐ржЦрждрзЗ рж╣ржмрзЗред ржкрзНрж░ржЬрзЗржХрзНржЯ-рзз, рж▓рзЗрж╕ржи-рзк ржПрж░ ржЬржирзНржп ржпрзЗ рж╕рж╛рж░рзНржнрж╛рж░ ржХрзЛржбржЯрж┐ рж▓рж┐ржЦрзЗржЫрж┐рж▓рж╛ржо, рж╕рзЗржЗ ржПржХржЗ ржХрж╛ржарж╛ржорзЛ рж░рж╛ржЦрждрзЗ рж╣ржмрзЗ ржПржмржВ ржкрж░рзЗ ржПржЗ ржХрзЛржбржЯрж┐рждрзЗ ржЖрж░рзЛ ржХрж┐ржЫрзБ ржпрзБржХрзНржд рж╣ржмрзЗред

    > тЪая╕П ржПржХрзНрж╖рзЗрждрзНрж░рзЗ [ржкрзНрж░ржЬрзЗржХрзНржЯ-рзз, рж▓рзЗрж╕ржи-рзк ржПрж░ рж╕рж╛рж░рзНржнрж╛рж░ ржХрзЛржб рж▓рзЗржЦрж╛рж░ ржЕржВрж╢ржЯрж┐](../../../../1-getting-started/lessons/4-connect-internet/README.md#write-the-server-code) ржПржмржВ рж╕рзЗржЗ ржПржХржЗ ржкрж╛ржарзЗрж░ [MQTT ржПрж░ ржорж╛ржзрзНржпржорзЗ ржХржорж╛ржирзНржб ржкрж╛ржарж╛ржирзЛ рж╕ржВржХрзНрж░рж╛ржирзНржд ржирж┐рж░рзНржжрзЗрж╢ржирж╛](../../../1-getting-started/lessons/4-connect-internet/README.md#send-commands-to-the-mqtt-broker) ржкрзНрж░рзЯрзЛржЬржирзЗ ржжрзЗржЦрж╛ ржпрзЗрждрзЗ ржкрж╛рж░рзЗред

1. ржкрзНрж░рж╛ржкрзНржд ржХржорж╛ржирзНржб ржерзЗржХрзЗ рж░рж┐рж▓рзЗ ржирж┐рзЯржирзНрждрзНрж░ржгрзЗрж░ ржЬржирзНржп рж░рж┐рж▓рзЗ рж▓рж┐ржЦрждрзЗ рж╣ржмрзЗ,  ржорзНржпрж╛рж╕рзЗржЬ ржерзЗржХрзЗ  `relay_on` ржкрзНрж░ржкрж╛рж░рзНржЯрж┐ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рждрзЗ рж╣ржмрзЗред `soil_moisture` ржпржжрж┐ рзкрзлрзж ржПрж░ ржмрзЗрж╢рж┐ рж╣рзЯ, рждржмрзЗ `relay_on` ржПрж░ ржЬржирзНржп TRUE рж╣ржмрзЗ ржЕржирзНржпржерж╛рзЯ FALSE ред

    > тЪая╕П [ржкрзНрж░ржЬрзЗржХрзНржЯ-рзз, рж▓рзЗрж╕ржи-рзк ржП MQTT ржПрж░ ржХржорж╛ржирзНржбржЧрзБрж▓рзЛрж░ ржкрзНрж░рждрж┐ржХрзНрж░рж┐рзЯрж╛ ржЬрж╛ржирж╛ржирзЛрж░ ржЕржВрж╢рзЗ ржмрж┐рж╕рзНрждрж╛рж░рж┐ржд ржирж┐рж░рзНржжрзЗрж╢рж╛ржмрж▓рзА рж░рзЯрзЗржЫрзЗ](../../../../1-getting-started/lessons/4-connect-internet/README.md#handle-commands-on-the-iot-device)ред

> ЁЯТБ ржПржЗ ржХрж╛ржЬрзЗрж░ рж╕ржХрж▓ ржХрзЛржб [code-mqtt](./code-mqtt) ржлрзЛрж▓рзНржбрж╛рж░рзЗ рж░рзЯрзЗржЫрзЗред

ржбрж┐ржнрж╛ржЗрж╕ ржПржмржВ рж▓рзЛржХрж╛рж▓ рж╕рж╛рж░рзНржнрж╛рж░рзЗ ржХрзЛржбржЯрж┐ ржЪрж▓ржЫрзЗ ржХрж┐ржирж╛ рждрж╛ ржЖржорж╛ржжрзЗрж░ржХрзЗ ржирж┐рж╢рзНржЪрж┐ржд ржХрж░рждрзЗ рж╣ржмрзЗред ржПржЬржирзНржп ржнрж╛рж░рзНржЪрзБржпрж╝рж╛рж▓ рж╕рзЗржирзНрж╕рж░ ржжрзНржмрж╛рж░рж╛ ржкрзНрж░рзЗрж░рж┐ржд ржорж╛ржиржЧрзБрж▓рж┐ ржкрж░рж┐ржмрж░рзНрждржи ржХрж░рзЗ ржмрж╛ ржорж╛ржЯрж┐рж░ ржЖрж░рзНржжрзНрж░рждрж╛ рж╕рзНрждрж░ ржкрж░рж┐ржмрж░рзНрждржи ржХрж░рзЗ ржПржЯрж┐ ржЖржорж╛ржжрзЗрж░ржХрзЗ ржкрж░рзАржХрзНрж╖рж╛ ржХрж░рждрзЗ рж╣ржмрзЗред

## рж╕рзЗржирзНрж╕рж░ ржПржмржВ ржЕрзНржпрж╛ржХржЪрзБрзЯрзЗржЯрж░рзЗрж░ ржЯрж╛ржЗржорж┐ржВ

рж▓рзЗрж╕ржи-рзй ржП ржЖржорж░рж╛ ржПржХржЯрж┐ ржирж╛ржЗржЯрж▓рж╛ржЗржЯ рждрзИрж░рж┐ ржХрж░рзЗржЫрж┐рж▓рж╛ржо - ржПржХржЯрж┐ ржПрж▓ржЗржбрж┐ ржпрж╛ ржЖрж▓рзЛржХ рж╕рзЗржирзНрж╕рж░ ржжрзНржмрж╛рж░рж╛ ржирж┐ржорзНржи рж╕рзНрждрж░рзЗрж░ ржЖрж▓рзЛ рж╕ржирж╛ржХрзНржд рж╣ржУржпрж╝рж╛рж░ рж╕рж╛ржерзЗ рж╕рж╛ржерзЗржЗ ржЬрзНржмрж▓рзЗ ржЙржарзЗред ржЖрж▓рзЛржХ рж╕рзЗржирзНрж╕рж░ржЯрж┐ рждрж╛рждрзНржХрзНрж╖ржгрж┐ржХржнрж╛ржмрзЗ ржЖрж▓рзЛрж░ рж╕рзНрждрж░рзЗрж░ ржкрж░рж┐ржмрж░рзНрждржи рж╕ржирж╛ржХрзНржд ржХрж░рзЗ ржПржмржВ ржбрж┐ржнрж╛ржЗрж╕ржЯрж┐ ржжрзНрж░рзБржд ржкрзНрж░рждрж┐ржХрзНрж░рж┐рзЯрж╛ ржЬрж╛ржирж╛рзЯ ржпрж╛ ржЕржмрж╢рзНржп `loop` ржмрж╛ `while True:` ржлрж╛ржВрж╢ржирзЗ ржкрзНрж░ржжрждрзНржд Delay ржПрж░ рж╕ржорзЯ ржПрж░ ржжрзНржмрж╛рж░рж╛ ржкрзНрж░ржнрж╛ржмрж┐ржд рж╣рзЯред ржЖржЗржУржЯрж┐ ржбрзЗржнрж▓рж╛ржкрж╛рж░ рж╣рж┐рж╕рж╛ржмрзЗ ржЖржорж░рж╛ рж╕рж░рзНржмржжрж╛ ржПржЗ ржЬрж╛рждрзАржпрж╝ ржжрзНрж░рзБржд ржкрзНрж░рждрж┐ржХрзНрж░рж┐ржпрж╝рж╛ рж▓рзБржкрзЗрж░ ржЙржкрж░ ржирж┐рж░рзНржнрж░ ржХрж░рждрзЗ ржкрж╛рж░ржм ржирж╛ред

### ржорж╛ржЯрж┐рж░ ржЖрж░рзНржжрзНрж░рждрж╛рж░ ржЬржирзНржп ржЯрж╛ржЗржорж┐ржВ

ржпржжрж┐ ржЖржорж░рж╛ ржХрзЛржи рж╣рж╛рж░рзНржбржУрзЯрзНржпрж╛рж░ рж╕рзЗржирзНрж╕рж░ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ ржорж╛ржЯрж┐рж░ ржЖрж░рзНржжрзНрж░рждрж╛ ржмрж┐рж╖рзЯржХ ржЧржд рж▓рзЗрж╕ржирзЗрж░ ржХрж╛ржЬржЧрзБрж▓рзЛ ржХрж░рж┐, рждржмрзЗ ржПржЯрж┐ рждрзЛ ржирж┐рж╢рзНржЪрзЯржЗ ржЖржорж░рж╛ ржЦрзЗрзЯрж╛рж▓ ржХрж░рзЗржЫрж┐ ржпрзЗ, ржЧрж╛ржЫржЯрж┐рждрзЗ ржЬрж▓ ржжрзЗржУржпрж╝рж╛рж░ ржкрж░рзЗ ржорж╛ржЯрж┐рж░ ржЖрж░рзНржжрзНрж░рждрж╛ рж░рж┐ржбрж┐ржВ ржЖрж╕рждрзЗ ржХржпрж╝рзЗржХ рж╕рзЗржХрзЗржирзНржб рж╕ржоржпрж╝ ржирж┐ржпрж╝рзЗржЫрж┐рж▓ред ржПржЯрж┐ рж╕рзЗржирзНрж╕рж░ржЯрж┐ ржзрзАрж░ рж╣ржУржпрж╝рж╛рж░ ржХрж╛рж░ржгрзЗ ржиржпрж╝, ржмрж░ржВ ржкрж╛ржирж┐ ржжрзНржмрж╛рж░рж╛ ржорж╛ржЯрж┐ ржнрж┐ржЬрждрзЗ рж╕ржоржпрж╝ рж▓рж╛ржЧрзЗ ржмрж▓рзЗред

> ЁЯТБ ржЖржорж░рж╛ ржпржжрж┐ рж╕рзЗржирзНрж╕рж░ржЯрж┐рж░ ржЦрзБржм ржХрж╛ржЫрж╛ржХрж╛ржЫрж┐ ржкрж╛ржирж┐ рж╕рж░ржмрж░рж╛рж╣ ржХрж░рж┐, рждржмрзЗ ржЖржорж░рж╛ ржжрзЗржЦржмрзЛ ржЖрж░рзНржжрзНрж░рждрж╛рж░ ржорж╛ржи ржЦрзБржм ржмрзЗрзЬрзЗ ржпрж╛ржУрзЯрж╛рж░ ржкрж░ ржжрзНрж░рзБрждржЗ ржХржоржЫрзЗ, ржЖржмрж╛рж░ ржЖрж╕рзНрждрзЗ ржЖрж╕рзНрждрзЗ ржмрж╛рзЬржЫрзЗ- ржПржЯрж┐ рж╕рзЗржирзНрж╕рж░ржЯрж┐рж░ ржирж┐ржХржЯржмрж░рзНрждрзА ржкрж╛ржирж┐ ржкрзБрж░рзЛ ржорж╛ржЯрж┐ ржЬрзБржбрж╝рзЗ ржЫржбрж╝рж┐ржпрж╝рзЗ ржкрзЬрж╛рж░ ржкрзНрж░ржХрзНрж░рж┐рзЯрж╛рж░ ржХрж╛рж░ржгрзЗржЗ рж╣ржЪрзНржЫрзЗ ред

![A soil moisture measurement of 658 doesn't change during watering, it only drops to 320 after watering when water has soaked through the soil](../../../../images/soil-moisture-travel.png)

ржЙржкрж░рзЗрж░ ржбрж╛рзЯрж╛ржЧрзНрж░рж╛ржорзЗ ржорж╛ржЯрж┐рж░ ржЖрж░рзНржжрзНрж░рждрж╛ ржкрж╛ржа 655 ржжрзЗржЦрж╛ржпрж╝ ред ржЙржжрзНржнрж┐ржжржЯрж┐рждрзЗ ржЬрж▓ рж╕рж░ржмрж░рж╛рж╣ ржХрж░рж╛ рж╣ржпрж╝рзЗржЫрзЗ, рждржмрзЗ ржПржЗ рж░рж┐ржбрж┐ржВ рждрзОржХрзНрж╖ржгрж╛рзО ржкрж░рж┐ржмрж░рзНрждржи рж╣ржпрж╝ ржирж╛, ржХрж╛рж░ржг ржкрж╛ржирж┐ рждржЦржиржУ рж╕рзЗржирзНрж╕рж░рзЗ ржкрзМржБржЫрзЗржирж┐ред рж╕рзЗржирзНрж╕рж░рзЗ ржкрзМржБржЫрж╛ржирзЛрж░ ржЖржЧрзЗржЗ ржкрж╛ржирж┐ рж╢рзЗрж╖ рж╣ржпрж╝рзЗ ржпрзЗрждрзЗ ржкрж╛рж░рзЗ ржПржмржВ ржПрждрзЗ ржирждрзБржи ржЖрж░рзНржжрзНрж░рждрж╛рж░ ржорж╛ржи ржХржорзЗ ржпрж╛ржпрж╝ред

ржЖржорж░рж╛ ржпржжрж┐ ржорж╛ржЯрж┐рж░ ржЖрж░рзНржжрзНрж░рждрж╛рж░ ржорж╛рждрзНрж░рж╛ ржнрж┐рждрзНрждрж┐рждрзЗ, рж░рж┐рж▓рзЗ ржПрж░ ржорж╛ржзрзНржпржорзЗ ржХрзЛржи рж╕рзЗржЪ ржмрзНржпржмрж╕рзНржерж╛ ржирж┐ржпрж╝ржирзНрждрзНрж░ржгрзЗрж░ ржХрзЛржб рж▓рж┐ржЦрж┐, рждржмрзЗ ржПржЗ ржмрж┐рж▓ржорзНржмржХрзЗ ржмрж┐ржмрзЗржЪржирж╛ржпрж╝ ржирзЗржУржпрж╝рж╛ ржЙржЪрж┐ржд ржПржмржВ ржЖржЗржУржЯрж┐ ржбрж┐ржнрж╛ржЗрж╕рзЗ рж╕рзНржорж╛рж░рзНржЯржнрж╛ржмрзЗ рж╕ржоржпрж╝ ржирж┐рж░рзНржзрж╛рж░ржг ржХрж░рждрзЗ рж╣ржмрзЗред

тЬЕ  ржХрзАржнрж╛ржмрзЗ ржПржЯрж┐ ржХрж░рж╛ ржпрж╛ржмрзЗ, рждрж╛ ржХрж┐ржЫрзБржХрзНрж╖ржг рж╕ржоржпрж╝ ржирж┐рзЯрзЗ ржЪрж┐ржирзНрждрж╛ ржХрж░рж┐ред

### рж╕рзЗржирзНрж╕рж░ ржПржмржВ ржЕрзНржпрж╛ржХржЪрзБрзЯрзЗржЯрж░рзЗрж░ ржЯрж╛ржЗржорж┐ржВ ржирж┐рзЯржирзНрждрзНрж░ржг

ржХрж▓рзНржкржирж╛ ржХрж░рж┐ ржпрзЗ, ржЖржорж╛ржжрзЗрж░ржХрзЗ ржПржХржЯрж┐ ржЦрж╛ржорж╛рж░рзЗрж░ ржЬржирзНржп рж╕рзЗржЪ ржмрзНржпржмрж╕рзНржерж╛ рждрзИрж░рж┐ ржХрж░рж╛рж░ ржжрж╛ржпрж╝рж┐рждрзНржм ржжрзЗржУржпрж╝рж╛ рж╣ржпрж╝рзЗржЫрзЗред ржорж╛ржЯрж┐рж░ ржзрж░ржгрзЗрж░ ржЙржкрж░ ржнрж┐рждрзНрждрж┐ ржХрж░рзЗ, ржЙржжрзНржнрж┐ржжрзЗрж░ ржЖржжрж░рзНрж╢ ржорж╛ржЯрж┐рж░ ржЖрж░рзНржжрзНрж░рждрж╛рж░ ржорж╛ржи 400-450 ржПрж░ ржЕрзНржпрж╛ржирж╛рж▓ржЧ ржнрзЛрж▓рзНржЯрзЗржЬрзЗрж░ рж╕ржорж╛ржиред

ржЖржорж░рж╛ ржбрж┐ржнрж╛ржЗрж╕ржЯрж┐ ржирж╛ржЗржЯрж▓рж╛ржЗржЯрзЗрж░ ржорждрзЛ ржПржХржЗржнрж╛ржмрзЗ ржкрзНрж░рзЛржЧрзНрж░рж╛ржо ржХрж░рждрзЗ ржкрж╛рж░рж┐ - рж╕рзЗржирзНрж╕рж░ ржорж╛ржи 450 ржПрж░ ржЬржирзНржп, ржкрж╛ржорзНржк ржЪрж╛рж▓рзБ ржХрж░рждрзЗ рж░рж┐рж▓рзЗ ржЪрж╛рж▓рзБ ржХрж░рждрзЗ рж╣ржмрзЗред рж╕ржорж╕рзНржпрж╛ржЯрж┐ рж╣рж▓ ржкрж╛ржорзНржк ржерзЗржХрзЗ ржорж╛ржЯрж┐рж░ ржнрзЗрждрж░ ржжрж┐ржпрж╝рзЗ рж╕рзЗржирзНрж╕рж░рзЗ ржкрж╛ржирж┐ ржпрзЗрждрзЗ ржХрж┐ржЫрзБржЯрж╛ рж╕ржоржпрж╝ ржирзЗржпрж╝ред рж╕рзЗржирзНрж╕рж░ржЯрж┐ 450 ржПрж░ ржПржХржЯрж┐ ржЖрж░рзНржжрзНрж░рждрж╛ рж╕рзНрждрж░ рж╕ржирж╛ржХрзНржд ржХрж░рзЗ ржпржЦржи ржкрж╛ржирж┐ ржерж╛ржорж┐ржпрж╝рзЗ ржжрзЗржмрзЗ, рждржЦржиржУ ржХрж┐ржирзНрждрзБ ржкрж╛ржорзНржкржпрзБржХрзНржд ржЬрж▓ ржорж╛ржЯрж┐рждрзЗ рж╢рзЛрж╖рж┐ржд рж╣рждрзЗ ржерж╛ржХрж╛ржпрж╝ ржкрж╛ржирж┐рж░ рж╕рзНрждрж░ ржХржорждрзЗ ржерж╛ржХржмрзЗред ржлрж▓рж╕рзНржмрж░рзВржк, ржПржЗ ржкрзБрж░рзЛ ржкрзНрж░ржХрзНрж░рж┐рзЯрж╛рзЯ ржкрж╛ржирж┐ ржирж╖рзНржЯ рж╣ржпрж╝ ржПржмржВ рж╢рж┐ржХрзЬрзЗрж░ ржХрзНрж╖рждрж┐рж░ ржЭрзБржБржХрж┐ ржерж╛ржХрзЗред

тЬЕ ржоржирзЗ рж░рж╛ржЦрждрзЗ рж╣ржмрзЗ - ржЕрждрзНржпржзрж┐ржХ ржкрж╛ржирж┐ ржЧрж╛ржЫрзЗрж░ ржкржХрзНрж╖рзЗ ржХрзНрж╖рждрж┐ржХрж░ ржПржмржВ ржПржЯрж┐ ржПржХржЯрж┐ ржорзВрж▓рзНржпржмрж╛ржи ржкрзНрж░рж╛ржХрзГрждрж┐ржХ рж╕ржорзНржкржж ржирж╖рзНржЯ ржХрж░рзЗред

ржПржХрзНрж╖рзЗрждрзНрж░рзЗ ржЖржЧрзЗ ржПржЯрж┐ ржмрзБржЭрждрзЗ рж╣ржмрзЗ ржпрзЗ ржПржХржЪрзБрзЯрзЗржЯрж░рзЗрж░ ржХрж╛ржЬ рж╢рзБрж░рзБ ржХрж░рж╛ ржПржмржВ рж╕рзЗржирзНрж╕рж░ ржПрж░ ржХрж╛ржЫ ржерзЗржХрзЗ ржбрзЗржЯрж╛ ржЖрж╕рж╛, ржПрж░ ржоржзрзНржпрзЗ ржПржХржЯрзБ ржкрж╛рж░рж╖рзНржкрж░рж┐ржХ ржмрж┐рж▓ржорзНржм ржмрж╛ delay рж╣ржЪрзНржЫрзЗред ржПрж░ ржЕрж░рзНрже рж╕рзЗржирзНрж╕рж░ржЯрж┐рж░ ржорж╛ржи ржкрж░рж┐ржорж╛ржк ржХрж░рж╛рж░ ржЖржЧрзЗ ржХрж┐ржЫрзБржХрзНрж╖ржг ржЕржкрзЗржХрзНрж╖рж╛ ржХрж░рж╛ ржЙржЪрж┐ржд ржПржмржВ ржкрж░ржмрж░рзНрждрзА ржкрж░рж┐ржорж╛ржк ржирзЗрзЯрж╛рж░ ржЖржЧрзЗ ржПржХржЪрзБрзЯрзЗржЯрж░ ржХрж┐ржЫрзБ рж╕ржоржпрж╝рзЗрж░ ржЬржирзНржп ржмржирзНржз рж░рж╛ржЦрждрзЗ рж╣ржмрзЗред

ржкрзНрж░рждрж┐ржмрж╛рж░ рж░рж┐рж▓рзЗ ржХрждржХрзНрж╖ржг рж╣ржУржпрж╝рж╛ ржЙржЪрж┐ржд? ржПржХрзНрж╖рзЗрждрзНрж░рзЗ рж╕рждрж░рзНржХ ржерж╛ржХрж╛ ржЙржЪрж┐ржд ржПржмржВ ржХрзЗржмрж▓ ржЕрж▓рзНржк рж╕ржоржпрж╝рзЗрж░ ржЬржирзНржп рж░рж┐рж▓рзЗ ржЪрж╛рж▓рзБ ржХрж░рж╛ ржнрж╛рж▓ред рждрж╛рж░ржкрж░рзЗ ржорж╛ржЯрж┐ ржнрж╛рж▓ржорждрзЛ ржнрж┐ржЬрждрзЗ ржЕржкрзЗржХрзНрж╖рж╛ ржХрж░рждрзЗ рж╣ржмрзЗ ржПржмржВ рждржЦржи ржЖрж░рзНржжрзНрж░рждрж╛рж░ рж╕рзНрждрж░ржЯрж┐ ржЖржмрж╛рж░ ржпрж╛ржЪрж╛ржЗ ржХрж░рждрзЗ рж╣ржмрзЗред рж╕ржмржерзЗржХрзЗ ржЧрзБрж░рзБрждрзНржмржкрзВрж░рзНржг ржмрж┐рж╖рзЯржЯрж┐ рж╣рж▓рзЛ, ржЖржорж░рж╛ ржЪрж╛ржЗрж▓рзЗржЗ ржЖрж░ржУ ржкрж╛ржирж┐ ржпрзБржХрзНржд ржХрж░рждрзЗ рж╕рж░рзНржмржжрж╛ ржПржЯрж┐ ржЪрж╛рж▓рзБ ржХрж░рждрзЗ ржкрж╛рж░рж┐, ржХрж┐ржирзНрждрзБ ржорж╛ржЯрж┐ ржерзЗржХрзЗ ржЖржорж░рж╛ ржкрж╛ржирж┐ рж╕рж░рж╛рждрзЗ ржкрж╛рж░ржмрзЛ ржирж╛ред

> ЁЯТБ ржПржЗ ржзрж░ржгрзЗрж░ ржЯрж╛ржЗржорж┐ржВ ржХржирзНржЯрзНрж░рзЛрж▓ рж╕ржВржХрзНрж░рж╛ржирзНржд ржмрзИрж╢рж┐рж╖рзНржЯрзНржпржЧрзБрж▓рзЛ рж╕рзБржирж┐рж░рзНржжрж┐рж╖рзНржЯржнрж╛ржмрзЗ ржирж┐рж░рзНржнрж░ ржХрж░рзЗ - ржЖржорж░рж╛ ржпрзЗ ржЖржЗржУржЯрж┐ ржбрж┐ржнрж╛ржЗрж╕ржЯрж┐ рждрзИрж░рж┐ ржХрж░ржЫрж┐ рждрж╛рж░ ржЙржкрж░, ржпрзЗ ржмрзИрж╢рж┐рж╖рзНржЯрзНржп ржкрж░рж┐ржорж╛ржк ржХрж░ржЫрж┐ ржПржмржВ ржпрзЗржзрж░ржгрзЗрж░ рж╕рзЗржирзНрж╕рж░ ржУ ржЕрзНржпрж╛ржХржЪрзБрзЯрзЗржЯрж░ ржмрзНржпржмрж╣рж╛рж░ ржХрж░ржЫрж┐ рждрж╛рж░ ржЙржкрж░ред
> 
![A strawberry plant connected to water via a pump, with the pump connected to a relay. The relay and a soil moisture sensor in the plant are both connected to a Raspberry Pi](../../../../images/strawberry-with-pump.png)

ржоржирзЗ ржХрж░рж┐, ржЖржорж╛ржжрзЗрж░ ржХрж╛ржЫрзЗ ржорж╛ржЯрж┐рж░ ржЖрж░рзНржжрзНрж░рждрж╛ рж╕рзЗржирзНрж╕рж░ ржПржмржВ ржПржХржЯрж┐ рж░рж┐рж▓рзЗ ржжрзНржмрж╛рж░рж╛ ржирж┐ржпрж╝ржирзНрждрзНрж░рж┐ржд ржПржХржЯрж┐ ржкрж╛ржорзНржк рж╕рж╣ ржПржХржЯрж┐ рж╕рзНржЯрзНрж░ржмрзЗрж░рж┐ ржЧрж╛ржЫ рж░ржпрж╝рзЗржЫрзЗред ржЖржорж░рж╛ ржкрж░рзНржпржмрзЗржХрзНрж╖ржг ржХрж░рзЗржЫрж┐ ржпрзЗ ржпржЦржиржЗ ржкрж╛ржирж┐ ржжрзЗрзЯрж╛ рж╣рзЯ, ржорж╛ржЯрж┐рж░ ржЖрж░рзНржжрзНрж░рждрж╛ рж░рж┐ржбрж┐ржВ рж╕рзНржерж┐рж░ рж╣рждрзЗ ржкрзНрж░рж╛ржпрж╝ 20 рж╕рзЗржХрзЗржирзНржб рж╕ржоржпрж╝ рж▓рж╛ржЧрзЗред ржПрж░ ржЕрж░рзНрже рж╣рж▓ рж░рж┐рж▓рзЗржЯрж┐ ржмржирзНржз ржХрж░рждрзЗ рж╣ржмрзЗ ржПржмржВ ржЖрж░рзНржжрзНрж░рждрж╛рж░ ржорж╛рждрзНрж░рж╛ ржкрж░рзАржХрзНрж╖рж╛ ржХрж░рж╛рж░ ржЖржЧрзЗ 20 рж╕рзЗржХрзЗржирзНржб ржЕржкрзЗржХрзНрж╖рж╛ ржХрж░рждрзЗ рж╣ржмрзЗред ржЕрждрзНржпржзрж┐ржХ ржкрж╛ржирж┐рж░ рждрзБрж▓ржирж╛ржпрж╝ ржмрж░ржВ ржкрж╛ржирж┐ ржПржХржЯрзБ ржПржХржЯрзБ ржХрж░рзЗ ржжрзЗрзЯрж╛ржЗ ржнрж╛рж▓рзЛ -ржЖржорж░рж╛ ржЪрж╛ржЗрж▓рзЗржЗ ржЖрж░ржУ ржкрж╛ржирж┐ ржпрзБржХрзНржд ржХрж░рждрзЗ рж╕рж░рзНржмржжрж╛ ржкрж╛ржорзНржк ржЪрж╛рж▓рзБ ржХрж░рждрзЗ ржкрж╛рж░рж┐, ржХрж┐ржирзНрждрзБ ржорж╛ржЯрж┐ ржерзЗржХрзЗ ржЖржорж░рж╛ ржкрж╛ржирж┐ рж╕рж░рж╛рждрзЗ ржкрж╛рж░ржмрзЛ ржирж╛ред

![Step 1, take measurement. Step 2, add water. Step 3, wait for water to soak through the soil. Step 4, retake measurement](../../../../images/soil-moisture-delay.png)

ржЕрж░рзНржерж╛рзО рж╕рзЗржЪ ржжрзЗрзЯрж╛рж░ ржЬржирзНржп рж╕рж░рзНржмрзЛрждрзНрждржо ржзрж╛ржкржЧрзБрж▓рж┐ рж╣ржмрзЗ

* 5 рж╕рзЗржХрзЗржирзНржбрзЗрж░ ржЬржирзНржп ржкрж╛ржорзНржкржЯрж┐ ржЪрж╛рж▓рзБ ржХрж░рж╛
* 20 рж╕рзЗржХрзЗржирзНржб ржЕржкрзЗржХрзНрж╖рж╛ 
* ржорж╛ржЯрж┐рж░ ржЖрж░рзНржжрзНрж░рждрж╛ ржкрж░рзАржХрзНрж╖рж╛ ржХрж░рж╛
* ржпржжрж┐ ржЖрж░рзНржжрзНрж░рждрж╛ рж╕рзНрждрж░ ржкрзНрж░ржпрж╝рзЛржЬржирзЗрж░ рждрзБрж▓ржирж╛ржпрж╝ ржПржЦржиржУ ржмрзЗрж╢рж┐ ржерж╛ржХрзЗ, рждржмрзЗ ржЙржкрж░рзЗрж░ ржкржжржХрзНрж╖рзЗржкржЧрзБрж▓рж┐ ржкрзБржирж░рж╛ржмрзГрждрзНрждрж┐ ржХрж░рзБржи

ржкрж╛ржорзНржкрзЗрж░ ржЬржирзНржп 5 рж╕рзЗржХрзЗржирзНржб ржЦрзБржм ржжрзАрж░рзНржШ рж╣рждрзЗ ржкрж╛рж░рзЗ, ржмрж┐рж╢рзЗрж╖ржд ржпржжрж┐ ржЖрж░рзНржжрзНрж░рждрж╛рж░ ржорж╛рждрзНрж░рж╛ ржкрзНрж░ржпрж╝рзЛржЬржирзАржпрж╝ рж╕рзНрждрж░рзЗрж░ ржерзЗржХрзЗ ржХрж┐ржЫрзБржЯрж╛ ржЙржкрж░рзЗ ржерж╛ржХрзЗред ржХрждржЯрж╛ рж╕ржорзЯ ржПржЦрж╛ржирзЗ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рждрзЗ рж╣ржмрзЗ, рждрж╛ ржЬрж╛ржирж╛рж░ рж╕рж░рзНржмрзЛрждрзНрждржо ржЙржкрж╛ржпрж╝ рж╣рж▓ ржмрж╛рж░ржмрж╛рж░ ржХрж╛ржЬржЯрж┐ ржХрж░рзЗ ржкрзНрж░рждрж┐ржХрзНрж░рж┐рзЯрж╛ ржжрзЗржЦрж╛ ржПржмржВ рж╕рзЗ ржЕржирзБржпрж╛рзЯрзА рж╕ржорзЯ ржирж┐рж░рзНржжрж┐рж╖рзНржЯ ржХрж░рж╛ред ржПржЯрж┐ ржЖрж░ржУ ржмрзЗрж╢рж┐ рж╕рзБржирж┐рж░рзНржжрж┐рж╖рзНржЯ ржХрж░рж╛ ржпрзЗрждрзЗ ржкрж╛рж░рзЗ ржпрзЗржоржи, рж╕рзНржерж┐рж░ 5 рж╕рзЗржХрзЗржирзНржбрзЗрж░ ржкрж░рж┐ржмрж░рзНрждрзЗ ржкрзНрж░ржпрж╝рзЛржЬржирзАржпрж╝ ржорж╛ржЯрж┐рж░ ржЖрж░рзНржжрзНрж░рждрж╛рж░ ржорж╛ржи ржкрзНрж░рждрж┐ 100 ржЕрждрж┐рж░рж┐ржХрзНржд ржПрж░ ржЬржирзНржп 1 рж╕рзЗржХрзЗржирзНржб рж╕ржорзЯ ржкрж╛ржорзНржкржЯрж┐ ржЪрж╛рж▓рзБ рж░рж╛ржЦрж╛ред

тЬЕ ржЫрзЛржЯ ржПржХржЯрж┐ ржЧржмрзЗрж╖ржгрж╛ржГ ржПржЦрж╛ржирзЗ ржЕржирзНржп ржХрзЛржиржнрж╛ржмрзЗ ржХрзА рж╕ржоржпрж╝ржХрзЗ ржкрж░рзНржпрж╛рж▓рзЛржЪржирж╛ ржХрж░рж╛ ржпрж╛ржмрзЗ? ржЖрж░рзНржжрзНрж░рждрж╛ ржХржорзЗ ржЧрзЗрж▓рзЗржЗ ржХрзА ржЧрж╛ржЫрзЗ ржкрж╛ржирж┐ ржжрзЗрзЯрж╛ ржЙржЪрж┐ржд ржирж╛ржХрж┐ ржПржЦрж╛ржирзЗ ржЧрж╛ржЫрзЗ ржкрж╛ржирж┐ ржжрзЗрзЯрж╛рж░ ржЬржирзНржп ржнрж╛рж▓ ржПржмржВ ржЦрж╛рж░рж╛ржк рж╕ржоржпрж╝ ржерж╛ржХрзЗ - ржПрж░ржХржо ржХрж┐ржЫрзБржУ ржмрж┐ржмрзЗржЪржирж╛ ржХрж░рждрзЗ рж╣ржмрзЗ?

> ЁЯТБ ржШрж░рзЗрж░ ржмрж╣рж┐рж░рж╛ржЩрзНржЧржирзЗ ржЙржжрзНржнрж┐ржжрзЗрж░ ржмрзГржжрзНржзрж┐рж░ ржЬржирзНржп рж╕рзНржмржпрж╝ржВржХрзНрж░рж┐ржпрж╝ рж╕рзЗржЪржмрзНржпржмрж╕рзНржерж╛ ржирж┐ржпрж╝ржирзНрждрзНрж░ржг ржХрж░рж╛рж░ рж╕ржоржпрж╝ ржЖржмрж╣рж╛ржУржпрж╝рж╛рж░ ржкрзВрж░рзНржмрж╛ржнрж╛рж╕ржЧрзБрж▓рж┐ржУ ржмрж┐ржмрзЗржЪржирж╛ржпрж╝ ржирзЗржУржпрж╝рж╛ ржЙржЪрж┐рждред ржпржжрж┐ ржмрзГрж╖рзНржЯрж┐ржкрж╛ржд рж╣ржУрзЯрж╛рж░ рж╕ржорзНржнрж╛ржмржирж╛ ржерж╛ржХрзЗ, рждржмрзЗ ржмрзГрж╖рзНржЯрж┐ рж╢рзЗрж╖ рж╣ржУржпрж╝рж╛рж░ ржкрж░рзНржпржирзНржд ржкрзЗржХрзНрж╖рж╛ ржХрж░рж╛ ржпрзЗрждрзЗ ржкрж╛рж░рзЗред рждржЦржи рж╣рзЯрждрзЛ ржорж╛ржЯрж┐ ржкрж░рзНржпрж╛ржкрзНржд ржкрж░рж┐ржорж╛ржгрзЗ ржЖрж░рзНржжрзНрж░ рж╣рждрзЗ ржкрж╛рж░рзЗ ржпрзЗржХрж╛рж░ржгрзЗ ржПржЯрж┐рж░ ржЖрж░ ржкрж╛ржирж┐рж░ ржкрзНрж░ржпрж╝рзЛржЬржи рж╣ржпрж╝ ржирж╛ред

## ржЙржжрзНржнрж┐ржж ржирж┐ржпрж╝ржирзНрждрзНрж░ржг рж╕рж╛рж░рзНржнрж╛рж░рзЗ ржЯрж╛ржЗржорж┐ржВ ржпрзБржХрзНржд ржХрж░рж╛

рж╕рзЗржЪржХрж╛рж░рзНржпрзЗрж░ рж╕ржоржпрж╝ржХрж╛рж▓рзЗрж░ ржирж┐ржпрж╝ржирзНрждрзНрж░ржг ржпрзБржХрзНржд ржХрж░рждрзЗ ржПржмржВ ржорж╛ржЯрж┐рж░ ржЖрж░рзНржжрзНрж░рждрж╛рж░ ржорж╛рждрзНрж░рж╛ ржкрж░рж┐ржмрж░рзНрждржирзЗрж░ ржЬржирзНржп ржЕржкрзЗржХрзНрж╖рж╛ ржХрж░рждрзЗ рж╕рж╛рж░рзНржнрж╛рж░ ржХрзЛржбржЯрж┐ рж╕ржВрж╢рзЛржзржи ржХрж░рж╛ ржпрзЗрждрзЗ ржкрж╛рж░рзЗред рж░рж┐рж▓рзЗ рж╕ржоржпрж╝ ржирж┐ржпрж╝ржирзНрждрзНрж░ржгрзЗрж░ ржЬржирзНржп ржПрж▓ржЧрж░рж┐ржжржо рж╣ржмрзЗ -

1. ржЯрзЗрж▓рж┐ржорзЗржЯрзНрж░рж┐ ржмрж╛рж░рзНрждрж╛ ржЧрзГрж╣рзАржд
1. ржорж╛ржЯрж┐рж░ ржЖрж░рзНржжрзНрж░рждрж╛рж░ рж╕рзНрждрж░ржЯрж┐ ржкрж░рзАржХрзНрж╖рж╛ ржХрж░рж╛
1. ржпржжрж┐ ржарж┐ржХ ржерж╛ржХрзЗ рждржмрзЗ ржХрж┐ржЫрзБржЗ ржХрж░рждрзЗ рж╣ржмрзЗржирж╛ред рждржмрзЗ рж░рж┐ржбрж┐ржВ ржпржжрж┐ ржЦрзБржм ржмрзЗрж╢рж┐ рж╣ржпрж╝ (ржпрж╛рж░ ржЕрж░рзНрже ржорж╛ржЯрж┐рж░ ржЖрж░рзНржжрзНрж░рждрж╛ ржЦрзБржм ржХржо) рждржмрзЗ:
    1. рж░рж┐рж▓рзЗ ржЪрж╛рж▓рзБ ржХрж░рж╛рж░ ржирж┐рж░рзНржжрзЗрж╢ ржкрзНрж░рзЗрж░ржг
    1. 5 рж╕рзЗржХрзЗржирзНржб ржЕржкрзЗржХрзНрж╖рж╛ ржХрж░рждрзЗ рж╣ржмрзЗ
    1. рж░рж┐рж▓рзЗ ржмржирзНржз ржХрж░рж╛рж░ ржирж┐рж░рзНржжрзЗрж╢ ржкрзНрж░рзЗрж░ржг
    1. ржорж╛ржЯрж┐рж░ ржЖрж░рзНржжрзНрж░рждрж╛ рж╕рзНрждрж░ рж╕рзНржерж┐рждрж┐рж╢рзАрж▓ рж╣ржУржпрж╝рж╛рж░ ржЬржирзНржп 20 рж╕рзЗржХрзЗржирзНржб ржЕржкрзЗржХрзНрж╖рж╛ ржХрж░рждрзЗ рж╣ржмрзЗ

рж╕рзЗржЪржХрж╛рж░рзНржпрзЗрж░ ржкрзБрж░рзЛ ржкрзНрж░ржХрзНрж░рж┐рзЯрж╛рзЯ, ржЯрзЗрж▓рж┐ржорзЗржЯрзНрж░рж┐ ржмрж╛рж░рзНрждрж╛ ржЧрзНрж░рж╣ржг ржерзЗржХрзЗ рж╢рзБрж░рзБ ржХрж░рзЗ ржорж╛ржЯрж┐рж░ ржЖрж░рзНржжрзНрж░рждрж╛ рж╕рзНрждрж░ржХрзЗ ржЖржмрж╛рж░ ржкрзНрж░ржХрзНрж░рж┐ржпрж╝рж╛ ржХрж░рж╛рж░ ржЬржирзНржп ржкрзНрж░рж╕рзНрждрзБржд рж╣ржУржпрж╝рж╛ ржкрзНрж░ржХрзНрж░рж┐ржпрж╝рж╛ржЯрж┐ ржкрзНрж░рж╛ржпрж╝ 25 рж╕рзЗржХрзЗржирзНржб рж╕ржоржпрж╝ ржирзЗржпрж╝ред ржХрж┐ржирзНрждрзБ ржПржжрж┐ржХрзЗ ржЖржорж░рж╛ ржкрзНрж░рждрж┐ 10 рж╕рзЗржХрзЗржирзНржбрзЗ ржорж╛ржЯрж┐рж░ ржЖрж░рзНржжрзНрж░рждрж╛ рж╕рзНрждрж░ рж╕ржВржХрзНрж░рж╛ржирзНржд ржмрж╛рж░рзНрждрж╛ ржкрзНрж░рзЗрж░ржг ржХрж░ржЫрж┐, ржпрж╛ ржПржЦрж╛ржирзЗ ржУржнрж╛рж░рж▓рзНржпрж╛ржк ржХрж░ржЫрзЗ ред ржПржХрзНрж╖рзЗрждрзНрж░рзЗ рж╕ржорж╕рзНржпрж╛ рждрзИрж░рзА рж╣рждрзЗ ржкрж╛рж░рзЗред

.рзиржнрж╛ржмрзЗ ржПржЯрж┐рж░ рж╕ржорж╛ржзрж╛ржи ржХрж░рж╛ ржпрж╛рзЯржГ

* ржЖржЗржУржЯрж┐ ржбрж┐ржнрж╛ржЗрж╕ ржХрзЛржбржЯрж┐ ржкрж░рж┐ржмрж░рзНрждржи ржХрж░рждрзЗ рж╣ржмрзЗ ржпрзЗржи ржкрзНрж░рждрж┐ ржорж┐ржирж┐ржЯрзЗ ржХрзЗржмрж▓ рззржЯрж┐ ржЯрзЗрж▓рж┐ржорзЗржЯрзНрж░рж┐ ржкрзНрж░рзЗрж░ржг рж╣рзЯ, ржПржнрж╛ржмрзЗ ржПржЦрж╛ржирзЗ рж╕рж╛ржоржЮрзНржЬрж╕рзНржп ржмржЬрж╛рзЯ рж░рж╛ржЦрж╛ ржпрж╛ржмрзЗред
* рж╕рзЗржЪржХрж╛рж░рзНржп ржЪрж▓рж╛рж░ рж╕ржорзЯрзЗ ржЯрзЗрж▓рж┐ржорзЗржЯрзНрж░рж┐ ржорзНржпрж╛рж╕рзЗржЬрзЗ ржЖржи-рж╕рж╛ржмрж╕рзНржХрзНрж░рж╛ржЗржм ржХрж░рж╛ред

ржкрзНрж░ржержо ржЕржкрж╢ржиржЯрж┐ рж╕рж░рзНржмржжрж╛ ржмржбрж╝ ржЦрж╛ржорж╛рж░ржЧрзБрж▓рж┐рж░ ржЬржирзНржп ржнрж╛рж▓ рж╕ржорж╛ржзрж╛ржи ржиржпрж╝ред ржХрзГрж╖ржХрзЗрж░ ржХрж╛ржЫрзЗ рж╕рзЗржЪ ржЪрж▓ржорж╛ржи рж╕ржорзЯрзЗ ржорж╛ржЯрж┐рж░ ржЖрж░рзНржжрзНрж░рждрж╛рж░ ржорж╛ржи ржжрж░ржХрж╛рж░ рж╣рждрзЗ ржкрж╛рж░рзЗ, рждрж╛ ржкрж░рзЗ ржмрж┐рж╢рзНрж▓рзЗрж╖ржгрзЗрж░ ржЬржирзНржп, ржЙржжрж╛рж╣рж░ржгрж╕рзНржмрж░рзВржк ржЦрж╛ржорж╛рж░рзЗрж░ ржмрж┐ржнрж┐ржирзНржи ржЕржЮрзНржЪрж▓рзЗ ржкрж╛ржирж┐рж░ ржкрзНрж░ржмрж╛рж╣ рж╕ржорзНржкрж░рзНржХрзЗ ржЬрж╛ржирждрзЗ рж╣рж▓рзЗ ржПржЗ рждржерзНржп ржжрж░ржХрж╛рж░ред ржжрзНржмрж┐рждрзАржпрж╝ ржмрж┐ржХрж▓рзНржкржЯрж┐ ржПржХрзНрж╖рзЗрждрзНрж░рзЗ ржнрж╛рж▓ - ржХрзЛржбржЯрж┐ ржЯрзЗрж▓рж┐ржорзЗржЯрзНрж░рж┐ржЯрж┐ржХрзЗ ржпржЦржи ржмрзНржпржмрж╣рж╛рж░ ржХрж░рждрзЗ  ржкрж╛рж░рзЗ ржирж╛ ржХрзЗржмрж▓ рждржЦржиржЗ рждрж╛ ржЙржкрзЗржХрзНрж╖рж╛ ржХрж░ржЫрзЗ, рждржмрзЗ ржЯрзЗрж▓рж┐ржорзЗржЯрзНрж░рж┐ ржПржЦржиржУ ржЕржирзНржпрж╛ржирзНржп рж╕рж╛рж░рзНржнрж┐рж╕рзЗрж░ ржЬржирзНржп ржерж╛ржХржмрзЗ ржПржмржВ ржкрж░рзЗ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж╛ ржпрж╛ржмрзЗред

> ЁЯТБ ржЖржЗржУржЯрж┐ ржбрзЗржЯрж╛ ржХрзЗржмрж▓ржорж╛рждрзНрж░ ржПржХржЯрж┐ ржбрж┐ржнрж╛ржЗрж╕ ржерзЗржХрзЗ ржХрзЗржмрж▓ ржПржХржЯрж┐ рж╕рж╛рж░рзНржнрж┐рж╕рзЗ ржкрзНрж░рзЗрж░ржг ржХрж░рж╛ рж╣ржпрж╝ ржирж╛, ржмрж░ржВ ржЕржирзЗржХ ржбрж┐ржнрж╛ржЗрж╕ ржХрзЛржи ржмрзНрж░рзЛржХрж╛рж░рзЗрж░ ржХрж╛ржЫрзЗ ржбрзЗржЯрж╛ ржкрзНрж░рзЗрж░ржг ржХрж░рждрзЗ ржкрж╛рж░рзЗ ржПржмржВ ржЕржирзЗржХ рж╕рж╛рж░рзНржнрж┐рж╕ рждржЦржи рж╕рзЗржЗ ржмрзНрж░рзЛржХрж╛рж░рзЗрж░ ржХрж╛ржЫ ржерзЗржХрзЗ ржбрзЗржЯрж╛ ржирж┐рждрзЗ ржкрж╛рж░рзЗред ржЙржжрж╛рж╣рж░ржгрж╕рзНржмрж░рзВржк, ржПржХржЯрж┐ рж╕рж╛рж░рзНржнрж┐рж╕ ржорж╛ржЯрж┐рж░ ржЖрж░рзНржжрзНрж░рждрж╛рж░ ржбрзЗржЯрж╛ ржирж┐рждрзЗ ржкрж╛рж░рзЗ ржПржмржВ ржПржЯрж┐ ржкрж░ржмрж░рзНрждрзА рждрж╛рж░рж┐ржЦрзЗ ржмрж┐рж╢рзНрж▓рзЗрж╖ржгрзЗрж░ ржЬржирзНржп ржПржХржЯрж┐ ржбрж╛ржЯрж╛ржмрзЗрж╕рзЗ рж╕ржВрж░ржХрзНрж╖ржг ржХрж░рждрзЗ ржкрж╛рж░рзЗред ржПржХржЯрж┐ рж╕рзЗржЪ ржмрзНржпржмрж╕рзНржерж╛ ржирж┐ржпрж╝ржирзНрждрзНрж░ржг ржХрж░рждрзЗ ржЕржирзНржп рж╕рж╛рж░рзНржнрж┐рж╕ржУ ржПржХржЗ ржЯрзЗрж▓рж┐ржорзЗржЯрзНрж░рж┐ ржбрзЗржЯрж╛ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рждрзЗ ржкрж╛рж░рзЗред

### ржХрж╛ржЬ - ржЙржжрзНржнрж┐ржж ржирж┐ржпрж╝ржирзНрждрзНрж░ржг рж╕рж╛рж░рзНржнрж╛рж░рзЗ рж╕ржоржпрж╝ ржпрзБржХрзНржд ржХрж░рж╛

5 рж╕рзЗржХрзЗржирзНржбрзЗрж░ ржЬржирзНржп рж░рж┐рж▓рзЗ ржЪрж╛рж▓рж┐рзЯрзЗ, 20 рж╕рзЗржХрзЗржирзНржб ржЕржкрзЗржХрзНрж╖рж╛ ржХрж░рж╛рж░ ржЬржирзНржп рж╕рж╛рж░рзНржнрж╛рж░ ржХрзЛржб ржЖржкржбрзЗржЯ ржХрж░рждрзЗ рж╣ржмрзЗред

1. ржнрж┐ржПрж╕ ржХрзЛржбрзЗ  `soil-moisture-sensor-server` ржлрзЛрж▓рзНржбрж╛рж░ ржЦрзБрж▓рждрзЗ рж╣ржмрзЗ (ржпржжрж┐ ржЖржЧрзЗ ржерзЗржХрзЗ ржЦрзЛрж▓рж╛ ржирж╛ ржерж╛ржХрзЗ)ред ржнрж╛рж░рзНржЪрзБрзЯрж╛рж▓ ржПржиржнрж╛рзЯрж░ржиржорзЗржирзНржЯ ржПржХржЯрж┐ржн ржХрж┐ржирж╛ рждрж╛ ржирж┐рж╢рзНржЪрж┐ржд ржХрж░рждрзЗ рж╣ржмрзЗред

1.  `app.py` ржлрж╛ржЗрж▓ ржУржкрзЗржи ржХрж░рж┐ред

1.  `app.py` ржлрж╛ржЗрж▓рзЗ ржирж┐ржЪрзЗрж░ ржХрзЛржб рж╕ржВржпрзБржХрзНржд ржХрж░рж┐ред

    ```python
    import threading
    ```

    ржПржЗ рж╕рзНржЯрзЗржЯржорзЗржирзНржЯржЯрж┐ ржкрж╛ржЗржержи рж▓рж╛ржЗржмрзНрж░рзЗрж░рж┐ ржерзЗржХрзЗ `threading` ржЗржорзНржкрзЛрж░рзНржЯ ржХрж░рзЗ, ржпрж╛ ржЕржкрзЗржХрзНрж╖ржорж╛ржи рж╕ржорзЯрзЗржУ ржкрж╛ржЗржержиржХрзЗ ржХрзЛржб ржПржХрзНрж╕рзЗржХрж┐ржЙржЯ ржХрж░рж╛рж░ рж╕рзБржпрзЛржЧ ржжрзЗрзЯред

1. `handle_telemetry` ржлрж╛ржВрж╢ржирзЗрж░ ржЙржкрж░рзЗ ржирж┐ржорзНржирзЗрж░ ржХрзЛржб ржпрзБржХрзНржд ржХрж░рж┐  ржпрж╛рждрзЗ рж╕рж╛рж░рзНржнрж╛рж░ ржХрзЛржб ржерзЗржХрзЗ ржЖрж╕рж╛ ржЯрзЗрж▓рж┐ржорзЗржЯрзНрж░рж┐ ржорзНржпрж╛рж╕рзЗржЬ рж░рж┐рж╕рж┐ржн ржХрж░рж╛ ржпрж╛рзЯржГ

    ```python
    water_time = 5
    wait_time = 20
    ```

    ржПржЯрж┐ ржирж┐рж░рзНржжрж┐рж╖рзНржЯ ржХрж░рзЗ ржпрзЗ ржХрждржХрзНрж╖ржг рж░рж┐рж▓рзЗ ржЪрж▓ржмрзЗ (`water_time`) ржПржмржВ рждрж╛рж░ржкрж░ ржорж╛ржЯрж┐рж░ ржЖрж░рзНржжрзНрж░рждрж╛рж░ ржЬржирзНржп ржХрждржХрзНрж╖ржг ржЕржкрзЗржХрзНрж╖рж╛ ржХрж░рждрзЗ рж╣ржмрзЗ (`wait_time`) рж╕рзЗржЗ ржмрж┐рж╖рзЯред

1. рждрж╛рж░ржкрж░ ржХрзЛржбрзЗ ржирж┐ржЪрзЗрж░ ржЕржВрж╢ ржпрзБржХрзНржд ржХрж░рж┐

    ```python
    def send_relay_command(client, state):
        command = { 'relay_on' : state }
        print("Sending message:", command)
        client.publish(server_command_topic, json.dumps(command))
    ```

    ржПржЯрж┐ `send_relay_command` ржлрж╛ржВрж╢ржиржХрзЗ ржбрж┐ржлрж╛ржЗржи ржХрж░рзЗ ржпрж╛  MQTT ржПрж░ ржорж╛ржзрзНржпржорзЗ  рж░рж┐рж▓рзЗрждрзЗ ржирж┐рж░рзНржжрзЗрж╢ ржкрж╛ржарж╛рзЯред ржПржЗ ржЯрзЗрж▓рж┐ржорзЗржЯрзНрж░рж┐ ржбрж┐ржХрж╢ржирж╛рж░рж┐ рж╣рж┐рж╕рзЗржмрзЗ рждрзИрж░рзА ржХрж░рж╛ рж╣рж▓рзЗржУ ржкрж░рзЗ ржПржЯрж┐ржХрзЗ JSON ржП рж░рзВржкрж╛ржирзНрждрж░ ржХрж░рж╛ рж╣рзЯред  `state` ржП ржпрзЗ ржнрзНржпрж╛рж▓рзБ ржкрж╛ржарж╛ржирзЛ рж╣рзЯ рждрж╛ ржирж┐рж░рзНржзрж╛рж░ржг  ржХрж░рзЗ ржпрзЗ, рж░рж┐рж▓рзЗ ржЕржи ржирж╛ржХрж┐ ржЕржл ржерж╛ржХржмрзЗред

1.  `send_relay_code` ржлрж╛ржВрж╢ржирзЗрж░ ржкрж░, ржХрзЛржбрзЗ ржирж┐ржЪрзЗрж░ ржЕржВрж╢ ржпрзБржХрзНржд ржХрж░рж┐ред

    ```python
    def control_relay(client):
        print("Unsubscribing from telemetry")
        mqtt_client.unsubscribe(client_telemetry_topic)
    
        send_relay_command(client, True)
        time.sleep(water_time)
        send_relay_command(client, False)
    
        time.sleep(wait_time)
    
        print("Subscribing to telemetry")
        mqtt_client.subscribe(client_telemetry_topic)
    ```

    ржПржЯрж┐ ржкрзНрж░ржпрж╝рзЛржЬржирзАржпрж╝ рж╕ржоржпрж╝ ржПрж░ ржкрж░рж┐ржорж╛ржгрзЗрж░ ржнрж┐рждрзНрждрж┐рждрзЗ рж░рж┐рж▓рзЗ ржирж┐ржпрж╝ржирзНрждрзНрж░ржг ржХрж░рждрзЗ ржПржХржЯрж┐ ржлрж╛ржВрж╢ржиржХрзЗ рж╕ржВржЬрзНржЮрж╛ржпрж╝рж┐ржд ржХрж░рзЗред ржПржЯрж┐ ржЯрзЗрж▓рж┐ржорзЗржЯрзНрж░рж┐ ржерзЗржХрзЗ ржЖржи-рж╕рж╛ржмрж╕рзНржХрзНрж░рж╛ржЗржм ржХрж░рзЗ рж╢рзБрж░рзБ рж╣ржпрж╝ ржпрж╛рждрзЗ ржорж╛ржЯрж┐рж░ ржЖрж░рзНржжрзНрж░рждрж╛ ржмрж╛рж░рзНрждрж╛ржЧрзБрж▓рж┐ ржкрзНрж░ржХрзНрж░рж┐ржпрж╝рж╛ржЬрж╛ржд ржирж╛ рж╣ржпрж╝ ржпржЦржи рж╕рзЗржЪ ржжрзЗрзЯрж╛ рж╣ржЪрзНржЫрзЗред ржПрж░ржкрж░рзЗ ржПржЯрж┐ рж░рж┐рж▓рзЗ ржЪрж╛рж▓рзБ ржХрж░рж╛рж░ ржЬржирзНржп ржПржХржЯрж┐ ржирж┐рж░рзНржжрзЗрж╢ ржкрж╛ржарж╛ржпрж╝ред ржПрж░ржкрж░рзЗ ржПржЯрж┐ `water_time` ржПрж░ ржЬржирзНржп ржЕржкрзЗржХрзНрж╖рж╛ ржХрж░рзЗ ржПржмржВ рждрж╛рж░ржкрж░ рж░рж┐рж▓рзЗ ржмржирзНржз ржХрж░рж╛рж░ ржЬржирзНржп ржирж┐рж░рзНржжрзЗрж╢ ржжрзЗрзЯ ред ржЕржмрж╢рзЗрж╖рзЗ ржПржЯрж┐ ржорж╛ржЯрж┐рж░ ржЖрж░рзНржжрзНрж░рждрж╛рж░ ржорж╛рждрзНрж░рж╛ `wait_time` рж╕ржорзЯ рж╕рзНржерж┐рждрж┐рж╢рзАрж▓ рж╣ржУржпрж╝рж╛рж░ ржЬржирзНржп ржЕржкрзЗржХрзНрж╖рж╛ ржХрж░рзЗред ржПрж░ржкрж░рзЗ ржПржЯрж┐ ржЯрзЗрж▓рж┐ржорзЗржЯрзНрж░рж┐рждрзЗ ржкрзБржирж░рж╛ржпрж╝ рж╕рж╛ржмрж╕рзНржХрзНрж░рж╛ржЗржм ржХрж░рзЗред


1. `handle_telemetry`ржлрж╛ржВрж╢ржиржЯрж┐ ржПржнрж╛ржмрзЗ ржкрж░рж┐ржмрж░рзНрждржи ржХрж░рж┐ржГ

    ```python
    def handle_telemetry(client, userdata, message):
        payload = json.loads(message.payload.decode())
        print("Message received:", payload)
    
        if payload['soil_moisture'] > 450:
            threading.Thread(target=control_relay, args=(client,)).start()
    ```

    ржПржЗ ржХрзЛржбржЯрж┐ ржорж╛ржЯрж┐рж░ ржЖрж░рзНржжрзНрж░рждрж╛рж░ рж╕рзНрждрж░ ржкрж░рзАржХрзНрж╖рж╛ ржХрж░рзЗред ржпржжрж┐ ржПржЯрж┐ 450 ржПрж░ ржмрзЗрж╢рж┐ рж╣ржпрж╝ рждржмрзЗ ржорж╛ржЯрж┐рждрзЗ ржЬрж▓ ржжрзЗржУржпрж╝рж╛ ржжрж░ржХрж╛рж░, рждрж╛ржЗ ржПржЯрж┐ `control_relay` ржлрж╛ржВрж╢ржи ржХрж▓ ржХрж░рзЗред ржПржЗ ржлрж╛ржВрж╢ржиржЯрж┐ ржкрзГржержХ ржерзНрж░рзЗржбрзЗ ржЪрж╛рж▓рж╛ржирзЛ рж╣ржпрж╝, ржпрж╛ ржмрзНржпрж╛ржХржЧрзНрж░рж╛ржЙржирзНржбрзЗ ржХрж╛ржЬ ржХрж░рзЗред

1. ржЖржорж╛ржжрзЗрж░ ржЖржЗржУржЯрж┐ ржбрж┐ржнрж╛ржЗрж╕ржЯрж┐ ржЪрж▓ржЫрзЗ ржХрж┐ржирж╛ рждрж╛ ржирж┐рж╢рзНржЪрж┐ржд ржХрж░рзЗ рждрж╛рж░ржкрж░рзЗ ржПржЗ ржХрзЛржбржЯрж┐ ржЪрж╛рж▓рж╛рждрзЗ рж╣ржмрзЗред ржорж╛ржЯрж┐рж░ ржЖрж░рзНржжрзНрж░рждрж╛рж░ рж╕рзНрждрж░ ржкрж░рж┐ржмрж░рзНрждржи ржХрж░рж┐ ржПржмржВ рж░рж┐рж▓рждрзЗ ржХрзА ржШржЯрзЗ рждрж╛ ржкрж░рзНржпржмрзЗржХрзНрж╖ржг ржХрж░рж┐ - ржПржЯрж┐ 5 рж╕рзЗржХрзЗржирзНржбрзЗрж░ ржЬржирзНржп ржЪрж╛рж▓рзБ рж╣ржУржпрж╝рж╛ ржЙржЪрж┐ржд ржПржмржВ ржХржоржкржХрзНрж╖рзЗ 20 рж╕рзЗржХрзЗржирзНржбрзЗрж░ ржЬржирзНржп ржмржирзНржз ржерж╛ржХрж╛ ржЙржЪрж┐рждред ржХрзЗржмрж▓ржорж╛рждрзНрж░ ржорж╛ржЯрж┐рж░ ржЖрж░рзНржжрзНрж░рждрж╛рж░ ржорж╛рждрзНрж░рж╛ ржкрж░рзНржпрж╛ржкрзНржд ржирж╛ рж╣рж▓рзЗржЗ ржмрж░ржВ ржЖржмрж╛рж░ ржЪрж╛рж▓рзБ рж╣ржмрзЗред

    ```output
    (.venv) тЮЬ  soil-moisture-sensor-server тЬЧ python app.py
    Message received: {'soil_moisture': 457}
    Unsubscribing from telemetry
    Sending message: {'relay_on': True}
    Sending message: {'relay_on': False}
    Subscribing to telemetry
    Message received: {'soil_moisture': 302}
    ```

    рж╕рж┐ржорзБрж▓рзЗржЯрзЗржб рж╕рзЗржЪ ржмрзНржпржмрж╕рзНржерж╛ржпрж╝ ржПржЯрж┐ ржкрж░рзАржХрзНрж╖рж╛ ржХрж░рж╛рж░ ржПржХржЯрж┐ ржнрж╛рж▓ ржЙржкрж╛ржпрж╝ рж╣рж▓ рж╢рзБржХржирзЛ ржорж╛ржЯрж┐ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж╛ред рждрж╛рж░ржкрж░рзЗ рж░рж┐рж▓рзЗ ржЪрж╛рж▓рзБ ржерж╛ржХрж╛ ржЕржмрж╕рзНржерж╛ржпрж╝ ржорзНржпрж╛ржирзБржпрж╝рж╛рж▓рж┐ ржкрж╛ржирж┐ ржврж╛рж▓рж╛, рж░рж┐рж▓рзЗ ржмржирзНржз рж╣ржпрж╝рзЗ ржЧрзЗрж▓рзЗ рждрж╛ ржмржирзНржз ржХрж░рзЗ ржжрж┐рждрзЗ рж╣ржмрзЗред
    
> ЁЯТБ ржПрж╕ржХрж▓ ржХрзЛржб [code-timing](./code-timing) ржлрзЛрж▓рзНржбрж╛рж░рзЗ ржкрж╛ржУрзЯрж╛ ржпрж╛ржмрзЗред

> ЁЯТБ ржкрж╛ржорзНржк ржжрж┐рзЯрзЗ рж╕рждрзНржпрж┐ржХрж╛рж░рзЗрж░ рж╕рзЗржЪ ржмрзНржпржмрж╕рзНржерж╛ ржирж┐рж░рзНржорж╛ржгрзЗрж░ ржЬржирзНржп,  [6V ржкрж╛ржорзНржк](https://www.seeedstudio.com/6V-Mini-Water-Pump-p-1945.html) ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж╛ ржПрждрзЗ ржкрж╛рж░рзЗ ржпрж╛рж░ ржерзЗржХрзЗ ржПржХржЯрж┐  [USB ржЯрж╛рж░рзНржорж┐ржирж╛рж▓ ржкрж╛ржУрзЯрж╛рж░ рж╕рж╛ржкрзНрж▓рж╛ржЗ](https://www.adafruit.com/product/3628) ржерж╛ржХржмрзЗред ржкрж╛ржорзНржкрзЗ ржЖрж╕рж╛ ржмрж╛ ржПржЯрж┐ ржерзЗржХрзЗ ржирж┐рж░рзНржЧржд ржкрж╛ржУржпрж╝рж╛рж░ ржпрзЗржи рж░рж┐рж▓рзЗ ржжрж┐ржпрж╝рзЗ рж╕ржВржпрзБржХрзНржд ржерж╛ржХрзЗ - рждрж╛ ржирж┐рж╢рзНржЪрж┐ржд ржХрж░рждрзЗ рж╣ржмрзЗред

---

## ЁЯЪА ржЪрзНржпрж╛рж▓рзЗржЮрзНржЬ

ржПржоржи ржХрж┐ ржЖрж░рзЛ ржХрзЛржи ржЖржЗржУржЯрж┐ ржмрж╛ ржЕржирзНржпрж╛ржирзНржп ржмрзИржжрзНржпрзБрждрж┐ржХ ржбрж┐ржнрж╛ржЗрж╕ рж░рзЯрзЗржЫрзЗ ржпрзЗржЦрж╛ржирзЗ ржПржХржЗрж░ржХржо рж╕ржорж╕рзНржпрж╛ ржЖржЫрзЗ - ржпрзЗржЦрж╛ржирзЗ ржЕрзНржпрж╛ржХрзНржЪрзБрзЯрзЗржЯрж░рзЗрж░ ржлрж▓рж╛ржлрж▓ рж╕рзЗржирзНрж╕рж░рзЗ ржкрзМржБржЫрж╛рждрзЗ ржПржХржЯрзБ рж╕ржоржпрж╝ рж▓рж╛ржЧрзЗ ? ржЖржорж╛ржжрзЗрж░ ржмрж╛ржбрж╝рж┐рждрзЗ ржмрж╛ ржкрзНрж░рждрж┐рж╖рзНржарж╛ржирзЗ ржПржоржи ржЕржирзЗржХ ржпржирзНрждрзНрж░ржЗ рж╣рзЯрждрзЛ ржЖржЫрзЗ - ржПржХржЯрзБ ржЪрж┐ржирзНрждрж╛ ржХрж░рж┐ 

* рждрж╛рж░рж╛ ржХрзЛржи ржмрзИрж╢рж┐рж╖рзНржЯрзНржп ржкрж░рж┐ржорж╛ржк ржХрж░рзЗ?
* ржЕрзНржпрж╛ржХржЪрзБрзЯрзЗржЯрж░ ржмрзНржпржмрж╣рж╛рж░рзЗрж░ ржкрж░рзЗ ржмрзИрж╢рж┐рж╖рзНржЯрзНржпржЯрж┐ ржкрж░рж┐ржмрж░рзНрждржи рж╣рждрзЗ ржХржд рж╕ржоржпрж╝ рж▓рж╛ржЧржмрзЗ?
* ржмрзИрж╢рж┐рж╖рзНржЯрзНржпржЯрж┐рж░ ржкрзНрж░ржпрж╝рзЛржЬржирзАржпрж╝ ржорж╛ржи ржмрж╛ Required Value ржкрж░рж┐ржмрж░рзНрждржи ржарж┐ржХ ржЖржЫрзЗ ржХрж┐?
* ржПржЯрж┐ ржХрзАржнрж╛ржмрзЗ ржкрзНрж░ржпрж╝рзЛржЬржирзАржпрж╝ ржорж╛ржи ржП ржлрж┐рж░рзЗ ржЖрж╕ржмрзЗ?

## рж▓рзЗржХржЪрж╛рж░ ржкрж░ржмрж░рзНрждрзА ржХрзБржЗржЬ

[рж▓рзЗржХржЪрж╛рж░ ржкрж░ржмрж░рзНрждрзА ржХрзБржЗржЬ](https://black-meadow-040d15503.1.azurestaticapps.net/quiz/14)

## рж░рж┐ржнрж┐ржЙ ржУ рж╕рзНржм-ржЕржзрзНржпрзЯржи

ржЯрзЗрж▓рж┐ржлрзЛржи ржПржХрзНрж╕ржЪрзЗржЮрзНржЬрж╕рж╣ ржЖрж░рзЛ ржмрж┐ржнрж┐ржирзНржи ржХрзНрж╖рзЗрждрзНрж░рзЗ рж░рж┐рж▓рзЗ ржПрж░ ржмрзНржпржмрж╣рж╛рж░ рж╕ржорзНржкрж░рзНржХрзЗ ржЬрж╛ржирждрзЗ [ржЙржЗржХрж┐ржкрж┐ржбрж┐рзЯрж╛ ржерзЗржХрзЗ рж░рж┐рж▓рзЗ рж╕ржВржХрзНрж░рж╛ржирзНржд ржЖрж░рзНржЯрж┐ржХрзЗрж▓](https://wikipedia.org/wiki/Relay) ржкрзЬрж╛ ржпрж╛рзЯред

## ржПрж╕рж╛ржЗржиржорзЗржирзНржЯ

[ржЕржзрж┐ржХ ржХрж╛рж░рзНржпржХрж░ рж╕рзЗржЪржмрзНржпржмрж╕рзНржерж╛ ржирж┐рж░рзНржорж╛ржг](assignment.bn.md)
