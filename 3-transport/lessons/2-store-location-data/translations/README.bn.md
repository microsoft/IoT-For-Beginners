# рж▓рзЛржХрзЗрж╢ржи ржбрзЗржЯрж╛ рж╕ржВрж░ржХрзНрж╖ржг

![A sketchnote overview of this lesson](../../../../sketchnotes/lesson-12.jpg)

> рж╕рзНржХрзЗржЪржирзЛржЯржЯрж┐ рждрзИрж░рзА ржХрж░рзЗржЫрзЗржи [Nitya Narasimhan](https://github.com/nitya)ред ржмрзЬ рж╕ржВрж╕рзНржХрж░ржгрзЗ ржжрзЗржЦрж╛рж░ ржЬржирзНржп ржЫржмрж┐ржЯрж┐рждрзЗ ржХрзНрж▓рж┐ржХ ржХрж░рждрзЗ рж╣ржмрзЗред

## рж▓рзЗржХржЪрж╛рж░-ржкрзВрж░рзНржмржмрж░рзНрждрзА ржХрзБржЗржЬ

[рж▓рзЗржХржЪрж╛рж░-ржкрзВрж░рзНржмржмрж░рзНрждрзА ржХрзБржЗржЬ](https://thankful-pond-0eba8f10f.1.azurestaticapps.net/quiz/23)

## рж╕рзВржЪржирж╛

ржЧржд ржкрж╛ржарзЗ ржХрзАржнрж╛ржмрзЗ ржЕржмрж╕рзНржерж╛ржирзЗрж░ ржбрзЗржЯрж╛ ржХрзНржпрж╛ржкржЪрж╛рж░ ржХрж░рждрзЗ ржПржХржЯрж┐ ржЬрж┐ржкрж┐ржПрж╕ рж╕рзЗржирзНрж╕рж░ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рждрзЗ рж╣рзЯ рждрж╛ ржЖржорж░рж╛ рж╢рж┐ржЦрзЗржЫрж┐рж▓рж╛ржоред ржЦрж╛ржжрзНржпрж╕рж╛ржоржЧрзНрж░рзАрждрзЗ ржнрж░рзНрждрж┐ ржПржХржЯрж┐ ржЯрзНрж░рж╛ржХрзЗрж░ ржЕржмрж╕рзНржерж╛ржи ржПржмржВ ржПржЯрж┐рж░ ржпрж╛рждрзНрж░рж╛рж░ ржЬржирзНржп ржПржЗ ржбрзЗржЯрж╛ржЯрж┐ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рждрзЗ, ржПржЯрж┐ ржХрзНрж▓рж╛ржЙржбрзЗ ржЖржЗржУржЯрж┐ рж╕рж╛рж░рзНржнрж┐рж╕рзЗ ржкрзНрж░рзЗрж░ржг ржХрж░рждрзЗ рж╣ржмрзЗ ржПржмржВ рждрж╛рж░ржкрж░рзЗ ржХрзЛржерж╛ржУ рж╕ржВрж░ржХрзНрж╖ржг ржХрж░рж╛ ржжрж░ржХрж╛рж░ред

ржПржЗ ржкрж╛ржарзЗ ржЖржЗржУржЯрж┐ ржбрзЗржЯрж╛ рж╕ржЮрзНржЪржпрж╝ ржХрж░рж╛рж░ ржмрж┐ржнрж┐ржирзНржи ржЙржкрж╛ржпрж╝ рж╕ржорзНржкрж░рзНржХрзЗ  ржЖржорж░рж╛ рж╢рж┐ржЦржм ржПржмржВ рж╕рж╛рж░рзНржнрж╛рж░рж▓рзЗрж╕ ржХрзЛржб ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ ржХрзАржнрж╛ржмрзЗ ржЖржЗржУржЯрж┐ ржкрж░рж┐рж╖рзЗржмрж╛ ржерзЗржХрзЗ ржбрзЗржЯрж╛ рж╕ржВрж░ржХрзНрж╖ржг ржХрж░рж╛ ржпрж╛рзЯ рждрж╛ржУ рж╢рж┐ржЦрждрзЗ ржкрж╛рж░ржмрзЛред

ржПржЗ ржкрж╛ржарзЗ ржЖржорж░рж╛ ржжрзЗржЦржмрзЛ:

* [ржХрж╛ржарж╛ржорзЛржЧржд ржПржмржВ ржХрж╛ржарж╛ржорзЛржмрж┐рж╣рзАржи ржбрзЗржЯрж╛](#ржХрж╛ржарж╛ржорзЛржЧржд-ржПржмржВ-ржХрж╛ржарж╛ржорзЛржмрж┐рж╣рзАржи-ржбрзЗржЯрж╛)
* [GPS ржбрзЗржЯрж╛ IoT Hub ржП ржкрзНрж░рзЗрж░ржг](#send-gps-data-to-an-iot-hub)
* [Hot, Warm, ржПржмржВ Cold Path](#Hot-Warm-ржПржмржВ-Cold-Path)
* [рж╕рж╛рж░рзНржнрж╛рж░ржмрж┐рж╣рзАржи ржХрзЛржб ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ ржЬрж┐ржкрж┐ржПрж╕ ржЗржнрзЗржирзНржЯржЧрзБрж▓рж┐ ржкрж░рж┐ржЪрж╛рж▓ржирж╛](#рж╕рж╛рж░рзНржнрж╛рж░ржмрж┐рж╣рзАржи-ржХрзЛржб-ржмрзНржпржмрж╣рж╛рж░-ржХрж░рзЗ-ржЬрж┐ржкрж┐ржПрж╕-ржЗржнрзЗржирзНржЯржЧрзБрж▓рж┐-ржкрж░рж┐ржЪрж╛рж▓ржирж╛)
* [Azure рж╕рзНржЯрзЛрж░рзЗржЬ ржЕрзНржпрж╛ржХрж╛ржЙржирзНржЯ](#azure-рж╕рзНржЯрзЛрж░рзЗржЬ-ржЕрзНржпрж╛ржХрж╛ржЙржирзНржЯ)
* [рж╕рж╛рж░рзНржнрж╛рж░ржмрж┐рж╣рзАржи-ржХрзЛржбржХрзЗ-рж╕рзНржЯрзЛрж░рзЗржЬрзЗ-рж╕ржВржпрзБржХрзНрждржХрж░ржг](#рж╕рж╛рж░рзНржнрж╛рж░ржмрж┐рж╣рзАржи-ржХрзЛржбржХрзЗ-рж╕рзНржЯрзЛрж░рзЗржЬрзЗ-рж╕ржВржпрзБржХрзНрждржХрж░ржг)

## ржХрж╛ржарж╛ржорзЛржЧржд ржПржмржВ ржХрж╛ржарж╛ржорзЛржмрж┐рж╣рзАржи ржбрзЗржЯрж╛

ржХржорзНржкрж┐ржЙржЯрж╛рж░ рж╕рж┐рж╕рзНржЯрзЗржоржЧрзБрж▓рж┐ ржбрзЗржЯрж╛ ржирж┐ржпрж╝рзЗ ржХрж╛ржЬ ржХрж░рзЗ ржПржмржВ ржПржЗ ржбрзЗржЯрж╛ ржмрж┐ржнрж┐ржирзНржи ржЖржХрж╛рж░ ржПржмржВ ржзрж░ржгрзЗрж░ рж╣рзЯрзЗ ржерж╛ржХрзЗред ржПржЯрж┐ ржПржХржХ рж╕ржВржЦрзНржпрж╛ ржерзЗржХрзЗ рж╢рзБрж░рзБ ржХрж░рзЗ ржкрзНрж░ржЪрзБрж░ ржкрж░рж┐ржорж╛ржгрзЗ ржЯрзЗржХрзНрж╕ржЯ, ржнрж┐ржбрж┐ржУ, ржЪрж┐рждрзНрж░ ржмрж╛ ржЖржЗржУржЯрж┐ ржбрзЗржЯрж╛ рж╣рждрзЗ ржкрж╛рж░рзЗред ржбрзЗржЯрж╛ рж╕рж╛ржзрж╛рж░ржгржд ржжрзБржЗ ржнрж╛ржЧрзЗ ржмрж┐ржнржХрзНржд ржХрж░рж╛ ржпрж╛ржпрж╝ - *ржХрж╛ржарж╛ржорзЛржЧржд* ржбрзЗржЯрж╛ ржПржмржВ *ржХрж╛ржарж╛ржорзЛржмрж┐рж╣рзАржи* ржбрзЗржЯрж╛ред

* **ржХрж╛ржарж╛ржорзЛржЧржд ржбрзЗржЯрж╛ (Structured Data)** рж╣рж▓ ржПржоржи ржзрж░ржгрзЗрж░ ржбрзЗржЯрж╛ ржпрж╛ ржПржХржЯрж┐ рж╕ржВржЬрзНржЮрж╛ржпрж╝рж┐ржд, ржЕржиржоржирзАржпрж╝ ржХрж╛ржарж╛ржорзЛржпрзБржХрзНржд, ржпрж╛ ржкрж░рж┐ржмрж░рзНрждрж┐ржд рж╣ржпрж╝ржирж╛ ржПржмржВ рж╕рж╛ржзрж╛рж░ржгржд ржЯрзЗржмрж┐рж▓ ржЖржХрж╛рж░рзЗ рж╕рж╛ржЬрж╛ржирзЛ ржпрж╛рзЯ ржПржмржВ ржЕржирзНржпрж╛ржирзНржп ржбрзЗржЯрж╛рж░ рж╕рж╛ржерзЗ ржХрзЛржирзЛржнрж╛ржмрзЗ рж╕ржорзНржкрж░рзНржХрж┐ржд ржХрж░рж╛ ржпрж╛рзЯред ржПржХржЯрж┐ ржЙржжрж╛рж╣рж░ржг рж╣рж▓ ржХрзЛржирзЛ ржмрзНржпржХрзНрждрж┐рж░ ржирж╛ржо, ржЬржирзНржо рждрж╛рж░рж┐ржЦ ржПржмржВ ржарж┐ржХрж╛ржирж╛ рж╕рж╣ ржмрж┐рж╢ржж ржмрж┐ржмрж░ржгред

* **ржХрж╛ржарж╛ржорзЛржмрж┐рж╣рзАржи ржбрзЗржЯрж╛ (Unstructured Data)** рж╣рж▓ ржПржХржЯрж┐  ржЕрж╕ржВржЬрзНржЮрж╛ржпрж╝рж┐ржд, ржиржоржирзАржпрж╝ ржХрж╛ржарж╛ржорзЛржпрзБржХрзНржд ржбрзЗржЯрж╛, ржпрж╛ ржШржи ржШржи ржХрж╛ржарж╛ржорзЛ ржкрж░рж┐ржмрж░рзНрждржи ржХрж░рждрзЗ ржкрж╛рж░рзЗред ржПржХржЯрж┐ ржЙржжрж╛рж╣рж░ржг рж╣рж▓рзЛ - рж▓рж┐ржЦрж┐ржд ржиржерж┐ ржмрж╛ рж╕рзНржкрзНрж░рзЗржбрж╢рж┐ржЯ ред

тЬЕ ржЖрж░ ржХрзА ржХрзА ржЙржжрж╛рж╣рж░ржг ржЖржорж░рж╛ ржХрж╛ржарж╛ржорзЛржЧржд ржПржмржВ ржХрж╛ржарж╛ржорзЛржмрж┐рж╣рзАржи ржбрзЗржЯрж╛рждрзЗ ржнрж╛ржмрждрзЗ ржкрж╛рж░рж┐ рждрж╛ ржЪрж┐ржирзНрждрж╛ ржХрж░рж┐ред

> ЁЯТБ ржПржЫрж╛ржбрж╝рж╛ржУ ржЖржзрж╛-ржХрж╛ржарж╛ржорзЛржЧржд (Semi-Structured) ржбрзЗржЯрж╛ рж░ржпрж╝рзЗржЫрзЗ ржпрж╛ ржХрж╛ржарж╛ржорзЛржЧржд, рждржмрзЗ рждржерзНржпрзЗрж░ ржирж┐рж░рзНржжрж┐рж╖рзНржЯ ржЯрзЗржмрж┐рж▓ ржЖржХрж╛рж░рзЗ рж╕рж╛ржЬрж╛ржирзЛ ржпрж╛рзЯржирж╛ ред

ржЖржЗржУржЯрж┐ ржбрзЗржЯрж╛ рж╕рж╛ржзрж╛рж░ржгржд ржХрж╛ржарж╛ржорзЛржмрж┐рж╣рзАржи ржбрзЗржЯрж╛ (Unstructured Data) рж╣рж┐рж╕рж╛ржмрзЗ ржмрж┐ржмрзЗржЪрж┐ржд рж╣ржпрж╝ред

ржХрж▓рзНржкржирж╛ ржХрж░рж┐ ржЖржорж░рж╛ ржПржХржЯрж┐ ржмржбрж╝ ржмрж╛ржгрж┐ржЬрзНржпрж┐ржХ ржЦрж╛ржорж╛рж░рзЗрж░ ржЬржирзНржп ржпрж╛ржиржмрж╛рж╣ржирзЗрж░ ржмрж╣рж░рзЗ ржЖржЗржУржЯрж┐ ржбрж┐ржнрж╛ржЗрж╕ ржпрзБржХрзНржд ржХрж░рзЗржЫрж┐ред  ржмрж┐ржнрж┐ржирзНржи ржзрж░ржгрзЗрж░ ржЧрж╛ржбрж╝рж┐рж░ ржЬржирзНржп ржмрж┐ржнрж┐ржирзНржи ржбрж┐ржнрж╛ржЗрж╕ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж╛рж░ ржжрж░ржХрж╛рж░ рж╣рждрзЗ ржкрж╛рж░рзЗред ржЙржжрж╛рж╣рж░ржгрж╕рзНржмрж░рзВржк:

* ржЯрзНрж░рж╛ржХрзНржЯрж░рзЗрж░ ржЬржирзНржп ржЬрж┐ржкрж┐ржПрж╕ ржбрзЗржЯрж╛ ржжрж░ржХрж╛рж░ рж╣рждрзЗ ржкрж╛рж░рзЗ ржПржЯрж┐ ржирж┐рж╢рзНржЪрж┐ржд ржХрж░рж╛рж░ ржЬржирзНржп ржпрзЗ рждрж╛рж░рж╛ рж╕ржарж┐ржХ ржЦрж╛ржорж╛рж░рзЗ ржмрж╛ ржХрзНрж╖рзЗрждрзЗ ржХрж╛ржЬ ржХрж░ржЫрзЗ
* ржЪрж╛рж▓ржХрж░рж╛ ржирж┐рж░рж╛ржкржжрзЗ ржЧрж╛ржбрж╝рж┐ ржЪрж╛рж▓рж╛ржЪрзНржЫрзЗ ржХрж┐ржирж╛, ржбрзНрж░рж╛ржЗржнрж╛рж░рзЗрж░ ржкрж░рж┐ржЪржпрж╝ ржирж┐рж╢рзНржЪрж┐рждржХрж░ржг ржПржмржВ ржХрждржХрзНрж╖ржг ржХрж╛ржЬ ржХрж░ржЫрзЗ рждрж╛ ржирж┐рж╢рзНржЪрж┐ржд ржХрж░рж╛рж░ ржЬржирзНржп ржЦрж╛ржжрзНржпрж╕рж╛ржоржЧрзНрж░рзА ржкрж░рж┐ржмрж╣ржирзЗрж░ ржЯрзНрж░рж╛ржХржЧрзБрж▓рж┐рждрзЗ ржЬрж┐ржкрж┐ржПрж╕ ржбрзЗржЯрж╛рж░ ржкрж╛рж╢рж╛ржкрж╛рж╢рж┐ ржЧрждрж┐рж╕ржВржХрзНрж░рж╛ржирзНржд ржбрзЗржЯрж╛ржУ ржкрзНрж░рзЯрзЛржЬржиред
* рж░рзЗржлрзНрж░рж┐ржЬрж╛рж░рзЗржЯрзЗржб ржЯрзНрж░рж╛ржХрзЗрж░ ржЬржирзНржп рждрж╛ржкржорж╛рждрзНрж░рж╛рж░ рждржерзНржп ржЦрзБржм ржЧрзБрж░рзБрждрзНржмржкрзВрж░рзНржг ржпрж╛рждрзЗ ржЦрж╛ржмрж╛рж░ ржЦрзБржм ржЧрж░ржо ржмрж╛ ржарж╛ржирзНржбрж╛ ржирж╛ рж╣ржпрж╝ ржПржмржВ ржкрж░рж┐ржмрж╣ржгрзЗрж░ рж╕ржорзЯ рждрж╛ ржирж╖рзНржЯ ржирж╛ рж╣ржпрж╝ред

ржПржЗ ржбрзЗржЯрж╛ ржкрж░рж┐ржмрж░рзНрждрж┐ржд рж╣рждрзЗ ржкрж╛рж░рзЗред ржЙржжрж╛рж╣рж░ржгрж╕рзНржмрж░рзВржк, ржпржжрж┐ ржЖржЗржУржЯрж┐ ржбрж┐ржнрж╛ржЗрж╕ржЯрж┐ ржПржХржЯрж┐ ржЯрзНрж░рж╛ржХрзЗрж░ ржХрзНржпрж╛ржмрзЗ ржерж╛ржХрзЗ, рждржмрзЗ ржЯрзНрж░рзЗрж▓рж╛рж░ ржкрж░рж┐ржмрж░рзНрждржирзЗрж░ рж╕рж╛ржерзЗ рж╕рж╛ржерзЗ ржбрзЗржЯрж╛ржУ ржкрж░рж┐ржмрж░рзНрждрж┐ржд рж╣рждрзЗ ржкрж╛рж░рзЗ, ржЙржжрж╛рж╣рж░ржгрж╕рзНржмрж░рзВржк ржпржЦржи ржПржХржЯрж┐ рж░рзЗржлрзНрж░рж┐ржЬрж╛рж░рзЗржЯрзЗржб ржЯрзНрж░рзЗрж▓рж╛рж░ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж╛ рж╣ржмрзЗ, рждржЦржиржЗ рж╢рзБржзрзБ рждрж╛ржкржорж╛рждрзНрж░рж╛рж░ ржбрзЗржЯрж╛ ржкрзНрж░рзЗрж░ржг ржХрж░рж╛ рж╣ржмрзЗред

тЬЕ ржЖрж░ ржХрзЛржи ржХрзЛржи ржЖржЗржУржЯрж┐ ржбрзЗржЯрж╛ ржЧрзНрж░рж╣ржг ржпрзЗрждрзЗ ржкрж╛рж░рзЗ? ржЯрзНрж░рж╛ржХржЧрзБрж▓рж┐ ржпрзЗ ржзрж░ржгрзЗрж░ ржмрзЛржЭрж╛ ржмрж╣ржи ржХрж░рждрзЗ ржкрж╛рж░рзЗ рж╕рзЗ рж╕ржорзНржкрж░рзНржХрзЗ ржПржХржЯрзБ ржЪрж┐ржирзНрждрж╛ ржХрж░рж┐ ржПржмржВ рж╕рзЗржЗрж╕рж╛ржерзЗ рж░ржХрзНрж╖ржгрж╛ржмрзЗржХрзНрж╖ржгрзЗрж░ ржбрзЗржЯрж╛ рж╕ржорзНржкрж░рзНржХрзЗржУ ржнрж╛ржмрж╛ ржпрзЗрждрзЗ ржкрж╛рж░рзЗред

ржПржЗ рждржерзНржп ржпрж╛ржиржмрж╛рж╣ржирзЗрж░ ржЙржкрж░ ржирж┐рж░рзНржнрж░ ржХрж░рзЗ ржкрж░рж┐ржмрж░рзНрждрж┐ржд рж╣ржпрж╝, ржХрж┐ржирзНрждрзБ ржПрж╕ржм рждржерзНржпрж╛ржмрж▓рж┐ ржЖрж╕рж▓рзЗ ржкрзНрж░ржХрзНрж░рж┐ржпрж╝рж╛ржХрж░ржгрзЗрж░ ржЬржирзНржп ржПржХржЗ IoT рж╕рж╛рж░рзНржнрж┐рж╕рзЗ ржкрж╛ржарж╛ржирзЛ рж╣ржпрж╝ред ржЖржЗржУржЯрж┐ рж╕рж╛рж░рзНржнрж┐рж╕ржЯрж┐ржХрзЗ ржПржЗ ржХрж╛ржарж╛ржорзЛржмрж┐рж╣рзАржи ржбрзЗржЯрж╛ ржкрзНрж░ржХрзНрж░рж┐ржпрж╝рж╛ ржХрж░рждрзЗ ржкрж╛рж░рждрзЗ рж╣ржмрзЗ, ржПржЯрж┐ржХрзЗ ржПржоржиржнрж╛ржмрзЗ рж╕ржВрж░ржХрзНрж╖ржг ржХрж░рждрзЗ рж╣ржмрзЗ ржпрж╛ ржПржЯрж┐ ржЕржирзБрж╕ржирзНржзрж╛ржи ржмрж╛ ржмрж┐рж╢рзНрж▓рзЗрж╖ржгрзЗрж░ ржЕржирзБржорждрж┐ ржжрзЗржпрж╝ ржЖржмрж╛рж░ ржПржЗ ржбрзЗржЯрж╛ ржмрж┐ржнрж┐ржирзНржи ржХрж╛ржарж╛ржорзЛрж░ рж╕рж╛ржерзЗржУ ржпрзЗржи ржХрж╛ржЬ ржХрж░рждрзЗ ржкрж╛рж░рзЗред

### SQL ржПржмржВ NoSQL рж╕рзНржЯрзЛрж░рзЗржЬ

ржбрзЗржЯрж╛ржмрзЗрж╕ржЧрзБрж▓рж┐ ржПржоржи ржкрж░рж┐рж╖рзЗржмрж╛ ржпрж╛ ржбрзЗржЯрж╛ рж╕ржВрж░ржХрзНрж╖ржг ржПржмржВ ржХрзБрзЯрзЗрж░рж┐ ржХрж░рж╛рж░ рж╕рзБржпрзЛржЧ ржжрзЗржпрж╝ред ржбрж╛ржЯрж╛ржмрзЗрж╕ ржжрзБржЗ ржкрзНрж░ржХрж╛рж░ рж╣рзЯ - SQL ржПржмржВ NoSQL

#### SQL databases

ржкрзНрж░ржержоржжрж┐ржХрзЗрж░ ржбрж╛ржЯрж╛ржмрзЗрж╕ржЧрзБрж▓рзЛ ржЫрж┐рж▓ рж░рж┐рж▓рзЗрж╢ржирж╛рж▓ ржбрж╛ржЯрж╛ржмрзЗрж╕ ржорзНржпрж╛ржирзЗржЬржорзЗржирзНржЯ рж╕рж┐рж╕рзНржЯрзЗржорж╕ (ржЖрж░ржбрж┐ржмрж┐ржПржоржПрж╕), ржмрж╛ рж░рж┐рж▓рзЗрж╢ржирж╛рж▓ ржбрж╛ржЯрж╛ржмрзЗрж╕ред рж╕рзНржЯрзНрж░рж╛ржХржЪрж╛рж░рзНржб ржХрзНржпрзЛржпрж╝рж╛рж░рзА рж▓рзНржпрж╛ржЩрзНржЧрзБржпрж╝рзЗржЬ (ржПрж╕ржХрж┐ржЙржПрж▓) ржПржЦрж╛ржирзЗ ржбрзЗржЯрж╛ ржпрзЛржЧ, ржЕржкрж╕рж╛рж░ржг, ржЖржкржбрзЗржЯ ржмрж╛ ржХрзЛржпрж╝рзЗрж░рж┐ ржХрж░рж╛рж░ ржЬржирзНржп рждрж╛ржжрзЗрж░ рж╕рж╛ржерзЗ ржЗржирзНржЯрж╛рж░ржЕрзНржпрж╛ржХрзНржЯ ржХрж░рж╛рж░ ржкрж░рзЗ ржПржЯрж┐ ржПрж╕ржХрж┐ржЙржПрж▓ ржбрзЗржЯрж╛ржмрзЗрж╕ ржирж╛ржорзЗржУ ржкрж░рж┐ржЪрж┐рзНрждрж┐ рж▓рж╛ржн ржХрж░рзЗред ржПржЗ ржбрж╛ржЯрж╛ржмрзЗрж╕ржЧрзБрж▓рзЛ ржПржХржЯрж┐ рж╕рзНржХрж┐ржорж╛ ржирж┐ржпрж╝рзЗ ржЧржарж┐ржд ржпрж╛ рж╕рзНржкрзНрж░рзЗржбрж╢рзАржЯрзЗрж░ ржорждржЗ ржбрзЗржЯрж╛ ржЯрзЗржмрж┐рж▓рзЗрж░ ржПржХржЯрж┐ рж╕рзБ-рж╕ржВржЬрзНржЮрж╛ржпрж╝рж┐ржд рж╕рзЗржЯред ржкрзНрж░рждрж┐ржЯрж┐ ржЯрзЗржмрж┐рж▓рзЗ ржПржХрж╛ржзрж┐ржХ ржирж╛ржоржпрзБржХрзНржд ржХрж▓рж╛ржо рж░ржпрж╝рзЗржЫрзЗред ржпржЦржи ржбрзЗржЯрж╛ ржпрзЛржЧ ржмрж╛ insert ржХрж░рж╛, ржЯрзЗржмрж┐рж▓рзЗ ржПржХржЯрж┐ рж╕рж╛рж░рж┐ ржпрзЛржЧ ржХрж░рж╛, ржкрзНрж░рждрж┐ржЯрж┐ ржХрж▓рж╛ржорзЗ ржорж╛ржи рж░рж╛ржЦрж╛ - ржПрж╕ржм  ржХрж░рж╛ ржпрж╛рзЯред ржПржЯрж┐ ржбрзЗржЯрж╛ржЧрзБрж▓рж┐ржХрзЗ ржПржХржЯрж┐ ржЕрждрзНржпржирзНржд ржХржарзЛрж░ ржХрж╛ржарж╛ржорзЛрж░ ржоржзрзНржпрзЗ рж░рж╛ржЦрзЗ - ржпржжрж┐ржУ ржХрж▓рж╛ржоржЧрзБрж▓рж┐ ржЖржорж░рж╛ ржЪрж╛ржЗрж▓рзЗ ржЦрж╛рж▓рж┐ рж░рж╛ржЦрждрзЗ ржкрж╛рж░рж┐, рждржмрзЗ ржПржХржЯрж┐ ржирждрзБржи ржХрж▓рж╛ржо ржпрзБржХрзНржд ржХрж░рждрзЗ ржЪрж╛ржЗрж▓рзЗ ржЕржмрж╢рзНржпржЗ ржмрж┐ржжрзНржпржорж╛ржи рж╕рж╛рж░рж┐рж░ (ROW) ржорж╛ржиржЧрзБрж▓рж┐ ржкрзВрж░ржг ржХрж░рждрзЗ рж╣ржмрзЗред ржПржЗ ржбрзЗржЯрж╛ржмрзЗрж╕ржЧрзБрж▓рж┐ рж░рж┐рж▓рзЗрж╢ржирж╛рж▓ - рждрж╛ржЗ ржПржЦрж╛ржирзЗ ржПржХржЯрж┐ ржЯрзЗржмрж┐рж▓рзЗрж░ ржЕржирзНржпржЯрж┐рж░ рж╕рж╛ржерзЗ рж╕ржорзНржкрж░рзНржХ ржерж╛ржХрждрзЗ ржкрж╛рж░рзЗред

![A relational database with the ID of the User table relating to the user ID column of the purchases table, and the ID of the products table relating to the product ID of the purchases table](../../../../images/sql-database.png)

ржЙржжрж╛рж╣рж░ржгрж╕рзНржмрж░рзВржк, ржпржжрж┐ ржХрзЛржи ржПржХржЯрж┐ ржЯрзЗржмрж┐рж▓рзЗ ржЖржорж░рж╛ ржХрзЛржирзЛ ржмрзНржпржмрж╣рж╛рж░ржХрж╛рж░рзАрж░ ржмрзНржпржХрзНрждрж┐ржЧржд ржмрж┐ржмрж░ржг рж╕ржВрж░ржХрзНрж╖ржг ржХрж░рж┐, рждрж╛рж╣рж▓рзЗ ржкрзНрж░рждрж┐ ржмрзНржпржмрж╣рж╛рж░ржХрж╛рж░рзАрж░ ржЬржирзНржп ржЕржнрзНржпржирзНрждрж░рзАржг рж╕рзНржмрждржирзНрждрзНрж░ (UNIQUE) ржЖржЗржбрж┐ ржерж╛ржХржмрзЗ ржпрж╛ ржмрзНржпржмрж╣рж╛рж░ржХрж╛рж░рзАрж░ ржирж╛ржо ржПржмржВ ржарж┐ржХрж╛ржирж╛ рж╕ржорзНржмрж▓рж┐ржд рж╕рж╛рж░рж┐рждрзЗ ржмрзНржпржмрж╣рзГржд рж╣ржпрж╝ред ржЖржорж░рж╛ ржпржжрж┐ рж╕рзЗржЗ ржмрзНржпржмрж╣рж╛рж░ржХрж╛рж░рзА рж╕ржорзНржкрж░рзНржХрзЗ ржЕржирзНржпрж╛ржирзНржп ржмрж┐ржмрж░ржг ржпрзЗржоржи рждрж╛ржжрзЗрж░ ржХрзНрж░ржпрж╝ рждрж╛рж▓рж┐ржХрж╛ ржЕржирзНржп ржЯрзЗржмрж┐рж▓рзЗ рж╕ржВрж░ржХрзНрж╖ржг ржХрж░рждрзЗ ржЪрж╛ржЗ, рждрж╛рж╣рж▓рзЗ рж╕рзЗржЗ ржмрзНржпржмрж╣рж╛рж░ржХрж╛рж░рзАрж░ ржЖржЗржбрж┐рж░ ржЬржирзНржп ржЖржорж╛ржжрзЗрж░ ржирждрзБржи ржЯрзЗржмрж┐рж▓рзЗ ржПржХржЯрж┐ ржХрж▓рж╛ржо ржерж╛ржХржмрзЗред ржпржЦржи ржЖржорж░рж╛ ржХрзЛржи ржмрзНржпржмрж╣рж╛рж░ржХрж╛рж░рзАрзНрж░ рждржерзНржп ржЦрзБржБржЬржмрзЛ, ржЖржорж░рж╛ рждрж╛ржжрзЗрж░ ржЖржЗржбрж┐ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ рждрж╛ржжрзЗрж░ ржмрзНржпржХрзНрждрж┐ржЧржд рждржерзНржп ржПржХ ржЯрзЗржмрж┐рж▓ ржерзЗржХрзЗ ржПржмржВ ржЕржирзНржп ржЯрзЗржмрж┐рж▓ ржерзЗржХрзЗ рждрж╛ржжрзЗрж░ ржХрзЗржирж╛ржХрж╛ржЯрж╛рж░ рж╕ржХрж▓ рждржерзНржп ржкрзЗрзЯрзЗ ржпрж╛ржмред 

ржПрж╕ржХрж┐ржЙржПрж▓ ржбрзЗржЯрж╛ржмрзЗрж╕ржЧрзБрж▓рж┐ ржХрж╛ржарж╛ржорзЛржЧржд ржбрзЗржЯрж╛ рж╕ржВрж░ржХрзНрж╖ржгрзЗрж░ ржЬржирзНржп  ржПржмржВ рж╕рзНржХрж┐ржорж╛рж░ рж╕рж╛ржерзЗ рж╕рж╛ржоржЮрзНржЬрж╕рзНржп рж░рж╛ржЦрж╛рж░ ржЬржирзНржп ржЖржжрж░рзНрж╢ред

тЬЕ ржПрж╕ржХрж┐ржЙржПрж▓ ржмрзНржпржмрж╣рж╛рж░рзЗрж░ ржЕржнрж┐ржЬрзНржЮрждрж╛ ржирж╛ ржерж╛ржХрж▓рзЗ [SQL page - Wikipedia](https://wikipedia.org/wiki/SQL) ржерзЗржХрзЗ ржмрж┐рж╕рзНрждрж╛рж░рж┐ржд ржЬрж╛ржирждрзЗ ржкрж╛рж░ржмрзЛред

ржХрж┐ржЫрзБ ржмрж╣рзБрж▓ ржкрж░рж┐ржЪрж┐ржд ржПрж╕ржХрж┐ржЙржПрж▓ ржбрзЗржЯрж╛ржмрзЗрж╕ рж╣рж▓рзЛ Microsoft SQL Server, MySQL ржПржмржВ PostgreSQL ред

тЬЕ ржХрж┐ржЫрзБ ржЧржмрзЗрж╖ржгрж╛ ржХрж░рж╛ ржпрж╛ржХ: ржПрж╕ржХрж┐ржЙржПрж▓ ржбрзЗржЯрж╛ржмрзЗрж╕ ржПржмржВ ржПржжрзЗрж░ ржХрж░рзНржоржкрж░рж┐ржзрж┐ рж╕ржорзНржкрж░рзНржХрзЗ ржЬрзНржЮрж╛ржи ржЕрж░рзНржЬржи ржХрж░рж┐ред

#### NoSQL ржбрзЗржЯрж╛ржмрзЗрж╕

NoSQL ржбрзЗржЯрж╛ржмрж╕рзЗрж╕рзЗрж░ ржирж╛ржорзЗрж░ ржЖржЧрзЗ  NO ржмрж╛ 'ржирж╛' рж░рж╛ржЦрж╛рж░ ржХрж╛рж░ржгржЗ рж╣рж▓рзЛ рждрж╛ржжрзЗрж░ рж╕рзЗржЗ рж╕рзБржЧржарж┐ржд ржХрж╛ржарж╛ржорзЛ ржирзЗржЗред рждрж╛рж░рж╛ 'ржбржХрзБржорзЗржирзНржЯ ржбрзЗржЯрж╛ржмрзЗрж╕' ржирж╛ржорзЗржУ ржкрж░рж┐ржЪрж┐ржд ржХрж╛рж░ржг рждрж╛рж░рж╛ ржбржХрзБржорзЗржирзНржЯрзЗрж░ ржорждрзЛ ржЕрж╕ржВржЧржарж┐ржд ржбрзЗржЯрж╛ рж╕ржВрж░ржХрзНрж╖ржг ржХрж░рждрзЗ ржкрж╛рж░рзЗред

> ЁЯТБ ржПржХрзНрж╖рзЗрждрзНрж░рзЗ ржЬрзЗржирзЗ рж░рж╛ржЦрж╛ ржнрж╛рж▓рзЛ ржпрзЗ ржХрж┐ржЫрзБ NoSQL ржбрзЗржЯрж╛ржмрзЗрж╕рзЗ ржЖржорж░рж╛ SQL  ржПрж░ ржоржд ржХрж░рзЗ ржХрзБрзЯрзЗрж░рж┐ ржХрж░рждрзЗ ржкрж╛рж░ржмрзЛред

![Documents in folders in a NoSQL database](../../../../images/noqsl-database.png)

NoSQL ржбрж╛ржЯрж╛ржмрзЗрж╕рзЗрж░ ржПржХржЯрж┐ ржкрзВрж░рзНржмржирж┐рж░рзНржзрж╛рж░рж┐ржд рж╕рзНржХрж┐ржорж╛ ржирзЗржЗ ржпрж╛ ржбрзЗржЯрж╛ ржХрж┐ржнрж╛ржмрзЗ рж╕ржВрж░ржХрзНрж╖ржг ржХрж░рж╛ рж╣ржпрж╝ рждрж╛ рж╕рзАржорж╛ржмржжрзНржз ржХрж░ржмрзЗ, ржмрж░ржВ ржПрж░ ржкрж░рж┐ржмрж░рзНрждрзЗ ржЖржорж░рж╛ рж╕рж╛ржзрж╛рж░ржгржд JSON ржбржХрзБржорзЗржирзНржЯ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ ржпрзЗржХрзЛржирзЛ ржЕржмрж┐ржХрзНрж░рж┐ржд ржбрзЗржЯрж╛ рж╕ржирзНржирж┐ржмрзЗрж╢ ржХрж░рждрзЗ ржкрж╛рж░рж┐ред ржПржЗ ржбржХрзБржорзЗржирзНржЯржЧрзБрж▓рзЛ ржЖржорж╛ржжрзЗрж░ ржХржорзНржкрж┐ржЙржЯрж╛рж░рзЗрж░ ржлрж╛ржЗрж▓рзЗрж░ ржорждрзЛ ржлрзЛрж▓рзНржбрж╛рж░рзЗ рж╕ржВржЧржарж┐ржд рж╣рждрзЗ ржкрж╛рж░рзЗред ржкрзНрж░рждрж┐ржЯрж┐ ржбржХрзБржорзЗржирзНржЯрзЗ ржнрж┐ржирзНржи ржнрж┐ржирзНржи ржлрж┐рж▓рзНржб ржерж╛ржХрждрзЗ ржкрж╛рж░рзЗ - ржЙржжрж╛рж╣рж░ржгрж╕рзНржмрж░рзВржк, ржпржжрж┐ ржЖржорж░рж╛ ржЖржорж╛ржжрзЗрж░ ржЦрж╛ржорж╛рж░рзЗрж░ ржпрж╛ржиржмрж╛рж╣ржи ржерзЗржХрзЗ ржЖржЗржУржЯрж┐ ржбрзЗржЯрж╛ рж╕ржВрж░ржХрзНрж╖ржг ржХрж░рж┐, ржХрж╛рж░ржУ ржХрж╛рж░ржУ ржЬржирзНржп ржЕрзНржпрж╛ржХрж╕рж┐рж▓рж░рзЛржорж┐ржЯрж╛рж░ ржПржмржВ ржЧрждрж┐рж░ ржбрзЗржЯрж╛рж░ ржлрж┐рж▓рзНржб ржерж╛ржХрждрзЗ ржкрж╛рж░рзЗ, ржЕржирзНржпржжрзЗрж░ ржЯрзНрж░рзЗрж▓рж╛рж░рзЗ рждрж╛ржкржорж╛рждрзНрж░рж╛рж░ ржлрж┐рж▓рзНржб ржерж╛ржХрждрзЗ ржкрж╛рж░рзЗред ржпржжрж┐ ржЖржорж░рж╛ ржПржХржЯрж┐ ржирждрзБржи ржзрж░ржгрзЗрж░ ржЯрзНрж░рж╛ржХ ржпрзЛржЧ ржХрж░рждрзЗ ржЪрж╛ржЗ, ржпрзЗржоржи ржПржХржЯрж┐ ржмрж┐рж▓рзНржЯ-ржЗржи рж╕рзНржХрзЗрж▓ ржпрзБржХрзНржд ржЧрж╛рзЬрж┐ ржпрж╛ ржПрждрзЗ ржерж╛ржХрж╛ ржУржЬржи ржЯрзНрж░рзНржпрж╛ржХ ржХрж░рждрзЗ ржкрж╛рж░рзЗ, рждрж╛рж╣рж▓рзЗ ржЖржорж╛ржжрзЗрж░ IoT ржбрж┐ржнрж╛ржЗрж╕ржЯрж┐ ржПржЗ ржирждрзБржи ржлрж┐рж▓рзНржбржЯрж┐ ржпрзЛржЧ ржХрж░рждрзЗ ржкрж╛рж░рзЗ ржПржмржВ ржПржЯрж┐ ржбрж╛ржЯрж╛ржмрзЗрж╕рзЗрж░ ржХрзЛржи ржкрж░рж┐ржмрж░рзНрждржи ржЫрж╛ржбрж╝рж╛ржЗ рж╕ржВрж░ржХрзНрж╖ржг ржХрж░рж╛ ржпрж╛ржмрзЗред

ржХрж┐ржЫрзБ рж╕рзБржкрж░рж┐ржЪрж┐ржд NoSQL database рж╣рж▓рзЛ Azure CosmosDB, MongoDB ржПржмржВ CouchDB ред

тЬЕ ржПржХржЯрзБ ржЧржмрзЗрж╖ржгрж╛ ржХрж░рж╛ ржпрж╛ржХ: ржирзЛржПрж╕ржХрж┐ржЙржПрж▓ ржбрзЗржЯрж╛ржмрзЗрж╕ ржПржмржВ ржПржжрзЗрж░ ржХрж░рзНржоржкрж░рж┐ржзрж┐ рж╕ржорзНржкрж░рзНржХрзЗ ржЬрзНржЮрж╛ржи ржЕрж░рзНржЬржи ржХрж░рж┐ред

ржПржЗ ржкрж╛ржарзЗ, ржЖржорж░рж╛ ржЖржЗржУржЯрж┐ ржбрзЗржЯрж╛ рж╕ржЮрзНржЪржпрж╝ (Store) ржХрж░рждрзЗ NoSQL рж╕рзНржЯрзЛрж░рзЗржЬ ржмрзНржпржмрж╣рж╛рж░ ржХрж░ржмред

## GPS ржбрзЗржЯрж╛ IoT Hub ржП ржкрзНрж░рзЗрж░ржг

ржЧржд ржкрж╛ржарзЗ  ржЖржорж░рж╛ ржЖржорж╛ржжрзЗрж░ ржЖржЗржУржЯрж┐ ржбрж┐ржнрж╛ржЗрж╕рзЗрж░ рж╕рж╛ржерзЗ рж╕ржВржпрзБржХрзНржд ржПржХржЯрж┐ ржЬрж┐ржкрж┐ржПрж╕ рж╕рзЗржирзНрж╕рж░ ржерзЗржХрзЗ ржЬрж┐ржкрж┐ржПрж╕ ржбрзЗржЯрж╛ ржХрзНржпрж╛ржкржЪрж╛рж░ ржХрж░рзЗржЫрж┐ред ржПржЗ ржЖржЗржУржЯрж┐ ржбрзЗржЯрж╛ ржХрзНрж▓рж╛ржЙржбрзЗ рж╕ржВрж░ржХрзНрж╖ржг ржХрж░рждрзЗ, рждрж╛ ржПржХржЯрж┐ ржЖржЗржУржЯрж┐ ржкрж░рж┐рж╖рзЗржмрж╛рждрзЗ ржкрж╛ржарж╛рждрзЗ рж╣ржмрзЗред ржПржмрж╛рж░ржУ ржЖржорж░рж╛ Azure IoT Hub ржмрзНржпржмрж╣рж╛рж░ ржХрж░ржм, ржПржХржЗ IoT ржХрзНрж▓рж╛ржЙржб ржкрж░рж┐рж╖рзЗржмрж╛ ржпрж╛ ржЖржорж░рж╛ ржЖржЧрзЗрж░ ржкрзНрж░ржЬрзЗржХрзНржЯрзЗ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗржЫрж┐рж▓рж╛ржоред

![Sending GPS telemetry from an IoT device to IoT Hub](../../../../images/gps-telemetry-iot-hub.png)

### ржХрж╛ржЬ - GPS ржбрзЗржЯрж╛ IoT Hub ржП ржкрзНрж░рзЗрж░ржг

1. ржирждрзБржи ржПржХржЯрж┐ ржЖржЗржУржЯрж┐ рж╣рж╛ржм ржЦрзБрж▓рждрзЗ рж╣ржмрзЗ free tier ржПрж░ ред

    > тЪая╕П ржПржХрзНрж╖рзЗрждрзНрж░рзЗ [ржкрзНрж░ржЬрзЗржХрзНржЯ-рзи рж▓рзЗрж╕ржи-рзк ржерзЗржХрзЗ ржЖржЗржУржЯрж┐ рж╣рж╛ржм рждрзИрж░рзАрж░ ржирж┐рж░рзНржжрзЗрж╢рж╛ржмрж▓рж┐ ржЕржирзБрж╕рж░ржг ржХрж░рж╛ ржпрж╛ржмрзЗ](../../../../2-farm/lessons/4-migrate-your-plant-to-the-cloud/README.md#create-an-iot-service-in-the-cloud) ржкрзНрж░рзЯрзЛржЬржиржмрзЛржзрзЗред

    ржирждрзБржи ржПржХржЯрж┐ Resource Group ржЦрзЛрж▓рж╛рж░ ржмрж┐рж╖рзЯржЯрж┐ ржоржирзЗ рж░рж╛ржЦрждрзЗ рж╣ржмрзЗ, ржпрзЗржЯрж┐рж░ ржирж╛ржо `gps-sensor` ржжрзЗрзЯрж╛ ржпрж╛рзЯ ржирждрзБржи IoT Hub ржПрж░ ржЬржирзНржп ржПржХржЯрж┐ ржЗржЙржирж┐ржХ ржирж╛ржо ржпрзЗржоржи `gps-sensor-<your name>` ржжрзЗрзЯрж╛ ржпрзЗрждрзЗ ржкрж╛рж░рзЗред

    > ЁЯТБ ржпржжрж┐ ржкрзВрж░рзНржмржмрж░рзНрждрзА ржкрзНрж░ржЬрзЗржХрзНржЯрзЗ ржмрзНржпржмрж╣рзГржд ржЖржЗржУржЯрж┐ рж╣рж╛ржм ржерж╛ржХрзЗ, рж╕рзЗржЯрж┐ржУ ржкрзБржирж░рж╛ржпрж╝ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж╛ ржпрж╛ржмрзЗред ржПржХрзНрж╖рзЗрждрзНрж░рзЗ ржЖржЗржУржЯрж┐ рж╣рж╛ржм ржПржмржВ рж░рж┐рж╕рзЛрж░рзНрж╕ ржЧрзНрж░рзБржкрзЗрж░ ржирж╛ржо рж╕ржарж┐ржХржнрж╛ржмрзЗ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рждрзЗ рж╣ржмрзЗ рж╕рж╛рж░рзНржнрж┐рж╕ рждрзИрж░рж┐рж░ рж╕ржорзЯред

1. рж╣рж╛ржмрзЗ ржПржХржЯрж┐ ржирждрзБржи ржбрж┐ржнрж╛ржЗрж╕ ржпрзЛржЧ ржХрж░рж┐ ржПржмржВ `gps-sensor` ржирж╛ржо ржжрж┐ржЗред ржХрж╛ржирзЗржХрж╢ржи рж╕рзНржЯрзНрж░рж┐ржВ ржЯрж┐ ржирзЛржЯ рж░рж╛ржЦрж┐

1. ржЖржЧрзЗрж░ ржзрж╛ржк ржерзЗржХрзЗ ржбрж┐ржнрж╛ржЗрж╕ рж╕ржВржпрзЛржЧ рж╕рзНржЯрзНрж░рж┐ржВ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ ржирждрзБржи ржЖржЗржУржЯрж┐ рж╣рж╛ржм -ржП ржЬрж┐ржкрж┐ржПрж╕ ржбрзЗржЯрж╛ ржкрж╛ржарж╛рждрзЗ ржбрж┐ржнрж╛ржЗрж╕ ржХрзЛржб ржЖржкржбрзЗржЯ ржХрж░рждрзЗ рж╣ржмрзЗред

    > тЪая╕П ржПржХрзНрж╖рзЗрждрзНрж░рзЗ [ржкрзНрж░ржЬрзЗржХрзНржЯ-рзи рж▓рзЗрж╕ржи-рзк ржерзЗржХрзЗ ржЖржЗржУржЯрж┐ рж╕рж╛рж░рзНржнрж┐рж╕рзЗрж░ рж╕рж╛ржерзЗ ржбрж┐ржнрж╛ржЗрж╕ рж╕ржВржпрзЛржЬржирзЗрж░ ржирж┐рж░рзНржжрзЗрж╢рж╛ржмрж▓рж┐ ](../../../../2-farm/lessons/4-migrate-your-plant-to-the-cloud/README.md#connect-your-device-to-the-iot-service) ржЕржирзБрж╕рж░ржг ржХрж░рж╛ ржпрж╛ржмрзЗред

1. ржпржЦржи  ржЬрж┐ржкрж┐ржПрж╕ ржбрзЗржЯрж╛ ржкрзНрж░рзЗрж░ржг ржХрж░ржм, рждржЦржи ржПржЯрж┐ ржирж┐ржорзНржирж▓рж┐ржЦрж┐ржд ржмрж┐ржирзНржпрж╛рж╕рзЗ JSON рж╣рж┐рж╕рж╛ржмрзЗ ржХрж░рждрзЗ рж╣ржмрзЗ:

    ```json
    {
        "gps" :
        {
            "lat" : <latitude>,
            "lon" : <longitude>
        }
    }
    ```

1. ржкрзНрж░рждрж┐ ржорж┐ржирж┐ржЯрзЗ ржЬрж┐ржкрж┐ржПрж╕ ржбрзЗржЯрж╛ ржкрж╛ржарж╛рждрзЗ рж╣ржмрзЗ ржпрж╛рждрзЗ ржжрзИржирж┐ржХ ржорзНржпрж╛рж╕рзЗржЬ ржмрзНржпржмрж╣рж╛рж░ ржПрж░ рж▓рж┐ржорж┐ржЯ рж╢рзЗрж╖ ржирж╛ рж╣рзЯред

ржЖржорж░рж╛ ржпржжрж┐ Wio ржЯрж╛рж░рзНржорж┐ржирж╛рж▓ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзНрж░рж┐, рждрж╛рж╣рж▓рзЗ рж╕ржорж╕рзНржд ржкрзНрж░ржпрж╝рзЛржЬржирзАржпрж╝ рж▓рж╛ржЗржмрзНрж░рзЗрж░рж┐ ржпрзЛржЧ ржХрж░рждрзЗ рж╣ржмрзЗ ржПржмржВ ржПржХржЯрж┐ NTP рж╕рж╛рж░рзНржнрж╛рж░ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ рж╕ржоржпрж╝ ржирж┐рж░рзНржзрж╛рж░ржг ржХрж░рж╛рж░  ржкрзНрж░рзЯрзЛржЬржи рж╣ржмрзЗред ржЧржд ржкрж╛ржа ржерзЗржХрзЗ ржмрж┐ржжрзНржпржорж╛ржи ржХрзЛржб ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ , ржЖржорж╛ржжрзЗрж░ ржХрзЛржбржЯрж┐ ржжрзНржмрж╛рж░рж╛ ржирж┐рж╢рзНржЪрж┐ржд ржХрж░рждрзЗ рж╣ржмрзЗ ржпрзЗ ржПржЯрж┐ ржЬрж┐ржкрж┐ржПрж╕ рж▓рзЛржХрзЗрж╢ржи ржкрж╛ржарж╛ржирзЛрж░ ржЖржЧрзЗ рж╕рж┐рж░рж┐ржпрж╝рж╛рж▓ ржкрзЛрж░рзНржЯ ржерзЗржХрзЗ рж╕ржорж╕рзНржд ржбрзЗржЯрж╛ ржкржбрж╝рзЗржЫрзЗред JSON ржбржХрзБржорзЗржирзНржЯ рждрзИрж░рж┐ ржХрж░рждрзЗ ржирж┐ржорзНржирж▓рж┐ржЦрж┐ржд ржХрзЛржбржЯрж┐ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж┐:

```cpp
DynamicJsonDocument doc(1024);
doc["gps"]["lat"] = gps.location.lat();
doc["gps"]["lon"] = gps.location.lng();
```
ржнрж╛рж░рзНржЪрзБржпрж╝рж╛рж▓ ржЖржЗржУржЯрж┐ ржбрж┐ржнрж╛ржЗрж╕ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж▓рзЗ, ржПржЯрж┐рж░ ржЬржирзНржп ржкрзНрж░ржпрж╝рзЛржЬржирзАржпрж╝ рж╕ржорж╕рзНржд рж▓рж╛ржЗржмрзНрж░рзЗрж░рж┐ ржЗржирж╕рзНржЯрж▓ ржХрж░рж╛рж░ ржмрж┐рж╖рзЯржЯрж┐ ржоржирзЗ рж░рж╛ржЦрждрзЗ рж╣ржмрзЗред

рж░рж╛рж╕рзНржкржмрзЗрж░рж┐ ржкрж╛ржЗ ржПржмржВ ржнрж╛рж░рзНржЪрзБржпрж╝рж╛рж▓ ржЖржЗржУржЯрж┐ ржЙржнржпрж╝ ржбрж┐ржнрж╛ржЗрж╕рзЗрж░ ржЬржирзНржп, ржЕржХрзНрж╖рж╛ржВрж╢ ржПржмржВ ржжрзНрж░рж╛ржШрж┐ржорж╛ржВрж╢рзЗрж░ ржорж╛ржиржЧрзБрж▓рж┐ ржкрзЗрждрзЗ ржЧржд ржкрж╛ржа ржерзЗржХрзЗ ржмрж┐ржжрзНржпржорж╛ржи ржХрзЛржбржЯрж┐ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ ржирж┐ржорзНржирж▓рж┐ржЦрж┐ржд ржХрзЛржб рж╕рж╣ рждрж╛ржжрзЗрж░ рж╕ржарж┐ржХ JSON ржлрж░рзНржорзНржпрж╛ржЯрзЗ ржкрж╛ржарж╛рждрзЗ рж╣ржмрзЗ:

```python
message_json = { "gps" : { "lat":lat, "lon":lon } }
print("Sending telemetry", message_json)
message = Message(json.dumps(message_json))
```

> ЁЯТБ ржкрзНрж░рзЯрзЛржЬржирзАрзЯ  рж╕ржХрж▓ ржХрзЛржб [code/wio-terminal](code/wio-terminal), [code/pi](code/pi) ржмрж╛ [code/virtual-device](code/virtual-device) ржлрзЛрж▓рзНржбрж╛рж░рзЗ ржкрж╛ржУрзЯрж╛ ржпрж╛ржмрзЗ ред

Run your device code and ensure messages are flowing into IoT Hub using the `az iot hub monitor-events` CLI command.
ржбрж┐ржнрж╛ржЗрж╕ ржХрзЛржбржЯрж┐ рж░рж╛ржи ржХрж░рзЗ ржирж┐рж╢рзНржЪрж┐ржд ржХрж░рждрзЗ рж╣ржмрзЗ ржпрзЗ ржмрж╛рж░рзНрждрж╛ржЧрзБрж▓рж┐ ржЖржЗржУржЯрж┐ рж╣рж╛ржмрзЗрж░ ржоржзрзНржпрзЗ ржкрзНрж░ржмрж╛рж╣рж┐ржд рж╣ржЪрзНржЫрзЗ `az iot hub monitor-events` ржПрж░ ржорж╛ржзрзНржпржорзЗ, рж╕рж┐ржПрж▓ржЖржЗ ржХржорж╛ржирзНржб ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗред

## Hot, Warm, ржПржмржВ Cold Path

ржПржХржЯрж┐ IoT ржбрж┐ржнрж╛ржЗрж╕ ржерзЗржХрзЗ ржХрзНрж▓рж╛ржЙржбрзЗ ржкрзНрж░ржмрж╛рж╣рж┐ржд ржбрзЗржЯрж╛ рж╕ржмрж╕ржоржпрж╝ рж░рж┐ржпрж╝рзЗрж▓ ржЯрж╛ржЗржорзЗ ржкрзНрж░рж╕рзЗрж╕ ржХрж░рж╛ рж╣ржпрж╝ ржирж╛ред ржХрж┐ржЫрзБ ржбрзЗржЯрж╛ рж░рж┐ржпрж╝рзЗрж▓ ржЯрж╛ржЗржо ржкрзНрж░ржХрзНрж░рж┐ржпрж╝рж╛ржХрж░ржгрзЗрж░ ржкрзНрж░ржпрж╝рзЛржЬржи рж╣ржпрж╝, ржХрж┐ржЫрзБ ржбрзЗржЯрж╛ ржЕрж▓рзНржк ржХрж┐ржЫрзБржХрзНрж╖ржг ржкрж░рзЗ ржкрзНрж░ржХрзНрж░рж┐ржпрж╝рж╛ ржХрж░рж╛ ржпрж╛ржпрж╝, ржПржмржВ ржЕржирзНржпрж╛ржирзНржп ржбрзЗржЯрж╛ ржЕржирзЗржХ ржкрж░рзЗ ржкрзНрж░ржХрзНрж░рж┐ржпрж╝рж╛ ржХрж░рж▓рзЗржУ рж╣рзЯред ржмрж┐ржнрж┐ржирзНржи рж╕ржоржпрж╝рзЗ ржбрзЗржЯрж╛ ржкрзНрж░ржХрзНрж░рж┐ржпрж╝рж╛ ржХрж░рзЗ ржПржоржи ржмрж┐ржнрж┐ржирзНржи ржкрж░рж┐рж╖рзЗржмрж╛рждрзЗ рждржерзНржп ржкрзНрж░ржмрж╛рж╣ржХрзЗ Hot, Warm ржПржмржВ Cold Path ржмрж▓рж╛ рж╣ржпрж╝ред

### Hot Path

рж╣ржЯ ржкрж╛рже  (Hot Path) ржПржоржи ржбрзЗржЯрж╛ ржмрзЛржЭрж╛ржпрж╝ ржпрж╛ рж░рж┐ржпрж╝рзЗрж▓ ржЯрж╛ржЗржорзЗ ржмрж╛ рж░рж┐ржпрж╝рзЗрж▓ ржЯрж╛ржЗржорзЗрж░ ржХрж╛ржЫрж╛ржХрж╛ржЫрж┐ рж╕ржорзЯрзЗржЗ ржкрзНрж░ржХрзНрж░рж┐ржпрж╝рж╛ржХрж░ржгрзЗрж░ ржкрзНрж░ржпрж╝рзЛржЬржи рж╣ржпрж╝ред ржПрж▓рж╛рж░рзНржЯ ржжрзЗрзЯрж╛рж░ ржЬржирзНржп ржпрзЗржоржи - ржпрзЗ ржХрзЛржиржУ ржЧрж╛ржбрж╝рж┐ ржПржХржЯрж┐ ржбрж┐ржкрзЛрж░ ржХрж╛ржЫрзЗ ржЖрж╕ржЫрзЗ ржЕржержмрж╛ ржПржХржЯрж┐ рж░рзЗржлрзНрж░рж┐ржЬрж╛рж░рзЗржЯрзЗржб ржЯрзНрж░рж╛ржХрзЗрж░ рждрж╛ржкржорж╛рждрзНрж░рж╛ ржЦрзБржм ржмрзЗрж╢рж┐ ржПржоржи ржкрж░рж┐рж╕рзНржерж┐рждрж┐рж░ ржорзЛржХрж╛ржмрзЗрж▓рж╛ ржХрж░рждрзЗ рж╕рждрж░рзНржХрждрж╛рж░ ржЬржирзНржп рж╣ржЯ ржкрж╛рже ржбрзЗржЯрж╛ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж╛ рж╣рзЯред

рж╣ржЯ ржкрж╛рже ржбрзЗржЯрж╛ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж╛рж░ ржЬржирзНржп, ржХрзНрж▓рж╛ржЙржб ржкрж░рж┐рж╖рзЗржмрж╛ржЧрзБрж▓рж┐ ржХрзЛржб ржкрж╛ржУржпрж╝рж╛рж░ рж╕рж╛ржерзЗ рж╕рж╛ржерзЗ ржЖржорж╛ржжрзЗрж░ ржЗржнрзЗржирзНржЯржЧрзБрж▓рж┐рждрзЗ рж╕рж╛ржбрж╝рж╛ ржжрзЗржмрзЗред

### Warm path

ржЙрж╖рзНржг ржкрже (Warm path) ржмрж▓рждрзЗ ржПржоржи рждржерзНржпржХрзЗ ржмрзЛржЭрж╛ржпрж╝ ржпрж╛ ржкрзНрж░рж╛ржкрзНрждрж┐рж░ ржкрж░рзЗ ржЕрж▓рзНржк ржХрж┐ржЫрзБржХрзНрж╖ржг рж╕ржорзЯ ржирж┐рзЯрзЗ ржкрзНрж░ржХрзНрж░рж┐ржпрж╝рж╛ ржХрж░рж╛ ржпрж╛ржпрж╝, ржЙржжрж╛рж╣рж░ржгрж╕рзНржмрж░рзВржк рж░рж┐ржкрзЛрж░рзНржЯрж┐ржВ ржмрж╛ рж╕рзНржмрж▓рзНржкржорзЗржпрж╝рж╛ржжрзА ржмрж┐рж╢рзНрж▓рзЗрж╖ржгред ржЖржЧрзЗрж░ ржжрж┐ржирзЗрж░ рж╕ржВржЧрзГрж╣рзАржд ржбрзЗржЯрж╛ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ ржЧрж╛ржбрж╝рж┐рж░ ржорж╛ржЗрж▓рзЗржЬрзЗрж░ ржжрзИржирж┐ржХ рж░рж┐ржкрзЛрж░рзНржЯрзЗрж░ ржЬржирзНржп ржПржЗ ржзрж░ржгрзЗрж░ ржкржжрзНржзрждрж┐ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж╛ рж╣рзЯред

ржХрзНрж▓рж╛ржЙржб рж╕рж╛рж░рзНржнрж┐рж╕рзЗрж░ ржорж╛ржзрзНржпржорзЗ ржПржЗ ржбрзЗржЯрж╛ ржПржоржиржнрж╛ржмрзЗ рж╕рзНржЯрзЛрж░ ржХрж░рж╛ рж╣рзЯ ржпрж╛рждрзЗ ржжрзНрж░рзБржд ржЕрзНржпрж╛ржХрзНрж╕рзЗрж╕ ржХрж░рж╛ ржпрж╛ржпрж╝ред

### Cold path

ржарж╛ржирзНржбрж╛ ржкрже (Cold path) ржмрж▓рждрзЗ ржРрждрж┐рж╣рж╛рж╕рж┐ржХ рждржерзНржп ржмрзЛржЭрж╛ржпрж╝, ржжрзАрж░рзНржШржорзЗржпрж╝рж╛ржжрзЗ рждржерзНржп рж╕ржВрж░ржХрзНрж╖ржг ржХрж░рзЗ ржпржЦржиржЗ ржкрзНрж░ржпрж╝рзЛржЬржи рж╣ржпрж╝ рждржЦржи ржмрж┐рж╢рзНрж▓рзЗрж╖ржг ржХрж░рж╛ рж╣ржмрзЗред ржЙржжрж╛рж╣рж░ржгрж╕рзНржмрж░рзВржк, ржпрж╛ржиржмрж╛рж╣ржирзЗрж░ ржмрж╛рж░рзНрж╖рж┐ржХ ржорж╛ржЗрж▓рзЗржЬ рж░рж┐ржкрзЛрж░рзНржЯ ржкрзЗрждрзЗ ржарж╛ржирзНржбрж╛ ржкрже ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж╛ ржпрж╛рзЯ ржЕржержмрж╛ ржЬрзНржмрж╛рж▓рж╛ржирж┐ ржЦрж░ржЪ ржХржорж╛ржирзЛрж░ ржЬржирзНржп рж╕ржмржЪрзЗржпрж╝рзЗ ржЕржирзБржХрзВрж▓ рж░рзБржЯ ржЦрзБржБржЬрзЗ ржмрзЗрж░ ржХрж░рж╛рж░ ржЬржирзНржп рж░рзБржЯ ржмрж┐рж╢рзНрж▓рзЗрж╖ржг ржЪрж╛рж▓рж╛рждрзЗржУ ржПржЯрж┐ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж╛ ржпрж╛рзЯ ред

ржХрзЛрж▓рзНржб ржкрж╛рже ржбрзЗржЯрж╛ рж╕рж╛ржзрж╛рж░ржгржд data warehouse ржП рж╕ржВрж░ржХрзНрж╖рж┐ржд рж╣ржпрж╝ - ржбрзЗржЯрж╛ржЧрзБрж▓рж┐рж░ ржмржбрж╝ ржкрж░рж┐ржорж╛ржгрзЗ рж╕ржВрж░ржХрзНрж╖ржгрзЗрж░ ржЬржирзНржп ржбрж┐ржЬрж╛ржЗржи ржХрж░рж╛ ржбрзЗржЯрж╛ржмрзЗрж╕ ржпрж╛ ржХржЦржиржУ ржкрж░рж┐ржмрж░рзНрждржи рж╣ржмрзЗ ржирж╛ ржПржмржВ ржжрзНрж░рзБржд ржПржмржВ рж╕рж╣ржЬрзЗржЗ ржХрзБрзЯрзЗрж░рж┐ ржХрж░рж╛ ржпрж╛ржмрзЗред рж╕рж╛ржзрж╛рж░ржгржд  ржХрзНрж▓рж╛ржЙржб ржЕрзНржпрж╛ржкрзНрж▓рж┐ржХрзЗрж╢ржирзЗ ржирж┐ржпрж╝ржорж┐рждржнрж╛ржмрзЗ ржкрзНрж░рждрж┐ржжрж┐ржи, рж╕ржкрзНрждрж╛рж╣ ржмрж╛ ржорж╛рж╕рзЗ ржПржХржЯрж┐ ржирж┐ржпрж╝ржорж┐ржд рж╕ржоржпрж╝рзЗ ржЪрж▓ржмрзЗ ржЙрж╖рзНржг ржкржерзЗрж░ рж╕рзНржЯрзЛрж░рзЗржЬ ржерзЗржХрзЗ ржУрзЯрзНржпрж╛рж░рж╣рж╛ржЙрж╕рзЗ ржПржЗ ржбрзЗржЯрж╛ рж╕рзНржерж╛ржирж╛ржирзНрждрж░ ржХрж░рж╛рж░ ржХрж╛ржЬред

тЬЕ ржПржЗ ржкрж╛ржаржЧрзБрж▓рж┐рждрзЗ ржЖржорж░рж╛ ржПржЦржи ржкрж░рзНржпржирзНржд ржпрзЗ ржбрзЗржЯрж╛ ржХрзНржпрж╛ржкржЪрж╛рж░ ржХрж░рзЗржЫрж┐ рж╕рзЗ рж╕ржорзНржкрж░рзНржХрзЗ ржЪрж┐ржирзНрждрж╛ ржХрж░рж┐ред ржПржЧрзБрж▓рзЛ ржХрж┐ hot, warm ржирж╛ржХрж┐ cold path ржПрж░ рждржерзНржп?

## рж╕рж╛рж░рзНржнрж╛рж░ржмрж┐рж╣рзАржи ржХрзЛржб ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ ржЬрж┐ржкрж┐ржПрж╕ ржЗржнрзЗржирзНржЯржЧрзБрж▓рж┐ ржкрж░рж┐ржЪрж╛рж▓ржирж╛ 

ржПржХржмрж╛рж░ ржЖржорж╛ржжрзЗрж░ ржЖржЗржУржЯрж┐ рж╣рж╛ржмрзЗрж░ ржоржзрзНржпрзЗ ржбрзЗржЯрж╛ ржкрзНрж░ржмрж╛рж╣рж┐ржд рж╣ржпрж╝рзЗ ржЧрзЗрж▓рзЗ, ржЗржнрзЗржирзНржЯ-рж╣рж╛ржм рж╕рж╛ржоржЮрзНржЬрж╕рзНржпржкрзВрж░рзНржг ржПржирзНржбржкржпрж╝рзЗржирзНржЯрзЗ ржкрзНрж░ржХрж╛рж╢рж┐ржд ржЗржнрзЗржирзНржЯржЧрзБрж▓рж┐ рж╢рзЛржирж╛рж░ ржЬржирзНржп ржХрж┐ржЫрзБ рж╕рж╛рж░рзНржнрж╛рж░рж▓рзЗрж╕ ржХрзЛржб рж▓рж┐ржЦрждрзЗ ржкрж╛рж░ржмрзЛред ржПржЯрж┐ ржЙрж╖рзНржг ржкржерзЗ ржбрзЗржЯрж╛ рж╕ржВрж░ржХрзНрж╖ржг ржХрж░рж╛ рж╣ржмрзЗ ржПржмржВ ржкрж░ржмрж░рзНрждрзА ржкрж╛ржарзЗ ржпрж╛рждрзНрж░рж╛рж░ ржкрзНрж░рждрж┐ржмрзЗржжржи рждрзИрж░рзА ржХрж░рж╛рж░ ржЬржирзНржп ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж╛ рж╣ржмрзЗред

![Sending GPS telemetry from an IoT device to IoT Hub, then to Azure Functions via an event hub trigger](../../../../images/gps-telemetry-iot-hub-functions.png)

### ржХрж╛ржЬ - рж╕рж╛рж░рзНржнрж╛рж░ржмрж┐рж╣рзАржи ржХрзЛржб ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ ржЬрж┐ржкрж┐ржПрж╕ ржЗржнрзЗржирзНржЯржЧрзБрж▓рж┐ ржкрж░рж┐ржЪрж╛рж▓ржирж╛ 

1.  Azure Functions CLI ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ ржПржХржЯрж┐ Azure Functions ржЕрзНржпрж╛ржк рждрзИрж░рж┐ ржХрж░рж┐ред ржкрж╛ржЗржержи рж░рж╛ржиржЯрж╛ржЗржо ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж┐ ржПржмржВ ржПржЯрж┐ ржПржХржЯрж┐ ржлрзЛрж▓рзНржбрж╛рж░рзЗ рждрзИрж░рж┐ ржХрж░рж┐ ржпрж╛рж░ ржирж╛ржо `gps-trigger` ржПржмржВ ржлрж╛ржВрж╢ржи ржЕрзНржпрж╛ржк ржкрзНрж░ржЬрзЗржХрзНржЯрзЗрж░ ржирж╛ржорзЗрж░ ржЬржирзНржп ржПржХржЗ ржирж╛ржо ржмрзНржпржмрж╣рж╛рж░ ржХрж░рждрзЗ рж╣ржмрзЗред Virtual environment рждрзИрж░рзАрж░ ржмрж┐рж╖рзЯржЯрж┐ ржирж┐рж╢рзНржЪрж┐ржд ржХрж░рждрзЗ рж╣ржмрзЗред

    > тЪая╕П ржПржХрзНрж╖рзЗрждрзНрж░рзЗ [ржкрзНрж░ржЬрзЗржХрзНржЯ-рзи рж▓рзЗрж╕ржи-рзл ржерзЗржХрзЗ ржЖржЗржУржЯрж┐ рж╕рж╛рж░рзНржнрж┐рж╕рзЗрж░ рж╕рж╛ржерзЗ рж╕рж╛рж░рзНржнрж╛рж░рж▓рзЗрж╕ ржПржкрзНрж▓рж┐ржХрзЗрж╢ржи рждрзИрж░рзАрж░ ржирж┐рж░рзНржжрзЗрж╢рж╛ржмрж▓рж┐](../../../../2-farm/lessons/5-migrate-application-to-the-cloud/README.md#create-a-serverless-application) ржЕржирзБрж╕рж░ржг ржХрж░рж╛ ржпрж╛ржмрзЗред

1. Add an IoT Hub event trigger that uses the IoT Hub's Event Hub compatible endpoint.

    > тЪая╕П ржПржХрзНрж╖рзЗрждрзНрж░рзЗ [ржкрзНрж░ржЬрзЗржХрзНржЯ-рзи рж▓рзЗрж╕ржи-рзл ржерзЗржХрзЗ ржЖржЗржУржЯрж┐ рж╣рж╛ржм ржЗржнрзЗржирзНржЯ ржЯрзНрж░рж┐ржЧрж╛рж░ рждрзИрж░рзАрж░ ржирж┐рж░рзНржжрзЗрж╢рж╛ржмрж▓рж┐](../../../../2-farm/lessons/5-migrate-application-to-the-cloud/README.md#create-an-iot-hub-event-trigger) ржЕржирзБрж╕рж░ржг ржХрж░рж╛ ржпрж╛ржмрзЗред

1. ржЗржнрзЗржирзНржЯ рж╣рж╛ржм рж╕рж╛ржоржЮрзНржЬрж╕рзНржпржкрзВрж░рзНржг ржПржирзНржбржкржпрж╝рзЗржирзНржЯ рж╕ржВржпрзЛржЧ рж╕рзНржЯрзНрж░рж┐ржВ рж╕рзЗржЯ ржХрж░рждрзЗ рж╣ржмрзЗ `local.settings.json` ржлрж╛ржЗрж▓рзЗ ржПржмржВ `function.json` ржлрж╛ржЗрж▓рзЗрж░ ржЬржирзНржп рж╕рзЗржЗ ржПржирзНржЯрзНрж░рж┐рж░ KEY ржмрзНржпржмрж╣рж╛рж░ ржХрж░рждрзЗ рж╣ржмрзЗред

1. ржПржХрзНрж╖рзЗрждрзНрж░рзЗ Azurite app ржмрзНржпржмрж╣рж╛рж░ ржХрж░рждрзЗ рж╣ржмрзЗ local storage emulator рж╣рж┐рж╕рзЗржмрзЗред

1. ржЬрж┐ржкрж┐ржПрж╕ ржбрж┐ржнрж╛ржЗрж╕ ржерзЗржХрзЗ ржЗржнрзЗржирзНржЯ ржЧрзНрж░рж╣ржг ржХрж░ржЫрзЗ ржХрж┐ржирж╛ рждрж╛ ржирж┐рж╢рзНржЪрж┐ржд ржХрж░рждрзЗ ржлрж╛ржВрж╢ржи ржЕрзНржпрж╛ржкржЯрж┐ ржЪрж╛рж▓рж╛рждрзЗ рж╣ржмрзЗред ржПржЦрж╛ржи ржерзЗржХрзЗржЗ ржирж┐рж╢рзНржЪрж┐ржд ржХрж░рж╛ ржпрж╛ржмрзЗ ржпрзЗ ржЖржЗржУржЯрж┐ ржбрж┐ржнрж╛ржЗрж╕ржЯрж┐ ржЪрж▓ржЫрзЗ ржПржмржВ ржЬрж┐ржкрж┐ржПрж╕ ржбрзЗржЯрж╛ ржкрж╛ржарж╛ржЪрзНржЫрзЗред

    ```output
    Python EventHub trigger processed an event: {"gps": {"lat": 47.73481, "lon": -122.25701}}
    ```

## Azure рж╕рзНржЯрзЛрж░рзЗржЬ ржЕрзНржпрж╛ржХрж╛ржЙржирзНржЯ

![The Azure Storage logo](../../../../images/azure-storage-logo.png)

Azure рж╕рзНржЯрзЛрж░рзЗржЬ ржЕрзНржпрж╛ржХрж╛ржЙржирзНржЯ ржПржХржЯрж┐ рж╕рж╛ржзрж╛рж░ржг ржЙржжрзНржжрзЗрж╢рзНржпрзЗ (General Purpose) ржмрзНржпржмрж╣рзГржд рж╕рзНржЯрзЛрж░рзЗржЬ ржкрж░рж┐рж╖рзЗржмрж╛ ржпрж╛ ржмрж┐ржнрж┐ржирзНржи ржЙржкрж╛ржпрж╝рзЗ ржбрзЗржЯрж╛ рж╕ржВрж░ржХрзНрж╖ржг ржХрж░рждрзЗ ржкрж╛рж░рзЗред ржЖржорж░рж╛ ржмрзНрж▓ржм рж╣рж┐рж╕рж╛ржмрзЗ, рж╕рж╛рж░рж┐рждрзЗ, ржЯрзЗржмрж┐рж▓рзЗ ржмрж╛ ржлрж╛ржЗрж▓ рж╣рж┐рж╕рж╛ржмрзЗ ржбрзЗржЯрж╛ рж╕ржВрж░ржХрзНрж╖ржг ржХрж░рждрзЗ ржкрж╛рж░рж┐ред

### Blob storage

*ржмрзНрж▓ржм* ржорж╛ржирзЗ рж╣рж▓рзЛ ржмрж╛ржЗржирж╛рж░рж┐ ржмржбрж╝ ржмрж╕рзНрждрзБ (binary large objects) рждржмрзЗ ржпрзЗржХрзЛржи ржХрж╛ржарж╛ржорзЛржмрж┐рж╣рзАржи ржбрзЗржЯрж╛рж░ ржЬржирзНржп ржПржЗ рж╢ржмрзНржж ржмрзНржпржмрж╣рзГржд рж╣рзЯред ржЖржЗржУржЯрж┐ ржбрзЗржЯрж╛ ржзрж╛рж░ржгржХрж╛рж░рзА JSON ржбржХрзБржорзЗржирзНржЯ ржерзЗржХрзЗ рж╢рзБрж░рзБ ржХрж░рзЗ ржЗржорзЗржЬ ржПржмржВ ржорзБржнрж┐ ржлрж╛ржЗрж▓ржЧрзБрж▓рж┐рждрзЗржУ ржмрзНрж▓ржм рж╕рзНржЯрзЛрж░рзЗржЬрзЗ ржпрзЗржХрзЛржи ржбрзЗржЯрж╛ рж╕ржВрж░ржХрзНрж╖ржг ржХрж░рж╛ ржпрж╛рзЯред ржмрзНрж▓ржм рж╕рзНржЯрзЛрж░рзЗржЬрзЗ *ржХржиржЯрзЗржЗржирж╛рж░* ржПрж░ ржзрж╛рж░ржгрж╛ рж░ржпрж╝рзЗржЫрзЗ, ржПржЧрзБрж▓рзЛ ржирж╛ржоржпрзБржХрзНржд ржмрж╛ржХрзЗржЯ/ржкрж╛рждрзНрж░ ржпрж╛рж░ ржоржзрзНржпрзЗ ржбрзЗржЯрж╛ рж╕ржВрж░ржХрзНрж╖ржг ржХрж░рж╛ ржпрж╛рзЯ, ржПржХржЯрж┐ рж░рж┐рж▓рзЗрж╢ржирж╛рж▓ ржбрж╛ржЯрж╛ржмрзЗржЬрзЗ ржЯрзЗржмрж┐рж▓рзЗрж░ ржорждрзЛред ржПржЗ ржкрж╛рждрзНрж░рзЗ ржмрзНрж▓ржм рж╕ржВрж░ржХрзНрж╖ржгрзЗрж░ ржЬржирзНржп ржПржХ ржмрж╛ ржПржХрж╛ржзрж┐ржХ ржлрзЛрж▓рзНржбрж╛рж░ ржерж╛ржХрждрзЗ ржкрж╛рж░рзЗ ржПржмржВ ржкрзНрж░рждрж┐ржЯрж┐ ржлрзЛрж▓рзНржбрж╛рж░рзЗ ржЕржирзНржпрж╛ржирзНржп ржлрзЛрж▓рзНржбрж╛рж░ ржерж╛ржХрждрзЗ ржкрж╛рж░рзЗ, ржпрзЗржнрж╛ржмрзЗ ржХржорзНржкрж┐ржЙржЯрж╛рж░рзЗрж░ рж╣рж╛рж░рзНржбржбрж┐рж╕рзНржХрзЗ ржлрж╛ржЗрж▓ рж╕ржВрж░ржХрзНрж╖ржг ржХрж░рж╛ рж╣ржпрж╝ред

IoT ржбрзЗржЯрж╛ рж╕ржВрж░ржХрзНрж╖ржг ржХрж░рждрзЗ ржЖржорж░рж╛ ржПржЗ ржкрж╛ржарзЗ ржмрзНрж▓ржм рж╕рзНржЯрзЛрж░рзЗржЬ ржмрзНржпржмрж╣рж╛рж░ ржХрж░ржмред

тЬЕ ржХрж┐ржЫрзБ ржЧржмрзЗрж╖ржгрж╛ ржХрж░рж╛ ржпрж╛ржХ:[Azure Blob Storage](https://docs.microsoft.com/azure/storage/blobs/storage-blobs-overview?WT.mc_id=academic-17441-jabenn) рж╕ржорзНржкрж░рзНржХрзЗ ржкрзЬрзЗ ржЖрж░рзЛ ржмрж┐рж╕рзНрждрж╛рж░рж┐ржд ржЬрж╛ржирж╛рж░ ржЪрзЗрж╖рзНржЯрж╛ ржХрж░рж┐ред

### Table storage

ржЯрзЗржмрж┐рж▓ рж╕рзНржЯрзЛрж░рзЗржЬ ржЖржорж╛ржжрзЗрж░ ржЖржзрж╛ ржХрж╛ржарж╛ржорзЛржЧржд ржбрзЗржЯрж╛ рж╕ржВрж░ржХрзНрж╖ржг ржХрж░рждрзЗ ржжрзЗржпрж╝ред ржЯрзЗржмрж┐рж▓ рж╕рзНржЯрзЛрж░рзЗржЬ ржЖрж╕рж▓рзЗ ржПржХржЯрж┐ NoSQL ржбрж╛ржЯрж╛ржмрзЗрж╕, рждрж╛ржЗ ржЯрзЗржмрж┐рж▓рзЗрж░ ржПржХржЯрж┐ рж╕ржВржЬрзНржЮрж╛ржпрж╝рж┐ржд рж╕рзЗржЯ ржкрзНрж░ржпрж╝рзЛржЬржи рж╣ржпрж╝ ржирж╛, ржХрж┐ржирзНрждрзБ ржПржЯрж┐ ржПржХ ржмрж╛ ржПржХрж╛ржзрж┐ржХ ржЯрзЗржмрж┐рж▓рзЗ ржбрзЗржЯрж╛ рж╕ржВрж░ржХрзНрж╖ржг ржХрж░рж╛рж░ ржЬржирзНржп ржбрж┐ржЬрж╛ржЗржи ржХрж░рж╛ рж╣ржпрж╝рзЗржЫрзЗ, ржкрзНрж░рждрж┐ржЯрж┐ рж╕рж╛рж░рж┐рж░ рж╕ржВржЬрзНржЮрж╛ ржжрж┐рждрзЗ ржЕржиржирзНржп ржХрзА (unique key) ржжрж┐ржпрж╝рзЗред

тЬЕ ржХрж┐ржЫрзБ ржЧржмрзЗрж╖ржгрж╛ ржХрж░рж╛ ржпрж╛ржХ: [Azure Table Storage](https://docs.microsoft.com/azure/storage/tables/table-storage-overview?WT.mc_id=academic-17441-jabenn) рж╕ржорзНржкрж░рзНржХрзЗ ржкрзЬрзЗ ржЖрж░рзЛ ржмрж┐рж╕рзНрждрж╛рж░рж┐ржд ржЬрж╛ржирж╛рж░ ржЪрзЗрж╖рзНржЯрж╛ ржХрж░рж┐ред

### Queue storage

ржХрж┐ржЙ рж╕рзНржЯрзЛрж░рзЗржЬ ржПржХржЯрж┐ рж╕рж╛рж░рж┐рждрзЗ 64KB ржЖржХрж╛рж░рзЗрж░ ржмрж╛рж░рзНрждрж╛ рж╕ржВрж░ржХрзНрж╖ржг ржХрж░рждрзЗ ржжрзЗржпрж╝ред ржЖржорж░рж╛ рж╕рж╛рж░рж┐рж░ ржкрж┐ржЫржирзЗрж░ ржжрж┐ржХрзЗ ржмрж╛рж░рзНрждрж╛ ржпрзЛржЧ ржХрж░рждрзЗ ржкрж╛рзНрж░рж┐ ржПржмржВ рж╕рзЗржЧрзБрж▓рж┐ ржЖржмрж╛рж░ рж╕рж╛ржоржирзЗ ржерзЗржХрзЗ ржкржбрж╝рждрзЗ ржкрж╛рж░рж┐ред Queue ржПржЦрж╛ржирзЗ ржмрж╛рж░рзНрждрж╛ржЧрзБрж▓рж┐ржХрзЗ ржЕржирж┐рж░рзНржжрж┐рж╖рзНржЯржХрж╛рж▓рзЗрж░ ржЬржирзНржп рж╕ржВрж░ржХрзНрж╖ржг ржХрж░рзЗ ржпрждржХрзНрж╖ржг рж╕рзНржЯрзЛрж░рзЗржЬ рж╕рзНржкрзЗрж╕ рж░ржпрж╝рзЗржЫрзЗ, рждрж╛ржЗ ржПржЯрж┐ ржмрж╛рж░рзНрждрж╛ржЧрзБрж▓рж┐ржХрзЗ ржжрзАрж░рзНржШржорзЗржпрж╝рж╛ржжрзА рж╕ржВрж░ржХрзНрж╖ржг ржХрж░рждрзЗ ржжрзЗржпрж╝ред рждрж╛рж░ржкрж░ ржпржЦржи ржкрзНрж░ржпрж╝рзЛржЬржи рж╣рзЯ рждрж╛ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж╛ ржпрж╛рзЯред ржЙржжрж╛рж╣рж░ржгрж╕рзНржмрж░рзВржк,  ржпржжрж┐ ржЬрж┐ржкрж┐ржПрж╕ ржбрзЗржЯрж╛ ржкрзНрж░рж╕рзЗрж╕ ржХрж░рж╛рж░ ржЬржирзНржп ржПржХржЯрж┐ ржорж╛рж╕рж┐ржХ ржХрж╛ржЬ ржЪрж╛рж▓рж╛рждрзЗ рж╣рзЯ, рждрж╛рж╣рж▓рзЗ ржкрзНрж░рждрж┐ржжрж┐ржи ржПржЯрж┐ржХрзЗ ржПржХ ржорж╛рж╕рзЗрж░ ржЬржирзНржп рж╕рж╛рж░рж┐рждрзЗ ржпрзЛржЧ ржХрж░рждрзЗ ржкрж╛рж░ржмрзЛ, рждрж╛рж░ржкрж░ ржорж╛рж╕рзЗрж░ рж╢рзЗрж╖рзЗ рж╕рж╛рж░рж┐рж░ рж╕ржм ржмрж╛рж░рзНрждрж╛ ржПржХрж╕рж╛ржерзЗ ржкрзНрж░ржХрзНрж░рж┐ржпрж╝рж╛ ржХрж░рждрзЗ ржкрж╛рж░ржмрзЛред

тЬЕ ржХрж┐ржЫрзБ ржЧржмрзЗрж╖ржгрж╛ ржХрж░рж╛ ржпрж╛ржХ: [Azure Queue Storage](https://docs.microsoft.com/azure/storage/queues/storage-queues-introduction?WT.mc_id=academic-17441-jabenn) рж╕ржорзНржкрж░рзНржХрзЗ ржкрзЬрзЗ ржЖрж░рзЛ ржмрж┐рж╕рзНрждрж╛рж░рж┐ржд ржЬрж╛ржирж╛рж░ ржЪрзЗрж╖рзНржЯрж╛ ржХрж░рж┐ред

### File storage

ржлрж╛ржЗрж▓ рж╕рзНржЯрзЛрж░рзЗржЬ рж╣рж▓ ржХрзНрж▓рж╛ржЙржбрзЗ ржлрж╛ржЗрж▓рзЗрж░ рж╕рзНржЯрзЛрж░рзЗржЬ ржПржмржВ ржпрзЗ ржХрзЛржиржУ ржЕрзНржпрж╛ржк ржмрж╛ ржбрж┐ржнрж╛ржЗрж╕ рж╕рзНржмрзАржХрзГржд рж╕рзНржЯрзНржпрж╛ржирзНржбрж╛рж░рзНржб ржкрзНрж░рзЛржЯрзЛржХрж▓ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ рж╕ржВржпрзЛржЧ ржХрж░рждрзЗ ржкрж╛рж░рзЗред ржЖржорж░рж╛ ржлрж╛ржЗрж▓ рж╕рзНржЯрзЛрж░рзЗржЬрзЗ ржЖржорж╛ржжрзЗрж░ рждржерзНржп рж░рж╛ржЦрждрзЗ ржкрж╛рж░рж┐, рждрж╛рж░ржкрж░рзЗ ржкрж┐рж╕рж┐ ржмрж╛ ржорзНржпрж╛ржХрзЗрж░ ржбрзНрж░рж╛ржЗржн рж╣рж┐рж╕рж╛ржмрзЗ ржорж╛ржЙржирзНржЯ ржХрж░рж╛ ржпрж╛рзЯред

тЬЕ ржХрж┐ржЫрзБ ржЧржмрзЗрж╖ржгрж╛ ржХрж░рж╛ ржпрж╛ржХ: [Azure File Storage](https://docs.microsoft.com/azure/storage/files/storage-files-introduction?WT.mc_id=academic-17441-jabenn) рж╕ржорзНржкрж░рзНржХрзЗ ржкрзЬрзЗ ржЖрж░рзЛ ржмрж┐рж╕рзНрждрж╛рж░рж┐ржд ржЬрж╛ржирж╛рж░ ржЪрзЗрж╖рзНржЯрж╛ ржХрж░рж┐ред

## рж╕рж╛рж░рзНржнрж╛рж░ржмрж┐рж╣рзАржи ржХрзЛржбржХрзЗ рж╕рзНржЯрзЛрж░рзЗржЬрзЗ рж╕ржВржпрзБржХрзНрждржХрж░ржг

ржЖржЗржУржЯрж┐ рж╣рж╛ржм ржерзЗржХрзЗ ржмрж╛рж░рзНрждрж╛ржЧрзБрж▓рж┐ рж╕ржЮрзНржЪржпрж╝ ржХрж░рждрзЗ ржЖржорж╛ржжрзЗрж░ ржлрж╛ржВрж╢ржи ржЕрзНржпрж╛ржкржЯрж┐ржХрзЗ ржПржЦржи ржмрзНрж▓ржм рж╕рзНржЯрзЛрж░рзЗржЬрзЗрж░ рж╕рж╛ржерзЗ рж╕ржВржпрзБржХрзНржд ржХрж░рждрзЗ рж╣ржмрзЗред ржПржЯрж┐ ржХрж░рж╛рж░ 2 ржЯрж┐ ржЙржкрж╛ржпрж╝ рж░ржпрж╝рзЗржЫрзЗ:

* ржлрж╛ржВрж╢ржи ржХрзЛржбрзЗрж░ ржнрж┐рждрж░рзЗ, ржЖржорж╛ржжрзЗрж░ ржмрзНрж▓ржм рж╕рзНржЯрзЛрж░рзЗржЬ Python SDK ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ ржмрзНрж▓ржм рж╕рзНржЯрзЛрж░рзЗржЬрзЗ рж╕ржВржпрзЛржЧ ржХрж░рждрзЗ рж╣ржмрзЗ ржПржмржВ ржбрзЗржЯрж╛ ржмрзНрж▓ржм рж╣рж┐рж╕рж╛ржмрзЗ рж░рж╛ржЦрждрзЗ рж╣ржмрзЗред
* ржЖржорж╛ржжрзЗрж░ ржПржХржЯрж┐ ржЖржЙржЯржкрзБржЯ ржлрж╛ржВрж╢ржи ржмрж╛ржЗржирзНржбрж┐ржВ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рждрзЗ рж╣ржмрзЗ ржлрж╛ржВрж╢ржирзЗрж░ рж░рж┐ржЯрж╛рж░рзНржи ржнрзНржпрж╛рж▓рзБ ржмрзНрж▓рзЛржм рж╕рзНржЯрзЛрж░рзЗржЬрзЗ ржмрж╛ржЗржирзНржб ржХрж░рждрзЗ ржПржмржВ ржПржХрзНрж╖рзЗрждрзНрж░рзЗ ржмрзНрж▓ржмржЯрж┐ рж╕рзНржмржпрж╝ржВржХрзНрж░рж┐ржпрж╝ржнрж╛ржмрзЗ рж╕ржВрж░ржХрзНрж╖ржг ржХрж░рждрзЗ рж╣ржмрзЗред

ржПржЗ ржкрж╛ржарзЗ, ржЖржорж░рж╛ ржмрзНрж▓ржм рж╕рзНржЯрзЛрж░рзЗржЬрзЗрж░ рж╕рж╛ржерзЗ ржХрзАржнрж╛ржмрзЗ ржпрзЛржЧрж╛ржпрзЛржЧ ржХрж░рждрзЗ рж╣ржпрж╝ рждрж╛ ржжрзЗржЦрждрзЗ Python SDK ржмрзНржпржмрж╣рж╛рж░ ржХрж░ржмред

![Sending GPS telemetry from an IoT device to IoT Hub, then to Azure Functions via an event hub trigger, then saving it to blob storage](../../../../images/save-telemetry-to-storage-from-functions.png)

ржирж┐ржорзНржирж▓рж┐ржЦрж┐ржд ржлрж░ржорзНржпрж╛ржЯрзЗ ржбрзЗржЯрж╛ ржПржХржЯрж┐ JSON ржмрзНрж▓ржм рж╣рж┐рж╕рж╛ржмрзЗ рж╕ржВрж░ржХрзНрж╖ржг ржХрж░рж╛ рж╣ржмрзЗ:

```json
{
    "device_id": <device_id>,
    "timestamp" : <time>,
    "gps" :
    {
        "lat" : <latitude>,
        "lon" : <longitude>
    }
}
```

### ржХрж╛ржЬ - рж╕рж╛рж░рзНржнрж╛рж░ржмрж┐рж╣рзАржи ржХрзЛржбржХрзЗ рж╕рзНржЯрзЛрж░рзЗржЬрзЗ рж╕ржВржпрзБржХрзНрждржХрж░ржг

1. ржПржХржЯрж┐ Azure рж╕рзНржЯрзЛрж░рзЗржЬ ржЕрзНржпрж╛ржХрж╛ржЙржирзНржЯ рждрзИрж░рж┐ ржХрж░рзЗ ржПржоржи ржПржХржЯрж┐ ржирж╛ржо ржжрж┐ржЗ `gps<your name>`.

    > тЪая╕П ржПржХрзНрж╖рзЗрждрзНрж░рзЗ [ржкрзНрж░ржЬрзЗржХрзНржЯ-рзи рж▓рзЗрж╕ржи-рзл ржерзЗржХрзЗ рж╕рзНржЯрзЛрж░рзЗржЬ ржПржХрж╛ржЙржирзНржЯ рждрзИрж░рзАрж░ ржирж┐рж░рзНржжрзЗрж╢рж╛ржмрж▓рж┐](../../../../2-farm/lessons/5-migrate-application-to-the-cloud/README.md#task---create-the-cloud-resources) ржЕржирзБрж╕рж░ржг ржХрж░рж╛ ржпрж╛ржмрзЗред

     ржпржжрж┐ ржПржЦржиржУ ржкрзВрж░рзНржмржмрж░рзНрждрзА ржкрзНрж░ржЬрзЗржХрзНржЯрзЗрзНрж░ рж╕рзНржЯрзЛрж░рзЗржЬ ржЕрзНржпрж╛ржХрж╛ржЙржирзНржЯ ржерж╛ржХрзЗ,ржПржЯрж┐ ржкрзБржирж░рж╛ржпрж╝ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж╛ ржпрж╛ржмрзЗред

    > ЁЯТБ ржПржЗ ржкрж╛ржарзЗ ржЖржорж░рж╛ ржЖржорж╛ржжрзЗрж░ Azure Functions ржЕрзНржпрж╛ржкржЯрж┐ рж╕рзНржерж╛ржкржи ржХрж░рждрзЗ ржПржХржЗ рж╕рзНржЯрзЛрж░рзЗржЬ ржЕрзНржпрж╛ржХрж╛ржЙржирзНржЯ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рждрзЗ ржкрж╛рж░ржмред

1. рж╕рзНржЯрзЛрж░рзЗржЬ ржЕрзНржпрж╛ржХрж╛ржЙржирзНржЯрзЗрж░ ржЬржирзНржп рж╕ржВржпрзЛржЧ рж╕рзНржЯрзНрж░рж┐ржВ ржкрзЗрждрзЗ ржирж┐ржорзНржирж▓рж┐ржЦрж┐ржд ржХржорж╛ржирзНржбржЯрж┐ ржЪрж╛рж▓рж╛ржЗ:

    ```sh
    az storage account show-connection-string --output table \
                                              --name <storage_name>
    ```

    ржПржХрзНрж╖рзЗрждрзНрж░рзЗ `<storage_name>` ржПрж░ ржкрж░рж┐ржмрж░рзНрждрзЗ ржЖржЧрзЗрж░ ржзрж╛ржкрзЗ ржЖржорж╛ржжрзЗрж░ ржмрзНржпржмрж╣рзГржд рж╕рзНржЯрзЛрж░рзЗржЬ ржПрж░ ржирж╛ржоржЯрж┐ ржмрж╕рж╛рждрзЗ рж╣ржмрзЗред

1. `local.settings.json` ржлрж╛ржЗрж▓рзЗ рж╕рзНржЯрзЛрж░рзЗржЬ ржПржХрж╛ржЙржирзНржЯрзЗрж░ ржХрж╛ржирзЗржХрж╢ржи ржЬржирзНржп ржирждрзБржи ржПржирзНржЯрзНрж░рж┐ ржжрж┐рждрзЗ рж╣ржмрзЗ, ржЖржЧрзЗрж░ ржзрж╛ржкрзЗрж░ ржнрзНржпрж╛рж▓рзБ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗред ржПржЯрж┐рж░ ржирж╛ржо ржжрж┐ржЗ `STORAGE_CONNECTION_STRING` ред

1. ржПрж░ржкрж░ `requirements.txt` ржП рж╕рзНржЯрзЛрж░рзЗржЬ ржкрж┐ржк ржкрзНржпрж╛ржХрзЗржЬ ржЗржирзНрж╕ржЯрж▓ ржХрж░рж╛рж░ ржЬржирзНржп ржирж┐ржорзНржирзЗрж░ ржЕржВрж╢ ржпрзЛржЧ ржХрж░рж┐

    ```sh
    azure-storage-blob
    ```

    ржнрж╛рж░рзНржЪрзБржпрж╝рж╛рж▓ ржПржиржнрж╛рзЯрж░ржиржорзЗржирзНржЯрзЗ ржПржЗ ржлрж╛ржЗрж▓ ржерзЗржХрзЗ ржкрзНржпрж╛ржХрзЗржЬ ржЗржирж╕рзНржЯрж▓ ржХрж░рждрзЗ рж╣ржмрзЗред

    > ржпржжрж┐ ржХрзЛржи ржПрж░рж░ ржерж╛ржХрзЗ, рждрж╛рж╣рж▓рзЗ ржЖржорж╛ржжрзЗрж░ ржЖржорж╛ржжрзЗрж░ ржнрж╛рж░рзНржЪрзБржпрж╝рж╛рж▓ ржкрж░рж┐ржмрзЗрж╢рзЗ ржЖржорж╛ржжрзЗрж░ ржкрж┐ржк рж╕ржВрж╕рзНржХрж░ржгржЯрж┐ ржирж┐ржорзНржирзЛржХрзНржд ржХржорж╛ржирзНржб ржжрж┐ржпрж╝рзЗ рж╕рж░рзНржмрж╢рзЗрж╖ рж╕ржВрж╕рзНржХрж░ржгрзЗ ржЖржкржЧрзНрж░рзЗржб ржХрж░рж╛ ржЙржЪрж┐ржд, рждрж╛рж░ржкрж░ ржЖржмрж╛рж░ ржЪрзЗрж╖рзНржЯрж╛ ржХрж░рждрзЗ  рж╣ржмрзЗ:
    >
    > ```sh
    > pip install --upgrade pip
    > ```

1.  ржПржЦрж╛ржирзЗ  `__init__.py` ржлрж╛ржЗрж▓рзЗ `iot-hub-trigger` ржП ржирж┐ржорзНржирзЗрж░ ржЗржорзНржкрзЛрж░рзНржЯ рж╕рзНржЯрзЗржЯржорзЗржирзНржЯ ржжрж┐рждрзЗ рж╣ржмрзЗржГ

    ```python
    import json
    import os
    import uuid
    from azure.storage.blob import BlobServiceClient, PublicAccess
    ```

    JSON ржкржбрж╝рждрзЗ ржПржмржВ рж▓рж┐ржЦрждрзЗ `json` рж╕рж┐рж╕рзНржЯрзЗржо ржоржбрж┐ржЙрж▓ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж╛ рж╣ржмрзЗ,`os` рж╕рж┐рж╕рзНржЯрзЗржо ржоржбрж┐ржЙрж▓ржЯрж┐ рж╕ржВржпрзЛржЧ рж╕рзНржЯрзНрж░рж┐ржВ ржкржбрж╝рж╛рж░ ржЬржирзНржп ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж╛ рж╣ржмрзЗ, `uuid` рж╕рж┐рж╕рзНржЯрзЗржо ржоржбрж┐ржЙрж▓ржЯрж┐ GPS ржкржбрж╝рж╛рж░ ржЬржирзНржп ржПржХржЯрж┐ ржЕржиржирзНржп ржЖржЗржбрж┐ рждрзИрж░рж┐ ржХрж░рждрзЗ ржмрзНржпржмрж╣рзГржд рж╣ржмрзЗред

    ржЖрж░ `azure.storage.blob` ржкрзНржпрж╛ржХрзЗржЬржЯрж┐рждрзЗ Python SDK рж░рзЯрзЗржЫрзЗ blob storage ржПрж░ рж╕рж╛ржерзЗ ржХрж╛ржЬ ржХрж░рж╛рж░ ржЬржирзНржпред

1. ржПржЦржи `main` ржорзЗржержбрзЗрж░ ржЖржЧрзЗржЗ,ржирж┐ржорзНржирж▓рж┐ржЦрж┐ржд рж╣рзЗрзНрж▓ржкрж╛рж░ ржлрж╛ржВрж╢ржи ржпрзЛржЧ ржХрж░рж┐:

    ```python
    def get_or_create_container(name):
        connection_str = os.environ['STORAGE_CONNECTION_STRING']
        blob_service_client = BlobServiceClient.from_connection_string(connection_str)
    
        for container in blob_service_client.list_containers():
            if container.name == name:
                return blob_service_client.get_container_client(container.name)
        
        return blob_service_client.create_container(name, public_access=PublicAccess.Container)
    ```

ржкрж╛ржЗржержи ржмрзНрж▓ржм ржПрж╕ржбрж┐ржХрзЗ рждрзЗ ржпржжрж┐ ржХрзЛржи ржХржирзНржЯрзЗржЗржирж╛рж░ ржирж╛ ржерж╛ржХрзЗ рждржмрзЗ ржПржХржЯрж┐ ржХржирзНржЯрзЗржЗржирж╛рж░ рждрзИрж░рж┐ ржХрж░рж╛рж░ ржЬржирзНржп ржХрзЛржи рж╕рж╣рж╛ржпрж╝ржХ ржкржжрзНржзрждрж┐ ржирзЗржЗред ржПржЗ ржХрзЛржбржЯрж┐ `local.settings.json` ржлрж╛ржЗрж▓ ржерзЗржХрзЗ рж╕ржВржпрзЛржЧ рж╕рзНржЯрзНрж░рж┐ржВ рж▓рзЛржб ржХрж░ржмрзЗ (ржЕржержмрж╛ ржЕрзНржпрж╛ржкрзНрж▓рж┐ржХрзЗрж╢ржи рж╕рзЗржЯрж┐ржВрж╕ ржпрж╛ ржХрзНрж▓рж╛ржЙржбрзЗ рж░рзЯрзЗржЫрзЗ рждрж╛  ржерзЗржХрзЗ ), рждрж╛рж░ржкрж░ ржмрзНрж▓ржм рж╕рзНржЯрзЛрж░рзЗржЬ ржЕрзНржпрж╛ржХрж╛ржЙржирзНржЯрзЗрж░ рж╕рж╛ржерзЗ ржЗржирзНржЯрж╛рж░ржЕрзНржпрж╛ржХрзНржЯ ржХрж░рж╛рж░ ржЬржирзНржп ржПржЯрж┐ ржерзЗржХрзЗ ржПржХржЯрж┐` BlobServiceClient` ржХрзНрж▓рж╛рж╕ рждрзИрж░рж┐ ржХрж░рждрзЗ рж╣ржмрзЗред ржПржЯрж┐ ржмрзНрж▓ржм рж╕рзНржЯрзЛрж░рзЗржЬ ржЕрзНржпрж╛ржХрж╛ржЙржирзНржЯрзЗрж░ ржЬржирзНржп рж╕ржорж╕рзНржд ржкрж╛рждрзНрж░рзЗ рж▓рзБржк ржХрж░рзЗ, ржкрзНрж░ржжрждрзНржд ржирж╛ржорзЗрж░ рж╕рж╛ржерзЗ ржорж┐рж▓рж┐рзЯрзЗ рж╕ржирзНржзрж╛ржи ржХрж░рзЗ - ржпржжрж┐ ржПржЯрж┐ ржПржХржЯрж┐ ржЦрзБржБржЬрзЗ ржкрж╛ржпрж╝ рждржмрзЗ ржПржЯрж┐ ржПржХржЯрж┐ 'ржХржиржЯрзЗржЗржирж╛рж░ ржХрзНрж▓рж╛ржпрж╝рзЗржирзНржЯ' ржХрзНрж▓рж╛рж╕ ржлрж┐рж░рж┐ржпрж╝рзЗ ржжрзЗржмрзЗ ржпрж╛ ржмрзНрж▓ржм рждрзИрж░рж┐ ржХрж░рждрзЗ ржХржирзНржЯрзЗржЗржирж╛рж░рзЗрж░ рж╕рж╛ржерзЗ ржпрзЛржЧрж╛ржпрзЛржЧ ржХрж░рждрзЗ ржкрж╛рж░рзЗред ржпржжрж┐ ржПржЯрж┐ ржЦрзБржБржЬрзЗ ржирж╛ ржкрж╛ржпрж╝, рждрж╛рж╣рж▓рзЗ ржХржирзНржЯрзЗржЗржирж╛рж░ рждрзИрж░рж┐ ржХрж░рж╛ рж╣ржпрж╝ ржПржмржВ ржирждрзБржи ржкрж╛рждрзНрж░рзЗ ржХрзНрж▓рж╛ржпрж╝рзЗржирзНржЯ рж░рж┐ржЯрж╛рж░рзНржи ржХрж░рж╛ рж╣ржпрж╝ред

    ржпржЦржи ржирждрзБржи ржХржирзНржЯрзЗржЗржирж╛рж░ рждрзИрж░рж┐ ржХрж░рж╛ рж╣ржпрж╝, рждржЦржи ржПрждрзЗ ржерж╛ржХрж╛ ржмрзНрж▓ржмржЧрзБрж▓рж┐ ржХрзБрзЯрзЗрж░рж┐ ржХрж░рж╛рж░ ржЬржирзНржп рж╕рж░рзНржмржЬржирзАржи ржЕрзНржпрж╛ржХрзНрж╕рзЗрж╕ ржжрзЗржУржпрж╝рж╛ рж╣ржпрж╝ред ржПржЯрж┐ ржПржХржЯрж┐ ржорж╛ржиржЪрж┐рждрзНрж░рзЗ ржЬрж┐ржкрж┐ржПрж╕ ржбрзЗржЯрж╛ ржкрзНрж░ржжрж░рзНрж╢ржи ржХрж░рж╛рж░ ржЬржирзНржп ржкрж░ржмрж░рзНрждрзА ржкрж╛ржарзЗ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж╛ рж╣ржмрзЗред

1.  ржПржЗ ржХрзЛржбрзЗрж░ рж╕рж╛рж╣рж╛ржпрзНржпрзЗ ржЖржорж░рж╛ ржкрзНрж░рждрж┐ржЯрж┐ ржЗржнрзЗржирзНржЯ рж╕ржВрж░ржХрзНрж╖ржг ржХрж░рждрзЗ ржЪрж╛ржЗ (ржпрж╛ ржорж╛ржЯрж┐рж░ ржЖрж░рзНржжрзНрж░рждрж╛ рж╕ржВрж░ржХрзНрж╖ржгрзЗрж░ ржоржд ржирзЯ), рждрж╛ржЗ рж▓ржЧрж┐ржВ рж╕рзНржЯрзЗржЯржорзЗржирзНржЯрзЗрж░ ржирзАржЪрзЗ `ржорзЗржЗржи` ржлрж╛ржВрж╢ржирзЗ `for event in events:` рж▓рзНржпрзБржкрзЗ ржирж┐ржорзНржирзЗрж░ ржХрзЛржб ржпрзЛржЧ ржХрж░рж┐:

    ```python
    device_id = event.iothub_metadata['connection-device-id']
    blob_name = f'{device_id}/{str(uuid.uuid1())}.json'
    ```

ржПржЗ ржХрзЛржбржЯрж┐ ржЗржнрзЗржирзНржЯ ржорзЗржЯрж╛ржбрзЗржЯрж╛ ржерзЗржХрзЗ ржбрж┐ржнрж╛ржЗрж╕ ржЖржЗржбрж┐ ржкрж╛ржпрж╝, рждрж╛рж░ржкрж░ ржПржЯрж┐ ржПржХржЯрж┐ ржмрзНрж▓ржм ржирж╛ржо рждрзИрж░рж┐ ржХрж░рждрзЗ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗред ржмрзНрж▓ржмржЧрзБрж▓рж┐ ржлрзЛрж▓рзНржбрж╛рж░рзЗ рж╕ржВрж░ржХрзНрж╖ржг ржХрж░рж╛ ржпрзЗрждрзЗ ржкрж╛рж░рзЗ ржПржмржВ ржлрзЛрж▓рзНржбрж╛рж░рзЗрж░ ржирж╛ржорзЗрж░ ржЬржирзНржп ржбрж┐ржнрж╛ржЗрж╕ ржЖржЗржбрж┐ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж╛ рж╣ржмрзЗ, рждрж╛ржЗ ржкрзНрж░рждрж┐ржЯрж┐ ржбрж┐ржнрж╛ржЗрж╕рзЗ рждрж╛рж░ рж╕ржорж╕рзНржд ржЬрж┐ржкрж┐ржПрж╕ ржЗржнрзЗржирзНржЯ ржПржХржЯрж┐ ржлрзЛрж▓рзНржбрж╛рж░рзЗ ржерж╛ржХржмрзЗред ржмрзНрж▓ржм ржирж╛ржоржЯрж┐ ржПржЗ ржлрзЛрж▓рзНржбрж╛рж░, ржПрж░ ржкрж░рзЗ ржПржХржЯрж┐ ржбржХрзБржорзЗржирзНржЯрзЗрж░ ржирж╛ржо, ржлрж░ржУржпрж╝рж╛рж░рзНржб рж╕рзНрж▓рзНржпрж╛рж╢ ржжрж┐ржпрж╝рзЗ ржЖрж▓рж╛ржжрж╛, рж▓рж┐ржирж╛ржХрзНрж╕ ржПржмржВ ржорзНржпрж╛ржХржУржПрж╕ ржкрж╛ржерзЗрж░ ржорждрзЛ (ржЙржЗржирзНржбрзЛржЬрзЗрж░ ржорждрзЛржЗ, рждржмрзЗ ржЙржЗржирзНржбрзЛржЬ ржмрзНржпрж╛ржХ рж╕рзНрж▓рзНржпрж╛рж╢ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ)ред ржбржХрзБржорзЗржирзНржЯрзЗрж░ ржирж╛ржо рж╣рж▓ ржПржХржЯрж┐ ржЗржЙржирж┐ржХ ржЖржЗржбрж┐ ржпрж╛ ржкрж╛ржЗржержи `uuid` ржоржбрж┐ржЙрж▓ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ рждрзИрж░рж┐ ржХрж░рж╛ рж╣ржпрж╝, ржпрж╛рж░ ржлрж╛ржЗрж▓ ржЯрж╛ржЗржк `json` ржерж╛ржХрзЗред

    ржпрзЗржоржи, `gps-sensor` ржбрж┐ржнрж╛ржЗрж╕ ID ржПрж░ ржЬржирзНржп, ржмрзНрж▓ржмрзЗрж░ ржирж╛ржо  рж╣рждрзЗ ржкрж╛рж░рзЗ`gps-sensor/a9487ac2-b9cf-11eb-b5cd-1e00621e3648.json` ред

1. ржПрж░ржкрж░ ржирзАржЪрзЗрж░ ржХрзЛржб ржпрзЛржЧ ржХрж░рж┐:

    ```python
    container_client = get_or_create_container('gps-data')
    blob = container_client.get_blob_client(blob_name)
    ```

    ржПрж░ржкрж░ `get_or_create_container` рж╣рзЗрж▓рзНржкрж╛рж░  ржХрзНрж▓рж╛рж╕ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ, ржПржЗ ржХрзЛржбржЯрж┐ ржХржирзНржЯрзЗржЗржирж╛рж░ ржХрзНрж▓рж╛ржпрж╝рзЗржирзНржЯ ржкрж╛ржпрж╝ ржПрж░ржкрж░ blob name  ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ ржмрзНрж▓ржм ржХрзНрж▓рж╛рзЯрзЗржирзНржЯ ржЕржмржЬрзЗржХрзНржЯ ржкрж╛рзЯред ржПржЗ ржмрзНрж▓ржм ржХрзНрж▓рж╛ржпрж╝рзЗржирзНржЯржЧрзБрж▓рзЛ ржмрж┐ржжрзНржпржорж╛ржи ржмрзНрж▓ржм, ржЕржержмрж╛ ржПржЗ ржХрзНрж╖рзЗрждрзНрж░рзЗ, ржирждрзБржи ржмрзНрж▓ржмржХрзЗ рж░рзЗржлрж╛рж░ ржХрж░рждрзЗ ржкрж╛рж░рзЗред

1. рждрж╛рж░ржкрж░ ржирзАржЪрзЗрж░ ржХрзЛржб ржпрзЛржЧ ржХрж░рж┐:

    ```python
    event_body = json.loads(event.get_body().decode('utf-8'))
    blob_body = {
        'device_id' : device_id,
        'timestamp' : event.iothub_metadata['enqueuedtime'],
        'gps': event_body['gps']
    }
    ```

    ржПржЯрж┐ ржмрзНрж▓ржмрзЗрж░ ржмржбрж┐ рждрзИрж░рж┐ ржХрж░рзЗ ржпрж╛рждрзЗ ржмрзНрж▓ржм рж╕рзНржЯрзЛрж░рзЗржЬрзЗ рж▓рзЗржЦрж╛ рж╣ржмрзЗред ржПржЯрж┐ ржПржХржЯрж┐ JSON ржбржХрзБржорзЗржирзНржЯ ржпрж╛ ржбрж┐ржнрж╛ржЗрж╕рзЗрж░ ржЖржЗржбрж┐, ржЯрзЗрж▓рж┐ржорзЗржЯрзНрж░рж┐ ржЖржЗржУржЯрж┐ рж╣рж╛ржм -ржП ржкрж╛ржарж╛ржирзЛрж░ рж╕ржоржпрж╝ ржПржмржВ ржЬрж┐ржкрж┐ржПрж╕ ржЯрзЗрж▓рж┐ржорзЗржЯрзНрж░рж┐ ржерзЗржХрзЗ рж╕ржоржирзНржмржпрж╝ ржХрж░рзЗред

    > ЁЯТБ ржмрж╛рж░рзНрждрж╛ ржкрзНрж░рзЗрж░ржг ржПрж░ рж╕ржорзЯ ржЬрж╛ржирж╛рж░ ржЬржирзНржп ржмрж░рзНрждржорж╛ржи рж╕ржорзЯ ржмрзНржпржмрж╣рж╛рж░ ржирж╛ ржХрж░рзЗ ржмрж░ржВ ржПржЗ ржорзНржпрж╛рж╕рзЗржЬржЧрзБрж▓рзЛрж░  enqueued time ржмрж┐ржмрзЗржЪржирж╛рзЯ ржирзЗрзЯрж╛ ржЧрзБрж░рзБрждрзНржмржкрзВрж░рзНржгред ржлрж╛ржВрж╢ржи ржЕрзНржпрж╛ржк ржЪрж╛рж▓рзБ ржирж╛ ржерж╛ржХрж▓рзЗ ржПржЯрж┐ ржЧрзГрж╣рж┐ржд рж╣ржУрзЯрж╛рж░ ржЖржЧрзЗ ржХрж┐ржЫрзБржХрзНрж╖ржгрзЗрж░ ржЬржирзНржп ржЖржЗржУржЯрж┐ рж╣рж╛ржмрзЗ ржерж╛ржХрждрзЗ ржкрж╛рж░рзЗред

1. ржПржмрж╛рж░ ржирзАржЪрзЗрж░ ржХрзЛржб ржпрзЛржЧ ржХрж░рж┐:

    ```python
    logging.info(f'Writing blob to {blob_name} - {blob_body}')
    blob.upload_blob(json.dumps(blob_body).encode('utf-8'))
    ```

    ржПржЗ ржХрзЛржбржЯрж┐ рж▓ржЧ ржХрж░рзЗ ржпрзЗ ржПржХржЯрж┐ ржмрзНрж▓ржм рждрж╛рж░ ржмрж┐рж╢ржж ржмрж┐ржмрж░ржг рж╕рж╣ рждрзИрж░рзА рж╣рждрзЗ ржЪрж▓рзЗржЫрзЗ, рждрж╛рж░ржкрж░ ржирждрзБржи ржмрзНрж▓ржмрзЗрж░ ржмрж┐рж╖ржпрж╝ржмрж╕рзНрждрзБ рж╣рж┐рж╕рж╛ржмрзЗ ржмрзНрж▓ржм ржмржбрж┐ ржЖржкрж▓рзЛржб ржХрж░рзЗред

1. ржПржЦржи ржлрж╛ржВрж╢ржи ржЕрзНржпрж╛ржк рж░рж╛ржи ржХрж░рж┐ред ржЖржЙржЯржкрзБржЯрзЗ рж╕ржорж╕рзНржд ржЬрж┐ржкрж┐ржПрж╕ ржЗржнрзЗржирзНржЯрзЗрж░ ржЬржирзНржп ржмрзНрж▓ржм рж▓рзЗржЦрж╛ ржжрзЗржЦрж╛ ржпрж╛ржмрзЗ:

    ```output
    [2021-05-21T01:31:14.325Z] Python EventHub trigger processed an event: {"gps": {"lat": 47.73092, "lon": -122.26206}}
    ...
    [2021-05-21T01:31:14.351Z] Writing blob to gps-sensor/4b6089fe-ba8d-11eb-bc7b-1e00621e3648.json - {'device_id': 'gps-sensor', 'timestamp': '2021-05-21T00:57:53.878Z', 'gps': {'lat': 47.73092, 'lon': -122.26206}}
    ```

    > ЁЯТБ рж╕рждрж░рзНржХ ржерж╛ржХрждрзЗ рж╣ржмрзЗ ржпрзЗ ржЖржорж░рж╛ ржПржХржЗ рж╕ржоржпрж╝рзЗ IoT Hub ржЗржнрзЗржирзНржЯ ржоржирж┐ржЯрж░ржЯрж┐ ржЪрж╛рж▓рж╛ржЪрзНржЫрж┐ ржирж╛ред

> ЁЯТБ рж╕ржХрж▓ ржХрзЛржб [code/functions](code/functions) ржлрзЛрж▓рзНржбрж╛рж░рзЗ рж░рзЯрзЗржЫрзЗред

### ржХрж╛ржЬ - ржЖржкрж▓рзЛржб ржХрж░рж╛ ржмрзНрж▓ржм ржпрж╛ржЪрж╛ржЗржХрж░ржг

1. рждрзИрж░рж┐ ржмрзНрж▓ржмржЧрзБрж▓рж┐ ржжрзЗржЦрждрзЗ, ржЖржорж░рж╛ [Azure Storage Explorer](https://azure.microsoft.com/features/storage-explorer/?WT.mc_id=academic-17441-jabenn),ржПржХржЯрж┐ ржлрзНрж░рж┐ ржЯрзБрж▓ ржпрж╛ рж╕рзНржЯрзЛрж░рзЗржЬ ржЕрзНржпрж╛ржХрж╛ржЙржирзНржЯржЧрзБрж▓рж┐ ржжрзЗржЦрждрзЗ ржПржмржВ ржкрж░рж┐ржЪрж╛рж▓ржирж╛ ржХрж░рждрзЗ ржжрзЗржпрж╝ рждрж╛ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рждрзЗ ржкрж╛рж░рж┐ ржЕржержмрж╛ рж╕рж░рж╛рж╕рж░рж┐ CLI ржерзЗржХрзЗржУ ржХрж╛ржЬ ржХрж░рж╛ ржпрж╛рзЯред

    1. CLI ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж╛рж░ ржЬржирзНржп ржкрзНрж░ржержорзЗ ржПржХржЯрж┐ ржЕрзНржпрж╛ржХрж╛ржЙржирзНржЯ ржХрзА (KEY) ржкрзНрж░ржпрж╝рзЛржЬржи рж╣ржмрзЗред ржПржЗ ржХрзА ржкрзЗрждрзЗ ржирж┐ржорзНржирж▓рж┐ржЦрж┐ржд ржХржорж╛ржирзНржбржЯрж┐ ржЪрж╛рж▓рж╛ржЗ:

        ```sh
        az storage account keys list --output table \
                                     --account-name <storage_name>
        ```

        `<storage_name>` ржПрж░ рж╕рзНржерж▓рзЗ ржЖржорж╛ржжрзЗрж░ ржмрзНржпржмрж╣рзГржд рж╕рзНржЯрзЛрж░рзЗржЬрзЗрж░ ржирж╛ржоржЯрж┐ржЗ ржжрж┐рждрзЗ  рж╣ржмрзЗред

        `key1`  ржПрж░ ржнрзНржпрж╛рж▓рзБ ржХржкрж┐ ржХрж░рзЗ рж░рж╛ржЦрж┐ред

    1. ржХржирзНржЯрзЗржЗржирж╛рж░рзЗ ржмрзНрж▓ржмржЧрзБрж▓рж┐ рждрж╛рж▓рж┐ржХрж╛ржнрзБржХрзНржд ржХрж░рждрзЗ ржирж┐ржорзНржирж▓рж┐ржЦрж┐ржд ржХржорж╛ржирзНржбржЯрж┐ ржЪрж╛рж▓рж╛ржЗржГ

        ```sh
        az storage blob list --container-name gps-data \
                             --output table \
                             --account-name <storage_name> \
                             --account-key <key1>
        ```

        `<storage_name>` ржПрж░ рж╕рзНржерж▓рзЗ ржЖржорж╛ржжрзЗрж░ ржмрзНржпржмрж╣рзГржд рж╕рзНржЯрзЛрж░рзЗржЬрзЗрж░ ржирж╛ржоржЯрж┐ржЗ ржжрж┐рждрзЗ  рж╣ржмрзЗ ржПржмржВ  `<key1>` ржПрж░ ржЬрж╛рзЯржЧрж╛рзЯ ржЖржЧрзЗрж░ ржзрж╛ржкрзЗ ржХржкрж┐ ржХрж░рж╛ ржорж╛ржиржЯрж┐ ржмрж╕рж╛рждрзЗ рж╣ржмрзЗред

        ржПржЯрж┐ рж╕ржорж╕рзНржд ржмрзНрж▓ржмржЧрзБрж▓рж┐ рждрж╛рж▓рж┐ржХрж╛ржнрзБржХрзНржд ржХрж░ржмрзЗ:

        ```output
        Name                                                  Blob Type    Blob Tier    Length    Content Type              Last Modified              Snapshot
        ----------------------------------------------------  -----------  -----------  --------  ------------------------  -------------------------  ----------
        gps-sensor/1810d55e-b9cf-11eb-9f5b-1e00621e3648.json  BlockBlob    Hot          45        application/octet-stream  2021-05-21T00:54:27+00:00
        gps-sensor/18293e46-b9cf-11eb-9f5b-1e00621e3648.json  BlockBlob    Hot          45        application/octet-stream  2021-05-21T00:54:28+00:00
        gps-sensor/1844549c-b9cf-11eb-9f5b-1e00621e3648.json  BlockBlob    Hot          45        application/octet-stream  2021-05-21T00:54:28+00:00
        gps-sensor/1894d714-b9cf-11eb-9f5b-1e00621e3648.json  BlockBlob    Hot          45        application/octet-stream  2021-05-21T00:54:28+00:00
        ```

    1. ржирж┐ржорзНржирж▓рж┐ржЦрж┐ржд ржХржорж╛ржирзНржб ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ ржПржХржЯрж┐ ржмрзНрж▓ржм ржбрж╛ржЙржирж▓рзЛржб ржХрж░рж┐:

        ```sh
        az storage blob download --container-name gps-data \
                                 --account-name <storage_name> \
                                 --account-key <key1> \
                                 --name <blob_name> \
                                 --file <file_name>
        ```

        `<storage_name>` ржПрж░ рж╕рзНржерж▓рзЗ ржЖржорж╛ржжрзЗрж░ ржмрзНржпржмрж╣рзГржд рж╕рзНржЯрзЛрж░рзЗржЬрзЗрж░ ржирж╛ржоржЯрж┐ржЗ ржжрж┐рждрзЗ  рж╣ржмрзЗ ржПржмржВ  `<key1>` ржПрж░ ржЬрж╛рзЯржЧрж╛рзЯ ржЖржЧрзЗрж░ ржзрж╛ржкрзЗ ржХржкрж┐ ржХрж░рж╛ ржорж╛ржиржЯрж┐ ржмрж╕рж╛рждрзЗ рж╣ржмрзЗред

       ржЖрж░ `<blob_name>` ржПрж░ ржкрж░рж┐ржмрж░рзНрждрзЗ ржХрж╛ржЬрзЗрж░  ржкрзВрж░рзНржмржмрж░рзНрждрзА ржзрж╛ржкрзЗрж░  `Name` ржХрж▓рж╛ржорзЗрж░ ржЖржЙржЯржкрзБржЯржЯрж┐ ржмрж╕рж╛ржЗ ржлрзЛрж▓рзНржбрж╛рж░рзЗрж░ ржирж╛ржо рж╕рж╣ред ржПржХрзНрж╖рзЗрждрзНрж░рзЗ  ржмрзНрж▓ржм рж╕ржВрж░ржХрзНрж╖ржг ржХрж░рждрзЗ `<file_name>` ржПрж░ ржЬрж╛рзЯржЧрж╛рзЯ ржПржХржЯрж┐ рж▓рзЛржХрж╛рж▓ ржлрж╛ржЗрж▓рзЗрж░ ржЬржирзНржп ржирж╛ржо ржжрж┐ржЗред

    ржПржХржмрж╛рж░ ржбрж╛ржЙржирж▓рзЛржб рж╣ржпрж╝рзЗ ржЧрзЗрж▓рзЗ, ржЖржорж░рж╛ VS ржХрзЛржбрзЗ JSON ржлрж╛ржЗрж▓ржЯрж┐ ржЦрзБрж▓рждрзЗ ржкрж╛рж░ржм ржПржмржВ ржЖржорж░рж╛ ржЬрж┐ржкрж┐ржПрж╕ ржЕржмрж╕рзНржерж╛ржирзЗрж░ ржмрж┐ржмрж░ржг рж╕рж╣ ржмрзНрж▓ржм ржжрзЗржЦрждрзЗ ржкрж╛ржм:

    ```json
    {"device_id": "gps-sensor", "timestamp": "2021-05-21T00:57:53.878Z", "gps": {"lat": 47.73092, "lon": -122.26206}}
    ```

### ржХрж╛ржЬ - ржХрзНрж▓рж╛ржЙржбрзЗ ржлрж╛ржВрж╢ржи ржПржк ржбрзЗржкрзНрж▓рзЯ ржХрж░рж╛

ржПржЦржи ржпрзЗрж╣рзЗрждрзБ ржлрж╛ржВрж╢ржи ржЕрзНржпрж╛ржкржЯрж┐ ржХрж╛ржЬ ржХрж░ржЫрзЗ, ржЖржорж░рж╛ ржПржЯрж┐ржХрзЗ ржХрзНрж▓рж╛ржЙржбрзЗ ржбрзЗржкрзНрж▓рзЯ ржХрж░рждрзЗ ржкрж╛рж░рж┐ред

1. ржЖржЧрзЗ рждрзИрж░рж┐ ржХрж░рж╛ рж╕рзНржЯрзЛрж░рзЗржЬ ржЕрзНржпрж╛ржХрж╛ржЙржирзНржЯ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ ржирждрзБржи Azure ржлрж╛ржВрж╢ржи ржЕрзНржпрж╛ржк рждрзИрж░рж┐ ржХрж░рж╛ ржпрж╛ржХред ржПржЯрж┐рж░ ржирж╛ржо ржжрж┐ржЗ `gps-sensor-` ржПржмржВ ржПрж░ рж╢рзЗрж╖рзЗ ржХрзЛржи ржЗржЙржирж┐ржХ ржирж╛ржо ржмрж╛ рж╕ржВржЦрзНржпрж╛ ржпрзЛржЧ ржХрж░рзЗ ржжрж┐ржЗред

    > тЪая╕П ржПржХрзНрж╖рзЗрждрзНрж░рзЗ [ржкрзНрж░ржЬрзЗржХрзНржЯ-рзи рж▓рзЗрж╕ржи-рзл ржерзЗржХрзЗ ржлрж╛ржВрж╢ржи ржбрзЗржкрзНрж▓рзЯ ржХрж░рж╛рж░ ржирж┐рж░рзНржжрзЗрж╢рж╛ржмрж▓рж┐](../../../../2-farm/lessons/5-migrate-application-to-the-cloud/README.md#task---create-the-cloud-resources) ржЕржирзБрж╕рж░ржг ржХрж░рж╛ ржпрж╛ржмрзЗред

1. `IOT_HUB_CONNECTION_STRING` ржПржмржВ `STORAGE_CONNECTION_STRING` ржнрзНржпрж╛рж▓рзБржЧрзБрж▓рзЛ ржПржкрзНрж▓рж┐ржХрзЗрж╢ржи рж╕рзЗржЯрж┐ржВрж╕ ржП ржЖржкрж▓рзЛржб ржХрж░рж┐ред

    > тЪая╕П ржПржХрзНрж╖рзЗрждрзНрж░рзЗ [ржкрзНрж░ржЬрзЗржХрзНржЯ-рзи рж▓рзЗрж╕ржи-рзл ржерзЗржХрзЗ ржПржкрзНрж▓рж┐ржХрзЗрж╢ржи рж╕рзЗржЯрж┐ржВрж╕  ржЖржкрж▓рзЛржб ржХрж░рж╛рж░ ржирж┐рж░рзНржжрзЗрж╢рж╛ржмрж▓рж┐](../../../../2-farm/lessons/5-migrate-application-to-the-cloud/README.md#task---upload-your-application-settings) ржЕржирзБрж╕рж░ржг ржХрж░рж╛ ржпрж╛ржмрзЗред

1. рзНрж▓рзЛржХрж╛рж▓ ржлрж╛ржВрж╢ржи ржПржк ржХрзЗ ржХрзНрж▓рж╛ржЙржбрзЗ ржбрзЗржкрзНрж▓рзЯ ржХрж░рж┐ред

    > тЪая╕П ржПржХрзНрж╖рзЗрждрзНрж░рзЗ [ржкрзНрж░ржЬрзЗржХрзНржЯ-рзи рж▓рзЗрж╕ржи-рзл ржерзЗржХрзЗ ржлрж╛ржВрж╢ржи ржПржк ржХрзЗ ржХрзНрж▓рж╛ржЙржбрзЗ ржбрзЗржкрзНрж▓рзЯ ржХрж░рж╛рж░ ржирж┐рж░рзНржжрзЗрж╢рж╛ржмрж▓рж┐](../../../../2-farm/lessons/5-migrate-application-to-the-cloud/README.md#task---deploy-your-functions-app-to-the-cloud) ржЕржирзБрж╕рж░ржг ржХрж░рж╛ ржпрж╛ржмрзЗред

---

## ЁЯЪА ржЪрзНржпрж╛рж▓рзЗржЮрзНржЬ

ржЬрж┐ржкрж┐ржПрж╕ ржбрзЗржЯрж╛ ржкрзБрж░рзЛржкрзБрж░рж┐ рж╕ржарж┐ржХ ржиржпрж╝, ржПржмржВ рж╕ржирж╛ржХрзНржд ржХрж░рж╛ ржЕржмрж╕рзНржерж╛ржиржЧрзБрж▓рж┐ ржХржпрж╝рзЗржХ ржорж┐ржЯрж╛рж░ ржкрж░рзНржпржирзНржд ржнрзБрж▓ рж╣рждрзЗ ржкрж╛рж░рзЗ,  ржЖрж░ ржЯрж╛ржирзЗрж▓ ржПржмржВ рж▓ржорзНржмрж╛ ржнржмржирзЗрж░ ржПрж▓рж╛ржХрж╛ржпрж╝ рждрж╛ ржЖрж░рзЛ ржмрзЗрж╢рж┐ рж╣рзЯрзЗ ржерж╛ржХрзЗред

рж╕рзНржпрж╛ржЯрзЗрж▓рж╛ржЗржЯ ржирзЗржнрж┐ржЧрзЗрж╢ржи ржХрзАржнрж╛ржмрзЗ ржПржЯрж┐ ржХрж╛ржЯрж┐ржпрж╝рзЗ ржЙржарждрзЗ ржкрж╛рж░рзЗ рж╕рзЗ рж╕ржорзНржкрж░рзНржХрзЗ ржЪрж┐ржирзНрждрж╛ ржХрж░рж┐ред ржЖржорж╛ржжрзЗрж░ sat-nav ржПрж░ ржХрзЛржи ржбрзЗржЯрж╛ ржЖржЫрзЗ ржпрж╛ ржПржЯрж┐ ржЖржорж╛ржжрзЗрж░ржХрзЗ ржЕржмрж╕рзНржерж╛ржирзЗрзНрж░ ржмрзНржпрж╛ржкрж╛рж░рзЗ ржЖрж░ржУ ржнрж╛рж▓ ржнржмрж┐рж╖рзНржпржжрзНржмрж╛ржгрзА ржХрж░рждрзЗ ржжрзЗржпрж╝?

## рж▓рзЗржХржЪрж╛рж░-ржкрж░ржмрж░рзНрждрзА ржХрзБржЗржЬ

[рж▓рзЗржХржЪрж╛рж░-ржкрж░ржмрж░рзНрждрзА ржХрзБржЗржЬ](https://thankful-pond-0eba8f10f.1.azurestaticapps.net/quiz/24)

##  рж░рж┐ржнрж┐ржЙ ржПржмржВ рж╕рзНржм-ржЕржзрзНржпрзЯржи

* ржХрж╛ржарж╛ржорзЛржЧржд ржбрзЗржЯрж╛ ржПрж░ ржмрзНржпрж╛ржкрж╛рж░рзЗ [Data model - Wikipedia](https://wikipedia.org/wiki/Data_model) ржерзЗржХрзЗ ржкрзЬрждрзЗ ржкрж╛рж░рж┐ред
* Semi-structured ржбрзЗржЯрж╛  ржПрж░ ржмрзНржпрж╛ржкрж╛рж░рзЗ [Semi-structured data - Wikipedia](https://wikipedia.org/wiki/Semi-structured_data) ржерзЗржХрзЗ ржкрзЬрждрзЗ ржкрж╛рж░рж┐ред
* ржХрж╛ржарж╛ржорзЛржмрж┐рж╣рзАржи ржбрзЗржЯрж╛ ржПрж░ ржмрзНржпрж╛ржкрж╛рж░рзЗ [Unstructured data - Wikipedia](https://wikipedia.org/wiki/Unstructured_data) ржерзЗржХрзЗ ржкрзЬрждрзЗ ржкрж╛рж░рж┐ред
* Azure Storage ржПржмржВ ржмрж┐ржнрж┐ржирзНржи ржзрж░ржгрзЗрж░ рж╕рзНржЯрзЛрж░рзЗржЬ рж╕ржорзНржкрж░рзНржХрзЗ [Azure Storage documentation](https://docs.microsoft.com/azure/storage/?WT.mc_id=academic-17441-jabenn) ржерзЗржХрзЗ ржкрзЬрждрзЗ ржкрж╛рж░рж┐ред

## ржПрж╕рж╛ржЗржиржорзЗржирзНржЯ

[ржлрж╛ржВрж╢ржи ржмрж╛ржЗржирзНржбрж┐ржВ ржкрж░рзНржпрж╛рж▓рзЛржЪржирж╛](assignment.bn.md)
